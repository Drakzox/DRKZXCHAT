const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/300-C5gg-v_7.css","assets/400-BC_fL8IF.css","assets/500-DgfOAsge.css","assets/600-PTrDqKTx.css","assets/700-CIGEMFSW.css","assets/400-italic-7N065xE3.css","assets/400-jogUYdIq.css","assets/700-CRjfULj2.css","assets/400-italic-hmU3qq8m.css","assets/400-ha7CQ9cv.css","assets/700-DsSirsOX.css","assets/400-italic-DxkLB2Ru.css","assets/400-DkaLYUhk.css","assets/700-wyG-tIx5.css","assets/400-italic-DwxM2L4k.css","assets/400-8kPS_VLJ.css","assets/700-BUUOv45w.css","assets/400-italic-CUuTyvy-.css","assets/300-BBO42534.css","assets/400-g3lsg3LJ.css","assets/600-B7FdSRsr.css","assets/700-Bwx_7T9a.css","assets/300-DfT0N2fg.css","assets/400-B98aH9on.css","assets/700-BzPxvB7T.css","assets/400-italic-Ccyz6anR.css","assets/300-B4ErUKoi.css","assets/400-B_8rkVN_.css","assets/700-BgI0KQJA.css","assets/300-BgUyuKbY.css","assets/400-j8c_qM6I.css","assets/600-Bng7-V6L.css","assets/700-CqnyMAme.css","assets/400-italic-Bp4kcG4t.css","assets/300-CopYllI7.css","assets/400-Bj2RnUfa.css","assets/600-CCUPuj8L.css","assets/700-q4yigP0H.css","assets/400-italic-heUdzyBE.css","assets/300-B5giHscn.css","assets/400-XUQc5U0z.css","assets/600-DMt3fyAQ.css","assets/700-DIm3LT8P.css","assets/400-italic-Cm5dBqtb.css","assets/300-XH9vLCGO.css","assets/400--tlcaqPD.css","assets/500-CxKRjTkO.css","assets/700-5mSQWxuz.css","assets/400-italic-dF_YM08U.css","assets/300-CjEfqGub.css","assets/400-CrWJpHON.css","assets/700-ncrggF_O.css","assets/400-italic-BbI-O7qj.css","assets/index-7YHApKcc.css","assets/index-DUxZOeaW.css","assets/400-C9BTiT5g.css","assets/400-D445DEWg.css","assets/400-O9RVKdJ1.css","assets/400-BtjK00Su.css","assets/400-DxO1M3_X.css","assets/400-DcsMPX22.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const Ct={context:void 0,registry:void 0,effects:void 0,done:!1,getContextId(){return YT(this.context.count)},getNextContextId(){return YT(this.context.count++)}};function YT(t){const e=String(t),n=e.length-1;return Ct.context.id+(n?String.fromCharCode(96+n):"")+e}function Ap(t){Ct.context=t}const tZ=!1,nZ=(t,e)=>t===e,ul=Symbol("solid-proxy"),y$=typeof Proxy=="function",x0=Symbol("solid-track"),Sy={equals:nZ};let qp=null,O$=_$;const Da=1,_0=2,w$={owned:null,cleanups:null,context:null,owner:null},hk={};var tn=null;let ht=null,rZ=null,jn=null,ms=null,Di=null,mO=0;function ol(t,e){const n=jn,r=tn,i=t.length===0,s=e===void 0?r:e,o=i?w$:{owned:null,cleanups:null,context:s?s.context:null,owner:s},a=i?t:()=>t(()=>Gn(()=>ld(o)));tn=o,jn=null;try{return Bo(a,!0)}finally{jn=n,tn=r}}function ve(t,e){e=e?Object.assign({},Sy,e):Sy;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},r=i=>(typeof i=="function"&&(ht&&ht.running&&ht.sources.has(n)?i=i(n.tValue):i=i(n.value)),x$(n,i));return[S$.bind(n),r]}function Ji(t,e,n){const r=_v(t,e,!0,Da);vg(r)}function Te(t,e,n){const r=_v(t,e,!1,Da);vg(r)}function dt(t,e,n){O$=hZ;const r=_v(t,e,!1,Da),i=Ah&&Nn(Ah);i&&(r.suspense=i),(!n||!n.render)&&(r.user=!0),Di?Di.push(r):vg(r)}function ke(t,e,n){n=n?Object.assign({},Sy,n):Sy;const r=_v(t,e,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,vg(r),S$.bind(r)}function iZ(t){return t&&typeof t=="object"&&"then"in t}function sZ(t,e,n){let r,i,s;typeof e=="function"?(r=t,i=e,s={}):(r=!0,i=t,s=e||{});let o=null,a=hk,l=null,c=!1,d=!1,h="initialValue"in s,f=typeof r=="function"&&ke(r);const m=new Set,[g,p]=(s.storage||ve)(s.initialValue),[v,b]=ve(void 0),[y,C]=ve(void 0,{equals:!1}),[x,O]=ve(h?"ready":"unresolved");Ct.context&&(l=Ct.getNextContextId(),s.ssrLoadFrom==="initial"?a=s.initialValue:Ct.load&&Ct.has(l)&&(a=Ct.load(l)));function S(L,j,te,U){return o===L&&(o=null,U!==void 0&&(h=!0),(L===a||j===a)&&s.onHydrated&&queueMicrotask(()=>s.onHydrated(U,{value:j})),a=hk,ht&&L&&c?(ht.promises.delete(L),c=!1,Bo(()=>{ht.running=!0,T(j,te)},!1)):T(j,te)),j}function T(L,j){Bo(()=>{j===void 0&&p(()=>L),O(j!==void 0?"errored":h?"ready":"unresolved"),b(j);for(const te of m.keys())te.decrement();m.clear()},!1)}function $(){const L=Ah&&Nn(Ah),j=g(),te=v();if(te!==void 0&&!o)throw te;return jn&&!jn.user&&L&&Ji(()=>{y(),o&&(L.resolved&&ht&&c?ht.promises.add(o):m.has(L)||(L.increment(),m.add(L)))}),j}function M(L=!0){if(L!==!1&&d)return;d=!1;const j=f?f():r;if(c=ht&&ht.running,j==null||j===!1){S(o,Gn(g));return}ht&&o&&ht.promises.delete(o);const te=a!==hk?a:Gn(()=>i(j,{value:g(),refetching:L}));return iZ(te)?(o=te,"value"in te?(te.status==="success"?S(o,te.value,void 0,j):S(o,void 0,K4(te.value),j),te):(d=!0,queueMicrotask(()=>d=!1),Bo(()=>{O(h?"refreshing":"pending"),C()},!1),te.then(U=>S(te,U,void 0,j),U=>S(te,void 0,K4(U),j)))):(S(o,te,void 0,j),te)}Object.defineProperties($,{state:{get:()=>x()},error:{get:()=>v()},loading:{get(){const L=x();return L==="pending"||L==="refreshing"}},latest:{get(){if(!h)return $();const L=v();if(L&&!o)throw L;return g()}}});let P=tn;return f?Ji(()=>(P=tn,M(!1))):M(!1),[$,{refetch:L=>gO(P,()=>M(L)),mutate:p}]}function Nt(t){return Bo(t,!1)}function Gn(t){if(jn===null)return t();const e=jn;jn=null;try{return t()}finally{jn=e}}function Zt(t,e,n){const r=Array.isArray(t);let i,s=n&&n.defer;return o=>{let a;if(r){a=Array(t.length);for(let c=0;c<t.length;c++)a[c]=t[c]()}else a=t();if(s)return s=!1,o;const l=Gn(()=>e(a,i,o));return i=a,l}}function Tn(t){dt(()=>Gn(t))}function wt(t){return tn===null||(tn.cleanups===null?tn.cleanups=[t]:tn.cleanups.push(t)),t}function oZ(t,e){qp||(qp=Symbol("error")),tn=_v(void 0,void 0,!0),tn.context={...tn.context,[qp]:[e]},ht&&ht.running&&ht.sources.add(tn);try{return t()}catch(n){Cv(n)}finally{tn=tn.owner}}function xy(){return jn}function Gr(){return tn}function gO(t,e){const n=tn,r=jn;tn=t,jn=null;try{return Bo(e,!0)}catch(i){Cv(i)}finally{tn=n,jn=r}}function k$(t){if(ht&&ht.running)return t(),ht.done;const e=jn,n=tn;return Promise.resolve().then(()=>{jn=e,tn=n;let r;return Ah&&(r=ht||(ht={sources:new Set,effects:[],promises:new Set,disposed:new Set,queue:new Set,running:!0}),r.done||(r.done=new Promise(i=>r.resolve=i)),r.running=!0),Bo(t,!1),jn=tn=null,r?r.done:void 0})}const[aZ,GT]=ve(!1);function lZ(){return[aZ,k$]}function cZ(t){Di.push.apply(Di,t),t.length=0}function yr(t,e){const n=Symbol("context");return{id:n,Provider:fZ(n),defaultValue:t}}function Nn(t){let e;return tn&&tn.context&&(e=tn.context[t.id])!==void 0?e:t.defaultValue}function xv(t){const e=ke(t),n=ke(()=>J4(e()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}let Ah;function uZ(){return Ah||(Ah=yr())}function S$(){const t=ht&&ht.running;if(this.sources&&(t?this.tState:this.state))if((t?this.tState:this.state)===Da)vg(this);else{const e=ms;ms=null,Bo(()=>Cy(this),!1),ms=e}if(jn){const e=this.observers?this.observers.length:0;jn.sources?(jn.sources.push(this),jn.sourceSlots.push(e)):(jn.sources=[this],jn.sourceSlots=[e]),this.observers?(this.observers.push(jn),this.observerSlots.push(jn.sources.length-1)):(this.observers=[jn],this.observerSlots=[jn.sources.length-1])}return t&&ht.sources.has(this)?this.tValue:this.value}function x$(t,e,n){let r=ht&&ht.running&&ht.sources.has(t)?t.tValue:t.value;if(!t.comparator||!t.comparator(r,e)){if(ht){const i=ht.running;(i||!n&&ht.sources.has(t))&&(ht.sources.add(t),t.tValue=e),i||(t.value=e)}else t.value=e;t.observers&&t.observers.length&&Bo(()=>{for(let i=0;i<t.observers.length;i+=1){const s=t.observers[i],o=ht&&ht.running;o&&ht.disposed.has(s)||((o?!s.tState:!s.state)&&(s.pure?ms.push(s):Di.push(s),s.observers&&C$(s)),o?s.tState=Da:s.state=Da)}if(ms.length>1e6)throw ms=[],new Error},!1)}return e}function vg(t){if(!t.fn)return;ld(t);const e=mO;ZT(t,ht&&ht.running&&ht.sources.has(t)?t.tValue:t.value,e),ht&&!ht.running&&ht.sources.has(t)&&queueMicrotask(()=>{Bo(()=>{ht&&(ht.running=!0),jn=tn=t,ZT(t,t.tValue,e),jn=tn=null},!1)})}function ZT(t,e,n){let r;const i=tn,s=jn;jn=tn=t;try{r=t.fn(e)}catch(o){return t.pure&&(ht&&ht.running?(t.tState=Da,t.tOwned&&t.tOwned.forEach(ld),t.tOwned=void 0):(t.state=Da,t.owned&&t.owned.forEach(ld),t.owned=null)),t.updatedAt=n+1,Cv(o)}finally{jn=s,tn=i}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?x$(t,r,!0):ht&&ht.running&&t.pure?(ht.sources.add(t),t.tValue=r):t.value=r,t.updatedAt=n)}function _v(t,e,n,r=Da,i){const s={fn:t,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:tn,context:tn?tn.context:null,pure:n};return ht&&ht.running&&(s.state=0,s.tState=r),tn===null||tn!==w$&&(ht&&ht.running&&tn.pure?tn.tOwned?tn.tOwned.push(s):tn.tOwned=[s]:tn.owned?tn.owned.push(s):tn.owned=[s]),s}function _y(t){const e=ht&&ht.running;if((e?t.tState:t.state)===0)return;if((e?t.tState:t.state)===_0)return Cy(t);if(t.suspense&&Gn(t.suspense.inFallback))return t.suspense.effects.push(t);const n=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<mO);){if(e&&ht.disposed.has(t))return;(e?t.tState:t.state)&&n.push(t)}for(let r=n.length-1;r>=0;r--){if(t=n[r],e){let i=t,s=n[r+1];for(;(i=i.owner)&&i!==s;)if(ht.disposed.has(i))return}if((e?t.tState:t.state)===Da)vg(t);else if((e?t.tState:t.state)===_0){const i=ms;ms=null,Bo(()=>Cy(t,n[0]),!1),ms=i}}}function Bo(t,e){if(ms)return t();let n=!1;e||(ms=[]),Di?n=!0:Di=[],mO++;try{const r=t();return dZ(n),r}catch(r){n||(Di=null),ms=null,Cv(r)}}function dZ(t){if(ms&&(_$(ms),ms=null),t)return;let e;if(ht){if(!ht.promises.size&&!ht.queue.size){const r=ht.sources,i=ht.disposed;Di.push.apply(Di,ht.effects),e=ht.resolve;for(const s of Di)"tState"in s&&(s.state=s.tState),delete s.tState;ht=null,Bo(()=>{for(const s of i)ld(s);for(const s of r){if(s.value=s.tValue,s.owned)for(let o=0,a=s.owned.length;o<a;o++)ld(s.owned[o]);s.tOwned&&(s.owned=s.tOwned),delete s.tValue,delete s.tOwned,s.tState=0}GT(!1)},!1)}else if(ht.running){ht.running=!1,ht.effects.push.apply(ht.effects,Di),Di=null,GT(!0);return}}const n=Di;Di=null,n.length&&Bo(()=>O$(n),!1),e&&e()}function _$(t){for(let e=0;e<t.length;e++)_y(t[e])}function hZ(t){let e,n=0;for(e=0;e<t.length;e++){const r=t[e];r.user?t[n++]=r:_y(r)}if(Ct.context){if(Ct.count){Ct.effects||(Ct.effects=[]),Ct.effects.push(...t.slice(0,n));return}Ap()}for(Ct.effects&&(Ct.done||!Ct.count)&&(t=[...Ct.effects,...t],n+=Ct.effects.length,delete Ct.effects),e=0;e<n;e++)_y(t[e])}function Cy(t,e){const n=ht&&ht.running;n?t.tState=0:t.state=0;for(let r=0;r<t.sources.length;r+=1){const i=t.sources[r];if(i.sources){const s=n?i.tState:i.state;s===Da?i!==e&&(!i.updatedAt||i.updatedAt<mO)&&_y(i):s===_0&&Cy(i,e)}}}function C$(t){const e=ht&&ht.running;for(let n=0;n<t.observers.length;n+=1){const r=t.observers[n];(e?!r.tState:!r.state)&&(e?r.tState=_0:r.state=_0,r.pure?ms.push(r):Di.push(r),r.observers&&C$(r))}}function ld(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),r=t.sourceSlots.pop(),i=n.observers;if(i&&i.length){const s=i.pop(),o=n.observerSlots.pop();r<i.length&&(s.sourceSlots[o]=r,i[r]=s,n.observerSlots[r]=o)}}if(t.tOwned){for(e=t.tOwned.length-1;e>=0;e--)ld(t.tOwned[e]);delete t.tOwned}if(ht&&ht.running&&t.pure)E$(t,!0);else if(t.owned){for(e=t.owned.length-1;e>=0;e--)ld(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}ht&&ht.running?t.tState=0:t.state=0}function E$(t,e){if(e||(t.tState=0,ht.disposed.add(t)),t.owned)for(let n=0;n<t.owned.length;n++)E$(t.owned[n])}function K4(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function KT(t,e,n){try{for(const r of e)r(t)}catch(r){Cv(r,n&&n.owner||null)}}function Cv(t,e=tn){const n=qp&&e&&e.context&&e.context[qp],r=K4(t);if(!n)throw r;Di?Di.push({fn(){KT(r,n,e)},state:Da}):KT(r,n,e)}function J4(t){if(typeof t=="function"&&!t.length)return J4(t());if(Array.isArray(t)){const e=[];for(let n=0;n<t.length;n++){const r=J4(t[n]);Array.isArray(r)?e.push.apply(e,r):e.push(r)}return e}return t}function fZ(t,e){return function(r){let i;return Te(()=>i=Gn(()=>(tn.context={...tn.context,[t]:r.value},xv(()=>r.children))),void 0),i}}const ex=Symbol("fallback");function Ey(t){for(let e=0;e<t.length;e++)t[e]()}function mZ(t,e,n={}){let r=[],i=[],s=[],o=0,a=e.length>1?[]:null;return wt(()=>Ey(s)),()=>{let l=t()||[],c=l.length,d,h;return l[x0],Gn(()=>{let m,g,p,v,b,y,C,x,O;if(c===0)o!==0&&(Ey(s),s=[],r=[],i=[],o=0,a&&(a=[])),n.fallback&&(r=[ex],i[0]=ol(S=>(s[0]=S,n.fallback())),o=1);else if(o===0){for(i=new Array(c),h=0;h<c;h++)r[h]=l[h],i[h]=ol(f);o=c}else{for(p=new Array(c),v=new Array(c),a&&(b=new Array(c)),y=0,C=Math.min(o,c);y<C&&r[y]===l[y];y++);for(C=o-1,x=c-1;C>=y&&x>=y&&r[C]===l[x];C--,x--)p[x]=i[C],v[x]=s[C],a&&(b[x]=a[C]);for(m=new Map,g=new Array(x+1),h=x;h>=y;h--)O=l[h],d=m.get(O),g[h]=d===void 0?-1:d,m.set(O,h);for(d=y;d<=C;d++)O=r[d],h=m.get(O),h!==void 0&&h!==-1?(p[h]=i[d],v[h]=s[d],a&&(b[h]=a[d]),h=g[h],m.set(O,h)):s[d]();for(h=y;h<c;h++)h in p?(i[h]=p[h],s[h]=v[h],a&&(a[h]=b[h],a[h](h))):i[h]=ol(f);i=i.slice(0,o=c),r=l.slice(0)}return i});function f(m){if(s[h]=m,a){const[g,p]=ve(h);return a[h]=p,e(l[h],g)}return e(l[h])}}}function gZ(t,e,n={}){let r=[],i=[],s=[],o=[],a=0,l;return wt(()=>Ey(s)),()=>{const c=t()||[],d=c.length;return c[x0],Gn(()=>{if(d===0)return a!==0&&(Ey(s),s=[],r=[],i=[],a=0,o=[]),n.fallback&&(r=[ex],i[0]=ol(f=>(s[0]=f,n.fallback())),a=1),i;for(r[0]===ex&&(s[0](),s=[],r=[],i=[],a=0),l=0;l<d;l++)l<r.length&&r[l]!==c[l]?o[l](()=>c[l]):l>=r.length&&(i[l]=ol(h));for(;l<r.length;l++)s[l]();return a=o.length=s.length=d,r=c.slice(0),i=i.slice(0,a)});function h(f){s[l]=f;const[m,g]=ve(c[l]);return o[l]=g,e(m,l)}}}function u(t,e){return Gn(()=>t(e||{}))}function m1(){return!0}const tx={get(t,e,n){return e===ul?n:t.get(e)},has(t,e){return e===ul?!0:t.has(e)},set:m1,deleteProperty:m1,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:m1,deleteProperty:m1}},ownKeys(t){return t.keys()}};function fk(t){return(t=typeof t=="function"?t():t)?t:{}}function pZ(){for(let t=0,e=this.length;t<e;++t){const n=this[t]();if(n!==void 0)return n}}function ge(...t){let e=!1;for(let o=0;o<t.length;o++){const a=t[o];e=e||!!a&&ul in a,t[o]=typeof a=="function"?(e=!0,ke(a)):a}if(y$&&e)return new Proxy({get(o){for(let a=t.length-1;a>=0;a--){const l=fk(t[a])[o];if(l!==void 0)return l}},has(o){for(let a=t.length-1;a>=0;a--)if(o in fk(t[a]))return!0;return!1},keys(){const o=[];for(let a=0;a<t.length;a++)o.push(...Object.keys(fk(t[a])));return[...new Set(o)]}},tx);const n={},r=Object.create(null);for(let o=t.length-1;o>=0;o--){const a=t[o];if(!a)continue;const l=Object.getOwnPropertyNames(a);for(let c=l.length-1;c>=0;c--){const d=l[c];if(d==="__proto__"||d==="constructor")continue;const h=Object.getOwnPropertyDescriptor(a,d);if(!r[d])r[d]=h.get?{enumerable:!0,configurable:!0,get:pZ.bind(n[d]=[h.get.bind(a)])}:h.value!==void 0?h:void 0;else{const f=n[d];f&&(h.get?f.push(h.get.bind(a)):h.value!==void 0&&f.push(()=>h.value))}}}const i={},s=Object.keys(r);for(let o=s.length-1;o>=0;o--){const a=s[o],l=r[a];l&&l.get?Object.defineProperty(i,a,l):i[a]=l?l.value:void 0}return i}function sn(t,...e){if(y$&&ul in t){const i=new Set(e.length>1?e.flat():e[0]),s=e.map(o=>new Proxy({get(a){return o.includes(a)?t[a]:void 0},has(a){return o.includes(a)&&a in t},keys(){return o.filter(a=>a in t)}},tx));return s.push(new Proxy({get(o){return i.has(o)?void 0:t[o]},has(o){return i.has(o)?!1:o in t},keys(){return Object.keys(t).filter(o=>!i.has(o))}},tx)),s}const n={},r=e.map(()=>({}));for(const i of Object.getOwnPropertyNames(t)){const s=Object.getOwnPropertyDescriptor(t,i),o=!s.get&&!s.set&&s.enumerable&&s.writable&&s.configurable;let a=!1,l=0;for(const c of e)c.includes(i)&&(a=!0,o?r[l][i]=s.value:Object.defineProperty(r[l],i,s)),++l;a||(o?n[i]=s.value:Object.defineProperty(n,i,s))}return[...r,n]}const T$=t=>`Stale read from <${t}>.`;function rt(t){const e="fallback"in t&&{fallback:()=>t.fallback};return ke(mZ(()=>t.each,t.children,e||void 0))}function JT(t){const e="fallback"in t&&{fallback:()=>t.fallback};return ke(gZ(()=>t.each,t.children,e||void 0))}function X(t){const e=t.keyed,n=ke(()=>t.when,void 0,void 0),r=e?n:ke(n,void 0,{equals:(i,s)=>!i==!s});return ke(()=>{const i=r();if(i){const s=t.children;return typeof s=="function"&&s.length>0?Gn(()=>s(e?i:()=>{if(!Gn(r))throw T$("Show");return n()})):s}return t.fallback},void 0,void 0)}function Me(t){const e=xv(()=>t.children),n=ke(()=>{const r=e(),i=Array.isArray(r)?r:[r];let s=()=>{};for(let o=0;o<i.length;o++){const a=o,l=i[o],c=s,d=ke(()=>c()?void 0:l.when,void 0,void 0),h=l.keyed?d:ke(d,void 0,{equals:(f,m)=>!f==!m});s=()=>c()||(h()?[a,d,l]:void 0)}return s});return ke(()=>{const r=n()();if(!r)return t.fallback;const[i,s,o]=r,a=o.children;return typeof a=="function"&&a.length>0?Gn(()=>a(o.keyed?s():()=>{if(Gn(n)()?.[0]!==i)throw T$("Match");return s()})):a},void 0,void 0)}function Z(t){return t}let Hf;function vZ(){Hf&&[...Hf].forEach(t=>t())}function bZ(t){let e;Ct.context&&Ct.load&&(e=Ct.load(Ct.getContextId()));const[n,r]=ve(e,void 0);return Hf||(Hf=new Set),Hf.add(r),wt(()=>Hf.delete(r)),ke(()=>{let i;if(i=n()){const s=t.fallback;return typeof s=="function"&&s.length?Gn(()=>s(i,()=>r())):s}return oZ(()=>t.children,r)},void 0,void 0)}const yZ=yr();function Ev(t){let e=0,n,r,i,s,o;const[a,l]=ve(!1),c=uZ(),d={increment:()=>{++e===1&&l(!0)},decrement:()=>{--e===0&&l(!1)},inFallback:a,effects:[],resolved:!1},h=Gr();if(Ct.context&&Ct.load){const g=Ct.getContextId();let p=Ct.load(g);if(p&&(typeof p!="object"||p.status!=="success"?i=p:Ct.gather(g)),i&&i!=="$$f"){const[v,b]=ve(void 0,{equals:!1});s=v,i.then(()=>{if(Ct.done)return b();Ct.gather(g),Ap(r),b(),Ap()},y=>{o=y,b()})}}const f=Nn(yZ);f&&(n=f.register(d.inFallback));let m;return wt(()=>m&&m()),u(c.Provider,{value:d,get children(){return ke(()=>{if(o)throw o;if(r=Ct.context,s)return s(),s=void 0;r&&i==="$$f"&&Ap();const g=ke(()=>t.children);return ke(p=>{const v=d.inFallback(),{showContent:b=!0,showFallback:y=!0}=n?n():{};if((!v||i&&i!=="$$f")&&b)return d.resolved=!0,m&&m(),m=r=i=void 0,cZ(d.effects),g();if(y)return m?p:ol(C=>(m=C,r&&(Ap({id:r.id+"F",count:0}),r=void 0),t.fallback),h)})})}})}const OZ=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],wZ=new Set(["className","value","readOnly","noValidate","formNoValidate","isMap","noModule","playsInline",...OZ]),kZ=new Set(["innerHTML","textContent","innerText","children"]),SZ=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),xZ=Object.assign(Object.create(null),{class:"className",novalidate:{$:"noValidate",FORM:1},formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function _Z(t,e){const n=xZ[t];return typeof n=="object"?n[e]?n.$:void 0:n}const CZ=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),EZ=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),TZ={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},Ce=t=>ke(()=>t());function DZ(t,e,n){let r=n.length,i=e.length,s=r,o=0,a=0,l=e[i-1].nextSibling,c=null;for(;o<i||a<s;){if(e[o]===n[a]){o++,a++;continue}for(;e[i-1]===n[s-1];)i--,s--;if(i===o){const d=s<r?a?n[a-1].nextSibling:n[s-a]:l;for(;a<s;)t.insertBefore(n[a++],d)}else if(s===a)for(;o<i;)(!c||!c.has(e[o]))&&e[o].remove(),o++;else if(e[o]===n[s-1]&&n[a]===e[i-1]){const d=e[--i].nextSibling;t.insertBefore(n[a++],e[o++].nextSibling),t.insertBefore(n[--s],d),e[i]=n[s]}else{if(!c){c=new Map;let h=a;for(;h<s;)c.set(n[h],h++)}const d=c.get(e[o]);if(d!=null)if(a<d&&d<s){let h=o,f=1,m;for(;++h<i&&h<s&&!((m=c.get(e[h]))==null||m!==d+f);)f++;if(f>d-a){const g=e[o];for(;a<d;)t.insertBefore(n[a++],g)}else t.replaceChild(n[a++],e[o++])}else o++;else e[o++].remove()}}}const e7="_$DX_DELEGATE";function AZ(t,e,n,r={}){let i;return ol(s=>{i=s,e===document?t():V(e,t(),e.firstChild?null:void 0,n)},r.owner),()=>{i(),e.textContent=""}}function I(t,e,n,r){let i;const s=()=>{const a=r?document.createElementNS("http://www.w3.org/1998/Math/MathML","template"):document.createElement("template");return a.innerHTML=t,n?a.content.firstChild.firstChild:r?a.firstChild:a.content.firstChild},o=e?()=>Gn(()=>document.importNode(i||(i=s()),!0)):()=>(i||(i=s())).cloneNode(!0);return o.cloneNode=o,o}function Tr(t,e=window.document){const n=e[e7]||(e[e7]=new Set);for(let r=0,i=t.length;r<i;r++){const s=t[r];n.has(s)||(n.add(s),e.addEventListener(s,NZ))}}function $t(t,e,n){Gh(t)||(n==null?t.removeAttribute(e):t.setAttribute(e,n))}function PZ(t,e,n,r){Gh(t)||(r==null?t.removeAttributeNS(e,n):t.setAttributeNS(e,n,r))}function RZ(t,e,n){Gh(t)||(n?t.setAttribute(e,""):t.removeAttribute(e))}function ut(t,e){Gh(t)||(e==null?t.removeAttribute("class"):t.className=e)}function Dn(t,e,n,r){if(r)Array.isArray(n)?(t[`$$${e}`]=n[0],t[`$$${e}Data`]=n[1]):t[`$$${e}`]=n;else if(Array.isArray(n)){const i=n[0];t.addEventListener(e,n[0]=s=>i.call(t,n[1],s))}else t.addEventListener(e,n,typeof n!="function"&&n)}function MZ(t,e,n={}){const r=Object.keys(e||{}),i=Object.keys(n);let s,o;for(s=0,o=i.length;s<o;s++){const a=i[s];!a||a==="undefined"||e[a]||(t7(t,a,!1),delete n[a])}for(s=0,o=r.length;s<o;s++){const a=r[s],l=!!e[a];!a||a==="undefined"||n[a]===l||!l||(t7(t,a,!0),n[a]=l)}return n}function xd(t,e,n){if(!e)return n?$t(t,"style"):e;const r=t.style;if(typeof e=="string")return r.cssText=e;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),e||(e={});let i,s;for(s in n)e[s]==null&&r.removeProperty(s),delete n[s];for(s in e)i=e[s],i!==n[s]&&(r.setProperty(s,i),n[s]=i);return n}function Se(t,e={},n,r){const i={};return r||Te(()=>i.children=C0(t,e.children,i.children)),Te(()=>typeof e.ref=="function"&&Fe(e.ref,t)),Te(()=>IZ(t,e,n,!0,i,!0)),i}function Fe(t,e,n){return Gn(()=>t(e,n))}function V(t,e,n,r){if(n!==void 0&&!r&&(r=[]),typeof e!="function")return C0(t,e,r,n);Te(i=>C0(t,e(),i,n),r)}function IZ(t,e,n,r,i={},s=!1){e||(e={});for(const o in i)if(!(o in e)){if(o==="children")continue;i[o]=n7(t,o,null,i[o],n,s,e)}for(const o in e){if(o==="children")continue;const a=e[o];i[o]=n7(t,o,a,i[o],n,s,e)}}function $Z(t){let e,n;return!Gh()||!(e=Ct.registry.get(n=FZ()))?t():(Ct.completed&&Ct.completed.add(e),Ct.registry.delete(n),e)}function Gh(t){return!!Ct.context&&!Ct.done&&(!t||t.isConnected)}function LZ(t){return t.toLowerCase().replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}function t7(t,e,n){const r=e.trim().split(/\s+/);for(let i=0,s=r.length;i<s;i++)t.classList.toggle(r[i],n)}function n7(t,e,n,r,i,s,o){let a,l,c,d,h;if(e==="style")return xd(t,n,r);if(e==="classList")return MZ(t,n,r);if(n===r)return r;if(e==="ref")s||n(t);else if(e.slice(0,3)==="on:"){const f=e.slice(3);r&&t.removeEventListener(f,r,typeof r!="function"&&r),n&&t.addEventListener(f,n,typeof n!="function"&&n)}else if(e.slice(0,10)==="oncapture:"){const f=e.slice(10);r&&t.removeEventListener(f,r,!0),n&&t.addEventListener(f,n,!0)}else if(e.slice(0,2)==="on"){const f=e.slice(2).toLowerCase(),m=CZ.has(f);if(!m&&r){const g=Array.isArray(r)?r[0]:r;t.removeEventListener(f,g)}(m||n)&&(Dn(t,f,n,m),m&&Tr([f]))}else if(e.slice(0,5)==="attr:")$t(t,e.slice(5),n);else if(e.slice(0,5)==="bool:")RZ(t,e.slice(5),n);else if((h=e.slice(0,5)==="prop:")||(c=kZ.has(e))||!i&&((d=_Z(e,t.tagName))||(l=wZ.has(e)))||(a=t.nodeName.includes("-")||"is"in o)){if(h)e=e.slice(5),l=!0;else if(Gh(t))return n;e==="class"||e==="className"?ut(t,n):a&&!l&&!c?t[LZ(e)]=n:t[d||e]=n}else{const f=i&&e.indexOf(":")>-1&&TZ[e.split(":")[0]];f?PZ(t,f,e,n):$t(t,SZ[e]||e,n)}return n}function NZ(t){if(Ct.registry&&Ct.events&&Ct.events.find(([l,c])=>c===t))return;let e=t.target;const n=`$$${t.type}`,r=t.target,i=t.currentTarget,s=l=>Object.defineProperty(t,"target",{configurable:!0,value:l}),o=()=>{const l=e[n];if(l&&!e.disabled){const c=e[`${n}Data`];if(c!==void 0?l.call(e,c,t):l.call(e,t),t.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(t.target)&&s(e.host),!0},a=()=>{for(;o()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return e||document}}),Ct.registry&&!Ct.done&&(Ct.done=_$HY.done=!0),t.composedPath){const l=t.composedPath();s(l[0]);for(let c=0;c<l.length-2&&(e=l[c],!!o());c++){if(e._$host){e=e._$host,a();break}if(e.parentNode===i)break}}else a();s(r)}function C0(t,e,n,r,i){const s=Gh(t);if(s){!n&&(n=[...t.childNodes]);let l=[];for(let c=0;c<n.length;c++){const d=n[c];d.nodeType===8&&d.data.slice(0,2)==="!$"?d.remove():l.push(d)}n=l}for(;typeof n=="function";)n=n();if(e===n)return n;const o=typeof e,a=r!==void 0;if(t=a&&n[0]&&n[0].parentNode||t,o==="string"||o==="number"){if(s||o==="number"&&(e=e.toString(),e===n))return n;if(a){let l=n[0];l&&l.nodeType===3?l.data!==e&&(l.data=e):l=document.createTextNode(e),n=Of(t,n,r,l)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||o==="boolean"){if(s)return n;n=Of(t,n,r)}else{if(o==="function")return Te(()=>{let l=e();for(;typeof l=="function";)l=l();n=C0(t,l,n,r)}),()=>n;if(Array.isArray(e)){const l=[],c=n&&Array.isArray(n);if(nx(l,e,n,i))return Te(()=>n=C0(t,l,n,r,!0)),()=>n;if(s){if(!l.length)return n;if(r===void 0)return n=[...t.childNodes];let d=l[0];if(d.parentNode!==t)return n;const h=[d];for(;(d=d.nextSibling)!==r;)h.push(d);return n=h}if(l.length===0){if(n=Of(t,n,r),a)return n}else c?n.length===0?r7(t,l,r):DZ(t,n,l):(n&&Of(t),r7(t,l));n=l}else if(e.nodeType){if(s&&e.parentNode)return n=a?[e]:e;if(Array.isArray(n)){if(a)return n=Of(t,n,r,e);Of(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}}return n}function nx(t,e,n,r){let i=!1;for(let s=0,o=e.length;s<o;s++){let a=e[s],l=n&&n[t.length],c;if(!(a==null||a===!0||a===!1))if((c=typeof a)=="object"&&a.nodeType)t.push(a);else if(Array.isArray(a))i=nx(t,a,l)||i;else if(c==="function")if(r){for(;typeof a=="function";)a=a();i=nx(t,Array.isArray(a)?a:[a],Array.isArray(l)?l:[l])||i}else t.push(a),i=!0;else{const d=String(a);l&&l.nodeType===3&&l.data===d?t.push(l):t.push(document.createTextNode(d))}}return i}function r7(t,e,n=null){for(let r=0,i=e.length;r<i;r++)t.insertBefore(e[r],n)}function Of(t,e,n,r){if(n===void 0)return t.textContent="";const i=r||document.createTextNode("");if(e.length){let s=!1;for(let o=e.length-1;o>=0;o--){const a=e[o];if(i!==a){const l=a.parentNode===t;!s&&!o?l?t.replaceChild(i,a):t.insertBefore(i,n):l&&a.remove()}else s=!0}}else t.insertBefore(i,n);return[i]}function FZ(){return Ct.getNextContextId()}const D$=!1,BZ="http://www.w3.org/2000/svg";function A$(t,e=!1){return e?document.createElementNS(BZ,t):document.createElement(t)}function uu(t){const{useShadow:e}=t,n=document.createTextNode(""),r=()=>t.mount||document.body,i=Gr();let s,o=!!Ct.context;return dt(()=>{o&&(Gr().user=o=!1),s||(s=gO(i,()=>ke(()=>t.children)));const a=r();if(a instanceof HTMLHeadElement){const[l,c]=ve(!1),d=()=>c(!0);ol(h=>V(a,()=>l()?h():s(),null)),wt(d)}else{const l=A$(t.isSVG?"g":"div",t.isSVG),c=e&&l.attachShadow?l.attachShadow({mode:"open"}):l;Object.defineProperty(l,"_$host",{get(){return n.parentNode},configurable:!0}),V(c,s),a.appendChild(l),t.ref&&t.ref(l),wt(()=>a.removeChild(l))}},void 0,{render:!o}),n}function zZ(t,e){const n=ke(t);return ke(()=>{const r=n();switch(typeof r){case"function":return Gn(()=>r(e));case"string":const i=EZ.has(r),s=Ct.context?$Z():A$(r,i);return Se(s,e,i),s}})}function pO(t){const[,e]=sn(t,["component"]);return zZ(()=>t.component,e)}const QZ="0.2.0",i7={version:QZ,"version-date":"2025-10-10"};function P$(){let t=new Set;function e(i){return t.add(i),()=>t.delete(i)}let n=!1;function r(i,s){if(n)return!(n=!1);const o={to:i,options:s,defaultPrevented:!1,preventDefault:()=>o.defaultPrevented=!0};for(const a of t)a.listener({...o,from:a.location,retry:l=>{l&&(n=!0),a.navigate(i,{...s,resolve:!1})}});return!o.defaultPrevented}return{subscribe:e,confirm:r}}let rx;function V5(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),rx=window.history.state._depth}V5();function UZ(t){return{...t,_depth:window.history.state&&window.history.state._depth}}function VZ(t,e){let n=!1;return()=>{const r=rx;V5();const i=r==null?null:rx-r;if(n){n=!1;return}i&&e(i)?(n=!0,window.history.go(-i)):t()}}const jZ=/^(?:[a-z0-9]+:)?\/\//i,qZ=/^\/+|(\/)\/+$/g,R$="http://sr";function Hp(t,e=!1){const n=t.replace(qZ,"$1");return n?e||/^[?#]/.test(n)?n:"/"+n:""}function Mb(t,e,n){if(jZ.test(e))return;const r=Hp(t),i=n&&Hp(n);let s="";return!i||e.startsWith("/")?s=r:i.toLowerCase().indexOf(r.toLowerCase())!==0?s=r+i:s=i,(s||"/")+Hp(e,!s)}function HZ(t,e){if(t==null)throw new Error(e);return t}function WZ(t,e){return Hp(t).replace(/\/*(\*.*)?$/g,"")+Hp(e)}function M$(t){const e={};return t.searchParams.forEach((n,r)=>{r in e?Array.isArray(e[r])?e[r].push(n):e[r]=[e[r],n]:e[r]=n}),e}function XZ(t,e,n){const[r,i]=t.split("/*",2),s=r.split("/").filter(Boolean),o=s.length;return a=>{const l=a.split("/").filter(Boolean),c=l.length-o;if(c<0||c>0&&i===void 0&&!e)return null;const d={path:o?"":"/",params:{}},h=f=>n===void 0?void 0:n[f];for(let f=0;f<o;f++){const m=s[f],g=m[0]===":",p=g?l[f]:l[f].toLowerCase(),v=g?m.slice(1):m.toLowerCase();if(g&&mk(p,h(v)))d.params[v]=p;else if(g||!mk(p,v))return null;d.path+=`/${p}`}if(i){const f=c?l.slice(-c).join("/"):"";if(mk(f,h(i)))d.params[i]=f;else return null}return d}}function mk(t,e){const n=r=>r===t;return e===void 0?!0:typeof e=="string"?n(e):typeof e=="function"?e(t):Array.isArray(e)?e.some(n):e instanceof RegExp?e.test(t):!1}function YZ(t){const[e,n]=t.pattern.split("/*",2),r=e.split("/").filter(Boolean);return r.reduce((i,s)=>i+(s.startsWith(":")?2:3),r.length-(n===void 0?0:1))}function I$(t){const e=new Map,n=Gr();return new Proxy({},{get(r,i){return e.has(i)||gO(n,()=>e.set(i,ke(()=>t()[i]))),e.get(i)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(t())}})}function $$(t){let e=/(\/?\:[^\/]+)\?/.exec(t);if(!e)return[t];let n=t.slice(0,e.index),r=t.slice(e.index+e[0].length);const i=[n,n+=e[1]];for(;e=/^(\/\:[^\/]+)\?/.exec(r);)i.push(n+=e[1]),r=r.slice(e[0].length);return $$(r).reduce((s,o)=>[...s,...i.map(a=>a+o)],[])}const GZ=100,L$=yr(),N$=yr(),vO=()=>HZ(Nn(L$),"<A> and 'use' router primitives can be only used inside a Route."),Dr=()=>vO().navigatorFactory(),Zh=()=>vO().location,_d=()=>vO().params,ZZ=t=>{const e=vO().beforeLeave.subscribe({listener:t,location:Zh(),navigate:Dr()});wt(e)};function KZ(t,e=""){const{component:n,preload:r,load:i,children:s,info:o}=t,a=!s||Array.isArray(s)&&!s.length,l={key:t,component:n,preload:r||i,info:o};return F$(t.path).reduce((c,d)=>{for(const h of $$(d)){const f=WZ(e,h);let m=a?f:f.split("/*",1)[0];m=m.split("/").map(g=>g.startsWith(":")||g.startsWith("*")?g:encodeURIComponent(g)).join("/"),c.push({...l,originalPath:d,pattern:m,matcher:XZ(m,!a,t.matchFilters)})}return c},[])}function JZ(t,e=0){return{routes:t,score:YZ(t[t.length-1])*1e4-e,matcher(n){const r=[];for(let i=t.length-1;i>=0;i--){const s=t[i],o=s.matcher(n);if(!o)return null;r.unshift({...o,route:s})}return r}}}function F$(t){return Array.isArray(t)?t:[t]}function B$(t,e="",n=[],r=[]){const i=F$(t);for(let s=0,o=i.length;s<o;s++){const a=i[s];if(a&&typeof a=="object"){a.hasOwnProperty("path")||(a.path="");const l=KZ(a,e);for(const c of l){n.push(c);const d=Array.isArray(a.children)&&a.children.length===0;if(a.children&&!d)B$(a.children,c.pattern,n,r);else{const h=JZ([...n],r.length);r.push(h)}n.pop()}}}return n.length?r:r.sort((s,o)=>o.score-s.score)}function gk(t,e){for(let n=0,r=t.length;n<r;n++){const i=t[n].matcher(e);if(i)return i}return[]}function eK(t,e,n){const r=new URL(R$),i=ke(d=>{const h=t();try{return new URL(h,r)}catch{return console.error(`Invalid path ${h}`),d}},r,{equals:(d,h)=>d.href===h.href}),s=ke(()=>i().pathname),o=ke(()=>i().search,!0),a=ke(()=>i().hash),l=()=>"",c=Zt(o,()=>M$(i()));return{get pathname(){return s()},get search(){return o()},get hash(){return a()},get state(){return e()},get key(){return l()},query:n?n(c):I$(c)}}let ih;function tK(){return ih}function nK(t,e,n,r={}){const{signal:[i,s],utils:o={}}=t,a=o.parsePath||(U=>U),l=o.renderPath||(U=>U),c=o.beforeLeave||P$(),d=Mb("",r.base||"");if(d===void 0)throw new Error(`${d} is not a valid base path`);d&&!i().value&&s({value:d,replace:!0,scroll:!1});const[h,f]=ve(!1);let m;const g=(U,N)=>{N.value===p()&&N.state===b()||(m===void 0&&f(!0),ih=U,m=N,k$(()=>{m===N&&(v(m.value),y(m.state),vZ(),O[1](z=>z.filter(K=>K.pending)))}).finally(()=>{m===N&&Nt(()=>{ih=void 0,U==="navigate"&&j(m),f(!1),m=void 0})}))},[p,v]=ve(i().value),[b,y]=ve(i().state),C=eK(p,b,o.queryWrapper),x=[],O=ve([]),S=ke(()=>typeof r.transformUrl=="function"?gk(e(),r.transformUrl(C.pathname)):gk(e(),C.pathname)),T=()=>{const U=S(),N={};for(let z=0;z<U.length;z++)Object.assign(N,U[z].params);return N},$=o.paramsWrapper?o.paramsWrapper(T,e):I$(T),M={pattern:d,path:()=>d,outlet:()=>null,resolvePath(U){return Mb(d,U)}};return Te(Zt(i,U=>g("native",U),{defer:!0})),{base:M,location:C,params:$,isRouting:h,renderPath:l,parsePath:a,navigatorFactory:L,matches:S,beforeLeave:c,preloadRoute:te,singleFlight:r.singleFlight===void 0?!0:r.singleFlight,submissions:O};function P(U,N,z){Gn(()=>{if(typeof N=="number"){N&&(o.go?o.go(N):console.warn("Router integration does not support relative routing"));return}const K=!N||N[0]==="?",{replace:re,resolve:Q,scroll:D,state:se}={replace:!1,resolve:!K,scroll:!0,...z},he=Q?U.resolvePath(N):Mb(K&&C.pathname||"",N);if(he===void 0)throw new Error(`Path '${N}' is not a routable path`);if(x.length>=GZ)throw new Error("Too many redirects");const E=p();(he!==E||se!==b())&&(D$||c.confirm(he,z)&&(x.push({value:E,replace:re,scroll:D,state:b()}),g("navigate",{value:he,state:se})))})}function L(U){return U=U||Nn(N$)||M,(N,z)=>P(U,N,z)}function j(U){const N=x[0];N&&(s({...U,replace:N.replace,scroll:N.scroll}),x.length=0)}function te(U,N){const z=gk(e(),U.pathname),K=ih;ih="preload";for(let re in z){const{route:Q,params:D}=z[re];Q.component&&Q.component.preload&&Q.component.preload();const{preload:se}=Q;N&&se&&gO(n(),()=>se({params:D,location:{pathname:U.pathname,search:U.search,hash:U.hash,query:M$(U),state:null,key:""},intent:"preload"}))}ih=K}}function rK(t,e,n,r){const{base:i,location:s,params:o}=t,{pattern:a,component:l,preload:c}=r().route,d=ke(()=>r().path);l&&l.preload&&l.preload();const h=c?c({params:o,location:s,intent:ih||"initial"}):void 0;return{parent:e,pattern:a,path:d,outlet:()=>l?u(l,{params:o,location:s,data:h,get children(){return n()}}):n(),resolvePath(m){return Mb(i.path(),m,d())}}}const iK=t=>e=>{const{base:n}=e,r=xv(()=>e.children),i=ke(()=>B$(r(),e.base||""));let s;const o=nK(t,i,()=>s,{base:n,singleFlight:e.singleFlight,transformUrl:e.transformUrl});return t.create&&t.create(o),u(L$.Provider,{value:o,get children(){return u(sK,{routerState:o,get root(){return e.root},get preload(){return e.rootPreload||e.rootLoad},get children(){return[Ce(()=>(s=Gr())&&null),u(oK,{routerState:o,get branches(){return i()}})]}})}})};function sK(t){const e=t.routerState.location,n=t.routerState.params,r=ke(()=>t.preload&&Gn(()=>{t.preload({params:n,location:e,intent:tK()||"initial"})}));return u(X,{get when(){return t.root},keyed:!0,get fallback(){return t.children},children:i=>u(i,{params:n,location:e,get data(){return r()},get children(){return t.children}})})}function oK(t){const e=[];let n;const r=ke(Zt(t.routerState.matches,(i,s,o)=>{let a=s&&i.length===s.length;const l=[];for(let c=0,d=i.length;c<d;c++){const h=s&&s[c],f=i[c];o&&h&&f.route.key===h.route.key?l[c]=o[c]:(a=!1,e[c]&&e[c](),ol(m=>{e[c]=m,l[c]=rK(t.routerState,l[c-1]||t.routerState.base,s7(()=>r()[c+1]),()=>t.routerState.matches()[c])}))}return e.splice(i.length).forEach(c=>c()),o&&a?o:(n=l[0],l)}));return s7(()=>r()&&n)()}const s7=t=>()=>u(X,{get when(){return t()},keyed:!0,children:e=>u(N$.Provider,{value:e,get children(){return e.outlet()}})}),Rr=t=>{const e=xv(()=>t.children);return ge(t,{get children(){return e()}})};function aK([t,e],n,r){return[t,r?i=>e(r(i)):e]}function lK(t){let e=!1;const n=i=>typeof i=="string"?{value:i}:i,r=aK(ve(n(t.get()),{equals:(i,s)=>i.value===s.value&&i.state===s.state}),void 0,i=>(!e&&t.set(i),Ct.registry&&!Ct.done&&(Ct.done=!0),i));return t.init&&wt(t.init((i=t.get())=>{e=!0,r[1](n(i)),e=!1})),iK({signal:r,create:t.create,utils:t.utils})}function cK(t,e,n){return t.addEventListener(e,n),()=>t.removeEventListener(e,n)}function uK(t,e){const n=t&&document.getElementById(t);n?n.scrollIntoView():e&&window.scrollTo(0,0)}const dK=new Map;function hK(t=!0,e=!1,n="/_server",r){return i=>{const s=i.base.path(),o=i.navigatorFactory(i.base);let a,l;function c(p){return p.namespaceURI==="http://www.w3.org/2000/svg"}function d(p){if(p.defaultPrevented||p.button!==0||p.metaKey||p.altKey||p.ctrlKey||p.shiftKey)return;const v=p.composedPath().find(S=>S instanceof Node&&S.nodeName.toUpperCase()==="A");if(!v||e&&!v.hasAttribute("link"))return;const b=c(v),y=b?v.href.baseVal:v.href;if((b?v.target.baseVal:v.target)||!y&&!v.hasAttribute("state"))return;const x=(v.getAttribute("rel")||"").split(/\s+/);if(v.hasAttribute("download")||x&&x.includes("external"))return;const O=b?new URL(y,document.baseURI):new URL(y);if(!(O.origin!==window.location.origin||s&&O.pathname&&!O.pathname.toLowerCase().startsWith(s.toLowerCase())))return[v,O]}function h(p){const v=d(p);if(!v)return;const[b,y]=v,C=i.parsePath(y.pathname+y.search+y.hash),x=b.getAttribute("state");p.preventDefault(),o(C,{resolve:!1,replace:b.hasAttribute("replace"),scroll:!b.hasAttribute("noscroll"),state:x?JSON.parse(x):void 0})}function f(p){const v=d(p);if(!v)return;const[b,y]=v;r&&(y.pathname=r(y.pathname)),i.preloadRoute(y,b.getAttribute("preload")!=="false")}function m(p){clearTimeout(a);const v=d(p);if(!v)return l=null;const[b,y]=v;l!==b&&(r&&(y.pathname=r(y.pathname)),a=setTimeout(()=>{i.preloadRoute(y,b.getAttribute("preload")!=="false"),l=b},20))}function g(p){if(p.defaultPrevented)return;let v=p.submitter&&p.submitter.hasAttribute("formaction")?p.submitter.getAttribute("formaction"):p.target.getAttribute("action");if(!v)return;if(!v.startsWith("https://action/")){const y=new URL(v,R$);if(v=i.parsePath(y.pathname+y.search),!v.startsWith(n))return}if(p.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const b=dK.get(v);if(b){p.preventDefault();const y=new FormData(p.target,p.submitter);b.call({r:i,f:p.target},p.target.enctype==="multipart/form-data"?y:new URLSearchParams(y))}}Tr(["click","submit"]),document.addEventListener("click",h),t&&(document.addEventListener("mousemove",m,{passive:!0}),document.addEventListener("focusin",f,{passive:!0}),document.addEventListener("touchstart",f,{passive:!0})),document.addEventListener("submit",g),wt(()=>{document.removeEventListener("click",h),t&&(document.removeEventListener("mousemove",m),document.removeEventListener("focusin",f),document.removeEventListener("touchstart",f)),document.removeEventListener("submit",g)})}}function fK(t){const e=()=>{const r=window.location.pathname.replace(/^\/+/,"/")+window.location.search,i=window.history.state&&window.history.state._depth&&Object.keys(window.history.state).length===1?void 0:window.history.state;return{value:r+window.location.hash,state:i}},n=P$();return lK({get:e,set({value:r,replace:i,scroll:s,state:o}){i?window.history.replaceState(UZ(o),"",r):window.history.pushState(o,"",r),uK(decodeURIComponent(window.location.hash.slice(1)),s),V5()},init:r=>cK(window,"popstate",VZ(r,i=>{if(i&&i<0)return!n.confirm(i);{const s=e();return!n.confirm(s.value,{state:s.state})}})),create:hK(t.preload,t.explicitLinks,t.actionBase,t.transformUrl),utils:{go:r=>window.history.go(r),beforeLeave:n}})(t)}function Ph(t){const e=Dr(),n=Zh(),{href:r,state:i}=t,s=typeof r=="function"?r({navigate:e,location:n}):r;return e(s,{replace:!0,state:i}),null}const Ty=Symbol("store-raw"),lm=Symbol("store-node"),Pc=Symbol("store-has"),z$=Symbol("store-self");function Q$(t){let e=t[ul];if(!e&&(Object.defineProperty(t,ul,{value:e=new Proxy(t,pK)}),!Array.isArray(t))){const n=Object.keys(t),r=Object.getOwnPropertyDescriptors(t);for(let i=0,s=n.length;i<s;i++){const o=n[i];r[o].get&&Object.defineProperty(t,o,{enumerable:r[o].enumerable,get:r[o].get.bind(e)})}}return e}function tc(t){let e;return t!=null&&typeof t=="object"&&(t[ul]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function cd(t,e=new Set){let n,r,i,s;if(n=t!=null&&t[Ty])return n;if(!tc(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let o=0,a=t.length;o<a;o++)i=t[o],(r=cd(i,e))!==i&&(t[o]=r)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const o=Object.keys(t),a=Object.getOwnPropertyDescriptors(t);for(let l=0,c=o.length;l<c;l++)s=o[l],!a[s].get&&(i=t[s],(r=cd(i,e))!==i&&(t[s]=r))}return t}function Dy(t,e){let n=t[e];return n||Object.defineProperty(t,e,{value:n=Object.create(null)}),n}function E0(t,e,n){if(t[e])return t[e];const[r,i]=ve(n,{equals:!1,internal:!0});return r.$=i,t[e]=r}function mK(t,e){const n=Reflect.getOwnPropertyDescriptor(t,e);return!n||n.get||!n.configurable||e===ul||e===lm||(delete n.value,delete n.writable,n.get=()=>t[ul][e]),n}function U$(t){xy()&&E0(Dy(t,lm),z$)()}function gK(t){return U$(t),Reflect.ownKeys(t)}const pK={get(t,e,n){if(e===Ty)return t;if(e===ul)return n;if(e===x0)return U$(t),n;const r=Dy(t,lm),i=r[e];let s=i?i():t[e];if(e===lm||e===Pc||e==="__proto__")return s;if(!i){const o=Object.getOwnPropertyDescriptor(t,e);xy()&&(typeof s!="function"||t.hasOwnProperty(e))&&!(o&&o.get)&&(s=E0(r,e,s)())}return tc(s)?Q$(s):s},has(t,e){return e===Ty||e===ul||e===x0||e===lm||e===Pc||e==="__proto__"?!0:(xy()&&E0(Dy(t,Pc),e)(),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:gK,getOwnPropertyDescriptor:mK};function eo(t,e,n,r=!1){if(!r&&t[e]===n)return;const i=t[e],s=t.length;n===void 0?(delete t[e],t[Pc]&&t[Pc][e]&&i!==void 0&&t[Pc][e].$()):(t[e]=n,t[Pc]&&t[Pc][e]&&i===void 0&&t[Pc][e].$());let o=Dy(t,lm),a;if((a=E0(o,e,i))&&a.$(()=>n),Array.isArray(t)&&t.length!==s){for(let l=t.length;l<s;l++)(a=o[l])&&a.$();(a=E0(o,"length",s))&&a.$(t.length)}(a=o[z$])&&a.$()}function V$(t,e){const n=Object.keys(e);for(let r=0;r<n.length;r+=1){const i=n[r];eo(t,i,e[i])}}function vK(t,e){if(typeof e=="function"&&(e=e(t)),e=cd(e),Array.isArray(e)){if(t===e)return;let n=0,r=e.length;for(;n<r;n++){const i=e[n];t[n]!==i&&eo(t,n,i)}eo(t,"length",r)}else V$(t,e)}function Pp(t,e,n=[]){let r,i=t;if(e.length>1){r=e.shift();const o=typeof r,a=Array.isArray(t);if(Array.isArray(r)){for(let l=0;l<r.length;l++)Pp(t,[r[l]].concat(e),n);return}else if(a&&o==="function"){for(let l=0;l<t.length;l++)r(t[l],l)&&Pp(t,[l].concat(e),n);return}else if(a&&o==="object"){const{from:l=0,to:c=t.length-1,by:d=1}=r;for(let h=l;h<=c;h+=d)Pp(t,[h].concat(e),n);return}else if(e.length>1){Pp(t[r],e,[r].concat(n));return}i=t[r],n=[r].concat(n)}let s=e[0];typeof s=="function"&&(s=s(i,n),s===i)||r===void 0&&s==null||(s=cd(s),r===void 0||tc(i)&&tc(s)&&!Array.isArray(s)?V$(i,s):eo(t,r,s))}function $a(...[t,e]){const n=cd(t||{}),r=Array.isArray(n),i=Q$(n);function s(...o){Nt(()=>{r&&o.length===1?vK(n,o[0]):Pp(n,o)})}return[i,s]}const ix=Symbol("store-root");function Pf(t,e,n,r,i){const s=e[n];if(t===s)return;const o=Array.isArray(t);if(n!==ix&&(!tc(t)||!tc(s)||o!==Array.isArray(s)||i&&t[i]!==s[i])){eo(e,n,t);return}if(o){if(t.length&&s.length&&(!r||i&&t[0]&&t[0][i]!=null)){let c,d,h,f,m,g,p,v;for(h=0,f=Math.min(s.length,t.length);h<f&&(s[h]===t[h]||i&&s[h]&&t[h]&&s[h][i]===t[h][i]);h++)Pf(t[h],s,h,r,i);const b=new Array(t.length),y=new Map;for(f=s.length-1,m=t.length-1;f>=h&&m>=h&&(s[f]===t[m]||i&&s[f]&&t[m]&&s[f][i]===t[m][i]);f--,m--)b[m]=s[f];if(h>m||h>f){for(d=h;d<=m;d++)eo(s,d,t[d]);for(;d<t.length;d++)eo(s,d,b[d]),Pf(t[d],s,d,r,i);s.length>t.length&&eo(s,"length",t.length);return}for(p=new Array(m+1),d=m;d>=h;d--)g=t[d],v=i&&g?g[i]:g,c=y.get(v),p[d]=c===void 0?-1:c,y.set(v,d);for(c=h;c<=f;c++)g=s[c],v=i&&g?g[i]:g,d=y.get(v),d!==void 0&&d!==-1&&(b[d]=s[c],d=p[d],y.set(v,d));for(d=h;d<t.length;d++)d in b?(eo(s,d,b[d]),Pf(t[d],s,d,r,i)):eo(s,d,t[d])}else for(let c=0,d=t.length;c<d;c++)Pf(t[c],s,c,r,i);s.length>t.length&&eo(s,"length",t.length);return}const a=Object.keys(t);for(let c=0,d=a.length;c<d;c++)Pf(t[a[c]],s,a[c],r,i);const l=Object.keys(s);for(let c=0,d=l.length;c<d;c++)t[l[c]]===void 0&&eo(s,l[c],void 0)}function bK(t,e={}){const{merge:n,key:r="id"}=e,i=cd(t);return s=>{if(!tc(s)||!tc(i))return i;const o=Pf(i,{[ix]:s},ix,n,r);return o===void 0?s:o}}const Ay=new WeakMap,j$={get(t,e){if(e===Ty)return t;const n=t[e];let r;return tc(n)?Ay.get(n)||(Ay.set(n,r=new Proxy(n,j$)),r):n},set(t,e,n){return eo(t,e,cd(n)),!0},deleteProperty(t,e){return eo(t,e,void 0,!0),!0}};function Ml(t){return e=>{if(tc(e)){let n;(n=Ay.get(e))||Ay.set(e,n=new Proxy(e,j$)),t(n)}return e}}var bg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Im=typeof window>"u"||"Deno"in globalThis;function ua(){}function yK(t,e){return typeof t=="function"?t(e):t}function sx(t){return typeof t=="number"&&t>=0&&t!==1/0}function q$(t,e){return Math.max(t+(e||0)-Date.now(),0)}function cm(t,e){return typeof t=="function"?t(e):t}function Za(t,e){return typeof t=="function"?t(e):t}function o7(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==j5(o,e.options))return!1}else if(!T0(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function a7(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Rh(e.options.mutationKey)!==Rh(s))return!1}else if(!T0(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function j5(t,e){return(e?.queryKeyHashFn||Rh)(t)}function Rh(t){return JSON.stringify(t,(e,n)=>ox(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function T0(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>T0(t[n],e[n])):!1}function H$(t,e){if(t===e)return t;const n=l7(t)&&l7(e);if(n||ox(t)&&ox(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:s[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=H$(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function Py(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function l7(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ox(t){if(!c7(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!c7(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function c7(t){return Object.prototype.toString.call(t)==="[object Object]"}function OK(t){return new Promise(e=>{setTimeout(e,t)})}function ax(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?H$(t,e):e}function wK(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function kK(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var q5=Symbol();function W$(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===q5?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function X$(t,e){return typeof t=="function"?t(...e):!!t}var SK=class extends bg{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Im&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},H5=new SK,xK=class extends bg{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Im&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Ry=new xK;function lx(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function _K(t){return Math.min(1e3*2**t,3e4)}function Y$(t){return(t??"online")==="online"?Ry.isOnline():!0}var G$=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function pk(t){return t instanceof G$}function Z$(t){let e=!1,n=0,r=!1,i;const s=lx(),o=p=>{r||(f(new G$(p)),t.abort?.())},a=()=>{e=!0},l=()=>{e=!1},c=()=>H5.isFocused()&&(t.networkMode==="always"||Ry.isOnline())&&t.canRun(),d=()=>Y$(t.networkMode)&&t.canRun(),h=p=>{r||(r=!0,t.onSuccess?.(p),i?.(),s.resolve(p))},f=p=>{r||(r=!0,t.onError?.(p),i?.(),s.reject(p))},m=()=>new Promise(p=>{i=v=>{(r||c())&&p(v)},t.onPause?.()}).then(()=>{i=void 0,r||t.onContinue?.()}),g=()=>{if(r)return;let p;const v=n===0?t.initialPromise:void 0;try{p=v??t.fn()}catch(b){p=Promise.reject(b)}Promise.resolve(p).then(h).catch(b=>{if(r)return;const y=t.retry??(Im?0:3),C=t.retryDelay??_K,x=typeof C=="function"?C(n,b):C,O=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,b);if(e||!O){f(b);return}n++,t.onFail?.(n,b),OK(x).then(()=>c()?void 0:m()).then(()=>{e?f(b):g()})})};return{promise:s,cancel:o,continue:()=>(i?.(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?g():m().then(g),s)}}var CK=t=>setTimeout(t,0);function EK(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=CK;const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Xi=EK(),K$=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),sx(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Im?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},TK=class extends K${#e;#t;#n;#r;#i;#o;#a;constructor(t){super(),this.#a=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#n=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=DK(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=ax(this.state.data,t,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(ua).catch(ua):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Za(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===q5||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!q$(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#a?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){const a=this.observers.find(l=>l.options.queryFn);a&&this.setOptions(a.options)}const n=new AbortController,r=a=>{Object.defineProperty(a,"signal",{enumerable:!0,get:()=>(this.#a=!0,n.signal)})},i=()=>{const a=W$(this.options,e),l={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(l),this.#a=!1,this.options.persister?this.options.persister(a,l,this):a(l)},s={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:i};r(s),this.options.behavior?.onFetch(s,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#s({type:"fetch",meta:s.fetchOptions?.meta});const o=a=>{pk(a)&&a.silent||this.#s({type:"error",error:a}),pk(a)||(this.#n.config.onError?.(a,this),this.#n.config.onSettled?.(this.state.data,a,this)),this.scheduleGc()};return this.#i=Z$({initialPromise:e?.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:a=>{if(a===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(a)}catch(l){o(l);return}this.#n.config.onSuccess?.(a,this),this.#n.config.onSettled?.(a,this.state.error,this),this.scheduleGc()},onError:o,onFail:(a,l)=>{this.#s({type:"failed",failureCount:a,error:l})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}),this.#i.start()}#s(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...J$(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return pk(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Xi.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function J$(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Y$(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function DK(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var AK=class extends bg{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??j5(r,e);let s=this.get(i);return s||(s=new TK({client:t,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Xi.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>o7(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>o7(t,n)):e}notify(t){Xi.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Xi.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Xi.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},PK=class extends K${#e;#t;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||eL(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})};this.#n=Z$({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(i,s)=>{this.#r({type:"failed",failureCount:i,error:s})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const n=this.state.status==="pending",r=!this.#n.canStart();try{if(n)e();else{this.#r({type:"pending",variables:t,isPaused:r}),await this.#t.config.onMutate?.(t,this);const s=await this.options.onMutate?.(t);s!==this.state.context&&this.#r({type:"pending",context:s,variables:t,isPaused:r})}const i=await this.#n.start();return await this.#t.config.onSuccess?.(i,t,this.state.context,this),await this.options.onSuccess?.(i,t,this.state.context),await this.#t.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,t,this.state.context),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#t.config.onError?.(i,t,this.state.context,this),await this.options.onError?.(i,t,this.state.context),await this.#t.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,t,this.state.context),i}finally{this.#r({type:"error",error:i})}}finally{this.#t.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Xi.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function eL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var RK=class extends bg{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new PK({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=g1(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=g1(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=g1(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=g1(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Xi.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>a7(e,n))}findAll(t={}){return this.getAll().filter(e=>a7(t,e))}notify(t){Xi.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Xi.batch(()=>Promise.all(t.map(e=>e.continue().catch(ua))))}};function g1(t){return t.options.scope?.id}function u7(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let d=!1;const h=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(e.signal.aborted?d=!0:e.signal.addEventListener("abort",()=>{d=!0}),e.signal)})},f=W$(e.options,e.fetchOptions),m=async(g,p,v)=>{if(d)return Promise.reject();if(p==null&&g.pages.length)return Promise.resolve(g);const b={client:e.client,queryKey:e.queryKey,pageParam:p,direction:v?"backward":"forward",meta:e.options.meta};h(b);const y=await f(b),{maxPages:C}=e.options,x=v?kK:wK;return{pages:x(g.pages,y,C),pageParams:x(g.pageParams,p,C)}};if(i&&s.length){const g=i==="backward",p=g?MK:d7,v={pages:s,pageParams:o},b=p(r,v);a=await m(v,b,g)}else{const g=t??s.length;do{const p=l===0?o[0]??r.initialPageParam:d7(r,a);if(l>0&&p==null)break;a=await m(a,p),l++}while(l<g)}return a};e.options.persister?e.fetchFn=()=>e.options.persister?.(c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=c}}}function d7(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function MK(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var IK=class{#e;#t;#n;#r;#i;#o;#a;#s;constructor(e={}){this.#e=e.queryCache||new AK,this.#t=e.mutationCache||new RK,this.#n=e.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=H5.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=Ry.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const n=this.defaultQueryOptions({queryKey:e});return this.#e.get(n.queryHash)?.state.data}ensureQueryData(e){const n=this.defaultQueryOptions(e),r=this.#e.build(this,n),i=r.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(cm(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(i))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(e,n,r){const i=this.defaultQueryOptions({queryKey:e}),o=this.#e.get(i.queryHash)?.state.data,a=yK(n,o);if(a!==void 0)return this.#e.build(this,i).setData(a,{...r,manual:!0})}setQueriesData(e,n,r){return Xi.batch(()=>this.#e.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(e){const n=this.defaultQueryOptions({queryKey:e});return this.#e.get(n.queryHash)?.state}removeQueries(e){const n=this.#e;Xi.batch(()=>{n.findAll(e).forEach(r=>{n.remove(r)})})}resetQueries(e,n){const r=this.#e;return Xi.batch(()=>(r.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},n)))}cancelQueries(e,n={}){const r={revert:!0,...n},i=Xi.batch(()=>this.#e.findAll(e).map(s=>s.cancel(r)));return Promise.all(i).then(ua).catch(ua)}invalidateQueries(e,n={}){return Xi.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},n)))}refetchQueries(e,n={}){const r={...n,cancelRefetch:n.cancelRefetch??!0},i=Xi.batch(()=>this.#e.findAll(e).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(ua)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(i).then(ua)}fetchQuery(e){const n=this.defaultQueryOptions(e);n.retry===void 0&&(n.retry=!1);const r=this.#e.build(this,n);return r.isStaleByTime(cm(n.staleTime,r))?r.fetch(n):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ua).catch(ua)}fetchInfiniteQuery(e){return e.behavior=u7(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ua).catch(ua)}ensureInfiniteQueryData(e){return e.behavior=u7(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ry.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,n){this.#r.set(Rh(e),{queryKey:e,defaultOptions:n})}getQueryDefaults(e){const n=[...this.#r.values()],r={};return n.forEach(i=>{T0(e,i.queryKey)&&Object.assign(r,i.defaultOptions)}),r}setMutationDefaults(e,n){this.#i.set(Rh(e),{mutationKey:e,defaultOptions:n})}getMutationDefaults(e){const n=[...this.#i.values()],r={};return n.forEach(i=>{T0(e,i.mutationKey)&&Object.assign(r,i.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const n={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return n.queryHash||(n.queryHash=j5(n.queryKey,n)),n.refetchOnReconnect===void 0&&(n.refetchOnReconnect=n.networkMode!=="always"),n.throwOnError===void 0&&(n.throwOnError=!!n.suspense),!n.networkMode&&n.persister&&(n.networkMode="offlineFirst"),n.queryFn===q5&&(n.enabled=!1),n}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},$K=class extends bg{constructor(t,e){super(),this.options=e,this.#e=t,this.#s=null,this.#a=lx(),this.options.experimental_prefetchInRender||this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#i;#o;#a;#s;#l;#f;#m;#u;#d;#c;#g=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),h7(this.#t,this.options)?this.#h():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return cx(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return cx(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#O(),this.#w(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Za(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#k(),this.#t.setOptions(this.options),e._defaulted&&!Py(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&f7(this.#t,n,this.options,e)&&this.#h(),this.updateResult(),r&&(this.#t!==n||Za(this.options.enabled,this.#t)!==Za(e.enabled,this.#t)||cm(this.options.staleTime,this.#t)!==cm(e.staleTime,this.#t))&&this.#p();const i=this.#v();r&&(this.#t!==n||Za(this.options.enabled,this.#t)!==Za(e.enabled,this.#t)||i!==this.#c)&&this.#b(i)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return NK(this,n)&&(this.#r=n,this.#o=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#r}trackResult(t,e){return new Proxy(t,{get:(n,r)=>(this.trackProp(r),e?.(r),Reflect.get(n,r))})}trackProp(t){this.#g.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#h({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#h(t){this.#k();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(ua)),e}#p(){this.#O();const t=cm(this.options.staleTime,this.#t);if(Im||this.#r.isStale||!sx(t))return;const n=q$(this.#r.dataUpdatedAt,t)+1;this.#u=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#b(t){this.#w(),this.#c=t,!(Im||Za(this.options.enabled,this.#t)===!1||!sx(this.#c)||this.#c===0)&&(this.#d=setInterval(()=>{(this.options.refetchIntervalInBackground||H5.isFocused())&&this.#h()},this.#c))}#y(){this.#p(),this.#b(this.#v())}#O(){this.#u&&(clearTimeout(this.#u),this.#u=void 0)}#w(){this.#d&&(clearInterval(this.#d),this.#d=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#r,s=this.#i,o=this.#o,l=t!==n?t.state:this.#n,{state:c}=t;let d={...c},h=!1,f;if(e._optimisticResults){const $=this.hasListeners(),M=!$&&h7(t,e),P=$&&f7(t,n,e,r);(M||P)&&(d={...d,...J$(c.data,t.options)}),e._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:m,errorUpdatedAt:g,status:p}=d;f=d.data;let v=!1;if(e.placeholderData!==void 0&&f===void 0&&p==="pending"){let $;i?.isPlaceholderData&&e.placeholderData===o?.placeholderData?($=i.data,v=!0):$=typeof e.placeholderData=="function"?e.placeholderData(this.#m?.state.data,this.#m):e.placeholderData,$!==void 0&&(p="success",f=ax(i?.data,$,e),h=!0)}if(e.select&&f!==void 0&&!v)if(i&&f===s?.data&&e.select===this.#l)f=this.#f;else try{this.#l=e.select,f=e.select(f),f=ax(i?.data,f,e),this.#f=f,this.#s=null}catch($){this.#s=$}this.#s&&(m=this.#s,f=this.#f,g=Date.now(),p="error");const b=d.fetchStatus==="fetching",y=p==="pending",C=p==="error",x=y&&b,O=f!==void 0,T={status:p,fetchStatus:d.fetchStatus,isPending:y,isSuccess:p==="success",isError:C,isInitialLoading:x,isLoading:x,data:f,dataUpdatedAt:d.dataUpdatedAt,error:m,errorUpdatedAt:g,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:b,isRefetching:b&&!y,isLoadingError:C&&!O,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:C&&O,isStale:W5(t,e),refetch:this.refetch,promise:this.#a};if(this.options.experimental_prefetchInRender){const $=L=>{T.status==="error"?L.reject(T.error):T.data!==void 0&&L.resolve(T.data)},M=()=>{const L=this.#a=T.promise=lx();$(L)},P=this.#a;switch(P.status){case"pending":t.queryHash===n.queryHash&&$(P);break;case"fulfilled":(T.status==="error"||T.data!==P.value)&&M();break;case"rejected":(T.status!=="error"||T.error!==P.reason)&&M();break}}return T}updateResult(){const t=this.#r,e=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#o=this.options,this.#i.data!==void 0&&(this.#m=this.#t),Py(e,t))return;this.#r=e;const n=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#g.size)return!0;const s=new Set(i??this.#g);return this.options.throwOnError&&s.add("error"),Object.keys(this.#r).some(o=>{const a=o;return this.#r[a]!==t[a]&&s.has(a)})};this.#S({listeners:n()})}#k(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#S(t){Xi.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function LK(t,e){return Za(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function h7(t,e){return LK(t,e)||t.state.data!==void 0&&cx(t,e,e.refetchOnMount)}function cx(t,e,n){if(Za(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&W5(t,e)}return!1}function f7(t,e,n,r){return(t!==e||Za(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&W5(t,n)}function W5(t,e){return Za(e.enabled,t)!==!1&&t.isStaleByTime(cm(e.staleTime,t))}function NK(t,e){return!Py(t.getCurrentResult(),e)}var FK=class extends bg{#e;#t=void 0;#n;#r;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),Py(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Rh(n.mutationKey)!==Rh(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#o(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#o()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#i(){const e=this.#n?.state??eL();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#o(e){Xi.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,n,r),this.#r.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#r.onError?.(e.error,n,r),this.#r.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#t)})})}};function BK(t){return t}function zK(t,e,n){if(typeof e!="object"||e===null)return;const r=t.getMutationCache(),i=t.getQueryCache(),s=t.getDefaultOptions().hydrate?.deserializeData??BK,o=e.mutations||[],a=e.queries||[];o.forEach(({state:l,...c})=>{r.build(t,{...t.getDefaultOptions().hydrate?.mutations,...n?.defaultOptions?.mutations,...c},l)}),a.forEach(({queryKey:l,state:c,queryHash:d,meta:h,promise:f})=>{let m=i.get(d);const g=c.data===void 0?c.data:s(c.data);if(m){if(m.state.dataUpdatedAt<c.dataUpdatedAt){const{fetchStatus:p,...v}=c;m.setState({...v,data:g})}}else m=i.build(t,{...t.getDefaultOptions().hydrate?.queries,...n?.defaultOptions?.queries,queryKey:l,queryHash:d,meta:h},{...c,data:g,fetchStatus:"idle"});if(f){const p=Promise.resolve(f).then(s);m.fetch(void 0,{initialPromise:p})}})}var tL=yr(void 0),Tv=t=>{if(t)return t;const e=Nn(tL);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e()},QK=t=>(Te(e=>(e?.(),t.client.mount(),t.client.unmount.bind(t.client))),wt(()=>t.client.unmount()),u(tL.Provider,{value:()=>t.client,get children(){return t.children}})),nL=yr(()=>!1),UK=()=>Nn(nL);nL.Provider;function VK(t,e,n,r){if(n===!1)return e;if(typeof n=="function"){const o=n(t.data,e.data);return{...e,data:o}}let i=e.data;if(t.data===void 0)try{i=structuredClone(i)}catch{}const s=bK(i,{key:n})(t.data);return{...e,data:s}}var jK=(t,e)=>e;function qK(t,e,n){const r=ke(()=>Tv(n?.())),i=UK(),s=ke(()=>{const x=r().defaultQueryOptions(t());return x._optimisticResults=i()?"isRestoring":"optimistic",x.structuralSharing=!1,x}),o=s(),[a,l]=ve(new e(r(),s()));let c=a().getOptimisticResult(s());const[d,h]=$a(c),f=()=>a().subscribe(O=>{c=O,queueMicrotask(()=>{p&&y()})});function m(x){const O=a().options,S=O.reconcile;h(T=>VK(T,x,S===void 0?!1:S,O.queryHash))}function g(){return[()=>d,x=>{const O=cd(d);if(typeof x=="function"&&(x=x(O)),x?.hydrationData){const{hydrationData:S,...T}=x;x=T}m(x)}]}let p=null,v=null;const[b,{refetch:y}]=sZ(()=>{const x=a();return new Promise((O,S)=>{if(v=O,!p&&!i()&&(p=f()),x.updateResult(),c.isError&&!c.isFetching&&!i()&&X$(x.options.throwOnError,[c.error,x.getCurrentQuery()]))return m(c),S(c.error);if(!c.isLoading)return v=null,O(jK(x.getCurrentQuery(),c));m(c)})},{storage:g,get deferStream(){return t().deferStream},onHydrated(x,O){if(O.value&&"hydrationData"in O.value&&zK(r(),{queries:[{...O.value.hydrationData}]}),p)return;const S={...o};(o.staleTime||!o.initialData)&&O.value&&(S.refetchOnMount=!1),a().setOptions(S),m(a().getOptimisticResult(S)),p=f()}});Ji(Zt(r,x=>{p&&p();const O=new e(x,s());p=f(),l(O)},{defer:!0})),Ji(Zt(i,x=>{x||y()},{defer:!0})),wt(()=>{p&&(p(),p=null),v&&(v(c),v=null)}),Ji(Zt([a,s],([x,O])=>{x.setOptions(O),m(x.getOptimisticResult(O)),y()},{defer:!0}));const C={get(x,O){return O==="data"?d.data!==void 0?b.latest?.data:b()?.data:Reflect.get(x,O)}};return new Proxy(d,C)}function Ho(t,e){return qK(ke(()=>t()),$K,e)}function HK(){}function ss(t,e){const n=ke(()=>Tv(e?.())),r=new FK(n(),t()),i=(l,c)=>{r.mutate(l,c).catch(HK)},[s,o]=$a({...r.getCurrentResult(),mutate:i,mutateAsync:r.getCurrentResult().mutate});Ji(()=>{r.setOptions(t())}),Ji(Zt(()=>s.status,()=>{if(s.isError&&X$(r.options.throwOnError,[s.error]))throw s.error}));const a=r.subscribe(l=>{o({...l,mutate:i,mutateAsync:l.mutate})});return wt(a),s}var WK=class extends IK{constructor(t={}){super(t)}},X5=Ho;const XK="https://api.revolt.chat",YK={1:[[""]],2:[["users","@me"],["users",["{target}"]],["users","dms"],["users","friend"],["bots","create"],["bots",["{bot}"]],["bots","@me"],["bots",["{target}"]],["channels",["{target}"]],["channels","create"],["servers","create"],["servers",["{target}"]],["invites",["{target}"]],["safety","report"],["onboard","hello"],["onboard","complete"],["policy","acknowledge"],["push","subscribe"],["push","unsubscribe"],["sync","unreads"],["webhooks",["{webhook_id}"]]],3:[["users",["{target}"],"flags"],["users","@me","username"],["users",["{target}"],"default_avatar"],["users",["{target}"],"profile"],["users",["{target}"],"dm"],["users",["{target}"],"mutual"],["users",["{target}"],"friend"],["users",["{target}"],"block"],["bots",["{target}"],"invite"],["channels",["{target}"],"members"],["channels",["{target}"],"invites"],["channels",["{target}"],"messages"],["channels",["{target}"],"search"],["channels",["{target}"],"join_call"],["channels",["{target}"],"webhooks"],["channels",["{channel_id}"],"webhooks"],["servers",["{target}"],"ack"],["servers",["{server}"],"channels"],["servers",["{target}"],"members"],["servers",["{target}"],"members_experimental_query"],["servers",["{target}"],"bans"],["servers",["{target}"],"invites"],["servers",["{target}"],"roles"],["servers",["{target}"],"emojis"],["custom","emoji",["{id}"]],["custom","emoji",["{emoji_id}"]],["auth","account","create"],["auth","account","reverify"],["auth","account","delete"],["auth","account",""],["auth","account","disable"],["auth","account","reset_password"],["auth","session","login"],["auth","session","logout"],["auth","session","all"],["auth","session",["{id}"]],["auth","mfa","ticket"],["auth","mfa",""],["auth","mfa","recovery"],["auth","mfa","methods"],["auth","mfa","totp"],["sync","settings","fetch"],["sync","settings","set"],["webhooks",["{webhook_id}"],["{token}"]]],4:[["channels",["{target}"],"ack",["{message}"]],["channels",["{target}"],"messages",["{msg}"]],["channels",["{target}"],"messages","bulk"],["channels",["{group_id}"],"recipients",["{member_id}"]],["channels",["{target}"],"recipients",["{member}"]],["channels",["{target}"],"end_ring",["{target_user}"]],["channels",["{target}"],"permissions",["{role_id}"]],["channels",["{target}"],"permissions","default"],["servers",["{target}"],"members",["{member}"]],["servers",["{server}"],"members",["{member}"]],["servers",["{server}"],"bans",["{target}"]],["servers",["{target}"],"roles",["{role_id}"]],["servers",["{target}"],"permissions",["{role_id}"]],["servers",["{target}"],"permissions","default"],["servers",["{target}"],"roles","ranks"],["auth","account","change","password"],["auth","account","change","email"],["auth","account","verify",["{code}"]],["webhooks",["{webhook_id}"],["{token}"],"github"]],5:[["channels",["{target}"],"messages",["{msg}"],"pin"],["channels",["{target}"],"messages",["{msg}"],"reactions"]],6:[["channels",["{target}"],"messages",["{msg}"],"reactions",["{emoji}"]]]},GK={"/":{get:[]},"/users/@me":{get:[]},"/users/{target}":{get:[],patch:[]},"/users/{target}/flags":{get:[]},"/users/@me/username":{patch:[]},"/users/{target}/default_avatar":{get:[]},"/users/{target}/profile":{get:[]},"/users/dms":{get:[]},"/users/{target}/dm":{get:[]},"/users/{target}/mutual":{get:[]},"/users/{target}/friend":{put:[],delete:[]},"/users/{target}/block":{put:[],delete:[]},"/users/friend":{post:[]},"/bots/create":{post:[]},"/bots/{target}/invite":{get:[],post:[]},"/bots/{bot}":{get:[]},"/bots/@me":{get:[]},"/bots/{target}":{delete:[],patch:[]},"/channels/{target}/ack/{message}":{put:[]},"/channels/{target}":{get:[],delete:["leave_silently"],patch:[]},"/channels/{target}/members":{get:[]},"/channels/{target}/invites":{post:[]},"/channels/{target}/messages":{get:["limit","before","after","sort","nearby","include_users"],post:[]},"/channels/{target}/search":{post:[]},"/channels/{target}/messages/{msg}/pin":{post:[],delete:[]},"/channels/{target}/messages/{msg}":{get:[],delete:[],patch:[]},"/channels/{target}/messages/bulk":{delete:[]},"/channels/create":{post:[]},"/channels/{group_id}/recipients/{member_id}":{put:[]},"/channels/{target}/recipients/{member}":{delete:[]},"/channels/{target}/join_call":{post:[]},"/channels/{target}/end_ring/{target_user}":{put:[]},"/channels/{target}/permissions/{role_id}":{put:[]},"/channels/{target}/permissions/default":{put:[]},"/channels/{target}/messages/{msg}/reactions/{emoji}":{put:[],delete:["user_id","remove_all"]},"/channels/{target}/messages/{msg}/reactions":{delete:[]},"/channels/{target}/webhooks":{post:[]},"/channels/{channel_id}/webhooks":{get:[]},"/servers/create":{post:[]},"/servers/{target}":{get:["include_channels"],delete:["leave_silently"],patch:[]},"/servers/{target}/ack":{put:[]},"/servers/{server}/channels":{post:[]},"/servers/{target}/members":{get:["exclude_offline"]},"/servers/{target}/members/{member}":{get:["roles"],delete:[]},"/servers/{server}/members/{member}":{patch:[]},"/servers/{target}/members_experimental_query":{get:["query","experimental_api"]},"/servers/{server}/bans/{target}":{put:[],delete:[]},"/servers/{target}/bans":{get:[]},"/servers/{target}/invites":{get:[]},"/servers/{target}/roles":{post:[]},"/servers/{target}/roles/{role_id}":{get:[],delete:[],patch:[]},"/servers/{target}/permissions/{role_id}":{put:[]},"/servers/{target}/permissions/default":{put:[]},"/servers/{target}/emojis":{get:[]},"/servers/{target}/roles/ranks":{patch:[]},"/invites/{target}":{get:[],post:[],delete:[]},"/custom/emoji/{id}":{put:[]},"/custom/emoji/{emoji_id}":{get:[],delete:[]},"/safety/report":{post:[]},"/auth/account/create":{post:[]},"/auth/account/reverify":{post:[]},"/auth/account/delete":{put:[],post:[]},"/auth/account/":{get:[]},"/auth/account/disable":{post:[]},"/auth/account/change/password":{patch:[]},"/auth/account/change/email":{patch:[]},"/auth/account/verify/{code}":{post:[]},"/auth/account/reset_password":{post:[],patch:[]},"/auth/session/login":{post:[]},"/auth/session/logout":{post:[]},"/auth/session/all":{get:[],delete:["revoke_self"]},"/auth/session/{id}":{delete:[],patch:[]},"/auth/mfa/ticket":{put:[]},"/auth/mfa/":{get:[]},"/auth/mfa/recovery":{post:[],patch:[]},"/auth/mfa/methods":{get:[]},"/auth/mfa/totp":{put:[],post:[],delete:[]},"/onboard/hello":{get:[]},"/onboard/complete":{post:[]},"/policy/acknowledge":{post:[]},"/push/subscribe":{post:[]},"/push/unsubscribe":{post:[]},"/sync/settings/fetch":{post:[]},"/sync/settings/set":{post:["timestamp"]},"/sync/unreads":{get:[]},"/webhooks/{webhook_id}/{token}":{get:[],post:[],delete:[],patch:[]},"/webhooks/{webhook_id}":{get:[],delete:[],patch:[]},"/webhooks/{webhook_id}/{token}/github":{post:[]}},rL=/^-?\d+n+$/,vk=JSON.stringify,m7=JSON.parse,iL=(t,e,n)=>{if("rawJSON"in JSON)return vk(t,(l,c)=>typeof c=="bigint"?JSON.rawJSON(c.toString()):(Array.isArray(e)&&e.includes(l),c),n);if(!t)return vk(t,e,n);const r=/([\[:])?"(-?\d+)n"($|([\\n]|\s)*(\s|[\\n])*[,\}\]])/g,i=/([\[:])?("-?\d+n+)n("$|"([\\n]|\s)*(\s|[\\n])*[,\}\]])/g;return vk(t,(l,c)=>typeof c=="string"&&!!c.match(rL)||typeof c=="bigint"?c.toString()+"n":(Array.isArray(e)&&e.includes(l),c),n).replace(r,"$1$2$3").replace(i,"$1$2$3")},sL=(t,e)=>{if(!t)return m7(t,e);const n=Number.MAX_SAFE_INTEGER.toString(),r=n.length,i=/"(?:\\.|[^"])*"|-?(0|[1-9][0-9]*)(\.[0-9]+)?([eE][+-]?[0-9]+)?/g,s=/^"-?\d+n+"$/,o=/^-?\d+n$/,a=t.replace(i,(l,c,d,h)=>{const f=l[0]==='"';if(f&&!!l.match(s))return l.substring(0,l.length-1)+'n"';const g=d||h,p=c&&(c.length<r||c.length===r&&c<=n);return f||g||p?l:'"'+l+'n"'});return m7(a,(l,c,d)=>typeof c=="string"&&!!c.match(o)?BigInt(c.substring(0,c.length-1)):typeof c=="string"&&!!c.match(rL)?c.substring(0,c.length-1):c)};function ZK(t){const e=t.split("/"),n=YK[(e.length-1).toString()]||[];for(const r of n){let i=1,s=[...e];for(i;i<e.length;i++)if(Array.isArray(r[i-1])){s[i]=r[i-1];continue}else if(r[i-1]!==e[i])break;if(i===e.length)return s.join("/")}}class ux{baseURL;authentication;headers;constructor({baseURL:e,authentication:n,headers:r}={}){this.baseURL=e||XK,this.authentication=n||{},this.headers=r||{}}get auth(){if(this.authentication.rauth){if(typeof this.authentication.rauth=="string")return{"X-Session-Token":this.authentication.rauth}}else if(this.authentication.revolt)switch(typeof this.authentication.revolt){case"string":return{"X-Bot-Token":this.authentication.revolt};case"object":return{"X-Session-Token":this.authentication.revolt.token}}else if(this.authentication.headers)return this.authentication.headers;return{}}get config(){return{baseURL:this.baseURL,headers:{...this.auth,...this.headers}}}async req(e,n,r,i){let s=new URLSearchParams,o={},a=ZK(n);if(a&&typeof r=="object"){const g=GK[a][e];for(const p of Object.keys(r))typeof r[p]<"u"&&(g?.includes(p)?s.append(p,r[p]):o[p]=r[p])}const l=["head","get"].includes(e)?void 0:iL(o);let c=`${n}?${s.toString()}`;c.startsWith("/")&&(c=(i?.baseURL||this.baseURL)+c);const d=await fetch(new URL(c).toString(),{method:e.toUpperCase(),headers:{...i?.headers||{},...this.config.headers||{}},body:l}),h=i?.responseType||"json",f=d.status===204?null:await d[h==="json"?"text":h]();if(d.ok)return h==="json"?sL(f):f;throw f}get(e,n,r){return this.req("get",e,n,r)}patch(e,n,r){return this.req("patch",e,n,r)}put(e,n,r){return this.req("put",e,n,r)}delete(e,n,r){return this.req("delete",e,n,r)}post(e,n,r){return this.req("post",e,n,r)}}var KK=Object.defineProperty,Wr=(t,e)=>KK(t,"name",{value:e,configurable:!0});function Rf(t){if(typeof t!="function")throw new TypeError(`The listener argument must be a function. Received ${typeof t}`)}Wr(Rf,"validateListener");function dx(t){if(t&&!(t instanceof AbortSignal))throw new TypeError(`The signal option must be an AbortSignal. Received ${t}`)}Wr(dx,"validateAbortSignal");function oL(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}Wr(oL,"spliceOne");function Ib(t){switch(t.length){case 2:return[t[0],t[1]];case 3:return[t[0],t[1],t[2]];case 4:return[t[0],t[1],t[2],t[3]];case 5:return[t[0],t[1],t[2],t[3],t[4]];case 6:return[t[0],t[1],t[2],t[3],t[4],t[5]]}return t.slice()}Wr(Ib,"arrayClone");function aL(t,e){for(let n=0;n<t.length-3;n++){const r=e.indexOf(t[n]);if(r!==-1){const i=e.length-r;if(i>3){let s=1;const o=Math.min(t.length-n,i);for(;o>s&&t[n+s]===e[r+s];)s++;if(s>3)return[s,n]}}}return[0,0]}Wr(aL,"identicalSequenceRange");function lL(t,e){let n="";try{const{name:l}=this.constructor;l!=="AsyncEventEmitter"&&(n=` on ${l} instance`)}catch{}const r=`
Emitted 'error' event${n} at:
`,i=t.stack.split(`
`).slice(1),s=e.stack.split(`
`).slice(1),{0:o,1:a}=aL(s,i);return o>0&&s.splice(a+1,o-2,"    [... lines matching original stack trace ...]"),t.stack+r+s.join(`
`)}Wr(lL,"enhanceStackTrace");var cL=class uL{constructor(){this._events={__proto__:null},this._eventCount=0,this._maxListeners=10,this._internalPromiseMap=new Map,this._wrapperId=0n}addListener(e,n){Rf(n);const r=this._wrapListener(e,n,!1);return this._addListener(e,r,!1),this}on(e,n){return this.addListener(e,n)}once(e,n){Rf(n);const r=this._wrapListener(e,n,!0);return this._addListener(e,r,!1),this}removeListener(e,n){Rf(n);const r=this._events,i=r[e];if(i===void 0)return this;if(i===n||i.listener===n)--this._eventCount===0?this._events={__proto__:null}:(delete r[e],r.removeListener&&this.emit("removeListener",e,i.listener??i));else if(typeof i!="function"){let s=-1;for(let o=i.length-1;o>=0;o--)if(i[o]===n||i[o].listener===n){s=o;break}if(s<0)return this;s===0?i.shift():oL(i,s),i.length===0&&(delete r[e],--this._eventCount),r.removeListener!==void 0&&this.emit("removeListener",e,n)}return this}off(e,n){return this.removeListener(e,n)}removeAllListeners(e){const n=this._events;if(n.removeListener===void 0)return e?n[e]!==void 0&&(--this._eventCount===0?this._events={__proto__:null}:delete n[e]):(this._events={__proto__:null},this._eventCount=0),this;if(!e){for(const i of Reflect.ownKeys(n))i!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events={__proto__:null},this._eventCount=0,this}const r=n[e];if(typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(let i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this}setMaxListeners(e){if(typeof e!="number"||e<0||Number.isNaN(e))throw new RangeError(`Expected to get a non-negative number for "setMaxListeners", got ${e} instead`);return this._maxListeners=e,this}getMaxListeners(){return this._maxListeners}listeners(e){const n=this._events[e];if(n===void 0)return[];if(typeof n=="function")return[n.listener??n];const r=Ib(n);for(let i=0;i<r.length;++i){const s=r[i].listener;typeof s=="function"&&(r[i]=s)}return r}rawListeners(e){const n=this._events[e];return n===void 0?[]:typeof n=="function"?[n]:Ib(n)}emit(e,...n){let r=e==="error";const i=this._events;if(i!==void 0)r=r&&i.error===void 0;else if(!r)return!1;if(r){let o;if(n.length>0&&(o=n[0]),o instanceof Error){try{const c={};Error.captureStackTrace(c,uL.prototype.emit),Object.defineProperty(o,"stack",{value:lL.call(this,o,c),configurable:!0})}catch{}throw o}const a=String(o),l=new Error(`Unhandled 'error' event emitted, received ${a}`);throw l.context=o,l}const s=i[e];if(s===void 0)return!1;if(typeof s=="function"){const o=s.apply(this,n);o!=null&&fx(this,o)}else{const o=s.length,a=Ib(s);for(let l=0;l<o;++l){const c=a[l].apply(this,n);c!=null&&fx(this,c)}}return!0}listenerCount(e){const n=this._events;if(n===void 0)return 0;const r=n[e];return typeof r=="function"?1:r?.length??0}prependListener(e,n){Rf(n);const r=this._wrapListener(e,n,!1);return this._addListener(e,r,!0),this}prependOnceListener(e,n){Rf(n);const r=this._wrapListener(e,n,!0);return this._addListener(e,r,!0),this}eventNames(){return this._eventCount>0?Reflect.ownKeys(this._events):[]}async waitForAllListenersToComplete(){const e=[...this._internalPromiseMap.values()];return e.length===0?!1:(await Promise.all(e),!0)}_addListener(e,n,r){this._events.newListener!==void 0&&this.emit("newListener",e,n.listener??n);let i=this._events[e];i===void 0?(i=this._events[e]=n,++this._eventCount):typeof i=="function"?i=this._events[e]=r?[n,i]:[i,n]:r?i.unshift(n):i.push(n);const s=Reflect.get(i,"_hasWarnedAboutMaxListeners");if(this._maxListeners>0&&i.length>this._maxListeners&&!s){Reflect.set(i,"_hasWarnedAboutMaxListeners",!0);const o=[`Possible AsyncEventEmitter memory leak detected. ${i.length} ${String(e)} listeners added to ${this.constructor.name}.`,"Use emitter.setMaxListeners() to increase the limit."].join(" ");console.warn(o)}}_wrapListener(e,n,r){if(!r)return n;const i={fired:!1,wrapFn:void 0,eventEmitter:this,eventName:e,listener:n},o=hL.bind(i);return o.listener=n,i.wrapFn=o,o}static listenerCount(e,n){return e.listenerCount(n)}static async once(e,n,r={}){const i=r?.signal;if(dx(i),i?.aborted)throw new p1(void 0,{cause:Rp(i)});return new Promise((s,o)=>{const a=Wr(d=>{e.removeListener(n,l),i&&Mf(e,n,c),o(d)},"errorListener"),l=Wr((...d)=>{e.removeListener("error",a),i&&Mf(i,"abort",c),s(d)},"resolver");e.once(n,l),n!=="error"&&e.once("error",a);const c=Wr(()=>{Mf(e,n,l),Mf(e,"error",a),o(new p1(void 0,{cause:Rp(i)}))},"abortListener");i&&hx(i,"abort",c,{once:!0})})}static on(e,n,r={}){const i=r?.signal;if(dx(i),i?.aborted)throw new p1(void 0,{cause:Rp(i)});const s=[],o=[];let a=null,l=!1;const c=Wr(()=>{h(new p1(void 0,{cause:Rp(i)}))},"abortListener"),d=Wr((...m)=>{const g=o.shift();g?g.resolve(Mp(m,!1)):s.push(m)},"eventHandler"),h=Wr(m=>{l=!0;const g=o.shift();g?g.reject(m):a=m,f.return()},"errorHandler"),f=Object.setPrototypeOf({next(){const m=s.shift();if(m)return Promise.resolve(Mp(m,!1));if(a){const g=Promise.reject(a);return a=null,g}return l?Promise.resolve(Mp(void 0,!0)):new Promise((g,p)=>{o.push({resolve:g,reject:p})})},return(){e.off(n,d),e.off("error",h),i&&Mf(i,"abort",c),l=!0;const m=Mp(void 0,!0);for(const g of o)g.resolve(m);return Promise.resolve(m)},throw(m){if(!m||!(m instanceof Error))throw new TypeError(`Expected Error instance to be thrown in AsyncEventEmitter.AsyncIterator. Got ${m}`);a=m,e.off(n,d),e.off("error",h)},[Symbol.asyncIterator](){return this}},JK);return e.on(n,d),n!=="error"&&e.on("error",h),i&&hx(i,"abort",c),f}};Wr(cL,"AsyncEventEmitter");var dL=cL;function hL(){if(!this.fired)return this.eventEmitter.removeListener(this.eventName,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.eventEmitter):this.listener.apply(this.eventEmitter,arguments)}Wr(hL,"onceWrapper");function Rp(t){return t?.reason}Wr(Rp,"getReason");function Mf(t,e,n,r){typeof t.off=="function"?t.off(e,n):typeof t.removeEventListener=="function"&&t.removeEventListener(e,n,r)}Wr(Mf,"eventTargetAgnosticRemoveListener");function hx(t,e,n,r){typeof t.on=="function"?r?.once?t.once(e,n):t.on(e,n):typeof t.addEventListener=="function"&&t.addEventListener(e,n,r)}Wr(hx,"eventTargetAgnosticAddListener");var JK=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);function Mp(t,e){return{value:t,done:e}}Wr(Mp,"createIterResult");var fL=class extends Error{constructor(e="The operation was aborted",n=void 0){if(n!==void 0&&typeof n!="object")throw new TypeError("Failed to create AbortError: options is not an object or undefined");super(e,n),this.code="ABORT_ERR",this.name="AbortError"}};Wr(fL,"AbortError");var p1=fL;function fx(t,e){try{const n=e.then,r=e.finally;if(typeof n=="function"&&n.call(e,void 0,i=>{setTimeout(()=>{t.emit("error",i)},0)}),typeof r=="function"){const i=String(++t._wrapperId);t._internalPromiseMap.set(i,e),r.call(e,Wr(function(){t._internalPromiseMap.delete(i)},"final"))}}catch(n){t.emit("error",n)}}Wr(fx,"handleMaybeAsync");class eJ{#e;#t;constructor(e,n){this.#e=e,this.#t=$a(n)}get authenticatorEnabled(){return this.#t[0].totp_mfa}get recoveryEnabled(){return this.#t[0].recovery_active}get availableMethods(){return this.authenticatorEnabled?this.recoveryEnabled?["Totp","Recovery"]:["Totp"]:["Password"]}async createTicket(e){return new tJ(this.#e,await this.#e.api.put("/auth/mfa/ticket",e),this.#t[1])}async enableAuthenticator(e){await this.#e.api.put("/auth/mfa/totp",{totp_code:e}),this.#t[1]("totp_mfa",!0)}}class tJ{#e;#t;#n;#r=!1;constructor(e,n,r){this.#e=e,this.#t=n,this.#n=r}get token(){return this.#t.token}#i(){if(this.#r)throw"Already used this ticket!";this.#r=!0}fetchRecoveryCodes(){return this.#i(),this.#e.api.post("/auth/mfa/recovery",void 0,{headers:{"X-MFA-Ticket":this.token}})}async generateRecoveryCodes(){this.#i();const e=await this.#e.api.patch("/auth/mfa/recovery",void 0,{headers:{"X-MFA-Ticket":this.token}});return this.#n("recovery_active",!0),e}async generateAuthenticatorSecret(){return this.#i(),(await this.#e.api.post("/auth/mfa/totp",void 0,{headers:{"X-MFA-Ticket":this.token}})).secret}async disableAuthenticator(){this.#i(),await this.#e.api.delete("/auth/mfa/totp",void 0,{headers:{"X-MFA-Ticket":this.token}}),this.#n("totp_mfa",!1)}disableAccount(){return this.#i(),this.#e.api.post("/auth/account/disable",void 0,{headers:{"X-MFA-Ticket":this.token}})}deleteAccount(){return this.#i(),this.#e.api.post("/auth/account/delete",void 0,{headers:{"X-MFA-Ticket":this.token}})}}class nJ{client;constructor(e){this.client=e}async fetchEmail(){return(await this.client.api.get("/auth/account/")).email}async mfa(){return new eJ(this.client,await this.client.api.get("/auth/mfa/"))}create(e){return this.client.api.post("/auth/account/create",e)}reverify(e,n){return this.client.api.post("/auth/account/reverify",{email:e,captcha:n})}resetPassword(e,n){return this.client.api.post("/auth/account/reset_password",{email:e,captcha:n})}verify(e){return this.client.api.post(`/auth/account/verify/${e}`)}confirmDelete(e){return this.client.api.put("/auth/account/delete",{token:e})}confirmPasswordReset(e,n,r){return this.client.api.patch("/auth/account/reset_password",{token:e,password:n,remove_sessions:r})}changePassword(e,n){return this.client.api.patch("/auth/account/change/password",{password:e,current_password:n})}changeEmail(e,n){return this.client.api.patch("/auth/account/change/email",{email:e,current_password:n})}fetchSettings(e){return this.client.api.post("/sync/settings/fetch",{keys:e})}setSettings(e,n=+new Date){return this.client.api.post("/sync/settings/set",{...e,timestamp:n})}webPushSubscribe(e){return this.client.api.post("/push/subscribe",e)}webPushUnsubscribe(){return this.client.api.post("/push/unsubscribe")}}function vh(t){const e=new Error(t);return e.source="ulid",e}const bO="0123456789ABCDEFGHJKMNPQRSTVWXYZ",um=bO.length,mx=Math.pow(2,48)-1,gx=10,mL=16;function rJ(t){let e=Math.floor(t()*um);return e===um&&(e=um-1),bO.charAt(e)}function iJ(t,e){if(isNaN(t))throw new Error(t+" must be a number");if(t>mx)throw vh("cannot encode time greater than "+mx);if(t<0)throw vh("time must be positive");if(Number.isInteger(Number(t))===!1)throw vh("time must be an integer");let n,r="";for(;e>0;e--)n=t%um,r=bO.charAt(n)+r,t=(t-n)/um;return r}function sJ(t,e){let n="";for(;t>0;t--)n=rJ(e)+n;return n}function Wo(t){if(t.length!==gx+mL)throw vh("malformed ulid");var e=t.substr(0,gx).split("").reverse().reduce((n,r,i)=>{const s=bO.indexOf(r);if(s===-1)throw vh("invalid character found: "+r);return n+=s*Math.pow(um,i)},0);if(e>mx)throw vh("malformed ulid, timestamp too large");return e}function oJ(t=!1,e){e||(e=typeof window<"u"?window:null);const n=e&&(e.crypto||e.msCrypto);if(n)return()=>{const r=new Uint8Array(1);return n.getRandomValues(r),r[0]/255};try{const r=require("crypto");return()=>r.randomBytes(1).readUInt8()/255}catch{}if(t){try{console.error("secure crypto unusable, falling back to insecure Math.random()!")}catch{}return()=>Math.random()}throw vh("secure crypto unusable, insecure Math.random not allowed")}function aJ(t){return t||(t=oJ()),function(n){return isNaN(n)&&(n=Date.now()),iJ(n,gx)+sJ(mL,t)}}const D0=aJ(),lJ={equals:!1},cJ=lJ;class px{#e;constructor(e=Map){this.#e=new e}dirty(e){this.#e.get(e)?.$$()}dirtyAll(){for(const e of this.#e.values())e.$$()}track(e){if(!xy())return;let n=this.#e.get(e);if(n)n.n++;else{const[r,i]=ve(void 0,cJ);this.#e.set(e,n={$:r,$$:i,n:1})}wt(()=>{--n.n===0&&queueMicrotask(()=>n.n===0&&this.#e.delete(e))}),n.$()}}const bo=Symbol("track-object");class $m extends Map{#e=new px;#t=new px;[Symbol.iterator](){return this.entries()}constructor(e){if(super(),e)for(const n of e)super.set(...n)}get size(){return this.#e.track(bo),super.size}*keys(){this.#e.track(bo);for(const e of super.keys())yield e}*values(){this.#t.track(bo);for(const e of super.values())yield e}*entries(){this.#e.track(bo),this.#t.track(bo);for(const e of super.entries())yield e}forEach(e,n){this.#e.track(bo),this.#t.track(bo),super.forEach(e,n)}has(e){return this.#e.track(e),super.has(e)}get(e){return this.#t.track(e),super.get(e)}set(e,n){const r=!super.has(e),i=super.get(e)!==n,s=super.set(e,n);return(i||r)&&Nt(()=>{r&&(this.#e.dirty(bo),this.#e.dirty(e)),i&&(this.#t.dirty(bo),this.#t.dirty(e))}),s}delete(e){const n=super.get(e)!==void 0,r=super.delete(e);return r&&Nt(()=>{this.#e.dirty(bo),this.#t.dirty(bo),this.#e.dirty(e),n&&this.#t.dirty(e)}),r}clear(){super.size!==0&&Nt(()=>{this.#e.dirty(bo),this.#t.dirty(bo);for(const e of super.keys())this.#e.dirty(e),this.#t.dirty(e);super.clear()})}}const uJ={keyMapping:{_id:"id",owner:"ownerId",interactions_url:"interactionsUrl",terms_of_service_url:"termsOfServiceUrl",privacy_policy_url:"privacyPolicyUrl"},functions:{id:t=>t._id,ownerId:t=>t.owner,token:t=>t.token,public:t=>t.public,analytics:t=>t.analytics,discoverable:t=>t.discoverable,interactionsUrl:t=>t.interactions_url,termsOfServiceUrl:t=>t.terms_of_service_url,privacyPolicyUrl:t=>t.privacy_policy_url,flags:t=>t.flags},initialHydration:()=>({})},Bd=Symbol("track-keys");class ba extends Set{#e=new px;constructor(e){if(super(),e)for(const n of e)super.add(n)}[Symbol.iterator](){return this.values()}get size(){return this.#e.track(Bd),super.size}has(e){return this.#e.track(e),super.has(e)}keys(){return this.values()}*values(){this.#e.track(Bd);for(const e of super.values())yield e}*entries(){this.#e.track(Bd);for(const e of super.entries())yield e}forEach(e,n){this.#e.track(Bd),super.forEach(e,n)}add(e){return super.has(e)||(super.add(e),Nt(()=>{this.#e.dirty(e),this.#e.dirty(Bd)})),this}delete(e){const n=super.delete(e);return n&&Nt(()=>{this.#e.dirty(e),this.#e.dirty(Bd)}),n}clear(){super.size&&Nt(()=>{this.#e.dirty(Bd);for(const e of super.values())this.#e.dirty(e);super.clear()})}}class Is{#e;id;tag;filename;metadata;contentType;size;constructor(e,n){this.#e=e,this.id=n._id,this.tag=n.tag,this.filename=n.filename,this.metadata=n.metadata,this.contentType=n.content_type,this.size=n.size}get previewUrl(){return`${this.#e.configuration?.features.autumn.url}/${this.tag}/${this.id}`}get originalUrl(){return`${this.#e.configuration?.features.autumn.url}/${this.tag}/${this.id}/original`}get humanReadableSize(){return this.size?this.size>1e6?`${(this.size/1e6).toFixed(2)} MB`:this.size>1e3?`${(this.size/1e3).toFixed(2)} KB`:`${this.size} B`:"Unknown size"}get isSpoiler(){return this.filename?.toLowerCase().startsWith("spoiler_")??!1}createFileURL(e){const n=this.#e.configuration?.features.autumn;if(!n?.enabled)return;let r="";return e&&this.contentType==="image/gif"&&(r="/original"),`${n.url}/${this.tag}/${this.id}${r}`}}const dJ={keyMapping:{_id:"id",channel_type:"channelType",recipients:"recipientIds",user:"userId",owner:"ownerId",server:"serverId",default_permissions:"defaultPermissions",role_permissions:"rolePermissions",last_message_id:"lastMessageId"},functions:{id:t=>t._id,channelType:t=>t.channel_type,name:t=>t.name,description:t=>t.description,icon:(t,e)=>new Is(e,t.icon),active:t=>t.active||!1,typingIds:()=>new ba,recipientIds:t=>new ba(t.recipients),userId:t=>t.user,ownerId:t=>t.owner,serverId:t=>t.server,permissions:t=>BigInt(t.permissions),defaultPermissions:t=>({a:BigInt(t.default_permissions?.a??0),d:BigInt(t.default_permissions?.d??0)}),rolePermissions:t=>Object.fromEntries(Object.entries(t.role_permissions??{}).map(([e,n])=>[e,{a:BigInt(n.a),d:BigInt(n.d)}])),nsfw:t=>t.nsfw||!1,lastMessageId:t=>t.last_message_id,voice:t=>t.voice||t.channel_type==="DirectMessage"||t.channel_type==="Group"?{maxUsers:t.voice?.max_users||void 0}:void 0},initialHydration:()=>({typingIds:new ba,recipientIds:new ba})},hJ={keyMapping:{_id:"id",last_id:"lastMessageId",mentions:"messageMentionIds"},functions:{id:t=>t._id.channel,lastMessageId:t=>t.last_id,messageMentionIds:t=>new ba(t.mentions)},initialHydration:()=>({messageMentionIds:new ba})},fJ={keyMapping:{id:"id",name:"name",avatar:"avatar",channel_id:"channelId",token:"token"},functions:{id:t=>t.id,name:t=>t.name,avatar:(t,e)=>t.avatar?new Is(e,t.avatar):void 0,channelId:t=>t.channel_id,token:t=>t.token},initialHydration:()=>({})},mJ={keyMapping:{_id:"id",creator_id:"creatorId"},functions:{id:t=>t._id,parent:t=>t.parent,creatorId:t=>t.creator_id,name:t=>t.name,animated:t=>t.animated||!1,nsfw:t=>t.nsfw||!1},initialHydration:()=>({})};let Lm=class{#e;id;constructor(e,n){this.#e=e,this.id=n}get $exists(){return!!this.#e.getUnderlyingObject(this.id).id}get createdAt(){return new Date(Wo(this.id))}get path(){return`${this.channel?.path}/${this.id}`}get url(){return this.#e.client.configuration?.app+this.path}get nonce(){return this.#e.getUnderlyingObject(this.id).nonce}get channelId(){return this.#e.getUnderlyingObject(this.id).channelId}get channel(){return this.#e.client.channels.get(this.#e.getUnderlyingObject(this.id).channelId)}get server(){return this.channel?.server}get member(){return this.#e.client.serverMembers.getByKey({server:this.channel?.serverId,user:this.authorId})}get authorId(){return this.#e.getUnderlyingObject(this.id).authorId}get author(){return this.#e.client.users.get(this.#e.getUnderlyingObject(this.id).authorId)}get webhook(){return this.#e.getUnderlyingObject(this.id).webhook}get content(){return this.#e.getUnderlyingObject(this.id).content??""}get contentPlain(){return this.#e.client.markdownToText(this.content)}get systemMessage(){return this.#e.getUnderlyingObject(this.id).systemMessage}get attachments(){return this.#e.getUnderlyingObject(this.id).attachments}get editedAt(){return this.#e.getUnderlyingObject(this.id).editedAt}get embeds(){return this.#e.getUnderlyingObject(this.id).embeds}get mentionIds(){return this.#e.getUnderlyingObject(this.id).mentionIds}get roleMentionIds(){return this.#e.getUnderlyingObject(this.id).roleMentionIds}get roleMentions(){return this.roleMentionIds?.map(e=>this.server?.roles.get(e)).filter(e=>e)}get mentioned(){return!!(this.flags&My.MentionsEveryone)||!!(this.flags&My.MentionsOnline)||this.mentionIds?.includes(this.#e.client.user.id)||this.roleMentions?.some(e=>e.assigned)||!1}get replyIds(){return this.#e.getUnderlyingObject(this.id).replyIds}get reactions(){return this.#e.getUnderlyingObject(this.id).reactions}get interactions(){return this.#e.getUnderlyingObject(this.id).interactions}get masquerade(){return this.#e.getUnderlyingObject(this.id).masquerade}get pinned(){return this.#e.getUnderlyingObject(this.id).pinned||!1}get flags(){return this.#e.getUnderlyingObject(this.id).flags||0}get username(){const e=this.webhook;return this.masquerade?.name??(e?e.name:this.member?.nickname??this.author?.username)}get roleColour(){return this.masquerade?.colour??this.member?.roleColour}get avatarURL(){const e=this.webhook;return this.masqueradeAvatarURL??(e?e.avatarURL:this.member?.avatarURL??this.author?.avatarURL)}get animatedAvatarURL(){const e=this.webhook;return this.masqueradeAvatarURL??(e?e.avatarURL:this.member?this.member?.animatedAvatarURL:this.author?.animatedAvatarURL)}get masqueradeAvatarURL(){const e=this.masquerade?.avatar;return e?this.#e.client.proxyFile(e):void 0}get isSuppressed(){return(this.flags&1)===1}async edit(e){return await this.#e.client.api.patch(`/channels/${this.channelId}/messages/${this.id}`,e)}async delete(){return await this.#e.client.api.delete(`/channels/${this.channelId}/messages/${this.id}`)}ack(e,n,r){this.channel?.ack(this,e,n,r)}reply(e,n=!0){const r=typeof e=="string"?{content:e}:e;return this.channel?.sendMessage({...r,replies:[{id:this.id,mention:n}]})}async clearReactions(){return await this.#e.client.api.delete(`/channels/${this.channelId}/messages/${this.id}/reactions`)}async react(e){return await this.#e.client.api.put(`/channels/${this.channelId}/messages/${this.id}/reactions/${e}`)}async unreact(e,n=!1){return await this.#e.client.api.delete(`/channels/${this.channelId}/messages/${this.id}/reactions/${e}`,{remove_all:n})}pin(){return this.#e.client.api.post(`/channels/${this.channelId}/messages/${this.id}/pin`)}unpin(){return this.#e.client.api.delete(`/channels/${this.channelId}/messages/${this.id}/pin`)}};class gJ{#e;id;name;avatar;constructor(e,n,r){this.#e=e,this.id=r,this.name=n.name,this.avatar=n.avatar?new Is(e,{_id:n.avatar,tag:"avatars",metadata:{type:"Image",width:256,height:256}}):void 0}get avatarURL(){return this.avatar?.createFileURL()??`${this.#e.options.baseURL}/users/${this.id}/default_avatar`}}class Kh{client;type;constructor(e,n="None"){this.client=e,this.type=n}static from(e,n){switch(n.type){case"Image":return new gL(e,n);case"Video":return new pL(e,n);case"Website":return new vJ(e,n);case"Text":return new bJ(e,n);default:return new pJ(e)}}}class pJ extends Kh{}class gL extends Kh{url;width;height;size;constructor(e,n){super(e,"Image"),this.url=n.url,this.width=n.width,this.height=n.height,this.size=n.size}get proxiedURL(){return this.client?.proxyFile(this.url)}}class pL extends Kh{url;width;height;constructor(e,n){super(e,"Video"),this.url=n.url,this.width=n.width,this.height=n.height}get proxiedURL(){return this.client?.proxyFile(this.url)}}class vJ extends Kh{url;originalUrl;specialContent;title;description;image;video;siteName;iconUrl;colour;constructor(e,n){super(e,"Website"),this.url=n.url,this.originalUrl=n.original_url,this.specialContent=n.special,this.title=n.title,this.description=n.description,this.image=n.image?new gL(e,n.image):void 0,this.video=n.video?new pL(e,n.video):void 0,this.siteName=n.site_name,this.iconUrl=n.icon_url,this.colour=n.colour}get proxiedIconURL(){return this.iconUrl?this.client?.proxyFile(this.iconUrl):void 0}get embedURL(){switch(this.specialContent?.type){case"YouTube":{let e="";return this.specialContent.timestamp&&(e=`&start=${this.specialContent.timestamp}`),`https://www.youtube-nocookie.com/embed/${this.specialContent.id}?modestbranding=1${e}`}case"Twitch":return`https://player.twitch.tv/?${this.specialContent.content_type.toLowerCase()}=${this.specialContent.id}&parent=${(window??{})?.location?.hostname}&autoplay=false`;case"Lightspeed":return`https://new.lightspeed.tv/embed/${this.specialContent.id}/stream`;case"Spotify":return`https://open.spotify.com/embed/${this.specialContent.content_type}/${this.specialContent.id}`;case"Soundcloud":return`https://w.soundcloud.com/player/?url=${encodeURIComponent(this.url)}&color=%23FF7F50&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true&visual=true`;case"Bandcamp":return`https://bandcamp.com/EmbeddedPlayer/${this.specialContent.content_type.toLowerCase()}=${this.specialContent.id}/size=large/bgcol=181a1b/linkcol=056cc4/tracklist=false/transparent=true/`;case"Streamable":return`https://streamable.com/e/${this.specialContent.id}?loop=0`}}}let bJ=class extends Kh{iconUrl;url;title;description;media;colour;constructor(e,n){super(e,"Text"),this.iconUrl=n.icon_url,this.url=n.url,this.title=n.title,this.description=n.description,this.media=n.media?new Is(e,n.media):void 0,this.colour=n.colour}get proxiedIconURL(){return this.iconUrl?this.client?.proxyFile(this.iconUrl):void 0}},Jh=class{client;type;constructor(e,n){this.client=e,this.type=n}static from(e,n,r){switch(r.type){case"text":return new g7(e,r);case"user_added":case"user_remove":return new yJ(e,r);case"user_joined":case"user_left":case"user_kicked":case"user_banned":return new vL(e,r);case"channel_renamed":return new OJ(e,r);case"channel_description_changed":case"channel_icon_changed":return new bL(e,r);case"channel_ownership_changed":return new wJ(e,r);case"message_pinned":case"message_unpinned":return new kJ(e,r);case"call_started":return new SJ(e,n,r);default:return new g7(e,{type:"text",content:`${r.type} is not supported.`})}}};class g7 extends Jh{content;constructor(e,n){super(e,n.type),this.content=n.content}}class vL extends Jh{userId;constructor(e,n){super(e,n.type),this.userId=n.id}get user(){return this.client.users.get(this.userId)}}class yJ extends vL{byId;constructor(e,n){super(e,n),this.byId=n.by}get by(){return this.client.users.get(this.byId)}}class bL extends Jh{byId;constructor(e,n){super(e,n.type),this.byId=n.by}get by(){return this.client.users.get(this.byId)}}class OJ extends bL{name;constructor(e,n){super(e,n),this.name=n.name}}class wJ extends Jh{fromId;toId;constructor(e,n){super(e,n.type),this.fromId=n.from,this.toId=n.to}get from(){return this.client.users.get(this.fromId)}get to(){return this.client.users.get(this.toId)}}class kJ extends Jh{messageId;byId;constructor(e,n){super(e,n.type),this.messageId=n.id,this.byId=n.by}get message(){return this.client.messages.get(this.messageId)}get by(){return this.client.users.get(this.byId)}}class SJ extends Jh{byId;startedAt;finishedAt;constructor(e,n,r){super(e,r.type),this.byId=r.by,this.startedAt=new Date(Wo(n._id)),this.finishedAt=r.finished_at!=null?new Date(r.finished_at):null}get by(){return this.client.users.get(this.byId)}}const xJ={keyMapping:{_id:"id",channel:"channelId",author:"authorId",system:"systemMessage",edited:"editedAt",mentions:"mentionIds",replies:"replyIds"},functions:{id:t=>t._id,nonce:t=>t.nonce,channelId:t=>t.channel,authorId:t=>t.author,webhook:(t,e)=>t.webhook?new gJ(e,t.webhook,t.author):void 0,content:t=>t.content,systemMessage:(t,e)=>Jh.from(e,t,t.system),attachments:(t,e)=>t.attachments.map(n=>new Is(e,n)),editedAt:t=>new Date(t.edited),embeds:(t,e)=>t.embeds.map(n=>Kh.from(e,n)),mentionIds:t=>t.mentions,roleMentionIds:t=>t.role_mentions,replyIds:t=>t.replies,reactions:t=>{const e=new $m;if(t.reactions)for(const n of Object.keys(t.reactions))e.set(n,new ba(t.reactions[n]));return e},interactions:t=>t.interactions,masquerade:t=>t.masquerade,pinned:t=>t.pinned,flags:t=>t.flags},initialHydration:()=>({reactions:new $m})};var My;(function(t){t[t.SuppressNotifications=1]="SuppressNotifications",t[t.MentionsEveryone=2]="MentionsEveryone",t[t.MentionsOnline=3]="MentionsOnline"})(My||(My={}));class Y5{client;serverId;id;name;permissions;colour;hoist;rank;constructor(e,n,r,i){this.client=e,this.serverId=n,this.id=r,this.name=i.name,this.permissions={a:BigInt(i.permissions.a),d:BigInt(i.permissions.d)},this.colour=i.colour??void 0,this.hoist=i.hoist||!1,this.rank=i.rank??0}toString(){return`<%${this.id}>`}get server(){return this.client.servers.get(this.serverId)}get assigned(){return this.server?.member?.roles.includes(this.id)||!1}delete(){return this.server.deleteRole(this.id)}}const _J={keyMapping:{_id:"id",owner:"ownerId",channels:"channelIds",system_messages:"systemMessages",default_permissions:"defaultPermissions"},functions:{id:t=>t._id,ownerId:t=>t.owner,name:t=>t.name,description:t=>t.description,channelIds:t=>new ba(t.channels),categories:t=>t.categories??[],systemMessages:t=>t.system_messages??{},roles:(t,e)=>new $m(Object.keys(t.roles).map(n=>[n,new Y5(e,t._id,n,t.roles[n])])),defaultPermissions:t=>BigInt(t.default_permissions),icon:(t,e)=>new Is(e,t.icon),banner:(t,e)=>new Is(e,t.banner),flags:t=>t.flags,analytics:t=>t.analytics||!1,discoverable:t=>t.discoverable||!1,nsfw:t=>t.nsfw||!1},initialHydration:()=>({channelIds:new ba,roles:new $m})};var p7;(function(t){t[t.Official=1]="Official",t[t.Verified=2]="Verified"})(p7||(p7={}));const CJ={keyMapping:{_id:"id",joined_at:"joinedAt"},functions:{id:t=>t._id,joinedAt:t=>new Date(t.joined_at),nickname:t=>t.nickname,avatar:(t,e)=>new Is(e,t.avatar),roles:t=>t.roles,timeout:t=>new Date(t.timeout)},initialHydration:()=>({roles:[]})},EJ={keyMapping:{_id:"id"},functions:{id:t=>t._id,name:t=>t.name},initialHydration:()=>({})},TJ={keyMapping:{_id:"id",display_name:"displayName"},functions:{id:t=>t._id,username:t=>t.username,discriminator:t=>t.discriminator,displayName:t=>t.display_name,relationship:t=>t.relationship,relations:()=>null,online:t=>t.online,privileged:t=>t.privileged,badges:t=>t.badges,flags:t=>t.flags,avatar:(t,e)=>new Is(e,t.avatar),status:t=>t.status,bot:t=>t.bot},initialHydration:()=>({relationship:"None"})};var aa;(function(t){t[t.Developer=1]="Developer",t[t.Translator=2]="Translator",t[t.Supporter=4]="Supporter",t[t.ResponsibleDisclosure=8]="ResponsibleDisclosure",t[t.Founder=16]="Founder",t[t.PlatformModeration=32]="PlatformModeration",t[t.ActiveSupporter=64]="ActiveSupporter",t[t.Paw=128]="Paw",t[t.EarlyAdopter=256]="EarlyAdopter",t[t.ReservedRelevantJokeBadge1=512]="ReservedRelevantJokeBadge1",t[t.ReservedRelevantJokeBadge2=1024]="ReservedRelevantJokeBadge2"})(aa||(aa={}));var v7;(function(t){t[t.Suspended=1]="Suspended",t[t.Deleted=2]="Deleted",t[t.Banned=4]="Banned"})(v7||(v7={}));function DJ(t,e,n){return Object.keys(e).reduce((r,i)=>{let s,o;try{s=t.keyMapping[i]??i,o=t.functions[s](e,n)}catch{return i==="partial"?{...r,partial:e.partial}:(i==="type"||console.debug(`Skipping key ${String(i)} during hydration!`),r)}return{...r,[s]:o}},{})}const b7={bot:uJ,channel:dJ,channelUnread:hJ,channelWebhook:fJ,emoji:mJ,message:xJ,server:_J,serverMember:CJ,session:EJ,user:TJ};function Nl(t,e,n,r){return DJ(b7[t],r?{...b7[t].initialHydration(),...e}:e,n)}const If={Access:1,ViewProfile:2,SendMessage:4},nr={ManageChannel:2n**0n,ManageServer:2n**1n,ManagePermissions:2n**2n,ManageRole:2n**3n,ManageCustomisation:2n**4n,KickMembers:2n**6n,BanMembers:2n**7n,TimeoutMembers:2n**8n,AssignRoles:2n**9n,ChangeNickname:2n**10n,ManageNicknames:2n**11n,ChangeAvatar:2n**12n,RemoveAvatars:2n**13n,ViewChannel:2n**20n,ReadMessageHistory:2n**21n,SendMessage:2n**22n,ManageMessages:2n**23n,ManageWebhooks:2n**24n,InviteOthers:2n**25n,SendEmbeds:2n**26n,UploadFiles:2n**27n,Masquerade:2n**28n,React:2n**29n,Connect:2n**30n,Speak:2n**31n,Video:2n**32n,MuteMembers:2n**33n,DeafenMembers:2n**34n,MoveMembers:2n**35n,Listen:2n**36n,MentionEveryone:2n**37n,MentionRoles:2n**38n,GrantAllSafe:0x000fffffffffffffn},AJ=2**32-1,y7=nr.ViewChannel+nr.ReadMessageHistory,yL=nr.ViewChannel+nr.ReadMessageHistory,PJ=yL+nr.SendMessage+nr.InviteOthers+nr.SendEmbeds+nr.UploadFiles+nr.Connect+nr.Speak+nr.Video+nr.Listen,vx=PJ+nr.React+nr.ManageChannel;function Rc(t,...e){const n=e.reduce((r,i)=>r|i,0n);return(n&t)===n}function yO(t,e,n){const r=n?.member?n?.member.user:t.user;if(r?.privileged)return nr.GrantAllSafe;if(e instanceof oo){if(e.ownerId===r?.id)return nr.GrantAllSafe;{const i=n?.member??t.serverMembers.getByKey({user:r.id,server:e.id})??{roles:null,timeout:null};if(!i)return 0n;let s=BigInt(e.defaultPermissions);if(i.roles&&e.roles){const o=i.orderedRoles.map(a=>a.permissions??{a:0,d:0});for(const a of o)s=(s|BigInt(a.a))&~BigInt(a.d)}return i.timeout&&i.timeout>new Date&&(s=s&BigInt(y7)),s}}else{switch(e.type){case"SavedMessages":return nr.GrantAllSafe;case"DirectMessage":return(e.recipient?.permission||0)&If.SendMessage?vx:yL;case"Group":return e.ownerId===r.id?nr.GrantAllSafe:e.permissions??vx;case"TextChannel":{const i=e.server;if(typeof i>"u")return 0n;if(i.ownerId===r?.id)return nr.GrantAllSafe;{const s=n?.member??t.serverMembers.getByKey({user:r.id,server:i.id})??{roles:null,timeout:null};if(!s)return 0n;let o=BigInt(yO(t,i,n));if(e.defaultPermissions&&(o=(o|BigInt(e.defaultPermissions.a))&~BigInt(e.defaultPermissions.d)),s.roles&&e.rolePermissions&&i.roles){const a=s.orderedRoles.map(({id:l})=>l);for(const l of a){const c=e.rolePermissions[l];c&&(o=(o|BigInt(c.a))&~BigInt(c.d))}}return s.timeout&&s.timeout>new Date&&(o=o&BigInt(y7)),o}}}return 0n}}class Nm{#e;id;_typingTimers={};voiceParticipants=new $m;constructor(e,n){this.#e=e,this.id=n}toString(){return`<#${this.id}>`}get $exists(){return!!this.#e.getUnderlyingObject(this.id).id}get createdAt(){return new Date(Wo(this.id))}get type(){return this.#e.getUnderlyingObject(this.id).channelType}get path(){return this.serverId?`/server/${this.serverId}/channel/${this.id}`:`/channel/${this.id}`}get url(){return this.#e.client.configuration?.app+this.path}get name(){return this.#e.getUnderlyingObject(this.id).name}get displayName(){return this.type==="SavedMessages"?this.user?.username:this.type==="DirectMessage"?this.recipient?.username:this.name}get description(){return this.#e.getUnderlyingObject(this.id).description}get icon(){return this.#e.getUnderlyingObject(this.id).icon}get active(){return this.#e.getUnderlyingObject(this.id).active}get typingIds(){return this.#e.getUnderlyingObject(this.id).typingIds}get typing(){return[...this.typingIds.values()].map(e=>this.#e.client.users.get(e))}get recipientIds(){return this.#e.getUnderlyingObject(this.id).recipientIds}get recipients(){return[...this.#e.getUnderlyingObject(this.id).recipientIds.values()].map(e=>this.#e.client.users.get(e))}get recipient(){return this.type==="DirectMessage"?this.recipients?.find(e=>e?.id!==this.#e.client.user.id):void 0}get userId(){return this.#e.getUnderlyingObject(this.id).userId}get user(){return this.#e.client.users.get(this.#e.getUnderlyingObject(this.id).userId)}get ownerId(){return this.#e.getUnderlyingObject(this.id).ownerId}get owner(){return this.#e.client.users.get(this.#e.getUnderlyingObject(this.id).ownerId)}get serverId(){return this.#e.getUnderlyingObject(this.id).serverId}get server(){return this.#e.client.servers.get(this.#e.getUnderlyingObject(this.id).serverId)}get permissions(){return this.#e.getUnderlyingObject(this.id).permissions}get defaultPermissions(){return this.#e.getUnderlyingObject(this.id).defaultPermissions}get rolePermissions(){return this.#e.getUnderlyingObject(this.id).rolePermissions}get mature(){return this.#e.getUnderlyingObject(this.id).nsfw}get lastMessageId(){return this.#e.getUnderlyingObject(this.id).lastMessageId}get lastMessage(){return this.#e.client.messages.get(this.lastMessageId)}get lastMessageAt(){return this.lastMessageId?new Date(Wo(this.lastMessageId)):void 0}get updatedAt(){return this.lastMessageAt??this.createdAt}get unread(){if(!this.lastMessageId||this.type==="SavedMessages"||this.#e.client.options.channelExclusiveMuted(this))return!1;const e=this.#e.client.channelUnreads.for(this);return(e.lastMessageId??"0").localeCompare(this.lastMessageId)===-1||e.messageMentionIds.size>0}get muted(){return this.#e.client.options.channelIsMuted(this)}get mentions(){if(this.type!=="SavedMessages")return this.#e.client.channelUnreads.get(this.id)?.messageMentionIds}get isVoice(){return this.type==="DirectMessage"||this.type==="Group"||typeof this.#e.getUnderlyingObject(this.id).voice=="object"}get iconURL(){return this.icon?.createFileURL()??this.recipient?.avatarURL}get animatedIconURL(){return this.icon?.createFileURL(!0)??this.recipient?.animatedAvatarURL}get potentiallyRestrictedChannel(){return this.serverId?Rc(this.defaultPermissions?.d??0n,nr.ViewChannel)||!Rc(this.server.defaultPermissions,nr.ViewChannel)||[...this.server?.roles.keys()??[]].find(e=>Rc(this.rolePermissions?.[e]?.d??0n,nr.ViewChannel)||Rc(this.server?.roles.get(e)?.permissions.d??0n,nr.ViewChannel)):!1}get permission(){return yO(this.#e.client,this)}havePermission(...e){return Rc(this.permission,...e.map(n=>nr[n]))}orPermission(...e){return e.findIndex(n=>Rc(this.permission,nr[n]))!==-1}async fetchMembers(){const e=await this.#e.client.api.get(`/channels/${this.id}/members`);return Nt(()=>e.map(n=>this.#e.client.users.getOrCreate(n._id,n)))}async createWebhook(e){const n=await this.#e.client.api.post(`/channels/${this.id}/webhooks`,{name:e});return this.#e.client.channelWebhooks.getOrCreate(n.id,n)}async fetchWebhooks(){const e=await this.#e.client.api.get(`/channels/${this.id}/webhooks`);return Nt(()=>e.map(n=>this.#e.client.channelWebhooks.getOrCreate(n.id,n)))}async edit(e){const n=await this.#e.client.api.patch(`/channels/${this.id}`,e);this.#e.updateUnderlyingObject(this.id,Nl("channel",n,this.#e.client,!1))}async delete(e){if(await this.#e.client.api.delete(`/channels/${this.id}`,{leave_silently:e}),this.type==="DirectMessage"){this.#e.updateUnderlyingObject(this.id,"active",!1);return}this.#e.delete(this.id)}async addMember(e){return await this.#e.client.api.put(`/channels/${this.id}/recipients/${e}`)}async removeMember(e){return await this.#e.client.api.delete(`/channels/${this.id}/recipients/${e}`)}async sendMessage(e,n=D0()){const r=typeof e=="string"?{content:e}:e;r.content?.startsWith("@silent ")&&(r.content=r.content.substring(8),r.flags||=1,r.flags|=1);const i=await this.#e.client.api.post(`/channels/${this.id}/messages`,r,{headers:{"Idempotency-Key":n}});return this.#e.client.messages.getOrCreate(i._id,i,!0)}async fetchMessage(e){const n=await this.#e.client.api.get(`/channels/${this.id}/messages/${e}`);return this.#e.client.messages.getOrCreate(n._id,n)}async fetchMessages(e){return(await this.#e.client.api.get(`/channels/${this.id}/messages`,{...e})).map(r=>this.#e.client.messages.getOrCreate(r._id,r))}async fetchMessagesWithUsers(e){const n=await this.#e.client.api.get(`/channels/${this.id}/messages`,{...e,include_users:!0});return Nt(()=>({messages:n.messages.map(r=>this.#e.client.messages.getOrCreate(r._id,r)),users:n.users.map(r=>this.#e.client.users.getOrCreate(r._id,r)),members:n.members?.map(r=>this.#e.client.serverMembers.getOrCreate(r._id,r))}))}async search(e){const n=await this.#e.client.api.post(`/channels/${this.id}/search`,e);return Nt(()=>n.map(r=>this.#e.client.messages.getOrCreate(r._id,r)))}async searchWithUsers(e){const n=await this.#e.client.api.post(`/channels/${this.id}/search`,{...e,include_users:!0});return Nt(()=>({messages:n.messages.map(r=>this.#e.client.messages.getOrCreate(r._id,r)),users:n.users.map(r=>this.#e.client.users.getOrCreate(r._id,r)),members:n.members?.map(r=>this.#e.client.serverMembers.getOrCreate(r._id,r))}))}async deleteMessages(e){await this.#e.client.api.delete(`/channels/${this.id}/messages/bulk`,{ids:e})}async createInvite(){return await this.#e.client.api.post(`/channels/${this.id}/invites`)}#t;#n;#r;async ack(e,n,r,i){if(!e&&this.#r){this.#r=!1;return}else i&&(this.#r=!0);const s=(typeof e=="string"?e:e?.id)??this.lastMessageId??D0(),o=this.#e.client.channelUnreads.for(this);if(Nt(()=>{this.#e.client.channelUnreads.updateUnderlyingObject(this.id,"lastMessageId",s),o.messageMentionIds.size&&o.messageMentionIds.clear()}),r)return;const a=()=>{this.#n=void 0,this.#e.client.api.put(`/channels/${this.id}/ack/${s}`)};if(n)return a();clearTimeout(this.#t),this.#n&&+new Date>this.#n&&a(),this.#t=setTimeout(a,1500),this.#n||(this.#n=+new Date+4e3)}async setPermissions(e="default",n){return await this.#e.client.api.put(`/channels/${this.id}/permissions/${e}`,{permissions:n})}async joinCall(e,n=!0,r){return await this.#e.client.api.post(`/channels/${this.id}/join_call`,{node:e,recipients:r?.map(i=>typeof i=="string"?i:i.id),force_disconnect:n})}startTyping(){this.#e.client.events.send({type:"BeginTyping",channel:this.id})}stopTyping(){this.#e.client.events.send({type:"EndTyping",channel:this.id})}}class G5{client;type;constructor(e,n="None"){this.client=e,this.type=n}static from(e,n){switch(n.type){case"Server":return new MJ(e,n);default:return new RJ(e)}}}class RJ extends G5{}class MJ extends G5{id;creatorId;serverId;channelId;constructor(e,n){super(e,"Server"),this.id=n._id,this.creatorId=n.creator,this.serverId=n.server,this.channelId=n.channel}get creator(){return this.client.users.get(this.creatorId)}get server(){return this.client.servers.get(this.serverId)}get channel(){return this.client.channels.get(this.channelId)}async delete(){await this.client.api.delete(`/invites/${this.id}`)}}class IJ{id;avatar;username;discriminator;constructor(e,n){this.id=n._id,this.avatar=n.avatar?new Is(e,n.avatar):void 0,this.username=n.username,this.discriminator=n.discriminator}}class O7{client;id;reason;user;constructor(e,n,r){this.client=e,this.id=n._id,this.reason=n.reason,this.user=r?new IJ(e,r):void 0}get server(){return this.client.servers.get(this.id.server)}async pardon(){await this.client.api.delete(`/servers/${this.id.server}/bans/${this.id.user}`)}}function wf(t){return t.server+t.user}class A0{#e;id;constructor(e,n){this.#e=e,this.id=n}toString(){return`<@${this.id.user}>`}get $exists(){return!this.#e.getUnderlyingObject(wf(this.id)).id}get server(){return this.#e.client.servers.get(this.id.server)}get user(){return this.#e.client.users.get(this.id.user)}get joinedAt(){return this.#e.getUnderlyingObject(wf(this.id)).joinedAt}get nickname(){return this.#e.getUnderlyingObject(wf(this.id)).nickname}get avatar(){return this.#e.getUnderlyingObject(wf(this.id)).avatar}get roles(){return this.#e.getUnderlyingObject(wf(this.id)).roles}get timeout(){return this.#e.getUnderlyingObject(wf(this.id)).timeout}get orderedRoles(){const e=this.server;return this.roles?.map(n=>({id:n,...e.roles?.get(n)})).sort((n,r)=>r.rank-n.rank)??[]}get hoistedRole(){const e=this.orderedRoles.filter(n=>n.hoist);return e.length>0?e[e.length-1]:null}get roleColour(){const e=this.orderedRoles.filter(n=>n.colour);return e.length>0?e[e.length-1].colour:null}get ranking(){if(this.id.user===this.server?.ownerId)return-1/0;const e=this.orderedRoles;return e.length>0?e[e.length-1].rank:1/0}getPermissions(e){return yO(this.#e.client,e,{member:this})}hasPermission(e,...n){return Rc(this.getPermissions(e),...n.map(r=>nr[r]))}inferiorTo(e){return e.ranking<this.ranking}get displayName(){return this.nickname??this.user?.displayName}get avatarURL(){return this.avatar?.createFileURL()??this.user?.avatarURL}get animatedAvatarURL(){return this.avatar?.createFileURL(!0)??this.user?.animatedAvatarURL}async edit(e){await this.#e.client.api.patch(`/servers/${this.id.server}/members/${this.id.user}`,e)}async ban(e){this.server?.banUser(this,e)}async kick(){this.server?.kickUser(this)}}class $J{content;banner;constructor(e,n){this.content=n.content,this.banner=n.background?new Is(e,n.background):void 0}get bannerURL(){return this.banner?.createFileURL()}get animatedBannerURL(){return this.banner?.createFileURL(!0)}}class Vl{#e;id;constructor(e,n){this.#e=e,this.id=n}toString(){return`<@${this.id}>`}get $exists(){return!!this.#e.getUnderlyingObject(this.id).id}get createdAt(){return new Date(Wo(this.id))}get username(){return this.#e.getUnderlyingObject(this.id).username}get discriminator(){return this.#e.getUnderlyingObject(this.id).discriminator}get displayName(){return this.#e.getUnderlyingObject(this.id).displayName??this.#e.getUnderlyingObject(this.id).username}get avatar(){return this.#e.getUnderlyingObject(this.id).avatar}get badges(){return this.#e.getUnderlyingObject(this.id).badges}get status(){return this.online?this.#e.getUnderlyingObject(this.id).status:{text:void 0,presence:"Invisible"}}get relationship(){return this.#e.getUnderlyingObject(this.id).relationship}get online(){return this.#e.getUnderlyingObject(this.id).online}get privileged(){return this.#e.getUnderlyingObject(this.id).privileged}get flags(){return this.#e.getUnderlyingObject(this.id).flags}get bot(){return this.#e.getUnderlyingObject(this.id).bot}get self(){return this.#e.client.user===this}get defaultAvatarURL(){return`${this.#e.client.options.baseURL}/users/${this.id}/default_avatar`}get avatarURL(){return this.avatar?.createFileURL()??this.defaultAvatarURL}get animatedAvatarURL(){return this.avatar?.createFileURL(!0)??this.defaultAvatarURL}get presence(){return this.online?this.status?.presence??"Online":"Invisible"}statusMessage(e=n=>n){return this.online?this.status?.text??(this.presence==="Focus"?e("Focus"):void 0):void 0}get permission(){let e=0;switch(this.relationship){case"Friend":case"User":return AJ;case"Blocked":case"BlockedOther":return If.Access;case"Incoming":case"Outgoing":e=If.Access}return(this.#e.client.channels.find(n=>(n.type==="Group"||n.type==="DirectMessage")&&n.recipientIds.has(this.id))||this.#e.client.serverMembers.find(n=>n.id.user===this.id))&&((this.#e.client.user?.bot||this.bot)&&(e|=If.SendMessage),e|=If.Access|If.ViewProfile),e}async edit(e){await this.#e.client.api.patch(`/users/${this.id===this.#e.client.user?.id?"@me":this.id}`,e)}async changeUsername(e,n){return await this.#e.client.api.patch("/users/@me/username",{username:e,password:n})}async openDM(){let e=[...this.#e.client.channels.values()].find(n=>n.type==="DirectMessage"&&n.recipient==this);if(e)e.active||this.#e.client.channels.updateUnderlyingObject(e.id,"active",!0);else{const n=await this.#e.client.api.get(`/users/${this.id}/dm`);e=this.#e.client.channels.getOrCreate(n._id,n)}return e}async addFriend(){const e=await this.#e.client.api.post("/users/friend",{username:this.username+"#"+this.discriminator});return this.#e.getOrCreate(e._id,e)}async removeFriend(){await this.#e.client.api.delete(`/users/${this.id}/friend`)}async blockUser(){await this.#e.client.api.put(`/users/${this.id}/block`)}async unblockUser(){await this.#e.client.api.delete(`/users/${this.id}/block`)}async fetchProfile(){return new $J(this.#e.client,await this.#e.client.api.get(`/users/${this.id}/profile`))}async fetchMutual(){return await this.#e.client.api.get(`/users/${this.id}/mutual`)}}let oo=class{#e;id;constructor(e,n){this.#e=e,this.id=n}toString(){return`<%${this.id}>`}get $exists(){return!!this.#e.getUnderlyingObject(this.id).id}get createdAt(){return new Date(Wo(this.id))}get ownerId(){return this.#e.getUnderlyingObject(this.id).ownerId}get owner(){return this.#e.client.users.get(this.#e.getUnderlyingObject(this.id).ownerId)}get path(){return`/server/${this.id}`}get name(){return this.#e.getUnderlyingObject(this.id).name}get description(){return this.#e.getUnderlyingObject(this.id).description}get icon(){return this.#e.getUnderlyingObject(this.id).icon}get banner(){return this.#e.getUnderlyingObject(this.id).banner}get channelIds(){return this.#e.getUnderlyingObject(this.id).channelIds}get channels(){return[...this.#e.getUnderlyingObject(this.id).channelIds.values()].map(e=>this.#e.client.channels.get(e)).filter(e=>e)}get categories(){return this.#e.getUnderlyingObject(this.id).categories}get systemMessages(){return this.#e.getUnderlyingObject(this.id).systemMessages}get roles(){return this.#e.getUnderlyingObject(this.id).roles}get defaultPermissions(){return this.#e.getUnderlyingObject(this.id).defaultPermissions}get flags(){return this.#e.getUnderlyingObject(this.id).flags}get analytics(){return this.#e.getUnderlyingObject(this.id).analytics}get discoverable(){return this.#e.getUnderlyingObject(this.id).discoverable}get mature(){return this.#e.getUnderlyingObject(this.id).nsfw}get orderedChannels(){const e=new Set(this.channels.map(o=>o.id)),n=[];let r;const i=this.categories;if(i)for(const o of i){const a=[];for(const c of o.channels)e.delete(c)&&a.push(this.#e.client.channels.get(c));const l={...o,channels:a};if(l.id==="default"){if(a.length===0)continue;r=l}n.push(l)}const s=[...e].map(o=>this.#e.client.channels.get(o));return r?r.channels=[...r.channels,...s]:n.unshift({id:"default",title:"Default",channels:s}),n}get defaultChannel(){return this.orderedChannels.find(e=>e.channels.length)?.channels[0]}get orderedRoles(){const e=this.roles;return e?[...e.values()].sort((n,r)=>(n.rank||0)-(r.rank||0)):[]}get unread(){return!!this.channels.find(e=>e.unread)}get mentions(){const e=this.channels.map(n=>Array.from(n.mentions?.values()??[]));return[].concat(...e)}get iconURL(){return this.icon?.createFileURL()}get animatedIconURL(){return this.icon?.createFileURL(!0)}get bannerURL(){return this.banner?.createFileURL()}get member(){return this.#e.client.serverMembers.getByKey({server:this.id,user:this.#e.client.user.id})}get permission(){return yO(this.#e.client,this)}havePermission(...e){return Rc(this.permission,...e.map(n=>nr[n]))}orPermission(...e){return e.findIndex(n=>Rc(this.permission,nr[n]))!==-1}getMember(e){return this.#e.client.serverMembers.getByKey({server:this.id,user:e})}async createChannel(e){const n=await this.#e.client.api.post(`/servers/${this.id}/channels`,e);return this.#e.client.channels.getOrCreate(n._id,n)}async edit(e){this.#e.updateUnderlyingObject(this.id,Nl("server",await this.#e.client.api.patch(`/servers/${this.id}`,e),this.#e.client,!1))}async setRoleOrdering(e){this.#e.updateUnderlyingObject(this.id,Nl("server",await this.#e.client.api.patch(`/servers/${this.id}/roles/ranks`,{ranks:e}),this.#e.client,!1))}$delete(e){Nt(()=>{const n=this.#e.client.servers.getUnderlyingObject(this.id);if(n.id){this.#e.client.emit(e?"serverLeave":"serverDelete",n);for(const r of this.channelIds)this.#e.client.channels.delete(r);this.#e.delete(this.id)}})}async delete(e){await this.#e.client.api.delete(`/servers/${this.id}`,{leave_silently:e}),this.$delete()}async ack(){Nt(()=>{for(const e of this.channels)e.ack(void 0,!1,!0)}),await this.#e.client.api.put(`/servers/${this.id}/ack`)}async banUser(e,n={}){const r=e instanceof Vl?e.id:e instanceof A0?e.id.user:e,i=await this.#e.client.api.put(`/servers/${this.id}/bans/${r}`,n);return new O7(this.#e.client,i)}async kickUser(e){return await this.#e.client.api.delete(`/servers/${this.id}/members/${typeof e=="string"?e:e instanceof Vl?e.id:e.id.user}`)}async unbanUser(e){const n=e instanceof Vl?e.id:e;return await this.#e.client.api.delete(`/servers/${this.id}/bans/${n}`)}async fetchInvites(){return(await this.#e.client.api.get(`/servers/${this.id}/invites`)).map(n=>G5.from(this.#e.client,n))}async fetchBans(){const{users:e,bans:n}=await this.#e.client.api.get(`/servers/${this.id}/bans`),r=e.reduce((i,s)=>({...i,[s._id]:s}),{});return n.map(i=>new O7(this.#e.client,i,r[i._id.user]))}async setPermissions(e="default",n){return await this.#e.client.api.put(`/servers/${this.id}/permissions/${e}`,{permissions:n})}async createRole(e){return await this.#e.client.api.post(`/servers/${this.id}/roles`,{name:e})}async editRole(e,n){const r=await this.#e.client.api.patch(`/servers/${this.id}/roles/${e}`,n),i=new Y5(this.#e.client,this.id,e,r);return this.roles.set(e,i),i}async deleteRole(e){return await this.#e.client.api.delete(`/servers/${this.id}/roles/${e}`)}async fetchMember(e){const n=typeof e=="string"?e:e.id,r=this.#e.client.serverMembers.getByKey({server:this.id,user:n});return r||this.#e.client.serverMembers.fetch(this.id,n)}#t;async syncMembers(e,n){if(this.#t&&(this.#t==="full"||e))return;const r=await this.#e.client.api.get(`/servers/${this.id}/members`,{exclude_offline:e});Nt(()=>{if(e&&n){let i=0;for(let s=0;s<r.users.length&&i<n;s++){const o=r.users[s];o.online&&r.members[s].roles?.length&&(this.#e.client.users.getOrCreate(o._id,o),this.#e.client.serverMembers.getOrCreate(r.members[s]._id,r.members[s]),i++)}for(let s=0;s<r.users.length&&i<n;s++){const o=r.users[s];o.online&&!r.members[s].roles?.length&&(this.#e.client.users.getOrCreate(o._id,o),this.#e.client.serverMembers.getOrCreate(r.members[s]._id,r.members[s]),i++)}}else if(e)for(let i=0;i<r.users.length;i++){const s=r.users[i];s.online&&(this.#e.client.users.getOrCreate(s._id,s),this.#e.client.serverMembers.getOrCreate(r.members[i]._id,r.members[i]))}else for(let i=0;i<r.users.length;i++)this.#e.client.users.getOrCreate(r.users[i]._id,r.users[i]),this.#e.client.serverMembers.getOrCreate(r.members[i]._id,r.members[i])})}resetSyncStatus(){this.#t=void 0}async fetchMembers(){const e=await this.#e.client.api.get(`/servers/${this.id}/members`);return Nt(()=>({members:e.members.map(n=>this.#e.client.serverMembers.getOrCreate(n._id,n)),users:e.users.map(n=>this.#e.client.users.getOrCreate(n._id,n))}))}async queryMembersExperimental(e){const n=await this.#e.client.api.get(`/servers/${this.id}/members_experimental_query?experimental_api=true&query=${encodeURIComponent(e)}`);return Nt(()=>({members:n.members.map(r=>this.#e.client.serverMembers.getOrCreate(r._id,r)),users:n.users.map(r=>this.#e.client.users.getOrCreate(r._id,r))}))}async createEmoji(e,n){const r=await this.#e.client.api.put(`/custom/emoji/${e}`,{parent:{type:"Server",id:this.id},...n});return this.#e.client.emojis.getOrCreate(r._id,r,!0)}async fetchEmojis(){const e=await this.#e.client.api.get(`/servers/${this.id}/emojis`);return Nt(()=>e.map(n=>this.#e.client.emojis.getOrCreate(n._id,n)))}get emojis(){return this.#e.client.emojis.filter(e=>e.parent.type==="Server"&&e.parent.id===this.id)}async deleteEmoji(e){await this.#e.client.api.delete(`/custom/emoji/${e}`)}};class Dv{#e;id;username;avatar;description;constructor(e,n){this.#e=e,this.id=n._id,this.username=n.username,this.avatar=n.avatar?new Is(e,{_id:n.avatar,tag:"avatars"}):void 0,this.description=n.description}addToServer(e){this.#e.api.post(`/bots/${this.id}/invite`,{server:e instanceof oo?e.id:e})}addToGroup(e){this.#e.api.post(`/bots/${this.id}/invite`,{group:e instanceof Nm?e.id:e})}}class LJ{#e;id;constructor(e,n){this.#e=e,this.id=n}toString(){return`<@${this.id}>`}get $exists(){return!!this.#e.getUnderlyingObject(this.id).id}get createdAt(){return new Date(Wo(this.id))}get user(){return this.#e.client.users.get(this.id)}get ownerId(){return this.#e.getUnderlyingObject(this.id).ownerId}get owner(){return this.#e.client.users.get(this.ownerId)}get token(){return this.#e.getUnderlyingObject(this.id).token}get public(){return this.#e.getUnderlyingObject(this.id).public}get analytics(){return this.#e.getUnderlyingObject(this.id).analytics}get discoverable(){return this.#e.getUnderlyingObject(this.id).discoverable}get interactionsUrl(){return this.#e.getUnderlyingObject(this.id).interactionsUrl}get termsOfServiceUrl(){return this.#e.getUnderlyingObject(this.id).termsOfServiceUrl}get privacyPolicyUrl(){return this.#e.getUnderlyingObject(this.id).privacyPolicyUrl}get flags(){return this.#e.getUnderlyingObject(this.id).flags}get publicBot(){return new Dv(this.#e.client,{_id:this.id,username:this.user?.username??"",avatar:this.user?.avatar?.id})}async edit(e){await this.#e.client.api.patch(`/bots/${this.id}`,e)}async delete(){await this.#e.client.api.delete(`/bots/${this.id}`),this.#e.delete(this.id)}}class NJ{store;set;constructor(){const[e,n]=$a({});this.store=e,this.set=n,this.get=this.get.bind(this)}get(e){return this.store[e]}hydrate(e,n,r,i){i&&(i={partial:!1,...i},this.set(e,Nl(n,i,r,!0)))}}class FJ{toList(){return[...this.values()]}filter(e){const n=[];for(const[r,i]of this.entries())e(i,r)&&n.push(i);return n}map(e){const n=[];for(const[r,i]of this.entries())n.push(e(i,r));return n}find(e){for(const[n,r]of this.entries())if(e(r,n))return r}}class BJ extends FJ{#e=new NJ;#t=new $m;getUnderlyingObject;updateUnderlyingObject;constructor(){super(),this.getUnderlyingObject=e=>this.#e.get(e)??{},this.updateUnderlyingObject=this.#e.set}get(e){return this.#t.get(e)}has(e){return this.#t.has(e)}delete(e){this.#t.delete(e),this.updateUnderlyingObject(e,void 0)}create(e,n,r,i,s){this.#e.hydrate(e,n,i,s),this.#t.set(e,r)}isPartial(e){return!!this.getUnderlyingObject(e).partial}size(){return this.#t.size}keys(){return this.#t.keys()}values(){return this.#t.values()}entries(){return this.#t.entries()}forEach(e){return this.#t.forEach(e)}}class cc extends BJ{client;constructor(e){super(),this.client=e}}class zJ extends cc{async fetch(e){const n=this.get(e);if(n)return n;const r=await this.client.api.get(`/bots/${e}`);return this.client.users.getOrCreate(r.user._id,r.user),this.getOrCreate(r.bot._id,r.bot)}async fetchOwned(){const e=await this.client.api.get("/bots/@me");return Nt(()=>(e.users.forEach(n=>this.client.users.getOrCreate(n._id,n)),e.bots.map(n=>this.getOrCreate(n._id,n))))}async fetchPublic(e){const n=await this.client.api.get(`/bots/${e}/invite`);return new Dv(this.client,n)}getOrCreate(e,n){if(this.has(e))return this.get(e);{const r=new LJ(this,e);return this.create(e,"bot",r,this.client,n),r}}async createBot(e){const{user:n,...r}=await this.client.api.post("/bots/create",{name:e});return this.client.users.getOrCreate(n._id,n),this.getOrCreate(r._id,r)}}class QJ extends cc{delete(e){this.get(e)?.server?.channelIds.delete(e),super.delete(e)}async fetch(e){const n=this.get(e);if(n&&!this.isPartial(e))return n;const r=await this.client.api.get(`/channels/${e}`);return this.getOrCreate(r._id,r)}getOrCreate(e,n,r=!1){if(this.has(e)&&!this.isPartial(e))return this.get(e);{const i=new Nm(this,e);return this.create(e,"channel",i,this.client,n),r&&this.client.emit("channelCreate",i),i}}getOrPartial(e){if(this.has(e))return this.get(e);if(this.client.options.partials){const n=new Nm(this,e);return this.create(e,"channel",n,this.client,{id:e,partial:!0}),n}}async createGroup(e,n){const r=await this.client.api.post("/channels/create",{name:e,users:n.map(i=>i instanceof Vl?i.id:i)});return this.getOrCreate(r._id,r,!0)}}class UJ{#e;id;constructor(e,n){this.#e=e,this.id=n}get $exists(){return!!this.#e.getUnderlyingObject(this.id).id}get lastMessageId(){return this.#e.getUnderlyingObject(this.id).lastMessageId}get messageMentionIds(){return this.#e.getUnderlyingObject(this.id).messageMentionIds}}class VJ extends cc{async sync(){const e=await this.client.api.get("/sync/unreads");Nt(()=>{this.reset();for(const n of e)this.getOrCreate(n._id.channel,n)})}reset(){this.updateUnderlyingObject({})}getOrCreate(e,n){if(this.has(e))return this.get(e);{const r=new UJ(this,e);return this.create(e,"channelUnread",r,this.client,n),r}}for(e){return this.getOrCreate(e.id,{_id:{channel:e.id,user:this.client.user.id},last_id:null,mentions:[]})}}class jJ{#e;id;constructor(e,n){this.#e=e,this.id=n}get $exists(){return!!this.#e.getUnderlyingObject(this.id).id}get name(){return this.#e.getUnderlyingObject(this.id).name}get avatar(){return this.#e.getUnderlyingObject(this.id).avatar}get avatarURL(){return this.#e.getUnderlyingObject(this.id).avatar?.createFileURL()}get channelId(){return this.#e.getUnderlyingObject(this.id).channelId}get channel(){return this.#e.client.channels.get(this.#e.getUnderlyingObject(this.id).channelId)}get token(){return this.#e.getUnderlyingObject(this.id).token}async edit(e){const n=await this.#e.client.api.patch(`/webhooks/${this.id}/${this.token}`,e);this.#e.updateUnderlyingObject(this.id,Nl("channelWebhook",n,this.#e.client))}async delete(){await this.#e.client.api.delete(`/webhooks/${this.id}/${this.token}`),this.#e.delete(this.id)}}class qJ extends cc{async fetch(e){const n=this.get(e);if(n)return n;const r=await this.client.api.get(`/webhooks/${e}`);return this.getOrCreate(r.id,r)}async fromToken(e,n){const r=this.get(e);if(r)return r;const i=await this.client.api.get(`/webhooks/${e}/${n}`);return this.getOrCreate(i.id,i)}getOrCreate(e,n){if(this.has(e))return this.get(e);{const r=new jJ(this,e);return this.create(e,"channelWebhook",r,this.client,n),r}}}let w7=class{#e;id;constructor(e,n){this.#e=e,this.id=n}toString(){return`:${this.id}:`}get $exists(){return!!this.#e.getUnderlyingObject(this.id).id}get createdAt(){return new Date(Wo(this.id))}get parent(){return this.#e.getUnderlyingObject(this.id).parent}get creator(){return this.#e.client.users.get(this.#e.getUnderlyingObject(this.id).creatorId)}get name(){return this.#e.getUnderlyingObject(this.id).name}get animated(){return this.#e.getUnderlyingObject(this.id).animated}get mature(){return this.#e.getUnderlyingObject(this.id).nsfw}get url(){return`${this.#e.client.configuration?.features.autumn.url}/emojis/${this.id}`}async delete(){await this.#e.client.api.delete(`/custom/emoji/${this.id}`);const e=this.#e.getUnderlyingObject(this.id);e&&(this.#e.client.emit("emojiDelete",e),this.#e.delete(this.id))}};class HJ extends cc{async fetch(e){const n=this.get(e);if(n&&!this.isPartial(e))return n;const r=await this.client.api.get(`/custom/emoji/${e}`);return this.getOrCreate(r._id,r)}getOrCreate(e,n,r=!1){if(this.has(e)&&!this.isPartial(e))return this.get(e);{const i=new w7(this,e);return this.create(e,"emoji",i,this.client,n),r&&this.client.emit("emojiCreate",i),i}}getOrPartial(e){if(this.has(e))return this.get(e);if(this.client.options.partials){const n=new w7(this,e);return this.create(e,"emoji",n,this.client,{id:e}),n}}}class WJ extends cc{async fetch(e,n){const r=this.get(n);if(r&&!this.isPartial(n))return r;const i=await this.client.api.get(`/channels/${e}/messages/${n}`);return this.getOrCreate(i._id,i,!1)}getOrCreate(e,n,r=!1){if(this.has(e)&&!this.isPartial(e))return this.get(e);{const i=new Lm(this,e);return this.create(e,"message",i,this.client,n),r&&this.client.emit("messageCreate",i),i}}getOrPartial(e){if(this.has(e))return this.get(e);if(this.client.options.partials){const n=new Lm(this,e);return this.create(e,"message",n,this.client,{id:e,partial:!0}),n}}}class XJ extends cc{async fetch(e){const n=this.get(e);if(n&&!this.isPartial(e))return n;const r=await this.client.api.get(`/servers/${e}`,{include_channels:!0});return Nt(()=>{for(const i of r.channels)typeof i!="string"&&this.client.channels.getOrCreate(i._id,i);return this.getOrCreate(r._id,r)})}getOrCreate(e,n,r=!1){if(this.has(e)&&!this.isPartial(e))return this.get(e);{const i=new oo(this,e);return this.create(e,"server",i,this.client,n),r&&this.client.emit("serverCreate",i),i}}getOrPartial(e){if(this.has(e))return this.get(e);if(this.client.options.partials){const n=new oo(this,e);return this.create(e,"server",n,this.client,{id:e,partial:!0}),n}}async createServer(e){const{server:n,channels:r}=await this.client.api.post("/servers/create",e);return Nt(()=>{for(const i of r)this.client.channels.getOrCreate(i._id,i);return this.getOrCreate(n._id,n,!0)})}}class YJ extends cc{hasByKey(e){return super.has(e.server+e.user)}getByKey(e){return super.get(e.server+e.user)}isPartialByKey(e){return super.isPartial(e.server+e.user)}async fetch(e,n){const r=this.get(e+n);if(r&&!this.isPartial(e+n))return r;const i=await this.client.api.get(`/servers/${e}/members/${n}`,{roles:!1});return this.getOrCreate(i._id,i)}getOrCreate(e,n){if(this.hasByKey(e)&&!this.isPartialByKey(e))return this.getByKey(e);{const r=new A0(this,e);return this.create(e.server+e.user,"serverMember",r,this.client,n),r}}getOrPartial(e){if(this.hasByKey(e))return this.getByKey(e);if(this.client.options.partials){const n=new A0(this,e);return this.create(e.server+e.user,"serverMember",n,this.client,{id:e,partial:!0}),n}}}class GJ{#e;id;constructor(e,n){this.#e=e,this.id=n}toString(){return this.name}get $exists(){return!!this.#e.getUnderlyingObject(this.id).id}get createdAt(){return new Date(Wo(this.id))}get current(){return this.id===this.#e.client.sessionId}get name(){return this.#e.getUnderlyingObject(this.id).name}async rename(e){await this.#e.client.api.patch(`/auth/session/${this.id}`,{friendly_name:e}),this.#e.updateUnderlyingObject(this.id,"name",e)}async delete(){await this.#e.client.api.delete(`/auth/session/${this.id}`),this.#e.delete(this.id)}}class ZJ extends cc{async fetch(){const e=await this.client.api.get("/auth/session/all");return Nt(()=>e.map(n=>this.getOrCreate(n._id,n)))}async deleteAll(e=!1){await this.client.api.delete("/auth/session/all",{revoke_self:e});for(const n of this.toList())!e&&n.current||this.delete(n.id)}getOrCreate(e,n){if(this.has(e))return this.get(e);{const r=new GJ(this,e);return this.create(e,"session",r,this.client,n),r}}}class KJ extends cc{constructor(e){super(e);const n="0".repeat(26);this.getOrCreate(n,{_id:n,username:"Revolt",discriminator:"0000",online:!0,relationship:"None"})}async fetch(e){const n=this.get(e);if(n&&!this.isPartial(e))return n;const r=await this.client.api.get(`/users/${e}`);return this.getOrCreate(r._id,r)}getOrCreate(e,n){if(this.has(e)&&!this.isPartial(e))return this.get(e);{const r=new Vl(this,e);return this.create(e,"user",r,this.client,n),r}}getOrPartial(e){if(this.has(e))return this.get(e);if(this.client.options.partials){const n=new Vl(this,e);return this.create(e,"user",n,this.client,{id:e,partial:!0}),n}}}var ma;(function(t){t[t.Idle=0]="Idle",t[t.Connecting=1]="Connecting",t[t.Connected=2]="Connected",t[t.Disconnected=3]="Disconnected"})(ma||(ma={}));class JJ extends dL{options;#e;#t;ping;#n;state;#r;#i;#o;#a;#s;#l;constructor(e,n="json",r){super(),this.#e=e,this.#t=n,this.options={heartbeatInterval:30,pongTimeout:10,connectTimeout:10,debug:!1,...r};const[i,s]=ve(ma.Idle);this.state=i,this.#r=s;const[o,a]=ve(-1);this.ping=o,this.#n=a,this.disconnect=this.disconnect.bind(this)}setState(e){this.#r(e),this.emit("state",e)}connect(e,n){this.disconnect(),this.#l=void 0,this.setState(ma.Connecting),this.#s=setTimeout(()=>this.disconnect(),this.options.pongTimeout*1e3);const r=new URL(e);r.searchParams.set("version",this.#e.toString()),r.searchParams.set("format",this.#t),r.searchParams.set("token",n),this.#i=new WebSocket(r),this.#i.onopen=()=>{this.#o=setInterval(()=>{this.send({type:"Ping",data:+new Date}),this.#a=setTimeout(()=>this.disconnect(),this.options.pongTimeout*1e3)},this.options.heartbeatInterval*1e3)},this.#i.onerror=s=>{this.#l={type:"socket",data:s},this.emit("error",s)},this.#i.onmessage=s=>{clearInterval(this.#s),this.#t==="json"&&typeof s.data=="string"&&this.handle(sL(s.data))};let i=!1;this.#i.onclose=()=>{i||(i=!0,this.#i=void 0,this.setState(ma.Disconnected),this.disconnect())}}disconnect(){if(!this.#i)return;clearInterval(this.#o),clearInterval(this.#s),clearInterval(this.#a);const e=this.#i;this.#i=void 0,e.close()}send(e){if(this.options.debug&&console.debug("[C->S]",e),!this.#i)throw"Socket closed, trying to send.";this.#i.send(iL(e))}handle(e){switch(this.options.debug&&console.debug("[S->C]",e),e.type){case"Ping":this.send({type:"Pong",data:e.data});return;case"Pong":clearTimeout(this.#a),this.#n(+new Date-e.data),this.options.debug&&console.debug(`[ping] ${this.ping()}ms`);return;case"Error":this.#l={type:"revolt",data:e.data},this.emit("error",e),this.disconnect();return}switch(this.state()){case ma.Connecting:if(e.type!=="Authenticated")if(e.type==="Ready")this.emit("event",e),this.setState(ma.Connected);else throw`Unreachable code. Received ${e.type} in Connecting state.`;break;case ma.Connected:if(e.type==="Authenticated"||e.type==="Ready")throw`Unreachable code. Received ${e.type} in Connected state.`;this.emit("event",e);break;default:throw`Unreachable code. Received ${e.type} in state ${this.state()}.`}}get lastError(){return this.#l}}class k7{client;userId;joinedAt;isReceiving;isPublishing;isScreensharing;isCamera;#e;#t;#n;#r;constructor(e,n){this.client=e,this.userId=n.id,this.joinedAt=new Date(n.joined_at);const[r,i]=ve(n.is_receiving);this.isReceiving=r,this.#e=i;const[s,o]=ve(n.is_publishing);this.isPublishing=s,this.#t=o;const[a,l]=ve(n.screensharing);this.isScreensharing=a,this.#n=l;const[c,d]=ve(n.camera);this.isCamera=c,this.#r=d}update(e){typeof e.is_receiving=="boolean"&&this.#e(e.is_receiving),typeof e.is_publishing=="boolean"&&this.#t(e.is_publishing),typeof e.screensharing=="boolean"&&this.#n(e.screensharing),typeof e.camera=="boolean"&&this.#r(e.camera)}}async function Iu(t,e,n){switch(t.options.debug&&console.debug("[S->C]",e),e.type){case"Bulk":{for(const r of e.v)Iu(t,r,n);break}case"Ready":{Nt(()=>{if(e.users)for(const r of e.users){const i=t.users.getOrCreate(r._id,r);i.relationship==="User"&&(t.user=i)}if(e.servers)for(const r of e.servers)t.servers.getOrCreate(r._id,r);if(e.members)for(const r of e.members)t.serverMembers.getOrCreate(r._id,r);if(e.channels)for(const r of e.channels)t.channels.getOrCreate(r._id,r);if(e.voice_states)for(const r of e.voice_states){const i=t.channels.get(r.id);if(i){i.voiceParticipants.clear();for(const s of r.participants)i.voiceParticipants.set(s.id,new k7(t,s))}}if(e.emojis)for(const r of e.emojis)t.emojis.getOrCreate(r._id,r)}),t.options.syncUnreads&&await t.channelUnreads.sync(),n(!0),t.emit("ready"),e.policy_changes?.length&&t.emit("policyChanges",e.policy_changes,async()=>t.api.post("/policy/acknowledge"));break}case"Message":{t.messages.has(e._id)||Nt(()=>{e.member&&t.serverMembers.getOrCreate(e.member._id,e.member),e.user&&t.users.getOrCreate(e.user._id,e.user),delete e.member,delete e.user,t.messages.getOrCreate(e._id,e,!0);const r=t.channels.get(e.channel);r&&(t.channels.updateUnderlyingObject(r.id,"lastMessageId",e._id),e.mentions?.includes(t.user.id)&&t.options.syncUnreads&&(t.channelUnreads.for(r).messageMentionIds.add(e._id),t.channels.updateUnderlyingObject(e.channel,"lastMessageId",e._id)))});break}case"MessageUpdate":{const r=t.messages.getOrPartial(e.id);if(r){const i={...t.messages.getUnderlyingObject(e.id),channelId:e.channel};t.messages.updateUnderlyingObject(e.id,{...Nl("message",{...e.data,channel:e.channel},t,!1),editedAt:new Date}),t.emit("messageUpdate",r,i)}break}case"MessageAppend":{const r=t.messages.getOrPartial(e.id);if(r){const i={...t.messages.getUnderlyingObject(e.id),channelId:e.channel};t.messages.updateUnderlyingObject(e.id,"embeds",s=>[...s??[],...e.append.embeds?.map(o=>Kh.from(t,o))??[]]),t.messages.updateUnderlyingObject(e.id,"channelId",e.channel),t.emit("messageUpdate",r,i)}break}case"MessageDelete":{if(t.messages.getOrPartial(e.id)){const r=t.messages.getUnderlyingObject(e.id);t.emit("messageDelete",r),t.messages.delete(e.id)}break}case"BulkMessageDelete":{Nt(()=>t.emit("messageDeleteBulk",e.ids.map(r=>{if(t.messages.has(r)){const i=t.messages.getUnderlyingObject(r);return t.messages.delete(r),i}}).filter(r=>r),t.channels.get(e.channel)));break}case"MessageReact":{const r=t.messages.getOrPartial(e.id);if(r){const i=r.reactions,s=i.get(e.emoji_id);if(s){if(s.has(e.user_id))return;s.add(e.user_id)}else i.set(e.emoji_id,new ba([e.user_id]));t.emit("messageReactionAdd",r,e.user_id,e.emoji_id)}break}case"MessageUnreact":{const r=t.messages.getOrPartial(e.id);if(r){const i=r.reactions.get(e.emoji_id);if(i?.has(e.user_id))i.size===1&&!r.interactions?.reactions?.includes(e.emoji_id)?r.reactions.delete(e.emoji_id):i.delete(e.user_id);else if(!t.messages.isPartial(e.id))return;t.emit("messageReactionRemove",r,e.user_id,e.emoji_id)}break}case"MessageRemoveReaction":{const r=t.messages.getOrPartial(e.id);if(r){const i=r.reactions;if(i.has(e.emoji_id))i.delete(e.emoji_id);else if(!t.messages.isPartial(e.id))return;t.emit("messageReactionRemoveEmoji",r,e.emoji_id)}break}case"ChannelCreate":{t.channels.has(e._id)||t.channels.getOrCreate(e._id,e,!0);break}case"ChannelUpdate":{const r=t.channels.getOrPartial(e.id);if(r){const i={...t.channels.getUnderlyingObject(e.id)},s=Nl("channel",e.data,t,!1);if(e.clear)for(const o of e.clear)switch(o){case"Description":s.description=void 0;break;case"DefaultPermissions":s.defaultPermissions=void 0;break;case"Icon":s.icon=void 0;break}t.channels.updateUnderlyingObject(e.id,s),t.emit("channelUpdate",r,i)}break}case"ChannelDelete":{if(t.channels.getOrPartial(e.id)){const r=t.channels.getUnderlyingObject(e.id);t.emit("channelDelete",r),t.channels.delete(e.id)}break}case"ChannelGroupJoin":{const r=t.channels.getOrPartial(e.id);if(r){if(!r.recipientIds.has(e.user))r.recipientIds.add(e.user);else if(!t.channels.isPartial(e.id))return;t.emit("channelGroupJoin",r,await t.users.fetch(e.user))}break}case"ChannelGroupLeave":{const r=t.channels.getOrPartial(e.id);if(r){if(r.recipientIds.has(e.user))r.recipientIds.delete(e.user);else if(!t.channels.isPartial(e.id))return;t.emit("channelGroupLeave",r,t.users.getOrPartial(e.user))}break}case"ChannelStartTyping":{const r=t.channels.getOrPartial(e.id);r&&(r.typingIds.has(e.user)||(r.typingIds.add(e.user),clearTimeout(r._typingTimers[e.user]),r._typingTimers[e.user]=setTimeout(()=>Iu(t,{...e,type:"ChannelStopTyping"},n),4e3),t.emit("channelStartTyping",r,t.users.getOrPartial(e.user))));break}case"ChannelStopTyping":{const r=t.channels.getOrPartial(e.id);r&&r.typingIds.has(e.user)&&(r.typingIds.delete(e.user),clearTimeout(r._typingTimers[e.user]),delete r._typingTimers[e.user],t.emit("channelStopTyping",r,t.users.getOrPartial(e.user)));break}case"ChannelAck":{const r=t.channels.getOrPartial(e.id);r&&t.emit("channelAcknowledged",r,e.message_id);break}case"ServerCreate":{t.servers.has(e.server._id)||Nt(()=>{for(const r of e.channels)t.channels.getOrCreate(r._id,r);t.servers.getOrCreate(e.server._id,e.server,!0)});break}case"ServerUpdate":{const r=t.servers.getOrPartial(e.id);if(r){const i={...t.servers.getUnderlyingObject(e.id)},s=Nl("server",e.data,t,!1);if(e.clear)for(const o of e.clear)switch(o){case"Banner":s.banner=void 0;break;case"Categories":s.categories=void 0;break;case"SystemMessages":s.systemMessages=void 0;break;case"Description":s.description=void 0;break;case"Icon":s.icon=void 0;break}t.servers.updateUnderlyingObject(e.id,s),t.emit("serverUpdate",r,i)}break}case"ServerDelete":{const r=t.servers.getOrPartial(e.id);r&&r.$delete();break}case"ServerRoleUpdate":{const r=t.servers.getOrPartial(e.id);if(r){const i=r.roles.get(e.role_id)??{};r.roles.set(e.role_id,new Y5(t,r.id,e.role_id,{...i,...e.data})),t.emit("serverRoleUpdate",r,e.role_id,i)}break}case"ServerRoleDelete":{const r=t.servers.getOrPartial(e.id);if(r){let i={};const s=r.roles;if(s.has(e.role_id))i=s.get(e.role_id),s.delete(e.role_id);else if(!t.servers.isPartial(e.id))return;t.emit("serverRoleDelete",r,e.role_id,i)}break}case"ServerMemberJoin":{const r={server:e.id,user:e.user};t.serverMembers.hasByKey(r)||(t.users.has(r.user)||t.options.eagerFetching&&await t.users.fetch(r.user),t.emit("serverMemberJoin",t.serverMembers.getOrCreate(r,{_id:r,joined_at:new Date().toUTCString()})));break}case"ServerMemberUpdate":{const r=t.serverMembers.getOrPartial(e.id);if(r){const i={...t.serverMembers.getUnderlyingObject(e.id.server+e.id.user)},s=Nl("serverMember",e.data,t,!1);if(e.clear)for(const o of e.clear)switch(o){case"Nickname":s.nickname=void 0;break;case"Avatar":s.avatar=void 0;break;case"Roles":s.roles=[];break;case"Timeout":s.timeout=void 0;break}t.serverMembers.updateUnderlyingObject(e.id.server+e.id.user,s),t.emit("serverMemberUpdate",r,i)}break}case"ServerMemberLeave":{if(e.user&&e.user===t.user.id){Iu(t,{type:"ServerDelete",id:e.id},n);return}const r={server:e.id,user:e.user};if(t.serverMembers.getOrPartial(r)){const i=t.serverMembers.getUnderlyingObject(r.server+r.user);t.emit("serverMemberLeave",i),t.serverMembers.delete(r.server+r.user)}break}case"UserUpdate":{const r=t.users.getOrPartial(e.id);if(r){const i={...t.users.getUnderlyingObject(e.id)},s=Nl("user",e.data,t,!1);if(e.clear)for(const o of e.clear)switch(o){case"Avatar":s.avatar=void 0;break;case"StatusPresence":s.status={...i.status??{},...s.status??{},presence:void 0};break;case"StatusText":s.status={...i.status??{},...s.status??{},text:void 0};break}t.users.updateUnderlyingObject(e.id,s),t.emit("userUpdate",r,i)}break}case"UserRelationship":{Iu(t,{type:"UserUpdate",id:e.user._id,data:{relationship:e.user.relationship}},n);break}case"UserPresence":{Iu(t,{type:"UserUpdate",id:e.id,data:{online:e.online}},n);break}case"UserSettingsUpdate":{t.emit("userSettingsUpdate",e.id,e.update);break}case"UserPlatformWipe":{Nt(()=>{Iu(t,{type:"BulkMessageDelete",channel:"0",ids:t.messages.toList().filter(r=>r.authorId===e.user_id).map(r=>r.id)},n),Iu(t,{type:"UserUpdate",id:e.user_id,data:{username:"Deleted User",online:!1,flags:e.flags,badges:0,relationship:"None"},clear:["Avatar","StatusPresence","StatusText"]},n)});break}case"EmojiCreate":{t.emojis.has(e._id)||t.emojis.getOrCreate(e._id,e,!0);break}case"EmojiDelete":{if(t.emojis.getOrPartial(e.id)){const r=t.emojis.getUnderlyingObject(e.id);t.emit("emojiDelete",r),t.emojis.delete(e.id)}break}case"Auth":break;case"VoiceChannelJoin":{const r=t.channels.getOrPartial(e.id);r&&r.voiceParticipants.set(e.state.id,new k7(t,e.state));break}case"VoiceChannelLeave":{const r=t.channels.getOrPartial(e.id);r&&r.voiceParticipants.delete(e.user);break}case"VoiceChannelMove":break;case"UserVoiceStateUpdate":{const r=t.channels.getOrPartial(e.channel_id);r&&r.voiceParticipants.get(e.id)?.update(e.data);break}}}const eee=/<@([0-9ABCDEFGHJKMNPQRSTVWXYZ]{26})>/g,tee=/<#([0-9ABCDEFGHJKMNPQRSTVWXYZ]{26})>/g,nee=/\|\|.+\|\|/g;class ree extends dL{account;bots;channels;channelUnreads;channelWebhooks;emojis;messages;servers;serverMembers;sessions;users;api;options;events;configuration;#e;user;ready;#t;connectionFailureCount;#n;#r;constructor(e,n){super(),this.options={baseURL:"https://stoat.chat/api",partials:!1,eagerFetching:!0,syncUnreads:!1,autoReconnect:!0,messageRewrites:!0,retryDelayFunction(a){return(Math.pow(2,a)-1)*(.8+Math.random()*.4)},channelIsMuted(){return!1},channelExclusiveMuted(){return!1},...e},this.configuration=n,this.api=new ux({baseURL:this.options.baseURL});const[r,i]=ve(!1);this.ready=r,this.#t=i;const[s,o]=ve(0);this.connectionFailureCount=s,this.#n=o,this.account=new nJ(this),this.bots=new zJ(this),this.channels=new QJ(this),this.channelUnreads=new VJ(this),this.channelWebhooks=new qJ(this),this.emojis=new HJ(this),this.messages=new WJ(this),this.servers=new XJ(this),this.serverMembers=new YJ(this),this.sessions=new ZJ(this),this.users=new KJ(this),this.events=new JJ(1,"json",this.options),this.events.on("error",a=>this.emit("error",a)),this.events.on("state",a=>{switch(a){case ma.Connected:Nt(()=>{this.servers.forEach(l=>l.resetSyncStatus()),this.#n(0),this.emit("connected")});break;case ma.Connecting:this.emit("connecting");break;case ma.Disconnected:this.emit("disconnected"),this.options.autoReconnect&&(this.#r=setTimeout(()=>this.connect(),this.options.retryDelayFunction(this.connectionFailureCount())*1e3),this.#n(l=>l+1));break}}),this.events.on("event",a=>Iu(this,a,this.#t))}get sessionId(){return typeof this.#e=="string"?void 0:this.#e?._id}get authenticationHeader(){return typeof this.#e=="string"?["X-Bot-Token",this.#e]:["X-Session-Token",this.#e?.token]}connect(){clearTimeout(this.#r),this.events.disconnect(),this.#t(!1),this.events.connect(this.configuration?.ws??"wss://stoat.chat/events",typeof this.#e=="string"?this.#e:this.#e.token)}async#i(){this.configuration||(this.configuration=await this.api.get("/"))}#o(){this.api=new ux({baseURL:this.options.baseURL,authentication:{revolt:this.#e}})}async login(e){await this.#i();const n=await this.api.post("/auth/session/login",e);if(n.result==="Success")this.#e=n;else throw"MFA not implemented!"}useExistingSession(e){this.#e=e,this.#o()}async loginBot(e){await this.#i(),this.#e=e,this.#o(),this.connect()}markdownToText(e){return e.replace(eee,(n,r)=>{const i=this.users.get(r);return i?`@${i.username}`:n}).replace(tee,(n,r)=>{const i=this.channels.get(r);return i?`#${i.displayName}`:n}).replace(nee,"<spoiler>")}proxyFile(e){return this.configuration?.features.january.enabled?`${this.configuration.features.january.url}/proxy?url=${encodeURIComponent(e)}`:e}async uploadFile(e,n,r){const i=new FormData;i.append("file",n);const[s,o]=this.authenticationHeader;return(await fetch(`${r??this.configuration?.features.autumn.url}/${e}`,{method:"POST",body:i,headers:{[s]:o}}).then(l=>l.json())).id}}class Cd{client;type;constructor(e,n="None"){this.client=e,this.type=n}static from(e,n){switch(n.type){case"Server":return new sh(e,n);default:return new iee(e)}}}class iee extends Cd{}class sh extends Cd{code;userName;userAvatar;serverId;serverName;serverIcon;serverBanner;serverFlags;memberCount;channelId;channelName;channelDescription;constructor(e,n){super(e,"Server"),this.code=n.code,this.userName=n.user_name,this.userAvatar=n.user_avatar?new Is(e,n.user_avatar):void 0,this.serverId=n.server_id,this.serverName=n.server_name,this.serverIcon=n.server_icon?new Is(e,n.server_icon):void 0,this.serverBanner=n.server_banner?new Is(e,n.server_banner):void 0,this.serverFlags=n.server_flags??0,this.memberCount=n.member_count,this.channelId=n.channel_id,this.channelName=n.channel_name,this.channelDescription=n.channel_description}get server(){return this.client.servers.get(this.serverId)}async join(){const e=this.client.servers.get(this.serverId);if(e)return e;const n=await this.client.api.post(`/invites/${this.code}`);if(n.type==="Server")return Nt(()=>{for(const r of n.channels)this.client.channels.getOrCreate(r._id,r);return this.client.servers.getOrCreate(n.server._id,n.server,!0)});throw"unreachable"}}const see=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],oee=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...see]),aee=new Set(["innerHTML","textContent","innerText","children"]),lee=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),cee=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function uee(t,e){const n=cee[t];return typeof n=="object"?n[e]?n.$:void 0:n}const dee=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),hee=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),fee={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function mee(t,e,n){let r=n.length,i=e.length,s=r,o=0,a=0,l=e[i-1].nextSibling,c=null;for(;o<i||a<s;){if(e[o]===n[a]){o++,a++;continue}for(;e[i-1]===n[s-1];)i--,s--;if(i===o){const d=s<r?a?n[a-1].nextSibling:n[s-a]:l;for(;a<s;)t.insertBefore(n[a++],d)}else if(s===a)for(;o<i;)(!c||!c.has(e[o]))&&e[o].remove(),o++;else if(e[o]===n[s-1]&&n[a]===e[i-1]){const d=e[--i].nextSibling;t.insertBefore(n[a++],e[o++].nextSibling),t.insertBefore(n[--s],d),e[i]=n[s]}else{if(!c){c=new Map;let h=a;for(;h<s;)c.set(n[h],h++)}const d=c.get(e[o]);if(d!=null)if(a<d&&d<s){let h=o,f=1,m;for(;++h<i&&h<s&&!((m=c.get(e[h]))==null||m!==d+f);)f++;if(f>d-a){const g=e[o];for(;a<d;)t.insertBefore(n[a++],g)}else t.replaceChild(n[a++],e[o++])}else o++;else e[o++].remove()}}}const S7="_$DX_DELEGATE";function gee(t,e=window.document){const n=e[S7]||(e[S7]=new Set);for(let r=0,i=t.length;r<i;r++){const s=t[r];n.has(s)||(n.add(s),e.addEventListener(s,Eee))}}function bx(t,e,n){ef(t)||(n==null?t.removeAttribute(e):t.setAttribute(e,n))}function pee(t,e,n,r){ef(t)||(r==null?t.removeAttributeNS(e,n):t.setAttributeNS(e,n,r))}function vee(t,e,n){ef(t)||(n?t.setAttribute(e,""):t.removeAttribute(e))}function bee(t,e){ef(t)||(e==null?t.removeAttribute("class"):t.className=e)}function yee(t,e,n,r){if(r)Array.isArray(n)?(t[`$$${e}`]=n[0],t[`$$${e}Data`]=n[1]):t[`$$${e}`]=n;else if(Array.isArray(n)){const i=n[0];t.addEventListener(e,n[0]=s=>i.call(t,n[1],s))}else t.addEventListener(e,n,typeof n!="function"&&n)}function Oee(t,e,n={}){const r=Object.keys(e||{}),i=Object.keys(n);let s,o;for(s=0,o=i.length;s<o;s++){const a=i[s];!a||a==="undefined"||e[a]||(x7(t,a,!1),delete n[a])}for(s=0,o=r.length;s<o;s++){const a=r[s],l=!!e[a];!a||a==="undefined"||n[a]===l||!l||(x7(t,a,!0),n[a]=l)}return n}function wee(t,e,n){if(!e)return n?bx(t,"style"):e;const r=t.style;if(typeof e=="string")return r.cssText=e;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),e||(e={});let i,s;for(s in n)e[s]==null&&r.removeProperty(s),delete n[s];for(s in e)i=e[s],i!==n[s]&&(r.setProperty(s,i),n[s]=i);return n}function kee(t,e={},n,r){const i={};return Te(()=>i.children=yx(t,e.children,i.children)),Te(()=>typeof e.ref=="function"&&See(e.ref,t)),Te(()=>xee(t,e,n,!0,i,!0)),i}function See(t,e,n){return Gn(()=>t(e,n))}function xee(t,e,n,r,i={},s=!1){e||(e={});for(const o in i)if(!(o in e)){if(o==="children")continue;i[o]=_7(t,o,null,i[o],n,s,e)}for(const o in e){if(o==="children")continue;const a=e[o];i[o]=_7(t,o,a,i[o],n,s,e)}}function _ee(t){let e,n;return!ef()||!(e=Ct.registry.get(n=Tee()))?t():(Ct.completed&&Ct.completed.add(e),Ct.registry.delete(n),e)}function ef(t){return!!Ct.context&&!Ct.done&&(!t||t.isConnected)}function Cee(t){return t.toLowerCase().replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}function x7(t,e,n){const r=e.trim().split(/\s+/);for(let i=0,s=r.length;i<s;i++)t.classList.toggle(r[i],n)}function _7(t,e,n,r,i,s,o){let a,l,c,d,h;if(e==="style")return wee(t,n,r);if(e==="classList")return Oee(t,n,r);if(n===r)return r;if(e==="ref")s||n(t);else if(e.slice(0,3)==="on:"){const f=e.slice(3);r&&t.removeEventListener(f,r,typeof r!="function"&&r),n&&t.addEventListener(f,n,typeof n!="function"&&n)}else if(e.slice(0,10)==="oncapture:"){const f=e.slice(10);r&&t.removeEventListener(f,r,!0),n&&t.addEventListener(f,n,!0)}else if(e.slice(0,2)==="on"){const f=e.slice(2).toLowerCase(),m=dee.has(f);if(!m&&r){const g=Array.isArray(r)?r[0]:r;t.removeEventListener(f,g)}(m||n)&&(yee(t,f,n,m),m&&gee([f]))}else if(e.slice(0,5)==="attr:")bx(t,e.slice(5),n);else if(e.slice(0,5)==="bool:")vee(t,e.slice(5),n);else if((h=e.slice(0,5)==="prop:")||(c=aee.has(e))||!i&&((d=uee(e,t.tagName))||(l=oee.has(e)))||(a=t.nodeName.includes("-")||"is"in o)){if(h)e=e.slice(5),l=!0;else if(ef(t))return n;e==="class"||e==="className"?bee(t,n):a&&!l&&!c?t[Cee(e)]=n:t[d||e]=n}else{const f=i&&e.indexOf(":")>-1&&fee[e.split(":")[0]];f?pee(t,f,e,n):bx(t,lee[e]||e,n)}return n}function Eee(t){if(Ct.registry&&Ct.events&&Ct.events.find(([l,c])=>c===t))return;let e=t.target;const n=`$$${t.type}`,r=t.target,i=t.currentTarget,s=l=>Object.defineProperty(t,"target",{configurable:!0,value:l}),o=()=>{const l=e[n];if(l&&!e.disabled){const c=e[`${n}Data`];if(c!==void 0?l.call(e,c,t):l.call(e,t),t.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(t.target)&&s(e.host),!0},a=()=>{for(;o()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return e||document}}),Ct.registry&&!Ct.done&&(Ct.done=_$HY.done=!0),t.composedPath){const l=t.composedPath();s(l[0]);for(let c=0;c<l.length-2&&(e=l[c],!!o());c++){if(e._$host){e=e._$host,a();break}if(e.parentNode===i)break}}else a();s(r)}function yx(t,e,n,r,i){const s=ef(t);if(s){!n&&(n=[...t.childNodes]);let a=[];for(let l=0;l<n.length;l++){const c=n[l];c.nodeType===8&&c.data.slice(0,2)==="!$"?c.remove():a.push(c)}n=a}for(;typeof n=="function";)n=n();if(e===n)return n;const o=typeof e;if(t=t,o==="string"||o==="number"){if(s||o==="number"&&(e=e.toString(),e===n))return n;n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||o==="boolean"){if(s)return n;n=v1(t,n,r)}else{if(o==="function")return Te(()=>{let a=e();for(;typeof a=="function";)a=a();n=yx(t,a,n,r)}),()=>n;if(Array.isArray(e)){const a=[],l=n&&Array.isArray(n);if(Ox(a,e,n,i))return Te(()=>n=yx(t,a,n,r,!0)),()=>n;if(s)return a.length?n=[...t.childNodes]:n;a.length===0?n=v1(t,n,r):l?n.length===0?C7(t,a,r):mee(t,n,a):(n&&v1(t),C7(t,a)),n=a}else if(e.nodeType){if(s&&e.parentNode)return n=e;Array.isArray(n)?v1(t,n,null,e):n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild),n=e}}return n}function Ox(t,e,n,r){let i=!1;for(let s=0,o=e.length;s<o;s++){let a=e[s],l=n&&n[t.length],c;if(!(a==null||a===!0||a===!1))if((c=typeof a)=="object"&&a.nodeType)t.push(a);else if(Array.isArray(a))i=Ox(t,a,l)||i;else if(c==="function")if(r){for(;typeof a=="function";)a=a();i=Ox(t,Array.isArray(a)?a:[a],Array.isArray(l)?l:[l])||i}else t.push(a),i=!0;else{const d=String(a);l&&l.nodeType===3&&l.data===d?t.push(l):t.push(document.createTextNode(d))}}return i}function C7(t,e,n=null){for(let r=0,i=e.length;r<i;r++)t.insertBefore(e[r],n)}function v1(t,e,n,r){if(n===void 0)return t.textContent="";const i=r||document.createTextNode("");if(e.length){let s=!1;for(let o=e.length-1;o>=0;o--){const a=e[o];if(i!==a){const l=a.parentNode===t;!s&&!o?l?t.replaceChild(i,a):t.insertBefore(i,n):l&&a.remove()}else s=!0}}else t.insertBefore(i,n);return[i]}function Tee(){return Ct.getNextContextId()}const Dee="http://www.w3.org/2000/svg";function Aee(t,e=!1){return e?document.createElementNS(Dee,t):document.createElement(t)}function E7(t){const[e,n]=sn(t,["component"]),r=ke(()=>e.component);return ke(()=>{const i=r();switch(typeof i){case"function":return Gn(()=>i(n));case"string":const s=hee.has(i),o=Ct.context?_ee():Aee(i,s);return kee(o,n,s),o}})}const OL=yr(null),wL=t=>Nn(OL);function Dt(){return wL()}const Pee=t=>{const[e,n]=ve(t.i18n.locale);let r;const[i,s]=ve(t.i18n,{equals:(l,c)=>c.locale!=e()}),o=ke(()=>t.defaultComponent),a=(...l)=>i()._.apply(i(),l);return dt(Zt([()=>t.i18n,()=>t.defaultComponent],()=>{const l=()=>{n(t.i18n.locale),s(t.i18n)};r&&r(),r=t.i18n.on("change",l),e()!==t.i18n.locale&&l()})),wt(()=>r()),dt(()=>{e()}),u(OL.Provider,{value:{i18n:i,defaultComponent:o,_:a},get children(){return u(X,{get when(){return!!e()},get children(){return t.children}})}})},Ree=/<([a-zA-Z0-9]+)>(.*?)<\/\1>|<([a-zA-Z0-9]+)\/>/,Mee=/(?:\r\n|\r|\n)/g,Iee={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0};function kL(t,e){if(e!=null)if(Array.isArray(e))for(const n of e)kL(t,n);else e instanceof Node?t.appendChild(e):typeof e=="string"?t.appendChild(document.createTextNode(e)):console.error(`Invalid children type: ${typeof e}`,e)}function wx(t,e={}){const n=t.replace(Mee,"").split(Ree);if(n.length===1)return t;const r=[],i=n.shift();i&&r.push(i);for(const[s,o,a]of SL(n)){let l=typeof s<"u"?e[s]:void 0;l?o&&l instanceof Node&&l.nodeName.toLowerCase()in Iee&&(console.error(`${l.nodeName} is a void element tag therefore it must have no children`),l=[]):(console.error(`Can't use element at index '${s}' as it is not declared in the original translation`),l=[]),o&&(l instanceof HTMLElement?kL(l,wx(o,e)):(Array.isArray(l)||console.error("Element is not HTMLElement, but have children:",l),l=[l,ke(()=>wx(o,e))])),r.push(l),a&&r.push(a)}return r.length===1?r[0]:r}function SL(t){if(!t.length)return[];const[e,n,r,i]=t.slice(0,4);return[[e||r,n||"",i]].concat(SL(t.slice(4,t.length)))}const $ee=t=>{const e=ke(()=>{const n={...t.values??{}},r={...t.components??{}};t.values&&Object.keys(t.values).forEach(c=>{const d=Object.keys(r).length;if(!(typeof n[c]=="string"||typeof n[c]=="number")){if(!n[c]){n[c]="";return}r[d]=n[c],n[c]=`<${d}/>`}});const i=t.lingui.i18n!=null&&typeof t.lingui.i18n()._=="function"?t.lingui.i18n()._(t.id,n,{message:t.message,formats:t.formats}):t.id,s=i?wx(i,r):null;if(t.render===null||t.component===null)return s;const o=t.lingui.defaultComponent()||Lee,a={id:t.id,message:t.message,translation:s,children:s};if(t.render&&t.component)console.error("You can't use both `component` and `render` prop at the same time. `component` is ignored.");else if(t.render&&typeof t.render!="function")console.error(`Invalid value supplied to prop \`render\`. It must be a function, provided ${t.render}`);else if(t.component&&typeof t.component!="function")return console.error(`Invalid value supplied to prop \`component\`. It must be a SolidJS component, provided ${t.component}`),u(E7,ge({component:o},a,{children:s}));if(typeof t.render=="function")return t.render(a);const l=t.component||o;return u(E7,ge({component:l},a,{children:s}))});return ke(e)},Lee=t=>ke(()=>t.children),k=t=>{const e=wL();return u($ee,ge(t,{lingui:e,get children(){return t.children}}))},Nee=/\/server\/([A-Z0-9]{26})/,Fee=/\/channel\/([A-Z0-9]{26})/,Bee=/\/channel\/[A-Z0-9]{26}\/([A-Z0-9]{26})/,zee=/\/bot\/([A-Z0-9]{26})/,Qee=/^\/invite\/([\w\d]+)$/,Uee=/^\/bot\/[A-Z0-9]{26}$/,Vee=/^\/server\/([A-Z0-9]{26})$/,jee=/^(?:\/server\/[A-Z0-9]{26})?\/channel\/([A-Z0-9]{26})(?:\/[A-Z0-9]{26})?$/,qee=/^(?:\/server\/[A-Z0-9]{26})?\/channel\/[A-Z0-9]{26}\/([A-Z0-9]{26})$/;function OO(t){const e={exactServer:!!t.match(Vee),exactChannel:!!t.match(jee),exactMessage:!!t.match(qee),exactBot:!!t.match(Uee)},n=t.match(Qee);n&&(e.inviteId=n[1]);const r=t.match(Nee);r&&(e.serverId=r[1]);const i=t.match(Fee);i&&(e.channelId=i[1]);const s=t.match(Bee);s&&(e.messageId=s[1]);const o=t.match(zee);return o&&(e.botId=o[1]),e}function du(){const t=Zh();return()=>OO(t.pathname)}function kx(t){return typeof t=="object"&&t!=null&&!Array.isArray(t)}var Hee=t=>typeof t=="object"&&t!==null;function xL(t){return Object.fromEntries(Object.entries(t??{}).filter(([e,n])=>n!==void 0))}var Wee=t=>t==="base";function Xee(t){return t.slice().filter(e=>!Wee(e))}function T7(t){return String.fromCharCode(t+(t>25?39:97))}function Yee(t){let e="",n;for(n=Math.abs(t);n>52;n=n/52|0)e=T7(n%52)+e;return T7(n%52)+e}function Gee(t,e){let n=e.length;for(;n;)t=t*33^e.charCodeAt(--n);return t}function Zee(t){return Yee(Gee(5381,t)>>>0)}var _L=/\s*!(important)?/i;function Kee(t){return typeof t=="string"?_L.test(t):!1}function Jee(t){return typeof t=="string"?t.replace(_L,"").trim():t}function CL(t){return typeof t=="string"?t.replaceAll(" ","_"):t}var Av=t=>{const e=new Map;return(...r)=>{const i=JSON.stringify(r);if(e.has(i))return e.get(i);const s=t(...r);return e.set(i,s),s}};function Z5(...t){return t.reduce((e,n)=>(n&&Object.keys(n).forEach(r=>{const i=e[r],s=n[r];kx(i)&&kx(s)?e[r]=Z5(i,s):e[r]=s}),e),{})}var ete=t=>t!=null;function EL(t,e,n={}){const{stop:r,getKey:i}=n;function s(o,a=[]){if(Hee(o)){const l={};for(const[c,d]of Object.entries(o)){const h=i?.(c,d)??c,f=[...a,h];if(r?.(o,f))return e(o,a);const m=s(d,f);ete(m)&&(l[h]=m)}return l}return e(o,a)}return s(t)}function tte(t,e){return t.reduce((n,r,i)=>{const s=e[i];return r!=null&&(n[s]=r),n},{})}function TL(t,e,n=!0){const{utility:r,conditions:i}=e,{hasShorthand:s,resolveShorthand:o}=r;return EL(t,a=>Array.isArray(a)?tte(a,i.breakpoints.keys):a,{stop:a=>Array.isArray(a),getKey:n?a=>s?o(a):a:void 0})}var nte={shift:t=>t,finalize:t=>t,breakpoints:{keys:[]}},rte=t=>typeof t=="string"?t.replaceAll(/[\n\s]+/g," "):t;function ite(t){const{utility:e,hash:n,conditions:r=nte}=t,i=o=>[e.prefix,o].filter(Boolean).join("-"),s=(o,a)=>{let l;if(n){const c=[...r.finalize(o),a];l=i(e.toHash(c,Zee))}else l=[...r.finalize(o),i(a)].join(":");return l};return Av(({base:o,...a}={})=>{const l=Object.assign(a,o),c=TL(l,t),d=new Set;return EL(c,(h,f)=>{if(h==null)return;const m=Kee(h),[g,...p]=r.shift(f),v=Xee(p),b=e.transform(g,Jee(rte(h)));let y=s(v,b.className);m&&(y=`${y}!`),d.add(y)}),Array.from(d).join(" ")})}function ste(...t){return t.flat().filter(e=>kx(e)&&Object.keys(xL(e)).length>0)}function ote(t){function e(i){const s=ste(...i);return s.length===1?s:s.map(o=>TL(o,t))}function n(...i){return Z5(...e(i))}function r(...i){return Object.assign({},...e(i))}return{mergeCss:Av(n),assignCss:r}}var ate=/([A-Z])/g,lte=/^ms-/,cte=Av(t=>t.startsWith("--")?t:t.replace(ate,"-$1").replace(lte,"-ms-").toLowerCase()),ute="cm,mm,Q,in,pc,pt,px,em,ex,ch,rem,lh,rlh,vw,vh,vmin,vmax,vb,vi,svw,svh,lvw,lvh,dvw,dvh,cqw,cqh,cqi,cqb,cqmin,cqmax,%";`${ute.split(",").join("|")}`;function DL(t,...e){const n=Object.getOwnPropertyDescriptors(t),r=Object.keys(n),i=o=>{const a={};for(let l=0;l<o.length;l++){const c=o[l];n[c]&&(Object.defineProperty(a,c,n[c]),delete n[c])}return a},s=o=>i(Array.isArray(o)?o:r.filter(o));return e.map(s).concat(i(r))}var dte=(...t)=>{const e=t.reduce((n,r)=>(r&&r.forEach(i=>n.add(i)),n),new Set([]));return Array.from(e)},AL=["htmlSize","htmlTranslate","htmlWidth","htmlHeight"];function hte(t){return AL.includes(t)?t.replace("html","").toLowerCase():t}function Sx(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[hte(e),n]))}Sx.keys=AL;const fte="_hover,_focus,_focusWithin,_focusVisible,_disabled,_active,_visited,_target,_readOnly,_readWrite,_empty,_checked,_enabled,_expanded,_highlighted,_before,_after,_firstLetter,_firstLine,_marker,_selection,_file,_backdrop,_first,_last,_only,_even,_odd,_firstOfType,_lastOfType,_onlyOfType,_peerFocus,_peerHover,_peerActive,_peerFocusWithin,_peerFocusVisible,_peerDisabled,_peerChecked,_peerInvalid,_peerExpanded,_peerPlaceholderShown,_groupFocus,_groupHover,_groupActive,_groupFocusWithin,_groupFocusVisible,_groupDisabled,_groupChecked,_groupExpanded,_groupInvalid,_indeterminate,_required,_valid,_invalid,_autofill,_inRange,_outOfRange,_placeholder,_placeholderShown,_pressed,_selected,_default,_optional,_open,_closed,_fullscreen,_loading,_currentPage,_currentStep,_motionReduce,_motionSafe,_print,_landscape,_portrait,_dark,_light,_osDark,_osLight,_highContrast,_lessContrast,_moreContrast,_ltr,_rtl,_scrollbar,_scrollbarThumb,_scrollbarTrack,_horizontal,_vertical,_starting,sm,smOnly,smDown,md,mdOnly,mdDown,lg,lgOnly,lgDown,xl,xlOnly,xlDown,2xl,2xlOnly,2xlDown,smToMd,smToLg,smToXl,smTo2xl,mdToLg,mdToXl,mdTo2xl,lgToXl,lgTo2xl,xlTo2xl,@/xs,@/sm,@/md,@/lg,@/xl,@/2xl,@/3xl,@/4xl,@/5xl,@/6xl,@/7xl,@/8xl,base",PL=new Set(fte.split(",")),mte=/^@|&|&$/;function D7(t){return PL.has(t)||mte.test(t)}const gte=/^_/,pte=/&|@/;function vte(t){return t.map(e=>PL.has(e)?e.replace(gte,""):pte.test(e)?`[${CL(e.trim())}]`:e)}function bte(t){return t.sort((e,n)=>{const r=D7(e),i=D7(n);return r&&!i?1:!r&&i?-1:0})}const yte="aspectRatio:asp,boxDecorationBreak:bx-db,zIndex:z,boxSizing:bx-s,objectPosition:obj-p,objectFit:obj-f,overscrollBehavior:ovs-b,overscrollBehaviorX:ovs-bx,overscrollBehaviorY:ovs-by,position:pos/1,top:top,left:left,inset:inset,insetInline:inset-x/insetX,insetBlock:inset-y/insetY,insetBlockEnd:inset-be,insetBlockStart:inset-bs,insetInlineEnd:inset-e/insetEnd/end,insetInlineStart:inset-s/insetStart/start,right:right,bottom:bottom,float:float,visibility:vis,display:d,hideFrom:hide,hideBelow:show,flexBasis:flex-b,flex:flex,flexDirection:flex-d/flexDir,flexGrow:flex-g,flexShrink:flex-sh,gridTemplateColumns:grid-tc,gridTemplateRows:grid-tr,gridColumn:grid-c,gridRow:grid-r,gridColumnStart:grid-cs,gridColumnEnd:grid-ce,gridAutoFlow:grid-af,gridAutoColumns:grid-ac,gridAutoRows:grid-ar,gap:gap,gridGap:grid-g,gridRowGap:grid-rg,gridColumnGap:grid-cg,rowGap:rg,columnGap:cg,justifyContent:jc,alignContent:ac,alignItems:ai,alignSelf:as,padding:p/1,paddingLeft:pl/1,paddingRight:pr/1,paddingTop:pt/1,paddingBottom:pb/1,paddingBlock:py/1/paddingY,paddingBlockEnd:pbe,paddingBlockStart:pbs,paddingInline:px/paddingX/1,paddingInlineEnd:pe/1/paddingEnd,paddingInlineStart:ps/1/paddingStart,marginLeft:ml/1,marginRight:mr/1,marginTop:mt/1,marginBottom:mb/1,margin:m/1,marginBlock:my/1/marginY,marginBlockEnd:mbe,marginBlockStart:mbs,marginInline:mx/1/marginX,marginInlineEnd:me/1/marginEnd,marginInlineStart:ms/1/marginStart,spaceX:sx,spaceY:sy,outlineWidth:ring-w/ringWidth,outlineColor:ring-c/ringColor,outline:ring/1,outlineOffset:ring-o/ringOffset,divideX:dvd-x,divideY:dvd-y,divideColor:dvd-c,divideStyle:dvd-s,width:w/1,inlineSize:w-is,minWidth:min-w/minW,minInlineSize:min-w-is,maxWidth:max-w/maxW,maxInlineSize:max-w-is,height:h/1,blockSize:h-bs,minHeight:min-h/minH,minBlockSize:min-h-bs,maxHeight:max-h/maxH,maxBlockSize:max-b,color:c,fontFamily:ff,fontSize:fs,fontSizeAdjust:fs-a,fontPalette:fp,fontKerning:fk,fontFeatureSettings:ff-s,fontWeight:fw,fontSmoothing:fsmt,fontVariant:fv,fontVariantAlternates:fv-alt,fontVariantCaps:fv-caps,fontVariationSettings:fv-s,fontVariantNumeric:fv-num,letterSpacing:ls,lineHeight:lh,textAlign:ta,textDecoration:td,textDecorationColor:td-c,textEmphasisColor:te-c,textDecorationStyle:td-s,textDecorationThickness:td-t,textUnderlineOffset:tu-o,textTransform:tt,textIndent:ti,textShadow:tsh,textShadowColor:tsh-c/textShadowColor,textOverflow:tov,verticalAlign:va,wordBreak:wb,textWrap:tw,truncate:trunc,lineClamp:lc,listStyleType:li-t,listStylePosition:li-pos,listStyleImage:li-img,listStyle:li-s,backgroundPosition:bg-p/bgPosition,backgroundPositionX:bg-p-x/bgPositionX,backgroundPositionY:bg-p-y/bgPositionY,backgroundAttachment:bg-a/bgAttachment,backgroundClip:bg-cp/bgClip,background:bg/1,backgroundColor:bg-c/bgColor,backgroundOrigin:bg-o/bgOrigin,backgroundImage:bg-i/bgImage,backgroundRepeat:bg-r/bgRepeat,backgroundBlendMode:bg-bm/bgBlendMode,backgroundSize:bg-s/bgSize,backgroundGradient:bg-grad/bgGradient,textGradient:txt-grad,gradientFromPosition:grad-from-pos,gradientToPosition:grad-to-pos,gradientFrom:grad-from,gradientTo:grad-to,gradientVia:grad-via,gradientViaPosition:grad-via-pos,borderRadius:bdr/rounded,borderTopLeftRadius:bdr-tl/roundedTopLeft,borderTopRightRadius:bdr-tr/roundedTopRight,borderBottomRightRadius:bdr-br/roundedBottomRight,borderBottomLeftRadius:bdr-bl/roundedBottomLeft,borderTopRadius:bdr-t/roundedTop,borderRightRadius:bdr-r/roundedRight,borderBottomRadius:bdr-b/roundedBottom,borderLeftRadius:bdr-l/roundedLeft,borderStartStartRadius:bdr-ss/roundedStartStart,borderStartEndRadius:bdr-se/roundedStartEnd,borderStartRadius:bdr-s/roundedStart,borderEndStartRadius:bdr-es/roundedEndStart,borderEndEndRadius:bdr-ee/roundedEndEnd,borderEndRadius:bdr-e/roundedEnd,border:bd,borderWidth:bd-w,borderTopWidth:bd-t-w,borderLeftWidth:bd-l-w,borderRightWidth:bd-r-w,borderBottomWidth:bd-b-w,borderColor:bd-c,borderInline:bd-x/borderX,borderInlineWidth:bd-x-w/borderXWidth,borderInlineColor:bd-x-c/borderXColor,borderBlock:bd-y/borderY,borderBlockWidth:bd-y-w/borderYWidth,borderBlockColor:bd-y-c/borderYColor,borderLeft:bd-l,borderLeftColor:bd-l-c,borderInlineStart:bd-s/borderStart,borderInlineStartWidth:bd-s-w/borderStartWidth,borderInlineStartColor:bd-s-c/borderStartColor,borderRight:bd-r,borderRightColor:bd-r-c,borderInlineEnd:bd-e/borderEnd,borderInlineEndWidth:bd-e-w/borderEndWidth,borderInlineEndColor:bd-e-c/borderEndColor,borderTop:bd-t,borderTopColor:bd-t-c,borderBottom:bd-b,borderBottomColor:bd-b-c,borderBlockEnd:bd-be,borderBlockEndColor:bd-be-c,borderBlockStart:bd-bs,borderBlockStartColor:bd-bs-c,opacity:op,boxShadow:bx-sh/shadow,boxShadowColor:bx-sh-c/shadowColor,mixBlendMode:mix-bm,filter:filter,brightness:brightness,contrast:contrast,grayscale:grayscale,hueRotate:hue-rotate,invert:invert,saturate:saturate,sepia:sepia,dropShadow:drop-shadow,blur:blur,backdropFilter:bkdp,backdropBlur:bkdp-blur,backdropBrightness:bkdp-brightness,backdropContrast:bkdp-contrast,backdropGrayscale:bkdp-grayscale,backdropHueRotate:bkdp-hue-rotate,backdropInvert:bkdp-invert,backdropOpacity:bkdp-opacity,backdropSaturate:bkdp-saturate,backdropSepia:bkdp-sepia,borderCollapse:bd-cl,borderSpacing:bd-sp,borderSpacingX:bd-sx,borderSpacingY:bd-sy,tableLayout:tbl,transitionTimingFunction:trs-tmf,transitionDelay:trs-dly,transitionDuration:trs-dur,transitionProperty:trs-prop,transition:trs,animation:anim,animationName:anim-n,animationTimingFunction:anim-tmf,animationDuration:anim-dur,animationDelay:anim-dly,animationPlayState:anim-ps,animationComposition:anim-comp,animationFillMode:anim-fm,animationDirection:anim-dir,animationIterationCount:anim-ic,animationRange:anim-r,animationState:anim-s,animationRangeStart:anim-rs,animationRangeEnd:anim-re,animationTimeline:anim-tl,transformOrigin:trf-o,transformBox:trf-b,transformStyle:trf-s,transform:trf,rotate:rotate,rotateX:rotate-x,rotateY:rotate-y,rotateZ:rotate-z,scale:scale,scaleX:scale-x,scaleY:scale-y,translate:translate,translateX:translate-x/x,translateY:translate-y/y,translateZ:translate-z/z,accentColor:ac-c,caretColor:ca-c,scrollBehavior:scr-bhv,scrollbar:scr-bar,scrollbarColor:scr-bar-c,scrollbarGutter:scr-bar-g,scrollbarWidth:scr-bar-w,scrollMargin:scr-m,scrollMarginLeft:scr-ml,scrollMarginRight:scr-mr,scrollMarginTop:scr-mt,scrollMarginBottom:scr-mb,scrollMarginBlock:scr-my/scrollMarginY,scrollMarginBlockEnd:scr-mbe,scrollMarginBlockStart:scr-mbt,scrollMarginInline:scr-mx/scrollMarginX,scrollMarginInlineEnd:scr-me,scrollMarginInlineStart:scr-ms,scrollPadding:scr-p,scrollPaddingBlock:scr-py/scrollPaddingY,scrollPaddingBlockStart:scr-pbs,scrollPaddingBlockEnd:scr-pbe,scrollPaddingInline:scr-px/scrollPaddingX,scrollPaddingInlineEnd:scr-pe,scrollPaddingInlineStart:scr-ps,scrollPaddingLeft:scr-pl,scrollPaddingRight:scr-pr,scrollPaddingTop:scr-pt,scrollPaddingBottom:scr-pb,scrollSnapAlign:scr-sa,scrollSnapStop:scrs-s,scrollSnapType:scrs-t,scrollSnapStrictness:scrs-strt,scrollSnapMargin:scrs-m,scrollSnapMarginTop:scrs-mt,scrollSnapMarginBottom:scrs-mb,scrollSnapMarginLeft:scrs-ml,scrollSnapMarginRight:scrs-mr,scrollSnapCoordinate:scrs-c,scrollSnapDestination:scrs-d,scrollSnapPointsX:scrs-px,scrollSnapPointsY:scrs-py,scrollSnapTypeX:scrs-tx,scrollSnapTypeY:scrs-ty,scrollTimeline:scrtl,scrollTimelineAxis:scrtl-a,scrollTimelineName:scrtl-n,touchAction:tch-a,userSelect:us,overflow:ov,overflowWrap:ov-wrap,overflowX:ov-x,overflowY:ov-y,overflowAnchor:ov-a,overflowBlock:ov-b,overflowInline:ov-i,overflowClipBox:ovcp-bx,overflowClipMargin:ovcp-m,overscrollBehaviorBlock:ovs-bb,overscrollBehaviorInline:ovs-bi,fill:fill,stroke:stk,strokeWidth:stk-w,strokeDasharray:stk-dsh,strokeDashoffset:stk-do,strokeLinecap:stk-lc,strokeLinejoin:stk-lj,strokeMiterlimit:stk-ml,strokeOpacity:stk-op,srOnly:sr,debug:debug,appearance:ap,backfaceVisibility:bfv,clipPath:cp-path,hyphens:hy,mask:msk,maskImage:msk-i,maskSize:msk-s,textSizeAdjust:txt-adj,container:cq,containerName:cq-n,containerType:cq-t,textStyle:textStyle",RL=new Map,ML=new Map;yte.split(",").forEach(t=>{const[e,n]=t.split(":"),[r,...i]=n.split("/");RL.set(e,r),i.length&&i.forEach(s=>{ML.set(s==="1"?r:s,e)})});const A7=t=>ML.get(t)||t,IL={conditions:{shift:bte,finalize:vte,breakpoints:{keys:["base","sm","md","lg","xl","2xl"]}},utility:{transform:(t,e)=>{const n=A7(t);return{className:`${RL.get(n)||cte(n)}_${CL(e)}`}},hasShorthand:!0,toHash:(t,e)=>e(t.join(":")),resolveShorthand:A7}},Ote=ite(IL),hn=(...t)=>Ote(lh(...t));hn.raw=(...t)=>lh(...t);const{mergeCss:lh}=ote(IL);function P7(){let t="",e=0,n;for(;e<arguments.length;)(n=arguments[e++])&&typeof n=="string"&&(t&&(t+=" "),t+=n);return t}const R7=t=>({base:{},variants:{},defaultVariants:{},compoundVariants:[],...t});function nn(t){const{base:e,variants:n,defaultVariants:r,compoundVariants:i}=R7(t),s=f=>({...r,...xL(f)});function o(f={}){const m=s(f);let g={...e};for(const[v,b]of Object.entries(m))n[v]?.[b]&&(g=lh(g,n[v][b]));const p=wte(i,m);return lh(g,p)}function a(f){const m=R7(f.config),g=dte(f.variantKeys,Object.keys(n));return nn({base:lh(e,m.base),variants:Object.fromEntries(g.map(p=>[p,lh(n[p],m.variants[p])])),defaultVariants:Z5(r,m.defaultVariants),compoundVariants:[...i,...m.compoundVariants]})}function l(f){return hn(o(f))}const c=Object.keys(n);function d(f){return DL(f,c)}const h=Object.fromEntries(Object.entries(n).map(([f,m])=>[f,Object.keys(m)]));return Object.assign(Av(l),{__cva__:!0,variantMap:h,variantKeys:c,raw:o,config:t,merge:a,splitVariantProps:d,getVariantProps:s})}function wte(t,e){let n={};return t.forEach(r=>{Object.entries(r).every(([s,o])=>s==="css"?!0:(Array.isArray(o)?o:[o]).some(l=>e[s]===l))&&(n=lh(n,r.css))}),n}var kte="css,pos,insetX,insetY,insetEnd,end,insetStart,start,flexDir,p,pl,pr,pt,pb,py,paddingY,paddingX,px,pe,paddingEnd,ps,paddingStart,ml,mr,mt,mb,m,my,marginY,mx,marginX,me,marginEnd,ms,marginStart,ringWidth,ringColor,ring,ringOffset,w,minW,maxW,h,minH,maxH,textShadowColor,bgPosition,bgPositionX,bgPositionY,bgAttachment,bgClip,bg,bgColor,bgOrigin,bgImage,bgRepeat,bgBlendMode,bgSize,bgGradient,rounded,roundedTopLeft,roundedTopRight,roundedBottomRight,roundedBottomLeft,roundedTop,roundedRight,roundedBottom,roundedLeft,roundedStartStart,roundedStartEnd,roundedStart,roundedEndStart,roundedEndEnd,roundedEnd,borderX,borderXWidth,borderXColor,borderY,borderYWidth,borderYColor,borderStart,borderStartWidth,borderStartColor,borderEnd,borderEndWidth,borderEndColor,shadow,shadowColor,x,y,z,scrollMarginY,scrollMarginX,scrollPaddingY,scrollPaddingX,aspectRatio,boxDecorationBreak,zIndex,boxSizing,objectPosition,objectFit,overscrollBehavior,overscrollBehaviorX,overscrollBehaviorY,position,top,left,inset,insetInline,insetBlock,insetBlockEnd,insetBlockStart,insetInlineEnd,insetInlineStart,right,bottom,float,visibility,display,hideFrom,hideBelow,flexBasis,flex,flexDirection,flexGrow,flexShrink,gridTemplateColumns,gridTemplateRows,gridColumn,gridRow,gridColumnStart,gridColumnEnd,gridAutoFlow,gridAutoColumns,gridAutoRows,gap,gridGap,gridRowGap,gridColumnGap,rowGap,columnGap,justifyContent,alignContent,alignItems,alignSelf,padding,paddingLeft,paddingRight,paddingTop,paddingBottom,paddingBlock,paddingBlockEnd,paddingBlockStart,paddingInline,paddingInlineEnd,paddingInlineStart,marginLeft,marginRight,marginTop,marginBottom,margin,marginBlock,marginBlockEnd,marginBlockStart,marginInline,marginInlineEnd,marginInlineStart,spaceX,spaceY,outlineWidth,outlineColor,outline,outlineOffset,divideX,divideY,divideColor,divideStyle,width,inlineSize,minWidth,minInlineSize,maxWidth,maxInlineSize,height,blockSize,minHeight,minBlockSize,maxHeight,maxBlockSize,color,fontFamily,fontSize,fontSizeAdjust,fontPalette,fontKerning,fontFeatureSettings,fontWeight,fontSmoothing,fontVariant,fontVariantAlternates,fontVariantCaps,fontVariationSettings,fontVariantNumeric,letterSpacing,lineHeight,textAlign,textDecoration,textDecorationColor,textEmphasisColor,textDecorationStyle,textDecorationThickness,textUnderlineOffset,textTransform,textIndent,textShadow,textOverflow,verticalAlign,wordBreak,textWrap,truncate,lineClamp,listStyleType,listStylePosition,listStyleImage,listStyle,backgroundPosition,backgroundPositionX,backgroundPositionY,backgroundAttachment,backgroundClip,background,backgroundColor,backgroundOrigin,backgroundImage,backgroundRepeat,backgroundBlendMode,backgroundSize,backgroundGradient,textGradient,gradientFromPosition,gradientToPosition,gradientFrom,gradientTo,gradientVia,gradientViaPosition,borderRadius,borderTopLeftRadius,borderTopRightRadius,borderBottomRightRadius,borderBottomLeftRadius,borderTopRadius,borderRightRadius,borderBottomRadius,borderLeftRadius,borderStartStartRadius,borderStartEndRadius,borderStartRadius,borderEndStartRadius,borderEndEndRadius,borderEndRadius,border,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,borderColor,borderInline,borderInlineWidth,borderInlineColor,borderBlock,borderBlockWidth,borderBlockColor,borderLeft,borderLeftColor,borderInlineStart,borderInlineStartWidth,borderInlineStartColor,borderRight,borderRightColor,borderInlineEnd,borderInlineEndWidth,borderInlineEndColor,borderTop,borderTopColor,borderBottom,borderBottomColor,borderBlockEnd,borderBlockEndColor,borderBlockStart,borderBlockStartColor,opacity,boxShadow,boxShadowColor,mixBlendMode,filter,brightness,contrast,grayscale,hueRotate,invert,saturate,sepia,dropShadow,blur,backdropFilter,backdropBlur,backdropBrightness,backdropContrast,backdropGrayscale,backdropHueRotate,backdropInvert,backdropOpacity,backdropSaturate,backdropSepia,borderCollapse,borderSpacing,borderSpacingX,borderSpacingY,tableLayout,transitionTimingFunction,transitionDelay,transitionDuration,transitionProperty,transition,animation,animationName,animationTimingFunction,animationDuration,animationDelay,animationPlayState,animationComposition,animationFillMode,animationDirection,animationIterationCount,animationRange,animationState,animationRangeStart,animationRangeEnd,animationTimeline,transformOrigin,transformBox,transformStyle,transform,rotate,rotateX,rotateY,rotateZ,scale,scaleX,scaleY,translate,translateX,translateY,translateZ,accentColor,caretColor,scrollBehavior,scrollbar,scrollbarColor,scrollbarGutter,scrollbarWidth,scrollMargin,scrollMarginLeft,scrollMarginRight,scrollMarginTop,scrollMarginBottom,scrollMarginBlock,scrollMarginBlockEnd,scrollMarginBlockStart,scrollMarginInline,scrollMarginInlineEnd,scrollMarginInlineStart,scrollPadding,scrollPaddingBlock,scrollPaddingBlockStart,scrollPaddingBlockEnd,scrollPaddingInline,scrollPaddingInlineEnd,scrollPaddingInlineStart,scrollPaddingLeft,scrollPaddingRight,scrollPaddingTop,scrollPaddingBottom,scrollSnapAlign,scrollSnapStop,scrollSnapType,scrollSnapStrictness,scrollSnapMargin,scrollSnapMarginTop,scrollSnapMarginBottom,scrollSnapMarginLeft,scrollSnapMarginRight,scrollSnapCoordinate,scrollSnapDestination,scrollSnapPointsX,scrollSnapPointsY,scrollSnapTypeX,scrollSnapTypeY,scrollTimeline,scrollTimelineAxis,scrollTimelineName,touchAction,userSelect,overflow,overflowWrap,overflowX,overflowY,overflowAnchor,overflowBlock,overflowInline,overflowClipBox,overflowClipMargin,overscrollBehaviorBlock,overscrollBehaviorInline,fill,stroke,strokeWidth,strokeDasharray,strokeDashoffset,strokeLinecap,strokeLinejoin,strokeMiterlimit,strokeOpacity,srOnly,debug,appearance,backfaceVisibility,clipPath,hyphens,mask,maskImage,maskSize,textSizeAdjust,container,containerName,containerType,colorPalette,_hover,_focus,_focusWithin,_focusVisible,_disabled,_active,_visited,_target,_readOnly,_readWrite,_empty,_checked,_enabled,_expanded,_highlighted,_before,_after,_firstLetter,_firstLine,_marker,_selection,_file,_backdrop,_first,_last,_only,_even,_odd,_firstOfType,_lastOfType,_onlyOfType,_peerFocus,_peerHover,_peerActive,_peerFocusWithin,_peerFocusVisible,_peerDisabled,_peerChecked,_peerInvalid,_peerExpanded,_peerPlaceholderShown,_groupFocus,_groupHover,_groupActive,_groupFocusWithin,_groupFocusVisible,_groupDisabled,_groupChecked,_groupExpanded,_groupInvalid,_indeterminate,_required,_valid,_invalid,_autofill,_inRange,_outOfRange,_placeholder,_placeholderShown,_pressed,_selected,_default,_optional,_open,_closed,_fullscreen,_loading,_currentPage,_currentStep,_motionReduce,_motionSafe,_print,_landscape,_portrait,_dark,_light,_osDark,_osLight,_highContrast,_lessContrast,_moreContrast,_ltr,_rtl,_scrollbar,_scrollbarThumb,_scrollbarTrack,_horizontal,_vertical,_starting,sm,smOnly,smDown,md,mdOnly,mdDown,lg,lgOnly,lgDown,xl,xlOnly,xlDown,2xl,2xlOnly,2xlDown,smToMd,smToLg,smToXl,smTo2xl,mdToLg,mdToXl,mdTo2xl,lgToXl,lgTo2xl,xlTo2xl,@/xs,@/sm,@/md,@/lg,@/xl,@/2xl,@/3xl,@/4xl,@/5xl,@/6xl,@/7xl,@/8xl,textStyle",Ste=kte.split(","),xte="WebkitAppearance,WebkitBorderBefore,WebkitBorderBeforeColor,WebkitBorderBeforeStyle,WebkitBorderBeforeWidth,WebkitBoxReflect,WebkitLineClamp,WebkitMask,WebkitMaskAttachment,WebkitMaskClip,WebkitMaskComposite,WebkitMaskImage,WebkitMaskOrigin,WebkitMaskPosition,WebkitMaskPositionX,WebkitMaskPositionY,WebkitMaskRepeat,WebkitMaskRepeatX,WebkitMaskRepeatY,WebkitMaskSize,WebkitOverflowScrolling,WebkitTapHighlightColor,WebkitTextFillColor,WebkitTextStroke,WebkitTextStrokeColor,WebkitTextStrokeWidth,WebkitTouchCallout,WebkitUserModify,accentColor,alignContent,alignItems,alignSelf,alignTracks,all,animation,animationComposition,animationDelay,animationDirection,animationDuration,animationFillMode,animationIterationCount,animationName,animationPlayState,animationRange,animationRangeEnd,animationRangeStart,animationTimingFunction,animationTimeline,appearance,aspectRatio,azimuth,backdropFilter,backfaceVisibility,background,backgroundAttachment,backgroundBlendMode,backgroundClip,backgroundColor,backgroundImage,backgroundOrigin,backgroundPosition,backgroundPositionX,backgroundPositionY,backgroundRepeat,backgroundSize,blockSize,border,borderBlock,borderBlockColor,borderBlockStyle,borderBlockWidth,borderBlockEnd,borderBlockEndColor,borderBlockEndStyle,borderBlockEndWidth,borderBlockStart,borderBlockStartColor,borderBlockStartStyle,borderBlockStartWidth,borderBottom,borderBottomColor,borderBottomLeftRadius,borderBottomRightRadius,borderBottomStyle,borderBottomWidth,borderCollapse,borderColor,borderEndEndRadius,borderEndStartRadius,borderImage,borderImageOutset,borderImageRepeat,borderImageSlice,borderImageSource,borderImageWidth,borderInline,borderInlineEnd,borderInlineColor,borderInlineStyle,borderInlineWidth,borderInlineEndColor,borderInlineEndStyle,borderInlineEndWidth,borderInlineStart,borderInlineStartColor,borderInlineStartStyle,borderInlineStartWidth,borderLeft,borderLeftColor,borderLeftStyle,borderLeftWidth,borderRadius,borderRight,borderRightColor,borderRightStyle,borderRightWidth,borderSpacing,borderStartEndRadius,borderStartStartRadius,borderStyle,borderTop,borderTopColor,borderTopLeftRadius,borderTopRightRadius,borderTopStyle,borderTopWidth,borderWidth,bottom,boxAlign,boxDecorationBreak,boxDirection,boxFlex,boxFlexGroup,boxLines,boxOrdinalGroup,boxOrient,boxPack,boxShadow,boxSizing,breakAfter,breakBefore,breakInside,captionSide,caret,caretColor,caretShape,clear,clip,clipPath,color,colorScheme,columnCount,columnFill,columnGap,columnRule,columnRuleColor,columnRuleStyle,columnRuleWidth,columnSpan,columnWidth,columns,contain,containIntrinsicSize,containIntrinsicBlockSize,containIntrinsicHeight,containIntrinsicInlineSize,containIntrinsicWidth,container,containerName,containerType,content,contentVisibility,counterIncrement,counterReset,counterSet,cursor,direction,display,emptyCells,filter,flex,flexBasis,flexDirection,flexFlow,flexGrow,flexShrink,flexWrap,float,font,fontFamily,fontFeatureSettings,fontKerning,fontLanguageOverride,fontOpticalSizing,fontPalette,fontVariationSettings,fontSize,fontSizeAdjust,fontSmooth,fontStretch,fontStyle,fontSynthesis,fontSynthesisPosition,fontSynthesisSmallCaps,fontSynthesisStyle,fontSynthesisWeight,fontVariant,fontVariantAlternates,fontVariantCaps,fontVariantEastAsian,fontVariantEmoji,fontVariantLigatures,fontVariantNumeric,fontVariantPosition,fontWeight,forcedColorAdjust,gap,grid,gridArea,gridAutoColumns,gridAutoFlow,gridAutoRows,gridColumn,gridColumnEnd,gridColumnGap,gridColumnStart,gridGap,gridRow,gridRowEnd,gridRowGap,gridRowStart,gridTemplate,gridTemplateAreas,gridTemplateColumns,gridTemplateRows,hangingPunctuation,height,hyphenateCharacter,hyphenateLimitChars,hyphens,imageOrientation,imageRendering,imageResolution,imeMode,initialLetter,initialLetterAlign,inlineSize,inputSecurity,inset,insetBlock,insetBlockEnd,insetBlockStart,insetInline,insetInlineEnd,insetInlineStart,isolation,justifyContent,justifyItems,justifySelf,justifyTracks,left,letterSpacing,lineBreak,lineClamp,lineHeight,lineHeightStep,listStyle,listStyleImage,listStylePosition,listStyleType,margin,marginBlock,marginBlockEnd,marginBlockStart,marginBottom,marginInline,marginInlineEnd,marginInlineStart,marginLeft,marginRight,marginTop,marginTrim,mask,maskBorder,maskBorderMode,maskBorderOutset,maskBorderRepeat,maskBorderSlice,maskBorderSource,maskBorderWidth,maskClip,maskComposite,maskImage,maskMode,maskOrigin,maskPosition,maskRepeat,maskSize,maskType,masonryAutoFlow,mathDepth,mathShift,mathStyle,maxBlockSize,maxHeight,maxInlineSize,maxLines,maxWidth,minBlockSize,minHeight,minInlineSize,minWidth,mixBlendMode,objectFit,objectPosition,offset,offsetAnchor,offsetDistance,offsetPath,offsetPosition,offsetRotate,opacity,order,orphans,outline,outlineColor,outlineOffset,outlineStyle,outlineWidth,overflow,overflowAnchor,overflowBlock,overflowClipBox,overflowClipMargin,overflowInline,overflowWrap,overflowX,overflowY,overlay,overscrollBehavior,overscrollBehaviorBlock,overscrollBehaviorInline,overscrollBehaviorX,overscrollBehaviorY,padding,paddingBlock,paddingBlockEnd,paddingBlockStart,paddingBottom,paddingInline,paddingInlineEnd,paddingInlineStart,paddingLeft,paddingRight,paddingTop,page,pageBreakAfter,pageBreakBefore,pageBreakInside,paintOrder,perspective,perspectiveOrigin,placeContent,placeItems,placeSelf,pointerEvents,position,printColorAdjust,quotes,resize,right,rotate,rowGap,rubyAlign,rubyMerge,rubyPosition,scale,scrollbarColor,scrollbarGutter,scrollbarWidth,scrollBehavior,scrollMargin,scrollMarginBlock,scrollMarginBlockStart,scrollMarginBlockEnd,scrollMarginBottom,scrollMarginInline,scrollMarginInlineStart,scrollMarginInlineEnd,scrollMarginLeft,scrollMarginRight,scrollMarginTop,scrollPadding,scrollPaddingBlock,scrollPaddingBlockStart,scrollPaddingBlockEnd,scrollPaddingBottom,scrollPaddingInline,scrollPaddingInlineStart,scrollPaddingInlineEnd,scrollPaddingLeft,scrollPaddingRight,scrollPaddingTop,scrollSnapAlign,scrollSnapCoordinate,scrollSnapDestination,scrollSnapPointsX,scrollSnapPointsY,scrollSnapStop,scrollSnapType,scrollSnapTypeX,scrollSnapTypeY,scrollTimeline,scrollTimelineAxis,scrollTimelineName,shapeImageThreshold,shapeMargin,shapeOutside,tabSize,tableLayout,textAlign,textAlignLast,textCombineUpright,textDecoration,textDecorationColor,textDecorationLine,textDecorationSkip,textDecorationSkipInk,textDecorationStyle,textDecorationThickness,textEmphasis,textEmphasisColor,textEmphasisPosition,textEmphasisStyle,textIndent,textJustify,textOrientation,textOverflow,textRendering,textShadow,textSizeAdjust,textTransform,textUnderlineOffset,textUnderlinePosition,textWrap,timelineScope,top,touchAction,transform,transformBox,transformOrigin,transformStyle,transition,transitionBehavior,transitionDelay,transitionDuration,transitionProperty,transitionTimingFunction,translate,unicodeBidi,userSelect,verticalAlign,viewTimeline,viewTimelineAxis,viewTimelineInset,viewTimelineName,viewTransitionName,visibility,whiteSpace,whiteSpaceCollapse,widows,width,willChange,wordBreak,wordSpacing,wordWrap,writingMode,zIndex,zoom,alignmentBaseline,baselineShift,clipRule,colorInterpolation,colorRendering,dominantBaseline,fill,fillOpacity,fillRule,floodColor,floodOpacity,glyphOrientationVertical,lightingColor,marker,markerEnd,markerMid,markerStart,shapeRendering,stopColor,stopOpacity,stroke,strokeDasharray,strokeDashoffset,strokeLinecap,strokeLinejoin,strokeMiterlimit,strokeOpacity,strokeWidth,textAnchor,vectorEffect",_te=xte.split(",").concat(Ste),Cte=new Map(_te.map(t=>[t,!0])),Ete=/&|@/,K5=Av(t=>Cte.has(t)||t.startsWith("--")||Ete.test(t));const Tte=t=>DL(t,K5),Dte=(t,e)=>!e.includes(t)&&!K5(t),Ate=(t,e)=>t.__shouldForwardProps__&&e?n=>t.__shouldForwardProps__(n)&&e(n):e,Pte=(t,e)=>{if(t&&!e)return t;if(!t&&e)return e;if(t.__cva__&&e.__cva__||t.__recipe__&&e.__recipe__)return t.merge(e);const n=new TypeError("Cannot merge cva with recipe. Please use either cva or recipe.");throw TypeError.captureStackTrace?.(n),n},Rte=t=>typeof t=="string"?t:t?.displayName||t?.name||"Component";function bk(t,e={},n={}){const r=e.__cva__||e.__recipe__?e:nn(e),i=n.shouldForwardProp||Dte,s=h=>i(h,r.variantKeys),o=Object.assign(n.dataAttr&&e.__name__?{"data-recipe":e.__name__}:{},n.defaultProps),a=Pte(t.__cva__,r),l=Ate(t,s),c=h=>{const f=ge({as:t.__base__||t},o,h),[m,g]=sn(f,["as","class","className"]),[p,v]=sn(g,Sx.keys),b=ke(()=>Object.keys(v).filter(j=>l(j))),[y,C,x]=sn(v,b(),a.variantKeys),O=ke(()=>Object.keys(x).filter(j=>K5(j))),[S,T]=sn(x,O());function $(){const{css:L,...j}=S,te=a.__getCompoundVariantCss__?.(C);return P7(a(C,!1),hn(te,j,L),m.class,m.className)}function M(){const{css:L,...j}=S,te=a.raw(C);return P7(hn(te,j,L),m.class,m.className)}const P=e.__recipe__?$:M;return y.className&&delete y.className,u(pO,ge(y,T,Sx(p),{get component(){return m.as},get class(){return P()}}))},d=Rte(t);return c.displayName=`styled.${d}`,c.__cva__=a,c.__base__=t,c.__shouldForwardProps__=s,c}function Mte(){const t=new Map;return new Proxy(bk,{apply(e,n,r){return bk(...r)},get(e,n){return t.has(n)||t.set(n,bk(n)),t.get(n)}})}const H=Mte();var M7=I("<span>");function tf(t){return u(Me,{get fallback(){return(()=>{var e=M7();return V(e,()=>t.children),Te(n=>(n=t.colour)!=null?e.style.setProperty("color",n):e.style.removeProperty("color")),e})()},get children(){return u(Z,{get when(){return t.colour?.includes("gradient")},get children(){var e=M7();return V(e,()=>t.children),Te(n=>{var r=t.colour,i=hn({backgroundClip:"text !important",WebkitTextFillColor:"transparent",textDecoration:"none"});return r!==n.e&&((n.e=r)!=null?e.style.setProperty("background",r):e.style.removeProperty("background")),i!==n.t&&ut(e,n.t=i),n},{e:void 0,t:void 0}),e}})}})}function Pv(t){const[e,n]=ve(!1);return Tn(()=>setTimeout(()=>n(!0))),u(Me,{get fallback(){return u(Zr,{})},get children(){return u(Z,{get when(){return e()},get children(){return t.children}})}})}function Wp(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wp=function(e){return typeof e}:Wp=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(t)}function P0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I7(Object(n),!0).forEach(function(r){P0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ite(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function $te(t,e){if(t==null)return{};var n=Ite(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lte(t,e){return Fte(t)||zte(t,e)||J5(t,e)||Ute()}function Iy(t){return Nte(t)||Bte(t)||J5(t)||Qte()}function Nte(t){if(Array.isArray(t))return xx(t)}function Fte(t){if(Array.isArray(t))return t}function Bte(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function zte(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}}function J5(t,e){if(t){if(typeof t=="string")return xx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xx(t,e)}}function xx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ute(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eC(t,e){var n;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=J5(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=t[Symbol.iterator]()},n:function(){var l=n.next();return s=l.done,l},e:function(l){o=!0,a=l},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}var Vte="finalize",jte="consider";function Fm(t,e,n){t.dispatchEvent(new CustomEvent(Vte,{detail:{items:e,info:n}}))}function ud(t,e,n){t.dispatchEvent(new CustomEvent(jte,{detail:{items:e,info:n}}))}var wO="draggedEntered",Rv="draggedLeft",kO="draggedOverIndex",tC="draggedLeftDocument",$y={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function qte(t,e,n){t.dispatchEvent(new CustomEvent(wO,{detail:{indexObj:e,draggedEl:n}}))}function Hte(t,e,n){t.dispatchEvent(new CustomEvent(Rv,{detail:{draggedEl:e,type:$y.LEFT_FOR_ANOTHER,theOtherDz:n}}))}function Wte(t,e){t.dispatchEvent(new CustomEvent(Rv,{detail:{draggedEl:e,type:$y.OUTSIDE_OF_ANY}}))}function Xte(t,e,n){t.dispatchEvent(new CustomEvent(kO,{detail:{indexObj:e,draggedEl:n}}))}function Yte(t){window.dispatchEvent(new CustomEvent(tC,{detail:{draggedEl:t}}))}var $s={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:wO,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:kO,DRAGGED_LEFT:Rv,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},ao={POINTER:"pointer",KEYBOARD:"keyboard"},SO="isDndShadowItem",nC="data-is-dnd-shadow-item",rC="id:dnd-shadow-placeholder-0000",Gte="dnd-action-dragged-el",Ni="id",_x=0;function $L(){_x++}function LL(){if(_x===0)throw new Error("Bug! trying to decrement when there are no dropzones");_x--}var Zte=typeof window>"u";function NL(t){var e,n=t.getBoundingClientRect(),r=getComputedStyle(t),i=r.transform;if(i){var s,o,a,l;if(i.startsWith("matrix3d("))e=i.slice(9,-1).split(/, /),s=+e[0],o=+e[5],a=+e[12],l=+e[13];else if(i.startsWith("matrix("))e=i.slice(7,-1).split(/, /),s=+e[0],o=+e[3],a=+e[4],l=+e[5];else return n;var c=r.transformOrigin,d=n.x-a-(1-s)*parseFloat(c),h=n.y-l-(1-o)*parseFloat(c.slice(c.indexOf(" ")+1)),f=s?n.width/s:t.offsetWidth,m=o?n.height/o:t.offsetHeight;return{x:d,y:h,width:f,height:m,top:h,right:d+f,bottom:h+m,left:d}}else return n}function FL(t){var e=NL(t);return{top:e.top+window.scrollY,bottom:e.bottom+window.scrollY,left:e.left+window.scrollX,right:e.right+window.scrollX}}function iC(t){var e=t.getBoundingClientRect();return{top:e.top+window.scrollY,bottom:e.bottom+window.scrollY,left:e.left+window.scrollX,right:e.right+window.scrollX}}function BL(t){return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}}function Kte(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function sC(t,e){return t.y<=e.bottom&&t.y>=e.top&&t.x>=e.left&&t.x<=e.right}function R0(t){return BL(iC(t))}function $7(t,e){var n=R0(t),r=FL(e);return sC(n,r)}function Jte(t,e){var n=R0(t),r=R0(e);return Kte(n,r)}function ene(t){var e=iC(t);return e.right<0||e.left>document.documentElement.scrollWidth||e.bottom<0||e.top>document.documentElement.scrollHeight}function tne(t,e){var n=iC(e);return sC(t,n)?{top:t.y-n.top,bottom:n.bottom-t.y,left:t.x-n.left,right:Math.min(n.right,document.documentElement.clientWidth)-t.x}:null}var dm;function zL(){dm=new Map}zL();function nne(t){var e=Array.from(t.children).findIndex(function(n){return n.getAttribute(nC)});if(e>=0)return dm.has(t)||dm.set(t,new Map),dm.get(t).set(e,FL(t.children[e])),e}function rne(t,e){if(!$7(t,e))return null;var n=e.children;if(n.length===0)return{index:0,isProximityBased:!0};for(var r=nne(e),i=0;i<n.length;i++)if($7(t,n[i])){var s=dm.has(e)&&dm.get(e).get(i);return s&&!sC(R0(t),s)?{index:r,isProximityBased:!1}:{index:i,isProximityBased:!1}}for(var o=Number.MAX_VALUE,a=void 0,l=0;l<n.length;l++){var c=Jte(t,n[l]);c<o&&(o=c,a=l)}return{index:a,isProximityBased:!0}}var Kg=25;function QL(){var t;function e(){t={directionObj:void 0,stepPx:0}}e();function n(s){var o=t,a=o.directionObj,l=o.stepPx;a&&(s.scrollBy(a.x*l,a.y*l),window.requestAnimationFrame(function(){return n(s)}))}function r(s){return Kg-s}function i(s,o){if(!o)return!1;var a=tne(s,o);if(a===null)return e(),!1;var l=!!t.directionObj,c=!1,d=!1;return o.scrollHeight>o.clientHeight&&(a.bottom<Kg?(c=!0,t.directionObj={x:0,y:1},t.stepPx=r(a.bottom)):a.top<Kg&&(c=!0,t.directionObj={x:0,y:-1},t.stepPx=r(a.top)),!l&&c)||o.scrollWidth>o.clientWidth&&(a.right<Kg?(d=!0,t.directionObj={x:1,y:0},t.stepPx=r(a.right)):a.left<Kg&&(d=!0,t.directionObj={x:-1,y:0},t.stepPx=r(a.left)),!l&&d)?(n(o),!0):(e(),!1)}return{scrollIfNeeded:i,resetScrolling:e}}function yk(t){return JSON.stringify(t,null,2)}function L7(t){if(!t)throw new Error("cannot get depth of a falsy node");return UL(t,0)}function UL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.parentElement?UL(t.parentElement,e+1):e-1}function ine(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(!{}.hasOwnProperty.call(e,n)||e[n]!==t[n])return!1;return!0}function sne(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var one=200,N7=10,VL=QL(),ane=VL.scrollIfNeeded,lne=VL.resetScrolling,Cx;function cne(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:one,r,i,s=!1,o,a=Array.from(e).sort(function(c,d){return L7(d)-L7(c)});function l(){var c=R0(t),d=ane(c,r);if(!d&&o&&Math.abs(o.x-c.x)<N7&&Math.abs(o.y-c.y)<N7){Cx=window.setTimeout(l,n);return}if(ene(t)){Yte(t);return}o=c;var h=!1,f=eC(a),m;try{for(f.s();!(m=f.n()).done;){var g=m.value,p=rne(t,g);if(p!==null){var v=p.index;h=!0,g!==r?(r&&Hte(r,t,g),qte(g,p,t),r=g):v!==i&&(Xte(g,p,t),i=v);break}}}catch(b){f.e(b)}finally{f.f()}!h&&s&&r?(Wte(r,t),r=void 0,i=void 0,s=!1):s=!0,Cx=window.setTimeout(l,n)}l()}function une(){clearTimeout(Cx),lne(),zL()}var dne=300,Ly;function Ny(t){var e=t.touches?t.touches[0]:t;Ly={x:e.clientX,y:e.clientY}}var jL=QL(),hne=jL.scrollIfNeeded,fne=jL.resetScrolling,qL;function HL(){Ly&&hne(Ly,document.documentElement),qL=window.setTimeout(HL,dne)}function mne(){window.addEventListener("mousemove",Ny),window.addEventListener("touchmove",Ny),HL()}function gne(){window.removeEventListener("mousemove",Ny),window.removeEventListener("touchmove",Ny),Ly=void 0,window.clearTimeout(qL),fne()}var pne=.2;function zd(t){return"".concat(t," ").concat(pne,"s ease")}function vne(t,e){var n=t.getBoundingClientRect(),r=t.cloneNode(!0);WL(t,r),r.id=Gte,r.style.position="fixed";var i=n.top,s=n.left;if(r.style.top="".concat(i,"px"),r.style.left="".concat(s,"px"),e){var o=BL(n);i-=o.y-e.y,s-=o.x-e.x,window.setTimeout(function(){r.style.top="".concat(i,"px"),r.style.left="".concat(s,"px")},0)}return r.style.margin="0",r.style.boxSizing="border-box",r.style.height="".concat(n.height,"px"),r.style.width="".concat(n.width,"px"),r.style.transition="".concat(zd("top"),", ").concat(zd("left"),", ").concat(zd("background-color"),", ").concat(zd("opacity"),", ").concat(zd("color")," "),window.setTimeout(function(){return r.style.transition+=", ".concat(zd("width"),", ").concat(zd("height"))},0),r.style.zIndex="9999",r.style.cursor="grabbing",r}function bne(t){t.style.cursor="grab"}function yne(t,e,n,r,i){var s=e.getBoundingClientRect(),o=t.getBoundingClientRect(),a=s.width-o.width,l=s.height-o.height;if(a||l){var c={left:(n-o.left)/o.width,top:(r-o.top)/o.height};t.style.height="".concat(s.height,"px"),t.style.width="".concat(s.width,"px"),t.style.left="".concat(parseFloat(t.style.left)-c.left*a,"px"),t.style.top="".concat(parseFloat(t.style.top)-c.top*l,"px")}WL(e,t),i()}function WL(t,e){var n=window.getComputedStyle(t);Array.from(n).filter(function(r){return r.startsWith("background")||r.startsWith("padding")||r.startsWith("font")||r.startsWith("text")||r.startsWith("align")||r.startsWith("justify")||r.startsWith("display")||r.startsWith("flex")||r.startsWith("border")||r==="opacity"||r==="color"||r==="list-style-type"}).forEach(function(r){return e.style.setProperty(r,n.getPropertyValue(r),n.getPropertyPriority(r))})}function One(t,e){t.draggable=!1,t.ondragstart=function(){return!1},e?(t.style.userSelect="",t.style.WebkitUserSelect="",t.style.cursor=""):(t.style.userSelect="none",t.style.WebkitUserSelect="none",t.style.cursor="grab")}function wne(t){t.style.display="none",t.style.position="fixed",t.style.zIndex="-5"}function kne(t){t.style.visibility="hidden",t.setAttribute(nC,"true")}function Sne(t){t.style.visibility="",t.removeAttribute(nC)}function $b(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};t.forEach(function(r){var i=e(r);Object.keys(i).forEach(function(s){r.style[s]=i[s]}),n(r).forEach(function(s){return r.classList.add(s)})})}function Fy(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};t.forEach(function(r){var i=e(r);Object.keys(i).forEach(function(s){r.style[s]=""}),n(r).forEach(function(s){return r.classList.contains(s)&&r.classList.remove(s)})})}function xne(t){var e=t.style.minHeight;t.style.minHeight=window.getComputedStyle(t).getPropertyValue("height");var n=t.style.minWidth;return t.style.minWidth=window.getComputedStyle(t).getPropertyValue("width"),function(){t.style.minHeight=e,t.style.minWidth=n}}var _ne="--any--",Cne=100,F7=3,B7={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Dc,Yi,Mo,xO,ri,_O,Bm,To,zu,da,Wf=!1,oC=!1,aC,Mv=!1,rl=new Map,mi=new Map,Ok=new WeakMap;function Ene(t,e){rl.has(e)||rl.set(e,new Set),rl.get(e).has(t)||(rl.get(e).add(t),$L())}function z7(t,e){rl.get(e).delete(t),LL(),rl.get(e).size===0&&rl.delete(e)}function Tne(){mne();var t=rl.get(xO),e=eC(t),n;try{for(e.s();!(n=e.n()).done;){var r=n.value;r.addEventListener(wO,XL),r.addEventListener(Rv,YL),r.addEventListener(kO,GL)}}catch(s){e.e(s)}finally{e.f()}window.addEventListener(tC,zm);var i=Math.max.apply(Math,[Cne].concat(Iy(Array.from(t.keys()).map(function(s){return mi.get(s).dropAnimationDurationMs}))));cne(Yi,t,i*1.07)}function Dne(){gne();var t=rl.get(xO),e=eC(t),n;try{for(e.s();!(n=e.n()).done;){var r=n.value;r.removeEventListener(wO,XL),r.removeEventListener(Rv,YL),r.removeEventListener(kO,GL)}}catch(i){e.e(i)}finally{e.f()}window.removeEventListener(tC,zm),une()}function Ane(t){return t.findIndex(function(e){return e[Ni]===rC})}function CO(t){return t.findIndex(function(e){return!!e[SO]&&e[Ni]!==rC})}function XL(t){var e=mi.get(t.currentTarget),n=e.items,r=e.dropFromOthersDisabled;if(!(r&&t.currentTarget!==ri)){if(Mv=!1,n=n.filter(function(h){return h[Ni]!==Bm[Ni]}),ri!==t.currentTarget){var i=mi.get(ri).items,s=i.filter(function(h){return!h[SO]});ud(ri,s,{trigger:$s.DRAGGED_ENTERED_ANOTHER,id:Mo[Ni],source:ao.POINTER})}else{var o=Ane(n);o!==-1&&n.splice(o,1)}var a=t.detail.indexObj,l=a.index,c=a.isProximityBased,d=c&&l===t.currentTarget.children.length-1?l+1:l;To=t.currentTarget,n.splice(d,0,Bm),ud(t.currentTarget,n,{trigger:$s.DRAGGED_ENTERED,id:Mo[Ni],source:ao.POINTER})}}function YL(t){if(Wf){var e=mi.get(t.currentTarget),n=e.items,r=e.dropFromOthersDisabled;if(!(r&&t.currentTarget!==ri&&t.currentTarget!==To)){var i=CO(n),s=n.splice(i,1)[0];To=void 0;var o=t.detail,a=o.type,l=o.theOtherDz;if(a===$y.OUTSIDE_OF_ANY||a===$y.LEFT_FOR_ANOTHER&&l!==ri&&mi.get(l).dropFromOthersDisabled){Mv=!0,To=ri;var c=mi.get(ri).items;c.splice(_O,0,s),ud(ri,c,{trigger:$s.DRAGGED_LEFT_ALL,id:Mo[Ni],source:ao.POINTER})}ud(t.currentTarget,n,{trigger:$s.DRAGGED_LEFT,id:Mo[Ni],source:ao.POINTER})}}}function GL(t){var e=mi.get(t.currentTarget),n=e.items,r=e.dropFromOthersDisabled;if(!(r&&t.currentTarget!==ri)){Mv=!1;var i=t.detail.indexObj.index,s=CO(n);n.splice(s,1),n.splice(i,0,Bm),ud(t.currentTarget,n,{trigger:$s.DRAGGED_OVER_INDEX,id:Mo[Ni],source:ao.POINTER})}}function By(t){t.preventDefault();var e=t.touches?t.touches[0]:t;da={x:e.clientX,y:e.clientY},Yi.style.transform="translate3d(".concat(da.x-zu.x,"px, ").concat(da.y-zu.y,"px, 0)")}function zm(){oC=!0,window.removeEventListener("mousemove",By),window.removeEventListener("touchmove",By),window.removeEventListener("mouseup",zm),window.removeEventListener("touchend",zm),Dne(),bne(Yi),To||(To=ri);var t=mi.get(To),e=t.items,n=t.type;Fy(rl.get(n),function(s){return mi.get(s).dropTargetStyle},function(s){return mi.get(s).dropTargetClasses});var r=CO(e);r===-1&&(r=_O),e=e.map(function(s){return s[SO]?Mo:s});function i(){aC(),Fm(To,e,{trigger:Mv?$s.DROPPED_OUTSIDE_OF_ANY:$s.DROPPED_INTO_ZONE,id:Mo[Ni],source:ao.POINTER}),To!==ri&&Fm(ri,mi.get(ri).items,{trigger:$s.DROPPED_INTO_ANOTHER,id:Mo[Ni],source:ao.POINTER}),Sne(To.children[r]),Rne()}Pne(r,i)}function Pne(t,e){var n=NL(To.children[t]),r={x:n.left-parseFloat(Yi.style.left),y:n.top-parseFloat(Yi.style.top)},i=mi.get(To),s=i.dropAnimationDurationMs,o="transform ".concat(s,"ms ease");Yi.style.transition=Yi.style.transition?Yi.style.transition+","+o:o,Yi.style.transform="translate3d(".concat(r.x,"px, ").concat(r.y,"px, 0)"),window.setTimeout(e,s)}function Rne(){Yi.remove(),Dc.remove(),Yi=void 0,Dc=void 0,Mo=void 0,xO=void 0,ri=void 0,_O=void 0,Bm=void 0,To=void 0,zu=void 0,da=void 0,Wf=!1,oC=!1,aC=void 0,Mv=!1}function Mne(t,e){var n={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:B7,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1},r=new Map;function i(){window.addEventListener("mousemove",a,{passive:!1}),window.addEventListener("touchmove",a,{passive:!1,capture:!1}),window.addEventListener("mouseup",o,{passive:!1}),window.addEventListener("touchend",o,{passive:!1})}function s(){window.removeEventListener("mousemove",a),window.removeEventListener("touchmove",a),window.removeEventListener("mouseup",o),window.removeEventListener("touchend",o)}function o(){s(),Dc=void 0,zu=void 0,da=void 0}function a(h){h.preventDefault();var f=h.touches?h.touches[0]:h;da={x:f.clientX,y:f.clientY},(Math.abs(da.x-zu.x)>=F7||Math.abs(da.y-zu.y)>=F7)&&(s(),c())}function l(h){if(!(h.target!==h.currentTarget&&(h.target.value!==void 0||h.target.isContentEditable))&&!h.button&&!Wf){h.stopPropagation();var f=h.touches?h.touches[0]:h;zu={x:f.clientX,y:f.clientY},da=Kd({},zu),Dc=h.currentTarget,i()}}function c(){Wf=!0;var h=r.get(Dc);_O=h,ri=Dc.parentElement;var f=ri.getRootNode(),m=f.body||f,g=n.items,p=n.type,v=n.centreDraggedOnCursor;Mo=Kd({},g[h]),xO=p,Bm=Kd(Kd({},Mo),{},P0({},SO,!0));var b=Kd(Kd({},Bm),{},P0({},Ni,rC));Yi=vne(Dc,v&&da);function y(){Yi.parentElement?window.requestAnimationFrame(y):(m.appendChild(Yi),Yi.focus(),Tne(),wne(Dc),m.appendChild(Dc))}window.requestAnimationFrame(y),$b(Array.from(rl.get(n.type)).filter(function(C){return C===ri||!mi.get(C).dropFromOthersDisabled}),function(C){return mi.get(C).dropTargetStyle},function(C){return mi.get(C).dropTargetClasses}),g.splice(h,1,b),aC=xne(ri),ud(ri,g,{trigger:$s.DRAG_STARTED,id:Mo[Ni],source:ao.POINTER}),window.addEventListener("mousemove",By,{passive:!1}),window.addEventListener("touchmove",By,{passive:!1,capture:!1}),window.addEventListener("mouseup",zm,{passive:!1}),window.addEventListener("touchend",zm,{passive:!1})}function d(h){var f=h.items,m=f===void 0?void 0:f,g=h.flipDurationMs,p=g===void 0?0:g,v=h.type,b=v===void 0?_ne:v,y=h.dragDisabled,C=y===void 0?!1:y,x=h.morphDisabled,O=x===void 0?!1:x,S=h.dropFromOthersDisabled,T=S===void 0?!1:S,$=h.dropTargetStyle,M=$===void 0?B7:$,P=h.dropTargetClasses,L=P===void 0?[]:P,j=h.transformDraggedElement,te=j===void 0?function(){}:j,U=h.centreDraggedOnCursor,N=U===void 0?!1:U;n.dropAnimationDurationMs=p,n.type&&b!==n.type&&z7(t,n.type),n.type=b,Ene(t,b),n.items=Iy(m),n.dragDisabled=C,n.morphDisabled=O,n.transformDraggedElement=te,n.centreDraggedOnCursor=N,Wf&&!oC&&(!ine(M,n.dropTargetStyle)||!sne(L,n.dropTargetClasses))&&(Fy([t],function(){return n.dropTargetStyle},function(){return L}),$b([t],function(){return M},function(){return L})),n.dropTargetStyle=M,n.dropTargetClasses=Iy(L);function z(se,he){return mi.get(se)?mi.get(se)[he]:n[he]}Wf&&n.dropFromOthersDisabled!==T&&(T?Fy([t],function(se){return z(se,"dropTargetStyle")},function(se){return z(se,"dropTargetClasses")}):$b([t],function(se){return z(se,"dropTargetStyle")},function(se){return z(se,"dropTargetClasses")})),n.dropFromOthersDisabled=T,mi.set(t,n);for(var K=CO(n.items),re=function(he){var E=t.children[he];if(One(E,C),he===K)return O||yne(Yi,E,da.x,da.y,function(){return n.transformDraggedElement(Yi,Mo,he)}),kne(E),"continue";E.removeEventListener("mousedown",Ok.get(E)),E.removeEventListener("touchstart",Ok.get(E)),C||(E.addEventListener("mousedown",l),E.addEventListener("touchstart",l),Ok.set(E,l)),r.set(E,he)},Q=0;Q<t.children.length;Q++)var D=re(Q)}return d(e),{update:function(f){d(f)},destroy:function(){z7(t,n.type),mi.delete(t)}}}var b1,Ex={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},Ine=(b1={},P0(b1,Ex.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),P0(b1,Ex.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),b1),$ne="dnd-action-aria-alert",Ss;function Q7(){Ss=document.createElement("div"),function(){Ss.id=$ne,Ss.style.position="fixed",Ss.style.bottom="0",Ss.style.left="0",Ss.style.zIndex="-5",Ss.style.opacity="0",Ss.style.height="0",Ss.style.width="0",Ss.setAttribute("role","alert")}(),document.body.prepend(Ss),Object.entries(Ine).forEach(function(t){var e=Lte(t,2),n=e[0],r=e[1];return document.body.prepend(Nne(n,r))})}function Lne(){return Zte?null:(document.readyState==="complete"?Q7():window.addEventListener("DOMContentLoaded",Q7),Kd({},Ex))}function Nne(t,e){var n=document.createElement("div");return n.id=t,n.innerHTML="<p>".concat(e,"</p>"),n.style.display="none",n.style.position="fixed",n.style.zIndex="-5",n}function hm(t){Ss.innerHTML="";var e=document.createTextNode(t);Ss.appendChild(e),Ss.style.display="none",Ss.style.display="inline"}var Fne="--any--",U7={outline:"rgba(255, 255, 102, 0.7) solid 2px"},ha=!1,Tx,ds,bh="",Jd,Fl,qu="",zy=new WeakSet,V7=new WeakMap,j7=new WeakMap,Dx=new Map,qi=new Map,Ka=new Map,q7=Lne();function Bne(t,e){Ka.size===0&&(window.addEventListener("keydown",ZL),window.addEventListener("click",KL)),Ka.has(e)||Ka.set(e,new Set),Ka.get(e).has(t)||(Ka.get(e).add(t),$L())}function H7(t,e){ds===t&&M0(),Ka.get(e).delete(t),LL(),Ka.get(e).size===0&&Ka.delete(e),Ka.size===0&&(window.removeEventListener("keydown",ZL),window.removeEventListener("click",KL))}function ZL(t){if(ha)switch(t.key){case"Escape":{M0();break}}}function KL(){ha&&(zy.has(document.activeElement)||M0())}function zne(t){if(ha){var e=t.currentTarget;if(e!==ds){bh=e.getAttribute("aria-label")||"";var n=qi.get(ds),r=n.items,i=r.find(function(h){return h[Ni]===Fl}),s=r.indexOf(i),o=r.splice(s,1)[0],a=qi.get(e),l=a.items,c=a.autoAriaDisabled;e.getBoundingClientRect().top<ds.getBoundingClientRect().top||e.getBoundingClientRect().left<ds.getBoundingClientRect().left?(l.push(o),c||hm("Moved item ".concat(qu," to the end of the list ").concat(bh))):(l.unshift(o),c||hm("Moved item ".concat(qu," to the beginning of the list ").concat(bh)));var d=ds;Fm(d,r,{trigger:$s.DROPPED_INTO_ANOTHER,id:Fl,source:ao.KEYBOARD}),Fm(e,l,{trigger:$s.DROPPED_INTO_ZONE,id:Fl,source:ao.KEYBOARD}),ds=e}}}function JL(){Dx.forEach(function(t,e){var n=t.update;return n(qi.get(e))})}function M0(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;qi.get(ds).autoAriaDisabled||hm("Stopped dragging item ".concat(qu)),zy.has(document.activeElement)&&document.activeElement.blur(),t&&ud(ds,qi.get(ds).items,{trigger:$s.DRAG_STOPPED,id:Fl,source:ao.KEYBOARD}),Fy(Ka.get(Tx),function(e){return qi.get(e).dropTargetStyle},function(e){return qi.get(e).dropTargetClasses}),Jd=null,Fl=null,qu="",Tx=null,ds=null,bh="",ha=!1,JL()}function Qne(t,e){var n={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:U7,dropTargetClasses:[],autoAriaDisabled:!1};function r(d,h,f){d.length<=1||d.splice(f,1,d.splice(h,1,d[f])[0])}function i(d){switch(d.key){case"Enter":case" ":{if((d.target.disabled!==void 0||d.target.href||d.target.isContentEditable)&&!zy.has(d.target))return;d.preventDefault(),d.stopPropagation(),ha?M0():s(d);break}case"ArrowDown":case"ArrowRight":{if(!ha)return;d.preventDefault(),d.stopPropagation();var h=qi.get(t),f=h.items,m=Array.from(t.children),g=m.indexOf(d.currentTarget);g<m.length-1&&(n.autoAriaDisabled||hm("Moved item ".concat(qu," to position ").concat(g+2," in the list ").concat(bh)),r(f,g,g+1),Fm(t,f,{trigger:$s.DROPPED_INTO_ZONE,id:Fl,source:ao.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!ha)return;d.preventDefault(),d.stopPropagation();var p=qi.get(t),v=p.items,b=Array.from(t.children),y=b.indexOf(d.currentTarget);y>0&&(n.autoAriaDisabled||hm("Moved item ".concat(qu," to position ").concat(y," in the list ").concat(bh)),r(v,y,y-1),Fm(t,v,{trigger:$s.DROPPED_INTO_ZONE,id:Fl,source:ao.KEYBOARD}));break}}}function s(d){a(d.currentTarget),ds=t,Tx=n.type,ha=!0;var h=Array.from(Ka.get(n.type)).filter(function(m){return m===ds||!qi.get(m).dropFromOthersDisabled});if($b(h,function(m){return qi.get(m).dropTargetStyle},function(m){return qi.get(m).dropTargetClasses}),!n.autoAriaDisabled){var f="Started dragging item ".concat(qu,". Use the arrow keys to move it within its list ").concat(bh);h.length>1&&(f+=", or tab to another list in order to move the item into it"),hm(f)}ud(t,qi.get(t).items,{trigger:$s.DRAG_STARTED,id:Fl,source:ao.KEYBOARD}),JL()}function o(d){ha&&d.currentTarget!==Jd&&(d.stopPropagation(),M0(!1),s(d))}function a(d){var h=qi.get(t),f=h.items,m=Array.from(t.children),g=m.indexOf(d);Jd=d,Jd.tabIndex=0,Fl=f[g][Ni],qu=m[g].getAttribute("aria-label")||""}function l(d){var h=d.items,f=h===void 0?[]:h,m=d.type,g=m===void 0?Fne:m,p=d.dragDisabled,v=p===void 0?!1:p,b=d.zoneTabIndex,y=b===void 0?0:b,C=d.dropFromOthersDisabled,x=C===void 0?!1:C,O=d.dropTargetStyle,S=O===void 0?U7:O,T=d.dropTargetClasses,$=T===void 0?[]:T,M=d.autoAriaDisabled,P=M===void 0?!1:M;n.items=Iy(f),n.dragDisabled=v,n.dropFromOthersDisabled=x,n.zoneTabIndex=y,n.dropTargetStyle=S,n.dropTargetClasses=$,n.autoAriaDisabled=P,P||(t.setAttribute("aria-disabled",v),t.setAttribute("role","list"),t.setAttribute("aria-describedby",v?q7.DND_ZONE_DRAG_DISABLED:q7.DND_ZONE_ACTIVE)),n.type&&g!==n.type&&H7(t,n.type),n.type=g,Bne(t,g),qi.set(t,n),ha?t.tabIndex=t===ds||Jd.contains(t)||n.dropFromOthersDisabled||ds&&n.type!==qi.get(ds).type?-1:0:t.tabIndex=n.zoneTabIndex,t.addEventListener("focus",zne);for(var L=function(U){var N=t.children[U];zy.add(N),N.tabIndex=ha?-1:0,P||N.setAttribute("role","listitem"),N.removeEventListener("keydown",V7.get(N)),N.removeEventListener("click",j7.get(N)),v||(N.addEventListener("keydown",i),V7.set(N,i),N.addEventListener("click",o),j7.set(N,o)),ha&&n.items[U][Ni]===Fl&&(Jd=N,Jd.tabIndex=0,N.focus())},j=0;j<t.children.length;j++)L(j)}l(e);var c={update:function(h){l(h)},destroy:function(){H7(t,n.type),qi.delete(t),Dx.delete(t)}};return Dx.set(t,c),c}function Une(t,e){W7(e);var n=Mne(t,e),r=Qne(t,e);return{update:function(s){W7(s),n.update(s),r.update(s)},destroy:function(){n.destroy(),r.destroy()}}}function W7(t){var e=t.items;t.flipDurationMs,t.type,t.dragDisabled,t.morphDisabled,t.dropFromOthersDisabled;var n=t.zoneTabIndex;t.dropTargetStyle;var r=t.dropTargetClasses;t.transformDraggedElement,t.autoAriaDisabled,t.centreDraggedOnCursor;var i=$te(t,["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor"]);if(Object.keys(i).length>0&&console.warn("dndzone will ignore unknown options",i),!e)throw new Error("no 'items' key provided to dndzone");var s=e.find(function(o){return!{}.hasOwnProperty.call(o,Ni)});if(s)throw new Error("missing '".concat(Ni,"' property for item ").concat(yk(s)));if(r&&!Array.isArray(r))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(Wp(r),", ").concat(yk(r)));if(n&&!Vne(n))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(Wp(n),", ").concat(yk(n)))}function Vne(t){return!isNaN(t)&&function(e){return(e|0)===e}(parseFloat(t))}function jne(t,e){let n=new Map,r=new Map;function i(o){n=new Map,Array.from(t.children).forEach((a,l)=>{n.set(o[l],a.getBoundingClientRect())})}function s(o){Array.from(t.children).forEach((a,l)=>{const c=o[l],d=a.getBoundingClientRect(),h=n.get(c);if(h){const f=h.left-d.left,m=h.top-d.top;if(f||m){const g=[{transform:`translate3d(${f}px, ${m}px, 0)`},{transform:"translate3d(0, 0, 0)"}],p=a.animate(g,{duration:e,easing:"ease-out"});r.set(c,p),p.onfinish=()=>r.delete(c),p.oncancel=()=>r.delete(c)}}})}return{read:i,flip:s}}const qne=150;let wk="id";function Hne(t,e){const n=e();Yne(n);const r=Gne(Xne(n)),{flipDurationMs:i}=r,s=r.items;let o;Tn(()=>{const{update:a,destroy:l}=Une(t,X7(r));wt(l),dt(function(){a(X7(r)),o?.flip(s().map(d=>d[wk]))})}),dt(function(){o=jne(t,i())}),Te(function(){function l(){o?.read(s().map(d=>d[wk]))}function c(){o?.read(s().map(d=>d[wk]))}t.addEventListener("consider",l),t.addEventListener("finalize",c),wt(()=>{t.removeEventListener("consider",l),t.removeEventListener("finalize",c)})})}function Wne(t){return typeof t=="function"?t:()=>t}function Xne(t){return Object.keys(t).reduce((e,n)=>(e[n]=Wne(t[n]),e),{})}function Yne(t){if(typeof t.items!="function")throw new Error(`dndzone didn't get an items getter, which is a mandatory option in ${JSON.stringify(t)}`)}function Gne(t){return typeof t.flipDurationMs!="function"?{...t,flipDurationMs:()=>qne}:t}function X7(t){return Object.keys(t).reduce((e,n)=>(e[n]=t[n](),e),{})}var Zne=I("<div>");function EO(t){const[e,n]=ve(t.dragHandles||!1),[r,i]=ve([]);dt(()=>n(t.dragHandles||!1)),dt(()=>{const a=t.items.map(l=>({id:l.id,item:l}));i(a)});function s(a){n(t.dragHandles||!1);const{items:l}=a.detail;i(l),a.type==="finalize"&&t.onChange(l.map(c=>c.id))}function o(){return t.disabled||e()}return(()=>{var a=Zne();return Dn(a,"finalize",s),Dn(a,"consider",s),Fe(Hne,a,()=>({type:t.type,items:r,dragDisabled:o,flipDurationMs:0,dropTargetStyle:{outline:"2px solid color-mix(in srgb, 40% var(--md-sys-color-primary), transparent)",borderRadius:"4px",outlineOffset:"-2px",minHeight:"24px"}})),V(a,u(rt,{get each(){return r()},children:l=>t.children({item:l.item,dragDisabled:e,setDragDisabled:n})})),a})()}function eN(t,e){function n(s){s.preventDefault(),e(!1)}function r(){e(!0)}function i(s){(s.key==="Enter"||s.key===" ")&&t()&&e(!1)}return{tabindex:t()?0:-1,onmouseenter:n,ontouchstart:n,onmouseleave:r,onkeydown:i,"aria-label":"drag-handle"}}const Kne="",Jne="",ere="",tre="",nre="",rre="",ire="",sre="",ore="",are="",lre="",cre="",ure="",dre="",hre="",fre="",mre="",gre="",pre="",vre="",bre="",yre="",Ore="",wre="",kre="",Sre="",xre="",_re="",Cre="",Ere="",Tre="",Dre="",Are="",Pre="",Rre="",Mre="",Ire="",$re="",Lre="",Nre="",Fre="",Bre="",zre="",Qre="",Ure="",Vre="",jre="",qre="",Hre="",Wre="",Xre="",Yre="",Gre="",Zre="",Kre="",Jre="",eie="",tie="",nie="",rie="",iie="",sie="",oie="",aie="",lie="",cie="",uie="",die="",hie="",fie="",mie="",gie="",pie="",vie="",bie="",yie="",Oie="",wie="",kie="",Sie="",xie="",_ie="",Cie="",Eie="",Tie="",Die="",Aie="",Pie="",Rie="",Mie="",Iie="",$ie="",Lie="",Nie="",Fie="",Bie="",zie="",Qie="",Uie="",Vie="",jie="",qie="",Hie="",Wie="",Xie="",Yie="",Gie="",Zie="",Kie="",Jie="",ese="",tse="",nse="",rse="",ise="",sse="",ose="",ase="",lse="",cse="",use="",dse="",hse="",fse="",mse="",gse="",pse="",vse="",bse="",yse="",Ose="",wse="",kse="",Sse="",xse="",_se="",Cse="",Ese="",Tse="",Dse="",Ase="",Pse="",Rse="",Mse="",Ise="",$se="",Lse="",Nse="",Fse="",Bse="",zse="",Qse="",Use="",Vse="",jse="",qse="",Hse="",Wse="",Xse="",Yse="",Gse="",Zse="",Kse="",Jse="",eoe="",toe="",noe="",roe="",ioe="",soe="",ooe="",aoe="",loe="",coe="",uoe="",doe="",hoe="",foe="",moe="",goe="",poe="",voe="",boe="",yoe="",Ooe="",woe="",koe="",Soe="",xoe="",_oe="",Coe="",Eoe="",Toe="",Doe="",Aoe="",Poe="",Roe="",Moe="",Ioe="",$oe="",Loe="",Noe="",Foe="",Boe="",zoe="",Qoe="",Uoe="",Voe="",joe="",qoe="",Hoe="",Woe="",Xoe="",Yoe="",Goe="",Zoe="",Koe="",Joe="",eae="",tae="",nae="",rae="",iae="",sae="",oae="",aae="",lae="",cae="",uae="",dae="",hae="",fae="",mae="",gae="",pae="",vae="",bae="",yae="",Oae="",wae="",kae="",Sae="",xae="",_ae="",Cae="",Eae="",Tae="",Dae="",Aae="",Pae="",Rae="",Mae="",Iae="",$ae="",Lae="",Nae="",Fae="",Bae="",zae="",Qae="",Uae="",Vae="",jae="",qae="",Hae="",Wae="",Xae="",Yae="",Gae="",Zae="",Kae="",Jae="",ele="",tle="",nle="",rle="",ile="",sle="",ole="",ale="",lle="",cle="",ule="",dle="",hle="",fle="",mle="",gle="",ple="",vle="",ble="",yle="",Ole="",wle="",kle="",Sle="",xle="",_le="",Cle="",Ele="",Tle="",Dle="",Ale="",Ple="",Rle="",Mle="",Ile="",$le="",Lle="",Nle="",Fle="",Ble="",zle="",Qle="",Ule="",Vle="",jle="",qle="",Hle="",Wle="",Xle="",Yle="",Gle="",Zle="",Kle="",Jle="",ece="",tce="",nce="",rce="",ice="",sce="",oce="",ace="",lce="",cce="",uce="",dce="",hce="",fce="",mce="",gce="",pce="",vce="",bce="",yce="",Oce="",wce="",kce="",Sce="",xce="",_ce="",Cce="",Ece="",Tce="",Dce="",Ace="",Pce="",Rce="",Mce="",Ice="",$ce="",Lce="",Nce="",Fce="",Bce="",zce="",Qce="",Uce="",Vce="",jce="",qce="",Hce="",Wce="",Xce="",Yce="",Gce="",Zce="",Kce="",Jce="",eue="",tue="",nue="",rue="",iue="",sue="",oue="",aue="",lue="",cue="",uue="",due="",hue="",fue="",mue="",gue="",pue="",vue="",bue="",yue="",Oue="",wue="",kue="",Sue="",xue="",_ue="",Cue="",Eue="",Tue="",Due="",Aue="",Pue="",Rue="",Mue="",Iue="",$ue="",Lue="",Nue="",Fue="",Bue="",zue="",Que="",Uue="",Vue="",jue="",que="",Hue="",Wue="",Xue="",Yue="",Gue="",Zue="",Kue="",Jue="",ede="",tde="",nde="",rde="",ide="",sde="",ode="",ade="",lde="",cde="",ude="",dde="",hde="",fde="",mde="",gde="",pde="",vde="",bde="",yde="",Ode="",wde="",kde="",Sde="",xde="",_de="",Cde="",Ede="",Tde="",Dde="",Ade="",Pde="",Rde="",Mde="",Ide="",$de="",Lde="",Nde="",Fde="",Bde="",zde="",Qde="",Ude="",Vde="",jde="",qde="",Hde="",Wde="",Xde="",Yde="",Gde="",Zde="",Kde="",Jde="",ehe="",the="",nhe="",rhe="",ihe="",she="",ohe="",ahe="",lhe="",che="",uhe="",dhe="",hhe="",fhe="",mhe="",ghe="",phe="",vhe="",bhe="",yhe="",Ohe="",whe="",khe="",She="",xhe="",_he="",Che="",Ehe="",The="",Dhe="",Ahe="",Phe="",Rhe="",Mhe="",Ihe="",$he="",Lhe="",Nhe="",Fhe="",Bhe="",zhe="",Qhe="",Uhe="",Vhe="",jhe="",qhe="",Hhe="",Whe="",Xhe="",Yhe="",Ghe="",Zhe="",Khe="",Jhe="",efe="",tfe="",nfe="",rfe="",ife="",sfe="",ofe="",afe="",lfe="",cfe="",ufe="",dfe="",hfe="",ffe="",mfe="",gfe="",pfe="",vfe="",bfe="",yfe="",Ofe="",wfe="",kfe="",Sfe="",xfe="",_fe="",Cfe="",Efe="",Tfe="",Dfe="",Afe="",Pfe="",Rfe="",Mfe="",Ife="",$fe="",Lfe="",Nfe="",Ffe="",Bfe="",zfe="",Qfe="",Ufe="",Vfe="",jfe="",qfe="",Hfe="",Wfe="",Xfe="",Yfe="",Gfe="",Zfe="",Kfe="",Jfe="",eme="",tme="",nme="",rme="",ime="",sme="",ome="",ame="",lme="",cme="",ume="",dme="",hme="",fme="",mme="",gme="",pme="",vme="",bme="",yme="",Ome="",wme="",kme="",Sme="",xme="",_me="",Cme="",Eme="",Tme="",Dme="",Ame="",Pme="",Rme="",Mme="",Ime="",$me="",Lme="",Nme="",Fme="",Bme="",zme="",Qme="",Ume="",Vme="",jme="",qme="",Hme="",Wme="",Xme="",Yme="",Gme="",Zme="",Kme="",Jme="",ege="",tge="",nge="",rge="",ige="",sge="",oge="",age="",lge="",cge="",uge="",dge="",hge="",fge="",mge="",gge="",pge="",vge="",bge="",yge="",Oge="",wge="",kge="",Sge="",xge="*",_ge="0",Cge="1",Ege="2",Tge="3",Dge="4",Age="5",Pge="6",Rge="7",Mge="8",Ige="9",$ge="",Lge="",Nge="",Fge="",Bge="",zge="",Qge="",Uge="",Vge="",jge="",qge="",Hge="",Wge="",Xge="",dd={100:"",smile:Kne,"smile-with-big-eyes":"",grin:Jne,grinning:ere,laughing:tre,"grin-sweat":"",joy:nre,rofl:rre,"loudly-crying":"",wink:ire,kissing:sre,"kissing-smiling-eyes":"","kissing-closed-eyes":"","kissing-heart":"","heart-face":"","heart-eyes":"","star-struck":"","partying-face":"",melting:ore,"upside-down-face":"","slightly-happy":"","happy-cry":"","holding-back-tears":"",blush:are,"warm-smile":"",relieved:lre,"head-nod":"","head-shake":"",smirk:cre,drool:ure,yum:dre,"stuck-out-tongue":"","squinting-tongue":"","winky-tongue":"","zany-face":"","distorted-face":"",woozy:hre,pensive:fre,pleading:mre,grimacing:gre,expressionless:pre,"neutral-face":"","mouth-none":"","face-in-clouds":"","dotted-line-face":"","zipper-face":"",salute:vre,"thinking-face":"","shushing-face":"","hand-over-mouth":"","smiling-eyes-with-hand-over-mouth":"",yawn:bre,"hug-face":"",peeking:yre,screaming:Ore,"raised-eyebrow":"",monocle:wre,unamused:kre,"rolling-eyes":"",exhale:Sre,triumph:xre,angry:_re,rage:Cre,cursing:Ere,sad:Tre,sweat:Dre,worried:Are,concerned:Pre,cry:Rre,"big-frown":"",frown:Mre,"diagonal-mouth":"","slightly-frowning":"","anxious-with-sweat":"",scared:Ire,anguished:$re,gasp:Lre,"mouth-open":"",surprised:Nre,astonished:Fre,flushed:Bre,"mind-blown":"","scrunched-mouth":"","scrunched-eyes":"",weary:zre,distraught:Qre,"x-eyes":"","dizzy-face":"","shaking-face":"","hot-face":"","cold-face":"",sick:Ure,vomit:Vre,tired:jre,sleep:qre,sleepy:Hre,sneeze:Wre,"thermometer-face":"","bandage-face":"",mask:Xre,liar:Yre,halo:Gre,cowboy:Zre,"money-face":"","nerd-face":"","sunglasses-face":"",disguise:Kre,clown:Jre,poop:eie,"imp-smile":"","imp-frown":"",ghost:tie,skull:nie,"skull-and-crossbones":"",robot:rie,ogre:iie,goblin:sie,"snowman-with-snow":"",snowman:oie,alien:aie,"alien-monster":"","moon-face-new":"","moon-face-full":"","sun-with-face":"","moon-face-first-quarter":"","moon-face-last-quarter":"","smiley-cat":"","smile-cat":"","joy-cat":"","heart-eyes-cat":"","smirk-cat":"","kissing-cat":"","scream-cat":"","crying-cat-face":"","pouting-cat":"","see-no-evil-monkey":"","hear-no-evil-monkey":"","speak-no-evil-monkey":"",dizzy:lie,star:cie,"glowing-star":"",sparkles:uie,electricity:die,collision:hie,fight:fie,anger:mie,dash:gie,zzz:pie,hole:vie,fire:bie,"party-popper":"","confetti-ball":"","red-heart":"","orange-heart":"","yellow-heart":"","green-heart":"","light-blue-heart":"","blue-heart":"","purple-heart":"","brown-heart":"","black-heart":"","grey-heart":"","white-heart":"","pink-heart":"",cupid:yie,"gift-heart":"","sparkling-heart":"","heart-grow":"","beating-heart":"","revolving-hearts":"","two-hearts":"","love-letter":"","heart-box":"",heart:Oie,"heart-exclamation-point":"","bandaged-heart":"","broken-heart":"","fire-heart":"",kiss:wie,hugging:kie,"busts-in-silhouette":"","bust-in-silhouette":"","speaking-head":"",footprints:Sie,fingerprint:xie,"sweat-droplets":"",brain:_ie,"anatomical-heart":"",lungs:Cie,blood:Eie,microbe:Tie,tooth:Die,bone:Aie,eyes:Pie,eye:Rie,mouth:Mie,"biting-lip":"",tongue:Iie,nose:$ie,ear:Lie,"hearing-aid":"",foot:Nie,leg:Fie,"leg-mechanical":"","arm-mechanical":"",muscle:Bie,clap:zie,"thumbs-up":"","thumbs-down":"","heart-hands":"","raising-hands":"","open-hands":"","palms-up":"","fist-rightwards":"","fist-leftwards":"","raised-fist":"",fist:Qie,"palm-down":"","palm-up":"","rightwards-hand":"","leftwards-hand":"","push-rightwards":"","push-leftwards":"",wave:Uie,"back-hand":"",palm:Vie,"raised-hand":"",vulcan:jie,"love-you-gesture":"",metal:qie,v:Hie,"crossed-fingers":"","hand-with-index-finger-and-thumb-crossed":"","call-me-hand":"","pinched-fingers":"",pinch:Wie,ok:Xie,pointing:Yie,"point-right":"","point-left":"","index-finger":"","point-up":"","point-down":"","middle-finger":"","writing-hand":"",selfie:Gie,"folded-hands":"","nail-care":"",handshake:Zie,bow:Kie,"raising-hand":"","tipping-hand":"","gesture-ok":"","no-gesture":"",shrug:Jie,facepalm:ese,frowning:tse,pouting:nse,deaf:rse,massage:ise,haircut:sse,sauna:ose,bathe:ase,"in-bed":"",yoga:lse,standing:cse,cartwheel:use,kneeling:dse,"person-in-motorized-wheelchair":"","person-in-manual-wheelchair":"","walking-with-cane":"",walking:hse,running:fse,"bouncing-ball":"",handball:mse,biking:gse,"mountain-biking":"",climbing:pse,"lifting-weights":"",wrestling:vse,"wrestling-men":"","wrestling-women":"",juggling:bse,golfing:yse,"horse-racing":"",fencing:Ose,skier:wse,snowboarder:kse,parachute:Sse,surfing:xse,"rowing-boat":"",swimming:_se,"water-polo":"",merperson:Cse,fairy:Ese,genie:Tse,elf:Dse,mage:Ase,vampire:Pse,zombie:Rse,troll:Mse,"hairy-creature":"",superhero:Ise,supervillain:$se,"mx-claus":"",ninja:Lse,guard:Nse,royalty:Fse,tuxedo:Bse,veil:zse,astronaut:Qse,"construction-worker":"",police:Use,detective:Vse,pilot:jse,scientist:qse,"health-worker":"",mechanic:Hse,"factory-worker":"",firefighter:Wse,farmer:Xse,teacher:Yse,student:Gse,"office-worker":"",judge:Zse,technologist:Kse,singer:Jse,artist:eoe,cook:toe,turban:noe,headscarf:roe,"gua-pi-mao":"",angel:ioe,baby:soe,child:ooe,adult:aoe,elder:loe,"white-hair":"","red-hair":"","blond-hair":"","curly-hair":"",bald:coe,beard:uoe,"levitating-suit":"","dancer-person":"","dancer-woman":"","dancer-man":"","bunny-ears":"","bunny-ears-men":"","bunny-ears-women":"","holding-hands":"","holding-hands-women":"","holding-hands-men":"","holding-hands-woman-and-man":"","kiss-people":"","kiss-woman-and-man":"","kiss-man-and-man":"","kiss-woman-and-woman":"","people-with-heart":"","heart-with-woman-and-man":"","heart-with-man-and-man":"","heart-with-woman-and-woman":"",pregnant:doe,"breast-feeding":"","person-feeding-baby":"",bouquet:hoe,rose:foe,"wilted-flower":"",hibiscus:moe,tulip:goe,lotus:poe,"cherry-blossom":"","white-flower":"",rosette:voe,hyacinth:boe,sunflower:yoe,blossom:Ooe,"fallen-leaf":"","maple-leaf":"",mushroom:woe,"ear-of-rice":"",herb:koe,plant:Soe,leaves:xoe,shamrock:_oe,luck:Coe,"potted-plant":"",cactus:Eoe,"palm-tree":"","leafless-tree":"","deciduous-tree":"","evergreen-tree":"",wood:Toe,nest:Doe,"nest-with-eggs":"",rock:Aoe,debris:Poe,mountain:Roe,"snow-mountain":"",thermometer:Moe,volcano:Ioe,desert:$oe,"national-park":"",sunrise:Loe,"sunrise-over-mountains":"","desert-island":"",beach:Noe,ocean:Foe,"wind-face":"",snowflake:Boe,cyclone:zoe,tornado:Qoe,"umbrella-in-rain":"",rainbow:Uoe,droplet:Voe,cloud:joe,"cloud-with-snow":"","rain-cloud":"","cloud-with-lightning":"","cloud-with-lightning-and-rain":"","sun-behind-rain-cloud":"","sun-behind-large-cloud":"","partly-sunny":"","sun-behind-small-cloud":"",sunny:qoe,"crescent-moon":"","ringed-planet":"","globe-showing-europe-africa":"","globe-showing-americas":"","globe-showing-asia-australia":"",fog:Hoe,"shooting-star":"","milky-way":"",comet:Woe,"new-moon":"","waxing-crescent-moon":"","first-quarter-moon":"","waxing-gibbous-moon":"","full-moon":"","waning-gibbous-moon":"","last-quarter-moon":"","waning-crescent-moon":"","monkey-face":"","lion-face":"","tiger-face":"","cat-face":"","dog-face":"",wolf:Xoe,"bear-face":"","polar-bear":"",koala:Yoe,panda:Goe,hamster:Zoe,"mouse-face":"","rabbit-face":"","fox-face":"","cow-face":"","pig-face":"",snout:Koe,boar:Joe,unicorn:eae,"horse-face":"",moose:tae,"dragon-face":"",lizard:nae,dragon:rae,"t-rex":"",dinosaur:iae,turtle:sae,crocodile:oae,snake:aae,frog:lae,rabbit:cae,mouse:uae,rat:dae,cat:hae,"black-cat":"",poodle:fae,dog:mae,"guide-dog":"","service-dog":"",pig:gae,racehorse:pae,donkey:vae,cow:bae,ox:yae,"water-buffalo":"",bison:Oae,ram:wae,sheep:kae,goat:Sae,deer:xae,llama:_ae,sloth:Cae,kangaroo:Eae,zebra:Tae,elephant:Dae,mammoth:Aae,rhino:Pae,hippo:Rae,giraffe:Mae,leopard:Iae,tiger:$ae,monkey:Lae,gorilla:Nae,orangutan:Fae,camel:Bae,"bactrian-camel":"",chipmunk:zae,beaver:Qae,raccoon:Uae,skunk:Vae,badger:jae,hedgehog:qae,otter:Hae,bat:Wae,wing:Xae,feather:Yae,bird:Gae,"black-bird":"",rooster:Zae,chicken:Kae,"hatching-chick":"","baby-chick":"","hatched-chick":"",eagle:Jae,owl:ele,parrot:tle,peace:nle,dodo:rle,swan:ile,duck:sle,goose:ole,flamingo:ale,peacock:lle,phoenix:cle,turkey:ule,penguin:dle,seal:hle,shark:fle,orca:mle,dolphin:gle,"humpback-whale":"",whale:ple,fish:vle,"tropical-fish":"",blowfish:ble,shrimp:yle,lobster:Ole,crab:wle,squid:kle,octopus:Sle,jellyfish:xle,oyster:_le,coral:Cle,bubbles:Ele,scorpion:Tle,spider:Dle,"spider-web":"",shell:Ale,snail:Ple,ant:Rle,cricket:Mle,beetle:Ile,mosquito:$le,cockroach:Lle,fly:Nle,bee:Fle,"lady-bug":"",butterfly:Ble,bug:zle,worm:Qle,strawberry:Ule,cherries:Vle,"red-apple":"",tomato:jle,"hot-pepper":"",watermelon:qle,peach:Hle,tangerine:Wle,carrot:Xle,mango:Yle,pineapple:Gle,banana:Zle,"ear-of-corn":"",lemon:Kle,lime:Jle,melon:ece,pear:tce,"pea-pod":"","leafy-green":"","bell-pepper":"","green-apple":"","kiwi-fruit":"",avocado:nce,olive:rce,broccoli:ice,cucumber:sce,blueberries:oce,grapes:ace,eggplant:lce,"roasted-sweet-potato":"","root-vegetable":"",coconut:cce,potato:uce,"brown-mushroom":"",onion:dce,ginger:hce,garlic:fce,beans:mce,chestnut:gce,peanuts:pce,bread:vce,flatbread:bce,croissant:yce,"baguette-bread":"",bagel:Oce,waffle:wce,pancakes:kce,cooking:Sce,egg:xce,"cheese-wedge":"",bacon:_ce,"cut-of-meat":"","poultry-leg":"","meat-on-bone":"",hamburger:Cce,"hot-dog":"",sandwich:Ece,pretzel:Tce,"french-fries":"",pizza:Dce,tamale:Ace,taco:Pce,burrito:Rce,"stuffed-flatbread":"",falafel:Mce,"shallow-pan-of-food":"",spaghetti:Ice,"canned-food":"",fondue:$ce,"bowl-with-spoon":"","green-salad":"","pot-of-food":"","curry-rice":"","steaming-bowl":"",sushi:Lce,"fried-shrimp":"","takeout-box":"","cooked-rice":"","bento-box":"",dumpling:Nce,oden:Fce,"rice-ball":"","rice-cracker":"","fish-cake-with-swirl":"",dango:Bce,"fortune-cookie":"","moon-cake":"","shaved-ice":"","ice-cream":"","soft-ice-cream":"",pie:zce,shortcake:Qce,custard:Uce,"birthday-cake":"",cupcake:Vce,lollipop:jce,candy:qce,"chocolate-bar":"",doughnut:Hce,cookie:Wce,"honey-pot":"",salt:Xce,butter:Yce,popcorn:Gce,"ice-cube":"",jar:Zce,"cup-with-straw":"","bubble-tea":"","beverage-box":"","glass-of-milk":"","baby-bottle":"","teacup-without-handle":"","hot-beverage":"",teapot:Kce,mate:Jce,"beer-mug":"","clinking-beer-mugs":"","clinking-glasses":"","bottle-with-popping-cork":"","wine-glass":"","tumbler-glass":"",pour:eue,"cocktail-glass":"","tropical-drink":"",sake:tue,chopsticks:nue,"fork-and-knife":"",spoon:rue,"kitchen-knife":"","fork-and-knife-with-plate":"","stop-sign":"",construction:iue,"police-car-light":"","fuel-pump":"","oil-drum":"",compass:sue,wheel:oue,"ring-buoy":"",anchor:aue,"bus-stop":"",metro:lue,"horizontal-traffic-light":"","vertical-traffic-light":"","kick-scooter":"","manual-wheelchair":"","motorized-wheelchair":"",crutch:cue,bicycle:uue,"motor-scooter":"",motorcycle:due,"sport-utility-vehicle":"",automobile:hue,"pickup-truck":"",minibus:fue,"delivery-truck":"","articulated-lorry":"",tractor:mue,"racing-car":"","fire-engine":"",ambulance:gue,"police-car":"",taxi:pue,"auto-rickshaw":"",bus:vue,"light-rail":"",monorail:bue,"bullet-train":"","high-speed-train":"",locomotive:yue,"railway-car":"","tram-car":"",trolleybus:Oue,"mountain-railway":"",tram:wue,station:kue,"bus-front":"","police-car-front":"","automobile-front":"","taxi-front":"",train:Sue,ship:xue,"passenger-ship":"","motor-boat":"",speedboat:_ue,ferry:Cue,sailboat:Eue,canoe:Tue,"suspension-railway":"","mountain-cableway":"","aerial-tramway":"",helicopter:Due,"flying-saucer":"",rocket:Aue,airplane:Pue,"airplane-departure":"","airplane-arrival":"","small-airplane":"",slide:Rue,"roller-coaster":"","ferris-wheel":"","carousel-horse":"","circus-tent":"","tokyo-tower":"","statue-of-liberty":"",moai:Mue,"mount-fuji":"","classical-building":"","barber-pole":"",fountain:Iue,"shinto-shrine":"",synagogue:$ue,mosque:Lue,kaaba:Nue,"hindu-temple":"",church:Fue,wedding:Bue,"love-hotel":"","japanese-castle":"",castle:zue,"construction-building":"","office-building":"",factory:Que,"department-store":"","convenience-store":"",stadium:Uue,bank:Vue,school:jue,hotel:que,"japanese-post-office":"","post-office":"",hospital:Hue,"derelict-house":"",house:Wue,"house-with-garden":"",houses:Xue,hut:Yue,tent:Gue,camping:Zue,"umbrella-on-ground":"",cityscape:Kue,"sunset-cityscape":"",sunset:Jue,"night-with-stars":"","bridge-at-night":"",foggy:ede,"railway-track":"",motorway:tde,"map-of-japan":"","world-map":"","globe-with-meridians":"",seat:nde,luggage:rde,balloon:ide,ribbon:sde,"wrapped-gift":"",sparkler:ode,fireworks:ade,firecracker:lde,"red-envelope":"","diya-lamp":"","mirror-ball":"","wind-chime":"","carp-streamer":"","japanese-dolls":"","moon-viewing-ceremony":"","pine-decoration":"","tanabata-tree":"","christmas-tree":"","jack-o-lantern":"","reminder-ribbon":"","gold-medal":"","silver-medal":"","bronze-medal":"",medal:cde,"military-medal":"",trophy:ude,loudspeaker:dde,"soccer-ball":"",baseball:hde,softball:fde,basketball:mde,volleyball:gde,"american-football":"","rugby-football":"","goal-net":"",tennis:pde,badminton:vde,lacrosse:bde,"cricket-game":"","field-hockey":"","ice-hockey":"","curling-stone":"",sled:yde,skis:Ode,"ice-skate":"","roller-skates":"","ballet-shoes":"",skateboard:wde,"flag-in-hole":"","direct-hit":"","bow-and-arrow":"","flying-disc":"",boomerang:kde,kite:Sde,"fishing-pole":"","diving-mask":"","one-piece-swimsuit":"","running-shirt":"","martial-arts-uniform":"","boxing-glove":"","8-ball":"","ping-pong":"",bowling:xde,"chess-pawn":"","yo-yo":"",jigsaw:_de,"video-game":"",joystick:Cde,pistol:Ede,die:Tde,"slot-machine":"","flower-playing-cards":"","mahjong-red-dragon":"",joker:Dde,wand:Ade,"game-die":"",camera:Pde,"camera-flash":"","framed-picture":"","artist-palette":"",splatter:Rde,paintbrush:Mde,crayon:Ide,needle:$de,thread:Lde,yarn:Nde,piano:Fde,saxophone:Bde,trumpet:zde,trombone:Qde,guitar:Ude,banjo:Vde,violin:jde,harp:qde,"long-drum":"",drum:Hde,maracas:Wde,flute:Xde,accordion:Yde,microphone:Gde,headphone:Zde,"level-slider":"","control-knobs":"","studio-microphone":"",videocassette:Kde,radio:Jde,television:ehe,"video-camera":"","film-projector":"","movie-camera":"",film:the,clapper:nhe,"performing-arts":"",ticket:rhe,"admission-tickets":"","mobile-phone":"",telephone:ihe,"telephone-receiver":"",pager:she,"fax-machine":"","electric-plug":"","battery-full":"","battery-low":"",trackball:ohe,"computer-disk":"","floppy-disk":"","optical-disk":"",dvd:ahe,"desktop-computer":"","laptop-computer":"",keyboard:lhe,printer:che,"computer-mouse":"",treasure:uhe,coin:dhe,"gem-stone":"","money-with-wings":"",dollar:hhe,yen:fhe,euro:mhe,pound:ghe,"credit-card":"","money-bag":"",receipt:phe,abacus:vhe,"balance-scale":"","shopping-cart":"","shopping-bags":"",candle:bhe,"light-bulb":"",flashlight:yhe,"red-paper-lantern":"",bricks:Ohe,window:whe,mirror:khe,door:She,chair:xhe,bed:_he,"couch-and-lamp":"",shower:Che,bathtub:Ehe,toilet:The,"roll-of-paper":"",plunger:Dhe,"teddy-bear":"","nesting-doll":"","safety-pin":"",knot:Ahe,broom:Phe,"lotion-bottle":"",sponge:Rhe,soap:Mhe,toothbrush:Ihe,razor:$he,"hair-pick":"",basket:Lhe,socks:Nhe,gloves:Fhe,scarf:Bhe,jeans:zhe,"t-shirt":"",necktie:Qhe,dress:Uhe,kimono:Vhe,sari:jhe,bikini:qhe,shorts:Hhe,"swim-brief":"",coat:Whe,"lab-coat":"","safety-vest":"","military-helmet":"","graduation-cap":"","top-hat":"","billed-cap":"",crown:Xhe,ring:Yhe,lipstick:Ghe,fan:Zhe,"school-backpack":"","clutch-bag":"",purse:Khe,handbag:Jhe,briefcase:efe,umbrella:tfe,"closed-umbrella":"","hiking-boot":"",boot:nfe,"high-heeled-shoe":"","flip-flop":"","running-shoe":"","flat-shoe":"",sandal:rfe,"probing-cane":"",sunglasses:ife,glasses:sfe,goggles:ofe,alembic:afe,"petri-dish":"","test-tube":"",syringe:lfe,pill:cfe,"adhesive-bandage":"",stethoscope:ufe,"x-ray":"",dna:dfe,telescope:hfe,microscope:ffe,"satellite-antenna":"",satellite:mfe,"fire-extinguisher":"",axe:gfe,ladder:pfe,bucket:vfe,hook:bfe,magnet:yfe,toolbox:Ofe,clamp:wfe,"nut-and-bolt":"",screwdriver:kfe,saw:Sfe,wrench:xfe,hammer:_fe,"hammer-and-wrench":"","hammer-and-pick":"",pick:Cfe,shovel:Efe,gear:Tfe,"broken-chain":"",link:Dfe,chains:Afe,paperclip:Pfe,"linked-paperclips":"",scissors:Rfe,"straight-ruler":"","triangular-ruler":"",pen:Mfe,"fountain-pen":"","black-nib":"",pencil:Ife,memo:$fe,"spiral-notepad":"","page-facing-up":"","page-with-curl":"","bookmark-tabs":"",clipboard:Lfe,"card-file-box":"","file-cabinet":"",ledger:Nfe,"notebook-with-decorative-cover":"","closed-book":"",notebook:Ffe,"green-book":"","blue-book":"","orange-book":"",books:Bfe,"open-book":"",bookmark:zfe,"open-file-folder":"","file-folder":"","card-index-dividers":"","bar-chart":"","chart-increasing":"","chart-decreasing":"","card-index":"",id:Qfe,pushpin:Ufe,"round-pushpin":"",wastebasket:Vfe,newspaper:jfe,"rolled-up-newspaper":"",label:qfe,"outbox-tray":"","inbox-tray":"","envelope-with-arrow":"","incoming-envelope":"",envelope:Hfe,"e-mail":"","closed-mailbox-with-raised":"","closed-mailbox-with-lowered":"","open-mailbox-with-raised":"","open-mailbox-with-lowered":"",package:"","postal-horn":"",postbox:Wfe,"ballot-box":"",calendar:Xfe,"tear-off-calendar":"","spiral-calendar":"",placard:Yfe,"alarm-clock":"","mantelpiece-clock":"","hourglass-done":"","hourglass-not-done":"","timer-clock":"",watch:Gfe,stopwatch:Zfe,"twelve-o-clock":"","twelve-thirty":"","one-o-clock":"","one-thirty":"","two-o-clock":"","two-thirty":"","three-o-clock":"","three-thirty":"","four-o-clock":"","four-thirty":"","five-o-clock":"","five-thirty":"","six-o-clock":"","six-thirty":"","seven-o-clock":"","seven-thirty":"","eight-o-clock":"","eight-thirty":"","nine-o-clock":"","nine-thirty":"","ten-o-clock":"","ten-thirty":"","eleven-o-clock":"","eleven-thirty":"","bellhop-bell":"",bell:Kfe,"low-volume":"","medium-volume":"","high-volume":"",megaphone:Jfe,"magnifying-glass-tilted-left":"","magnifying-glass-tilted-right":"","crystal-ball":"","evil-eye":"",hamsa:eme,"prayer-beads":"",amphora:tme,urn:nme,coffin:rme,headstone:ime,cigarette:sme,bomb:ome,"mouse-trap":"",scroll:ame,"crossed-swords":"",dagger:lme,shield:cme,"old-key":"",key:ume,"lock-with-key":"","lock-with-pen":"",locked:dme,unlocked:hme,"red-circle":"","orange-circle":"","yellow-circle":"","green-circle":"","blue-circle":"","purple-circle":"","brown-circle":"","black-circle":"","white-circle":"","red-square":"","orange-square":"","yellow-square":"","green-square":"","blue-square":"","purple-square":"","brown-square":"","black-square":"","white-square":"","gray-heart":"",diamond:fme,club:mme,spade:gme,aries:pme,taurus:vme,gemini:bme,cancer:yme,leo:Ome,virgo:wme,libra:kme,scorpio:Sme,sagittarius:xme,capricorn:_me,aquarius:Cme,pisces:Eme,ophiuchus:Tme,"female-sign":"","male-sign":"","trans-sign":"","thought-bubble":"","anger-bubble":"","speech-bubble":"","speech-bubble-leftwards":"","exclamation-mark-white":"","question-mark-white":"",exclamation:Dme,question:Ame,"exclamation-question-mark":"","exclamation-double":"","large-circle":"",x:Pme,prohibited:Rme,"no-bicycles":"","no-smoking":"","no-littering":"","non-potable-water":"","no-pedestrians":"","no-mobile-phones":"","no-under-eighteen":"","no-sound":"",mute:Mme,"a-button":"","ab-button":"","b-button":"","o-button":"","cl-button":"",sos:Ime,stop:$me,"no-entry":"","name-badge":"","hot-springs":"","triangle-pointed-down":"","triangle-pointed-up":"",bargain:Lme,secret:Nme,congratulations:Fme,"passing-grade":"","no-vacancy":"",discount:Bme,"prohibited-button":"",accept:zme,"not-free-of-charge":"","free-of-charge":"",application:Qme,"open-for-business":"","monthly-amount":"","eight-pointed-star":"","diamond-orange-large":"","diamond-orange-small":"",bright:Ume,dim:Vme,vs:jme,cinema:qme,"signal-strength":"",repeat:Hme,"repeat-one":"",shuffle:Wme,"arrow-forward":"","fast-forward":"","next-track":"","play-or-pause":"",reverse:Xme,rewind:Yme,previous:Gme,upwards:Zme,"fast-up":"",downwards:Kme,"fast-down":"",pause:Jme,"stop-button":"",record:ege,eject:tge,"phone-off":"",wireless:nge,vibration:rge,"phone-with-arrow":"",radioactive:ige,biohazard:sge,warning:oge,"children-crossing":"","fleur-de-lis":"","trident-emblem":"","part-alternation-mark":"","japanese-symbol-for-beginner":"","eight-spoked-asterisk":"",sparkle:age,"recycling-symbol":"","currency-exchange":"","dollar-sign":"","chart-increasing-with-yen":"",reserved:lge,"x-mark":"","check-mark":"","check-mark-black":"","check-mark-button":"","up-arrow":"","up-right-arrow":"","right-arrow":"","down-right-arrow":"","down-arrow":"","down-left-arrow":"","left-arrow":"","up-left-arrow":"","up-down-arrow":"","left-right-arrow":"","right-arrow-curving-left":"","left-arrow-curving-right":"","right-arrow-curving-up":"","right-arrow-curving-down":"","clockwise-arrows":"","counterclockwise-arrows":"",back:cge,on:uge,top:dge,end:hge,soon:fge,new:"",free:mge,"ok-button":"",cool:gge,ng:pge,information:vge,parking:bge,here:yge,"service-charge":"",vacancy:Oge,symbols:wge,letters:kge,"uppercase-letters":"","lowercase-letters":"",numbers:Sge,"number-sign":"#",asterisk:xge,zero:_ge,one:Cge,two:Ege,three:Tge,four:Dge,five:Age,six:Pge,seven:Rge,eight:Mge,nine:Ige,ten:$ge,globe:Lge,"diamond-jewel":"","blue-diamond-large":"","blue-diamond-small":"",atm:Nge,"metro-sign":"","water-closet":"",restroom:Fge,"mens-room":"","womens-room":"","wheelchair-symbol":"","baby-symbol":"",elevator:Bge,litter:zge,"water-faucet":"","passport-control":"",customs:Qge,"baggage-claim":"","left-luggage":"","medical-symbol":"","atom-symbol":"","place-of-worship":"",om:Uge,"wheel-of-dharma":"","peace-symbol":"","yin-yang":"","star-and-crescent":"",khanda:Vge,"latin-cross":"","orthodox-cross":"","star-of-david":"","star-of-david-with-dot":"",menorah:jge,infinity:qge,"id-button":"","eye-bubble":"",family:Hge,"family-4":"","family-2":"","family-3":"","musical-score":"","musical-note":"","musical-notes":"","multiplication-x":"","plus-sign":"","minus-sign":"","division-sign":"","equals-sign":"","curly-loop":"","curly-loop-double":"","wavy-dash":"",copyright:Wge,registered:Xge,"trade-mark":"","radio-button":"","white-square-button":"","black-square-medium":"","black-square-medium-small":"","black-square-small":"","button-black-square":"","white-square-medium":"","white-square-medium-small":"","white-square-small":"","chequered-flag":"","triangular-flag":"","crossed-flags":"","black-flag":"","white-flag":"","rainbow-flag":"","trans-flag":"","pirate-flag":"","ascension-island-flag":"","andorra-flag":"","united-arab-emirates-flag":"","afghanistan-flag":"","antigua-barbuda-flag":"","anguilla-flag":"","albania-flag":"","armenia-flag":"","angola-flag":"","antarctica-flag":"","argentina-flag":"","american-samoa-flag":"","austria-flag":"","australia-flag":"","aruba-flag":"","azerbaijan-flag":"","bosnia-herzegovina-flag":"","barbados-flag":"","bangladesh-flag":"","belgium-flag":"","burkina-faso-flag":"","bulgaria-flag":"","bahrain-flag":"","burundi-flag":"","benin-flag":"","bermuda-flag":"","brunei-flag":"","bolivia-flag":"","caribbean-netherlands-flag":"","brazil-flag":"","bahamas-flag":"","bhutan-flag":"","bouvet-island-flag":"","botswana-flag":"","belarus-flag":"","belize-flag":"","canada-flag":"","cocos-islands-flag":"","congo-kinshasa-flag":"","central-african-republic-flag":"","congo-brazzaville-flag":"","switzerland-flag":"","cook-islands-flag":"","chile-flag":"","cameroon-flag":"","china-flag":"","colombia-flag":"","clipperton-island-flag":"","sark-flag":"","costa-rica-flag":"","cuba-flag":"","cape-verde-flag":"","christmas-island-flag":"","cyprus-flag":"","czechia-flag":"","germany-flag":"","diego-garcia-flag":"","djibouti-flag":"","denmark-flag":"","dominica-flag":"","algeria-flag":"","ceuta-melilla-flag":"","ecuador-flag":"","estonia-flag":"","egypt-flag":"","western-sahara-flag":"","eritrea-flag":"","spain-flag":"","ethiopia-flag":"","european-union-flag":"","finland-flag":"","fiji-flag":"","falkland-islands-flag":"","micronesia-flag":"","faroe-islands-flag":"","france-flag":"","gabon-flag":"","united-kingdom-flag":"","grenada-flag":"","georgia-flag":"","guernsey-flag":"","ghana-flag":"","gibraltar-flag":"","greenland-flag":"","gambia-flag":"","guinea-flag":"","guadeloupe-flag":"","equatorial-guinea-flag":"","greece-flag":"","south-georgia-south-flag":"","guatemala-flag":"","guam-flag":"","guinea-bissau-flag":"","guyana-flag":"","hong-kong-sar-china-flag":"","honduras-flag":"","croatia-flag":"","haiti-flag":"","hungary-flag":"","canary-islands-flag":"","indonesia-flag":"","ireland-flag":"","israel-flag":"","isle-of-man-flag":"","india-flag":"","british-indian-ocean-territory-flag":"","iraq-flag":"","iran-flag":"","iceland-flag":"","italy-flag":"","jersey-flag":"","jamaica-flag":"","jordan-flag":"","japan-flag":"","kenya-flag":"","kyrgyzstan-flag":"","cambodia-flag":"","kiribati-flag":"","comoros-flag":"","kuwait-flag":"","kazakhstan-flag":"","laos-flag":"","lebanon-flag":"","liechtenstein-flag":"","liberia-flag":"","lesotho-flag":"","lithuania-flag":"","luxembourg-flag":"","latvia-flag":"","libya-flag":"","morocco-flag":"","monaco-flag":"","moldova-flag":"","montenegro-flag":"","st-martin-flag":"","madagascar-flag":"","marshall-islands-flag":"","macedonia-flag":"","mali-flag":"","myanmar-flag":"","mongolia-flag":"","macau-sar-china-flag":"","northern-mariana-islands-flag":"","martinique-flag":"","mauritania-flag":"","montserrat-flag":"","malta-flag":"","mauritius-flag":"","maldives-flag":"","malawi-flag":"","mexico-flag":"","malaysia-flag":"","mozambique-flag":"","namibia-flag":"","new-caledonia-flag":"","niger-flag":"","norfolk-island-flag":"","nigeria-flag":"","nicaragua-flag":"","netherlands-flag":"","norway-flag":"","nepal-flag":"","nauru-flag":"","niue-flag":"","new-zealand-flag":"","oman-flag":"","panama-flag":"","peru-flag":"","french-polynesia-flag":"","papua-new-guinea-flag":"","philippines-flag":"","pakistan-flag":"","poland-flag":"","st-pierre-miquelon-flag":"","pitcairn-islands-flag":"","puerto-rico-flag":"","palestinian-territories-flag":"","portugal-flag":"","palau-flag":"","paraguay-flag":"","qatar-flag":"","romania-flag":"","serbia-flag":"","russia-flag":"","rwanda-flag":"","saudi-arabia-flag":"","solomon-islands-flag":"","seychelles-flag":"","sudan-flag":"","sweden-flag":"","singapore-flag":"","st-helena-flag":"","slovenia-flag":"","slovakia-flag":"","sierra-leone-flag":"","san-marino-flag":"","senegal-flag":"","somalia-flag":"","suriname-flag":"","south-sudan-flag":"","el-salvador-flag":"","sint-maarten-flag":"","syria-flag":"","swaziland-flag":"","tristan-da-cunha-flag":"","chad-flag":"","french-southern-territories-flag":"","togo-flag":"","thailand-flag":"","tajikistan-flag":"","tokelau-flag":"","timor-leste-flag":"","turkmenistan-flag":"","tunisia-flag":"","tonga-flag":"","turkey-flag":"","trinidad-tobago-flag":"","tuvalu-flag":"","taiwan-flag":"","tanzania-flag":"","ukraine-flag":"","uganda-flag":"","united-nations-flag":"","united-states-flag":"","uruguay-flag":"","uzbekistan-flag":"","st-vincent-grenadines-flag":"","venezuela-flag":"","us-virgin-islands-flag":"","vietnam-flag":"","vanuatu-flag":"","wallis-futuna-flag":"","samoa-flag":"","kosovo-flag":"","yemen-flag":"","mayotte-flag":"","south-africa-flag":"","zambia-flag":"","zimbabwe-flag":"","england-flag":"","scotland-flag":"","wales-flag":""},[Y7,tN]=ve([]);function nN(t){tN(e=>[...e,t])}function rN(t){tN(e=>e.filter(n=>n.element!==t))}function Xt(t,e){const n=e();if(!n)return;const[r,i]=ve();nN({config:e,element:t,show:r,hide(){i(void 0)}});function s(d,h){const f=r(),m=e();d==="userCard"&&m.userCard&&(f?.userCard?i(void 0):f?(i(void 0),i({userCard:m.userCard})):i({userCard:m.userCard})),d==="tooltip"&&m.tooltip&&(f?.tooltip?h!==!0&&i(void 0):f||h!==!1&&i({tooltip:m.tooltip})),d==="contextMenu"&&m.contextMenu&&(f?.contextMenu?i(void 0):f?(i(void 0),i({contextMenu:m.contextMenu})):i({contextMenu:m.contextMenu}))}function o(){s("userCard")}function a(d){d.preventDefault(),d.stopPropagation(),d.stopImmediatePropagation(),s("contextMenu")}function l(){s("tooltip",!0)}function c(){s("tooltip",!1)}dt(Zt(()=>e().userCard,d=>{d&&(t.style.cursor="pointer",t.style.userSelect="none",t.addEventListener("click",o),wt(()=>t.removeEventListener("click",o)))})),dt(Zt(()=>e().tooltip,d=>{d&&(t.ariaLabel=typeof d.content=="string"?d.content:d.aria,t.addEventListener("mouseenter",l),t.addEventListener("mouseleave",c),wt(()=>{t.removeEventListener("mouseenter",l),t.removeEventListener("mouseleave",c)}))})),dt(Zt(()=>e().contextMenu,d=>{d&&(t.addEventListener(e().contextMenuHandler??"contextmenu",a),wt(()=>{t.removeEventListener(n.contextMenuHandler??"contextmenu",a)}))})),wt(()=>rN(t))}const Lb=Object.keys(dd).sort(),Yge=Lb.map(t=>({id:t,name:t}));function Gge(t,e){if(!e())return;const[n,r]=ve({matched:"none"}),[i,s]=ve(0);function o(h){const f=t.shadowRoot?t.shadowRoot.querySelector("input")||t.shadowRoot.querySelector("textarea"):t;if(!f)return;const m=n(),g=f.selectionStart;if(!g)return;const p=m.matches[h];if(!p)return;const v=p.replacement,b=t.value;t.value=b.slice(0,g-m.length)+v+" "+b.slice(g);const y=g-m.length+v.length+1;t.setSelectionRange(y,y,"none"),t.dispatchEvent(new Event("input",{bubbles:!0}))}const a=()=>({autoComplete:{state:n,selection:i,setSelection:s,select:o}});nN({element:t,config:a,show:()=>n().matched==="none"?void 0:a(),hide:()=>{}});function l(h){const f=n();if(f.matched!=="none"){if(h.key==="Enter"||h.key==="Tab"){h.preventDefault(),o(i());return}if(h.key==="ArrowUp"){h.preventDefault(),s(g=>g===0?f.matches.length-1:g-1);return}if(h.key==="ArrowDown"){h.preventDefault(),s(g=>(g+1)%f.matches.length);return}}const m=e();typeof m=="object"&&m.onKeyDown?.(h)}function c(h){if(h instanceof KeyboardEvent&&n().matched!=="none"&&["ArrowUp","ArrowDown"].includes(h.key))return;const f=t.shadowRoot?t.shadowRoot.querySelector("input")||t.shadowRoot.querySelector("textarea"):t;if(f){const m=f.selectionStart;if(m&&m===f.selectionEnd){const g=f.value.slice(0,m),p=["@",":","#","%"].map(v=>{const b=g.lastIndexOf(v);return b===-1?void 0:[v,g.slice(b+1).toLowerCase()]}).filter(v=>v).filter(([,v])=>/^[^\s@:#]*$/.test(v)).filter(([v,b])=>v===":"||v==="%"?b.length>0:!0)[0];if(p){s(0),r(Zge(...p,e()));return}}}n().matched!=="none"&&r({matched:"none"})}function d(){n().matched!=="none"&&r({matched:"none"})}t.addEventListener("keydown",l),t.addEventListener("keyup",c),t.addEventListener("focus",c),t.addEventListener("blur",d),wt(()=>{rN(t),t.removeEventListener("keydown",l),t.removeEventListener("keyup",c),t.removeEventListener("focus",c),t.removeEventListener("blur",d)})}function Zge(t,e,n){if(t===":"){const r=[];if(typeof n=="object"&&n.client){const i=[...Yge,...n.client.emojis.toList()].sort((o,a)=>o.name.localeCompare(a.name));let s=0;for(;r.length<10&&s<i.length;)i[s].name.includes(e)&&r.push(i[s].id),s++}else{let i=0;for(;r.length<10&&i<Lb.length;)Lb[i].includes(e)&&r.push(Lb[i]),i++}return r.length?{matched:"emoji",length:e.length+1,matches:r.map(i=>i.length===26?{type:"custom",id:i,shortcode:n.client.emojis.get(i).name,replacement:":"+i+":"}:{type:"unicode",shortcode:i,codepoint:dd[i],replacement:dd[i]})}:{matched:"none"}}if(typeof n=="object"&&n.client){if(t==="@"){const r=[],i=(n.searchSpace?.members??n.searchSpace?.users??n.client.users.toList()).sort((o,a)=>o.displayName.localeCompare(a.displayName));let s=0;for(;r.length<10&&s<i.length;){const o=i[s];(o.displayName?.toLowerCase().includes(e)||o instanceof A0&&o.user?.username.toLowerCase().includes(e))&&r.push(i[s]),s++}if(r.length)return{matched:"user",length:e.length+1,matches:r.map(o=>({user:o,replacement:o.toString()}))}}if(t==="%"){const r=[],i=n.searchSpace?.roles?.toSorted((o,a)=>o.name.localeCompare(a.name))??[];let s=0;for(;r.length<10&&s<i.length;)i[s].name?.toLowerCase().includes(e)&&r.push(i[s]),s++;if(r.length)return{matched:"role",length:e.length+1,matches:r.map(o=>({role:o,replacement:o.toString()}))}}if(t==="#"){const r=[],i=(n.searchSpace?.channels??n.client.channels.toList()).filter(o=>o.name).sort((o,a)=>o.name.localeCompare(a.name));let s=0;for(;r.length<10&&s<i.length;)i[s].name.toLowerCase().includes(e)&&r.push(i[s]),s++;if(r.length)return{matched:"channel",length:e.length+1,matches:r.map(o=>({channel:o,replacement:o.toString()}))}}}return{matched:"none"}}const Kge=nn({base:{willChange:"transform",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},variants:{direction:{x:{overflowX:"scroll"},y:{overflowY:"scroll"}}},defaultVariants:{direction:"y"}});function nc(t,e){const n=e();t.classList.add(...Kge().split(" ")),n.class&&n.class.split(" ").forEach(r=>t.classList.add(r))}const Jge=nn({base:{willChange:"transform",scrollbarColor:"var(--md-sys-color-primary) transparent"},variants:{direction:{x:{overflowX:"auto",overflowY:"hidden"},y:{overflowY:"auto",overflowX:"hidden"}},showOnHover:{true:{overflow:"hidden !important",scrollbarGutter:"stable"}}},defaultVariants:{direction:"y",showOnHover:!1}}),epe=nn({variants:{direction:{x:{overflowX:"scroll !important",overflowY:"hidden !important"},y:{overflowY:"scroll !important",overflowX:"hidden !important"}}},defaultVariants:{direction:"y"}});function hu(t,e){const n=e();if(n&&(n.offsetTop&&(t.style.paddingTop=n.offsetTop+"px"),t.classList.add(...Jge({direction:n.direction,showOnHover:n.showOnHover}).split(" ")),n.class&&n.class.split(" ").forEach(r=>t.classList.add(r)),n.showOnHover)){const r=epe({direction:n.direction}).split(" "),i=()=>{t.classList.add(...r)},s=()=>{t.classList.remove(...r)};t.addEventListener("mouseenter",i),t.addEventListener("mouseleave",s),wt(()=>{t.removeEventListener("mouseenter",i),t.removeEventListener("mouseleave",s)})}}const Qy=(t,e)=>{const n=[];for(let r=0;r<e;r+=1)n.push(t+r);return n},Nb=t=>Number.isFinite(t)?t:0,tpe=t=>t.matches(":focus-within"),npe=t=>t.querySelector(":focus"),rpe=t=>{const e=npe(t);return e?(e.click(),!0):!1},ipe=(t,e)=>{let n=e,r=0,i=0;for(;n&&t!==n;){const{offsetTop:s,offsetLeft:o,offsetParent:a}=n;if(t.contains(a))r+=s,i+=o;else{r+=s-t.offsetTop,i+=o-t.offsetLeft;break}n=a}return{offsetTop:r,offsetLeft:i}},spe=yr(),ope=t=>{let e=0,n=0;if(t.borderBoxSize){const{borderBoxSize:r}=t,i=Array.isArray(r)?r[0]:r;e=i.inlineSize,n=i.blockSize}else{const r=t.target.getBoundingClientRect();e=r.width,n=r.height}return{width:e,height:n}},kk=(t,e,n)=>{const[r,i]=n?[t,e]:[e,t];return{main:r,cross:i}},Sk={main:0,cross:0},ape=(t,e)=>t.cross===e.cross,lpe=t=>{const e=Nn(spe),[n,r]=ve(void 0),i=()=>t.scrollTarget||e?.scrollTarget,s=ke(()=>(t.direction||"vertical")==="horizontal"),[o,a]=$a({isMeasured:!1,mainAxisScrollValue:0,target:{...Sk},container:{...Sk,offsetMain:0,offsetCross:0},itemSize:{...Sk}}),l=f=>{const m=f.target,g=i(),p=n(),v=s(),b=ope(f),y=kk(b.width,b.height,v);if(m===g)a("target",y);else if(m===p&&(!ape(o.container,y)||!o.isMeasured)){const C=ipe(g,p),x=kk(C.offsetLeft,C.offsetTop,v);a("container",{...y,offsetMain:x.main,offsetCross:x.cross})}},c=()=>{const f=i();if(f){const m=s()?f.scrollLeft:f.scrollTop;return Math.floor(m)}return 0},d=new ResizeObserver(f=>{Nt(()=>{f.forEach(m=>l(m)),a({isMeasured:!0,mainAxisScrollValue:c()})})});Ji(()=>{if(!o.isMeasured)return;const f=s(),m=t.itemSize;let g;typeof m=="function"?g=m(o.container.cross,f):g=m;const p=kk(g.width||0,g.height||0,f);a("itemSize",p)});const h=()=>{a("mainAxisScrollValue",c())};return dt(()=>{const f=i(),m=n();!f||!m||(f.addEventListener("scroll",h),d.observe(f),d.observe(m),wt(()=>{a("isMeasured",!1),f.removeEventListener("scroll",h),d.unobserve(f),d.unobserve(m)}))}),{containerEl:n,setContainerRefEl:r,isDirectionHorizontal:s,measurements:o}},cpe=1,upe=t=>{const{total:e,focusPosition:n,positionCount:r,startPosition:i,prevPositions:s,prevStartPosition:o}=t,a=s.length;if(e<=r)return a===r&&o===i?s:Qy(0,r);const c=i+r,d=p=>p<i||p>=c,h=()=>{if(d(n))return n;let p;return c<e?p=c:p=i-1,p},f=r+cpe;if(a!==f){const p=Qy(i,r);return p.push(h()),p}const m=[];for(let p=0;p<r;p+=1){const v=i+p;s.includes(v)||m.push(v)}const g=h();return s.includes(g)||m.push(g),s.map(p=>d(p)&&p!==g?m.pop():p)},dpe=t=>Number.isInteger(t)?t:0,hpe=(t,e,n)=>{const[r,i]=$a({overscan:0,positionCount:0,maxScrollPosition:0,currentPosition:0});Ji(()=>{if(!t.isMeasured)return;const a=e.totalItemCount,l=t.itemSize.main,c=t.target.main;Gn(()=>{const h=n()??Math.max(Math.ceil(180/l),2),f=Nb(h);i("overscan",f);const m=Math.ceil(c/l),g=dpe(Math.min(m+f*2,a));i("positionCount",g),i("maxScrollPosition",a-g)})}),Ji(()=>{if(!t.isMeasured)return;const a=t.mainAxisScrollValue-t.container.offsetMain,c=Math.floor(a/t.itemSize.main)-r.overscan,d=Math.min(Math.max(0,c),r.maxScrollPosition);i("currentPosition",d)});let s=0;return ke((a=[])=>{if(!t.isMeasured)return a;const l=r.currentPosition,c=upe({total:e.totalItemCount,focusPosition:e.focusPosition,positionCount:r.positionCount,startPosition:l,prevStartPosition:s,prevPositions:a});return s=l,c})};var fpe=I("<div>");const mpe=Math.random().toString(36).slice(2,1/0),Ax=`virtual-container-${mpe}`;let Jg;const gpe=()=>{Jg||(Jg=document.createElement("style"),Jg.type="text/css",Jg.textContent=`
      .${Ax} {
        position: relative !important;
        flex-shrink: 0 !important;
      }
      .${Ax} > * {
        will-change: transform !important;
        box-sizing: border-box !important;
        contain: strict !important;
        position: absolute !important;
        top: 0 !important;
        left: 0 !important;
      }
    `,document.head.appendChild(Jg))};function eu(t){gpe();const[e,n]=$a({focusPosition:0,mainAxis:{totalItemCount:0,focusPosition:0,scrollValue:0},crossAxis:{totalItemCount:0}}),{containerEl:r,setContainerRefEl:i,isDirectionHorizontal:s,measurements:o}=lpe(t),a=()=>t.items&&t.items.length||0;Ji(()=>{if(!o.isMeasured)return;const O=Nb(t.crossAxisCount?.(o,a())||0);n("crossAxis",{totalItemCount:Math.max(1,O)})}),Ji(()=>{if(!o.isMeasured)return;const O=a(),S=e.crossAxis.totalItemCount,T=Math.ceil(O/S);n("mainAxis",{totalItemCount:Nb(T)}),n("crossAxis",{totalItemCount:S,positions:Qy(0,e.crossAxis.totalItemCount)})}),Ji(()=>{const O=Math.floor(e.focusPosition/e.crossAxis.totalItemCount);n("mainAxis","focusPosition",Nb(O))});const l=hpe(o,e.mainAxis,()=>t.overscan),c=()=>{const O=e.mainAxis.totalItemCount*o.itemSize.main,S=s()?"width":"height",T=s()?"height":"width";return{[S]:`${O}px`,[T]:"100%"}},d=(O,S=0)=>{const T=o.itemSize,$=T.main*O,M=T.cross*S;let P=M,L=$,j=T.cross,te=T.main;return s()&&(P=$,L=M,j=T.main,te=T.cross),{transform:`translate(${P}px, ${L}px)`,width:j?`${j}px`:"",height:te?`${te}px`:""}},h=ke(()=>Qy(0,e.crossAxis.totalItemCount)),f=ke(()=>t.items||[]),m=(O,S)=>O*e.crossAxis.totalItemCount+S,g=O=>u(JT,{get each(){return l()},children:S=>{const T=ke(()=>{const $=S(),M=O.crossPos;return M===void 0?$:m($,M)});return u(X,{get when(){return T()<f().length},get children(){return u(pO,{get component(){return t.children},get items(){return f()},get item(){return f()[T()]},get index(){return T()},get tabIndex(){return T()===e.focusPosition?0:-1},get style(){return d(S(),O.crossPos)}})}})}}),p=xv(()=>u(X,{get when(){return e.crossAxis.totalItemCount>1},get fallback(){return u(g,{})},get children(){return u(JT,{get each(){return h()},children:O=>u(g,{get crossPos(){return O()}})})}})),v=()=>{const O=h(),S=l(),$=p().findIndex(M=>M?.matches(":focus-within, :focus"));if($===-1)return-1;if(e.crossAxis.totalItemCount>1){const M=Math.floor($/S.length),P=$%S.length,L=O[M],j=S[P];return m(j,L)}return S[$]},b=(O,S)=>{const T=e.focusPosition;let $=T%e.crossAxis.totalItemCount,M=Math.floor(T/e.crossAxis.totalItemCount);S?M+=O:$+=O;const P=m(M,$);if(P<0||P>=a())return;const L=h().indexOf($);if(L===-1)return;n("focusPosition",P);const j=p(),te=l(),U=te.indexOf(M);if(U===-1)return;const N=L*te.length+U,z=j[N];z&&queueMicrotask(()=>{z.focus(),z.scrollIntoView({block:"nearest"})})},y=O=>{const{code:S}=O,T=S==="ArrowUp",$=S==="ArrowDown",M=S==="ArrowLeft",P=S==="ArrowRight",L=T||$,j=M||P;if(L||j)b($||P?1:-1,s()?j:L);else if(S==="Enter"){if(!rpe(r()))return}else return;O.preventDefault()},C=()=>{const O=v();n("focusPosition",O===-1?0:O)},x=async()=>{queueMicrotask(()=>{tpe(r())||n("focusPosition",0)})};return(()=>{var O=fpe();return O.$$focusout=x,O.$$focusin=C,O.$$keydown=y,Fe(i,O),V(O,p),Te(S=>{var T=`${Ax} ${t.className||""}`,$=c(),M=t.role||"list";return T!==S.e&&(O.className=S.e=T),S.t=xd(O,$,S.t),M!==S.a&&$t(O,"role",S.a=M),S},{e:void 0,t:void 0,a:void 0}),O})()}Tr(["keydown","focusin","focusout"]);let Px=[],iN=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,n=0;e<t.length;e++)(e%2?iN:Px).push(n=n+t[e])})();function ppe(t){if(t<768)return!1;for(let e=0,n=Px.length;;){let r=e+n>>1;if(t<Px[r])n=r;else if(t>=iN[r])e=r+1;else return!0;if(e==n)return!1}}function G7(t){return t>=127462&&t<=127487}const Z7=8205;function vpe(t,e,n=!0,r=!0){return(n?sN:bpe)(t,e,r)}function sN(t,e,n){if(e==t.length)return e;e&&oN(t.charCodeAt(e))&&aN(t.charCodeAt(e-1))&&e--;let r=xk(t,e);for(e+=K7(r);e<t.length;){let i=xk(t,e);if(r==Z7||i==Z7||n&&ppe(i))e+=K7(i),r=i;else if(G7(i)){let s=0,o=e-2;for(;o>=0&&G7(xk(t,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function bpe(t,e,n){for(;e>0;){let r=sN(t,e-2,n);if(r<e)return r;e--}return 0}function xk(t,e){let n=t.charCodeAt(e);if(!aN(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return oN(r)?(n-55296<<10)+(r-56320)+65536:n}function oN(t){return t>=56320&&t<57344}function aN(t){return t>=55296&&t<56320}function K7(t){return t<65536?1:2}let zn=class lN{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=Qm(this,e,n);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),Fb.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=Qm(this,e,n);let r=[];return this.decompose(e,n,r,0),Fb.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new Xp(this),s=new Xp(e);for(let o=n,a=n;;){if(i.next(o),s.next(o),o=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(a+=i.value.length,i.done||a>=r)return!0}}iter(e=1){return new Xp(this,e)}iterRange(e,n=this.length){return new cN(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new uN(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?lN.empty:e.length<=32?new qr(e):Fb.from(qr.split(e,[]))}};class qr extends zn{constructor(e,n=ype(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let s=0;;s++){let o=this.text[s],a=i+o.length;if((n?r:a)>=e)return new Ope(i,a,r,o);i=a+1,r++}}decompose(e,n,r,i){let s=e<=0&&n>=this.length?this:new qr(J7(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let o=r.pop(),a=Bb(s.text,o.text.slice(),0,s.length);if(a.length<=32)r.push(new qr(a,o.length+s.length));else{let l=a.length>>1;r.push(new qr(a.slice(0,l)),new qr(a.slice(l)))}}else r.push(s)}replace(e,n,r){if(!(r instanceof qr))return super.replace(e,n,r);[e,n]=Qm(this,e,n);let i=Bb(this.text,Bb(r.text,J7(this.text,0,e)),n),s=this.length+r.length-(n-e);return i.length<=32?new qr(i,s):Fb.from(qr.split(i,[]),s)}sliceString(e,n=this.length,r=`
`){[e,n]=Qm(this,e,n);let i="";for(let s=0,o=0;s<=n&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(i+=r),e<l&&n>s&&(i+=a.slice(Math.max(0,e-s),n-s)),s=l+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let s of e)r.push(s),i+=s.length+1,r.length==32&&(n.push(new qr(r,i)),r=[],i=-1);return i>-1&&n.push(new qr(r,i)),n}}let Fb=class $f extends zn{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let s=0;;s++){let o=this.children[s],a=i+o.length,l=r+o.lines-1;if((n?l:a)>=e)return o.lineInner(e,n,r,i);i=a+1,r=l+1}}decompose(e,n,r,i){for(let s=0,o=0;o<=n&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&n>=o){let c=i&((o<=e?1:0)|(l>=n?2:0));o>=e&&l<=n&&!c?r.push(a):a.decompose(e-o,n-o,r,c)}o=l+1}}replace(e,n,r){if([e,n]=Qm(this,e,n),r.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let o=this.children[i],a=s+o.length;if(e>=s&&n<=a){let l=o.replace(e-s,n-s,r),c=this.lines-o.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let d=this.children.slice();return d[i]=l,new $f(d,this.length-(n-e)+r.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=Qm(this,e,n);let i="";for(let s=0,o=0;s<this.children.length&&o<=n;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(i+=r),e<l&&n>o&&(i+=a.sliceString(e-o,n-o,r)),o=l+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof $f))return 0;let r=0,[i,s,o,a]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,s+=n){if(i==o||s==a)return r;let l=this.children[i],c=e.children[s];if(l!=c)return r+l.scanIdentical(c,n);r+=l.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let m of e)r+=m.lines;if(r<32){let m=[];for(let g of e)g.flatten(m);return new qr(m,n)}let i=Math.max(32,r>>5),s=i<<1,o=i>>1,a=[],l=0,c=-1,d=[];function h(m){let g;if(m.lines>s&&m instanceof $f)for(let p of m.children)h(p);else m.lines>o&&(l>o||!l)?(f(),a.push(m)):m instanceof qr&&l&&(g=d[d.length-1])instanceof qr&&m.lines+g.lines<=32?(l+=m.lines,c+=m.length+1,d[d.length-1]=new qr(g.text.concat(m.text),g.length+1+m.length)):(l+m.lines>i&&f(),l+=m.lines,c+=m.length+1,d.push(m))}function f(){l!=0&&(a.push(d.length==1?d[0]:$f.from(d,c)),c=-1,l=d.length=0)}for(let m of e)h(m);return f(),a.length==1?a[0]:new $f(a,n)}};zn.empty=new qr([""],0);function ype(t){let e=-1;for(let n of t)e+=n.length+1;return e}function Bb(t,e,n=0,r=1e9){for(let i=0,s=0,o=!0;s<t.length&&i<=r;s++){let a=t[s],l=i+a.length;l>=n&&(l>r&&(a=a.slice(0,r-i)),i<n&&(a=a.slice(n-i)),o?(e[e.length-1]+=a,o=!1):e.push(a)),i=l+1}return e}function J7(t,e,n){return Bb(t,[""],e,n)}class Xp{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof qr?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],s=this.offsets[r],o=s>>1,a=i instanceof qr?i.text.length:i.children.length;if(o==(n>0?a:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof qr){let l=i.text[o+(n<0?-1:0)];if(this.offsets[r]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[o+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof qr?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class cN{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new Xp(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class uN{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(zn.prototype[Symbol.iterator]=function(){return this.iter()},Xp.prototype[Symbol.iterator]=cN.prototype[Symbol.iterator]=uN.prototype[Symbol.iterator]=function(){return this});let Ope=class{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}};function Qm(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}function Ps(t,e,n=!0,r=!0){return vpe(t,e,n,r)}function wpe(t){return t>=56320&&t<57344}function kpe(t){return t>=55296&&t<56320}function eh(t,e){let n=t.charCodeAt(e);if(!kpe(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return wpe(r)?(n-55296<<10)+(r-56320)+65536:n}function Spe(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function Lf(t){return t<65536?1:2}const Rx=/\r\n?|\n/;var Ds=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(Ds||(Ds={}));class Gl{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let s=this.sections[n++],o=this.sections[n++];o<0?(e(r,i,s),i+=s):i+=o,r+=s}}iterChangedRanges(e,n=!1){Mx(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new Gl(e)}composeDesc(e){return this.empty?e:e.empty?this:dN(this,e)}mapDesc(e,n=!1){return e.empty?this:Ix(this,e,n)}mapPos(e,n=-1,r=Ds.Simple){let i=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],c=i+a;if(l<0){if(c>e)return s+(e-i);s+=a}else{if(r!=Ds.Simple&&c>=e&&(r==Ds.TrackDel&&i<e&&c>e||r==Ds.TrackBefore&&i<e||r==Ds.TrackAfter&&c>e))return null;if(c>e||c==e&&n<0&&!a)return e==i||n<0?s:s+l;s+=l}i=c}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let s=this.sections[r++],o=this.sections[r++],a=i+s;if(o>=0&&i<=n&&a>=e)return i<e&&a>n?"cover":!0;i=a}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Gl(e)}static create(e){return new Gl(e)}}class gi extends Gl{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Mx(this,(n,r,i,s,o)=>e=e.replace(i,i+(r-n),o),!1),e}mapDesc(e,n=!1){return Ix(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,s=0;i<n.length;i+=2){let o=n[i],a=n[i+1];if(a>=0){n[i]=a,n[i+1]=o;let l=i>>1;for(;r.length<l;)r.push(zn.empty);r.push(o?e.slice(s,s+o):zn.empty)}s+=o}return new gi(n,r)}compose(e){return this.empty?e:e.empty?this:dN(this,e,!0)}map(e,n=!1){return e.empty?this:Ix(this,e,n,!0)}iterChanges(e,n=!1){Mx(this,e,n)}get desc(){return Gl.create(this.sections)}filter(e){let n=[],r=[],i=[],s=new I0(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let d=Math.min(s.len,l-a);us(i,d,-1);let h=s.ins==-1?-1:s.off==0?s.ins:0;us(n,d,h),h>0&&Hu(r,n,s.text),s.forward(d),a+=d}let c=e[o++];for(;a<c;){if(s.done)break e;let d=Math.min(s.len,c-a);us(n,d,-1),us(i,d,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(d),a+=d}}return{changes:new gi(n,r),filtered:Gl.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],s=[],o=0,a=null;function l(d=!1){if(!d&&!i.length)return;o<n&&us(i,n-o,-1);let h=new gi(i,s);a=a?a.compose(h.map(a)):h,i=[],s=[],o=0}function c(d){if(Array.isArray(d))for(let h of d)c(h);else if(d instanceof gi){if(d.length!=n)throw new RangeError(`Mismatched change set length (got ${d.length}, expected ${n})`);l(),a=a?a.compose(d.map(a)):d}else{let{from:h,to:f=h,insert:m}=d;if(h>f||h<0||f>n)throw new RangeError(`Invalid change range ${h} to ${f} (in doc of length ${n})`);let g=m?typeof m=="string"?zn.of(m.split(r||Rx)):m:zn.empty,p=g.length;if(h==f&&p==0)return;h<o&&l(),h>o&&us(i,h-o,-1),us(i,f-h,p),Hu(s,i,g),o=f}}return c(e),l(!a),a}static empty(e){return new gi(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")n.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)n.push(s[0],0);else{for(;r.length<i;)r.push(zn.empty);r[i]=zn.of(s.slice(1)),n.push(s[0],r[i].length)}}}return new gi(n,r)}static createSet(e,n){return new gi(e,n)}}function us(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:i>=0&&e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function Hu(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(zn.empty);t.push(n)}}function Mx(t,e,n){let r=t.inserted;for(let i=0,s=0,o=0;o<t.sections.length;){let a=t.sections[o++],l=t.sections[o++];if(l<0)i+=a,s+=a;else{let c=i,d=s,h=zn.empty;for(;c+=a,d+=l,l&&r&&(h=h.append(r[o-2>>1])),!(n||o==t.sections.length||t.sections[o+1]<0);)a=t.sections[o++],l=t.sections[o++];e(i,c,s,d,h),i=c,s=d}}}function Ix(t,e,n,r=!1){let i=[],s=r?[]:null,o=new I0(t),a=new I0(e);for(let l=-1;;){if(o.done&&a.len||a.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&a.ins==-1){let c=Math.min(o.len,a.len);us(i,c,-1),o.forward(c),a.forward(c)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!n))){let c=a.len;for(us(i,a.ins,-1);c;){let d=Math.min(o.len,c);o.ins>=0&&l<o.i&&o.len<=d&&(us(i,0,o.ins),s&&Hu(s,i,o.text),l=o.i),o.forward(d),c-=d}a.next()}else if(o.ins>=0){let c=0,d=o.len;for(;d;)if(a.ins==-1){let h=Math.min(d,a.len);c+=h,d-=h,a.forward(h)}else if(a.ins==0&&a.len<d)d-=a.len,a.next();else break;us(i,c,l<o.i?o.ins:0),s&&l<o.i&&Hu(s,i,o.text),l=o.i,o.forward(o.len-d)}else{if(o.done&&a.done)return s?gi.createSet(i,s):Gl.create(i);throw new Error("Mismatched change set lengths")}}}function dN(t,e,n=!1){let r=[],i=n?[]:null,s=new I0(t),o=new I0(e);for(let a=!1;;){if(s.done&&o.done)return i?gi.createSet(r,i):Gl.create(r);if(s.ins==0)us(r,s.len,0,a),s.next();else if(o.len==0&&!o.done)us(r,0,o.ins,a),i&&Hu(i,r,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),c=r.length;if(s.ins==-1){let d=o.ins==-1?-1:o.off?0:o.ins;us(r,l,d,a),i&&d&&Hu(i,r,o.text)}else o.ins==-1?(us(r,s.off?0:s.len,l,a),i&&Hu(i,r,s.textBit(l))):(us(r,s.off?0:s.len,o.off?0:o.ins,a),i&&!o.off&&Hu(i,r,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||r.length>c),s.forward2(l),o.forward(l)}}}}class I0{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?zn.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?zn.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}let y1=class $x{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new $x(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return Ue.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return Ue.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Ue.range(e.anchor,e.head)}static create(e,n,r){return new $x(e,n,r)}};class Ue{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:Ue.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Ue([this.main],0)}addRange(e,n=!0){return Ue.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,Ue.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Ue(e.ranges.map(n=>y1.fromJSON(n)),e.main)}static single(e,n=e){return new Ue([Ue.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=r:s.from<r)return Ue.normalized(e.slice(),n);r=s.to}return new Ue(e,n)}static cursor(e,n=0,r,i){return y1.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,n,r,i){let s=(r??16777215)<<6|(i==null?7:Math.min(6,i));return n<e?y1.create(n,e,48|s):y1.create(e,n,(n>e?8:0)|s)}static normalized(e,n=0){let r=e[n];e.sort((i,s)=>i.from-s.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let s=e[i],o=e[i-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);i<=n&&n--,e.splice(--i,2,s.anchor>s.head?Ue.range(l,a):Ue.range(a,l))}}return new Ue(e,n)}}function hN(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let lC=0;class Ut{constructor(e,n,r,i,s){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=lC++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new Ut(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:cC),!!e.static,e.enables)}of(e){return new zb([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new zb(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new zb(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function cC(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class zb{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=lC++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,c=!1,d=[];for(let h of this.dependencies)h=="doc"?l=!0:h=="selection"?c=!0:((n=e[h.id])!==null&&n!==void 0?n:1)&1||d.push(e[h.id]);return{create(h){return h.values[o]=r(h),1},update(h,f){if(l&&f.docChanged||c&&(f.docChanged||f.selection)||Lx(h,d)){let m=r(h);if(a?!e8(m,h.values[o],i):!i(m,h.values[o]))return h.values[o]=m,1}return 0},reconfigure:(h,f)=>{let m,g=f.config.address[s];if(g!=null){let p=Vy(f,g);if(this.dependencies.every(v=>v instanceof Ut?f.facet(v)===h.facet(v):v instanceof La?f.field(v,!1)==h.field(v,!1):!0)||(a?e8(m=r(h),p,i):i(m=r(h),p)))return h.values[o]=p,0}else m=r(h);return h.values[o]=m,1}}}}function e8(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function Lx(t,e){let n=!1;for(let r of e)Yp(t,r)&1&&(n=!0);return n}function xpe(t,e,n){let r=n.map(l=>t[l.id]),i=n.map(l=>l.type),s=r.filter(l=>!(l&1)),o=t[e.id]>>1;function a(l){let c=[];for(let d=0;d<r.length;d++){let h=Vy(l,r[d]);if(i[d]==2)for(let f of h)c.push(f);else c.push(h)}return e.combine(c)}return{create(l){for(let c of r)Yp(l,c);return l.values[o]=a(l),1},update(l,c){if(!Lx(l,s))return 0;let d=a(l);return e.compare(d,l.values[o])?0:(l.values[o]=d,1)},reconfigure(l,c){let d=Lx(l,r),h=c.config.facets[e.id],f=c.facet(e);if(h&&!d&&cC(n,h))return l.values[o]=f,0;let m=a(l);return e.compare(m,f)?(l.values[o]=f,0):(l.values[o]=m,1)}}}const O1=Ut.define({static:!0});class La{constructor(e,n,r,i,s){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let n=new La(lC++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(O1).find(r=>r.field==this);return(n?.create||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let s=r.values[n],o=this.updateF(s,i);return this.compareF(s,o)?0:(r.values[n]=o,1)},reconfigure:(r,i)=>{let s=r.facet(O1),o=i.facet(O1),a;return(a=s.find(l=>l.field==this))&&a!=o.find(l=>l.field==this)?(r.values[n]=a.create(r),1):i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}}init(e){return[this,O1.of({field:this,create:e})]}get extension(){return this}}const oh={lowest:4,low:3,default:2,high:1,highest:0};function ep(t){return e=>new fN(e,t)}const nf={highest:ep(oh.highest),high:ep(oh.high),default:ep(oh.default),low:ep(oh.low),lowest:ep(oh.lowest)};class fN{constructor(e,n){this.inner=e,this.prec=n}}class Iv{of(e){return new Nx(this,e)}reconfigure(e){return Iv.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Nx{constructor(e,n){this.compartment=e,this.inner=n}}class Uy{constructor(e,n,r,i,s,o){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],s=Object.create(null),o=new Map;for(let f of _pe(e,n,o))f instanceof La?i.push(f):(s[f.facet.id]||(s[f.facet.id]=[])).push(f);let a=Object.create(null),l=[],c=[];for(let f of i)a[f.id]=c.length<<1,c.push(m=>f.slot(m));let d=r?.config.facets;for(let f in s){let m=s[f],g=m[0].facet,p=d&&d[f]||[];if(m.every(v=>v.type==0))if(a[g.id]=l.length<<1|1,cC(p,m))l.push(r.facet(g));else{let v=g.combine(m.map(b=>b.value));l.push(r&&g.compare(v,r.facet(g))?r.facet(g):v)}else{for(let v of m)v.type==0?(a[v.id]=l.length<<1|1,l.push(v.value)):(a[v.id]=c.length<<1,c.push(b=>v.dynamicSlot(b)));a[g.id]=c.length<<1,c.push(v=>xpe(v,g,m))}}let h=c.map(f=>f(a));return new Uy(e,o,h,a,l,s)}}function _pe(t,e,n){let r=[[],[],[],[],[]],i=new Map;function s(o,a){let l=i.get(o);if(l!=null){if(l<=a)return;let c=r[l].indexOf(o);c>-1&&r[l].splice(c,1),o instanceof Nx&&n.delete(o.compartment)}if(i.set(o,a),Array.isArray(o))for(let c of o)s(c,a);else if(o instanceof Nx){if(n.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(o.compartment)||o.inner;n.set(o.compartment,c),s(c,a)}else if(o instanceof fN)s(o.inner,o.prec);else if(o instanceof La)r[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof zb)r[a].push(o),o.facet.extensions&&s(o.facet.extensions,oh.default);else{let c=o.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(c,a)}}return s(t,oh.default),r.reduce((o,a)=>o.concat(a))}function Yp(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function Vy(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const mN=Ut.define(),Fx=Ut.define({combine:t=>t.some(e=>e),static:!0}),gN=Ut.define({combine:t=>t.length?t[0]:void 0,static:!0}),pN=Ut.define(),vN=Ut.define(),bN=Ut.define(),yN=Ut.define({combine:t=>t.length?t[0]:!1});class fu{constructor(e,n){this.type=e,this.value=n}static define(){return new Cpe}}class Cpe{of(e){return new fu(this,e)}}class Epe{constructor(e){this.map=e}of(e){return new Xn(this,e)}}class Xn{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new Xn(this.type,n)}is(e){return this.type==e}static define(e={}){return new Epe(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let s=i.map(n);s&&r.push(s)}return r}}Xn.reconfigure=Xn.define();Xn.appendConfig=Xn.define();class ii{constructor(e,n,r,i,s,o){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,r&&hN(r,n.newLength),s.some(a=>a.type==ii.time)||(this.annotations=s.concat(ii.time.of(Date.now())))}static create(e,n,r,i,s,o){return new ii(e,n,r,i,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(ii.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}ii.time=fu.define();ii.userEvent=fu.define();ii.addToHistory=fu.define();ii.remote=fu.define();function Tpe(t,e){let n=[];for(let r=0,i=0;;){let s,o;if(r<t.length&&(i==e.length||e[i]>=t[r]))s=t[r++],o=t[r++];else if(i<e.length)s=e[i++],o=e[i++];else return n;!n.length||n[n.length-1]<s?n.push(s,o):n[n.length-1]<o&&(n[n.length-1]=o)}}function ON(t,e,n){var r;let i,s,o;return n?(i=e.changes,s=gi.empty(e.changes.length),o=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),s=t.changes.mapDesc(e.changes,!0),o=t.changes.compose(i)),{changes:o,selection:e.selection?e.selection.map(s):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:Xn.mapEffects(t.effects,i).concat(Xn.mapEffects(e.effects,s)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function Bx(t,e,n){let r=e.selection,i=fm(e.annotations);return e.userEvent&&(i=i.concat(ii.userEvent.of(e.userEvent))),{changes:e.changes instanceof gi?e.changes:gi.of(e.changes||[],n,t.facet(gN)),selection:r&&(r instanceof Ue?r:Ue.single(r.anchor,r.head)),effects:fm(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function wN(t,e,n){let r=Bx(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(n=!1);let o=!!e[s].sequential;r=ON(r,Bx(t,e[s],o?r.changes.newLength:t.doc.length),o)}let i=ii.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return Ape(n?Dpe(i):i)}function Dpe(t){let e=t.startState,n=!0;for(let i of e.facet(pN)){let s=i(t);if(s===!1){n=!1;break}Array.isArray(s)&&(n=n===!0?s:Tpe(n,s))}if(n!==!0){let i,s;if(n===!1)s=t.changes.invertedDesc,i=gi.empty(e.doc.length);else{let o=t.changes.filter(n);i=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}t=ii.create(e,i,t.selection&&t.selection.map(s),Xn.mapEffects(t.effects,s),t.annotations,t.scrollIntoView)}let r=e.facet(vN);for(let i=r.length-1;i>=0;i--){let s=r[i](t);s instanceof ii?t=s:Array.isArray(s)&&s.length==1&&s[0]instanceof ii?t=s[0]:t=wN(e,fm(s),!1)}return t}function Ape(t){let e=t.startState,n=e.facet(bN),r=t;for(let i=n.length-1;i>=0;i--){let s=n[i](t);s&&Object.keys(s).length&&(r=ON(r,Bx(e,s,t.changes.newLength),!0))}return r==t?t:ii.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const Ppe=[];function fm(t){return t==null?Ppe:Array.isArray(t)?t:[t]}var Vc=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(Vc||(Vc={}));const Rpe=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let zx;try{zx=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Mpe(t){if(zx)return zx.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||Rpe.test(n)))return!0}return!1}function Ipe(t){return e=>{if(!/\S/.test(e))return Vc.Space;if(Mpe(e))return Vc.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return Vc.Word;return Vc.Other}}class qn{constructor(e,n,r,i,s,o){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)Yp(this,a<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return Yp(this,r),Vy(this,r)}update(...e){return wN(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let a of e.effects)a.is(Iv.reconfigure)?(n&&(i=new Map,n.compartments.forEach((l,c)=>i.set(c,l)),n=null),i.set(a.value.compartment,a.value.extension)):a.is(Xn.reconfigure)?(n=null,r=a.value):a.is(Xn.appendConfig)&&(n=null,r=fm(r).concat(a.value));let s;n?s=e.startState.values.slice():(n=Uy.resolve(r,i,this),s=new qn(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(l,c)=>c.reconfigure(l,this),null).values);let o=e.startState.facet(Fx)?e.newSelection:e.newSelection.asSingle();new qn(n,e.newDoc,o,s,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:Ue.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),s=[r.range],o=fm(r.effects);for(let a=1;a<n.ranges.length;a++){let l=e(n.ranges[a]),c=this.changes(l.changes),d=c.map(i);for(let f=0;f<a;f++)s[f]=s[f].map(d);let h=i.mapDesc(c,!0);s.push(l.range.map(h)),i=i.compose(d),o=Xn.mapEffects(o,d).concat(Xn.mapEffects(fm(l.effects),h))}return{changes:i,selection:Ue.create(s,n.mainIndex),effects:o}}changes(e=[]){return e instanceof gi?e:gi.of(e,this.doc.length,this.facet(qn.lineSeparator))}toText(e){return zn.of(e.split(this.facet(qn.lineSeparator)||Rx))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(Yp(this,n),Vy(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof La&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let s in r)if(Object.prototype.hasOwnProperty.call(e,s)){let o=r[s],a=e[s];i.push(o.init(l=>o.spec.fromJSON(a,l)))}}return qn.create({doc:e.doc,selection:Ue.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=Uy.resolve(e.extensions||[],new Map),r=e.doc instanceof zn?e.doc:zn.of((e.doc||"").split(n.staticFacet(qn.lineSeparator)||Rx)),i=e.selection?e.selection instanceof Ue?e.selection:Ue.single(e.selection.anchor,e.selection.head):Ue.single(0);return hN(i,r.length),n.staticFacet(Fx)||(i=i.asSingle()),new qn(n,r,i,n.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(qn.tabSize)}get lineBreak(){return this.facet(qn.lineSeparator)||`
`}get readOnly(){return this.facet(yN)}phrase(e,...n){for(let r of this.facet(qn.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>n.length?r:n[s-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let s of this.facet(mN))for(let o of s(this,n,r))Object.prototype.hasOwnProperty.call(o,e)&&i.push(o[e]);return i}charCategorizer(e){return Ipe(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-r,a=e-r;for(;o>0;){let l=Ps(n,o,!1);if(s(n.slice(l,o))!=Vc.Word)break;o=l}for(;a<i;){let l=Ps(n,a);if(s(n.slice(a,l))!=Vc.Word)break;a=l}return o==a?null:Ue.range(o+r,a+r)}}qn.allowMultipleSelections=Fx;qn.tabSize=Ut.define({combine:t=>t.length?t[0]:4});qn.lineSeparator=gN;qn.readOnly=yN;qn.phrases=Ut.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});qn.languageData=mN;qn.changeFilter=pN;qn.transactionFilter=vN;qn.transactionExtender=bN;Iv.reconfigure=Xn.define();function kN(t,e,n={}){let r={};for(let i of t)for(let s of Object.keys(i)){let o=i[s],a=r[s];if(a===void 0)r[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(n,s))r[s]=n[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class Mh{eq(e){return this==e}range(e,n=e){return Qx.create(e,n,this)}}Mh.prototype.startSide=Mh.prototype.endSide=0;Mh.prototype.point=!1;Mh.prototype.mapMode=Ds.TrackDel;let Qx=class SN{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new SN(e,n,r)}};function Ux(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class uC{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let s=r?this.to:this.from;for(let o=i,a=s.length;;){if(o==a)return o;let l=o+a>>1,c=s[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-n;if(l==o)return c>=0?o:a;c>=0?a=l:o=l+1}}between(e,n,r,i){for(let s=this.findIndex(n,-1e9,!0),o=this.findIndex(r,1e9,!1,s);s<o;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,n){let r=[],i=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],d=this.from[l]+e,h=this.to[l]+e,f,m;if(d==h){let g=n.mapPos(d,c.startSide,c.mapMode);if(g==null||(f=m=g,c.startSide!=c.endSide&&(m=n.mapPos(d,c.endSide),m<f)))continue}else if(f=n.mapPos(d,c.startSide),m=n.mapPos(h,c.endSide),f>m||f==m&&c.startSide>0&&c.endSide<=0)continue;(m-f||c.endSide-c.startSide)<0||(o<0&&(o=f),c.point&&(a=Math.max(a,m-f)),r.push(c),i.push(f-o),s.push(m-o))}return{mapped:r.length?new uC(i,s,r,a):null,pos:o}}}class xr{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new xr(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:s=this.length}=e,o=e.filter;if(n.length==0&&!o)return this;if(r&&(n=n.slice().sort(Ux)),this.isEmpty)return n.length?xr.of(n):this;let a=new xN(this,null,-1).goto(0),l=0,c=[],d=new Ih;for(;a.value||l<n.length;)if(l<n.length&&(a.from-n[l].from||a.startSide-n[l].value.startSide)>=0){let h=n[l++];d.addInner(h.from,h.to,h.value)||c.push(h)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(a.chunkIndex)<n[l].from)&&(!o||i>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&d.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||i>a.to||s<a.from||o(a.from,a.to,a.value))&&(d.addInner(a.from,a.to,a.value)||c.push(Qx.create(a.from,a.to,a.value))),a.next());return d.finishInner(this.nextLayer.isEmpty&&!c.length?xr.empty:this.nextLayer.update({add:c,filter:o,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],c=e.touchesRange(a,a+l.length);if(c===!1)i=Math.max(i,l.maxPoint),n.push(l),r.push(e.mapPos(a));else if(c===!0){let{mapped:d,pos:h}=l.map(a,e);d&&(i=Math.max(i,d.maxPoint),n.push(d),r.push(h))}}let s=this.nextLayer.map(e);return n.length==0?s:new xr(r,n,s||xr.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],o=this.chunk[i];if(n>=s&&e<=s+o.length&&o.between(s,e-s,n-s,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return $0.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return $0.from(e).goto(n)}static compare(e,n,r,i,s=-1){let o=e.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),a=n.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=s),l=t8(o,a,r),c=new tp(o,l,s),d=new tp(a,l,s);r.iterGaps((h,f,m)=>n8(c,h,d,f,m,i)),r.empty&&r.length==0&&n8(c,0,d,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=999999999);let s=e.filter(d=>!d.isEmpty&&n.indexOf(d)<0),o=n.filter(d=>!d.isEmpty&&e.indexOf(d)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=t8(s,o),l=new tp(s,a,0).goto(r),c=new tp(o,a,0).goto(r);for(;;){if(l.to!=c.to||!Vx(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>i)return!0;l.next(),c.next()}}static spans(e,n,r,i,s=-1){let o=new tp(e,null,s).goto(n),a=n,l=o.openStart;for(;;){let c=Math.min(o.to,r);if(o.point){let d=o.activeForPoint(o.to),h=o.pointFrom<n?d.length+1:o.point.startSide<0?d.length:Math.min(d.length,l);i.point(a,c,o.point,d,h,o.pointRank),l=Math.min(o.openEnd(c),d.length)}else c>a&&(i.span(a,c,o.active,l),l=o.openEnd(c));if(o.to>r)return l+(o.point&&o.to>r?1:0);a=o.to,o.next()}}static of(e,n=!1){let r=new Ih;for(let i of e instanceof Qx?[e]:n?$pe(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return xr.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=xr.empty;i=i.nextLayer)n=new xr(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}}xr.empty=new xr([],[],null,-1);function $pe(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(Ux(e,r)>0)return t.slice().sort(Ux);e=r}return t}xr.empty.nextLayer=xr.empty;class Ih{finishChunk(e){this.chunks.push(new uC(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new Ih)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(xr.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=xr.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function t8(t,e,n){let r=new Map;for(let s of t)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&r.set(s.chunk[o],s.chunkPos[o]);let i=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=r.get(s.chunk[o]);a!=null&&(n?n.mapPos(a):a)==s.chunkPos[o]&&!n?.touchesRange(a,a+s.chunk[o].length)&&i.add(s.chunk[o])}return i}class xN{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class $0{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=r&&i.push(new xN(o,n,r,s));return i.length==1?i[0]:new $0(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)_k(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)_k(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),_k(this.heap,0)}}}function _k(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class tp{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=$0.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){w1(this.active,e),w1(this.activeTo,e),w1(this.activeRank,e),this.minActive=r8(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:s}=this.cursor;for(;n<this.activeRank.length&&(s-this.activeRank[n]||i-this.activeTo[n])>0;)n++;k1(this.active,n,r),k1(this.activeTo,n,i),k1(this.activeRank,n,s),e&&k1(e,n,this.cursor.from),this.minActive=r8(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&w1(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function n8(t,e,n,r,i,s){t.goto(e),n.goto(r);let o=r+i,a=r,l=r-e;for(;;){let c=t.to+l-n.to,d=c||t.endSide-n.endSide,h=d<0?t.to+l:n.to,f=Math.min(h,o);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&Vx(t.activeForPoint(t.to),n.activeForPoint(n.to))||s.comparePoint(a,f,t.point,n.point):f>a&&!Vx(t.active,n.active)&&s.compareRange(a,f,t.active,n.active),h>o)break;(c||t.openEnd!=n.openEnd)&&s.boundChange&&s.boundChange(h),a=h,d<=0&&t.next(),d>=0&&n.next()}}function Vx(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function w1(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function k1(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function r8(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function tu(t,e,n=t.length){let r=0;for(let i=0;i<n&&i<t.length;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=Ps(t,i));return r}function Lpe(t,e,n,r){for(let i=0,s=0;;){if(s>=e)return i;if(i==t.length)break;s+=t.charCodeAt(i)==9?n-s%n:1,i=Ps(t,i)}return t.length}const jx="",i8=typeof Symbol>"u"?"__"+jx:Symbol.for(jx),qx=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),s8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class hd{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,c){let d=[],h=/^@(\w+)\b/.exec(o[0]),f=h&&h[1]=="keyframes";if(h&&a==null)return l.push(o[0]+";");for(let m in a){let g=a[m];if(/&/.test(m))s(m.split(/,\s*/).map(p=>o.map(v=>p.replace(/&/,v))).reduce((p,v)=>p.concat(v)),g,l);else if(g&&typeof g=="object"){if(!h)throw new RangeError("The value of a property ("+m+") should be a primitive value.");s(i(m),g,d,f)}else g!=null&&d.push(m.replace(/_.*/,"").replace(/[A-Z]/g,p=>"-"+p.toLowerCase())+": "+g+";")}(d.length||f)&&l.push((r&&!h&&!c?o.map(r):o).join(", ")+" {"+d.join(" ")+"}")}for(let o in e)s(i(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=s8[i8]||1;return s8[i8]=e+1,jx+e.toString(36)}static mount(e,n,r){let i=e[qx],s=r&&r.nonce;i?s&&i.setNonce(s):i=new Npe(e,s),i.mount(Array.isArray(n)?n:[n],e)}}let o8=new Map;class Npe{constructor(e,n){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let s=o8.get(r);if(s)return e[qx]=s;this.sheet=new i.CSSStyleSheet,o8.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[qx]=this}mount(e,n){let r=this.sheet,i=0,s=0;for(let o=0;o<e.length;o++){let a=e[o],l=this.modules.indexOf(a);if(l<s&&l>-1&&(this.modules.splice(l,1),s--,l=-1),l==-1){if(this.modules.splice(s++,0,a),r)for(let c=0;c<a.rules.length;c++)r.insertRule(a.rules[c],i++)}else{for(;s<l;)i+=this.modules[s++].rules.length;i+=a.rules.length,s++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let o="";for(let l=0;l<this.modules.length;l++)o+=this.modules[l].getRules()+`
`;this.styleTag.textContent=o;let a=n.head||n;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var fd={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},L0={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Fpe=typeof navigator<"u"&&/Mac/.test(navigator.platform),Bpe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Gi=0;Gi<10;Gi++)fd[48+Gi]=fd[96+Gi]=String(Gi);for(var Gi=1;Gi<=24;Gi++)fd[Gi+111]="F"+Gi;for(var Gi=65;Gi<=90;Gi++)fd[Gi]=String.fromCharCode(Gi+32),L0[Gi]=String.fromCharCode(Gi);for(var Ck in fd)L0.hasOwnProperty(Ck)||(L0[Ck]=fd[Ck]);function zpe(t){var e=Fpe&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||Bpe&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?L0:fd)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}let Cs=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},Hx=typeof document<"u"?document:{documentElement:{style:{}}};const Wx=/Edge\/(\d+)/.exec(Cs.userAgent),_N=/MSIE \d/.test(Cs.userAgent),Xx=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Cs.userAgent),TO=!!(_N||Xx||Wx),a8=!TO&&/gecko\/(\d+)/i.test(Cs.userAgent),Ek=!TO&&/Chrome\/(\d+)/.exec(Cs.userAgent),Qpe="webkitFontSmoothing"in Hx.documentElement.style,Yx=!TO&&/Apple Computer/.test(Cs.vendor),l8=Yx&&(/Mobile\/\w+/.test(Cs.userAgent)||Cs.maxTouchPoints>2);var mt={mac:l8||/Mac/.test(Cs.platform),windows:/Win/.test(Cs.platform),linux:/Linux|X11/.test(Cs.platform),ie:TO,ie_version:_N?Hx.documentMode||6:Xx?+Xx[1]:Wx?+Wx[1]:0,gecko:a8,gecko_version:a8?+(/Firefox\/(\d+)/.exec(Cs.userAgent)||[0,0])[1]:0,chrome:!!Ek,chrome_version:Ek?+Ek[1]:0,ios:l8,android:/Android\b/.test(Cs.userAgent),webkit_version:Qpe?+(/\bAppleWebKit\/(\d+)/.exec(Cs.userAgent)||[0,0])[1]:0,safari:Yx,safari_version:Yx?+(/\bVersion\/(\d+(\.\d+)?)/.exec(Cs.userAgent)||[0,0])[1]:0,tabSize:Hx.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function N0(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function Gx(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function Qb(t,e){if(!e.anchorNode)return!1;try{return Gx(t,e.anchorNode)}catch{return!1}}function Um(t){return t.nodeType==3?Lh(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function Gp(t,e,n,r){return n?c8(t,e,n,r,-1)||c8(t,e,n,r,1):!1}function $h(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function jy(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function c8(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:rc(t))){if(t.nodeName=="DIV")return!1;let s=t.parentNode;if(!s||s.nodeType!=1)return!1;e=$h(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?rc(t):0}else return!1}}function rc(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function $v(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function Upe(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function CN(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function Vpe(t,e,n,r,i,s,o,a){let l=t.ownerDocument,c=l.defaultView||window;for(let d=t,h=!1;d&&!h;)if(d.nodeType==1){let f,m=d==l.body,g=1,p=1;if(m)f=Upe(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(d).position)&&(h=!0),d.scrollHeight<=d.clientHeight&&d.scrollWidth<=d.clientWidth){d=d.assignedSlot||d.parentNode;continue}let y=d.getBoundingClientRect();({scaleX:g,scaleY:p}=CN(d,y)),f={left:y.left,right:y.left+d.clientWidth*g,top:y.top,bottom:y.top+d.clientHeight*p}}let v=0,b=0;if(i=="nearest")e.top<f.top?(b=e.top-(f.top+o),n>0&&e.bottom>f.bottom+b&&(b=e.bottom-f.bottom+o)):e.bottom>f.bottom&&(b=e.bottom-f.bottom+o,n<0&&e.top-b<f.top&&(b=e.top-(f.top+o)));else{let y=e.bottom-e.top,C=f.bottom-f.top;b=(i=="center"&&y<=C?e.top+y/2-C/2:i=="start"||i=="center"&&n<0?e.top-o:e.bottom-C+o)-f.top}if(r=="nearest"?e.left<f.left?(v=e.left-(f.left+s),n>0&&e.right>f.right+v&&(v=e.right-f.right+s)):e.right>f.right&&(v=e.right-f.right+s,n<0&&e.left<f.left+v&&(v=e.left-(f.left+s))):v=(r=="center"?e.left+(e.right-e.left)/2-(f.right-f.left)/2:r=="start"==a?e.left-s:e.right-(f.right-f.left)+s)-f.left,v||b)if(m)c.scrollBy(v,b);else{let y=0,C=0;if(b){let x=d.scrollTop;d.scrollTop+=b/p,C=(d.scrollTop-x)*p}if(v){let x=d.scrollLeft;d.scrollLeft+=v/g,y=(d.scrollLeft-x)*g}e={left:e.left-y,top:e.top-C,right:e.right-y,bottom:e.bottom-C},y&&Math.abs(y-v)<1&&(r="nearest"),C&&Math.abs(C-b)<1&&(i="nearest")}if(m)break;(e.top<f.top||e.bottom>f.bottom||e.left<f.left||e.right>f.right)&&(e={left:Math.max(e.left,f.left),right:Math.min(e.right,f.right),top:Math.max(e.top,f.top),bottom:Math.min(e.bottom,f.bottom)}),d=d.assignedSlot||d.parentNode}else if(d.nodeType==11)d=d.host;else break}function jpe(t){let e=t.ownerDocument,n,r;for(let i=t.parentNode;i&&!(i==e.body||n&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!n&&i.scrollWidth>i.clientWidth&&(n=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:n,y:r}}class qpe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?rc(n):0),r,Math.min(e.focusOffset,r?rc(r):0))}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let th=null;mt.safari&&mt.safari_version>=26&&(th=!1);function EN(t){if(t.setActive)return t.setActive();if(th)return t.focus(th);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(th==null?{get preventScroll(){return th={preventScroll:!0},!0}}:void 0),!th){th=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],s=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=s&&(r.scrollLeft=s)}}}let u8;function Lh(t,e,n=e){let r=u8||(u8=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function mm(t,e,n,r){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let s=new KeyboardEvent("keydown",i);s.synthetic=!0,t.dispatchEvent(s);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,t.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function Hpe(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function TN(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function Wpe(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,rc(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=rc(n))}else{if(n==t)return!0;r=$h(n),n=n.parentNode}}function DN(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function AN(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=rc(n)}else if(n.parentNode&&!jy(n))r=$h(n),n=n.parentNode;else return null}}function PN(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!jy(n))r=$h(n)+1,n=n.parentNode;else return null}}class hs{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new hs(e.parentNode,$h(e),n)}static after(e,n){return new hs(e.parentNode,$h(e)+1,n)}}const dC=[];class rr{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let r of this.children){if(r==e)return n;n+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.flags&2){let r=this.dom,i=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=i?i.nextSibling:r.firstChild)){let a=rr.get(s);(!a||!a.parent&&a.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,n),o.flags&=-8}if(s=i?i.nextSibling:r.firstChild,n&&!n.written&&n.node==r&&s!=o.dom&&(n.written=!0),o.dom.parentNode==r)for(;s&&s!=o.dom;)s=d8(s);else r.insertBefore(o.dom,s);i=o.dom}for(s=i?i.nextSibling:r.firstChild,s&&n&&n.node==r&&(n.written=!0);s;)s=d8(s)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,n),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,n){let r;if(e==this.dom)r=this.dom.childNodes[n];else{let i=rc(e)==0?0:n==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;i==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?i=-1:i=1),e=s}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!rr.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,s=0;;i++){let o=this.children[i];if(o.dom==r)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,n,r=0){let i=-1,s=-1,o=-1,a=-1;for(let l=0,c=r,d=r;l<this.children.length;l++){let h=this.children[l],f=c+h.length;if(c<e&&f>n)return h.domBoundsAround(e,n,c);if(f>=e&&i==-1&&(i=l,s=c),c>n&&h.dom.parentNode==this.dom){o=l,a=d;break}d=f,c=f+h.breakAfter}return{from:s,to:a<0?r+this.length:a,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.flags|=2),n.flags&1)return;n.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,r=dC){this.markDirty();for(let i=e;i<n;i++){let s=this.children[i];s.parent==this&&r.indexOf(s)<0&&s.destroy()}r.length<250?this.children.splice(e,n-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(n));for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new RN(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,r,i,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}rr.prototype.breakAfter=0;function d8(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class RN{constructor(e,n,r){this.children=e,this.pos=n,this.i=r,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function MN(t,e,n,r,i,s,o,a,l){let{children:c}=t,d=c.length?c[e]:null,h=s.length?s[s.length-1]:null,f=h?h.breakAfter:o;if(!(e==r&&d&&!o&&!f&&s.length<2&&d.merge(n,i,s.length?h:null,n==0,a,l))){if(r<c.length){let m=c[r];m&&(i<m.length||m.breakAfter&&h?.breakAfter)?(e==r&&(m=m.split(i),i=0),!f&&h&&m.merge(0,i,h,!0,0,l)?s[s.length-1]=m:((i||m.children.length&&!m.children[0].length)&&m.merge(0,i,null,!1,0,l),s.push(m))):m?.breakAfter&&(h?h.breakAfter=1:o=1),r++}for(d&&(d.breakAfter=o,n>0&&(!o&&s.length&&d.merge(n,d.length,s[0],!1,a,0)?d.breakAfter=s.shift().breakAfter:(n<d.length||d.children.length&&d.children[d.children.length-1].length==0)&&d.merge(n,d.length,null,!1,a,0),e++));e<r&&s.length;)if(c[r-1].become(s[s.length-1]))r--,s.pop(),l=s.length?0:a;else if(c[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&r<c.length&&!c[e-1].breakAfter&&c[r].merge(0,0,c[e-1],!1,a,l)&&e--,(e<r||s.length)&&t.replaceChildren(e,r,s)}}function IN(t,e,n,r,i,s){let o=t.childCursor(),{i:a,off:l}=o.findPos(n,1),{i:c,off:d}=o.findPos(e,-1),h=e-n;for(let f of r)h+=f.length;t.length+=h,MN(t,c,d,a,l,r,0,i,s)}const Xpe=256;class dl extends rr{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,r){return this.flags&8||r&&(!(r instanceof dl)||this.length-(n-e)+r.length>Xpe||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new dl(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n.flags|=this.flags&8,n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new hs(this.dom,e)}domBoundsAround(e,n,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return Ype(this.dom,e,n)}}class nu extends rr{constructor(e,n=[],r=0){super(),this.mark=e,this.children=n,this.length=r;for(let i of n)i.setParent(this)}setAttrs(e){if(TN(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,r,i,s,o){return r&&(!(r instanceof nu&&r.mark.eq(this.mark))||e&&s<=0||n<this.length&&o<=0)?!1:(IN(this,e,n,r?r.children.slice():[],s-1,o-1),this.markDirty(),!0)}split(e){let n=[],r=0,i=-1,s=0;for(let a of this.children){let l=r+a.length;l>e&&n.push(r<e?a.split(e-r):a),i<0&&r>=e&&(i=s),r=l,s++}let o=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new nu(this.mark,n,o)}domAtPos(e){return $N(this,e)}coordsAt(e,n){return NN(this,e,n)}}function Ype(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let i=e,s=e,o=0;e==0&&n<0||e==r&&n>=0?mt.chrome||mt.gecko||(e?(i--,o=1):s<r&&(s++,o=-1)):n<0?i--:s<r&&s++;let a=Lh(t,i,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:n>=0)?0:a.length-1];return mt.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,c=>c.width)||l),o?$v(l,o<0):l||null}class ch extends rr{static create(e,n,r){return new ch(e,n,r)}constructor(e,n,r){super(),this.widget=e,this.length=n,this.side=r,this.prevWidget=null}split(e){let n=ch.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,n,r,i,s,o){return r&&(!(r instanceof ch)||!this.widget.compare(r.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}become(e){return e instanceof ch&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return zn.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,r=n&&n.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):zn.empty}domAtPos(e){return(this.length?e==0:this.side>0)?hs.before(this.dom):hs.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);if(r)return r;let i=this.dom.getClientRects(),s=null;if(!i.length)return null;let o=this.side?this.side<0:e>0;for(let a=o?i.length-1:0;s=i[a],!(e>0?a==0:a==i.length-1||s.top<s.bottom);a+=o?-1:1);return $v(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Vm extends rr{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Vm&&e.side==this.side}split(){return new Vm(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?hs.before(this.dom):hs.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return zn.empty}get isHidden(){return!0}}dl.prototype.children=ch.prototype.children=Vm.prototype.children=dC;function $N(t,e){let n=t.dom,{children:r}=t,i=0;for(let s=0;i<r.length;i++){let o=r[i],a=s+o.length;if(!(a==s&&o.getSide()<=0)){if(e>s&&e<a&&o.dom.parentNode==n)return o.domAtPos(e-s);if(e<=s)break;s=a}}for(let s=i;s>0;s--){let o=r[s-1];if(o.dom.parentNode==n)return o.domAtPos(o.length)}for(let s=i;s<r.length;s++){let o=r[s];if(o.dom.parentNode==n)return o.domAtPos(0)}return new hs(n,0)}function LN(t,e,n){let r,{children:i}=t;n>0&&e instanceof nu&&i.length&&(r=i[i.length-1])instanceof nu&&r.mark.eq(e.mark)?LN(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function NN(t,e,n){let r=null,i=-1,s=null,o=-1;function a(c,d){for(let h=0,f=0;h<c.children.length&&f<=d;h++){let m=c.children[h],g=f+m.length;g>=d&&(m.children.length?a(m,d-f):(!s||s.isHidden&&(n>0||Zpe(s,m)))&&(g>d||f==g&&m.getSide()>0)?(s=m,o=d-f):(f<d||f==g&&m.getSide()<0&&!m.isHidden)&&(r=m,i=d-f)),f=g}}a(t,e);let l=(n<0?r:s)||r||s;return l?l.coordsAt(Math.max(0,l==r?i:o),n):Gpe(t)}function Gpe(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=Um(e);return n[n.length-1]||null}function Zpe(t,e){let n=t.coordsAt(0,1),r=e.coordsAt(0,1);return n&&r&&r.top<n.bottom}function Zx(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const h8=Object.create(null);function qy(t,e,n){if(t==e)return!0;t||(t=h8),e||(e=h8);let r=Object.keys(t),i=Object.keys(e);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=i.length-(n&&i.indexOf(n)>-1?1:0))return!1;for(let s of r)if(s!=n&&(i.indexOf(s)==-1||t[s]!==e[s]))return!1;return!0}function Kx(t,e,n){let r=!1;if(e)for(let i in e)n&&i in n||(r=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(n)for(let i in n)e&&e[i]==n[i]||(r=!0,i=="style"?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r}function Kpe(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class mu{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Zl=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(Zl||(Zl={}));class kn extends Mh{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new Lv(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new md(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:s,end:o}=FN(e,n);r=(s?n?-3e8:-1:5e8)-1,i=(o?n?2e8:1:-6e8)+1}return new md(e,r,i,n,e.widget||null,!0)}static line(e){return new Nv(e)}static set(e,n=!1){return xr.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}kn.none=xr.empty;class Lv extends kn{constructor(e){let{start:n,end:r}=FN(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var n,r;return this==e||e instanceof Lv&&this.tagName==e.tagName&&(this.class||((n=this.attrs)===null||n===void 0?void 0:n.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&qy(this.attrs,e.attrs,"class")}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}Lv.prototype.point=!1;class Nv extends kn{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Nv&&this.spec.class==e.spec.class&&qy(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}Nv.prototype.mapMode=Ds.TrackBefore;Nv.prototype.point=!0;class md extends kn{constructor(e,n,r,i,s,o){super(n,r,s,e),this.block=i,this.isReplace=o,this.mapMode=i?n<=0?Ds.TrackBefore:Ds.TrackAfter:Ds.TrackDel}get type(){return this.startSide!=this.endSide?Zl.WidgetRange:this.startSide<=0?Zl.WidgetBefore:Zl.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof md&&Jpe(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}md.prototype.point=!0;function FN(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function Jpe(t,e){return t==e||!!(t&&e&&t.compare(e))}function Ub(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class ti extends rr{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,r,i,s,o){if(r){if(!(r instanceof ti))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),IN(this,e,n,r?r.children.slice():[],s,o),!0}split(e){let n=new ti;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:r,off:i}=this.childPos(e);i&&(n.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let s=r;s<this.children.length;s++)n.append(this.children[s],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){qy(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){LN(this,e,n)}addLineDeco(e){let n=e.spec.attributes,r=e.spec.class;n&&(this.attrs=Zx(n,this.attrs||{})),r&&(this.attrs=Zx({class:r},this.attrs||{}))}domAtPos(e){return $N(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,n){var r;this.dom?this.flags&4&&(TN(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(Kx(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let i=this.dom.lastChild;for(;i&&rr.get(i)instanceof nu;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=rr.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!mt.ios||!this.children.some(s=>s instanceof dl))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let r of this.children){if(!(r instanceof dl)||/[^ -~]/.test(r.text))return null;let i=Um(r.dom);if(i.length!=1)return null;e+=i[0].width,n=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let r=NN(this,e,n);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,s=r.bottom-r.top;if(Math.abs(s-i.lineHeight)<2&&i.textHeight<s){let o=(s-i.textHeight)/2;return{top:r.top+o,bottom:r.bottom-o,left:r.left,right:r.left}}}return r}become(e){return e instanceof ti&&this.children.length==0&&e.children.length==0&&qy(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,n){for(let r=0,i=0;r<e.children.length;r++){let s=e.children[r],o=i+s.length;if(o>=n){if(s instanceof ti)return s;if(o>n)break}i=o+s.breakAfter}return null}}class Hc extends rr{constructor(e,n,r){super(),this.widget=e,this.length=n,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,n,r,i,s,o){return r&&(!(r instanceof Hc)||!this.widget.compare(r.widget)||e>0&&s<=0||n<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?hs.before(this.dom):hs.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let r=new Hc(this.widget,n,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return dC}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):zn.empty}domBoundsAround(){return null}become(e){return e instanceof Hc&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);return r||(this.widget instanceof Jx?null:$v(this.dom.getBoundingClientRect(),this.length?e==0:n<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:n,endSide:r}=this.deco;return n==r?!1:e<0?n<0:r>0}}class Jx extends mu{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class Zp{constructor(e,n,r,i){this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Hc&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new ti),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(S1(new Vm(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Hc)&&this.getLine()}buildText(e,n,r){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:a,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(a){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=o,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e),s=Math.min(i,512);this.flushBuffer(n.slice(n.length-r)),this.getLine().append(S1(new dl(this.text.slice(this.textOff,this.textOff+s)),n),r),this.atCursorPos=!0,this.textOff+=s,e-=s,r=i<=s?0:n.length}}span(e,n,r,i){this.buildText(n-e,r,i),this.pos=n,this.openStart<0&&(this.openStart=i)}point(e,n,r,i,s,o){if(this.disallowBlockEffectsFor[o]&&r instanceof md){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=n-e;if(r instanceof md)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Hc(r.widget||jm.block,a,r));else{let l=ch.create(r.widget||jm.inline,a,a?0:r.startSide),c=this.atCursorPos&&!l.isEditable&&s<=i.length&&(e<n||r.startSide>0),d=!l.isEditable&&(e<n||s>i.length||r.startSide<=0),h=this.getLine();this.pendingBuffer==2&&!c&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),c&&(h.append(S1(new Vm(1),i),s),s=i.length+Math.max(0,s-i.length)),h.append(S1(l,i),s),this.atCursorPos=d,this.pendingBuffer=d?e<n||s>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=s)}static build(e,n,r,i,s){let o=new Zp(e,n,r,s);return o.openEnd=xr.spans(i,n,r,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function S1(t,e){for(let n of e)t=new nu(n,[t],t.length);return t}class jm extends mu{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}jm.inline=new jm("span");jm.block=new jm("div");var si=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(si||(si={}));const Nh=si.LTR,hC=si.RTL;function BN(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const e0e=BN("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),t0e=BN("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),e3=Object.create(null),_l=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);e3[e]=n,e3[n]=-e}function zN(t){return t<=247?e0e[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?t0e[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const n0e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Wu{get dir(){return this.level%2?hC:Nh}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,i){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=n&&a.to>=n){if(a.level==r)return o;(s<0||(i!=0?i<0?a.from<n:a.to>n:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function QN(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!QN(r.inner,i.inner))return!1}return!0}const or=[];function r0e(t,e,n,r,i){for(let s=0;s<=r.length;s++){let o=s?r[s-1].to:e,a=s<r.length?r[s].from:n,l=s?256:i;for(let c=o,d=l,h=l;c<a;c++){let f=zN(t.charCodeAt(c));f==512?f=d:f==8&&h==4&&(f=16),or[c]=f==4?2:f,f&7&&(h=f),d=f}for(let c=o,d=l,h=l;c<a;c++){let f=or[c];if(f==128)c<a-1&&d==or[c+1]&&d&24?f=or[c]=d:or[c]=256;else if(f==64){let m=c+1;for(;m<a&&or[m]==64;)m++;let g=c&&d==8||m<n&&or[m]==8?h==1?1:8:256;for(let p=c;p<m;p++)or[p]=g;c=m-1}else f==8&&h==1&&(or[c]=1);d=f,f&7&&(h=f)}}}function i0e(t,e,n,r,i){let s=i==1?2:1;for(let o=0,a=0,l=0;o<=r.length;o++){let c=o?r[o-1].to:e,d=o<r.length?r[o].from:n;for(let h=c,f,m,g;h<d;h++)if(m=e3[f=t.charCodeAt(h)])if(m<0){for(let p=a-3;p>=0;p-=3)if(_l[p+1]==-m){let v=_l[p+2],b=v&2?i:v&4?v&1?s:i:0;b&&(or[h]=or[_l[p]]=b),a=p;break}}else{if(_l.length==189)break;_l[a++]=h,_l[a++]=f,_l[a++]=l}else if((g=or[h])==2||g==1){let p=g==i;l=p?0:1;for(let v=a-3;v>=0;v-=3){let b=_l[v+2];if(b&2)break;if(p)_l[v+2]|=2;else{if(b&4)break;_l[v+2]|=4}}}}}function s0e(t,e,n,r){for(let i=0,s=r;i<=n.length;i++){let o=i?n[i-1].to:t,a=i<n.length?n[i].from:e;for(let l=o;l<a;){let c=or[l];if(c==256){let d=l+1;for(;;)if(d==a){if(i==n.length)break;d=n[i++].to,a=i<n.length?n[i].from:e}else if(or[d]==256)d++;else break;let h=s==1,f=(d<e?or[d]:r)==1,m=h==f?h?1:2:r;for(let g=d,p=i,v=p?n[p-1].to:t;g>l;)g==v&&(g=n[--p].from,v=p?n[p-1].to:t),or[--g]=m;l=d}else s=c,l++}}}function t3(t,e,n,r,i,s,o){let a=r%2?2:1;if(r%2==i%2)for(let l=e,c=0;l<n;){let d=!0,h=!1;if(c==s.length||l<s[c].from){let p=or[l];p!=a&&(d=!1,h=p==16)}let f=!d&&a==1?[]:null,m=d?r:r+1,g=l;e:for(;;)if(c<s.length&&g==s[c].from){if(h)break e;let p=s[c];if(!d)for(let v=p.to,b=c+1;;){if(v==n)break e;if(b<s.length&&s[b].from==v)v=s[b++].to;else{if(or[v]==a)break e;break}}if(c++,f)f.push(p);else{p.from>l&&o.push(new Wu(l,p.from,m));let v=p.direction==Nh!=!(m%2);n3(t,v?r+1:r,i,p.inner,p.from,p.to,o),l=p.to}g=p.to}else{if(g==n||(d?or[g]!=a:or[g]==a))break;g++}f?t3(t,l,g,r+1,i,f,o):l<g&&o.push(new Wu(l,g,m)),l=g}else for(let l=n,c=s.length;l>e;){let d=!0,h=!1;if(!c||l>s[c-1].to){let p=or[l-1];p!=a&&(d=!1,h=p==16)}let f=!d&&a==1?[]:null,m=d?r:r+1,g=l;e:for(;;)if(c&&g==s[c-1].to){if(h)break e;let p=s[--c];if(!d)for(let v=p.from,b=c;;){if(v==e)break e;if(b&&s[b-1].to==v)v=s[--b].from;else{if(or[v-1]==a)break e;break}}if(f)f.push(p);else{p.to<l&&o.push(new Wu(p.to,l,m));let v=p.direction==Nh!=!(m%2);n3(t,v?r+1:r,i,p.inner,p.from,p.to,o),l=p.from}g=p.from}else{if(g==e||(d?or[g-1]!=a:or[g-1]==a))break;g--}f?t3(t,g,l,r+1,i,f,o):g<l&&o.push(new Wu(g,l,m)),l=g}}function n3(t,e,n,r,i,s,o){let a=e%2?2:1;r0e(t,i,s,r,a),i0e(t,i,s,r,a),s0e(i,s,r,a),t3(t,i,s,e,n,r,o)}function o0e(t,e,n){if(!t)return[new Wu(0,0,e==hC?1:0)];if(e==Nh&&!n.length&&!n0e.test(t))return UN(t.length);if(n.length)for(;t.length>or.length;)or[or.length]=256;let r=[],i=e==Nh?0:1;return n3(t,i,i,n,0,t.length,r),r}function UN(t){return[new Wu(0,t,0)]}let VN="";function a0e(t,e,n,r,i){var s;let o=r.head-t.from,a=Wu.find(e,o,(s=r.bidiLevel)!==null&&s!==void 0?s:-1,r.assoc),l=e[a],c=l.side(i,n);if(o==c){let f=a+=i?1:-1;if(f<0||f>=e.length)return null;l=e[a=f],o=l.side(!i,n),c=l.side(i,n)}let d=Ps(t.text,o,l.forward(i,n));(d<l.from||d>l.to)&&(d=c),VN=t.text.slice(Math.min(o,d),Math.max(o,d));let h=a==(i?e.length-1:0)?null:e[a+(i?1:-1)];return h&&d==c&&h.level+(i?0:1)<l.level?Ue.cursor(h.side(!i,n)+t.from,h.forward(i,n)?1:-1,h.level):Ue.cursor(d+t.from,l.forward(i,n)?-1:1,l.level)}function l0e(t,e,n){for(let r=e;r<n;r++){let i=zN(t.charCodeAt(r));if(i==1)return Nh;if(i==2||i==4)return hC}return Nh}const jN=Ut.define(),qN=Ut.define(),HN=Ut.define(),WN=Ut.define(),r3=Ut.define(),XN=Ut.define(),YN=Ut.define(),fC=Ut.define(),mC=Ut.define(),GN=Ut.define({combine:t=>t.some(e=>e)}),c0e=Ut.define({combine:t=>t.some(e=>e)}),ZN=Ut.define();class gm{constructor(e,n="nearest",r="nearest",i=5,s=5,o=!1){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new gm(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new gm(Ue.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const x1=Xn.define({map:(t,e)=>t.map(e)}),KN=Xn.define();function Io(t,e,n){let r=t.facet(WN);r.length?r[0](e):window.onerror&&window.onerror(String(e),n,void 0,void 0,e)||(n?console.error(n+":",e):console.error(e))}const Fc=Ut.define({combine:t=>t.length?t[0]:!0});let u0e=0;const Xf=Ut.define({combine(t){return t.filter((e,n)=>{for(let r=0;r<n;r++)if(t[r].plugin==e.plugin)return!1;return!0})}});class Aa{constructor(e,n,r,i,s){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=i,this.baseExtensions=s(this),this.extension=this.baseExtensions.concat(Xf.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(Xf.of({plugin:this,arg:e}))}static define(e,n){const{eventHandlers:r,eventObservers:i,provide:s,decorations:o}=n||{};return new Aa(u0e++,e,r,i,a=>{let l=[];return o&&l.push(F0.of(c=>{let d=c.plugin(a);return d?o(d):kn.none})),s&&l.push(s(a)),l})}static fromClass(e,n){return Aa.define((r,i)=>new e(r,i),n)}}class Tk{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(Io(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(n){Io(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){Io(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const JN=Ut.define(),gC=Ut.define(),F0=Ut.define(),eF=Ut.define(),Fv=Ut.define(),tF=Ut.define();function f8(t,e){let n=t.state.facet(tF);if(!n.length)return n;let r=n.map(s=>s instanceof Function?s(t):s),i=[];return xr.spans(r,e.from,e.to,{point(){},span(s,o,a,l){let c=s-e.from,d=o-e.from,h=i;for(let f=a.length-1;f>=0;f--,l--){let m=a[f].spec.bidiIsolate,g;if(m==null&&(m=l0e(e.text,c,d)),l>0&&h.length&&(g=h[h.length-1]).to==c&&g.direction==m)g.to=d,h=g.inner;else{let p={from:c,to:d,direction:m,inner:[]};h.push(p),h=p.inner}}}}),i}const nF=Ut.define();function pC(t){let e=0,n=0,r=0,i=0;for(let s of t.state.facet(nF)){let o=s(t);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(n=Math.max(n,o.right)),o.top!=null&&(r=Math.max(r,o.top)),o.bottom!=null&&(i=Math.max(i,o.bottom)))}return{left:e,right:n,top:r,bottom:i}}const Ip=Ut.define();class _a{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new _a(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,s=0,o=0,a=0;;i++){let l=i==e.length?null:e[i],c=o-a,d=l?l.fromB:1e9;for(;s<n.length&&n[s]<d;){let h=n[s],f=n[s+1],m=Math.max(a,h),g=Math.min(d,f);if(m<=g&&new _a(m+c,g+c,m,g).addToSet(r),f>d)break;s+=2}if(!l)return r;new _a(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),o=l.toA,a=l.toB}}}class Hy{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=gi.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,o,a,l)=>i.push(new _a(s,o,a,l))),this.changedRanges=i}static create(e,n,r){return new Hy(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class m8 extends rr{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=kn.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new ti],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new _a(0,0,0,e.state.doc.length)],0,null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:c,toA:d})=>d<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?i=this.domChanged.newSel.head:!v0e(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let s=i>-1?h0e(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:d}=this.hasComposition;r=new _a(c,d,e.changes.mapPos(c,-1),e.changes.mapPos(d,1)).addToSet(r.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(mt.ie||mt.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,a=this.updateDeco(),l=g0e(o,a,e.changes);return r=_a.extendWithRanges(r,l),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=mt.chrome||mt.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||i.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof Hc&&o.widget instanceof Jx&&s.push(o.dom);i.updateGaps(s)}updateChildren(e,n,r){let i=r?r.range.addToSet(e.slice()):e,s=this.childCursor(n);for(let o=i.length-1;;o--){let a=o>=0?i[o]:null;if(!a)break;let{fromA:l,toA:c,fromB:d,toB:h}=a,f,m,g,p;if(r&&r.range.fromB<h&&r.range.toB>d){let x=Zp.build(this.view.state.doc,d,r.range.fromB,this.decorations,this.dynamicDecorationMap),O=Zp.build(this.view.state.doc,r.range.toB,h,this.decorations,this.dynamicDecorationMap);m=x.breakAtStart,g=x.openStart,p=O.openEnd;let S=this.compositionView(r);O.breakAtStart?S.breakAfter=1:O.content.length&&S.merge(S.length,S.length,O.content[0],!1,O.openStart,0)&&(S.breakAfter=O.content[0].breakAfter,O.content.shift()),x.content.length&&S.merge(0,0,x.content[x.content.length-1],!0,0,x.openEnd)&&x.content.pop(),f=x.content.concat(S).concat(O.content)}else({content:f,breakAtStart:m,openStart:g,openEnd:p}=Zp.build(this.view.state.doc,d,h,this.decorations,this.dynamicDecorationMap));let{i:v,off:b}=s.findPos(c,1),{i:y,off:C}=s.findPos(l,-1);MN(this,y,C,v,b,f,m,g,p)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let r of n.effects)r.is(KN)&&(this.editContextFormatting=r.value)}compositionView(e){let n=new dl(e.text.nodeValue);n.flags|=8;for(let{deco:i}of e.marks)n=new nu(i,[n],n.length);let r=new ti;return r.append(n,0),r}fixCompositionDOM(e){let n=(s,o)=>{o.flags|=8|(o.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(o);let a=rr.get(s);a&&a!=o&&(a.dom=null),o.setDOM(s)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];n(e.line,i);for(let s=e.marks.length-1;s>=-1;s--)r=i.childPos(r.off,1),i=i.children[r.i],n(s>=0?e.marks[s].node:e.text,i)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,s=!i&&!(this.view.state.facet(Fc)||this.dom.tabIndex>-1)&&Qb(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||n||s))return;let o=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),c=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(mt.gecko&&a.empty&&!this.hasComposition&&d0e(l)){let h=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(h,l.node.childNodes[l.offset]||null)),l=c=new hs(h,0),o=!0}let d=this.view.observer.selectionRange;(o||!d.focusNode||(!Gp(l.node,l.offset,d.anchorNode,d.anchorOffset)||!Gp(c.node,c.offset,d.focusNode,d.focusOffset))&&!this.suppressWidgetCursorChange(d,a))&&(this.view.observer.ignore(()=>{mt.android&&mt.chrome&&this.dom.contains(d.focusNode)&&p0e(d.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let h=N0(this.view.root);if(h)if(a.empty){if(mt.gecko){let f=f0e(l.node,l.offset);if(f&&f!=3){let m=(f==1?AN:PN)(l.node,l.offset);m&&(l=new hs(m.node,m.offset))}}h.collapse(l.node,l.offset),a.bidiLevel!=null&&h.caretBidiLevel!==void 0&&(h.caretBidiLevel=a.bidiLevel)}else if(h.extend){h.collapse(l.node,l.offset);try{h.extend(c.node,c.offset)}catch{}}else{let f=document.createRange();a.anchor>a.head&&([l,c]=[c,l]),f.setEnd(c.node,c.offset),f.setStart(l.node,l.offset),h.removeAllRanges(),h.addRange(f)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new hs(d.anchorNode,d.anchorOffset),this.impreciseHead=c.precise?null:new hs(d.focusNode,d.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&Gp(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=N0(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let o=ti.find(this,n.head);if(!o)return;let a=o.posAtStart;if(n.head==a||n.head==a+o.length)return;let l=this.coordsAt(n.head,-1),c=this.coordsAt(n.head,1);if(!l||!c||l.bottom>c.top)return;let d=this.domAtPos(n.head+n.assoc);r.collapse(d.node,d.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let h=e.observer.selectionRange;e.docView.posFromDOM(h.anchorNode,h.anchorOffset)!=n.from&&r.collapse(i,s)}moveToLine(e){let n=this.dom,r;if(e.node!=n)return e;for(let i=e.offset;!r&&i<n.childNodes.length;i++){let s=rr.get(n.childNodes[i]);s instanceof ti&&(r=s.domAtPos(0))}for(let i=e.offset-1;!r&&i>=0;i--){let s=rr.get(n.childNodes[i]);s instanceof ti&&(r=s.domAtPos(s.length))}return r?new hs(r.node,r.offset,!0):e}nearest(e){for(let n=e;n;){let r=rr.get(n);if(r&&r.rootView==this)return r;n=n.parentNode}return null}posFromDOM(e,n){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,n)+r.posAtStart}domAtPos(e){let{i:n,off:r}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let i=this.children[n];if(r<i.length||i instanceof ti)break;n++,r=0}return this.children[n].domAtPos(r)}coordsAt(e,n){let r=null,i=0;for(let s=this.length,o=this.children.length-1;o>=0;o--){let a=this.children[o],l=s-a.breakAfter,c=l-a.length;if(l<e)break;if(c<=e&&(c<e||a.covers(-1))&&(l>e||a.covers(1))&&(!r||a instanceof ti&&!(r instanceof ti&&n>=0)))r=a,i=c;else if(r&&c==e&&l==e&&a instanceof Hc&&Math.abs(n)<2){if(a.deco.startSide<0)break;o&&(r=null)}s=c}return r?r.coordsAt(e-i,n):null}coordsForChar(e){let{i:n,off:r}=this.childPos(e,1),i=this.children[n];if(!(i instanceof ti))return null;for(;i.children.length;){let{i:a,off:l}=i.childPos(r,1);for(;;a++){if(a==i.children.length)return null;if((i=i.children[a]).length)break}r=l}if(!(i instanceof dl))return null;let s=Ps(i.text,r);if(s==r)return null;let o=Lh(i.dom,r,s).getClientRects();for(let a=0;a<o.length;a++){let l=o[a];if(a==o.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==si.LTR;for(let c=0,d=0;d<this.children.length;d++){let h=this.children[d],f=c+h.length;if(f>i)break;if(c>=r){let m=h.dom.getBoundingClientRect();if(n.push(m.height),o){let g=h.dom.lastChild,p=g?Um(g):[];if(p.length){let v=p[p.length-1],b=l?v.right-m.left:m.right-v.left;b>a&&(a=b,this.minWidth=s,this.minWidthFrom=c,this.minWidthTo=f)}}}c=f+h.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?si.RTL:si.LTR}measureTextSize(){for(let s of this.children)if(s instanceof ti){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),n,r,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=Um(e.firstChild)[0];n=e.getBoundingClientRect().height,r=s?s.width/27:7,i=s?s.height:n,e.remove()}),{lineHeight:n,charWidth:r,textHeight:i}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new RN(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let s=i==n.viewports.length?null:n.viewports[i],o=s?s.from-1:this.length;if(o>r){let a=(n.lineBlockAt(o).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(kn.replace({widget:new Jx(a),block:!0,inclusive:!0,isBlockGap:!0}).range(r,o))}if(!s)break;r=s.to+1}return kn.set(e)}updateDeco(){let e=1,n=this.view.state.facet(F0).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),r=!1,i=this.view.state.facet(eF).map((s,o)=>{let a=typeof s=="function";return a&&(r=!0),a?s(this.view):s});for(i.length&&(this.dynamicDecorationMap[e++]=r,n.push(xr.join(i))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let c=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=c.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let c of this.view.state.facet(ZN))try{if(c(this.view,e.range,e))return!0}catch(d){Io(this.view.state,d,"scroll handler")}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let s=pC(this.view),o={left:r.left-s.left,top:r.top-s.top,right:r.right+s.right,bottom:r.bottom+s.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;Vpe(this.view.scrollDOM,o,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==si.LTR)}}function d0e(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function rF(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=AN(n.focusNode,n.focusOffset),i=PN(n.focusNode,n.focusOffset),s=r||i;if(i&&r&&i.node!=r.node){let a=rr.get(i.node);if(!a||a instanceof dl&&a.text!=i.node.nodeValue)s=i;else if(t.docView.lastCompositionAfterCursor){let l=rr.get(r.node);!l||l instanceof dl&&l.text!=r.node.nodeValue||(s=i)}}if(t.docView.lastCompositionAfterCursor=s!=r,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}function h0e(t,e,n){let r=rF(t,n);if(!r)return null;let{node:i,from:s,to:o}=r,a=i.nodeValue;if(/[\n\r]/.test(a)||t.state.doc.sliceString(r.from,r.to)!=a)return null;let l=e.invertedDesc,c=new _a(l.mapPos(s),l.mapPos(o),s,o),d=[];for(let h=i.parentNode;;h=h.parentNode){let f=rr.get(h);if(f instanceof nu)d.push({node:h,deco:f.mark});else{if(f instanceof ti||h.nodeName=="DIV"&&h.parentNode==t.contentDOM)return{range:c,text:i,marks:d,line:h};if(h!=t.contentDOM)d.push({node:h,deco:new Lv({inclusive:!0,attributes:Kpe(h),tagName:h.tagName.toLowerCase()})});else return null}}}function f0e(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let m0e=class{constructor(){this.changes=[]}compareRange(e,n){Ub(e,n,this.changes)}comparePoint(e,n){Ub(e,n,this.changes)}boundChange(e){Ub(e,e,this.changes)}};function g0e(t,e,n){let r=new m0e;return xr.compare(t,e,n,r),r.changes}function p0e(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function v0e(t,e){let n=!1;return e&&t.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(n=!0)}),n}function b0e(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),s=e-i.from;if(i.length==0)return Ue.cursor(e);s==0?n=1:s==i.length&&(n=-1);let o=s,a=s;n<0?o=Ps(i.text,s,!1):a=Ps(i.text,s);let l=r(i.text.slice(o,a));for(;o>0;){let c=Ps(i.text,o,!1);if(r(i.text.slice(c,o))!=l)break;o=c}for(;a<i.length;){let c=Ps(i.text,a);if(r(i.text.slice(a,c))!=l)break;a=c}return Ue.range(o+i.from,a+i.from)}function y0e(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function O0e(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function Dk(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function g8(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function p8(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function i3(t,e,n){let r,i,s,o,a=!1,l,c,d,h;for(let g=t.firstChild;g;g=g.nextSibling){let p=Um(g);for(let v=0;v<p.length;v++){let b=p[v];i&&Dk(i,b)&&(b=g8(p8(b,i.bottom),i.top));let y=y0e(e,b),C=O0e(n,b);if(y==0&&C==0)return g.nodeType==3?v8(g,e,n):i3(g,e,n);(!r||o>C||o==C&&s>y)&&(r=g,i=b,s=y,o=C,a=y?e<b.left?v>0:v<p.length-1:!0),y==0?n>b.bottom&&(!d||d.bottom<b.bottom)?(l=g,d=b):n<b.top&&(!h||h.top>b.top)&&(c=g,h=b):d&&Dk(d,b)?d=p8(d,b.bottom):h&&Dk(h,b)&&(h=g8(h,b.top))}}if(d&&d.bottom>=n?(r=l,i=d):h&&h.top<=n&&(r=c,i=h),!r)return{node:t,offset:0};let f=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return v8(r,f,n);if(a&&r.contentEditable!="false")return i3(r,f,n);let m=Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:m}}function v8(t,e,n){let r=t.nodeValue.length,i=-1,s=1e9,o=0;for(let a=0;a<r;a++){let l=Lh(t,a,a+1).getClientRects();for(let c=0;c<l.length;c++){let d=l[c];if(d.top==d.bottom)continue;o||(o=e-d.left);let h=(d.top>n?d.top-n:n-d.bottom)-1;if(d.left-1<=e&&d.right+1>=e&&h<s){let f=e>=(d.left+d.right)/2,m=f;if((mt.chrome||mt.gecko)&&Lh(t,a).getBoundingClientRect().left==d.right&&(m=!f),h<=0)return{node:t,offset:a+(m?1:0)};i=a+(m?1:0),s=h}}}return{node:t,offset:i>-1?i:o>0?t.nodeValue.length:0}}function iF(t,e,n,r=-1){var i,s;let o=t.contentDOM.getBoundingClientRect(),a=o.top+t.viewState.paddingTop,l,{docHeight:c}=t.viewState,{x:d,y:h}=e,f=h-a;if(f<0)return 0;if(f>c)return t.state.doc.length;for(let x=t.viewState.heightOracle.textHeight/2,O=!1;l=t.elementAtHeight(f),l.type!=Zl.Text;)for(;f=r>0?l.bottom+x:l.top-x,!(f>=0&&f<=c);){if(O)return n?null:0;O=!0,r=-r}h=a+f;let m=l.from;if(m<t.viewport.from)return t.viewport.from==0?0:n?null:b8(t,o,l,d,h);if(m>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:b8(t,o,l,d,h);let g=t.dom.ownerDocument,p=t.root.elementFromPoint?t.root:g,v=p.elementFromPoint(d,h);v&&!t.contentDOM.contains(v)&&(v=null),v||(d=Math.max(o.left+1,Math.min(o.right-1,d)),v=p.elementFromPoint(d,h),v&&!t.contentDOM.contains(v)&&(v=null));let b,y=-1;if(v&&((i=t.docView.nearest(v))===null||i===void 0?void 0:i.isEditable)!=!1){if(g.caretPositionFromPoint){let x=g.caretPositionFromPoint(d,h);x&&({offsetNode:b,offset:y}=x)}else if(g.caretRangeFromPoint){let x=g.caretRangeFromPoint(d,h);x&&({startContainer:b,startOffset:y}=x)}b&&(!t.contentDOM.contains(b)||mt.safari&&w0e(b,y,d)||mt.chrome&&k0e(b,y,d))&&(b=void 0),b&&(y=Math.min(rc(b),y))}if(!b||!t.docView.dom.contains(b)){let x=ti.find(t.docView,m);if(!x)return f>l.top+l.height/2?l.to:l.from;({node:b,offset:y}=i3(x.dom,d,h))}let C=t.docView.nearest(b);if(!C)return null;if(C.isWidget&&((s=C.dom)===null||s===void 0?void 0:s.nodeType)==1){let x=C.dom.getBoundingClientRect();return e.y<x.top||e.y<=x.bottom&&e.x<=(x.left+x.right)/2?C.posAtStart:C.posAtEnd}else return C.localPosFromDOM(b,y)+C.posAtStart}function b8(t,e,n,r,i){let s=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let a=t.viewState.heightOracle.textHeight,l=Math.floor((i-n.top-(t.defaultLineHeight-a)*.5)/a);s+=l*t.viewState.heightOracle.lineLength}let o=t.state.sliceDoc(n.from,n.to);return n.from+Lpe(o,s,t.state.tabSize)}function sF(t,e,n){let r,i=t;if(t.nodeType!=3||e!=(r=t.nodeValue.length))return!1;for(;;){let s=i.nextSibling;if(s){if(s.nodeName=="BR")break;return!1}else{let o=i.parentNode;if(!o||o.nodeName=="DIV")break;i=o}}return Lh(t,r-1,r).getBoundingClientRect().right>n}function w0e(t,e,n){return sF(t,e,n)}function k0e(t,e,n){if(e!=0)return sF(t,e,n);for(let i=t;;){let s=i.parentNode;if(!s||s.nodeType!=1||s.firstChild!=i)return!1;if(s.classList.contains("cm-line"))break;i=s}let r=t.nodeType==1?t.getBoundingClientRect():Lh(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}function S0e(t,e,n){let r=t.lineBlockAt(e);if(Array.isArray(r.type)){let i;for(let s of r.type){if(s.from>e)break;if(!(s.to<e)){if(s.from<e&&s.to>e)return s;(!i||s.type==Zl.Text&&(i.type!=s.type||(n<0?s.from<e:s.to>e)))&&(i=s)}}return i||r}return r}function x0e(t,e,n,r){let i=S0e(t,e.head,e.assoc||-1),s=!r||i.type!=Zl.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let o=t.dom.getBoundingClientRect(),a=t.textDirectionAt(i.from),l=t.posAtCoords({x:n==(a==si.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(l!=null)return Ue.cursor(l,n?-1:1)}return Ue.cursor(n?i.to:i.from,n?-1:1)}function y8(t,e,n,r){let i=t.state.doc.lineAt(e.head),s=t.bidiSpans(i),o=t.textDirectionAt(i.from);for(let a=e,l=null;;){let c=a0e(i,s,o,a,n),d=VN;if(!c){if(i.number==(n?t.state.doc.lines:1))return a;d=`
`,i=t.state.doc.line(i.number+(n?1:-1)),s=t.bidiSpans(i),c=t.visualLineSide(i,!n)}if(l){if(!l(d))return a}else{if(!r)return c;l=r(d)}a=c}}function _0e(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return s=>{let o=r(s);return i==Vc.Space&&(i=o),i==o}}function C0e(t,e,n,r){let i=e.head,s=n?1:-1;if(i==(n?t.state.doc.length:0))return Ue.cursor(i,e.assoc);let o=e.goalColumn,a,l=t.contentDOM.getBoundingClientRect(),c=t.coordsAtPos(i,e.assoc||-1),d=t.documentTop;if(c)o==null&&(o=c.left-l.left),a=s<0?c.top:c.bottom;else{let m=t.viewState.lineBlockAt(i);o==null&&(o=Math.min(l.right-l.left,t.defaultCharacterWidth*(i-m.from))),a=(s<0?m.top:m.bottom)+d}let h=l.left+o,f=r??t.viewState.heightOracle.textHeight>>1;for(let m=0;;m+=10){let g=a+(f+m)*s,p=iF(t,{x:h,y:g},!1,s);if(g<l.top||g>l.bottom||(s<0?p<i:p>i)){let v=t.docView.coordsForChar(p),b=!v||g<v.top?-1:1;return Ue.cursor(p,b,void 0,o)}}}function Kp(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,(s,o,a)=>{if(e>s&&e<o){let l=r||n||(e-s<o-e?-1:1);e=l<0?s:o,r=l}});if(!r)return e}}function oF(t,e){let n=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],s=null;if(i.empty){let o=Kp(t,i.from,0);o!=i.from&&(s=Ue.cursor(o,-1))}else{let o=Kp(t,i.from,-1),a=Kp(t,i.to,1);(o!=i.from||a!=i.to)&&(s=Ue.range(i.from==i.anchor?o:a,i.from==i.head?o:a))}s&&(n||(n=e.ranges.slice()),n[r]=s)}return n?Ue.create(n,e.mainIndex):e}function Ak(t,e,n){let r=Kp(t.state.facet(Fv).map(i=>i(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:Ue.cursor(r,r<n.from?1:-1)}const $p="";class E0e{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(qn.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=$p}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let s=this.text.length;this.readNode(i);let o=i.nextSibling;if(o==n)break;let a=rr.get(i),l=rr.get(o);(a&&l?a.breakAfter:(a?a.breakAfter:jy(i))||jy(o)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>s)&&!D0e(o,n)&&this.lineBreak(),i=o}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=n.indexOf(this.lineSeparator,r),o=this.lineSeparator.length):(a=i.exec(n))&&(s=a.index,o=a[0].length),this.append(n.slice(r,s<0?n.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);r=s+o}}readNode(e){if(e.cmIgnore)return;let n=rr.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(T0e(e,r.node,r.offset)?n:0))}}function T0e(t,e,n){for(;;){if(!e||n<rc(e))return!1;if(e==t)return!0;n=$h(e)+1,e=e.parentNode}}function D0e(t,e){let n;for(;!(t==e||!t);t=t.nextSibling){let r=rr.get(t);if(!(r?.isWidget||t.cmIgnore))return!1;r&&(n||(n=[])).push(r)}if(n)for(let r of n){let i=r.overrideDOMText;if(i?.length)return!1}return!0}class O8{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class A0e{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,r,0))){let a=s||o?[]:R0e(e),l=new E0e(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=M0e(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=s&&s.node==a.focusNode&&s.offset==a.focusOffset||!Gx(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),c=o&&o.node==a.anchorNode&&o.offset==a.anchorOffset||!Gx(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),d=e.viewport;if((mt.ios||mt.chrome)&&e.state.selection.main.empty&&l!=c&&(d.from>0||d.to<e.state.doc.length)){let h=Math.min(l,c),f=Math.max(l,c),m=d.from-h,g=d.to-f;(m==0||m==1||h==0)&&(g==0||g==-1||f==e.state.doc.length)&&(l=0,c=e.state.doc.length)}this.newSel=Ue.single(c,l)}}}function aF(t,e){let n,{newSel:r}=e,i=t.state.selection.main,s=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:a}=e.bounds,l=i.from,c=null;(s===8||mt.android&&e.text.length<a-o)&&(l=i.to,c="end");let d=lF(t.state.doc.sliceString(o,a,$p),e.text,l-o,c);d&&(mt.chrome&&s==13&&d.toB==d.from+2&&e.text.slice(d.from,d.toB)==$p+$p&&d.toB--,n={from:o+d.from,to:o+d.toA,insert:zn.of(e.text.slice(d.from,d.toB).split($p))})}else r&&(!t.hasFocus&&t.state.facet(Fc)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:(mt.mac||mt.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=Ue.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:zn.of([n.insert.toString().replace("."," ")])}):n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:mt.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=Ue.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:zn.of([" "])}),n)return vC(t,n,r,s);if(r&&!r.main.eq(i)){let o=!1,a="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(o=!0),a=t.inputState.lastSelectionOrigin,a=="select.pointer"&&(r=oF(t.state.facet(Fv).map(l=>l(t)),r))),t.dispatch({selection:r,scrollIntoView:o,userEvent:a}),!0}else return!1}function vC(t,e,n,r=-1){if(mt.ios&&t.inputState.flushIOSKey(e))return!0;let i=t.state.selection.main;if(mt.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&t.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&mm(t.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&mm(t.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&mm(t.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let o,a=()=>o||(o=P0e(t,e,n));return t.state.facet(XN).some(l=>l(t,e.from,e.to,s,a))||t.dispatch(a()),!0}function P0e(t,e,n){let r,i=t.state,s=i.selection.main,o=-1;if(e.from==e.to&&e.from<s.from||e.from>s.to){let l=e.from<s.from?-1:1,c=l<0?s.from:s.to,d=Kp(i.facet(Fv).map(h=>h(t)),c,l);e.from==d&&(o=d)}if(o>-1)r={changes:e,selection:Ue.cursor(e.from+e.insert.length,-1)};else if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let l=s.from<e.from?i.sliceDoc(s.from,e.from):"",c=s.to>e.to?i.sliceDoc(e.to,s.to):"";r=i.replaceSelection(t.state.toText(l+e.insert.sliceString(0,void 0,t.state.lineBreak)+c))}else{let l=i.changes(e),c=n&&n.main.to<=l.newLength?n.main:void 0;if(i.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let d=t.state.sliceDoc(e.from,e.to),h,f=n&&rF(t,n.main.head);if(f){let p=e.insert.length-(e.to-e.from);h={from:f.from,to:f.to-p}}else h=t.state.doc.lineAt(s.head);let m=s.to-e.to,g=s.to-s.from;r=i.changeByRange(p=>{if(p.from==s.from&&p.to==s.to)return{changes:l,range:c||p.map(l)};let v=p.to-m,b=v-d.length;if(p.to-p.from!=g||t.state.sliceDoc(b,v)!=d||p.to>=h.from&&p.from<=h.to)return{range:p};let y=i.changes({from:b,to:v,insert:e.insert}),C=p.to-s.to;return{changes:y,range:c?Ue.range(Math.max(0,c.anchor+C),Math.max(0,c.head+C)):p.map(y)}})}else r={changes:l,selection:c&&i.selection.replaceRange(c)}}let a="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,a+=".compose",t.inputState.compositionFirstChange&&(a+=".start",t.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:a,scrollIntoView:!0})}function lF(t,e,n,r){let i=Math.min(t.length,e.length),s=0;for(;s<i&&t.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&t.length==e.length)return null;let o=t.length,a=e.length;for(;o>0&&a>0&&t.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(r=="end"){let l=Math.max(0,s-Math.min(o,a));n-=o+l-s}if(o<s&&t.length<e.length){let l=n<=s&&n>=o?s-n:0;s-=l,a=s+(a-o),o=s}else if(a<s){let l=n<=s&&n>=a?s-n:0;s-=l,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}function R0e(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}=t.observer.selectionRange;return n&&(e.push(new O8(n,r)),(i!=n||s!=r)&&e.push(new O8(i,s))),e}function M0e(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?Ue.single(n+e,r+e):null}class I0e{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,mt.safari&&e.contentDOM.addEventListener("input",()=>null),mt.gecko&&G0e(e.contentDOM.ownerDocument)}handleEvent(e){!U0e(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,n){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,n);for(let i of r.handlers){if(n.defaultPrevented)break;if(i(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=$0e(e),r=this.handlers,i=this.view.contentDOM;for(let s in n)if(s!="scroll"){let o=!n[s].handlers.length,a=r[s];a&&o!=!a.handlers.length&&(i.removeEventListener(s,this.handleEvent),a=null),a||i.addEventListener(s,this.handleEvent,{passive:o})}for(let s in r)s!="scroll"&&!n[s]&&i.removeEventListener(s,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&uF.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),mt.android&&mt.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return mt.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=cF.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||L0e.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,mm(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:mt.safari&&!mt.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function w8(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(i){Io(n.state,i)}}}function $0e(t){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of t){let i=r.spec,s=i&&i.plugin.domEventHandlers,o=i&&i.plugin.domEventObservers;if(s)for(let a in s){let l=s[a];l&&n(a).handlers.push(w8(r.value,l))}if(o)for(let a in o){let l=o[a];l&&n(a).observers.push(w8(r.value,l))}}for(let r in hl)n(r).handlers.push(hl[r]);for(let r in Pa)n(r).observers.push(Pa[r]);return e}const cF=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],L0e="dthko",uF=[16,17,18,20,91,92,224,225],_1=6;function C1(t){return Math.max(0,t)*.7+8}function N0e(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class F0e{constructor(e,n,r,i){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=jpe(e.contentDOM),this.atoms=e.state.facet(Fv).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(qn.allowMultipleSelections)&&B0e(e,n),this.dragging=Q0e(e,n)&&fF(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&N0e(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,i=0,s=0,o=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=pC(this.view);e.clientX-l.left<=i+_1?n=-C1(i-e.clientX):e.clientX+l.right>=o-_1&&(n=C1(e.clientX-o)),e.clientY-l.top<=s+_1?r=-C1(s-e.clientY):e.clientY+l.bottom>=a-_1&&(r=C1(e.clientY-a)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:n}=this,r=oF(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function B0e(t,e){let n=t.state.facet(jN);return n.length?n[0](e):mt.mac?e.metaKey:e.ctrlKey}function z0e(t,e){let n=t.state.facet(qN);return n.length?n[0](e):mt.mac?!e.altKey:!e.ctrlKey}function Q0e(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=N0(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let o=i[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function U0e(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=rr.get(n))&&r.ignoreEvent(e))return!1;return!0}const hl=Object.create(null),Pa=Object.create(null),dF=mt.ie&&mt.ie_version<15||mt.ios&&mt.webkit_version<604;function V0e(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),hF(t,n.value)},50)}function DO(t,e,n){for(let r of t.facet(e))n=r(n,t);return n}function hF(t,e){e=DO(t.state,fC,e);let{state:n}=t,r,i=1,s=n.toText(e),o=s.lines==n.selection.ranges.length;if(s3!=null&&n.selection.ranges.every(l=>l.empty)&&s3==s.toString()){let l=-1;r=n.changeByRange(c=>{let d=n.doc.lineAt(c.from);if(d.from==l)return{range:c};l=d.from;let h=n.toText((o?s.line(i++).text:e)+n.lineBreak);return{changes:{from:d.from,insert:h},range:Ue.cursor(c.from+h.length)}})}else o?r=n.changeByRange(l=>{let c=s.line(i++);return{changes:{from:l.from,to:l.to,insert:c.text},range:Ue.cursor(l.from+c.length)}}):r=n.replaceSelection(s);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Pa.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};hl.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);Pa.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};Pa.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};hl.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(HN))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=H0e(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new F0e(t,e,n,r)),r&&t.observer.ignore(()=>{EN(t.contentDOM);let s=t.root.activeElement;s&&!s.contains(t.contentDOM)&&s.blur()});let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}else t.inputState.setSelectionOrigin("select.pointer");return!1};function k8(t,e,n,r){if(r==1)return Ue.cursor(e,n);if(r==2)return b0e(t.state,e,n);{let i=ti.find(t.docView,e),s=t.state.doc.lineAt(i?i.posAtEnd:e),o=i?i.posAtStart:s.from,a=i?i.posAtEnd:s.to;return a<t.state.doc.length&&a==s.to&&a++,Ue.range(o,a)}}let S8=(t,e,n)=>e>=n.top&&e<=n.bottom&&t>=n.left&&t<=n.right;function j0e(t,e,n,r){let i=ti.find(t.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(s==0)return 1;if(s==i.length)return-1;let o=i.coordsAt(s,-1);if(o&&S8(n,r,o))return-1;let a=i.coordsAt(s,1);return a&&S8(n,r,a)?1:o&&o.bottom>=r?-1:1}function x8(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:j0e(t,n,e.clientX,e.clientY)}}const q0e=mt.ie&&mt.ie_version<=11;let _8=null,C8=0,E8=0;function fF(t){if(!q0e)return t.detail;let e=_8,n=E8;return _8=t,E8=Date.now(),C8=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(C8+1)%3:1}function H0e(t,e){let n=x8(t,e),r=fF(e),i=t.state.selection;return{update(s){s.docChanged&&(n.pos=s.changes.mapPos(n.pos),i=i.map(s.changes))},get(s,o,a){let l=x8(t,s),c,d=k8(t,l.pos,l.bias,r);if(n.pos!=l.pos&&!o){let h=k8(t,n.pos,n.bias,r),f=Math.min(h.from,d.from),m=Math.max(h.to,d.to);d=f<d.from?Ue.range(f,m):Ue.range(m,f)}return o?i.replaceRange(i.main.extend(d.from,d.to)):a&&r==1&&i.ranges.length>1&&(c=W0e(i,l.pos))?c:a?i.addRange(d):Ue.create([d])}}}function W0e(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return Ue.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}hl.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let i=t.docView.nearest(e.target);if(i&&i.isWidget){let s=i.posAtStart,o=s+i.length;(s>=n.to||o<=n.from)&&(n=Ue.range(s,o))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",DO(t.state,mC,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};hl.dragend=t=>(t.inputState.draggedContent=null,!1);function T8(t,e,n,r){if(n=DO(t.state,fC,n),!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=t.inputState,o=r&&s&&z0e(t,e)?{from:s.from,to:s.to}:null,a={from:i,insert:n},l=t.state.changes(o?[o,a]:a);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"}),t.inputState.draggedContent=null}hl.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,s=()=>{++i==n.length&&T8(t,e,r.filter(o=>o!=null).join(t.state.lineBreak),!1)};for(let o=0;o<n.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(r[o]=a.result),s()},a.readAsText(n[o])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return T8(t,e,r,!0),!0}return!1};hl.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=dF?null:e.clipboardData;return n?(hF(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(V0e(t),!1)};function X0e(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function Y0e(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:s}of t.selection.ranges){let o=t.doc.lineAt(s);o.number>i&&(e.push(o.text),n.push({from:o.from,to:Math.min(t.doc.length,o.to+1)})),i=o.number}r=!0}return{text:DO(t,mC,e.join(t.lineBreak)),ranges:n,linewise:r}}let s3=null;hl.copy=hl.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=Y0e(t.state);if(!n&&!i)return!1;s3=i?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let s=dF?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",n),!0):(X0e(t,n),!1)};const mF=fu.define();function gF(t,e){let n=[];for(let r of t.facet(YN)){let i=r(t,e);i&&n.push(i)}return n.length?t.update({effects:n,annotations:mF.of(!0)}):null}function pF(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=gF(t.state,e);n?t.dispatch(n):t.update([])}},10)}Pa.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),pF(t)};Pa.blur=t=>{t.observer.clearSelectionRange(),pF(t)};Pa.compositionstart=Pa.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};Pa.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,mt.chrome&&mt.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};Pa.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};hl.beforeinput=(t,e)=>{var n,r;if(e.inputType=="insertReplacementText"&&t.observer.editContext){let s=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),o=e.getTargetRanges();if(s&&o.length){let a=o[0],l=t.posAtDOM(a.startContainer,a.startOffset),c=t.posAtDOM(a.endContainer,a.endOffset);return vC(t,{from:l,to:c,insert:t.state.toText(s)},null),!0}}let i;if(mt.chrome&&mt.android&&(i=cF.find(s=>s.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let s=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>s+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return mt.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),mt.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>Pa.compositionend(t,e),20),!1};const D8=new Set;function G0e(t){D8.has(t)||(D8.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const A8=["pre-wrap","normal","pre-line","break-spaces"];let qm=!1;function P8(){qm=!1}class Z0e{constructor(e){this.lineWrapping=e,this.doc=zn.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return A8.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,s,o){let a=A8.indexOf(e)>-1,l=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=s,l){this.heightSamples={};for(let c=0;c<o.length;c++){let d=o[c];d<0?c++:this.heightSamples[Math.floor(d*10)]=!0}}return l}}class K0e{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class Bl{constructor(e,n,r,i,s){this.from=e,this.length=n,this.top=r,this.height=i,this._content=s}get type(){return typeof this._content=="number"?Zl.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof md?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Bl(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var Sr=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(Sr||(Sr={}));const Vb=.001;class Ls{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Vb&&(qm=!0),this.height=e)}replace(e,n,r){return Ls.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let s=this,o=r.doc;for(let a=i.length-1;a>=0;a--){let{fromA:l,toA:c,fromB:d,toB:h}=i[a],f=s.lineAt(l,Sr.ByPosNoHeight,r.setDoc(n),0,0),m=f.to>=c?f:s.lineAt(c,Sr.ByPosNoHeight,r,0,0);for(h+=m.to-c,c=m.to;a>0&&f.from<=i[a-1].toA;)l=i[a-1].fromA,d=i[a-1].fromB,a--,l<f.from&&(f=s.lineAt(l,Sr.ByPosNoHeight,r,0,0));d+=f.from-l,l=f.from;let g=bC.build(r.setDoc(o),e,d,h);s=Wy(s,s.replace(l,c,g))}return s.updateHeight(r,0)}static empty(){return new _o(0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,s=0;for(;;)if(n==r)if(i>s*2){let a=e[n-1];a.break?e.splice(--n,1,a.left,null,a.right):e.splice(--n,1,a.left,a.right),r+=1+a.break,i-=a.size}else if(s>i*2){let a=e[r];a.break?e.splice(r,1,a.left,null,a.right):e.splice(r,1,a.left,a.right),r+=2+a.break,s-=a.size}else break;else if(i<s){let a=e[n++];a&&(i+=a.size)}else{let a=e[--r];a&&(s+=a.size)}let o=0;return e[n-1]==null?(o=1,n--):e[n]==null&&(o=1,r++),new J0e(Ls.of(e.slice(0,n)),o,Ls.of(e.slice(r)))}}function Wy(t,e){return t==e?t:(t.constructor!=e.constructor&&(qm=!0),e)}Ls.prototype.size=1;class vF extends Ls{constructor(e,n,r){super(e,n),this.deco=r}blockAt(e,n,r,i){return new Bl(i,this.length,r,this.height,this.deco||0)}lineAt(e,n,r,i,s){return this.blockAt(0,r,i,s)}forEachLine(e,n,r,i,s,o){e<=s+this.length&&n>=s&&o(this.blockAt(0,r,i,s))}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class _o extends vF{constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,n,r,i){return new Bl(i,this.length,r,this.height,this.breaks)}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof _o||i instanceof Hi&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof Hi?i=new _o(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):Ls.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Hi extends Ls{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,s=i-r+1,o,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*s);o=l/s,this.length>s+1&&(a=(this.height-l)/(this.length-s-1))}else o=this.height/s;return{firstLine:r,lastLine:i,perLine:o,perChar:a}}blockAt(e,n,r,i){let{firstLine:s,lastLine:o,perLine:a,perChar:l}=this.heightMetrics(n,i);if(n.lineWrapping){let c=i+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),d=n.doc.lineAt(c),h=a+d.length*l,f=Math.max(r,e-h/2);return new Bl(d.from,d.length,f,h,0)}else{let c=Math.max(0,Math.min(o-s,Math.floor((e-r)/a))),{from:d,length:h}=n.doc.line(s+c);return new Bl(d,h,r+a*c,a,0)}}lineAt(e,n,r,i,s){if(n==Sr.ByHeight)return this.blockAt(e,r,i,s);if(n==Sr.ByPosNoHeight){let{from:m,to:g}=r.doc.lineAt(e);return new Bl(m,g-m,0,0,0)}let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(r,s),c=r.doc.lineAt(e),d=a+c.length*l,h=c.number-o,f=i+a*h+l*(c.from-s-h);return new Bl(c.from,c.length,Math.max(i,Math.min(f,i+this.height-d)),d,0)}forEachLine(e,n,r,i,s,o){e=Math.max(e,s),n=Math.min(n,s+this.length);let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(r,s);for(let d=e,h=i;d<=n;){let f=r.doc.lineAt(d);if(d==e){let g=f.number-a;h+=l*g+c*(e-s-g)}let m=l+c*f.length;o(new Bl(f.from,f.length,h,m,0)),h+=m,d=f.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let s=r[r.length-1];s instanceof Hi?r[r.length-1]=new Hi(s.length+i):r.push(null,new Hi(i-1))}if(e>0){let s=r[0];s instanceof Hi?r[0]=new Hi(e+s.length):r.unshift(new Hi(e-1),null)}return Ls.of(r)}decomposeLeft(e,n){n.push(new Hi(e-1),null)}decomposeRight(e,n){n.push(null,new Hi(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let s=n+this.length;if(i&&i.from<=n+this.length&&i.more){let o=[],a=Math.max(n,i.from),l=-1;for(i.from>n&&o.push(new Hi(i.from-n-1).updateHeight(e,n));a<=s&&i.more;){let d=e.doc.lineAt(a).length;o.length&&o.push(null);let h=i.heights[i.index++];l==-1?l=h:Math.abs(h-l)>=Vb&&(l=-2);let f=new _o(d,h);f.outdated=!1,o.push(f),a+=d+1}a<=s&&o.push(null,new Hi(s-a).updateHeight(e,a));let c=Ls.of(o);return(l<0||Math.abs(c.height-this.height)>=Vb||Math.abs(l-this.heightMetrics(e,n).perLine)>=Vb)&&(qm=!0),Wy(this,c)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class J0e extends Ls{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let s=r+this.left.height;return e<s?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,s,i+this.left.length+this.break)}lineAt(e,n,r,i,s){let o=i+this.left.height,a=s+this.left.length+this.break,l=n==Sr.ByHeight?e<o:e<a,c=l?this.left.lineAt(e,n,r,i,s):this.right.lineAt(e,n,r,o,a);if(this.break||(l?c.to<a:c.from>a))return c;let d=n==Sr.ByPosNoHeight?Sr.ByPosNoHeight:Sr.ByPos;return l?c.join(this.right.lineAt(a,d,r,o,a)):this.left.lineAt(a,d,r,i,s).join(c)}forEachLine(e,n,r,i,s,o){let a=i+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,n,r,i,s,o),n>=l&&this.right.forEachLine(e,n,r,a,l,o);else{let c=this.lineAt(l,Sr.ByPos,r,i,s);e<c.from&&this.left.forEachLine(e,c.from-1,r,i,s,o),c.to>=e&&c.from<=n&&o(c),n>c.to&&this.right.forEachLine(c.to+1,n,r,a,l,o)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of r)s.push(a);if(e>0&&R8(s,o-1),n<this.length){let a=s.length;this.decomposeRight(n,s),R8(s,a)}return Ls.of(s)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?Ls.of(this.break?[e,null,n]:[e,n]):(this.left=Wy(this.left,e),this.right=Wy(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:s,right:o}=this,a=n+s.length+this.break,l=null;return i&&i.from<=n+s.length&&i.more?l=s=s.updateHeight(e,n,r,i):s.updateHeight(e,n,r),i&&i.from<=a+o.length&&i.more?l=o=o.updateHeight(e,a,r,i):o.updateHeight(e,a,r),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function R8(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof Hi&&(r=t[e+1])instanceof Hi&&t.splice(e-1,3,new Hi(n.length+1+r.length))}const eve=5;class bC{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof _o?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new _o(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,s=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let o=n-e;r.block?this.addBlock(new vF(o,i,r)):(o||s||i>=eve)&&this.addLineDeco(i,s,o)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new _o(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let r=new Hi(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof _o)return e;let n=new _o(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof _o)&&!this.isCovered?this.nodes.push(new _o(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof _o&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let s=new bC(r,e);return xr.spans(n,r,i,s,0),s.finish(r)}}function tve(t,e,n){let r=new nve;return xr.compare(t,e,n,r,0),r.changes}class nve{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&Ub(e,n,this.changes,5)}}function rve(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,s=Math.max(0,n.left),o=Math.min(i.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom);for(let c=t.parentNode;c&&c!=r.body;)if(c.nodeType==1){let d=c,h=window.getComputedStyle(d);if((d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth)&&h.overflow!="visible"){let f=d.getBoundingClientRect();s=Math.max(s,f.left),o=Math.min(o,f.right),a=Math.max(a,f.top),l=Math.min(c==t.parentNode?i.innerHeight:l,f.bottom)}c=h.position=="absolute"||h.position=="fixed"?d.offsetParent:d.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:s-n.left,right:Math.max(s,o)-n.left,top:a-(n.top+e),bottom:Math.max(a,l)-(n.top+e)}}function ive(t){let e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView||window;return e.left<n.innerWidth&&e.right>0&&e.top<n.innerHeight&&e.bottom>0}function sve(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class Pk{constructor(e,n,r,i){this.from=e,this.to=n,this.size=r,this.displaySize=i}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=n[r];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e,n){return kn.replace({widget:new ove(this.displaySize*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class ove extends mu{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class M8{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=I8,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=si.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(gC).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new Z0e(n),this.stateDeco=e.facet(F0).filter(r=>typeof r!="function"),this.heightMap=Ls.empty().applyChanges(this.stateDeco,zn.empty,this.heightOracle.setDoc(e.doc),[new _a(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=kn.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:s,to:o})=>i>=s&&i<=o)){let{from:s,to:o}=this.lineBlockAt(i);e.push(new E1(s,o))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?I8:new yC(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Lp(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(F0).filter(d=>typeof d!="function");let i=e.changedRanges,s=_a.extendWithRanges(i,tve(r,this.stateDeco,e?e.changes:gi.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);P8(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=o||qm)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=o);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<l.from||n.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,n));let c=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(c||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(c0e)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?si.RTL:si.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=n.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,d=0;if(a.width&&a.height){let{scaleX:x,scaleY:O}=CN(n,a);(x>.005&&Math.abs(this.scaleX-x)>.005||O>.005&&Math.abs(this.scaleY-O)>.005)&&(this.scaleX=x,this.scaleY=O,c|=16,o=l=!0)}let h=(parseInt(r.paddingTop)||0)*this.scaleY,f=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=h||this.paddingBottom!=f)&&(this.paddingTop=h,this.paddingBottom=f,c|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=16);let m=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=m&&(this.scrollAnchorHeight=-1,this.scrollTop=m),this.scrolledToBottom=DN(e.scrollDOM);let g=(this.printing?sve:rve)(n,this.paddingTop),p=g.top-this.pixelViewport.top,v=g.bottom-this.pixelViewport.bottom;this.pixelViewport=g;let b=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(b!=this.inView&&(this.inView=b,b&&(l=!0)),!this.inView&&!this.scrollTarget&&!ive(e.dom))return 0;let y=a.width;if((this.contentDOMWidth!=y||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,c|=16),l){let x=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(x)&&(o=!0),o||i.lineWrapping&&Math.abs(y-this.contentDOMWidth)>i.charWidth){let{lineHeight:O,charWidth:S,textHeight:T}=e.docView.measureTextSize();o=O>0&&i.refresh(s,O,S,T,Math.max(5,y/S),x),o&&(e.docView.minWidth=0,c|=16)}p>0&&v>0?d=Math.max(p,v):p<0&&v<0&&(d=Math.min(p,v)),P8();for(let O of this.viewports){let S=O.from==this.viewport.from?x:e.docView.measureVisibleLineHeights(O);this.heightMap=(o?Ls.empty().applyChanges(this.stateDeco,zn.empty,this.heightOracle,[new _a(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new K0e(O.from,S))}qm&&(c|=2)}let C=!this.viewportIsAppropriate(this.viewport,d)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return C&&(c&2&&(c|=this.updateScaler()),this.viewport=this.getViewport(d,this.scrollTarget),c|=this.updateForViewport()),(c&2||C)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:a}=this,l=new E1(i.lineAt(o-r*1e3,Sr.ByHeight,s,0,0).from,i.lineAt(a+(1-r)*1e3,Sr.ByHeight,s,0,0).to);if(n){let{head:c}=n.range;if(c<l.from||c>l.to){let d=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=i.lineAt(c,Sr.ByPos,s,0,0),f;n.y=="center"?f=(h.top+h.bottom)/2-d/2:n.y=="start"||n.y=="nearest"&&c<l.from?f=h.top:f=h.bottom-d,l=new E1(i.lineAt(f-1e3/2,Sr.ByHeight,s,0,0).from,i.lineAt(f+d+1e3/2,Sr.ByHeight,s,0,0).to)}}return l}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new E1(this.heightMap.lineAt(r,Sr.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,Sr.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,Sr.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(n,Sr.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||i<=o-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||s>=a+Math.max(10,Math.min(r,250)))&&i>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new Pk(n.mapPos(i.from),n.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,s=i>>1,o=i<<1;if(this.defaultTextDirection!=si.LTR&&!r)return[];let a=[],l=(d,h,f,m)=>{if(h-d<s)return;let g=this.state.selection.main,p=[g.from];g.empty||p.push(g.to);for(let b of p)if(b>d&&b<h){l(d,b-10,f,m),l(b+10,h,f,m);return}let v=lve(e,b=>b.from>=f.from&&b.to<=f.to&&Math.abs(b.from-d)<s&&Math.abs(b.to-h)<s&&!p.some(y=>b.from<y&&b.to>y));if(!v){if(h<f.to&&n&&r&&n.visibleRanges.some(C=>C.from<=h&&C.to>=h)){let C=n.moveToLineBoundary(Ue.cursor(h),!1,!0).head;C>d&&(h=C)}let b=this.gapSize(f,d,h,m),y=r||b<2e6?b:2e6;v=new Pk(d,h,b,y)}a.push(v)},c=d=>{if(d.length<o||d.type!=Zl.Text)return;let h=ave(d.from,d.to,this.stateDeco);if(h.total<o)return;let f=this.scrollTarget?this.scrollTarget.range.head:null,m,g;if(r){let p=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,v,b;if(f!=null){let y=D1(h,f),C=((this.visibleBottom-this.visibleTop)/2+p)/d.height;v=y-C,b=y+C}else v=(this.visibleTop-d.top-p)/d.height,b=(this.visibleBottom-d.top+p)/d.height;m=T1(h,v),g=T1(h,b)}else{let p=h.total*this.heightOracle.charWidth,v=i*this.heightOracle.charWidth,b=0;if(p>2e6)for(let S of e)S.from>=d.from&&S.from<d.to&&S.size!=S.displaySize&&S.from*this.heightOracle.charWidth+b<this.pixelViewport.left&&(b=S.size-S.displaySize);let y=this.pixelViewport.left+b,C=this.pixelViewport.right+b,x,O;if(f!=null){let S=D1(h,f),T=((C-y)/2+v)/p;x=S-T,O=S+T}else x=(y-v)/p,O=(C+v)/p;m=T1(h,x),g=T1(h,O)}m>d.from&&l(d.from,m,d,h),g<d.to&&l(g,d.to,d,h)};for(let d of this.viewportLines)Array.isArray(d.type)?d.type.forEach(c):c(d);return a}gapSize(e,n,r,i){let s=D1(i,r)-D1(i,n);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){Pk.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=kn.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let r=[];xr.spans(n,this.viewport.from,this.viewport.to,{span(s,o){r.push({from:s,to:o})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let s=0;s<r.length&&!(i&8);s++){let o=this.visibleRanges[s],a=r[s];(o.from!=a.from||o.to!=a.to)&&(i|=4,e&&e.mapPos(o.from,-1)==a.from&&e.mapPos(o.to,1)==a.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||Lp(this.heightMap.lineAt(e,Sr.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||Lp(this.heightMap.lineAt(this.scaler.fromDOM(e),Sr.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return Lp(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class E1{constructor(e,n){this.from=e,this.to=n}}function ave(t,e,n){let r=[],i=t,s=0;return xr.spans(n,t,e,{span(){},point(o,a){o>i&&(r.push({from:i,to:o}),s+=o-i),i=a}},20),i<e&&(r.push({from:i,to:e}),s+=e-i),{total:s,ranges:r}}function T1({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:s,to:o}=e[i],a=o-s;if(r<=a)return s+r;r-=a}}function D1(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function lve(t,e){for(let n of t)if(e(n))return n}const I8={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};class yC{constructor(e,n,r){let i=0,s=0,o=0;this.viewports=r.map(({from:a,to:l})=>{let c=n.lineAt(a,Sr.ByPos,e,0,0).top,d=n.lineAt(l,Sr.ByPos,e,0,0).bottom;return i+=d-c,{from:a,to:l,top:c,bottom:d,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.top)return i+(e-r)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);r=s.bottom,i=s.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let s=n<this.viewports.length?this.viewports[n]:null;if(!s||e<s.domTop)return r+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);r=s.bottom,i=s.domBottom}}eq(e){return e instanceof yC?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,r)=>n.from==e.viewports[r].from&&n.to==e.viewports[r].to):!1}}function Lp(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new Bl(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(i=>Lp(i,e)):t._content)}const A1=Ut.define({combine:t=>t.join(" ")}),o3=Ut.define({combine:t=>t.indexOf(!0)>-1}),a3=hd.newName(),bF=hd.newName(),yF=hd.newName(),OF={"&light":"."+bF,"&dark":"."+yF};function l3(t,e,n){return new hd(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const cve=l3("."+a3,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},OF),uve={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Rk=mt.ie&&mt.ie_version<=11;class dve{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new qpe,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(mt.ie&&mt.ie_version<=11||mt.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&mt.android&&e.constructor.EDIT_CONTEXT!==!1&&!(mt.chrome&&mt.chrome_version<126)&&(this.editContext=new fve(e),e.state.facet(Fc)&&(e.contentDOM.editContext=this.editContext.editContext)),Rk&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(Fc)?r.root.activeElement!=this.dom:!Qb(this.dom,i))return;let s=i.anchorNode&&r.docView.nearest(i.anchorNode);if(s&&s.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(mt.ie&&mt.ie_version<=11||mt.android&&mt.chrome)&&!r.state.selection.main.empty&&i.focusNode&&Gp(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=N0(e.root);if(!n)return!1;let r=mt.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&hve(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let i=Qb(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&Wpe(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,uve),Rk&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Rk&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&mm(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(i=!0),n==-1?{from:n,to:r}=o:(n=Math.min(o.from,n),r=Math.max(o.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&Qb(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new A0e(this.view,e,n,r);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,i=aF(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!n.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.flags|=4),e.type=="childList"){let r=$8(n,e.previousSibling||e.target.previousSibling,-1),i=$8(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Fc)!=e.state.facet(Fc)&&(e.view.contentDOM.editContext=e.state.facet(Fc)?this.editContext.editContext:null))}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function $8(t,e,n){for(;e;){let r=rr.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function L8(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.docView.domAtPos(t.state.selection.main.anchor);return Gp(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function hve(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return L8(t,i)}let n=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?L8(t,n):null}class fve{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:s,head:o}=i,a=this.toEditorPos(r.updateRangeStart),l=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:a,drifted:!1});let c=l-a>r.text.length;a==this.from&&s<this.from?a=s:l==this.to&&s>this.to&&(l=s);let d=lF(e.state.sliceDoc(a,l),r.text,(c?i.from:i.to)-a,c?"end":null);if(!d){let f=Ue.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));f.main.eq(i)||e.dispatch({selection:f,userEvent:"select"});return}let h={from:d.from+a,to:d.toA+a,insert:zn.of(r.text.slice(d.from,d.toB).split(`
`))};if((mt.mac||mt.android)&&h.from==o-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(h={from:a,to:l,insert:zn.of([r.text.replace("."," ")])}),this.pendingContextChange=h,!e.state.readOnly){let f=this.to-this.from+(h.to-h.from+h.insert.length);vC(e,h,Ue.single(this.toEditorPos(r.selectionStart,f),this.toEditorPos(r.selectionEnd,f)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),h.from<h.to&&!h.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(n.text.slice(Math.max(0,r.updateRangeStart-1),Math.min(n.text.length,r.updateRangeStart+1)))&&this.handlers.compositionend(r)},this.handlers.characterboundsupdate=r=>{let i=[],s=null;for(let o=this.toEditorPos(r.rangeStart),a=this.toEditorPos(r.rangeEnd);o<a;o++){let l=e.coordsForChar(o);s=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||s||new DOMRect,i.push(s)}n.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let s of r.getTextFormats()){let o=s.underlineStyle,a=s.underlineThickness;if(!/none/i.test(o)&&!/none/i.test(a)){let l=this.toEditorPos(s.rangeStart),c=this.toEditorPos(s.rangeEnd);if(l<c){let d=`text-decoration: underline ${/^[a-z]/.test(o)?o+" ":o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${/thin/i.test(a)?1:2}px`;i.push(kn.mark({attributes:{style:d}}).range(l,c))}}}e.dispatch({effects:KN.of(kn.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)n.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=N0(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((s,o,a,l,c)=>{if(r)return;let d=c.length-(o-s);if(i&&o>=i.to)if(i.from==s&&i.to==o&&i.insert.eq(c)){i=this.pendingContextChange=null,n+=d,this.to+=d;return}else i=null,this.revertPending(e.state);if(s+=n,o+=n,o<=this.from)this.from+=d,this.to+=d;else if(s<this.to){if(s<this.from||o>this.to||this.to-this.from+c.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(o),c.toString()),this.to+=d}n+=d}),i&&!r&&this.revertPending(e.state),!r}update(e){let n=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),i=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e,n=this.to-this.from){e=Math.min(e,n);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let n=this.composing;return n&&n.drifted?n.contextBase+(e-n.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class Tt{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(s=>r(s,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||Hpe(e.parent)||document,this.viewState=new M8(e.state||qn.create(e)),e.scrollTo&&e.scrollTo.is(x1)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Xf).map(i=>new Tk(i));for(let i of this.plugins)i.update(this);this.observer=new dve(this),this.inputState=new I0e(this),this.inputState.ensureHandlers(this.plugins),this.docView=new m8(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let n=e.length==1&&e[0]instanceof ii?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,s=this.state;for(let f of e){if(f.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=f.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,a=0,l=null;e.some(f=>f.annotation(mF))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=gF(s,o),l||(a=1));let c=this.observer.delayedAndroidKey,d=null;if(c?(this.observer.clearDelayedAndroidKey(),d=this.observer.readChange(),(d&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(d=null)):this.observer.clear(),s.facet(qn.phrases)!=this.state.facet(qn.phrases))return this.setState(s);i=Hy.create(this,s,e),i.flags|=a;let h=this.viewState.scrollTarget;try{this.updateState=2;for(let f of e){if(h&&(h=h.map(f.changes)),f.scrollIntoView){let{main:m}=f.state.selection;h=new gm(m.empty?m:Ue.cursor(m.head,m.head>m.anchor?-1:1))}for(let m of f.effects)m.is(x1)&&(h=m.value.clip(this.state))}this.viewState.update(i,h),this.bidiCache=Xy.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(Ip)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(f=>f.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(A1)!=i.state.facet(A1)&&(this.viewState.mustMeasureContent=!0),(n||r||h||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!i.empty)for(let f of this.state.facet(r3))try{f(i)}catch(m){Io(this.state,m,"update listener")}(l||d)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),d&&!aF(this,d)&&c.force&&mm(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new M8(e),this.plugins=e.facet(Xf).map(r=>new Tk(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new m8(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(Xf),r=e.state.facet(Xf);if(n!=r){let i=[];for(let s of r){let o=n.indexOf(s);if(o<0)i.push(new Tk(s));else{let a=this.plugins[o];a.mustUpdate=e,i.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){Io(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(o<0)if(DN(r))s=-1,o=this.viewState.heightMap.height;else{let m=this.viewState.scrollAnchorAt(i);s=m.from,o=m.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];l&4||([this.measureRequests,c]=[c,this.measureRequests]);let d=c.map(m=>{try{return m.read(this)}catch(g){return Io(this.state,g),N8}}),h=Hy.create(this,this.state,[]),f=!1;h.flags|=l,n?n.flags|=l:n=h,this.updateState=2,h.empty||(this.updatePlugins(h),this.inputState.update(h),this.updateAttrs(),f=this.docView.update(h),f&&this.docViewUpdate());for(let m=0;m<c.length;m++)if(d[m]!=N8)try{let g=c[m];g.write&&g.write(d[m],this)}catch(g){Io(this.state,g)}if(f&&this.docView.updateSelection(!0),!h.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let g=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(g>1||g<-1){i=i+g,r.scrollTop=i/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let a of this.state.facet(r3))a(n)}get themeClasses(){return a3+" "+(this.state.facet(o3)?yF:bF)+" "+this.state.facet(A1)}updateAttrs(){let e=F8(this,JN,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Fc)?"true":"false",class:"cm-content",style:`${mt.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),F8(this,gC,n);let r=this.observer.ignore(()=>{let i=Kx(this.contentDOM,this.contentAttrs,n),s=Kx(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(Tt.announce)){n&&(this.announceDOM.textContent=""),n=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(Ip);let e=this.state.facet(Tt.cspNonce);hd.mount(this.root,this.styleModules.concat(cve).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.plugin!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.plugin==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return Ak(this,e,y8(this,e,n,r))}moveByGroup(e,n){return Ak(this,e,y8(this,e,n,r=>_0e(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),s=r[n?r.length-1:0];return Ue.cursor(s.side(n,i)+e.from,s.forward(!n,i)?1:-1)}moveToLineBoundary(e,n,r=!0){return x0e(this,e,n,r)}moveVertically(e,n,r){return Ak(this,e,C0e(this,e,n,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),iF(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),o=s[Wu.find(s,e-i.from,-1,n)];return $v(r,o.dir==si.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(GN)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>mve)return UN(e.length);let n=this.textDirectionAt(e.from),r;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==n&&(s.fresh||QN(s.isolates,r=f8(this,e))))return s.order;r||(r=f8(this,e));let i=o0e(e.text,n,r);return this.bidiCache.push(new Xy(e.from,e.to,n,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||mt.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{EN(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return x1.of(new gm(typeof e=="number"?Ue.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return x1.of(new gm(Ue.cursor(r.from),"start","start",r.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Aa.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Aa.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=hd.newName(),i=[A1.of(r),Ip.of(l3(`.${r}`,e))];return n&&n.dark&&i.push(o3.of(!0)),i}static baseTheme(e){return nf.lowest(Ip.of(l3("."+a3,e,OF)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&rr.get(r)||rr.get(e);return((n=i?.rootView)===null||n===void 0?void 0:n.view)||null}}Tt.styleModule=Ip;Tt.inputHandler=XN;Tt.clipboardInputFilter=fC;Tt.clipboardOutputFilter=mC;Tt.scrollHandler=ZN;Tt.focusChangeEffect=YN;Tt.perLineTextDirection=GN;Tt.exceptionSink=WN;Tt.updateListener=r3;Tt.editable=Fc;Tt.mouseSelectionStyle=HN;Tt.dragMovesSelection=qN;Tt.clickAddsSelectionRange=jN;Tt.decorations=F0;Tt.outerDecorations=eF;Tt.atomicRanges=Fv;Tt.bidiIsolatedRanges=tF;Tt.scrollMargins=nF;Tt.darkTheme=o3;Tt.cspNonce=Ut.define({combine:t=>t.length?t[0]:""});Tt.contentAttributes=gC;Tt.editorAttributes=JN;Tt.lineWrapping=Tt.contentAttributes.of({class:"cm-lineWrapping"});Tt.announce=Xn.define();const mve=4096,N8={};class Xy{constructor(e,n,r,i,s,o){this.from=e,this.to=n,this.dir=r,this.isolates=i,this.fresh=s,this.order=o}static update(e,n){if(n.empty&&!e.some(s=>s.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:si.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==i&&!n.touchesRange(o.from,o.to)&&r.push(new Xy(n.mapPos(o.from,1),n.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return r}}function F8(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let s=r[i],o=typeof s=="function"?s(t):s;o&&Zx(o,n)}return n}const gve=mt.mac?"mac":mt.windows?"win":mt.linux?"linux":"key";function pve(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,s,o,a;for(let l=0;l<n.length-1;++l){const c=n[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))i=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))o=!0;else if(/^mod$/i.test(c))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return i&&(r="Alt-"+r),s&&(r="Ctrl-"+r),a&&(r="Meta-"+r),o&&(r="Shift-"+r),r}function P1(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const vve=nf.default(Tt.domEventHandlers({keydown(t,e){return wve(bve(e.state),t,e,"editor")}})),td=Ut.define({enables:vve}),B8=new WeakMap;function bve(t){let e=t.facet(td),n=B8.get(e);return n||B8.set(e,n=Ove(e.reduce((r,i)=>r.concat(i),[]))),n}let Qu=null;const yve=4e3;function Ove(t,e=gve){let n=Object.create(null),r=Object.create(null),i=(o,a)=>{let l=r[o];if(l==null)r[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,c,d)=>{var h,f;let m=n[o]||(n[o]=Object.create(null)),g=a.split(/ (?!$)/).map(b=>pve(b,e));for(let b=1;b<g.length;b++){let y=g.slice(0,b).join(" ");i(y,!0),m[y]||(m[y]={preventDefault:!0,stopPropagation:!1,run:[C=>{let x=Qu={view:C,prefix:y,scope:o};return setTimeout(()=>{Qu==x&&(Qu=null)},yve),!0}]})}let p=g.join(" ");i(p,!1);let v=m[p]||(m[p]={preventDefault:!1,stopPropagation:!1,run:((f=(h=m._any)===null||h===void 0?void 0:h.run)===null||f===void 0?void 0:f.slice())||[]});l&&v.run.push(l),c&&(v.preventDefault=!0),d&&(v.stopPropagation=!0)};for(let o of t){let a=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let c of a){let d=n[c]||(n[c]=Object.create(null));d._any||(d._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:h}=o;for(let f in d)d[f].run.push(m=>h(m,c3))}let l=o[e]||o.key;if(l)for(let c of a)s(c,l,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(c,"Shift-"+l,o.shift,o.preventDefault,o.stopPropagation)}return n}let c3=null;function wve(t,e,n,r){c3=e;let i=zpe(e),s=eh(i,0),o=Lf(s)==i.length&&i!=" ",a="",l=!1,c=!1,d=!1;Qu&&Qu.view==n&&Qu.scope==r&&(a=Qu.prefix+" ",uF.indexOf(e.keyCode)<0&&(c=!0,Qu=null));let h=new Set,f=v=>{if(v){for(let b of v.run)if(!h.has(b)&&(h.add(b),b(n)))return v.stopPropagation&&(d=!0),!0;v.preventDefault&&(v.stopPropagation&&(d=!0),c=!0)}return!1},m=t[r],g,p;return m&&(f(m[a+P1(i,e,!o)])?l=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(mt.windows&&e.ctrlKey&&e.altKey)&&!(mt.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(g=fd[e.keyCode])&&g!=i?(f(m[a+P1(g,e,!0)])||e.shiftKey&&(p=L0[e.keyCode])!=i&&p!=g&&f(m[a+P1(p,e,!1)]))&&(l=!0):o&&e.shiftKey&&f(m[a+P1(i,e,!0)])&&(l=!0),!l&&f(m._any)&&(l=!0)),c&&(l=!0),l&&d&&e.stopPropagation(),c3=null,l}function z8(t,e,n,r,i){e.lastIndex=0;for(let s=t.iterRange(n,r),o=n,a;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;a=e.exec(s.value);)i(o+a.index,a)}function kve(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:s}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),s=Math.min(t.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}class Sve{constructor(e){const{regexp:n,decoration:r,decorate:i,boundary:s,maxLength:o=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=(a,l,c,d)=>i(d,c,c+a[0].length,a,l);else if(typeof r=="function")this.addMatch=(a,l,c,d)=>{let h=r(a,l,c);h&&d(c,c+a[0].length,h)};else if(r)this.addMatch=(a,l,c,d)=>d(c,c+a[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let n=new Ih,r=n.add.bind(n);for(let{from:i,to:s}of kve(e,this.maxLength))z8(e.state.doc,this.regexp,i,s,(o,a)=>this.addMatch(a,e,o,r));return n.finish()}updateDeco(e,n){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,o,a,l)=>{l>=e.view.viewport.from&&a<=e.view.viewport.to&&(r=Math.min(a,r),i=Math.max(l,i))}),e.viewportMoved||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,n.map(e.changes),r,i):n}updateRange(e,n,r,i){for(let s of e.visibleRanges){let o=Math.max(s.from,r),a=Math.min(s.to,i);if(a>=o){let l=e.state.doc.lineAt(o),c=l.to<a?e.state.doc.lineAt(a):l,d=Math.max(s.from,l.from),h=Math.min(s.to,c.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){d=o;break}for(;a<c.to;a++)if(this.boundary.test(c.text[a-c.from])){h=a;break}}let f=[],m,g=(p,v,b)=>f.push(b.range(p,v));if(l==c)for(this.regexp.lastIndex=d-l.from;(m=this.regexp.exec(l.text))&&m.index<h-l.from;)this.addMatch(m,e,m.index+l.from,g);else z8(e.state.doc,this.regexp,d,h,(p,v)=>this.addMatch(v,e,p,g));n=n.update({filterFrom:d,filterTo:h,filter:(p,v)=>p<d||v>h,add:f})}}return n}}class xve extends mu{constructor(e){super(),this.content=e}toDOM(e){let n=document.createElement("span");return n.className="cm-placeholder",n.style.pointerEvents="none",n.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),n.setAttribute("aria-hidden","true"),n}coordsAt(e){let n=e.firstChild?Um(e.firstChild):[];if(!n.length)return null;let r=window.getComputedStyle(e.parentNode),i=$v(n[0],r.direction!="rtl"),s=parseInt(r.lineHeight);return i.bottom-i.top>s*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+s}:i}ignoreEvent(){return!1}}function Q8(t){let e=Aa.fromClass(class{constructor(n){this.view=n,this.placeholder=t?kn.set([kn.widget({widget:new xve(t),side:1}).range(0)]):kn.none}get decorations(){return this.view.state.doc.length?kn.none:this.placeholder}},{decorations:n=>n.decorations});return typeof t=="string"?[e,Tt.contentAttributes.of({"aria-placeholder":t})]:e}const np="-10000px";class _ve{constructor(e,n,r,i){this.facet=n,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(n),this.tooltips=this.input.filter(o=>o);let s=null;this.tooltipViews=this.tooltips.map(o=>s=r(o,s))}update(e,n){var r;let i=e.state.facet(this.facet),s=i.filter(l=>l);if(i===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let o=[],a=n?[]:null;for(let l=0;l<s.length;l++){let c=s[l],d=-1;if(c){for(let h=0;h<this.tooltips.length;h++){let f=this.tooltips[h];f&&f.create==c.create&&(d=h)}if(d<0)o[l]=this.createTooltipView(c,l?o[l-1]:null),a&&(a[l]=!!c.above);else{let h=o[l]=this.tooltipViews[d];a&&(a[l]=n[d]),h.update&&h.update(e)}}}for(let l of this.tooltipViews)o.indexOf(l)<0&&(this.removeTooltipView(l),(r=l.destroy)===null||r===void 0||r.call(l));return n&&(a.forEach((l,c)=>n[c]=l),n.length=a.length),this.input=i,this.tooltips=s,this.tooltipViews=o,!0}}function Cve(t){let e=t.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const Mk=Ut.define({combine:t=>{var e,n,r;return{position:mt.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||Cve}}}),U8=new WeakMap,wF=Aa.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(Mk);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new _ve(t,kF,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(Mk);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",n.dom.appendChild(i)}return n.dom.style.position=this.position,n.dom.style.top=np,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(mt.gecko)n=s.offsetParent!=this.container.ownerDocument.body;else if(s.style.top==np&&s.style.left=="0px"){let o=s.getBoundingClientRect();n=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(n||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(t=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=pC(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,o)=>{let a=this.manager.tooltipViews[o];return a.getCoords?a.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(Mk).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:n}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{visible:n,space:r,scaleX:i,scaleY:s}=t,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:d}=c,h=t.pos[a],f=t.size[a];if(!h||l.clip!==!1&&(h.bottom<=Math.max(n.top,r.top)||h.top>=Math.min(n.bottom,r.bottom)||h.right<Math.max(n.left,r.left)-.1||h.left>Math.min(n.right,r.right)+.1)){d.style.top=np;continue}let m=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,g=m?7:0,p=f.right-f.left,v=(e=U8.get(c))!==null&&e!==void 0?e:f.bottom-f.top,b=c.offset||Tve,y=this.view.textDirection==si.LTR,C=f.width>r.right-r.left?y?r.left:r.right-f.width:y?Math.max(r.left,Math.min(h.left-(m?14:0)+b.x,r.right-p)):Math.min(Math.max(r.left,h.left-p+(m?14:0)-b.x),r.right-p),x=this.above[a];!l.strictSide&&(x?h.top-v-g-b.y<r.top:h.bottom+v+g+b.y>r.bottom)&&x==r.bottom-h.bottom>h.top-r.top&&(x=this.above[a]=!x);let O=(x?h.top-r.top:r.bottom-h.bottom)-g;if(O<v&&c.resize!==!1){if(O<this.view.defaultLineHeight){d.style.top=np;continue}U8.set(c,v),d.style.height=(v=O)/s+"px"}else d.style.height&&(d.style.height="");let S=x?h.top-v-g-b.y:h.bottom+g+b.y,T=C+p;if(c.overlap!==!0)for(let $ of o)$.left<T&&$.right>C&&$.top<S+v&&$.bottom>S&&(S=x?$.top-v-2-g:$.bottom+g+2);if(this.position=="absolute"?(d.style.top=(S-t.parent.top)/s+"px",V8(d,(C-t.parent.left)/i)):(d.style.top=S/s+"px",V8(d,C/i)),m){let $=h.left+(y?b.x:-b.x)-(C+14-7);m.style.left=$/i+"px"}c.overlap!==!0&&o.push({left:C,top:S,right:T,bottom:S+v}),d.classList.toggle("cm-tooltip-above",x),d.classList.toggle("cm-tooltip-below",!x),c.positioned&&c.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=np}},{eventObservers:{scroll(){this.maybeMeasure()}}});function V8(t,e){let n=parseInt(t.style.left,10);(isNaN(n)||Math.abs(e-n)>1)&&(t.style.left=e+"px")}const Eve=Tt.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Tve={x:0,y:0},kF=Ut.define({enables:[wF,Eve]});function SF(t,e){let n=t.plugin(wF);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}class Hm extends Mh{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Hm.prototype.elementClass="";Hm.prototype.toDOM=void 0;Hm.prototype.mapMode=Ds.TrackBefore;Hm.prototype.startSide=Hm.prototype.endSide=-1;Hm.prototype.point=!0;const xF=1024;let Dve=0;class ya{constructor(e,n){this.from=e,this.to=n}}class Kt{constructor(e={}){this.id=Dve++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=zi.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}Kt.closedBy=new Kt({deserialize:t=>t.split(" ")});Kt.openedBy=new Kt({deserialize:t=>t.split(" ")});Kt.group=new Kt({deserialize:t=>t.split(" ")});Kt.isolate=new Kt({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});Kt.contextHash=new Kt({perNode:!0});Kt.lookAhead=new Kt({perNode:!0});Kt.mounted=new Kt({perNode:!0});class B0{constructor(e,n,r){this.tree=e,this.overlay=n,this.parser=r}static get(e){return e&&e.props&&e.props[Kt.mounted.id]}}const Ave=Object.create(null);let zi=class _F{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):Ave,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new _F(e.name||"",n,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(Kt.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(Kt.group),s=-1;s<(i?i.length:0);s++){let o=n[s<0?r.name:i[s]];if(o)return o}}}};zi.none=new zi("",Object.create(null),0,8);class yg{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let i=null;for(let s of e){let o=s(r);if(o){i||(i=Object.assign({},r.props));let a=o[1],l=o[0];l.combine&&l.id in i&&(a=l.combine(i[l.id],a)),i[l.id]=a}}n.push(i?new zi(r.name,i,r.id,r.flags):r)}return new yg(n)}}const R1=new WeakMap,j8=new WeakMap;var gr;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(gr||(gr={}));class Sn{constructor(e,n,r,i,s){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=B0.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new Yy(this.topNode,e)}cursorAt(e,n=0,r=0){let i=R1.get(this)||this.topNode,s=new Yy(i);return s.moveTo(e,n),R1.set(this,s._tree),s}get topNode(){return new gs(this,0,0,null)}resolve(e,n=0){let r=z0(R1.get(this)||this.topNode,e,n,!1);return R1.set(this,r),r}resolveInner(e,n=0){let r=z0(j8.get(this)||this.topNode,e,n,!0);return j8.set(this,r),r}resolveStack(e,n=0){return Mve(this,e,n)}iterate(e){let{enter:n,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,a=(o&gr.IncludeAnonymous)>0;for(let l=this.cursor(o|gr.IncludeAnonymous);;){let c=!1;if(l.from<=s&&l.to>=i&&(!a&&l.type.isAnonymous||n(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:kC(zi.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new Sn(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new Sn(zi.none,n,r,i)))}static build(e){return Ive(e)}}Sn.empty=new Sn(zi.none,[],[],0);class OC{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new OC(this.buffer,this.index)}}class gd{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return zi.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,n,r,i,s){let{buffer:o}=this,a=-1;for(let l=e;l!=n&&!(CF(s,i,o[l+1],o[l+2])&&(a=l,r>0));l=o[l+3]);return a}slice(e,n,r){let i=this.buffer,s=new Uint16Array(n-e),o=0;for(let a=e,l=0;a<n;){s[l++]=i[a++],s[l++]=i[a++]-r;let c=s[l++]=i[a++]-r;s[l++]=i[a++]-e,o=Math.max(o,c)}return new gd(s,o,this.set)}}function CF(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function z0(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let o=!r&&t instanceof gs&&t.index<0?null:t.parent;if(!o)return t;t=o}let s=r?0:gr.IgnoreOverlays;if(r)for(let o=t,a=o.parent;a;o=a,a=o.parent)o instanceof gs&&o.index<0&&((i=a.enter(e,n,s))===null||i===void 0?void 0:i.from)!=o.from&&(t=a);for(;;){let o=t.enter(e,n,s);if(!o)return t;t=o}}class EF{cursor(e=0){return new Yy(this,e)}getChild(e,n=null,r=null){let i=q8(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return q8(this,e,n,r)}resolve(e,n=0){return z0(this,e,n,!1)}resolveInner(e,n=0){return z0(this,e,n,!0)}matchContext(e){return u3(this.parent,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let i=n.lastChild;if(!i||i.to!=n.to)break;i.type.isError&&i.from==i.to?(r=n,n=i.prevSibling):n=i}return r}get node(){return this}get next(){return this.parent}}class gs extends EF{constructor(e,n,r,i){super(),this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,c=n>0?a.length:-1;e!=c;e+=n){let d=a[e],h=l[e]+o.from;if(CF(i,r,h,h+d.length)){if(d instanceof gd){if(s&gr.ExcludeBuffers)continue;let f=d.findChild(0,d.buffer.length,n,r-h,i);if(f>-1)return new jl(new Pve(o,d,e,h),null,f)}else if(s&gr.IncludeAnonymous||!d.type.isAnonymous||wC(d)){let f;if(!(s&gr.IgnoreMounts)&&(f=B0.get(d))&&!f.overlay)return new gs(f.tree,h,e,o);let m=new gs(d,h,e,o);return s&gr.IncludeAnonymous||!m.type.isAnonymous?m:m.nextChild(n<0?d.children.length-1:0,n,r,i)}}}if(s&gr.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+n:e=n<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,r=0){let i;if(!(r&gr.IgnoreOverlays)&&(i=B0.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:a}of i.overlay)if((n>0?o<=s:o<s)&&(n<0?a>=s:a>s))return new gs(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function q8(t,e,n,r){let i=t.cursor(),s=[];if(!i.firstChild())return s;if(n!=null){for(let o=!1;!o;)if(o=i.type.is(n),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function u3(t,e,n=e.length-1){for(let r=t;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class Pve{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class jl extends EF{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return s<0?null:new jl(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,r=0){if(r&gr.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return s<0?null:new jl(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new jl(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new jl(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),n.push(0)}return new Sn(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function TF(t){if(!t.length)return null;let e=0,n=t[0];for(let s=1;s<t.length;s++){let o=t[s];(o.from>n.from||o.to<n.to)&&(n=o,e=s)}let r=n instanceof gs&&n.index<0?null:n.parent,i=t.slice();return r?i[e]=r:i.splice(e,1),new Rve(i,n)}class Rve{constructor(e,n){this.heads=e,this.node=n}get next(){return TF(this.heads)}}function Mve(t,e,n){let r=t.resolveInner(e,n),i=null;for(let s=r instanceof gs?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,n)),s=o}else{let o=B0.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let a=new gs(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(z0(a,e,n,!1))}}return i?TF(i):r}class Yy{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof gs)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof gs?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&gr.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&gr.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&gr.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let s=n+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let a=r._tree.children[s];if(this.mode&gr.IncludeAnonymous||a instanceof gd||!a.type.isAnonymous||wC(a))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;n=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)n=new jl(this.buffer,n,this.stack[i]);return this.bufferNode=new jl(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&n&&n(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return u3(this.node.parent,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return u3(this._tree,e,i);let o=r[n.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}}function wC(t){return t.children.some(e=>e instanceof gd||!e.type.isAnonymous||wC(e))}function Ive(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=xF,reused:s=[],minRepeatType:o=r.types.length}=t,a=Array.isArray(n)?new OC(n,n.length):n,l=r.types,c=0,d=0;function h(O,S,T,$,M,P){let{id:L,start:j,end:te,size:U}=a,N=d,z=c;if(U<0)if(a.next(),U==-1){let se=s[L];T.push(se),$.push(j-O);return}else if(U==-3){c=L;return}else if(U==-4){d=L;return}else throw new RangeError(`Unrecognized record size: ${U}`);let K=l[L],re,Q,D=j-O;if(te-j<=i&&(Q=v(a.pos-S,M))){let se=new Uint16Array(Q.size-Q.skip),he=a.pos-Q.size,E=se.length;for(;a.pos>he;)E=b(Q.start,se,E);re=new gd(se,te-Q.start,r),D=Q.start-O}else{let se=a.pos-U;a.next();let he=[],E=[],De=L>=o?L:-1,pe=0,ct=te;for(;a.pos>se;)De>=0&&a.id==De&&a.size>=0?(a.end<=ct-i&&(g(he,E,j,pe,a.end,ct,De,N,z),pe=he.length,ct=a.end),a.next()):P>2500?f(j,se,he,E):h(j,se,he,E,De,P+1);if(De>=0&&pe>0&&pe<he.length&&g(he,E,j,pe,j,ct,De,N,z),he.reverse(),E.reverse(),De>-1&&pe>0){let Mt=m(K,z);re=kC(K,he,E,0,he.length,0,te-j,Mt,Mt)}else re=p(K,he,E,te-j,N-te,z)}T.push(re),$.push(D)}function f(O,S,T,$){let M=[],P=0,L=-1;for(;a.pos>S;){let{id:j,start:te,end:U,size:N}=a;if(N>4)a.next();else{if(L>-1&&te<L)break;L<0&&(L=U-i),M.push(j,te,U),P++,a.next()}}if(P){let j=new Uint16Array(P*4),te=M[M.length-2];for(let U=M.length-3,N=0;U>=0;U-=3)j[N++]=M[U],j[N++]=M[U+1]-te,j[N++]=M[U+2]-te,j[N++]=N;T.push(new gd(j,M[2]-te,r)),$.push(te-O)}}function m(O,S){return(T,$,M)=>{let P=0,L=T.length-1,j,te;if(L>=0&&(j=T[L])instanceof Sn){if(!L&&j.type==O&&j.length==M)return j;(te=j.prop(Kt.lookAhead))&&(P=$[L]+j.length+te)}return p(O,T,$,M,P,S)}}function g(O,S,T,$,M,P,L,j,te){let U=[],N=[];for(;O.length>$;)U.push(O.pop()),N.push(S.pop()+T-M);O.push(p(r.types[L],U,N,P-M,j-P,te)),S.push(M-T)}function p(O,S,T,$,M,P,L){if(P){let j=[Kt.contextHash,P];L=L?[j].concat(L):[j]}if(M>25){let j=[Kt.lookAhead,M];L=L?[j].concat(L):[j]}return new Sn(O,S,T,$,L)}function v(O,S){let T=a.fork(),$=0,M=0,P=0,L=T.end-i,j={size:0,start:0,skip:0};e:for(let te=T.pos-O;T.pos>te;){let U=T.size;if(T.id==S&&U>=0){j.size=$,j.start=M,j.skip=P,P+=4,$+=4,T.next();continue}let N=T.pos-U;if(U<0||N<te||T.start<L)break;let z=T.id>=o?4:0,K=T.start;for(T.next();T.pos>N;){if(T.size<0)if(T.size==-3)z+=4;else break e;else T.id>=o&&(z+=4);T.next()}M=K,$+=U,P+=z}return(S<0||$==O)&&(j.size=$,j.start=M,j.skip=P),j.size>4?j:void 0}function b(O,S,T){let{id:$,start:M,end:P,size:L}=a;if(a.next(),L>=0&&$<o){let j=T;if(L>4){let te=a.pos-(L-4);for(;a.pos>te;)T=b(O,S,T)}S[--T]=j,S[--T]=P-O,S[--T]=M-O,S[--T]=$}else L==-3?c=$:L==-4&&(d=$);return T}let y=[],C=[];for(;a.pos>0;)h(t.start||0,t.bufferStart||0,y,C,-1,0);let x=(e=t.length)!==null&&e!==void 0?e:y.length?C[0]+y[0].length:0;return new Sn(l[t.topID],y.reverse(),C.reverse(),x)}const H8=new WeakMap;function jb(t,e){if(!t.isAnonymous||e instanceof gd||e.type!=t)return 1;let n=H8.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof Sn)){n=1;break}n+=jb(t,r)}H8.set(e,n)}return n}function kC(t,e,n,r,i,s,o,a,l){let c=0;for(let g=r;g<i;g++)c+=jb(t,e[g]);let d=Math.ceil(c*1.5/8),h=[],f=[];function m(g,p,v,b,y){for(let C=v;C<b;){let x=C,O=p[C],S=jb(t,g[C]);for(C++;C<b;C++){let T=jb(t,g[C]);if(S+T>=d)break;S+=T}if(C==x+1){if(S>d){let T=g[x];m(T.children,T.positions,0,T.children.length,p[x]+y);continue}h.push(g[x])}else{let T=p[C-1]+g[C-1].length-O;h.push(kC(t,g,p,x,C,O,T,null,l))}f.push(O+y-s)}}return m(e,n,r,i,0),(a||l)(h,f,o)}class DF{constructor(){this.map=new WeakMap}setBuffer(e,n,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(n,r)}getBuffer(e,n){let r=this.map.get(e);return r&&r.get(n)}set(e,n){e instanceof jl?this.setBuffer(e.context.buffer,e.index,n):e instanceof gs&&this.map.set(e.tree,n)}get(e){return e instanceof jl?this.getBuffer(e.context.buffer,e.index):e instanceof gs?this.map.get(e.tree):void 0}cursorSet(e,n){e.buffer?this.setBuffer(e.buffer.buffer,e.index,n):this.map.set(e.tree,n)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Wc{constructor(e,n,r,i,s=!1,o=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new Wc(0,e.length,e,0,!1,r)];for(let s of n)s.to>e.length&&i.push(s);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let d=a<n.length?n[a]:null,h=d?d.fromA:1e9;if(h-l>=r)for(;o&&o.from<h;){let f=o;if(l>=f.from||h<=f.to||c){let m=Math.max(f.from,l)-c,g=Math.min(f.to,h)-c;f=m>=g?null:new Wc(m,g,f.tree,f.offset+c,a>0,!!d)}if(f&&i.push(f),o.to>h)break;o=s<e.length?e[s++]:null}if(!d)break;l=d.toA,c=d.toA-d.toB}return i}}let AO=class{startParse(e,n,r){return typeof e=="string"&&(e=new $ve(e)),r=r?r.length?r.map(i=>new ya(i.from,i.to)):[new ya(0,0)]:[new ya(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let s=i.advance();if(s)return s}}};class $ve{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}function AF(t){return(e,n,r,i)=>new Nve(e,t,n,r,i)}class W8{constructor(e,n,r,i,s){this.parser=e,this.parse=n,this.overlay=r,this.target=i,this.from=s}}function X8(t){if(!t.length||t.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(t))}class Lve{constructor(e,n,r,i,s,o,a){this.parser=e,this.predicate=n,this.mounts=r,this.index=i,this.start=s,this.target=o,this.prev=a,this.depth=0,this.ranges=[]}}const d3=new Kt({perNode:!0});class Nve{constructor(e,n,r,i,s){this.nest=n,this.input=r,this.fragments=i,this.ranges=s,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let i of this.inner)i.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new Sn(r.type,r.children,r.positions,r.length,r.propValues.concat([[d3,this.stoppedAt]]))),r}let e=this.inner[this.innerDone],n=e.parse.advance();if(n){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[Kt.mounted.id]=new B0(n,e.overlay,e.parser),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].from<e&&(e=Math.min(e,this.inner[n].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].parse.stopAt(e)}startInner(){let e=new zve(this.fragments),n=null,r=null,i=new Yy(new gs(this.baseTree,this.ranges[0].from,0,null),gr.IncludeAnonymous|gr.IgnoreMounts);e:for(let s,o;;){let a=!0,l;if(this.stoppedAt!=null&&i.from>=this.stoppedAt)a=!1;else if(e.hasNode(i)){if(n){let c=n.mounts.find(d=>d.frag.from<=i.from&&d.frag.to>=i.to&&d.mount.overlay);if(c)for(let d of c.mount.overlay){let h=d.from+c.pos,f=d.to+c.pos;h>=i.from&&f<=i.to&&!n.ranges.some(m=>m.from<f&&m.to>h)&&n.ranges.push({from:h,to:f})}}a=!1}else if(r&&(o=Fve(r.ranges,i.from,i.to)))a=o!=2;else if(!i.type.isAnonymous&&(s=this.nest(i,this.input))&&(i.from<i.to||!s.overlay)){i.tree||(Bve(i),n&&n.depth++,r&&r.depth++);let c=e.findMounts(i.from,s.parser);if(typeof s.overlay=="function")n=new Lve(s.parser,s.overlay,c,this.inner.length,i.from,i.tree,n);else{let d=Z8(this.ranges,s.overlay||(i.from<i.to?[new ya(i.from,i.to)]:[]));d.length&&X8(d),(d.length||!s.overlay)&&this.inner.push(new W8(s.parser,d.length?s.parser.startParse(this.input,K8(c,d),d):s.parser.startParse(""),s.overlay?s.overlay.map(h=>new ya(h.from-i.from,h.to-i.from)):null,i.tree,d.length?d[0].from:i.from)),s.overlay?d.length&&(r={ranges:d,depth:0,prev:r}):a=!1}}else if(n&&(l=n.predicate(i))&&(l===!0&&(l=new ya(i.from,i.to)),l.from<l.to)){let c=n.ranges.length-1;c>=0&&n.ranges[c].to==l.from?n.ranges[c]={from:n.ranges[c].from,to:l.to}:n.ranges.push(l)}if(a&&i.firstChild())n&&n.depth++,r&&r.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(n&&!--n.depth){let c=Z8(this.ranges,n.ranges);c.length&&(X8(c),this.inner.splice(n.index,0,new W8(n.parser,n.parser.startParse(this.input,K8(n.mounts,c),c),n.ranges.map(d=>new ya(d.from-n.start,d.to-n.start)),n.target,c[0].from))),n=n.prev}r&&!--r.depth&&(r=r.prev)}}}}function Fve(t,e,n){for(let r of t){if(r.from>=n)break;if(r.to>e)return r.from<=e&&r.to>=n?2:1}return 0}function Y8(t,e,n,r,i,s){if(e<n){let o=t.buffer[e+1];r.push(t.slice(e,n,o)),i.push(o-s)}}function Bve(t){let{node:e}=t,n=[],r=e.context.buffer;do n.push(t.index),t.parent();while(!t.tree);let i=t.tree,s=i.children.indexOf(r),o=i.children[s],a=o.buffer,l=[s];function c(d,h,f,m,g,p){let v=n[p],b=[],y=[];Y8(o,d,v,b,y,m);let C=a[v+1],x=a[v+2];l.push(b.length);let O=p?c(v+4,a[v+3],o.set.types[a[v]],C,x-C,p-1):e.toTree();return b.push(O),y.push(C-m),Y8(o,a[v+3],h,b,y,m),new Sn(f,b,y,g)}i.children[s]=c(0,a.length,zi.none,0,o.length,n.length-1);for(let d of l){let h=t.tree.children[d],f=t.tree.positions[d];t.yield(new gs(h,f+t.from,d,t._tree))}}class G8{constructor(e,n){this.offset=n,this.done=!1,this.cursor=e.cursor(gr.IncludeAnonymous|gr.IgnoreMounts)}moveTo(e){let{cursor:n}=this,r=e-this.offset;for(;!this.done&&n.from<r;)n.to>=e&&n.enter(r,1,gr.IgnoreOverlays|gr.ExcludeBuffers)||n.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let n=this.cursor.tree;;){if(n==e.tree)return!0;if(n.children.length&&n.positions[0]==0&&n.children[0]instanceof Sn)n=n.children[0];else break}return!1}}let zve=class{constructor(e){var n;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=(n=r.tree.prop(d3))!==null&&n!==void 0?n:r.to,this.inner=new G8(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let n=this.curFrag=this.fragments[this.fragI];this.curTo=(e=n.tree.prop(d3))!==null&&e!==void 0?e:n.to,this.inner=new G8(n.tree,-n.offset)}}findMounts(e,n){var r;let i=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let s=this.inner.cursor.node;s;s=s.parent){let o=(r=s.tree)===null||r===void 0?void 0:r.prop(Kt.mounted);if(o&&o.parser==n)for(let a=this.fragI;a<this.fragments.length;a++){let l=this.fragments[a];if(l.from>=s.to)break;l.tree==this.curFrag.tree&&i.push({frag:l,pos:s.from-l.offset,mount:o})}}}return i}};function Z8(t,e){let n=null,r=e;for(let i=1,s=0;i<t.length;i++){let o=t[i-1].to,a=t[i].from;for(;s<r.length;s++){let l=r[s];if(l.from>=a)break;l.to<=o||(n||(r=n=e.slice()),l.from<o?(n[s]=new ya(l.from,o),l.to>a&&n.splice(s+1,0,new ya(a,l.to))):l.to>a?n[s--]=new ya(a,l.to):n.splice(s--,1))}}return r}function Qve(t,e,n,r){let i=0,s=0,o=!1,a=!1,l=-1e9,c=[];for(;;){let d=i==t.length?1e9:o?t[i].to:t[i].from,h=s==e.length?1e9:a?e[s].to:e[s].from;if(o!=a){let f=Math.max(l,n),m=Math.min(d,h,r);f<m&&c.push(new ya(f,m))}if(l=Math.min(d,h),l==1e9)break;d==l&&(o?(o=!1,i++):o=!0),h==l&&(a?(a=!1,s++):a=!0)}return c}function K8(t,e){let n=[];for(let{pos:r,mount:i,frag:s}of t){let o=r+(i.overlay?i.overlay[0].from:0),a=o+i.tree.length,l=Math.max(s.from,o),c=Math.min(s.to,a);if(i.overlay){let d=i.overlay.map(f=>new ya(f.from+r,f.to+r)),h=Qve(e,d,l,c);for(let f=0,m=l;;f++){let g=f==h.length,p=g?c:h[f].from;if(p>m&&n.push(new Wc(m,p,i.tree,-o,s.from>=m||s.openStart,s.to<=p||s.openEnd)),g)break;m=h[f].to}}else n.push(new Wc(l,c,i.tree,-o,s.from>=o||s.openStart,s.to<=a||s.openEnd))}return n}let Uve=0;class Do{constructor(e,n,r,i){this.name=e,this.set=n,this.base=r,this.modified=i,this.id=Uve++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let r=typeof e=="string"?e:"?";if(e instanceof Do&&(n=e),n?.base)throw new Error("Can not derive from a modified tag");let i=new Do(r,[],null,[]);if(i.set.push(i),n)for(let s of n.set)i.set.push(s);return i}static defineModifier(e){let n=new Gy(e);return r=>r.modified.indexOf(n)>-1?r:Gy.get(r.base||r,r.modified.concat(n).sort((i,s)=>i.id-s.id))}}let Vve=0;class Gy{constructor(e){this.name=e,this.instances=[],this.id=Vve++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(a=>a.base==e&&jve(n,a.modified));if(r)return r;let i=[],s=new Do(e.name,i,e,n);for(let a of n)a.instances.push(s);let o=qve(n);for(let a of e.set)if(!a.modified.length)for(let l of o)i.push(Gy.get(a,l));return s}}function jve(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function qve(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function Og(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let s=[],o=2,a=i;for(let h=0;;){if(a=="..."&&h>0&&h+3==i.length){o=1;break}let f=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!f)throw new RangeError("Invalid path: "+i);if(s.push(f[0]=="*"?"":f[0][0]=='"'?JSON.parse(f[0]):f[0]),h+=f[0].length,h==i.length)break;let m=i[h++];if(h==i.length&&m=="!"){o=0;break}if(m!="/")throw new RangeError("Invalid path: "+i);a=i.slice(h)}let l=s.length-1,c=s[l];if(!c)throw new RangeError("Invalid path: "+i);let d=new Q0(r,o,l>0?s.slice(0,l):null);e[c]=d.sort(e[c])}}return PF.add(e)}const PF=new Kt({combine(t,e){let n,r,i;for(;t||e;){!t||t.depth>e.depth?(i=e,e=e.next):(i=t,t=t.next);let s=new Q0(i.tags,i.mode,i.context);n?n.next=s:r=s,n=s}return r}});class Q0{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Q0.empty=new Q0([],2,null);function RF(t,e){let n=Object.create(null);for(let s of t)if(!Array.isArray(s.tag))n[s.tag.id]=s.class;else for(let o of s.tag)n[o.id]=s.class;let{scope:r,all:i=null}=e||{};return{style:s=>{let o=i;for(let a of s)for(let l of a.set){let c=n[l.id];if(c){o=o?o+" "+c:c;break}}return o},scope:r}}function Hve(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function Wve(t,e,n,r=0,i=t.length){let s=new Xve(r,Array.isArray(e)?e:[e],n);s.highlightRange(t.cursor(),r,i,"",s.highlighters),s.flush(i)}class Xve{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,s){let{type:o,from:a,to:l}=e;if(a>=r||l<=n)return;o.isTop&&(s=this.highlighters.filter(m=>!m.scope||m.scope(o)));let c=i,d=Yve(e)||Q0.empty,h=Hve(s,d.tags);if(h&&(c&&(c+=" "),c+=h,d.mode==1&&(i+=(i?" ":"")+h)),this.startSpan(Math.max(n,a),c),d.opaque)return;let f=e.tree&&e.tree.prop(Kt.mounted);if(f&&f.overlay){let m=e.node.enter(f.overlay[0].from+a,1),g=this.highlighters.filter(v=>!v.scope||v.scope(f.tree.type)),p=e.firstChild();for(let v=0,b=a;;v++){let y=v<f.overlay.length?f.overlay[v]:null,C=y?y.from+a:l,x=Math.max(n,b),O=Math.min(r,C);if(x<O&&p)for(;e.from<O&&(this.highlightRange(e,x,O,i,s),this.startSpan(Math.min(O,e.to),c),!(e.to>=C||!e.nextSibling())););if(!y||C>r)break;b=y.to+a,b>n&&(this.highlightRange(m.cursor(),Math.max(n,y.from+a),Math.min(r,b),"",g),this.startSpan(Math.min(r,b),c))}p&&e.parent()}else if(e.firstChild()){f&&(i="");do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,s),this.startSpan(Math.min(r,e.to),c)}while(e.nextSibling());e.parent()}}}function Yve(t){let e=t.type.prop(PF);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const lt=Do.define,M1=lt(),Lu=lt(),J8=lt(Lu),eD=lt(Lu),Nu=lt(),I1=lt(Nu),Ik=lt(Nu),Dl=lt(),Qd=lt(Dl),Cl=lt(),El=lt(),h3=lt(),rp=lt(h3),$1=lt(),ie={comment:M1,lineComment:lt(M1),blockComment:lt(M1),docComment:lt(M1),name:Lu,variableName:lt(Lu),typeName:J8,tagName:lt(J8),propertyName:eD,attributeName:lt(eD),className:lt(Lu),labelName:lt(Lu),namespace:lt(Lu),macroName:lt(Lu),literal:Nu,string:I1,docString:lt(I1),character:lt(I1),attributeValue:lt(I1),number:Ik,integer:lt(Ik),float:lt(Ik),bool:lt(Nu),regexp:lt(Nu),escape:lt(Nu),color:lt(Nu),url:lt(Nu),keyword:Cl,self:lt(Cl),null:lt(Cl),atom:lt(Cl),unit:lt(Cl),modifier:lt(Cl),operatorKeyword:lt(Cl),controlKeyword:lt(Cl),definitionKeyword:lt(Cl),moduleKeyword:lt(Cl),operator:El,derefOperator:lt(El),arithmeticOperator:lt(El),logicOperator:lt(El),bitwiseOperator:lt(El),compareOperator:lt(El),updateOperator:lt(El),definitionOperator:lt(El),typeOperator:lt(El),controlOperator:lt(El),punctuation:h3,separator:lt(h3),bracket:rp,angleBracket:lt(rp),squareBracket:lt(rp),paren:lt(rp),brace:lt(rp),content:Dl,heading:Qd,heading1:lt(Qd),heading2:lt(Qd),heading3:lt(Qd),heading4:lt(Qd),heading5:lt(Qd),heading6:lt(Qd),contentSeparator:lt(Dl),list:lt(Dl),quote:lt(Dl),emphasis:lt(Dl),strong:lt(Dl),link:lt(Dl),monospace:lt(Dl),strikethrough:lt(Dl),inserted:lt(),deleted:lt(),changed:lt(),invalid:lt(),meta:$1,documentMeta:lt($1),annotation:lt($1),processingInstruction:lt($1),definition:Do.defineModifier("definition"),constant:Do.defineModifier("constant"),function:Do.defineModifier("function"),standard:Do.defineModifier("standard"),local:Do.defineModifier("local"),special:Do.defineModifier("special")};for(let t in ie){let e=ie[t];e instanceof Do&&(e.name=t)}RF([{tag:ie.link,class:"tok-link"},{tag:ie.heading,class:"tok-heading"},{tag:ie.emphasis,class:"tok-emphasis"},{tag:ie.strong,class:"tok-strong"},{tag:ie.keyword,class:"tok-keyword"},{tag:ie.atom,class:"tok-atom"},{tag:ie.bool,class:"tok-bool"},{tag:ie.url,class:"tok-url"},{tag:ie.labelName,class:"tok-labelName"},{tag:ie.inserted,class:"tok-inserted"},{tag:ie.deleted,class:"tok-deleted"},{tag:ie.literal,class:"tok-literal"},{tag:ie.string,class:"tok-string"},{tag:ie.number,class:"tok-number"},{tag:[ie.regexp,ie.escape,ie.special(ie.string)],class:"tok-string2"},{tag:ie.variableName,class:"tok-variableName"},{tag:ie.local(ie.variableName),class:"tok-variableName tok-local"},{tag:ie.definition(ie.variableName),class:"tok-variableName tok-definition"},{tag:ie.special(ie.variableName),class:"tok-variableName2"},{tag:ie.definition(ie.propertyName),class:"tok-propertyName tok-definition"},{tag:ie.typeName,class:"tok-typeName"},{tag:ie.namespace,class:"tok-namespace"},{tag:ie.className,class:"tok-className"},{tag:ie.macroName,class:"tok-macroName"},{tag:ie.propertyName,class:"tok-propertyName"},{tag:ie.operator,class:"tok-operator"},{tag:ie.comment,class:"tok-comment"},{tag:ie.meta,class:"tok-meta"},{tag:ie.invalid,class:"tok-invalid"},{tag:ie.punctuation,class:"tok-punctuation"}]);var $k;const Xu=new Kt;function PO(t){return Ut.define({combine:t?e=>e.concat(t):void 0})}const SC=new Kt;let $o=class{constructor(e,n,r=[],i=""){this.data=e,this.name=i,qn.prototype.hasOwnProperty("tree")||Object.defineProperty(qn.prototype,"tree",{get(){return _r(this)}}),this.parser=n,this.extension=[Ym.of(this),qn.languageData.of((s,o,a)=>{let l=tD(s,o,a),c=l.type.prop(Xu);if(!c)return[];let d=s.facet(c),h=l.type.prop(SC);if(h){let f=l.resolve(o-l.from,a);for(let m of h)if(m.test(f,s)){let g=s.facet(m.facet);return m.type=="replace"?g:g.concat(d)}}return d})].concat(r)}isActiveAt(e,n,r=-1){return tD(e,n,r).type.prop(Xu)==this.data}findRegions(e){let n=e.facet(Ym);if(n?.data==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(Xu)==this.data){r.push({from:o,to:o+s.length});return}let a=s.prop(Kt.mounted);if(a){if(a.tree.prop(Xu)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+o,to:l.to+o});else r.push({from:o,to:o+s.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+o),r.length>l)return}}for(let l=0;l<s.children.length;l++){let c=s.children[l];c instanceof Sn&&i(c,s.positions[l]+o)}};return i(_r(e),0),r}get allowsNesting(){return!0}};$o.setState=Xn.define();function tD(t,e,n){let r=t.facet(Ym),i=_r(t).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,n,gr.ExcludeBuffers))s.type.isTop&&(i=s);return i}class Wm extends $o{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=PO(e.languageData);return new Wm(n,e.parser.configure({props:[Xu.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new Wm(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function _r(t){let e=t.field($o.state,!1);return e?e.tree:Sn.empty}class Gve{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let ip=null,Zy=class f3{constructor(e,n,r=[],i,s,o,a,l){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new f3(e,n,[],Sn.empty,0,r,[],null)}startParse(){return this.parser.startParse(new Gve(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=Sn.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Wc.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(Wc.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=ip;ip=this;try{return e()}finally{ip=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=nD(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,d,h,f)=>l.push({fromA:c,toA:d,fromB:h,toB:f})),r=Wc.applyChanges(r,l),i=Sn.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let d=e.mapPos(c.from,1),h=e.mapPos(c.to,-1);d<h&&a.push({from:d,to:h})}}}return new f3(this.parser,n,r,i,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=nD(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends AO{createParse(n,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let l=ip;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new Sn(zi.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return ip}};function nD(t,e,n){return Wc.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class Xm{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new Xm(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=Zy.create(e.facet(Ym).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new Xm(r)}}$o.state=La.define({create:Xm.init,update(t,e){for(let n of e.effects)if(n.is($o.setState))return n.value;return e.startState.facet(Ym)!=e.state.facet(Ym)?Xm.init(e.state):t.apply(e)}});let MF=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(MF=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const Lk=typeof navigator<"u"&&(!(($k=navigator.scheduling)===null||$k===void 0)&&$k.isInputPending)?()=>navigator.scheduling.isInputPending():null,Zve=Aa.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field($o.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field($o.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=MF(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field($o.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!Lk?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<i&&r.doc.length>i+1e3,l=s.context.work(()=>Lk&&Lk()||Date.now()>o,i+(a?0:1e5));this.chunkBudget-=Date.now()-n,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:$o.setState.of(new Xm(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>Io(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Ym=Ut.define({combine(t){return t.length?t[0]:null},enables:t=>[$o.state,Zve,Tt.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class U0{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}class Ky{constructor(e,n,r,i,s,o=void 0){this.name=e,this.alias=n,this.extensions=r,this.filename=i,this.loadFunc=s,this.support=o,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(e=>this.support=e,e=>{throw this.loading=null,e}))}static of(e){let{load:n,support:r}=e;if(!n){if(!r)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");n=()=>Promise.resolve(r)}return new Ky(e.name,(e.alias||[]).concat(e.name).map(i=>i.toLowerCase()),e.extensions||[],e.filename,n,r)}static matchFilename(e,n){for(let i of e)if(i.filename&&i.filename.test(n))return i;let r=/\.([^.]+)$/.exec(n);if(r){for(let i of e)if(i.extensions.indexOf(r[1])>-1)return i}return null}static matchLanguageName(e,n,r=!0){n=n.toLowerCase();for(let i of e)if(i.alias.some(s=>s==n))return i;if(r)for(let i of e)for(let s of i.alias){let o=n.indexOf(s);if(o>-1&&(s.length>2||!/\w/.test(n[o-1])&&!/\w/.test(n[o+s.length])))return i}return null}}const Kve=Ut.define(),Bv=Ut.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function Fh(t){let e=t.facet(Bv);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function Jy(t,e){let n="",r=t.tabSize,i=t.facet(Bv)[0];if(i=="	"){for(;e>=r;)n+="	",e-=r;i=" "}for(let s=0;s<e;s++)n+=i;return n}function IF(t,e){t instanceof qn&&(t=new RO(t));for(let r of t.state.facet(Kve)){let i=r(t,e);if(i!==void 0)return i}let n=_r(t.state);return n.length>=e?Jve(t,n,e):null}class RO{constructor(e,n={}){this.state=e,this.options=n,this.unit=Fh(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=r.from&&i<=r.to?s&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),s=this.countColumn(r,e-i),o=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return o>-1&&(s+=o-this.countColumn(r,r.search(/\S|$/))),s}countColumn(e,n=e.length){return tu(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),s=this.options.overrideIndentation;if(s){let o=s(i);if(o>-1)return o}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const wg=new Kt;function Jve(t,e,n){let r=e.resolveStack(n),i=e.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(i!=r.node){let s=[];for(let o=i;o&&!(o.from<r.node.from||o.to>r.node.to||o.from==r.node.from&&o.type==r.node.type);o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)r={node:s[o],next:r}}return $F(r,t,n)}function $F(t,e,n){for(let r=t;r;r=r.next){let i=t1e(r.node);if(i)return i(xC.create(e,n,r))}return 0}function e1e(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function t1e(t){let e=t.type.prop(wg);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(Kt.closedBy))){let i=t.lastChild,s=i&&r.indexOf(i.name)>-1;return o=>LF(o,!0,1,void 0,s&&!e1e(o)?i.from:void 0)}return t.parent==null?n1e:null}function n1e(){return 0}class xC extends RO{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.context=r}get node(){return this.context.node}static create(e,n,r){return new xC(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(r1e(r,e))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return $F(this.context.next,this.base,this.pos)}}function r1e(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function i1e(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,s=t.state.doc.lineAt(n.from),o=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let a=n.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped){if(l.from>=o)return null;let c=/^ */.exec(s.text.slice(n.to-s.from))[0].length;return{from:n.from,to:n.to+c}}a=l.to}}function s1e({closing:t,align:e=!0,units:n=1}){return r=>LF(r,e,n,t)}function LF(t,e,n,r,i){let s=t.textAfter,o=s.match(/^\s*/)[0].length,a=r&&s.slice(o,o+r.length)==r||i==t.pos+o,l=e?i1e(t):null;return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*n)}const o1e=t=>t.baseIndent;function qb({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const a1e=Ut.define(),zv=new Kt;function NF(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}class MO{constructor(e,n){this.specs=e;let r;function i(a){let l=hd.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const s=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,o=n.scope;this.scope=o instanceof $o?a=>a.prop(Xu)==o.data:o?a=>a==o:void 0,this.style=RF(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=r?new hd(r):null,this.themeType=n.themeType}static define(e,n){return new MO(e,n||{})}}const m3=Ut.define(),l1e=Ut.define({combine(t){return t.length?[t[0]]:null}});function Nk(t){let e=t.facet(m3);return e.length?e:t.facet(l1e)}function c1e(t,e){let n=[d1e],r;return t instanceof MO&&(t.module&&n.push(Tt.styleModule.of(t.module)),r=t.themeType),r?n.push(m3.computeN([Tt.darkTheme],i=>i.facet(Tt.darkTheme)==(r=="dark")?[t]:[])):n.push(m3.of(t)),n}class u1e{constructor(e){this.markCache=Object.create(null),this.tree=_r(e.state),this.decorations=this.buildDeco(e,Nk(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=_r(e.state),r=Nk(e.state),i=r!=Nk(e.startState),{viewport:s}=e.view,o=e.changes.mapPos(this.decoratedTo,1);n.length<s.to&&!i&&n.type==this.tree.type&&o>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=s.to)}buildDeco(e,n){if(!n||!this.tree.length)return kn.none;let r=new Ih;for(let{from:i,to:s}of e.visibleRanges)Wve(this.tree,n,(o,a,l)=>{r.add(o,a,this.markCache[l]||(this.markCache[l]=kn.mark({class:l})))},i,s);return r.finish()}}const d1e=nf.high(Aa.fromClass(u1e,{decorations:t=>t.decorations})),h1e=1e4,f1e="()[]{}",FF=new Kt;function g3(t,e,n){let r=t.prop(e<0?Kt.openedBy:Kt.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function p3(t){let e=t.type.prop(FF);return e?e(t.node):t}function Yf(t,e,n,r={}){let i=r.maxScanDistance||h1e,s=r.brackets||f1e,o=_r(t),a=o.resolveInner(e,n);for(let l=a;l;l=l.parent){let c=g3(l.type,n,s);if(c&&l.from<l.to){let d=p3(l);if(d&&(n>0?e>=d.from&&e<d.to:e>d.from&&e<=d.to))return m1e(t,e,n,l,d,c,s)}}return g1e(t,e,n,o,a.type,i,s)}function m1e(t,e,n,r,i,s,o){let a=r.parent,l={from:i.from,to:i.to},c=0,d=a?.cursor();if(d&&(n<0?d.childBefore(r.from):d.childAfter(r.to)))do if(n<0?d.to<=r.from:d.from>=r.to){if(c==0&&s.indexOf(d.type.name)>-1&&d.from<d.to){let h=p3(d);return{start:l,end:h?{from:h.from,to:h.to}:void 0,matched:!0}}else if(g3(d.type,n,o))c++;else if(g3(d.type,-n,o)){if(c==0){let h=p3(d);return{start:l,end:h&&h.from<h.to?{from:h.from,to:h.to}:void 0,matched:!1}}c--}}while(n<0?d.prevSibling():d.nextSibling());return{start:l,matched:!1}}function g1e(t,e,n,r,i,s,o){let a=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=n>0)return null;let c={from:n<0?e-1:e,to:n>0?e+1:e},d=t.doc.iterRange(e,n>0?t.doc.length:0),h=0;for(let f=0;!d.next().done&&f<=s;){let m=d.value;n<0&&(f+=m.length);let g=e+f*n;for(let p=n>0?0:m.length-1,v=n>0?m.length:-1;p!=v;p+=n){let b=o.indexOf(m[p]);if(!(b<0||r.resolveInner(g+p,1).type!=i))if(b%2==0==n>0)h++;else{if(h==1)return{start:c,end:{from:g+p,to:g+p+1},matched:b>>1==l>>1};h--}}n>0&&(f+=m.length)}return d.done?{start:c,matched:!1}:null}function rD(t,e,n,r=0,i=0){e==null&&(e=t.search(/[^\s\u00a0]/),e==-1&&(e=t.length));let s=i;for(let o=r;o<e;o++)t.charCodeAt(o)==9?s+=n-s%n:s++;return s}class BF{constructor(e,n,r,i){this.string=e,this.tabSize=n,this.indentUnit=r,this.overrideIndent=i,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let n=this.string.charAt(this.pos),r;if(typeof e=="string"?r=n==e:r=n&&(e instanceof RegExp?e.test(n):e(n)),r)return++this.pos,n}eatWhile(e){let n=this.pos;for(;this.eat(e););return this.pos>n}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let n=this.string.indexOf(e,this.pos);if(n>-1)return this.pos=n,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=rD(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var e;return(e=this.overrideIndent)!==null&&e!==void 0?e:rD(this.string,null,this.tabSize)}match(e,n,r){if(typeof e=="string"){let i=o=>r?o.toLowerCase():o,s=this.string.substr(this.pos,e.length);return i(s)==i(e)?(n!==!1&&(this.pos+=e.length),!0):null}else{let i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&n!==!1&&(this.pos+=i[0].length),i)}}current(){return this.string.slice(this.start,this.pos)}}function p1e(t){return{name:t.name||"",token:t.token,blankLine:t.blankLine||(()=>{}),startState:t.startState||(()=>!0),copyState:t.copyState||v1e,indent:t.indent||(()=>null),languageData:t.languageData||{},tokenTable:t.tokenTable||CC,mergeTokens:t.mergeTokens!==!1}}function v1e(t){if(typeof t!="object")return t;let e={};for(let n in t){let r=t[n];e[n]=r instanceof Array?r.slice():r}return e}const iD=new WeakMap;class He extends $o{constructor(e){let n=PO(e.languageData),r=p1e(e),i,s=new class extends AO{createParse(o,a,l){return new y1e(i,o,a,l)}};super(n,s,[],e.name),this.topNode=k1e(n,this),i=this,this.streamParser=r,this.stateAfter=new Kt({perNode:!0}),this.tokenTable=e.tokenTable?new VF(r.tokenTable):w1e}static define(e){return new He(e)}getIndent(e){let n,{overrideIndentation:r}=e.options;r&&(n=iD.get(e.state),n!=null&&n<e.pos-1e4&&(n=void 0));let i=_C(this,e.node.tree,e.node.from,e.node.from,n??e.pos),s,o;if(i?(o=i.state,s=i.pos+1):(o=this.streamParser.startState(e.unit),s=e.node.from),e.pos-s>1e4)return null;for(;s<e.pos;){let l=e.state.doc.lineAt(s),c=Math.min(e.pos,l.to);if(l.length){let d=r?r(l.from):-1,h=new BF(l.text,e.state.tabSize,e.unit,d<0?void 0:d);for(;h.pos<c-l.from;)QF(this.streamParser.token,h,o)}else this.streamParser.blankLine(o,e.unit);if(c==e.pos)break;s=l.to+1}let a=e.lineAt(e.pos);return r&&n==null&&iD.set(e.state,a.from),this.streamParser.indent(o,/^\s*(.*)/.exec(a.text)[1],e)}get allowsNesting(){return!1}}function _C(t,e,n,r,i){let s=n>=r&&n+e.length<=i&&e.prop(t.stateAfter);if(s)return{state:t.streamParser.copyState(s),pos:n+e.length};for(let o=e.children.length-1;o>=0;o--){let a=e.children[o],l=n+e.positions[o],c=a instanceof Sn&&l<i&&_C(t,a,l,r,i);if(c)return c}return null}function zF(t,e,n,r,i){if(i&&n<=0&&r>=e.length)return e;!i&&n==0&&e.type==t.topNode&&(i=!0);for(let s=e.children.length-1;s>=0;s--){let o=e.positions[s],a=e.children[s],l;if(o<r&&a instanceof Sn){if(!(l=zF(t,a,n-o,r-o,i)))break;return i?new Sn(e.type,e.children.slice(0,s).concat(l),e.positions.slice(0,s+1),o+l.length):l}}return null}function b1e(t,e,n,r,i){for(let s of e){let o=s.from+(s.openStart?25:0),a=s.to-(s.openEnd?25:0),l=o<=n&&a>n&&_C(t,s.tree,0-s.offset,n,a),c;if(l&&l.pos<=r&&(c=zF(t,s.tree,n+s.offset,l.pos+s.offset,!1)))return{state:l.state,tree:c}}return{state:t.streamParser.startState(i?Fh(i):4),tree:Sn.empty}}let y1e=class{constructor(e,n,r,i){this.lang=e,this.input=n,this.fragments=r,this.ranges=i,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=i[i.length-1].to;let s=Zy.get(),o=i[0].from,{state:a,tree:l}=b1e(e,r,o,this.to,s?.state);this.state=a,this.parsedPos=this.chunkStart=o+l.length;for(let c=0;c<l.children.length;c++)this.chunks.push(l.children[c]),this.chunkPos.push(l.positions[c]);s&&this.parsedPos<s.viewport.from-1e5&&i.some(c=>c.from<=s.viewport.from&&c.to>=s.viewport.from)&&(this.state=this.lang.streamParser.startState(Fh(s.state)),s.skipUntilInView(this.parsedPos,s.viewport.from),this.parsedPos=s.viewport.from),this.moveRangeIndex()}advance(){let e=Zy.get(),n=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),r=Math.min(n,this.chunkStart+512);for(e&&(r=Math.min(r,e.viewport.to));this.parsedPos<r;)this.parseLine(e);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=n?this.finish():e&&this.parsedPos>=e.viewport.to?(e.skipUntilInView(this.parsedPos,n),this.finish()):null}stopAt(e){this.stoppedAt=e}lineAfter(e){let n=this.input.chunk(e);if(this.input.lineChunks)n==`
`&&(n="");else{let r=n.indexOf(`
`);r>-1&&(n=n.slice(0,r))}return e+n.length<=this.to?n:n.slice(0,this.to-e)}nextLine(){let e=this.parsedPos,n=this.lineAfter(e),r=e+n.length;for(let i=this.rangeIndex;;){let s=this.ranges[i].to;if(s>=r||(n=n.slice(0,s-(r-n.length)),i++,i==this.ranges.length))break;let o=this.ranges[i].from,a=this.lineAfter(o);n+=a,r=o+a.length}return{line:n,end:r}}skipGapsTo(e,n,r){for(;;){let i=this.ranges[this.rangeIndex].to,s=e+n;if(r>0?i>s:i>=s)break;let o=this.ranges[++this.rangeIndex].from;n+=o-i}return n}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(e,n,r,i){let s=4;if(this.ranges.length>1){i=this.skipGapsTo(n,i,1),n+=i;let a=this.chunk.length;i=this.skipGapsTo(r,i,-1),r+=i,s+=this.chunk.length-a}let o=this.chunk.length-4;return this.lang.streamParser.mergeTokens&&s==4&&o>=0&&this.chunk[o]==e&&this.chunk[o+2]==n?this.chunk[o+2]=r:this.chunk.push(e,n,r,s),i}parseLine(e){let{line:n,end:r}=this.nextLine(),i=0,{streamParser:s}=this.lang,o=new BF(n,e?e.state.tabSize:4,e?Fh(e.state):2);if(o.eol())s.blankLine(this.state,o.indentUnit);else for(;!o.eol();){let a=QF(s.token,o,this.state);if(a&&(i=this.emitToken(this.lang.tokenTable.resolve(a),this.parsedPos+o.start,this.parsedPos+o.pos,i)),o.start>1e4)break}this.parsedPos=r,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let e=Sn.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:O1e,topID:0,maxBufferLength:512,reused:this.chunkReused});e=new Sn(e.type,e.children,e.positions,e.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(e),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new Sn(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}};function QF(t,e,n){e.start=e.pos;for(let r=0;r<10;r++){let i=t(e,n);if(e.pos>e.start)return i}throw new Error("Stream parser failed to advance stream.")}const CC=Object.create(null),V0=[zi.none],O1e=new yg(V0),sD=[],oD=Object.create(null),UF=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])UF[t]=jF(CC,e);class VF{constructor(e){this.extra=e,this.table=Object.assign(Object.create(null),UF)}resolve(e){return e?this.table[e]||(this.table[e]=jF(this.extra,e)):0}}const w1e=new VF(CC);function Fk(t,e){sD.indexOf(t)>-1||(sD.push(t),console.warn(e))}function jF(t,e){let n=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let d=t[c]||ie[c];d?typeof d=="function"?l.length?l=l.map(d):Fk(c,`Modifier ${c} used at start of tag`):l.length?Fk(c,`Tag ${c} used as modifier`):l=Array.isArray(d)?d:[d]:Fk(c,`Unknown highlighting tag ${c}`)}for(let c of l)n.push(c)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+n.map(a=>a.id),s=oD[i];if(s)return s.id;let o=oD[i]=zi.define({id:V0.length,name:r,props:[Og({[r]:n})]});return V0.push(o),o.id}function k1e(t,e){let n=zi.define({id:V0.length,name:"Document",props:[Xu.add(()=>t),wg.add(()=>r=>e.getIndent(r))],top:!0});return V0.push(n),n}si.RTL,si.LTR;const S1e=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=TC(t.state,n.from);return r.line?x1e(t):r.block?C1e(t):!1};function EC(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}const x1e=EC(D1e,0),_1e=EC(qF,0),C1e=EC((t,e)=>qF(t,e,T1e(e)),0);function TC(t,e){let n=t.languageDataAt("commentTokens",e,1);return n.length?n[0]:{}}const sp=50;function E1e(t,{open:e,close:n},r,i){let s=t.sliceDoc(r-sp,r),o=t.sliceDoc(i,i+sp),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,c=s.length-a;if(s.slice(c-e.length,c)==e&&o.slice(l,l+n.length)==n)return{open:{pos:r-a,margin:a&&1},close:{pos:i+l,margin:l&&1}};let d,h;i-r<=2*sp?d=h=t.sliceDoc(r,i):(d=t.sliceDoc(r,r+sp),h=t.sliceDoc(i-sp,i));let f=/^\s*/.exec(d)[0].length,m=/\s*$/.exec(h)[0].length,g=h.length-m-n.length;return d.slice(f,f+e.length)==e&&h.slice(g,g+n.length)==n?{open:{pos:r+f+e.length,margin:/\s/.test(d.charAt(f+e.length))?1:0},close:{pos:i-m-n.length,margin:/\s/.test(h.charAt(g-1))?1:0}}:null}function T1e(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to);i.from>r.from&&i.from==n.to&&(i=n.to==r.to+1?r:t.doc.lineAt(n.to-1));let s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function qF(t,e,n=e.selection.ranges){let r=n.map(s=>TC(e,s.from).block);if(!r.every(s=>s))return null;let i=n.map((s,o)=>E1e(e,r[o],s.from,s.to));if(t!=2&&!i.every(s=>s))return{changes:e.changes(n.map((s,o)=>i[o]?[]:[{from:s.from,insert:r[o].open+" "},{from:s.to,insert:" "+r[o].close}]))};if(t!=1&&i.some(s=>s)){let s=[];for(let o=0,a;o<i.length;o++)if(a=i[o]){let l=r[o],{open:c,close:d}=a;s.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:d.pos-d.margin,to:d.pos+l.close.length})}return{changes:s}}return null}function D1e(t,e,n=e.selection.ranges){let r=[],i=-1;for(let{from:s,to:o}of n){let a=r.length,l=1e9,c=TC(e,s).line;if(c){for(let d=s;d<=o;){let h=e.doc.lineAt(d);if(h.from>i&&(s==o||o>h.from)){i=h.from;let f=/^\s*/.exec(h.text)[0].length,m=f==h.length,g=h.text.slice(f,f+c.length)==c?f:-1;f<h.text.length&&f<l&&(l=f),r.push({line:h,comment:g,token:c,indent:f,empty:m,single:!1})}d=h.to+1}if(l<1e9)for(let d=a;d<r.length;d++)r[d].indent<r[d].line.text.length&&(r[d].indent=l);r.length==a+1&&(r[a].single=!0)}}if(t!=2&&r.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:c,empty:d,single:h}of r)(h||!d)&&s.push({from:a.from+c,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(t!=1&&r.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of r)if(a>=0){let c=o.from+a,d=c+l.length;o.text[d-o.from]==" "&&d++,s.push({from:c,to:d})}return{changes:s}}return null}const v3=fu.define(),A1e=fu.define(),P1e=Ut.define(),HF=Ut.define({combine(t){return kN(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,i)=>e(r,i)||n(r,i)})}}),WF=La.define({create(){return ql.empty},update(t,e){let n=e.state.facet(HF),r=e.annotation(v3);if(r){let l=io.fromTransaction(e,r.selection),c=r.side,d=c==0?t.undone:t.done;return l?d=e2(d,d.length,n.minDepth,l):d=GF(d,e.startState.selection),new ql(c==0?r.rest:d,c==0?d:r.rest)}let i=e.annotation(A1e);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(ii.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let s=io.fromTransaction(e),o=e.annotation(ii.time),a=e.annotation(ii.userEvent);return s?t=t.addChanges(s,o,a,n,e):e.selection&&(t=t.addSelection(e.startState.selection,o,a,n.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new ql(t.done.map(io.fromJSON),t.undone.map(io.fromJSON))}});function R1e(t={}){return[WF,HF.of(t),Tt.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?M1e:e.inputType=="historyRedo"?I1e:null;return r?(e.preventDefault(),r(n)):!1}})]}function XF(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(WF,!1);if(!i)return!1;let s=i.pop(t,n,e);return s?(r(s),!0):!1}}const M1e=XF(0,!1),I1e=XF(1,!1);class io{constructor(e,n,r,i,s){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new io(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new io(e.changes&&gi.fromJSON(e.changes),[],e.mapped&&Gl.fromJSON(e.mapped),e.startSelection&&Ue.fromJSON(e.startSelection),e.selectionsAfter.map(Ue.fromJSON))}static fromTransaction(e,n){let r=Oa;for(let i of e.startState.facet(P1e)){let s=i(e);s.length&&(r=r.concat(s))}return!r.length&&e.changes.empty?null:new io(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,Oa)}static selection(e){return new io(void 0,Oa,void 0,void 0,e)}}function e2(t,e,n,r){let i=e+1>n+20?e-n-1:0,s=t.slice(i,e);return s.push(r),s}function $1e(t,e){let n=[],r=!1;return t.iterChangedRanges((i,s)=>n.push(i,s)),e.iterChangedRanges((i,s,o,a)=>{for(let l=0;l<n.length;){let c=n[l++],d=n[l++];a>=c&&o<=d&&(r=!0)}}),r}function L1e(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function YF(t,e){return t.length?e.length?t.concat(e):t:e}const Oa=[],N1e=200;function GF(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-N1e));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),e2(t,t.length-1,1e9,n.setSelAfter(r)))}else return[io.selection([e])]}function F1e(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function Bk(t,e){if(!t.length)return t;let n=t.length,r=Oa;for(;n;){let i=B1e(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let s=t.slice(0,n);return s[n-1]=i,s}else e=i.mapped,n--,r=i.selectionsAfter}return r.length?[io.selection(r)]:Oa}function B1e(t,e,n){let r=YF(t.selectionsAfter.length?t.selectionsAfter.map(a=>a.map(e)):Oa,n);if(!t.changes)return io.selection(r);let i=t.changes.map(e),s=e.mapDesc(t.changes,!0),o=t.mapped?t.mapped.composeDesc(s):s;return new io(i,Xn.mapEffects(t.effects,e),o,t.startSelection.map(s),r)}const z1e=/^(input\.type|delete)($|\.)/;class ql{constructor(e,n,r=0,i=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new ql(this.done,this.undone):this}addChanges(e,n,r,i,s){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!r||z1e.test(r))&&(!a.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,$1e(a.changes,e.changes))||r=="input.type.compose")?o=e2(o,o.length-1,i.minDepth,new io(e.changes.compose(a.changes),YF(Xn.mapEffects(e.effects,a.changes),a.effects),a.mapped,a.startSelection,Oa)):o=e2(o,o.length,i.minDepth,e),new ql(o,Oa,n,r)}addSelection(e,n,r,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:Oa;return s.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&L1e(s[s.length-1],e)?this:new ql(GF(this.done,e),this.undone,n,r)}addMapping(e){return new ql(Bk(this.done,e),Bk(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1],o=s.selectionsAfter[0]||n.selection;if(r&&s.selectionsAfter.length)return n.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:v3.of({side:e,rest:F1e(i),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let a=i.length==1?Oa:i.slice(0,i.length-1);return s.mapped&&(a=Bk(a,s.mapped)),n.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:v3.of({side:e,rest:a,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}ql.empty=new ql(Oa,Oa);function kg(t,e){return Ue.create(t.ranges.map(e),t.mainIndex)}function vl(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function bl({state:t,dispatch:e},n){let r=kg(t.selection,n);return r.eq(t.selection,!0)?!1:(e(vl(t,r)),!0)}function IO(t,e){return Ue.cursor(e?t.to:t.from)}function ZF(t,e){return bl(t,n=>n.empty?t.moveByChar(n,e):IO(n,e))}function vs(t){return t.textDirectionAt(t.state.selection.main.head)==si.LTR}const KF=t=>ZF(t,!vs(t)),JF=t=>ZF(t,vs(t));function eB(t,e){return bl(t,n=>n.empty?t.moveByGroup(n,e):IO(n,e))}const Q1e=t=>eB(t,!vs(t)),U1e=t=>eB(t,vs(t));function V1e(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function $O(t,e,n){let r=_r(t).resolveInner(e.head),i=n?Kt.closedBy:Kt.openedBy;for(let l=e.head;;){let c=n?r.childAfter(l):r.childBefore(l);if(!c)break;V1e(t,c,i)?r=c:l=n?c.to:c.from}let s=r.type.prop(i),o,a;return s&&(o=n?Yf(t,r.from,1):Yf(t,r.to,-1))&&o.matched?a=n?o.end.to:o.end.from:a=n?r.to:r.from,Ue.cursor(a,n?-1:1)}const j1e=t=>bl(t,e=>$O(t.state,e,!vs(t))),q1e=t=>bl(t,e=>$O(t.state,e,vs(t)));function tB(t,e){return bl(t,n=>{if(!n.empty)return IO(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const nB=t=>tB(t,!1),rB=t=>tB(t,!0);function iB(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,i;if(e){for(let s of t.state.facet(Tt.scrollMargins)){let o=s(t);o?.top&&(n=Math.max(o?.top,n)),o?.bottom&&(r=Math.max(o?.bottom,r))}i=t.scrollDOM.clientHeight-n-r}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function sB(t,e){let n=iB(t),{state:r}=t,i=kg(r.selection,o=>o.empty?t.moveVertically(o,e,n.height):IO(o,e));if(i.eq(r.selection))return!1;let s;if(n.selfScroll){let o=t.coordsAtPos(r.selection.main.head),a=t.scrollDOM.getBoundingClientRect(),l=a.top+n.marginTop,c=a.bottom-n.marginBottom;o&&o.top>l&&o.bottom<c&&(s=Tt.scrollIntoView(i.main.head,{y:"start",yMargin:o.top-l}))}return t.dispatch(vl(r,i),{effects:s}),!0}const aD=t=>sB(t,!1),b3=t=>sB(t,!0);function Ed(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let s=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;s&&e.head!=r.from+s&&(i=Ue.cursor(r.from+s))}return i}const H1e=t=>bl(t,e=>Ed(t,e,!0)),W1e=t=>bl(t,e=>Ed(t,e,!1)),X1e=t=>bl(t,e=>Ed(t,e,!vs(t))),Y1e=t=>bl(t,e=>Ed(t,e,vs(t))),G1e=t=>bl(t,e=>Ue.cursor(t.lineBlockAt(e.head).from,1)),Z1e=t=>bl(t,e=>Ue.cursor(t.lineBlockAt(e.head).to,-1));function K1e(t,e,n){let r=!1,i=kg(t.selection,s=>{let o=Yf(t,s.head,-1)||Yf(t,s.head,1)||s.head>0&&Yf(t,s.head-1,1)||s.head<t.doc.length&&Yf(t,s.head+1,-1);if(!o||!o.end)return s;r=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return Ue.cursor(a)});return r?(e(vl(t,i)),!0):!1}const J1e=({state:t,dispatch:e})=>K1e(t,e);function Na(t,e){let n=kg(t.state.selection,r=>{let i=e(r);return Ue.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(vl(t.state,n)),!0)}function oB(t,e){return Na(t,n=>t.moveByChar(n,e))}const aB=t=>oB(t,!vs(t)),lB=t=>oB(t,vs(t));function cB(t,e){return Na(t,n=>t.moveByGroup(n,e))}const ebe=t=>cB(t,!vs(t)),tbe=t=>cB(t,vs(t)),nbe=t=>Na(t,e=>$O(t.state,e,!vs(t))),rbe=t=>Na(t,e=>$O(t.state,e,vs(t)));function uB(t,e){return Na(t,n=>t.moveVertically(n,e))}const dB=t=>uB(t,!1),hB=t=>uB(t,!0);function fB(t,e){return Na(t,n=>t.moveVertically(n,e,iB(t).height))}const lD=t=>fB(t,!1),cD=t=>fB(t,!0),ibe=t=>Na(t,e=>Ed(t,e,!0)),sbe=t=>Na(t,e=>Ed(t,e,!1)),obe=t=>Na(t,e=>Ed(t,e,!vs(t))),abe=t=>Na(t,e=>Ed(t,e,vs(t))),lbe=t=>Na(t,e=>Ue.cursor(t.lineBlockAt(e.head).from)),cbe=t=>Na(t,e=>Ue.cursor(t.lineBlockAt(e.head).to)),uD=({state:t,dispatch:e})=>(e(vl(t,{anchor:0})),!0),dD=({state:t,dispatch:e})=>(e(vl(t,{anchor:t.doc.length})),!0),hD=({state:t,dispatch:e})=>(e(vl(t,{anchor:t.selection.main.anchor,head:0})),!0),fD=({state:t,dispatch:e})=>(e(vl(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),ube=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),dbe=({state:t,dispatch:e})=>{let n=LO(t).map(({from:r,to:i})=>Ue.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:Ue.create(n),userEvent:"select"})),!0},hbe=({state:t,dispatch:e})=>{let n=kg(t.selection,r=>{let i=_r(t),s=i.resolveStack(r.from,1);if(r.empty){let o=i.resolveStack(r.from,-1);o.node.from>=s.node.from&&o.node.to<=s.node.to&&(s=o)}for(let o=s;o;o=o.next){let{node:a}=o;if((a.from<r.from&&a.to>=r.to||a.to>r.to&&a.from<=r.from)&&o.next)return Ue.range(a.to,a.from)}return r});return n.eq(t.selection)?!1:(e(vl(t,n)),!0)};function mB(t,e){let{state:n}=t,r=n.selection,i=n.selection.ranges.slice();for(let s of n.selection.ranges){let o=n.doc.lineAt(s.head);if(e?o.to<t.state.doc.length:o.from>0)for(let a=s;;){let l=t.moveVertically(a,e);if(l.head<o.from||l.head>o.to){i.some(c=>c.head==l.head)||i.push(l);break}else{if(l.head==a.head)break;a=l}}}return i.length==r.ranges.length?!1:(t.dispatch(vl(n,Ue.create(i,i.length-1))),!0)}const fbe=t=>mB(t,!1),mbe=t=>mB(t,!0),gbe=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=Ue.create([n.main]):n.main.empty||(r=Ue.create([Ue.cursor(n.main.head)])),r?(e(vl(t,r)),!0):!1};function Qv(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=e(s);l<o?(n="delete.backward",l=L1(t,l,!1)):l>o&&(n="delete.forward",l=L1(t,l,!0)),o=Math.min(o,l),a=Math.max(a,l)}else o=L1(t,o,!1),a=L1(t,a,!0);return o==a?{range:s}:{changes:{from:o,to:a},range:Ue.cursor(o,o<s.head?-1:1)}});return i.changes.empty?!1:(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?Tt.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function L1(t,e,n){if(t instanceof Tt)for(let r of t.state.facet(Tt.atomicRanges).map(i=>i(t)))r.between(e,e,(i,s)=>{i<e&&s>e&&(e=n?s:i)});return e}const gB=(t,e,n)=>Qv(t,r=>{let i=r.from,{state:s}=t,o=s.doc.lineAt(i),a,l;if(n&&!e&&i>o.from&&i<o.from+200&&!/[^ \t]/.test(a=o.text.slice(0,i-o.from))){if(a[a.length-1]=="	")return i-1;let c=tu(a,s.tabSize),d=c%Fh(s)||Fh(s);for(let h=0;h<d&&a[a.length-1-h]==" ";h++)i--;l=i}else l=Ps(o.text,i-o.from,e,e)+o.from,l==i&&o.number!=(e?s.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(l-o.from,i-o.from))&&(l=Ps(o.text,l-o.from,!1,!1)+o.from);return l}),y3=t=>gB(t,!1,!0),pB=t=>gB(t,!0,!1),vB=(t,e)=>Qv(t,n=>{let r=n.head,{state:i}=t,s=i.doc.lineAt(r),o=i.charCategorizer(r);for(let a=null;;){if(r==(e?s.to:s.from)){r==n.head&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=Ps(s.text,r-s.from,e)+s.from,c=s.text.slice(Math.min(r,l)-s.from,Math.max(r,l)-s.from),d=o(c);if(a!=null&&d!=a)break;(c!=" "||r!=n.head)&&(a=d),r=l}return r}),bB=t=>vB(t,!1),pbe=t=>vB(t,!0),vbe=t=>Qv(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),bbe=t=>Qv(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),ybe=t=>Qv(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),Obe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:zn.of(["",""])},range:Ue.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},wbe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,s=t.doc.lineAt(i),o=i==s.from?i-1:Ps(s.text,i-s.from,!1)+s.from,a=i==s.to?i+1:Ps(s.text,i-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:t.doc.slice(i,a).append(t.doc.slice(o,i))},range:Ue.cursor(a)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function LO(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),s=t.doc.lineAt(r.to);if(!r.empty&&r.to==s.from&&(s=t.doc.lineAt(r.to-1)),n>=i.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(r)}else e.push({from:i.from,to:s.to,ranges:[r]});n=s.number+1}return e}function yB(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let s of LO(t)){if(n?s.to==t.doc.length:s.from==0)continue;let o=t.doc.lineAt(n?s.to+1:s.from-1),a=o.length+1;if(n){r.push({from:s.to,to:o.to},{from:s.from,insert:o.text+t.lineBreak});for(let l of s.ranges)i.push(Ue.range(Math.min(t.doc.length,l.anchor+a),Math.min(t.doc.length,l.head+a)))}else{r.push({from:o.from,to:s.from},{from:s.to,insert:t.lineBreak+o.text});for(let l of s.ranges)i.push(Ue.range(l.anchor-a,l.head-a))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:Ue.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const kbe=({state:t,dispatch:e})=>yB(t,e,!1),Sbe=({state:t,dispatch:e})=>yB(t,e,!0);function OB(t,e,n){if(t.readOnly)return!1;let r=[];for(let i of LO(t))n?r.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):r.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const xbe=({state:t,dispatch:e})=>OB(t,e,!1),_be=({state:t,dispatch:e})=>OB(t,e,!0),Cbe=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(LO(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),r=kg(e.selection,i=>{let s;if(t.lineWrapping){let o=t.lineBlockAt(i.head),a=t.coordsAtPos(i.head,i.assoc||1);a&&(s=o.bottom+t.documentTop-a.bottom+t.defaultLineHeight/2)}return t.moveVertically(i,!0,s)}).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function Ebe(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=_r(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),s;return r&&i&&r.to<=e&&i.from>=e&&(s=r.type.prop(Kt.closedBy))&&s.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from&&!/\S/.test(t.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const mD=wB(!1),Tbe=wB(!0);function wB(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:s,to:o}=i,a=e.doc.lineAt(s),l=!t&&s==o&&Ebe(e,s);t&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let c=new RO(e,{simulateBreak:s,simulateDoubleBreak:!!l}),d=IF(c,s);for(d==null&&(d=tu(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let h=["",Jy(e,d)];return l&&h.push(Jy(e,c.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:zn.of(h)},range:Ue.cursor(s+1+h[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function DC(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let o=r.from;o<=r.to;){let a=t.doc.lineAt(o);a.number>n&&(r.empty||r.to>a.from)&&(e(a,i,r),n=a.number),o=a.to+1}let s=t.changes(i);return{changes:i,range:Ue.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}const Dbe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new RO(t,{overrideIndentation:s=>{let o=n[s];return o??-1}}),i=DC(t,(s,o,a)=>{let l=IF(r,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let c=/^\s*/.exec(s.text)[0],d=Jy(t,l);(c!=d||a.from<s.from+c.length)&&(n[s.from]=l,o.push({from:s.from,to:s.from+c.length,insert:d}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},Abe=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(DC(t,(n,r)=>{r.push({from:n.from,insert:t.facet(Bv)})}),{userEvent:"input.indent"})),!0),Pbe=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(DC(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let s=tu(i,t.tabSize),o=0,a=Jy(t,Math.max(0,s-Fh(t)));for(;o<i.length&&o<a.length&&i.charCodeAt(o)==a.charCodeAt(o);)o++;r.push({from:n.from+o,to:n.from+i.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),Rbe=t=>(t.setTabFocusMode(),!0),Mbe=[{key:"Ctrl-b",run:KF,shift:aB,preventDefault:!0},{key:"Ctrl-f",run:JF,shift:lB},{key:"Ctrl-p",run:nB,shift:dB},{key:"Ctrl-n",run:rB,shift:hB},{key:"Ctrl-a",run:G1e,shift:lbe},{key:"Ctrl-e",run:Z1e,shift:cbe},{key:"Ctrl-d",run:pB},{key:"Ctrl-h",run:y3},{key:"Ctrl-k",run:vbe},{key:"Ctrl-Alt-h",run:bB},{key:"Ctrl-o",run:Obe},{key:"Ctrl-t",run:wbe},{key:"Ctrl-v",run:b3}],Ibe=[{key:"ArrowLeft",run:KF,shift:aB,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:Q1e,shift:ebe,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:X1e,shift:obe,preventDefault:!0},{key:"ArrowRight",run:JF,shift:lB,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:U1e,shift:tbe,preventDefault:!0},{mac:"Cmd-ArrowRight",run:Y1e,shift:abe,preventDefault:!0},{key:"ArrowUp",run:nB,shift:dB,preventDefault:!0},{mac:"Cmd-ArrowUp",run:uD,shift:hD},{mac:"Ctrl-ArrowUp",run:aD,shift:lD},{key:"ArrowDown",run:rB,shift:hB,preventDefault:!0},{mac:"Cmd-ArrowDown",run:dD,shift:fD},{mac:"Ctrl-ArrowDown",run:b3,shift:cD},{key:"PageUp",run:aD,shift:lD},{key:"PageDown",run:b3,shift:cD},{key:"Home",run:W1e,shift:sbe,preventDefault:!0},{key:"Mod-Home",run:uD,shift:hD},{key:"End",run:H1e,shift:ibe,preventDefault:!0},{key:"Mod-End",run:dD,shift:fD},{key:"Enter",run:mD,shift:mD},{key:"Mod-a",run:ube},{key:"Backspace",run:y3,shift:y3,preventDefault:!0},{key:"Delete",run:pB,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:bB,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:pbe,preventDefault:!0},{mac:"Mod-Backspace",run:bbe,preventDefault:!0},{mac:"Mod-Delete",run:ybe,preventDefault:!0}].concat(Mbe.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),$be=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:j1e,shift:nbe},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:q1e,shift:rbe},{key:"Alt-ArrowUp",run:kbe},{key:"Shift-Alt-ArrowUp",run:xbe},{key:"Alt-ArrowDown",run:Sbe},{key:"Shift-Alt-ArrowDown",run:_be},{key:"Mod-Alt-ArrowUp",run:fbe},{key:"Mod-Alt-ArrowDown",run:mbe},{key:"Escape",run:gbe},{key:"Mod-Enter",run:Tbe},{key:"Alt-l",mac:"Ctrl-l",run:dbe},{key:"Mod-i",run:hbe,preventDefault:!0},{key:"Mod-[",run:Pbe},{key:"Mod-]",run:Abe},{key:"Mod-Alt-\\",run:Dbe},{key:"Shift-Mod-k",run:Cbe},{key:"Shift-Mod-\\",run:J1e},{key:"Mod-/",run:S1e},{key:"Alt-A",run:_1e},{key:"Ctrl-m",mac:"Shift-Alt-m",run:Rbe}].concat(Ibe);class AC{constructor(e,n,r,i){this.state=e,this.pos=n,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=_r(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),s=i.search(SB(e,!1));return s<0?null:{from:r+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function gD(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Lbe(t){let e=Object.create(null),n=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let s=1;s<i.length;s++)n[i[s]]=!0}let r=gD(e)+gD(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function kB(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[n,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:Lbe(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:n}:null}}function Nbe(t,e){return n=>{for(let r=_r(n.state).resolveInner(n.pos,-1);r;r=r.parent){if(t.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(n)}}class pD{constructor(e,n,r,i){this.completion=e,this.source=n,this.match=r,this.score=i}}function yh(t){return t.selection.main.from}function SB(t,e){var n;let{source:r}=t,i=e&&r[0]!="^",s=r[r.length-1]!="$";return!i&&!s?t:new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const PC=fu.define();function Fbe(t,e,n,r){let{main:i}=t.selection,s=n-i.from,o=r-i.from;return{...t.changeByRange(a=>{if(a!=i&&n!=r&&t.sliceDoc(a.from+s,a.from+o)!=t.sliceDoc(n,r))return{range:a};let l=t.toText(e);return{changes:{from:a.from+s,to:r==i.from?a.to:a.from+o,insert:l},range:Ue.cursor(a.from+s+l.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const vD=new WeakMap;function Bbe(t){if(!Array.isArray(t))return t;let e=vD.get(t);return e||vD.set(t,e=kB(t)),e}const t2=Xn.define(),j0=Xn.define();class zbe{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let r=eh(e,n),i=Lf(r);this.chars.push(r);let s=e.slice(n,n+i),o=s.toUpperCase();this.folded.push(eh(o==s?s.toLowerCase():o,0)),n+=i}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:i,precise:s,byWord:o}=this;if(n.length==1){let y=eh(e,0),C=Lf(y),x=C==e.length?0:-100;if(y!=n[0])if(y==r[0])x+=-200;else return null;return this.ret(x,[0,C])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=n.length,c=0;if(a<0){for(let y=0,C=Math.min(e.length,200);y<C&&c<l;){let x=eh(e,y);(x==n[c]||x==r[c])&&(i[c++]=y),y+=Lf(x)}if(c<l)return null}let d=0,h=0,f=!1,m=0,g=-1,p=-1,v=/[a-z]/.test(e),b=!0;for(let y=0,C=Math.min(e.length,200),x=0;y<C&&h<l;){let O=eh(e,y);a<0&&(d<l&&O==n[d]&&(s[d++]=y),m<l&&(O==n[m]||O==r[m]?(m==0&&(g=y),p=y+1,m++):m=0));let S,T=O<255?O>=48&&O<=57||O>=97&&O<=122?2:O>=65&&O<=90?1:0:(S=Spe(O))!=S.toLowerCase()?1:S!=S.toUpperCase()?2:0;(!y||T==1&&v||x==0&&T!=0)&&(n[h]==O||r[h]==O&&(f=!0)?o[h++]=y:o.length&&(b=!1)),x=T,y+=Lf(O)}return h==l&&o[0]==0&&b?this.result(-100+(f?-200:0),o,e):m==l&&g==0?this.ret(-200-e.length+(p==e.length?0:-100),[0,p]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):m==l?this.ret(-900-e.length,[g,p]):h==l?this.result(-100+(f?-200:0)+-700+(b?0:-1100),o,e):n.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,n,r){let i=[],s=0;for(let o of n){let a=o+(this.astral?Lf(eh(r,o)):1);s&&i[s-1]==o?i[s-1]=a:(i[s++]=o,i[s++]=a)}return this.ret(e-r.length,i)}}class Qbe{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const Ii=Ut.define({combine(t){return kN(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Ube,filterStrict:!1,compareCompletions:(e,n)=>e.label.localeCompare(n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>bD(e(r),n(r)),optionClass:(e,n)=>r=>bD(e(r),n(r)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function bD(t,e){return t?e?t+" "+e:t:e}function Ube(t,e,n,r,i,s){let o=t.textDirection==si.RTL,a=o,l=!1,c="top",d,h,f=e.left-i.left,m=i.right-e.right,g=r.right-r.left,p=r.bottom-r.top;if(a&&f<Math.min(g,m)?a=!1:!a&&m<Math.min(g,f)&&(a=!0),g<=(a?f:m))d=Math.max(i.top,Math.min(n.top,i.bottom-p))-e.top,h=Math.min(400,a?f:m);else{l=!0,h=Math.min(400,(o?e.right:i.right-e.left)-30);let y=i.bottom-e.bottom;y>=p||y>e.top?d=n.bottom-e.top:(c="bottom",d=e.bottom-n.top)}let v=(e.bottom-e.top)/s.offsetHeight,b=(e.right-e.left)/s.offsetWidth;return{style:`${c}: ${d/v}px; max-width: ${h/b}px`,class:"cm-completionInfo-"+(l?o?"left-narrow":"right-narrow":a?"left":"right")}}function Vbe(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,i,s){let o=document.createElement("span");o.className="cm-completionLabel";let a=n.displayLabel||n.label,l=0;for(let c=0;c<s.length;){let d=s[c++],h=s[c++];d>l&&o.appendChild(document.createTextNode(a.slice(l,d)));let f=o.appendChild(document.createElement("span"));f.appendChild(document.createTextNode(a.slice(d,h))),f.className="cm-completionMatchedText",l=h}return l<a.length&&o.appendChild(document.createTextNode(a.slice(l))),o},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function zk(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class jbe{constructor(e,n,r){this.view=e,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let i=e.state.field(n),{options:s,selected:o}=i.open,a=e.state.facet(Ii);this.optionContent=Vbe(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=zk(s.length,o,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:c}=e.state.field(n).open;for(let d=l.target,h;d&&d!=this.dom;d=d.parentNode)if(d.nodeName=="LI"&&(h=/-(\d+)$/.exec(d.id))&&+h[1]<c.length){this.applyCompletion(e,c[+h[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let c=e.state.field(this.stateField,!1);c&&c.tooltip&&e.state.facet(Ii).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:j0.of(null)})}),this.showOptions(s,i.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:s,selected:o,disabled:a}=r.open;(!i.open||i.open.options!=s)&&(this.range=zk(s.length,o,e.state.facet(Ii).maxRenderedOptions),this.showOptions(s,r.id)),this.updateSel(),a!=((n=i.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=zk(n.options.length,n.selected,this.view.state.facet(Ii).maxRenderedOptions),this.showOptions(n.options,e.id)),this.updateSelectedOption(n.selected)){this.destroyInfo();let{completion:r}=n.options[n.selected],{info:i}=r;if(!i)return;let s=typeof i=="string"?document.createTextNode(i):i(r);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,r)}).catch(o=>Io(this.view.state,o,"completion info")):this.addInfoPane(s,r)}}addInfoPane(e,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:s}=e;r.appendChild(i),this.infoDestroy=s||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return n&&Hbe(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:o.clientWidth,bottom:o.clientHeight}}return i.top>Math.min(s.bottom,n.bottom)-10||i.bottom<Math.max(s.top,n.top)+10?null:this.view.state.facet(Ii).positionInfo(this.view,n,i,r,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",o=>{o.target==i&&o.preventDefault()});let s=null;for(let o=r.from;o<r.to;o++){let{completion:a,match:l}=e[o],{section:c}=a;if(c){let f=typeof c=="string"?c:c.name;if(f!=s&&(o>r.from||r.from==0))if(s=f,typeof c!="string"&&c.header)i.appendChild(c.header(c));else{let m=i.appendChild(document.createElement("completion-section"));m.textContent=f}}const d=i.appendChild(document.createElement("li"));d.id=n+"-"+o,d.setAttribute("role","option");let h=this.optionClass(a);h&&(d.className=h);for(let f of this.optionContent){let m=f(a,this.view.state,this.view,l);m&&d.appendChild(m)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function qbe(t,e){return n=>new jbe(n,t,e)}function Hbe(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/i)}function yD(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function Wbe(t,e){let n=[],r=null,i=null,s=d=>{n.push(d);let{section:h}=d.completion;if(h){r||(r=[]);let f=typeof h=="string"?h:h.name;r.some(m=>m.name==f)||r.push(typeof h=="string"?{name:f}:h)}},o=e.facet(Ii);for(let d of t)if(d.hasResult()){let h=d.result.getMatch;if(d.result.filter===!1)for(let f of d.result.options)s(new pD(f,d.source,h?h(f):[],1e9-n.length));else{let f=e.sliceDoc(d.from,d.to),m,g=o.filterStrict?new Qbe(f):new zbe(f);for(let p of d.result.options)if(m=g.match(p.label)){let v=p.displayLabel?h?h(p,m.matched):[]:m.matched,b=m.score+(p.boost||0);if(s(new pD(p,d.source,v,b)),typeof p.section=="object"&&p.section.rank==="dynamic"){let{name:y}=p.section;i||(i=Object.create(null)),i[y]=Math.max(b,i[y]||-1e9)}}}}if(r){let d=Object.create(null),h=0,f=(m,g)=>(m.rank==="dynamic"&&g.rank==="dynamic"?i[g.name]-i[m.name]:0)||(typeof m.rank=="number"?m.rank:1e9)-(typeof g.rank=="number"?g.rank:1e9)||(m.name<g.name?-1:1);for(let m of r.sort(f))h-=1e5,d[m.name]=h;for(let m of n){let{section:g}=m.completion;g&&(m.score+=d[typeof g=="string"?g:g.name])}}let a=[],l=null,c=o.compareCompletions;for(let d of n.sort((h,f)=>f.score-h.score||c(h.completion,f.completion))){let h=d.completion;!l||l.label!=h.label||l.detail!=h.detail||l.type!=null&&h.type!=null&&l.type!=h.type||l.apply!=h.apply||l.boost!=h.boost?a.push(d):yD(d.completion)>yD(l)&&(a[a.length-1]=d),l=d.completion}return a}class Gf{constructor(e,n,r,i,s,o){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=s,this.disabled=o}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new Gf(this.options,OD(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,i,s,o){if(i&&!o&&e.some(c=>c.isPending))return i.setDisabled();let a=Wbe(e,n);if(!a.length)return i&&e.some(c=>c.isPending)?i.setDisabled():null;let l=n.facet(Ii).selectOnOpen?0:-1;if(i&&i.selected!=l&&i.selected!=-1){let c=i.options[i.selected].completion;for(let d=0;d<a.length;d++)if(a[d].completion==c){l=d;break}}return new Gf(a,OD(r,l),{pos:e.reduce((c,d)=>d.hasResult()?Math.min(c,d.from):c,1e8),create:Jbe,above:s.aboveCursor},i?i.timestamp:Date.now(),l,!1)}map(e){return new Gf(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new Gf(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class n2{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new n2(Zbe,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(Ii),s=(r.override||n.languageDataAt("autocomplete",yh(n)).map(Bbe)).map(l=>(this.active.find(d=>d.source==l)||new wa(l,this.active.some(d=>d.state!=0)?1:0)).update(e,r));s.length==this.active.length&&s.every((l,c)=>l==this.active[c])&&(s=this.active);let o=this.open,a=e.effects.some(l=>l.is(RC));o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(l=>l.hasResult()&&e.changes.touchesRange(l.from,l.to))||!Xbe(s,this.active)||a?o=Gf.build(s,n,this.id,o,r,a):o&&o.disabled&&!s.some(l=>l.isPending)&&(o=null),!o&&s.every(l=>!l.isPending)&&s.some(l=>l.hasResult())&&(s=s.map(l=>l.hasResult()?new wa(l.source,0):l));for(let l of e.effects)l.is(_B)&&(o=o&&o.setSelected(l.value,this.id));return s==this.active&&o==this.open?this:new n2(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?Ybe:Gbe}}function Xbe(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult();)n++;for(;r<e.length&&!e[r].hasResult();)r++;let i=n==t.length,s=r==e.length;if(i||s)return i==s;if(t[n++].result!=e[r++].result)return!1}}const Ybe={"aria-autocomplete":"list"},Gbe={};function OD(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const Zbe=[];function xB(t,e){if(t.isUserEvent("input.complete")){let r=t.annotation(PC);if(r&&e.activateOnCompletion(r))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class wa{constructor(e,n,r=!1){this.source=e,this.state=n,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,n){let r=xB(e,n),i=this;(r&8||r&16&&this.touches(e))&&(i=new wa(i.source,0)),r&4&&i.state==0&&(i=new wa(this.source,1)),i=i.updateFor(e,r);for(let s of e.effects)if(s.is(t2))i=new wa(i.source,1,s.value);else if(s.is(j0))i=new wa(i.source,0);else if(s.is(RC))for(let o of s.value)o.source==i.source&&(i=o);return i}updateFor(e,n){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(yh(e.state))}}class pm extends wa{constructor(e,n,r,i,s,o){super(e,3,n),this.limit=r,this.result=i,this.from=s,this.to=o}hasResult(){return!0}updateFor(e,n){var r;if(!(n&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),a=yh(e.state);if(a>o||!i||n&2&&(yh(e.startState)==this.from||a<this.limit))return new wa(this.source,n&4?1:0);let l=e.changes.mapPos(this.limit);return Kbe(i.validFor,e.state,s,o)?new pm(this.source,this.explicit,l,i,s,o):i.update&&(i=i.update(i,s,o,new AC(e.state,a,!1)))?new pm(this.source,this.explicit,l,i,i.from,(r=i.to)!==null&&r!==void 0?r:yh(e.state)):new wa(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new pm(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new wa(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function Kbe(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return typeof t=="function"?t(i,n,r,e):SB(t,!0).test(i)}const RC=Xn.define({map(t,e){return t.map(n=>n.map(e))}}),_B=Xn.define(),Es=La.define({create(){return n2.start()},update(t,e){return t.update(e)},provide:t=>[kF.from(t,e=>e.tooltip),Tt.contentAttributes.from(t,e=>e.attrs)]});function MC(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(Es).active.find(i=>i.source==e.source);return r instanceof pm?(typeof n=="string"?t.dispatch({...Fbe(t.state,n,r.from,r.to),annotations:PC.of(e.completion)}):n(t,e.completion,r.from,r.to),!0):!1}const Jbe=qbe(Es,MC);function N1(t,e="option"){return n=>{let r=n.state.field(Es,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(Ii).interactionDelay)return!1;let i=1,s;e=="page"&&(s=SF(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=r.open.options,a=r.open.selected>-1?r.open.selected+i*(t?1:-1):t?0:o-1;return a<0?a=e=="page"?0:o-1:a>=o&&(a=e=="page"?o-1:0),n.dispatch({effects:_B.of(a)}),!0}}const eye=t=>{let e=t.state.field(Es,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(Ii).interactionDelay?!1:MC(t,e.open.options[e.open.selected])},Qk=t=>t.state.field(Es,!1)?(t.dispatch({effects:t2.of(!0)}),!0):!1,CB=t=>{let e=t.state.field(Es,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:j0.of(null)}),!0)};class tye{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const nye=50,rye=1e3,iye=Aa.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(Es).active)e.isPending&&this.startQuery(e)}update(t){let e=t.state.field(Es),n=t.state.facet(Ii);if(!t.selectionSet&&!t.docChanged&&t.startState.field(Es)==e)return;let r=t.transactions.some(s=>{let o=xB(s,n);return o&8||(s.selection||s.docChanged)&&!(o&3)});for(let s=0;s<this.running.length;s++){let o=this.running[s];if(r||o.context.abortOnDocChange&&t.docChanged||o.updates.length+t.transactions.length>nye&&Date.now()-o.time>rye){for(let a of o.context.abortListeners)try{a()}catch(l){Io(this.view.state,l)}o.context.abortListeners=null,this.running.splice(s--,1)}else o.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(s=>s.effects.some(o=>o.is(t2)))&&(this.pendingStart=!0);let i=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(o=>o.active.source==s.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let s of t.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(Es);for(let n of e.active)n.isPending&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Ii).updateSyncTime))}startQuery(t){let{state:e}=this.view,n=yh(e),r=new AC(e,n,t.explicit,this.view),i=new tye(t,r);this.running.push(i),Promise.resolve(t.source(r)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:j0.of(null)}),Io(this.view.state,s)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Ii).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(Ii),r=this.view.state.field(Es);for(let i=0;i<this.running.length;i++){let s=this.running[i];if(s.done===void 0)continue;if(this.running.splice(i--,1),s.done){let a=yh(s.updates.length?s.updates[0].startState:this.view.state),l=Math.min(a,s.done.from+(s.active.explicit?0:1)),c=new pm(s.active.source,s.active.explicit,l,s.done,s.done.from,(t=s.done.to)!==null&&t!==void 0?t:a);for(let d of s.updates)c=c.update(d,n);if(c.hasResult()){e.push(c);continue}}let o=r.active.find(a=>a.source==s.active.source);if(o&&o.isPending)if(s.done==null){let a=new wa(s.active.source,0);for(let l of s.updates)a=a.update(l,n);a.isPending||e.push(a)}else this.startQuery(o)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:RC.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(Es,!1);if(e&&e.tooltip&&this.view.state.facet(Ii).closeOnBlur){let n=e.open&&SF(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:j0.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:t2.of(!1)}),20),this.composing=0}}}),sye=typeof navigator=="object"&&/Win/.test(navigator.platform),oye=nf.highest(Tt.domEventHandlers({keydown(t,e){let n=e.state.field(Es,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(sye&&t.altKey)||t.metaKey)return!1;let r=n.open.options[n.open.selected],i=n.active.find(o=>o.source==r.source),s=r.completion.commitCharacters||i.result.commitCharacters;return s&&s.indexOf(t.key)>-1&&MC(e,r),!1}})),EB=Tt.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class aye{constructor(e,n,r,i){this.field=e,this.line=n,this.from=r,this.to=i}}class IC{constructor(e,n,r){this.field=e,this.from=n,this.to=r}map(e){let n=e.mapPos(this.from,-1,Ds.TrackDel),r=e.mapPos(this.to,1,Ds.TrackDel);return n==null||r==null?null:new IC(this.field,n,r)}}class $C{constructor(e,n){this.lines=e,this.fieldPositions=n}instantiate(e,n){let r=[],i=[n],s=e.doc.lineAt(n),o=/^\s*/.exec(s.text)[0];for(let l of this.lines){if(r.length){let c=o,d=/^\t*/.exec(l)[0].length;for(let h=0;h<d;h++)c+=e.facet(Bv);i.push(n+c.length-d),l=c+l.slice(d)}r.push(l),n+=l.length+1}let a=this.fieldPositions.map(l=>new IC(l.field,i[l.line]+l.from,i[l.line]+l.to));return{text:r,ranges:a}}static parse(e){let n=[],r=[],i=[],s;for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^{}]*))?|((?:\\[{}]|[^{}])*))\}/.exec(o);){let a=s[1]?+s[1]:null,l=s[2]||s[3]||"",c=-1,d=l.replace(/\\[{}]/g,h=>h[1]);for(let h=0;h<n.length;h++)(a!=null?n[h].seq==a:d&&n[h].name==d)&&(c=h);if(c<0){let h=0;for(;h<n.length&&(a==null||n[h].seq!=null&&n[h].seq<a);)h++;n.splice(h,0,{seq:a,name:d}),c=h;for(let f of i)f.field>=c&&f.field++}for(let h of i)if(h.line==r.length&&h.from>s.index){let f=s[2]?3+(s[1]||"").length:2;h.from-=f,h.to-=f}i.push(new aye(c,r.length,s.index,s.index+d.length)),o=o.slice(0,s.index)+l+o.slice(s.index+s[0].length)}o=o.replace(/\\([{}])/g,(a,l,c)=>{for(let d of i)d.line==r.length&&d.from>c&&(d.from--,d.to--);return l}),r.push(o)}return new $C(r,i)}}let lye=kn.widget({widget:new class extends mu{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),cye=kn.mark({class:"cm-snippetField"});class Sg{constructor(e,n){this.ranges=e,this.active=n,this.deco=kn.set(e.map(r=>(r.from==r.to?lye:cye).range(r.from,r.to)),!0)}map(e){let n=[];for(let r of this.ranges){let i=r.map(e);if(!i)return null;n.push(i)}return new Sg(n,this.active)}selectionInsideField(e){return e.ranges.every(n=>this.ranges.some(r=>r.field==this.active&&r.from<=n.from&&r.to>=n.to))}}const Uv=Xn.define({map(t,e){return t&&t.map(e)}}),uye=Xn.define(),q0=La.define({create(){return null},update(t,e){for(let n of e.effects){if(n.is(Uv))return n.value;if(n.is(uye)&&t)return new Sg(t.ranges,n.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>Tt.decorations.from(t,e=>e?e.deco:kn.none)});function LC(t,e){return Ue.create(t.filter(n=>n.field==e).map(n=>Ue.range(n.from,n.to)))}function dye(t){let e=$C.parse(t);return(n,r,i,s)=>{let{text:o,ranges:a}=e.instantiate(n.state,i),{main:l}=n.state.selection,c={changes:{from:i,to:s==l.from?l.to:s,insert:zn.of(o)},scrollIntoView:!0,annotations:r?[PC.of(r),ii.userEvent.of("input.complete")]:void 0};if(a.length&&(c.selection=LC(a,0)),a.some(d=>d.field>0)){let d=new Sg(a,0),h=c.effects=[Uv.of(d)];n.state.field(q0,!1)===void 0&&h.push(Xn.appendConfig.of([q0,pye,vye,EB]))}n.dispatch(n.state.update(c))}}function TB(t){return({state:e,dispatch:n})=>{let r=e.field(q0,!1);if(!r||t<0&&r.active==0)return!1;let i=r.active+t,s=t>0&&!r.ranges.some(o=>o.field==i+t);return n(e.update({selection:LC(r.ranges,i),effects:Uv.of(s?null:new Sg(r.ranges,i)),scrollIntoView:!0})),!0}}const hye=({state:t,dispatch:e})=>t.field(q0,!1)?(e(t.update({effects:Uv.of(null)})),!0):!1,fye=TB(1),mye=TB(-1),gye=[{key:"Tab",run:fye,shift:mye},{key:"Escape",run:hye}],wD=Ut.define({combine(t){return t.length?t[0]:gye}}),pye=nf.highest(td.compute([wD],t=>t.facet(wD)));function Ks(t,e){return{...e,apply:dye(t)}}const vye=Tt.domEventHandlers({mousedown(t,e){let n=e.state.field(q0,!1),r;if(!n||(r=e.posAtCoords({x:t.clientX,y:t.clientY}))==null)return!1;let i=n.ranges.find(s=>s.from<=r&&s.to>=r);return!i||i.field==n.active?!1:(e.dispatch({selection:LC(n.ranges,i.field),effects:Uv.of(n.ranges.some(s=>s.field>i.field)?new Sg(n.ranges,i.field):null),scrollIntoView:!0}),!0)}}),DB=new class extends Mh{};DB.startSide=1;DB.endSide=-1;function bye(t={}){return[oye,Es,Ii.of(t),iye,Oye,EB]}const yye=[{key:"Ctrl-Space",run:Qk},{mac:"Alt-`",run:Qk},{mac:"Alt-i",run:Qk},{key:"Escape",run:CB},{key:"ArrowDown",run:N1(!0)},{key:"ArrowUp",run:N1(!1)},{key:"PageDown",run:N1(!0,"page")},{key:"PageUp",run:N1(!1,"page")},{key:"Enter",run:eye}],Oye=nf.highest(td.computeN([Ii],t=>t.facet(Ii).defaultKeymap?[yye]:[])),kD=new WeakMap;function wye(t){var e;let n=(e=t.field(Es,!1))===null||e===void 0?void 0:e.open;if(!n||n.disabled)return[];let r=kD.get(n.options);return r||kD.set(n.options,r=n.options.map(i=>i.completion)),r}class r2{static create(e,n,r,i,s){let o=i+(i<<8)+e+(n<<4)|0;return new r2(e,n,r,o,s,[],[])}constructor(e,n,r,i,s,o,a){this.type=e,this.value=n,this.from=r,this.hash=i,this.end=s,this.children=o,this.positions=a,this.hashProp=[[Kt.contextHash,i]]}addChild(e,n){e.prop(Kt.contextHash)!=this.hash&&(e=new Sn(e.type,e.children,e.positions,e.length,this.hashProp)),this.children.push(e),this.positions.push(n)}toTree(e,n=this.end){let r=this.children.length-1;return r>=0&&(n=Math.max(n,this.positions[r]+this.children[r].length+this.from)),new Sn(e.types[this.type],this.children,this.positions,n-this.from).balance({makeTree:(i,s,o)=>new Sn(zi.none,i,s,o,this.hashProp)})}}var et;(function(t){t[t.Document=1]="Document",t[t.CodeBlock=2]="CodeBlock",t[t.FencedCode=3]="FencedCode",t[t.Blockquote=4]="Blockquote",t[t.HorizontalRule=5]="HorizontalRule",t[t.BulletList=6]="BulletList",t[t.OrderedList=7]="OrderedList",t[t.ListItem=8]="ListItem",t[t.ATXHeading1=9]="ATXHeading1",t[t.ATXHeading2=10]="ATXHeading2",t[t.ATXHeading3=11]="ATXHeading3",t[t.ATXHeading4=12]="ATXHeading4",t[t.ATXHeading5=13]="ATXHeading5",t[t.ATXHeading6=14]="ATXHeading6",t[t.SetextHeading1=15]="SetextHeading1",t[t.SetextHeading2=16]="SetextHeading2",t[t.HTMLBlock=17]="HTMLBlock",t[t.LinkReference=18]="LinkReference",t[t.Paragraph=19]="Paragraph",t[t.CommentBlock=20]="CommentBlock",t[t.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",t[t.Escape=22]="Escape",t[t.Entity=23]="Entity",t[t.HardBreak=24]="HardBreak",t[t.Emphasis=25]="Emphasis",t[t.StrongEmphasis=26]="StrongEmphasis",t[t.Link=27]="Link",t[t.Image=28]="Image",t[t.InlineCode=29]="InlineCode",t[t.HTMLTag=30]="HTMLTag",t[t.Comment=31]="Comment",t[t.ProcessingInstruction=32]="ProcessingInstruction",t[t.Autolink=33]="Autolink",t[t.HeaderMark=34]="HeaderMark",t[t.QuoteMark=35]="QuoteMark",t[t.ListMark=36]="ListMark",t[t.LinkMark=37]="LinkMark",t[t.EmphasisMark=38]="EmphasisMark",t[t.CodeMark=39]="CodeMark",t[t.CodeText=40]="CodeText",t[t.CodeInfo=41]="CodeInfo",t[t.LinkTitle=42]="LinkTitle",t[t.LinkLabel=43]="LinkLabel",t[t.URL=44]="URL"})(et||(et={}));class kye{constructor(e,n){this.start=e,this.content=n,this.marks=[],this.parsers=[]}}class Sye{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let e=this.skipSpace(this.basePos);this.indent=this.countIndent(e,this.pos,this.indent),this.pos=e,this.next=e==this.text.length?-1:this.text.charCodeAt(e)}skipSpace(e){return Jp(this.text,e)}reset(e){for(this.text=e,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(e){this.basePos=e,this.baseIndent=this.countIndent(e,this.pos,this.indent)}moveBaseColumn(e){this.baseIndent=e,this.basePos=this.findColumn(e)}addMarker(e){this.markers.push(e)}countIndent(e,n=0,r=0){for(let i=n;i<e;i++)r+=this.text.charCodeAt(i)==9?4-r%4:1;return r}findColumn(e){let n=0;for(let r=0;n<this.text.length&&r<e;n++)r+=this.text.charCodeAt(n)==9?4-r%4:1;return n}scrub(){if(!this.baseIndent)return this.text;let e="";for(let n=0;n<this.basePos;n++)e+=" ";return e+this.text.slice(this.basePos)}}function SD(t,e,n){if(n.pos==n.text.length||t!=e.block&&n.indent>=e.stack[n.depth+1].value+n.baseIndent)return!0;if(n.indent>=n.baseIndent+4)return!1;let r=(t.type==et.OrderedList?BC:FC)(n,e,!1);return r>0&&(t.type!=et.BulletList||NC(n,e,!1)<0)&&n.text.charCodeAt(n.pos+r-1)==t.value}const AB={[et.Blockquote](t,e,n){return n.next!=62?!1:(n.markers.push(In(et.QuoteMark,e.lineStart+n.pos,e.lineStart+n.pos+1)),n.moveBase(n.pos+(Fa(n.text.charCodeAt(n.pos+1))?2:1)),t.end=e.lineStart+n.text.length,!0)},[et.ListItem](t,e,n){return n.indent<n.baseIndent+t.value&&n.next>-1?!1:(n.moveBaseColumn(n.baseIndent+t.value),!0)},[et.OrderedList]:SD,[et.BulletList]:SD,[et.Document](){return!0}};function Fa(t){return t==32||t==9||t==10||t==13}function Jp(t,e=0){for(;e<t.length&&Fa(t.charCodeAt(e));)e++;return e}function xD(t,e,n){for(;e>n&&Fa(t.charCodeAt(e-1));)e--;return e}function PB(t){if(t.next!=96&&t.next!=126)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==t.next;)e++;if(e<t.pos+3)return-1;if(t.next==96){for(let n=e;n<t.text.length;n++)if(t.text.charCodeAt(n)==96)return-1}return e}function RB(t){return t.next!=62?-1:t.text.charCodeAt(t.pos+1)==32?2:1}function NC(t,e,n){if(t.next!=42&&t.next!=45&&t.next!=95)return-1;let r=1;for(let i=t.pos+1;i<t.text.length;i++){let s=t.text.charCodeAt(i);if(s==t.next)r++;else if(!Fa(s))return-1}return n&&t.next==45&&$B(t)>-1&&t.depth==e.stack.length&&e.parser.leafBlockParsers.indexOf(BB.SetextHeading)>-1||r<3?-1:1}function MB(t,e){for(let n=t.stack.length-1;n>=0;n--)if(t.stack[n].type==e)return!0;return!1}function FC(t,e,n){return(t.next==45||t.next==43||t.next==42)&&(t.pos==t.text.length-1||Fa(t.text.charCodeAt(t.pos+1)))&&(!n||MB(e,et.BulletList)||t.skipSpace(t.pos+2)<t.text.length)?1:-1}function BC(t,e,n){let r=t.pos,i=t.next;for(;i>=48&&i<=57;){r++;if(r==t.text.length)return-1;i=t.text.charCodeAt(r)}return r==t.pos||r>t.pos+9||i!=46&&i!=41||r<t.text.length-1&&!Fa(t.text.charCodeAt(r+1))||n&&!MB(e,et.OrderedList)&&(t.skipSpace(r+1)==t.text.length||r>t.pos+1||t.next!=49)?-1:r+1-t.pos}function IB(t){if(t.next!=35)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==35;)e++;if(e<t.text.length&&t.text.charCodeAt(e)!=32)return-1;let n=e-t.pos;return n>6?-1:n}function $B(t){if(t.next!=45&&t.next!=61||t.indent>=t.baseIndent+4)return-1;let e=t.pos+1;for(;e<t.text.length&&t.text.charCodeAt(e)==t.next;)e++;let n=e;for(;e<t.text.length&&Fa(t.text.charCodeAt(e));)e++;return e==t.text.length?n:-1}const O3=/^[ \t]*$/,LB=/-->/,NB=/\?>/,w3=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,LB],[/^\s*<\?/,NB],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,O3],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,O3]];function FB(t,e,n){if(t.next!=60)return-1;let r=t.text.slice(t.pos);for(let i=0,s=w3.length-(n?1:0);i<s;i++)if(w3[i][0].test(r))return i;return-1}function _D(t,e){let n=t.countIndent(e,t.pos,t.indent),r=t.countIndent(t.skipSpace(e),e,n);return r>=n+5?n+1:r}function Ud(t,e,n){let r=t.length-1;r>=0&&t[r].to==e&&t[r].type==et.CodeText?t[r].to=n:t.push(In(et.CodeText,e,n))}const F1={LinkReference:void 0,IndentedCode(t,e){let n=e.baseIndent+4;if(e.indent<n)return!1;let r=e.findColumn(n),i=t.lineStart+r,s=t.lineStart+e.text.length,o=[],a=[];for(Ud(o,i,s);t.nextLine()&&e.depth>=t.stack.length;)if(e.pos==e.text.length){Ud(a,t.lineStart-1,t.lineStart);for(let l of e.markers)a.push(l)}else{if(e.indent<n)break;{if(a.length){for(let c of a)c.type==et.CodeText?Ud(o,c.from,c.to):o.push(c);a=[]}Ud(o,t.lineStart-1,t.lineStart);for(let c of e.markers)o.push(c);s=t.lineStart+e.text.length;let l=t.lineStart+e.findColumn(e.baseIndent+4);l<s&&Ud(o,l,s)}}return a.length&&(a=a.filter(l=>l.type!=et.CodeText),a.length&&(e.markers=a.concat(e.markers))),t.addNode(t.buffer.writeElements(o,-i).finish(et.CodeBlock,s-i),i),!0},FencedCode(t,e){let n=PB(e);if(n<0)return!1;let r=t.lineStart+e.pos,i=e.next,s=n-e.pos,o=e.skipSpace(n),a=xD(e.text,e.text.length,o),l=[In(et.CodeMark,r,r+s)];o<a&&l.push(In(et.CodeInfo,t.lineStart+o,t.lineStart+a));for(let c=!0;t.nextLine()&&e.depth>=t.stack.length;c=!1){let d=e.pos;if(e.indent-e.baseIndent<4)for(;d<e.text.length&&e.text.charCodeAt(d)==i;)d++;if(d-e.pos>=s&&e.skipSpace(d)==e.text.length){for(let h of e.markers)l.push(h);l.push(In(et.CodeMark,t.lineStart+e.pos,t.lineStart+d)),t.nextLine();break}else{c||Ud(l,t.lineStart-1,t.lineStart);for(let m of e.markers)l.push(m);let h=t.lineStart+e.basePos,f=t.lineStart+e.text.length;h<f&&Ud(l,h,f)}}return t.addNode(t.buffer.writeElements(l,-r).finish(et.FencedCode,t.prevLineEnd()-r),r),!0},Blockquote(t,e){let n=RB(e);return n<0?!1:(t.startContext(et.Blockquote,e.pos),t.addNode(et.QuoteMark,t.lineStart+e.pos,t.lineStart+e.pos+1),e.moveBase(e.pos+n),null)},HorizontalRule(t,e){if(NC(e,t,!1)<0)return!1;let n=t.lineStart+e.pos;return t.nextLine(),t.addNode(et.HorizontalRule,n),!0},BulletList(t,e){let n=FC(e,t,!1);if(n<0)return!1;t.block.type!=et.BulletList&&t.startContext(et.BulletList,e.basePos,e.next);let r=_D(e,e.pos+1);return t.startContext(et.ListItem,e.basePos,r-e.baseIndent),t.addNode(et.ListMark,t.lineStart+e.pos,t.lineStart+e.pos+n),e.moveBaseColumn(r),null},OrderedList(t,e){let n=BC(e,t,!1);if(n<0)return!1;t.block.type!=et.OrderedList&&t.startContext(et.OrderedList,e.basePos,e.text.charCodeAt(e.pos+n-1));let r=_D(e,e.pos+n);return t.startContext(et.ListItem,e.basePos,r-e.baseIndent),t.addNode(et.ListMark,t.lineStart+e.pos,t.lineStart+e.pos+n),e.moveBaseColumn(r),null},ATXHeading(t,e){let n=IB(e);if(n<0)return!1;let r=e.pos,i=t.lineStart+r,s=xD(e.text,e.text.length,r),o=s;for(;o>r&&e.text.charCodeAt(o-1)==e.next;)o--;(o==s||o==r||!Fa(e.text.charCodeAt(o-1)))&&(o=e.text.length);let a=t.buffer.write(et.HeaderMark,0,n).writeElements(t.parser.parseInline(e.text.slice(r+n+1,o),i+n+1),-i);o<e.text.length&&a.write(et.HeaderMark,o-r,s-r);let l=a.finish(et.ATXHeading1-1+n,e.text.length-r);return t.nextLine(),t.addNode(l,i),!0},HTMLBlock(t,e){let n=FB(e,t,!1);if(n<0)return!1;let r=t.lineStart+e.pos,i=w3[n][1],s=[],o=i!=O3;for(;!i.test(e.text)&&t.nextLine();){if(e.depth<t.stack.length){o=!1;break}for(let c of e.markers)s.push(c)}o&&t.nextLine();let a=i==LB?et.CommentBlock:i==NB?et.ProcessingInstructionBlock:et.HTMLBlock,l=t.prevLineEnd();return t.addNode(t.buffer.writeElements(s,-r).finish(a,l-r),r),!0},SetextHeading:void 0};class xye{constructor(e){this.stage=0,this.elts=[],this.pos=0,this.start=e.start,this.advance(e.content)}nextLine(e,n,r){if(this.stage==-1)return!1;let i=r.content+`
`+n.scrub(),s=this.advance(i);return s>-1&&s<i.length?this.complete(e,r,s):!1}finish(e,n){return(this.stage==2||this.stage==3)&&Jp(n.content,this.pos)==n.content.length?this.complete(e,n,n.content.length):!1}complete(e,n,r){return e.addLeafElement(n,In(et.LinkReference,this.start,this.start+r,this.elts)),!0}nextStage(e){return e?(this.pos=e.to-this.start,this.elts.push(e),this.stage++,!0):(e===!1&&(this.stage=-1),!1)}advance(e){for(;;){if(this.stage==-1)return-1;if(this.stage==0){if(!this.nextStage(XB(e,this.pos,this.start,!0)))return-1;if(e.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(In(et.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(HB(e,Jp(e,this.pos),this.start)))return-1}else if(this.stage==2){let n=Jp(e,this.pos),r=0;if(n>this.pos){let i=WB(e,n,this.start);if(i){let s=Uk(e,i.to-this.start);s>0&&(this.nextStage(i),r=s)}}return r||(r=Uk(e,this.pos)),r>0&&r<e.length?r:-1}else return Uk(e,this.pos)}}}function Uk(t,e){for(;e<t.length;e++){let n=t.charCodeAt(e);if(n==10)break;if(!Fa(n))return-1}return e}class _ye{nextLine(e,n,r){let i=n.depth<e.stack.length?-1:$B(n),s=n.next;if(i<0)return!1;let o=In(et.HeaderMark,e.lineStart+n.pos,e.lineStart+i);return e.nextLine(),e.addLeafElement(r,In(s==61?et.SetextHeading1:et.SetextHeading2,r.start,e.prevLineEnd(),[...e.parser.parseInline(r.content,r.start),o])),!0}finish(){return!1}}const BB={LinkReference(t,e){return e.content.charCodeAt(0)==91?new xye(e):null},SetextHeading(){return new _ye}},Cye=[(t,e)=>IB(e)>=0,(t,e)=>PB(e)>=0,(t,e)=>RB(e)>=0,(t,e)=>FC(e,t,!0)>=0,(t,e)=>BC(e,t,!0)>=0,(t,e)=>NC(e,t,!0)>=0,(t,e)=>FB(e,t,!0)>=0],Eye={text:"",end:0};class Tye{constructor(e,n,r,i){this.parser=e,this.input=n,this.ranges=i,this.line=new Sye,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=i[i.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=i[0].from,this.block=r2.create(et.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=r.length?new Rye(r,n):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:e}=this;for(;;){for(let r=0;;){let i=e.depth<this.stack.length?this.stack[this.stack.length-1]:null;for(;r<e.markers.length&&(!i||e.markers[r].from<i.end);){let s=e.markers[r++];this.addNode(s.type,s.from,s.to)}if(!i)break;this.finishContext()}if(e.pos<e.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(e.basePos))return null;e:for(;;){for(let r of this.parser.blockParsers)if(r){let i=r(this,e);if(i!=!1){if(i==!0)return null;e.forward();continue e}}break}let n=new kye(this.lineStart+e.pos,e.text.slice(e.pos));for(let r of this.parser.leafBlockParsers)if(r){let i=r(this,n);i&&n.parsers.push(i)}e:for(;this.nextLine()&&e.pos!=e.text.length;){if(e.indent<e.baseIndent+4){for(let r of this.parser.endLeafBlock)if(r(this,e,n))break e}for(let r of n.parsers)if(r.nextLine(this,e,n))return null;n.content+=`
`+e.scrub();for(let r of e.markers)n.marks.push(r)}return this.finishLeaf(n),null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}reuseFragment(e){if(!this.fragments.moveTo(this.absoluteLineStart+e,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let n=this.fragments.takeNodes(this);return n?(this.absoluteLineStart+=n,this.lineStart=YB(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0):!1}get depth(){return this.stack.length}parentType(e=this.depth-1){return this.parser.nodeSet.types[this.stack[e].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}peekLine(){return this.scanLine(this.absoluteLineEnd+1).text}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(e){let n=Eye;if(n.end=e,e>=this.to)n.text="";else if(n.text=this.lineChunkAt(e),n.end+=n.text.length,this.ranges.length>1){let r=this.absoluteLineStart,i=this.rangeI;for(;this.ranges[i].to<n.end;){i++;let s=this.ranges[i].from,o=this.lineChunkAt(s);n.end=s+o.length,n.text=n.text.slice(0,this.ranges[i-1].to-r)+o,r=n.end-n.text.length}}return n}readLine(){let{line:e}=this,{text:n,end:r}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=r,e.reset(n);e.depth<this.stack.length;e.depth++){let i=this.stack[e.depth],s=this.parser.skipContextMarkup[i.type];if(!s)throw new Error("Unhandled block context "+et[i.type]);if(!s(i,this,e))break;e.forward()}}lineChunkAt(e){let n=this.input.chunk(e),r;if(this.input.lineChunks)r=n==`
`?"":n;else{let i=n.indexOf(`
`);r=i<0?n:n.slice(0,i)}return e+r.length>this.to?r.slice(0,this.to-e):r}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(e,n,r=0){this.block=r2.create(e,r,this.lineStart+n,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(e,n,r=0){this.startContext(this.parser.getNodeType(e),n,r)}addNode(e,n,r){typeof e=="number"&&(e=new Sn(this.parser.nodeSet.types[e],Gm,Gm,(r??this.prevLineEnd())-n)),this.block.addChild(e,n-this.block.from)}addElement(e){this.block.addChild(e.toTree(this.parser.nodeSet),e.from-this.block.from)}addLeafElement(e,n){this.addNode(this.buffer.writeElements(x3(n.children,e.marks),-n.from).finish(n.type,n.to-n.from),n.from)}finishContext(){let e=this.stack.pop(),n=this.stack[this.stack.length-1];n.addChild(e.toTree(this.parser.nodeSet),e.from-n.from),this.block=n}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(e){return this.ranges.length>1?zB(this.ranges,0,e.topNode,this.ranges[0].from,this.reusePlaceholders):e}finishLeaf(e){for(let r of e.parsers)if(r.finish(this,e))return;let n=x3(this.parser.parseInline(e.content,e.start),e.marks);this.addNode(this.buffer.writeElements(n,-e.start).finish(et.Paragraph,e.content.length),e.start)}elt(e,n,r,i){return typeof e=="string"?In(this.parser.getNodeType(e),n,r,i):new VB(e,n)}get buffer(){return new UB(this.parser.nodeSet)}}function zB(t,e,n,r,i){let s=t[e].to,o=[],a=[],l=n.from+r;function c(d,h){for(;h?d>=s:d>s;){let f=t[e+1].from-s;r+=f,d+=f,e++,s=t[e].to}}for(let d=n.firstChild;d;d=d.nextSibling){c(d.from+r,!0);let h=d.from+r,f,m=i.get(d.tree);m?f=m:d.to+r>s?(f=zB(t,e,d,r,i),c(d.to+r,!1)):f=d.toTree(),o.push(f),a.push(h-l)}return c(n.to+r,!1),new Sn(n.type,o,a,n.to+r-l,n.tree?n.tree.propValues:void 0)}class NO extends AO{constructor(e,n,r,i,s,o,a,l,c){super(),this.nodeSet=e,this.blockParsers=n,this.leafBlockParsers=r,this.blockNames=i,this.endLeafBlock=s,this.skipContextMarkup=o,this.inlineParsers=a,this.inlineNames=l,this.wrappers=c,this.nodeTypes=Object.create(null);for(let d of e.types)this.nodeTypes[d.name]=d.id}createParse(e,n,r){let i=new Tye(this,e,n,r);for(let s of this.wrappers)i=s(i,e,n,r);return i}configure(e){let n=k3(e);if(!n)return this;let{nodeSet:r,skipContextMarkup:i}=this,s=this.blockParsers.slice(),o=this.leafBlockParsers.slice(),a=this.blockNames.slice(),l=this.inlineParsers.slice(),c=this.inlineNames.slice(),d=this.endLeafBlock.slice(),h=this.wrappers;if(op(n.defineNodes)){i=Object.assign({},i);let f=r.types.slice(),m;for(let g of n.defineNodes){let{name:p,block:v,composite:b,style:y}=typeof g=="string"?{name:g}:g;if(f.some(O=>O.name==p))continue;b&&(i[f.length]=(O,S,T)=>b(S,T,O.value));let C=f.length,x=b?["Block","BlockContext"]:v?C>=et.ATXHeading1&&C<=et.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;f.push(zi.define({id:C,name:p,props:x&&[[Kt.group,x]]})),y&&(m||(m={}),Array.isArray(y)||y instanceof Do?m[p]=y:Object.assign(m,y))}r=new yg(f),m&&(r=r.extend(Og(m)))}if(op(n.props)&&(r=r.extend(...n.props)),op(n.remove))for(let f of n.remove){let m=this.blockNames.indexOf(f),g=this.inlineNames.indexOf(f);m>-1&&(s[m]=o[m]=void 0),g>-1&&(l[g]=void 0)}if(op(n.parseBlock))for(let f of n.parseBlock){let m=a.indexOf(f.name);if(m>-1)s[m]=f.parse,o[m]=f.leaf;else{let g=f.before?B1(a,f.before):f.after?B1(a,f.after)+1:a.length-1;s.splice(g,0,f.parse),o.splice(g,0,f.leaf),a.splice(g,0,f.name)}f.endLeaf&&d.push(f.endLeaf)}if(op(n.parseInline))for(let f of n.parseInline){let m=c.indexOf(f.name);if(m>-1)l[m]=f.parse;else{let g=f.before?B1(c,f.before):f.after?B1(c,f.after)+1:c.length-1;l.splice(g,0,f.parse),c.splice(g,0,f.name)}}return n.wrap&&(h=h.concat(n.wrap)),new NO(r,s,o,a,d,i,l,c,h)}getNodeType(e){let n=this.nodeTypes[e];if(n==null)throw new RangeError(`Unknown node type '${e}'`);return n}parseInline(e,n){let r=new Aye(this,e,n);e:for(let i=n;i<r.end;){let s=r.char(i);for(let o of this.inlineParsers)if(o){let a=o(r,s,i);if(a>=0){i=a;continue e}}i++}return r.resolveMarkers(0)}}function op(t){return t!=null&&t.length>0}function k3(t){if(!Array.isArray(t))return t;if(t.length==0)return null;let e=k3(t[0]);if(t.length==1)return e;let n=k3(t.slice(1));if(!n||!e)return e||n;let r=(o,a)=>(o||Gm).concat(a||Gm),i=e.wrap,s=n.wrap;return{props:r(e.props,n.props),defineNodes:r(e.defineNodes,n.defineNodes),parseBlock:r(e.parseBlock,n.parseBlock),parseInline:r(e.parseInline,n.parseInline),remove:r(e.remove,n.remove),wrap:i?s?(o,a,l,c)=>i(s(o,a,l,c),a,l,c):i:s}}function B1(t,e){let n=t.indexOf(e);if(n<0)throw new RangeError(`Position specified relative to unknown parser ${e}`);return n}let QB=[zi.none];for(let t=1,e;e=et[t];t++)QB[t]=zi.define({id:t,name:e,props:t>=et.Escape?[]:[[Kt.group,t in AB?["Block","BlockContext"]:["Block","LeafBlock"]]],top:e=="Document"});const Gm=[];class UB{constructor(e){this.nodeSet=e,this.content=[],this.nodes=[]}write(e,n,r,i=0){return this.content.push(e,n,r,4+i*4),this}writeElements(e,n=0){for(let r of e)r.writeTo(this,n);return this}finish(e,n){return Sn.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:e,length:n})}}let H0=class{constructor(e,n,r,i=Gm){this.type=e,this.from=n,this.to=r,this.children=i}writeTo(e,n){let r=e.content.length;e.writeElements(this.children,n),e.content.push(this.type,this.from+n,this.to+n,e.content.length+4-r)}toTree(e){return new UB(e).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}};class VB{constructor(e,n){this.tree=e,this.from=n}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return Gm}writeTo(e,n){e.nodes.push(this.tree),e.content.push(e.nodes.length-1,this.from+n,this.to+n,-1)}toTree(){return this.tree}}function In(t,e,n,r){return new H0(t,e,n,r)}const jB={resolve:"Emphasis",mark:"EmphasisMark"},qB={resolve:"Emphasis",mark:"EmphasisMark"},Nf={},S3={};class fa{constructor(e,n,r,i){this.type=e,this.from=n,this.to=r,this.side=i}}const CD="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let W0=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{W0=new RegExp("[\\p{S}|\\p{P}]","u")}catch{}const Vk={Escape(t,e,n){if(e!=92||n==t.end-1)return-1;let r=t.char(n+1);for(let i=0;i<CD.length;i++)if(CD.charCodeAt(i)==r)return t.append(In(et.Escape,n,n+2));return-1},Entity(t,e,n){if(e!=38)return-1;let r=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(t.slice(n+1,n+31));return r?t.append(In(et.Entity,n,n+1+r[0].length)):-1},InlineCode(t,e,n){if(e!=96||n&&t.char(n-1)==96)return-1;let r=n+1;for(;r<t.end&&t.char(r)==96;)r++;let i=r-n,s=0;for(;r<t.end;r++)if(t.char(r)==96){if(s++,s==i&&t.char(r+1)!=96)return t.append(In(et.InlineCode,n,r+1,[In(et.CodeMark,n,n+i),In(et.CodeMark,r+1-i,r+1)]))}else s=0;return-1},HTMLTag(t,e,n){if(e!=60||n==t.end-1)return-1;let r=t.slice(n+1,t.end),i=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(r);if(i)return t.append(In(et.Autolink,n,n+1+i[0].length,[In(et.LinkMark,n,n+1),In(et.URL,n+1,n+i[0].length),In(et.LinkMark,n+i[0].length,n+1+i[0].length)]));let s=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(r);if(s)return t.append(In(et.Comment,n,n+1+s[0].length));let o=/^\?[^]*?\?>/.exec(r);if(o)return t.append(In(et.ProcessingInstruction,n,n+1+o[0].length));let a=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(r);return a?t.append(In(et.HTMLTag,n,n+1+a[0].length)):-1},Emphasis(t,e,n){if(e!=95&&e!=42)return-1;let r=n+1;for(;t.char(r)==e;)r++;let i=t.slice(n-1,n),s=t.slice(r,r+1),o=W0.test(i),a=W0.test(s),l=/\s|^$/.test(i),c=/\s|^$/.test(s),d=!c&&(!a||l||o),h=!l&&(!o||c||a),f=d&&(e==42||!h||o),m=h&&(e==42||!d||a);return t.append(new fa(e==95?jB:qB,n,r,(f?1:0)|(m?2:0)))},HardBreak(t,e,n){if(e==92&&t.char(n+1)==10)return t.append(In(et.HardBreak,n,n+2));if(e==32){let r=n+1;for(;t.char(r)==32;)r++;if(t.char(r)==10&&r>=n+2)return t.append(In(et.HardBreak,n,r+1))}return-1},Link(t,e,n){return e==91?t.append(new fa(Nf,n,n+1,1)):-1},Image(t,e,n){return e==33&&t.char(n+1)==91?t.append(new fa(S3,n,n+2,1)):-1},LinkEnd(t,e,n){if(e!=93)return-1;for(let r=t.parts.length-1;r>=0;r--){let i=t.parts[r];if(i instanceof fa&&(i.type==Nf||i.type==S3)){if(!i.side||t.skipSpace(i.to)==n&&!/[(\[]/.test(t.slice(n+1,n+2)))return t.parts[r]=null,-1;let s=t.takeContent(r),o=t.parts[r]=Dye(t,s,i.type==Nf?et.Link:et.Image,i.from,n+1);if(i.type==Nf)for(let a=0;a<r;a++){let l=t.parts[a];l instanceof fa&&l.type==Nf&&(l.side=0)}return o.to}}return-1}};function Dye(t,e,n,r,i){let{text:s}=t,o=t.char(i),a=i;if(e.unshift(In(et.LinkMark,r,r+(n==et.Image?2:1))),e.push(In(et.LinkMark,i-1,i)),o==40){let l=t.skipSpace(i+1),c=HB(s,l-t.offset,t.offset),d;c&&(l=t.skipSpace(c.to),l!=c.to&&(d=WB(s,l-t.offset,t.offset),d&&(l=t.skipSpace(d.to)))),t.char(l)==41&&(e.push(In(et.LinkMark,i,i+1)),a=l+1,c&&e.push(c),d&&e.push(d),e.push(In(et.LinkMark,l,a)))}else if(o==91){let l=XB(s,i-t.offset,t.offset,!1);l&&(e.push(l),a=l.to)}return In(n,r,a,e)}function HB(t,e,n){if(t.charCodeAt(e)==60){for(let i=e+1;i<t.length;i++){let s=t.charCodeAt(i);if(s==62)return In(et.URL,e+n,i+1+n);if(s==60||s==10)return!1}return null}else{let i=0,s=e;for(let o=!1;s<t.length;s++){let a=t.charCodeAt(s);if(Fa(a))break;if(o)o=!1;else if(a==40)i++;else if(a==41){if(!i)break;i--}else a==92&&(o=!0)}return s>e?In(et.URL,e+n,s+n):s==t.length?null:!1}}function WB(t,e,n){let r=t.charCodeAt(e);if(r!=39&&r!=34&&r!=40)return!1;let i=r==40?41:r;for(let s=e+1,o=!1;s<t.length;s++){let a=t.charCodeAt(s);if(o)o=!1;else{if(a==i)return In(et.LinkTitle,e+n,s+1+n);a==92&&(o=!0)}}return null}function XB(t,e,n,r){for(let i=!1,s=e+1,o=Math.min(t.length,s+999);s<o;s++){let a=t.charCodeAt(s);if(i)i=!1;else{if(a==93)return r?!1:In(et.LinkLabel,e+n,s+1+n);if(r&&!Fa(a)&&(r=!1),a==91)return!1;a==92&&(i=!0)}}return null}class Aye{constructor(e,n,r){this.parser=e,this.text=n,this.offset=r,this.parts=[]}char(e){return e>=this.end?-1:this.text.charCodeAt(e-this.offset)}get end(){return this.offset+this.text.length}slice(e,n){return this.text.slice(e-this.offset,n-this.offset)}append(e){return this.parts.push(e),e.to}addDelimiter(e,n,r,i,s){return this.append(new fa(e,n,r,(i?1:0)|(s?2:0)))}get hasOpenLink(){for(let e=this.parts.length-1;e>=0;e--){let n=this.parts[e];if(n instanceof fa&&(n.type==Nf||n.type==S3))return!0}return!1}addElement(e){return this.append(e)}resolveMarkers(e){for(let r=e;r<this.parts.length;r++){let i=this.parts[r];if(!(i instanceof fa&&i.type.resolve&&i.side&2))continue;let s=i.type==jB||i.type==qB,o=i.to-i.from,a,l=r-1;for(;l>=e;l--){let p=this.parts[l];if(p instanceof fa&&p.side&1&&p.type==i.type&&!(s&&(i.side&1||p.side&2)&&(p.to-p.from+o)%3==0&&((p.to-p.from)%3||o%3))){a=p;break}}if(!a)continue;let c=i.type.resolve,d=[],h=a.from,f=i.to;if(s){let p=Math.min(2,a.to-a.from,o);h=a.to-p,f=i.from+p,c=p==1?"Emphasis":"StrongEmphasis"}a.type.mark&&d.push(this.elt(a.type.mark,h,a.to));for(let p=l+1;p<r;p++)this.parts[p]instanceof H0&&d.push(this.parts[p]),this.parts[p]=null;i.type.mark&&d.push(this.elt(i.type.mark,i.from,f));let m=this.elt(c,h,f,d);this.parts[l]=s&&a.from!=h?new fa(a.type,a.from,h,a.side):null,(this.parts[r]=s&&i.to!=f?new fa(i.type,f,i.to,i.side):null)?this.parts.splice(r,0,m):this.parts[r]=m}let n=[];for(let r=e;r<this.parts.length;r++){let i=this.parts[r];i instanceof H0&&n.push(i)}return n}findOpeningDelimiter(e){for(let n=this.parts.length-1;n>=0;n--){let r=this.parts[n];if(r instanceof fa&&r.type==e)return n}return null}takeContent(e){let n=this.resolveMarkers(e);return this.parts.length=e,n}skipSpace(e){return Jp(this.text,e-this.offset)+this.offset}elt(e,n,r,i){return typeof e=="string"?In(this.parser.getNodeType(e),n,r,i):new VB(e,n)}}function x3(t,e){if(!e.length)return t;if(!t.length)return e;let n=t.slice(),r=0;for(let i of e){for(;r<n.length&&n[r].to<i.to;)r++;if(r<n.length&&n[r].from<i.from){let s=n[r];s instanceof H0&&(n[r]=new H0(s.type,s.from,s.to,x3(s.children,[i])))}else n.splice(r++,0,i)}return n}const Pye=[et.CodeBlock,et.ListItem,et.OrderedList,et.BulletList];let Rye=class{constructor(e,n){this.fragments=e,this.input=n,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,e.length&&(this.fragment=e[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(e,n){for(;this.fragment&&this.fragment.to<=e;)this.nextFragment();if(!this.fragment||this.fragment.from>(e?e-1:0))return!1;if(this.fragmentEnd<0){let s=this.fragment.to;for(;s>0&&this.input.read(s-1,s)!=`
`;)s--;this.fragmentEnd=s?s-1:0}let r=this.cursor;r||(r=this.cursor=this.fragment.tree.cursor(),r.firstChild());let i=e+this.fragment.offset;for(;r.to<=i;)if(!r.parent())return!1;for(;;){if(r.from>=i)return this.fragment.from<=n;if(!r.childAfter(i))return!1}}matches(e){let n=this.cursor.tree;return n&&n.prop(Kt.contextHash)==e}takeNodes(e){let n=this.cursor,r=this.fragment.offset,i=this.fragmentEnd-(this.fragment.openEnd?1:0),s=e.absoluteLineStart,o=s,a=e.block.children.length,l=o,c=a;for(;;){if(n.to-r>i){if(n.type.isAnonymous&&n.firstChild())continue;break}let d=YB(n.from-r,e.ranges);if(n.to-r<=e.ranges[e.rangeI].to)e.addNode(n.tree,d);else{let h=new Sn(e.parser.nodeSet.types[et.Paragraph],[],[],0,e.block.hashProp);e.reusePlaceholders.set(h,n.tree),e.addNode(h,d)}if(n.type.is("Block")&&(Pye.indexOf(n.type.id)<0?(o=n.to-r,a=e.block.children.length):(o=l,a=c,l=n.to-r,c=e.block.children.length)),!n.nextSibling())break}for(;e.block.children.length>a;)e.block.children.pop(),e.block.positions.pop();return o-s}};function YB(t,e){let n=t;for(let r=1;r<e.length;r++){let i=e[r-1].to,s=e[r].from;i<t&&(n-=s-i)}return n}const Mye=Og({"Blockquote/...":ie.quote,HorizontalRule:ie.contentSeparator,"ATXHeading1/... SetextHeading1/...":ie.heading1,"ATXHeading2/... SetextHeading2/...":ie.heading2,"ATXHeading3/...":ie.heading3,"ATXHeading4/...":ie.heading4,"ATXHeading5/...":ie.heading5,"ATXHeading6/...":ie.heading6,"Comment CommentBlock":ie.comment,Escape:ie.escape,Entity:ie.character,"Emphasis/...":ie.emphasis,"StrongEmphasis/...":ie.strong,"Link/... Image/...":ie.link,"OrderedList/... BulletList/...":ie.list,"BlockQuote/...":ie.quote,"InlineCode CodeText":ie.monospace,"URL Autolink":ie.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":ie.processingInstruction,"CodeInfo LinkLabel":ie.labelName,LinkTitle:ie.string,Paragraph:ie.content}),Iye=new NO(new yg(QB).extend(Mye),Object.keys(F1).map(t=>F1[t]),Object.keys(F1).map(t=>BB[t]),Object.keys(F1),Cye,AB,Object.keys(Vk).map(t=>Vk[t]),Object.keys(Vk),[]);function $ye(t,e,n){let r=[];for(let i=t.firstChild,s=e;;i=i.nextSibling){let o=i?i.from:n;if(o>s&&r.push({from:s,to:o}),!i)break;s=i.to}return r}function Lye(t){let{codeParser:e,htmlParser:n}=t;return{wrap:AF((i,s)=>{let o=i.type.id;if(e&&(o==et.CodeBlock||o==et.FencedCode)){let a="";if(o==et.FencedCode){let c=i.node.getChild(et.CodeInfo);c&&(a=s.read(c.from,c.to))}let l=e(a);if(l)return{parser:l,overlay:c=>c.type.id==et.CodeText}}else if(n&&(o==et.HTMLBlock||o==et.HTMLTag||o==et.CommentBlock))return{parser:n,overlay:$ye(i.node,i.from,i.to)};return null})}}const Nye={resolve:"Strikethrough",mark:"StrikethroughMark"},Fye={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":ie.strikethrough}},{name:"StrikethroughMark",style:ie.processingInstruction}],parseInline:[{name:"Strikethrough",parse(t,e,n){if(e!=126||t.char(n+1)!=126||t.char(n+2)==126)return-1;let r=t.slice(n-1,n),i=t.slice(n+2,n+3),s=/\s|^$/.test(r),o=/\s|^$/.test(i),a=W0.test(r),l=W0.test(i);return t.addDelimiter(Nye,n,n+2,!o&&(!l||s||a),!s&&(!a||o||l))},after:"Emphasis"}]};function e0(t,e,n=0,r,i=0){let s=0,o=!0,a=-1,l=-1,c=!1,d=()=>{r.push(t.elt("TableCell",i+a,i+l,t.parser.parseInline(e.slice(a,l),i+a)))};for(let h=n;h<e.length;h++){let f=e.charCodeAt(h);f==124&&!c?((!o||a>-1)&&s++,o=!1,r&&(a>-1&&d(),r.push(t.elt("TableDelimiter",h+i,h+i+1))),a=l=-1):(c||f!=32&&f!=9)&&(a<0&&(a=h),l=h+1),c=!c&&f==92}return a>-1&&(s++,r&&d()),s}function ED(t,e){for(let n=e;n<t.length;n++){let r=t.charCodeAt(n);if(r==124)return!0;r==92&&n++}return!1}const GB=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/;class TD{constructor(){this.rows=null}nextLine(e,n,r){if(this.rows==null){this.rows=!1;let i;if((n.next==45||n.next==58||n.next==124)&&GB.test(i=n.text.slice(n.pos))){let s=[];e0(e,r.content,0,s,r.start)==e0(e,i,n.pos)&&(this.rows=[e.elt("TableHeader",r.start,r.start+r.content.length,s),e.elt("TableDelimiter",e.lineStart+n.pos,e.lineStart+n.text.length)])}}else if(this.rows){let i=[];e0(e,n.text,n.pos,i,e.lineStart),this.rows.push(e.elt("TableRow",e.lineStart+n.pos,e.lineStart+n.text.length,i))}return!1}finish(e,n){return this.rows?(e.addLeafElement(n,e.elt("Table",n.start,n.start+n.content.length,this.rows)),!0):!1}}const Bye={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":ie.heading}},"TableRow",{name:"TableCell",style:ie.content},{name:"TableDelimiter",style:ie.processingInstruction}],parseBlock:[{name:"Table",leaf(t,e){return ED(e.content,0)?new TD:null},endLeaf(t,e,n){if(n.parsers.some(i=>i instanceof TD)||!ED(e.text,e.basePos))return!1;let r=t.peekLine();return GB.test(r)&&e0(t,e.text,e.basePos)==e0(t,r,e.basePos)},before:"SetextHeading"}]};class zye{nextLine(){return!1}finish(e,n){return e.addLeafElement(n,e.elt("Task",n.start,n.start+n.content.length,[e.elt("TaskMarker",n.start,n.start+3),...e.parser.parseInline(n.content.slice(3),n.start+3)])),!0}}const Qye={defineNodes:[{name:"Task",block:!0,style:ie.list},{name:"TaskMarker",style:ie.atom}],parseBlock:[{name:"TaskList",leaf(t,e){return/^\[[ xX]\][ \t]/.test(e.content)&&t.parentType().name=="ListItem"?new zye:null},after:"SetextHeading"}]},DD=/(www\.)|(https?:\/\/)|([\w.+-]{1,100}@)|(mailto:|xmpp:)/gy,AD=/[\w-]+(\.[\w-]+)+(\/[^\s<]*)?/gy,Uye=/[\w-]+\.[\w-]+($|\/)/,PD=/[\w.+-]+@[\w-]+(\.[\w.-]+)+/gy,RD=/\/[a-zA-Z\d@.]+/gy;function MD(t,e,n,r){let i=0;for(let s=e;s<n;s++)t[s]==r&&i++;return i}function Vye(t,e){AD.lastIndex=e;let n=AD.exec(t);if(!n||Uye.exec(n[0])[0].indexOf("_")>-1)return-1;let r=e+n[0].length;for(;;){let i=t[r-1],s;if(/[?!.,:*_~]/.test(i)||i==")"&&MD(t,e,r,")")>MD(t,e,r,"("))r--;else if(i==";"&&(s=/&(?:#\d+|#x[a-f\d]+|\w+);$/.exec(t.slice(e,r))))r=e+s.index;else break}return r}function ID(t,e){PD.lastIndex=e;let n=PD.exec(t);if(!n)return-1;let r=n[0][n[0].length-1];return r=="_"||r=="-"?-1:e+n[0].length-(r=="."?1:0)}const jye={parseInline:[{name:"Autolink",parse(t,e,n){let r=n-t.offset;if(r&&/\w/.test(t.text[r-1]))return-1;DD.lastIndex=r;let i=DD.exec(t.text),s=-1;if(!i)return-1;if(i[1]||i[2]){if(s=Vye(t.text,r+i[0].length),s>-1&&t.hasOpenLink){let o=/([^\[\]]|\[[^\]]*\])*/.exec(t.text.slice(r,s));s=r+o[0].length}}else i[3]?s=ID(t.text,r):(s=ID(t.text,r+i[0].length),s>-1&&i[0]=="xmpp:"&&(RD.lastIndex=s,i=RD.exec(t.text),i&&(s=i.index+i[0].length)));return s<0?-1:(t.addElement(t.elt("URL",n,s+t.offset)),s+t.offset)}}]},qye=[Bye,Qye,Fye,jye];function ZB(t,e,n){return(r,i,s)=>{if(i!=t||r.char(s+1)==t)return-1;let o=[r.elt(n,s,s+1)];for(let a=s+1;a<r.end;a++){let l=r.char(a);if(l==t)return r.addElement(r.elt(e,s,a+1,o.concat(r.elt(n,a,a+1))));if(l==92&&o.push(r.elt("Escape",a,a+++2)),Fa(l))break}return-1}}const Hye={defineNodes:[{name:"Superscript",style:ie.special(ie.content)},{name:"SuperscriptMark",style:ie.processingInstruction}],parseInline:[{name:"Superscript",parse:ZB(94,"Superscript","SuperscriptMark")}]},Wye={defineNodes:[{name:"Subscript",style:ie.special(ie.content)},{name:"SubscriptMark",style:ie.processingInstruction}],parseInline:[{name:"Subscript",parse:ZB(126,"Subscript","SubscriptMark")}]},Xye={defineNodes:[{name:"Emoji",style:ie.character}],parseInline:[{name:"Emoji",parse(t,e,n){let r;return e!=58||!(r=/^[a-zA-Z_0-9]+:/.exec(t.slice(n+1,t.end)))?-1:t.addElement(t.elt("Emoji",n,n+1+r[0].length))}}]};var $D={};let Yye=class _3{constructor(e,n,r,i,s,o,a,l,c,d=0,h){this.p=e,this.stack=n,this.state=r,this.reducePos=i,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=c,this.lookAhead=d,this.parent=h}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,r=0){let i=e.parser.context;return new _3(e,[],n,r,r,0,[],0,i?new LD(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let r=e>>19,i=e&65535,{parser:s}=this.p,o=this.reducePos<this.pos-25;o&&this.setLookAhead(this.pos);let a=s.dynamicPrecedence(i);if(a&&(this.score+=a),r==0){this.pushState(s.getGoto(this.state,i,!0),this.reducePos),i<s.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(i,this.reducePos);return}let l=this.stack.length-(r-1)*3-(e&262144?6:0),c=l?this.stack[l-2]:this.p.ranges[0].from,d=this.reducePos-c;d>=2e3&&!(!((n=this.p.parser.nodeSet.types[i])===null||n===void 0)&&n.isAnonymous)&&(c==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=d):this.p.lastBigReductionSize<d&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=c,this.p.lastBigReductionSize=d));let h=l?this.stack[l-1]:0,f=this.bufferBase+this.buffer.length-h;if(i<s.minRepeatTerm||e&131072){let m=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,c,m,f+4,!0)}if(e&262144)this.state=this.stack[l];else{let m=this.stack[l-3];this.state=s.getGoto(m,i,!0)}for(;this.stack.length>l;)this.stack.pop();this.reduceContext(i,c)}storeNode(e,n,r,i=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(n==r)return;if(o.buffer[a-2]>=n){o.buffer[a-2]=r;return}}}if(!s||this.pos==r)this.buffer.push(e,n,r,i);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0){let a=!1;for(let l=o;l>0&&this.buffer[l-2]>r;l-=4)if(this.buffer[l-1]>=0){a=!0;break}if(a)for(;o>0&&this.buffer[o-2]>r;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,i>4&&(i-=4)}this.buffer[o]=e,this.buffer[o+1]=n,this.buffer[o+2]=r,this.buffer[o+3]=i}}shift(e,n,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=i,this.shiftContext(n,r),n<=this.p.parser.maxNode&&this.buffer.push(n,r,i,4);else{let s=e,{parser:o}=this.p;(i>this.pos||n<=o.maxNode)&&(this.pos=i,o.stateFlag(s,1)||(this.reducePos=i)),this.pushState(s,r),this.shiftContext(n,r),n<=o.maxNode&&this.buffer.push(n,r,i,4)}}apply(e,n,r,i){e&65536?this.reduce(e):this.shift(e,n,r,i)}useNode(e,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(n,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let r=e.buffer.slice(n),i=e.bufferBase+n;for(;e&&i==e.bufferBase;)e=e.parent;return new _3(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new Gye(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(r==0)return!1;if(!(r&65536))return!0;n.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let i=[];for(let s=0,o;s<n.length;s+=2)(o=n[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&i.push(n[s],o);if(this.stack.length<120)for(let s=0;i.length<8&&s<n.length;s+=2){let o=n[s+1];i.some((a,l)=>l&1&&a==o)||i.push(n[s],o)}n=i}let r=[];for(let i=0;i<n.length&&r.length<4;i+=2){let s=n[i+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(n[i],this.pos),o.reducePos=this.pos,o.score-=200,r.push(o)}return r}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if(!(n&65536))return!1;if(!e.validAction(this.state,n)){let r=n>>19,i=n&65535,s=this.stack.length-r*3;if(s<0||e.getGoto(this.stack[s],i,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;n=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],r=(i,s)=>{if(!n.includes(i))return n.push(i),e.allActions(i,o=>{if(!(o&393216))if(o&65536){let a=(o>>19)-s;if(a>1){let l=o&65535,c=this.stack.length-a*3;if(c>=0&&e.getGoto(this.stack[c],l,!1)>=0)return a<<19|65536|l}}else{let a=r(o,s+1);if(a!=null)return a}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new LD(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}};class LD{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}class Gye{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=i}}class i2{constructor(e,n,r){this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new i2(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new i2(this.stack,this.pos,this.index)}}function Np(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let r=0,i=0;r<t.length;){let s=0;for(;;){let o=t.charCodeAt(r++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}n?n[i++]=s:n=new e(s)}return n}class Hb{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const ND=new Hb;class Zye{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=ND,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let r=this.range,i=this.rangeIndex,s=this.pos+e;for(;s<r.from;){if(!i)return null;let o=this.ranges[--i];s-=r.from-o.to,r=o}for(;n<0?s>r.to:s>=r.to;){if(i==this.ranges.length-1)return null;let o=this.ranges[++i];s+=o.from-r.to,r=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,r,i;if(n>=0&&n<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(n);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(r=s,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=r;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,n){this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=ND,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let r="";for(let i of this.ranges){if(i.from>=n)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,n)))}return r}}class vm{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:r}=n.p;KB(this.data,e,n,this.id,r.data,r.tokenPrecTable)}}vm.prototype.contextual=vm.prototype.fallback=vm.prototype.extend=!1;class s2{constructor(e,n,r){this.precTable=n,this.elseToken=r,this.data=typeof e=="string"?Np(e):e}token(e,n){let r=e.pos,i=0;for(;;){let s=e.next<0,o=e.resolveOffset(1,1);if(KB(this.data,e,n,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(s||i++,o==null)break;e.reset(o,e.token)}i&&(e.reset(r,e.token),e.acceptToken(this.elseToken,i))}}s2.prototype.contextual=vm.prototype.fallback=vm.prototype.extend=!1;class Ko{constructor(e,n={}){this.token=e,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function KB(t,e,n,r,i,s){let o=0,a=1<<r,{dialect:l}=n.p.parser;e:for(;a&t[o];){let c=t[o+1];for(let m=o+3;m<c;m+=2)if((t[m+1]&a)>0){let g=t[m];if(l.allows(g)&&(e.token.value==-1||e.token.value==g||Kye(g,e.token.value,i,s))){e.acceptToken(g);break}}let d=e.next,h=0,f=t[o+2];if(e.next<0&&f>h&&t[c+f*3-3]==65535){o=t[c+f*3-1];continue e}for(;h<f;){let m=h+f>>1,g=c+m+(m<<1),p=t[g],v=t[g+1]||65536;if(d<p)f=m;else if(d>=v)h=m+1;else{o=t[g+2],e.advance();continue e}}break}}function FD(t,e,n){for(let r=e,i;(i=t[r])!=65535;r++)if(i==n)return r-e;return-1}function Kye(t,e,n,r){let i=FD(n,r,e);return i<0||FD(n,r,t)<i}const yo=typeof process<"u"&&$D&&/\bparse\b/.test($D.LOG);let jk=null;function BD(t,e,n){let r=t.cursor(gr.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}class Jye{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?BD(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?BD(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],i=this.index[n];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=r.children[i],o=this.start[n]+r.positions[i];if(o>e)return this.nextStart=o,null;if(s instanceof Sn){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop(Kt.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[n]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[n]++,this.nextStart=o+s.length}}}class e2e{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new Hb)}getActions(e){let n=0,r=null,{parser:i}=e.p,{tokenizers:s}=i,o=i.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let c=0;c<s.length;c++){if(!(1<<c&o))continue;let d=s[c],h=this.tokens[c];if(!(r&&!d.fallback)&&((d.contextual||h.start!=e.pos||h.mask!=o||h.context!=a)&&(this.updateCachedToken(h,d,e),h.mask=o,h.context=a),h.lookAhead>h.end+25&&(l=Math.max(h.lookAhead,l)),h.value!=0)){let f=n;if(h.extended>-1&&(n=this.addActions(e,h.extended,h.end,n)),n=this.addActions(e,h.value,h.end,n),!d.extend&&(r=h,n>f))break}}for(;this.actions.length>n;)this.actions.pop();return l&&e.setLookAhead(l),!r&&e.pos==this.stream.end&&(r=new Hb,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new Hb,{pos:r,p:i}=e;return n.start=r,n.end=Math.min(r+1,i.stream.end),n.value=r==i.stream.end?i.parser.eofTerm:0,n}updateCachedToken(e,n,r){let i=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(i,e),r),e.value>-1){let{parser:s}=r.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let a=s.specializers[o](this.stream.read(e.start,e.end),r);if(a>=0&&r.p.parser.dialect.allows(a>>1)){a&1?e.extended=a>>1:e.value=a>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,n,r,i){for(let s=0;s<i;s+=3)if(this.actions[s]==e)return i;return this.actions[i++]=e,this.actions[i++]=n,this.actions[i++]=r,i}addActions(e,n,r,i){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let c=o.stateSlot(s,l?2:1);;c+=3){if(a[c]==65535)if(a[c+1]==1)c=Mc(a,c+2);else{i==0&&a[c+1]==2&&(i=this.putAction(Mc(a,c+2),n,r,i));break}a[c]==n&&(i=this.putAction(Mc(a,c+1),n,r,i))}return i}}class t2e{constructor(e,n,r,i){this.parser=e,this.input=n,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new Zye(n,i),this.tokens=new e2e(e,this.stream),this.topTerm=e.top[1];let{from:s}=i[0];this.stacks=[Yye.start(this,e.top[0],s)],this.fragments=r.length&&this.stream.end-s>e.bufferLength*4?new Jye(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,r=this.stacks=[],i,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>n)r.push(a);else{if(this.advanceStack(a,r,e))continue;{i||(i=[],s=[]),i.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!r.length){let o=i&&r2e(i);if(o)return yo&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw yo&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&i){let o=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,s,r);if(o)return yo&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(r.length>o)for(r.sort((a,l)=>l.score-a.score);r.length>o;)r.pop();r.some(a=>a.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let o=0;o<r.length-1;o++){let a=r[o];for(let l=o+1;l<r.length;l++){let c=r[l];if(a.sameState(c)||a.buffer.length>500&&c.buffer.length>500)if((a.score-c.score||a.buffer.length-c.buffer.length)>0)r.splice(l--,1);else{r.splice(o--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let o=1;o<r.length;o++)r[o].pos<this.minStackPos&&(this.minStackPos=r[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,r){let i=e.pos,{parser:s}=this,o=yo?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let c=e.curContext&&e.curContext.tracker.strict,d=c?e.curContext.hash:0;for(let h=this.fragments.nodeAt(i);h;){let f=this.parser.nodeSet.types[h.type.id]==h.type?s.getGoto(e.state,h.type.id):-1;if(f>-1&&h.length&&(!c||(h.prop(Kt.contextHash)||0)==d))return e.useNode(h,f),yo&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(h.type.id)})`),!0;if(!(h instanceof Sn)||h.children.length==0||h.positions[0]>0)break;let m=h.children[0];if(m instanceof Sn&&h.positions[0]==0)h=m;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),yo&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let c=0;c<l.length;){let d=l[c++],h=l[c++],f=l[c++],m=c==l.length||!r,g=m?e:e.split(),p=this.tokens.mainToken;if(g.apply(d,h,p?p.start:g.pos,f),yo&&console.log(o+this.stackID(g)+` (via ${d&65536?`reduce of ${s.getName(d&65535)}`:"shift"} for ${s.getName(h)} @ ${i}${g==e?"":", split"})`),m)return!0;g.pos>i?n.push(g):r.push(g)}return!1}advanceFully(e,n){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return zD(e,n),!0}}runRecovery(e,n,r){let i=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=n[o<<1],c=n[(o<<1)+1],d=yo?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),yo&&console.log(d+this.stackID(a)+" (restarted)"),this.advanceFully(a,r))))continue;let h=a.split(),f=d;for(let m=0;h.forceReduce()&&m<10&&(yo&&console.log(f+this.stackID(h)+" (via force-reduce)"),!this.advanceFully(h,r));m++)yo&&(f=this.stackID(h)+" -> ");for(let m of a.recoverByInsert(l))yo&&console.log(d+this.stackID(m)+" (via recover-insert)"),this.advanceFully(m,r);this.stream.end>a.pos?(c==a.pos&&(c++,l=0),a.recoverByDelete(l,c),yo&&console.log(d+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),zD(a,r)):(!i||i.score<a.score)&&(i=a)}return i}stackToTree(e){return e.close(),Sn.build({buffer:i2.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(jk||(jk=new WeakMap)).get(e);return n||jk.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function zD(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class n2e{constructor(e,n,r){this.source=e,this.flags=n,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}const qk=t=>t;class JB{constructor(e){this.start=e.start,this.shift=e.shift||qk,this.reduce=e.reduce||qk,this.reuse=e.reuse||qk,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class Zm extends AO{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let a=0;a<e.repeatNodeCount;a++)n.push("");let r=Object.keys(e.topRules).map(a=>e.topRules[a][1]),i=[];for(let a=0;a<n.length;a++)i.push([]);function s(a,l,c){i[a].push([l,l.deserialize(String(c))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=Kt[l]);for(let c=1;c<a.length;){let d=a[c++];if(d>=0)s(d,l,a[c++]);else{let h=a[c+-d];for(let f=-d;f>0;f--)s(a[c++],l,h);c++}}}this.nodeSet=new yg(n.map((a,l)=>zi.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:i[l],top:r.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=xF;let o=Np(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(QD),this.states=Np(e.states,Uint32Array),this.data=Np(e.stateData),this.goto=Np(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new vm(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,r){let i=new t2e(this,e,n,r);for(let s of this.wrappers)i=s(i,e,n,r);return i}getGoto(e,n,r=!1){let i=this.goto;if(n>=i[0])return-1;for(let s=i[n+1];;){let o=i[s++],a=o&1,l=i[s++];if(a&&r)return l;for(let c=s+(o>>1);s<c;s++)if(i[s]==e)return l;if(a)return-1}}hasAction(e,n){let r=this.data;for(let i=0;i<2;i++)for(let s=this.stateSlot(e,i?2:1),o;;s+=3){if((o=r[s])==65535)if(r[s+1]==1)o=r[s=Mc(r,s+2)];else{if(r[s+1]==2)return Mc(r,s+2);break}if(o==n||o==0)return Mc(r,s+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,r=>r==n?!0:null)}allActions(e,n){let r=this.stateSlot(e,4),i=r?n(r):void 0;for(let s=this.stateSlot(e,1);i==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=Mc(this.data,s+2);else break;i=n(Mc(this.data,s+1))}return i}nextStates(e){let n=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=Mc(this.data,r+2);else break;if(!(this.data[r+2]&1)){let i=this.data[r+1];n.some((s,o)=>o&1&&s==i)||n.push(this.data[r],i)}}return n}configure(e){let n=Object.assign(Object.create(Zm.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=r}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(s=>s.from==r);return i?i.to:r})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,i)=>{let s=e.specializers.find(a=>a.from==r.external);if(!s)return r;let o=Object.assign(Object.assign({},r),{external:s.to});return n.specializers[i]=QD(o),o})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(e)for(let s of e.split(" ")){let o=n.indexOf(s);o>=0&&(r[o]=!0)}let i=null;for(let s=0;s<n.length;s++)if(!r[s])for(let o=this.dialects[n[s]],a;(a=this.data[o++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[a]=1;return new n2e(e,r,i)}static deserialize(e){return new Zm(e)}}function Mc(t,e){return t[e]|t[e+1]<<16}function r2e(t){let e=null;for(let n of t){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function QD(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}const i2e=54,s2e=1,o2e=55,a2e=2,l2e=56,c2e=3,UD=4,u2e=5,o2=6,ez=7,tz=8,nz=9,rz=10,d2e=11,h2e=12,f2e=13,Hk=57,m2e=14,VD=58,iz=20,g2e=22,sz=23,p2e=24,C3=26,oz=27,v2e=28,b2e=31,y2e=34,O2e=36,w2e=37,k2e=0,S2e=1,x2e={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},_2e={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},jD={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function C2e(t){return t==45||t==46||t==58||t>=65&&t<=90||t==95||t>=97&&t<=122||t>=161}function az(t){return t==9||t==10||t==13||t==32}let qD=null,HD=null,WD=0;function E3(t,e){let n=t.pos+e;if(WD==n&&HD==t)return qD;let r=t.peek(e);for(;az(r);)r=t.peek(++e);let i="";for(;C2e(r);)i+=String.fromCharCode(r),r=t.peek(++e);return HD=t,WD=n,qD=i?i.toLowerCase():r==E2e||r==T2e?void 0:null}const lz=60,a2=62,zC=47,E2e=63,T2e=33,D2e=45;function XD(t,e){this.name=t,this.parent=e}const A2e=[o2,rz,ez,tz,nz],P2e=new JB({start:null,shift(t,e,n,r){return A2e.indexOf(e)>-1?new XD(E3(r,1)||"",t):t},reduce(t,e){return e==iz&&t?t.parent:t},reuse(t,e,n,r){let i=e.type.id;return i==o2||i==O2e?new XD(E3(r,1)||"",t):t},strict:!1}),R2e=new Ko((t,e)=>{if(t.next!=lz){t.next<0&&e.context&&t.acceptToken(Hk);return}t.advance();let n=t.next==zC;n&&t.advance();let r=E3(t,0);if(r===void 0)return;if(!r)return t.acceptToken(n?m2e:o2);let i=e.context?e.context.name:null;if(n){if(r==i)return t.acceptToken(d2e);if(i&&_2e[i])return t.acceptToken(Hk,-2);if(e.dialectEnabled(k2e))return t.acceptToken(h2e);for(let s=e.context;s;s=s.parent)if(s.name==r)return;t.acceptToken(f2e)}else{if(r=="script")return t.acceptToken(ez);if(r=="style")return t.acceptToken(tz);if(r=="textarea")return t.acceptToken(nz);if(x2e.hasOwnProperty(r))return t.acceptToken(rz);i&&jD[i]&&jD[i][r]?t.acceptToken(Hk,-1):t.acceptToken(o2)}},{contextual:!0}),M2e=new Ko(t=>{for(let e=0,n=0;;n++){if(t.next<0){n&&t.acceptToken(VD);break}if(t.next==D2e)e++;else if(t.next==a2&&e>=2){n>=3&&t.acceptToken(VD,-2);break}else e=0;t.advance()}});function I2e(t){for(;t;t=t.parent)if(t.name=="svg"||t.name=="math")return!0;return!1}const $2e=new Ko((t,e)=>{if(t.next==zC&&t.peek(1)==a2){let n=e.dialectEnabled(S2e)||I2e(e.context);t.acceptToken(n?u2e:UD,2)}else t.next==a2&&t.acceptToken(UD,1)});function QC(t,e,n){let r=2+t.length;return new Ko(i=>{for(let s=0,o=0,a=0;;a++){if(i.next<0){a&&i.acceptToken(e);break}if(s==0&&i.next==lz||s==1&&i.next==zC||s>=2&&s<r&&i.next==t.charCodeAt(s-2))s++,o++;else if((s==2||s==r)&&az(i.next))o++;else if(s==r&&i.next==a2){a>o?i.acceptToken(e,-o):i.acceptToken(n,-(o-2));break}else if((i.next==10||i.next==13)&&a){i.acceptToken(e,1);break}else s=o=0;i.advance()}})}const L2e=QC("script",i2e,s2e),N2e=QC("style",o2e,a2e),F2e=QC("textarea",l2e,c2e),B2e=Og({"Text RawText":ie.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":ie.angleBracket,TagName:ie.tagName,"MismatchedCloseTag/TagName":[ie.tagName,ie.invalid],AttributeName:ie.attributeName,"AttributeValue UnquotedAttributeValue":ie.attributeValue,Is:ie.definitionOperator,"EntityReference CharacterReference":ie.character,Comment:ie.blockComment,ProcessingInst:ie.processingInstruction,DoctypeDecl:ie.documentMeta}),z2e=Zm.deserialize({version:14,states:",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%ZQ&rO,59fO%fQ&rO,59iO%qQ&rO,59lO%|Q&rO,59nOOOa'#D^'#D^O&XOaO'#CxO&dOaO,59[OOOb'#D_'#D_O&lObO'#C{O&wObO,59[OOOd'#D`'#D`O'POdO'#DOO'[OdO,59[OOO`'#Da'#DaO'dO!rO,59[O'kQ#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'pO$fO,59oOOO`,59o,59oO'xQ#|O,59qO'}Q#|O,59rOOO`-E7W-E7WO(SQ&rO'#CsOOQW'#DZ'#DZO(bQ&rO1G.wOOOa1G.w1G.wOOO`1G/Y1G/YO(mQ&rO1G/QOOOb1G/Q1G/QO(xQ&rO1G/TOOOd1G/T1G/TO)TQ&rO1G/WOOO`1G/W1G/WO)`Q&rO1G/YOOOa-E7[-E7[O)kQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)pQ#tO'#C|OOOd-E7^-E7^O)uQ#tO'#DPOOO`-E7_-E7_O)zQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O*PQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOO`7+$t7+$tOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rO*[Q#|O,59eO*aQ#|O,59hO*fQ#|O,59kOOO`1G/X1G/XO*kO7[O'#CvO*|OMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O+_O7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+pOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",stateData:",]~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OT}OhyO~OS!POT}OhyO~OS!ROT}OhyO~OS!TOT}OhyO~OS}OT}OhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXTgXhgX~OS!fOT!gOhyO~OS!hOT!gOhyO~OS!iOT!gOhyO~OS!jOT!gOhyO~OS!gOT!gOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",goto:"%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:" StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:67,context:P2e,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,21,30,33,36,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,29,32,35,37,"OpenTag"],["group",-9,14,17,18,19,20,39,40,41,42,"Entity",16,"Entity TextContent",-3,28,31,34,"TextContent Entity"],["isolate",-11,21,29,30,32,33,35,36,37,38,41,42,"ltr",-3,26,27,39,""]],propSources:[B2e],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebhSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXhSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vchS`P!a`!cpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WihSkWc!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zbkWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOa!R!R7tP;=`<%l7S!Z8OYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{ihSkWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbhSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QchSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXhSa!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TakWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOb!R!RAwP;=`<%lAY!ZBRYkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbhSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbhSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXhSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYlhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_khS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_X`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!a`!cpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!a`!cp!dPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!a`!cpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!a`!cpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!a`!cpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!a`!cpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!a`!cpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!a`!cpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!a`!cpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!cpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO{PP!-nP;=`<%l!-Sq!-xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!a`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!a`!cpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!a`!cpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!a`!cpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!a`!cpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!a`!cpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!a`!cpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!cpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOxPP!7TP;=`<%l!6Vq!7]V!cpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!a`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!a`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[L2e,N2e,F2e,$2e,R2e,M2e,0,1,2,3,4,5],topRules:{Document:[0,15]},dialects:{noMatch:0,selfClosing:509},tokenPrec:511});function cz(t,e){let n=Object.create(null);for(let r of t.getChildren(sz)){let i=r.getChild(p2e),s=r.getChild(C3)||r.getChild(oz);i&&(n[e.read(i.from,i.to)]=s?s.type.id==C3?e.read(s.from+1,s.to-1):e.read(s.from,s.to):"")}return n}function YD(t,e){let n=t.getChild(g2e);return n?e.read(n.from,n.to):" "}function Wk(t,e,n){let r;for(let i of n)if(!i.attrs||i.attrs(r||(r=cz(t.node.parent.firstChild,e))))return{parser:i.parser};return null}function uz(t=[],e=[]){let n=[],r=[],i=[],s=[];for(let a of t)(a.tag=="script"?n:a.tag=="style"?r:a.tag=="textarea"?i:s).push(a);let o=e.length?Object.create(null):null;for(let a of e)(o[a.name]||(o[a.name]=[])).push(a);return AF((a,l)=>{let c=a.type.id;if(c==v2e)return Wk(a,l,n);if(c==b2e)return Wk(a,l,r);if(c==y2e)return Wk(a,l,i);if(c==iz&&s.length){let d=a.node,h=d.firstChild,f=h&&YD(h,l),m;if(f){for(let g of s)if(g.tag==f&&(!g.attrs||g.attrs(m||(m=cz(h,l))))){let p=d.lastChild,v=p.type.id==w2e?p.from:d.to;if(v>h.to)return{parser:g.parser,overlay:[{from:h.to,to:v}]}}}}if(o&&c==sz){let d=a.node,h;if(h=d.firstChild){let f=o[l.read(h.from,h.to)];if(f)for(let m of f){if(m.tagName&&m.tagName!=YD(d.parent,l))continue;let g=d.lastChild;if(g.type.id==C3){let p=g.from+1,v=g.lastChild,b=g.to-(v&&v.isError?0:1);if(b>p)return{parser:m.parser,overlay:[{from:p,to:b}]}}else if(g.type.id==oz)return{parser:m.parser,overlay:[{from:g.from,to:g.to}]}}}}return null})}const Q2e=122,GD=1,U2e=123,V2e=124,dz=2,j2e=125,q2e=3,H2e=4,hz=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],W2e=58,X2e=40,fz=95,Y2e=91,Wb=45,G2e=46,Z2e=35,K2e=37,J2e=38,eOe=92,tOe=10,nOe=42;function X0(t){return t>=65&&t<=90||t>=97&&t<=122||t>=161}function UC(t){return t>=48&&t<=57}function ZD(t){return UC(t)||t>=97&&t<=102||t>=65&&t<=70}const mz=(t,e,n)=>(r,i)=>{for(let s=!1,o=0,a=0;;a++){let{next:l}=r;if(X0(l)||l==Wb||l==fz||s&&UC(l))!s&&(l!=Wb||a>0)&&(s=!0),o===a&&l==Wb&&o++,r.advance();else if(l==eOe&&r.peek(1)!=tOe){if(r.advance(),ZD(r.next)){do r.advance();while(ZD(r.next));r.next==32&&r.advance()}else r.next>-1&&r.advance();s=!0}else{s&&r.acceptToken(o==2&&i.canShift(dz)?e:l==X2e?n:t);break}}},rOe=new Ko(mz(U2e,dz,V2e)),iOe=new Ko(mz(j2e,q2e,H2e)),sOe=new Ko(t=>{if(hz.includes(t.peek(-1))){let{next:e}=t;(X0(e)||e==fz||e==Z2e||e==G2e||e==nOe||e==Y2e||e==W2e&&X0(t.peek(1))||e==Wb||e==J2e)&&t.acceptToken(Q2e)}}),oOe=new Ko(t=>{if(!hz.includes(t.peek(-1))){let{next:e}=t;if(e==K2e&&(t.advance(),t.acceptToken(GD)),X0(e)){do t.advance();while(X0(t.next)||UC(t.next));t.acceptToken(GD)}}}),aOe=Og({"AtKeyword import charset namespace keyframes media supports":ie.definitionKeyword,"from to selector":ie.keyword,NamespaceName:ie.namespace,KeyframeName:ie.labelName,KeyframeRangeName:ie.operatorKeyword,TagName:ie.tagName,ClassName:ie.className,PseudoClassName:ie.constant(ie.className),IdName:ie.labelName,"FeatureName PropertyName":ie.propertyName,AttributeName:ie.attributeName,NumberLiteral:ie.number,KeywordQuery:ie.keyword,UnaryQueryOp:ie.operatorKeyword,"CallTag ValueName":ie.atom,VariableName:ie.variableName,Callee:ie.operatorKeyword,Unit:ie.unit,"UniversalSelector NestingSelector":ie.definitionOperator,"MatchOp CompareOp":ie.compareOperator,"ChildOp SiblingOp, LogicOp":ie.logicOperator,BinOp:ie.arithmeticOperator,Important:ie.modifier,Comment:ie.blockComment,ColorLiteral:ie.color,"ParenthesizedContent StringLiteral":ie.string,":":ie.punctuation,"PseudoOp #":ie.derefOperator,"; ,":ie.separator,"( )":ie.paren,"[ ]":ie.squareBracket,"{ }":ie.brace}),lOe={__proto__:null,lang:38,"nth-child":38,"nth-last-child":38,"nth-of-type":38,"nth-last-of-type":38,dir:38,"host-context":38,if:84,url:124,"url-prefix":124,domain:124,regexp:124},cOe={__proto__:null,or:98,and:98,not:106,only:106,layer:170},uOe={__proto__:null,selector:112,layer:166},dOe={__proto__:null,"@import":162,"@media":174,"@charset":178,"@namespace":182,"@keyframes":188,"@supports":200,"@scope":204},hOe={__proto__:null,to:207},fOe=Zm.deserialize({version:14,states:"EbQYQdOOO#qQdOOP#xO`OOOOQP'#Cf'#CfOOQP'#Ce'#CeO#}QdO'#ChO$nQaO'#CcO$xQdO'#CkO%TQdO'#DpO%YQdO'#DrO%_QdO'#DuO%_QdO'#DxOOQP'#FV'#FVO&eQhO'#EhOOQS'#FU'#FUOOQS'#Ek'#EkQYQdOOO&lQdO'#EOO&PQhO'#EUO&lQdO'#EWO'aQdO'#EYO'lQdO'#E]O'tQhO'#EcO(VQdO'#EeO(bQaO'#CfO)VQ`O'#D{O)[Q`O'#F`O)gQdO'#F`QOQ`OOP)qO&jO'#CaPOOO)C@t)C@tOOQP'#Cj'#CjOOQP,59S,59SO#}QdO,59SO)|QdO,59VO%TQdO,5:[O%YQdO,5:^O%_QdO,5:aO%_QdO,5:cO%_QdO,5:dO%_QdO'#ErO*XQ`O,58}O*aQdO'#DzOOQS,58},58}OOQP'#Cn'#CnOOQO'#Dn'#DnOOQP,59V,59VO*hQ`O,59VO*mQ`O,59VOOQP'#Dq'#DqOOQP,5:[,5:[OOQO'#Ds'#DsO*rQpO,5:^O+]QaO,5:aO+sQaO,5:dOOQW'#DZ'#DZO,ZQhO'#DdO,xQhO'#FaO'tQhO'#DbO-WQ`O'#DhOOQW'#F['#F[O-]Q`O,5;SO-eQ`O'#DeOOQS-E8i-E8iOOQ['#Cs'#CsO-jQdO'#CtO.QQdO'#CzO.hQdO'#C}O/OQ!pO'#DPO1RQ!jO,5:jOOQO'#DU'#DUO*mQ`O'#DTO1cQ!nO'#FXO3`Q`O'#DVO3eQ`O'#DkOOQ['#FX'#FXO-`Q`O,5:pO3jQ!bO,5:rOOQS'#E['#E[O3rQ`O,5:tO3wQdO,5:tOOQO'#E_'#E_O4PQ`O,5:wO4UQhO,5:}O%_QdO'#DgOOQS,5;P,5;PO-eQ`O,5;PO4^QdO,5;PO4fQdO,5:gO4vQdO'#EtO5TQ`O,5;zO5TQ`O,5;zPOOO'#Ej'#EjP5`O&jO,58{POOO,58{,58{OOQP1G.n1G.nOOQP1G.q1G.qO*hQ`O1G.qO*mQ`O1G.qOOQP1G/v1G/vO5kQpO1G/xO5sQaO1G/{O6ZQaO1G/}O6qQaO1G0OO7XQaO,5;^OOQO-E8p-E8pOOQS1G.i1G.iO7cQ`O,5:fO7hQdO'#DoO7oQdO'#CrOOQP1G/x1G/xO&lQdO1G/xO7vQ!jO'#DZO8UQ!bO,59vO8^QhO,5:OOOQO'#F]'#F]O8XQ!bO,59zO'tQhO,59xO8fQhO'#EvO8sQ`O,5;{O9OQhO,59|O9uQhO'#DiOOQW,5:S,5:SOOQS1G0n1G0nOOQW,5:P,5:PO9|Q!fO'#FYOOQS'#FY'#FYOOQS'#Em'#EmO;^QdO,59`OOQ[,59`,59`O;tQdO,59fOOQ[,59f,59fO<[QdO,59iOOQ[,59i,59iOOQ[,59k,59kO&lQdO,59mO<rQhO'#EQOOQW'#EQ'#EQO=WQ`O1G0UO1[QhO1G0UOOQ[,59o,59oO'tQhO'#DXOOQ[,59q,59qO=]Q#tO,5:VOOQS1G0[1G0[OOQS1G0^1G0^OOQS1G0`1G0`O=hQ`O1G0`O=mQdO'#E`OOQS1G0c1G0cOOQS1G0i1G0iO=xQaO,5:RO-`Q`O1G0kOOQS1G0k1G0kO-eQ`O1G0kO>PQ!fO1G0ROOQO1G0R1G0ROOQO,5;`,5;`O>gQdO,5;`OOQO-E8r-E8rO>tQ`O1G1fPOOO-E8h-E8hPOOO1G.g1G.gOOQP7+$]7+$]OOQP7+%d7+%dO&lQdO7+%dOOQS1G0Q1G0QO?PQaO'#F_O?ZQ`O,5:ZO?`Q!fO'#ElO@^QdO'#FWO@hQ`O,59^O@mQ!bO7+%dO&lQdO1G/bO@uQhO1G/fOOQW1G/j1G/jOOQW1G/d1G/dOAWQhO,5;bOOQO-E8t-E8tOAfQhO'#DZOAtQhO'#F^OBPQ`O'#F^OBUQ`O,5:TOOQS-E8k-E8kOOQ[1G.z1G.zOOQ[1G/Q1G/QOOQ[1G/T1G/TOOQ[1G/X1G/XOBZQdO,5:lOOQS7+%p7+%pOB`Q`O7+%pOBeQhO'#DYOBmQ`O,59sO'tQhO,59sOOQ[1G/q1G/qOBuQ`O1G/qOOQS7+%z7+%zOBzQbO'#DPOOQO'#Eb'#EbOCYQ`O'#EaOOQO'#Ea'#EaOCeQ`O'#EwOCmQdO,5:zOOQS,5:z,5:zOOQ[1G/m1G/mOOQS7+&V7+&VO-`Q`O7+&VOCxQ!fO'#EsO&lQdO'#EsOEPQdO7+%mOOQO7+%m7+%mOOQO1G0z1G0zOEdQ!bO<<IOOElQdO'#EqOEvQ`O,5;yOOQP1G/u1G/uOOQS-E8j-E8jOFOQdO'#EpOFYQ`O,5;rOOQ]1G.x1G.xOOQP<<IO<<IOOFbQdO7+$|OOQO'#D]'#D]OFiQ!bO7+%QOFqQhO'#EoOF{Q`O,5;xO&lQdO,5;xOOQW1G/o1G/oOOQO'#ES'#ESOGTQ`O1G0WOOQS<<I[<<I[O&lQdO,59tOGnQhO1G/_OOQ[1G/_1G/_OGuQ`O1G/_OOQW-E8l-E8lOOQ[7+%]7+%]OOQO,5:{,5:{O=pQdO'#ExOCeQ`O,5;cOOQS,5;c,5;cOOQS-E8u-E8uOOQS1G0f1G0fOOQS<<Iq<<IqOG}Q!fO,5;_OOQS-E8q-E8qOOQO<<IX<<IXOOQPAN>jAN>jOIUQaO,5;]OOQO-E8o-E8oOI`QdO,5;[OOQO-E8n-E8nOOQW<<Hh<<HhOOQW<<Hl<<HlOIjQhO<<HlOI{QhO,5;ZOJWQ`O,5;ZOOQO-E8m-E8mOJ]QdO1G1dOBZQdO'#EuOJgQ`O7+%rOOQW7+%r7+%rOJoQ!bO1G/`OOQ[7+$y7+$yOJzQhO7+$yPKRQ`O'#EnOOQO,5;d,5;dOOQO-E8v-E8vOOQS1G0}1G0}OKWQ`OAN>WO&lQdO1G0uOK]Q`O7+'OOOQO,5;a,5;aOOQO-E8s-E8sOOQW<<I^<<I^OOQ[<<He<<HePOQW,5;Y,5;YOOQWG23rG23rOKeQdO7+&a",stateData:"Kx~O#sOS#tQQ~OW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#oRO~OQiOW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#ohO~O#m$SP~P!dO#tmO~O#ooO~O]qO`rOarOjsOmtO!juO!mwO#nvO~OpzO!^xO~P$SOc!QO#o|O#p}O~O#o!RO~O#o!TO~OW[OZ[O]TO`VOaVOjWOmXO!jYO!mZO#oRO~OS!]Oe!YO!V![O!Y!`O#q!XOp$TP~Ok$TP~P&POQ!jOe!cOm!dOp!eOr!mOt!mOz!kO!`!lO#o!bO#p!hO#}!fO~Ot!qO!`!lO#o!pO~Ot!sO#o!sO~OS!]Oe!YO!V![O!Y!`O#q!XO~Oe!vOpzO#Z!xO~O]YX`YX`!pXaYXjYXmYXpYX!^YX!jYX!mYX#nYX~O`!zO~Ok!{O#m$SXo$SX~O#m$SXo$SX~P!dO#u#OO#v#OO#w#QO~Oc#UO#o|O#p}O~OpzO!^xO~Oo$SP~P!dOe#`O~Oe#aO~Ol#bO!h#cO~O]qO`rOarOjsOmtO~Op!ia!^!ia!j!ia!m!ia#n!iad!ia~P*zOp!la!^!la!j!la!m!la#n!lad!la~P*zOR#gOS!]Oe!YOr#gOt#gO!V![O!Y!`O#q#dO#}!fO~O!R#iO!^#jOk$TXp$TX~Oe#mO~Ok#oOpzO~Oe!vO~O]#rO`#rOd#uOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl#wO~P&lO]#rO`#rOi#rOj#rOk#rOo#yO~P&lOP#zOSsXesXksXvsX!VsX!YsX!usX!wsX#qsX!TsXQsX]sX`sXdsXisXjsXmsXpsXrsXtsXzsX!`sX#osX#psX#}sXlsXosX!^sX!qsX#msX~Ov#{O!u#|O!w#}Ok$TP~P'tOe#aOS#{Xk#{Xv#{X!V#{X!Y#{X!u#{X!w#{X#q#{XQ#{X]#{X`#{Xd#{Xi#{Xj#{Xm#{Xp#{Xr#{Xt#{Xz#{X!`#{X#o#{X#p#{X#}#{Xl#{Xo#{X!^#{X!q#{X#m#{X~Oe$RO~Oe$TO~Ok$VOv#{O~Ok$WO~Ot$XO!`!lO~Op$YO~OpzO!R#iO~OpzO#Z$`O~O!q$bOk!oa#m!oao!oa~P&lOk#hX#m#hXo#hX~P!dOk!{O#m$Sao$Sa~O#u#OO#v#OO#w$hO~Ol$jO!h$kO~Op!ii!^!ii!j!ii!m!ii#n!iid!ii~P*zOp!ki!^!ki!j!ki!m!ki#n!kid!ki~P*zOp!li!^!li!j!li!m!li#n!lid!li~P*zOp#fa!^#fa~P$SOo$lO~Od$RP~P%_Od#zP~P&lO`!PXd}X!R}X!T!PX~O`$sO!T$tO~Od$uO!R#iO~Ok#jXp#jX!^#jX~P'tO!^#jOk$Tap$Ta~O!R#iOk!Uap!Ua!^!Uad!Ua`!Ua~OS!]Oe!YO!V![O!Y!`O#q$yO~Od$QP~P9dOv#{OQ#|X]#|X`#|Xd#|Xe#|Xi#|Xj#|Xk#|Xm#|Xp#|Xr#|Xt#|Xz#|X!`#|X#o#|X#p#|X#}#|Xl#|Xo#|X~O]#rO`#rOd%OOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl%PO~P&lO]#rO`#rOi#rOj#rOk#rOo%QO~P&lOe%SOS!tXk!tX!V!tX!Y!tX#q!tX~Ok%TO~Od%YOt%ZO!a%ZO~Ok%[O~Oo%cO#o%^O#}%]O~Od%dO~P$SOv#{O!^%hO!q%jOk!oi#m!oio!oi~P&lOk#ha#m#hao#ha~P!dOk!{O#m$Sio$Si~O!^%mOd$RX~P$SOd%oO~Ov#{OQ#`Xd#`Xe#`Xm#`Xp#`Xr#`Xt#`Xz#`X!^#`X!`#`X#o#`X#p#`X#}#`X~O!^%qOd#zX~P&lOd%sO~Ol%tOv#{O~OR#gOr#gOt#gO#q%vO#}!fO~O!R#iOk#jap#ja!^#ja~O`!PXd}X!R}X!^}X~O!R#iO!^%xOd$QX~O`%zO~Od%{O~O#o%|O~Ok&OO~O`&PO!R#iO~Od&ROk&QO~Od&UO~OP#zOpsX!^sXdsX~O#}%]Op#TX!^#TX~OpzO!^&WO~Oo&[O#o%^O#}%]O~Ov#{OQ#gXe#gXk#gXm#gXp#gXr#gXt#gXz#gX!^#gX!`#gX!q#gX#m#gX#o#gX#p#gX#}#gXo#gX~O!^%hO!q&`Ok!oq#m!oqo!oq~P&lOl&aOv#{O~Od#eX!^#eX~P%_O!^%mOd$Ra~Od#dX!^#dX~P&lO!^%qOd#za~Od&fO~P&lOd&gO!T&hO~Od#cX!^#cX~P9dO!^%xOd$Qa~O]&mOd&oO~OS#bae#ba!V#ba!Y#ba#q#ba~Od&qO~PG]Od&qOk&rO~Ov#{OQ#gae#gak#gam#gap#gar#gat#gaz#ga!^#ga!`#ga!q#ga#m#ga#o#ga#p#ga#}#gao#ga~Od#ea!^#ea~P$SOd#da!^#da~P&lOR#gOr#gOt#gO#q%vO#}%]O~O!R#iOd#ca!^#ca~O`&xO~O!^%xOd$Qi~P&lO]&mOd&|O~Ov#{Od|ik|i~Od&}O~PG]Ok'OO~Od'PO~O!^%xOd$Qq~Od#cq!^#cq~P&lO#s!a#t#}]#}v!m~",goto:"2h$UPPPPP$VP$YP$c$uP$cP%X$cPP%_PPP%e%o%oPPPPP%oPP%oP&]P%oP%o'W%oP't'w'}'}(^'}P'}P'}P'}'}P(m'}(yP(|PP)p)v$c)|$c*SP$cP$c$cP*Y*{+YP$YP+aP+dP$YP$YP$YP+j$YP+m+p+s+z$YP$YPP$YP,P,V,f,|-[-b-l-r-x.O.U.`.f.l.rPPPPPPPPPPP.x/R/w/z0|P1U1u2O2R2U2[RnQ_^OP`kz!{$dq[OPYZ`kuvwxz!v!{#`$d%mqSOPYZ`kuvwxz!v!{#`$d%mQpTR#RqQ!OVR#SrQ#S!QS$Q!i!jR$i#U!V!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'Q!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QU#g!Y$t&hU%`$Y%b&WR&V%_!V!iac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QR$S!kQ%W$RR&S%Xk!^]bf!Y![!g#i#j#m$P$R%X%xQ#e!YQ${#mQ%w$tQ&j%xR&w&hQ!ygQ#p!`Q$^!xR%f$`R#n!]!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QQ!qdR$X!rQ!PVR#TrQ#S!PR$i#TQ!SWR#VsQ!UXR#WtQ{UQ!wgQ#^yQ#o!_Q$U!nQ$[!uQ$_!yQ%e$^Q&Y%aQ&]%fR&v&XSjPzQ!}kQ$c!{R%k$dZiPkz!{$dR$P!gQ%}%SR&z&mR!rdR!teR$Z!tS%a$Y%bR&t&WV%_$Y%b&WQ#PmR$g#PQ`OSkPzU!a`k$dR$d!{Q$p#aY%p$p%u&d&l'QQ%u$sQ&d%qQ&l%zR'Q&xQ#t!cQ#v!dQ#x!eV$}#t#v#xQ%X$RR&T%XQ%y$zS&k%y&yR&y&lQ%r$pR&e%rQ%n$mR&c%nQyUR#]yQ%i$aR&_%iQ!|jS$e!|$fR$f!}Q&n%}R&{&nQ#k!ZR$x#kQ%b$YR&Z%bQ&X%aR&u&X__OP`kz!{$d^UOP`kz!{$dQ!VYQ!WZQ#XuQ#YvQ#ZwQ#[xQ$]!vQ$m#`R&b%mR$q#aQ!gaQ!oc[#q!c!d!e#t#v#xQ$a!zd$o#a$p$s%q%u%z&d&l&x'QQ$r#cQ%R#{S%g$a%iQ%l$kQ&^%hR&p&P]#s!c!d!e#t#v#xW!Z]b!g$PQ!ufQ#f!YQ#l![Q$v#iQ$w#jQ$z#mS%V$R%XR&i%xQ#h!YQ%w$tR&w&hR$|#mR$n#`QlPR#_zQ!_]Q!nbQ$O!gR%U$P",nodeNames:" Unit VariableName VariableName QueryCallee Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector . ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue AtKeyword # ; ] [ BracketedValue } { BracedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee IfExpression if ArgList IfBranch KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp ComparisonQuery CompareOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector ParenthesizedSelector CallQuery ArgList , CallLiteral CallTag ParenthesizedContent PseudoClassName ArgList IdSelector IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp Block Declaration PropertyName Important ImportStatement import Layer layer LayerName layer MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports ScopeStatement scope to AtRule Styles",maxTerm:143,nodeProps:[["isolate",-2,5,36,""],["openedBy",20,"(",28,"[",31,"{"],["closedBy",21,")",29,"]",32,"}"]],propSources:[aOe],skippedNodes:[0,5,106],repeatNodeCount:15,tokenData:"JQ~R!YOX$qX^%i^p$qpq%iqr({rs-ust/itu6Wuv$qvw7Qwx7cxy9Qyz9cz{9h{|:R|}>t}!O?V!O!P?t!P!Q@]!Q![AU![!]BP!]!^B{!^!_C^!_!`DY!`!aDm!a!b$q!b!cEn!c!}$q!}#OG{#O#P$q#P#QH^#Q#R6W#R#o$q#o#pHo#p#q6W#q#rIQ#r#sIc#s#y$q#y#z%i#z$f$q$f$g%i$g#BY$q#BY#BZ%i#BZ$IS$q$IS$I_%i$I_$I|$q$I|$JO%i$JO$JT$q$JT$JU%i$JU$KV$q$KV$KW%i$KW&FU$q&FU&FV%i&FV;'S$q;'S;=`Iz<%lO$q`$tSOy%Qz;'S%Q;'S;=`%c<%lO%Q`%VS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q`%fP;=`<%l%Q~%nh#s~OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Q~'ah#s~!a`OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Qj)OUOy%Qz#]%Q#]#^)b#^;'S%Q;'S;=`%c<%lO%Qj)gU!a`Oy%Qz#a%Q#a#b)y#b;'S%Q;'S;=`%c<%lO%Qj*OU!a`Oy%Qz#d%Q#d#e*b#e;'S%Q;'S;=`%c<%lO%Qj*gU!a`Oy%Qz#c%Q#c#d*y#d;'S%Q;'S;=`%c<%lO%Qj+OU!a`Oy%Qz#f%Q#f#g+b#g;'S%Q;'S;=`%c<%lO%Qj+gU!a`Oy%Qz#h%Q#h#i+y#i;'S%Q;'S;=`%c<%lO%Qj,OU!a`Oy%Qz#T%Q#T#U,b#U;'S%Q;'S;=`%c<%lO%Qj,gU!a`Oy%Qz#b%Q#b#c,y#c;'S%Q;'S;=`%c<%lO%Qj-OU!a`Oy%Qz#h%Q#h#i-b#i;'S%Q;'S;=`%c<%lO%Qj-iS!qY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q~-xWOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c<%lO-u~.gOt~~.jRO;'S-u;'S;=`.s;=`O-u~.vXOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c;=`<%l-u<%lO-u~/fP;=`<%l-uj/nYjYOy%Qz!Q%Q!Q![0^![!c%Q!c!i0^!i#T%Q#T#Z0^#Z;'S%Q;'S;=`%c<%lO%Qj0cY!a`Oy%Qz!Q%Q!Q![1R![!c%Q!c!i1R!i#T%Q#T#Z1R#Z;'S%Q;'S;=`%c<%lO%Qj1WY!a`Oy%Qz!Q%Q!Q![1v![!c%Q!c!i1v!i#T%Q#T#Z1v#Z;'S%Q;'S;=`%c<%lO%Qj1}YrY!a`Oy%Qz!Q%Q!Q![2m![!c%Q!c!i2m!i#T%Q#T#Z2m#Z;'S%Q;'S;=`%c<%lO%Qj2tYrY!a`Oy%Qz!Q%Q!Q![3d![!c%Q!c!i3d!i#T%Q#T#Z3d#Z;'S%Q;'S;=`%c<%lO%Qj3iY!a`Oy%Qz!Q%Q!Q![4X![!c%Q!c!i4X!i#T%Q#T#Z4X#Z;'S%Q;'S;=`%c<%lO%Qj4`YrY!a`Oy%Qz!Q%Q!Q![5O![!c%Q!c!i5O!i#T%Q#T#Z5O#Z;'S%Q;'S;=`%c<%lO%Qj5TY!a`Oy%Qz!Q%Q!Q![5s![!c%Q!c!i5s!i#T%Q#T#Z5s#Z;'S%Q;'S;=`%c<%lO%Qj5zSrY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qd6ZUOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qd6tS!hS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qb7VSZQOy%Qz;'S%Q;'S;=`%c<%lO%Q~7fWOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z<%lO7c~8RRO;'S7c;'S;=`8[;=`O7c~8_XOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z;=`<%l7c<%lO7c~8}P;=`<%l7cj9VSeYOy%Qz;'S%Q;'S;=`%c<%lO%Q~9hOd~n9oUWQvWOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qj:YWvW!mQOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj:wU!a`Oy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Qj;bY!a`#}YOy%Qz!Q%Q!Q![;Z![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj<VY!a`Oy%Qz{%Q{|<u|}%Q}!O<u!O!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj<zU!a`Oy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj=eU!a`#}YOy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj>O[!a`#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj>yS!^YOy%Qz;'S%Q;'S;=`%c<%lO%Qj?[WvWOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj?yU]YOy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Q~@bTvWOy%Qz{@q{;'S%Q;'S;=`%c<%lO%Q~@xS!a`#t~Oy%Qz;'S%Q;'S;=`%c<%lO%QjAZ[#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%QjBUU`YOy%Qz![%Q![!]Bh!];'S%Q;'S;=`%c<%lO%QbBoSaQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjCQSkYOy%Qz;'S%Q;'S;=`%c<%lO%QhCcU!TWOy%Qz!_%Q!_!`Cu!`;'S%Q;'S;=`%c<%lO%QhC|S!TW!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QlDaS!TW!hSOy%Qz;'S%Q;'S;=`%c<%lO%QjDtV!jQ!TWOy%Qz!_%Q!_!`Cu!`!aEZ!a;'S%Q;'S;=`%c<%lO%QbEbS!jQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjEqYOy%Qz}%Q}!OFa!O!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjFfW!a`Oy%Qz!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjGV[iY!a`Oy%Qz}%Q}!OGO!O!Q%Q!Q![GO![!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjHQSmYOy%Qz;'S%Q;'S;=`%c<%lO%QnHcSl^Oy%Qz;'S%Q;'S;=`%c<%lO%QjHtSpYOy%Qz;'S%Q;'S;=`%c<%lO%QjIVSoYOy%Qz;'S%Q;'S;=`%c<%lO%QfIhU!mQOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Q`I}P;=`<%l$q",tokenizers:[sOe,oOe,rOe,iOe,1,2,3,4,new s2("m~RRYZ[z{a~~g~aO#v~~dP!P!Qg~lO#w~~",28,129)],topRules:{StyleSheet:[0,6],Styles:[1,105]},specialized:[{term:124,get:t=>lOe[t]||-1},{term:125,get:t=>cOe[t]||-1},{term:4,get:t=>uOe[t]||-1},{term:25,get:t=>dOe[t]||-1},{term:123,get:t=>hOe[t]||-1}],tokenPrec:1963});let Xk=null;function Yk(){if(!Xk&&typeof document=="object"&&document.body){let{style:t}=document.body,e=[],n=new Set;for(let r in t)r!="cssText"&&r!="cssFloat"&&typeof t[r]=="string"&&(/[A-Z]/.test(r)&&(r=r.replace(/[A-Z]/g,i=>"-"+i.toLowerCase())),n.has(r)||(e.push(r),n.add(r)));Xk=e.sort().map(r=>({type:"property",label:r,apply:r+": "}))}return Xk||[]}const KD=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(t=>({type:"class",label:t})),JD=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(t=>({type:"keyword",label:t})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(t=>({type:"constant",label:t}))),mOe=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(t=>({type:"type",label:t})),gOe=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(t=>({type:"keyword",label:t})),kc=/^(\w[\w-]*|-\w[\w-]*|)$/,pOe=/^-(-[\w-]*)?$/;function vOe(t,e){var n;if((t.name=="("||t.type.isError)&&(t=t.parent||t),t.name!="ArgList")return!1;let r=(n=t.parent)===null||n===void 0?void 0:n.firstChild;return r?.name!="Callee"?!1:e.sliceString(r.from,r.to)=="var"}const eA=new DF,bOe=["Declaration"];function yOe(t){for(let e=t;;){if(e.type.isTop)return e;if(!(e=e.parent))return t}}function gz(t,e,n){if(e.to-e.from>4096){let r=eA.get(e);if(r)return r;let i=[],s=new Set,o=e.cursor(gr.IncludeAnonymous);if(o.firstChild())do for(let a of gz(t,o.node,n))s.has(a.label)||(s.add(a.label),i.push(a));while(o.nextSibling());return eA.set(e,i),i}else{let r=[],i=new Set;return e.cursor().iterate(s=>{var o;if(n(s)&&s.matchContext(bOe)&&((o=s.node.nextSibling)===null||o===void 0?void 0:o.name)==":"){let a=t.sliceString(s.from,s.to);i.has(a)||(i.add(a),r.push({label:a,type:"variable"}))}}),r}}const pz=t=>e=>{let{state:n,pos:r}=e,i=_r(n).resolveInner(r,-1),s=i.type.isError&&i.from==i.to-1&&n.doc.sliceString(i.from,i.to)=="-";if(i.name=="PropertyName"||(s||i.name=="TagName")&&/^(Block|Styles)$/.test(i.resolve(i.to).name))return{from:i.from,options:Yk(),validFor:kc};if(i.name=="ValueName")return{from:i.from,options:JD,validFor:kc};if(i.name=="PseudoClassName")return{from:i.from,options:KD,validFor:kc};if(t(i)||(e.explicit||s)&&vOe(i,n.doc))return{from:t(i)||s?i.from:r,options:gz(n.doc,yOe(i),t),validFor:pOe};if(i.name=="TagName"){for(let{parent:l}=i;l;l=l.parent)if(l.name=="Block")return{from:i.from,options:Yk(),validFor:kc};return{from:i.from,options:mOe,validFor:kc}}if(i.name=="AtKeyword")return{from:i.from,options:gOe,validFor:kc};if(!e.explicit)return null;let o=i.resolve(r),a=o.childBefore(r);return a&&a.name==":"&&o.name=="PseudoClassSelector"?{from:r,options:KD,validFor:kc}:a&&a.name==":"&&o.name=="Declaration"||o.name=="ArgList"?{from:r,options:JD,validFor:kc}:o.name=="Block"||o.name=="Styles"?{from:r,options:Yk(),validFor:kc}:null},vz=pz(t=>t.name=="VariableName"),Y0=Wm.define({name:"css",parser:fOe.configure({props:[wg.add({Declaration:qb()}),zv.add({"Block KeyframeList":NF})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function bz(){return new U0(Y0,Y0.data.of({autocomplete:vz}))}const OOe=Object.freeze(Object.defineProperty({__proto__:null,css:bz,cssCompletionSource:vz,cssLanguage:Y0,defineCSSCompletionSource:pz},Symbol.toStringTag,{value:"Module"})),wOe=315,kOe=316,tA=1,SOe=2,xOe=3,_Oe=4,COe=317,EOe=319,TOe=320,DOe=5,AOe=6,POe=0,T3=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],yz=125,ROe=59,D3=47,MOe=42,IOe=43,$Oe=45,LOe=60,NOe=44,FOe=63,BOe=46,zOe=91,QOe=new JB({start:!1,shift(t,e){return e==DOe||e==AOe||e==EOe?t:e==TOe},strict:!1}),UOe=new Ko((t,e)=>{let{next:n}=t;(n==yz||n==-1||e.context)&&t.acceptToken(COe)},{contextual:!0,fallback:!0}),VOe=new Ko((t,e)=>{let{next:n}=t,r;T3.indexOf(n)>-1||n==D3&&((r=t.peek(1))==D3||r==MOe)||n!=yz&&n!=ROe&&n!=-1&&!e.context&&t.acceptToken(wOe)},{contextual:!0}),jOe=new Ko((t,e)=>{t.next==zOe&&!e.context&&t.acceptToken(kOe)},{contextual:!0}),qOe=new Ko((t,e)=>{let{next:n}=t;if(n==IOe||n==$Oe){if(t.advance(),n==t.next){t.advance();let r=!e.context&&e.canShift(tA);t.acceptToken(r?tA:SOe)}}else n==FOe&&t.peek(1)==BOe&&(t.advance(),t.advance(),(t.next<48||t.next>57)&&t.acceptToken(xOe))},{contextual:!0});function Gk(t,e){return t>=65&&t<=90||t>=97&&t<=122||t==95||t>=192||!e&&t>=48&&t<=57}const HOe=new Ko((t,e)=>{if(t.next!=LOe||!e.dialectEnabled(POe)||(t.advance(),t.next==D3))return;let n=0;for(;T3.indexOf(t.next)>-1;)t.advance(),n++;if(Gk(t.next,!0)){for(t.advance(),n++;Gk(t.next,!1);)t.advance(),n++;for(;T3.indexOf(t.next)>-1;)t.advance(),n++;if(t.next==NOe)return;for(let r=0;;r++){if(r==7){if(!Gk(t.next,!0))return;break}if(t.next!="extends".charCodeAt(r))break;t.advance(),n++}}t.acceptToken(_Oe,-n)}),WOe=Og({"get set async static":ie.modifier,"for while do if else switch try catch finally return throw break continue default case":ie.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":ie.operatorKeyword,"let var const using function class extends":ie.definitionKeyword,"import export from":ie.moduleKeyword,"with debugger new":ie.keyword,TemplateString:ie.special(ie.string),super:ie.atom,BooleanLiteral:ie.bool,this:ie.self,null:ie.null,Star:ie.modifier,VariableName:ie.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":ie.function(ie.variableName),VariableDefinition:ie.definition(ie.variableName),Label:ie.labelName,PropertyName:ie.propertyName,PrivatePropertyName:ie.special(ie.propertyName),"CallExpression/MemberExpression/PropertyName":ie.function(ie.propertyName),"FunctionDeclaration/VariableDefinition":ie.function(ie.definition(ie.variableName)),"ClassDeclaration/VariableDefinition":ie.definition(ie.className),"NewExpression/VariableName":ie.className,PropertyDefinition:ie.definition(ie.propertyName),PrivatePropertyDefinition:ie.definition(ie.special(ie.propertyName)),UpdateOp:ie.updateOperator,"LineComment Hashbang":ie.lineComment,BlockComment:ie.blockComment,Number:ie.number,String:ie.string,Escape:ie.escape,ArithOp:ie.arithmeticOperator,LogicOp:ie.logicOperator,BitOp:ie.bitwiseOperator,CompareOp:ie.compareOperator,RegExp:ie.regexp,Equals:ie.definitionOperator,Arrow:ie.function(ie.punctuation),": Spread":ie.punctuation,"( )":ie.paren,"[ ]":ie.squareBracket,"{ }":ie.brace,"InterpolationStart InterpolationEnd":ie.special(ie.brace),".":ie.derefOperator,", ;":ie.separator,"@":ie.meta,TypeName:ie.typeName,TypeDefinition:ie.definition(ie.typeName),"type enum interface implements namespace module declare":ie.definitionKeyword,"abstract global Privacy readonly override":ie.modifier,"is keyof unique infer asserts":ie.operatorKeyword,JSXAttributeValue:ie.attributeValue,JSXText:ie.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":ie.angleBracket,"JSXIdentifier JSXNameSpacedName":ie.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":ie.attributeName,"JSXBuiltin/JSXIdentifier":ie.standard(ie.tagName)}),XOe={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,for:474,of:483,while:486,with:490,do:494,if:498,else:500,switch:504,case:510,try:516,catch:520,finally:524,return:528,throw:532,break:536,continue:540,debugger:544},YOe={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},GOe={__proto__:null,"<":193},ZOe=Zm.deserialize({version:14,states:"$EOQ%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Ik'#IkO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JqO6[Q!0MxO'#JrO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO7eQMhO'#F|O9[Q`O'#F{OOQ!0Lf'#Jr'#JrOOQ!0Lb'#Jq'#JqO9aQ`O'#GwOOQ['#K^'#K^O9lQ`O'#IXO9qQ!0LrO'#IYOOQ['#J_'#J_OOQ['#I^'#I^Q`QlOOQ`QlOOO9yQ!L^O'#DvO:QQlO'#EOO:XQlO'#EQO9gQ`O'#GsO:`QMhO'#CoO:nQ`O'#EnO:yQ`O'#EyO;OQMhO'#FeO;mQ`O'#GsOOQO'#K_'#K_O;rQ`O'#K_O<QQ`O'#G{O<QQ`O'#G|O<QQ`O'#HOO9gQ`O'#HRO<wQ`O'#HUO>`Q`O'#CeO>pQ`O'#HbO>xQ`O'#HhO>xQ`O'#HjO`QlO'#HlO>xQ`O'#HnO>xQ`O'#HqO>}Q`O'#HwO?SQ!0LsO'#H}O%[QlO'#IPO?_Q!0LsO'#IRO?jQ!0LsO'#ITO9qQ!0LrO'#IVO?uQ!0MxO'#CiO@wQpO'#DlQOQ`OOO%[QlO'#EQOA_Q`O'#ETO:`QMhO'#EnOAjQ`O'#EnOAuQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Ju'#JuO%[QlO'#JuOOQO'#Jx'#JxOOQO'#Ig'#IgOBuQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J|'#J|OCqQ!0MSO'#EgOC{QpO'#EWOOQO'#Jw'#JwODaQpO'#JxOEnQpO'#EWOC{QpO'#EgPE{O&2DjO'#CbPOOO)CD|)CD|OOOO'#I_'#I_OFWO#tO,59UOOQ!0Lh,59U,59UOOOO'#I`'#I`OFfO&jO,59UOFtQ!L^O'#DcOOOO'#Ib'#IbOF{O#@ItO,59{OOQ!0Lf,59{,59{OGZQlO'#IcOGnQ`O'#JsOImQ!fO'#JsO+}QlO'#JsOItQ`O,5:ROJ[Q`O'#EpOJiQ`O'#KSOJtQ`O'#KROJtQ`O'#KROJ|Q`O,5;^OKRQ`O'#KQOOQ!0Ln,5:^,5:^OKYQlO,5:^OMWQ!0MxO,5:fOMwQ`O,5:nONbQ!0LrO'#KPONiQ`O'#KOO9aQ`O'#KOON}Q`O'#KOO! VQ`O,5;]O! [Q`O'#KOO!#aQ!fO'#JrOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$PQ!fO,5:sOOQS'#Jy'#JyOOQO-E<i-E<iO9gQ`O,5=_O!$gQ`O,5=_O!$lQlO,5;ZO!&oQMhO'#EkO!(YQ`O,5;ZO!(_QlO'#DyO!(iQpO,5;dO!(qQpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)PQlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IoO!+SQ!0LrO,5<iO%[QlO,5;eO!&oQMhO,5;eO!+qQMhO,5;eO!-cQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-jQ,UO'#FjO!.gQ,UO'#KWO!.RQ,UO'#KWO!.nQ,UO'#KWOOQO'#KW'#KWO!/SQ,UO,5<SOOOW,5<`,5<`O!/eQlO'#FvOOOW'#In'#InO7VO7dO,5<QO!/lQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0]Q$IUO'#CyOOQ!0Lh'#C}'#C}O!0pO#@ItO'#DRO!1^QMjO,5<eO!1eQ`O,5<hO!3QQ(CWO'#GXO!3_Q`O'#GYO!3dQ`O'#GYO!5SQ(CWO'#G^O!6XQpO'#GbOOQO'#Gn'#GnO!+xQMhO'#GmOOQO'#Gp'#GpO!+xQMhO'#GoO!6zQ$IUO'#JkOOQ!0Lh'#Jk'#JkO!7UQ`O'#JjO!7dQ`O'#JiO!7lQ`O'#CuOOQ!0Lh'#C{'#C{O!7}Q`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO1SQ`O'#DZO!+xQMhO'#GPO!+xQMhO'#GRO!8SQ`O'#GTO!8XQ`O'#GUO!3dQ`O'#G[O!+xQMhO'#GaO<QQ`O'#JjO!8^Q`O'#EqO!8{Q`O,5<gOOQ!0Lb'#Cr'#CrO!9TQ`O'#ErO!9}QpO'#EsOOQ!0Lb'#KQ'#KQO!:UQ!0LrO'#K`O9qQ!0LrO,5=cO`QlO,5>sOOQ['#Jg'#JgOOQ[,5>t,5>tOOQ[-E<[-E<[O!<TQ!0MxO,5:bO!9xQpO,5:`O!>nQ!0MxO,5:jO%[QlO,5:jO!AUQ!0MxO,5:lOOQO,5@y,5@yO!AuQMhO,5=_O!BTQ!0LrO'#JhO9[Q`O'#JhO!BfQ!0LrO,59ZO!BqQpO,59ZO!ByQMhO,59ZO:`QMhO,59ZO!CUQ`O,5;ZO!C^Q`O'#HaO!CrQ`O'#KcO%[QlO,5;}O!9xQpO,5<PO!CzQ`O,5=zO!DPQ`O,5=zO!DUQ`O,5=zO9qQ!0LrO,5=zO<QQ`O,5=jOOQO'#Cy'#CyO!DdQpO,5=gO!DlQMhO,5=hO!DwQ`O,5=jO!D|Q!bO,5=mO!EUQ`O'#K_O>}Q`O'#HWO9gQ`O'#HYO!EZQ`O'#HYO:`QMhO'#H[O!E`Q`O'#H[OOQ[,5=p,5=pO!EeQ`O'#H]O!EvQ`O'#CoO!E{Q`O,59PO!FVQ`O,59PO!H[QlO,59POOQ[,59P,59PO!HlQ!0LrO,59PO%[QlO,59PO!JwQlO'#HdOOQ['#He'#HeOOQ['#Hf'#HfO`QlO,5=|O!K_Q`O,5=|O`QlO,5>SO`QlO,5>UO!KdQ`O,5>WO`QlO,5>YO!KiQ`O,5>]O!KnQlO,5>cOOQ[,5>i,5>iO%[QlO,5>iO9qQ!0LrO,5>kOOQ[,5>m,5>mO# xQ`O,5>mOOQ[,5>o,5>oO# xQ`O,5>oOOQ[,5>q,5>qO#!fQpO'#D_O%[QlO'#JuO##XQpO'#JuO##cQpO'#DmO##tQpO'#DmO#&VQlO'#DmO#&^Q`O'#JtO#&fQ`O,5:WO#&kQ`O'#EtO#&yQ`O'#KTO#'RQ`O,5;_O#'WQpO'#DmO#'eQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#'lQ`O,5:oO>}Q`O,5;YO!BqQpO,5;YO!ByQMhO,5;YO:`QMhO,5;YO#'tQ`O,5@aO#'yQ07dO,5:sOOQO-E<e-E<eO#)PQ!0MSO,5;ROC{QpO,5:rO#)ZQpO,5:rOC{QpO,5;RO!BfQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#)hQ!0LrO,5;RO#)sQ!0LrO,5;RO!BqQpO,5:rOOQO,5;X,5;XO#*RQ!0LrO,5;RPOOO'#I]'#I]P#*gO&2DjO,58|POOO,58|,58|OOOO-E<]-E<]OOQ!0Lh1G.p1G.pOOOO-E<^-E<^OOOO,59},59}O#*rQ!bO,59}OOOO-E<`-E<`OOQ!0Lf1G/g1G/gO#*wQ!fO,5>}O+}QlO,5>}OOQO,5?T,5?TO#+RQlO'#IcOOQO-E<a-E<aO#+`Q`O,5@_O#+hQ!fO,5@_O#+oQ`O,5@mOOQ!0Lf1G/m1G/mO%[QlO,5@nO#+wQ`O'#IiOOQO-E<g-E<gO#+oQ`O,5@mOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@kO#,]Q!0LrO,5@kO#,nQ!0LrO,5@kO#,uQ`O,5@jO9aQ`O,5@jO#,}Q`O,5@jO#-]Q`O'#IlO#,uQ`O,5@jOOQ!0Lb1G0w1G0wO!(iQpO,5:uO!(tQpO,5:uOOQS,5:w,5:wO#-}QdO,5:wO#.VQMhO1G2yO9gQ`O1G2yOOQ!0Lf1G0u1G0uO#.eQ!0MxO1G0uO#/jQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0WQ!0MzO'#JkO!$lQlO1G0uO#2cQ!fO'#JvO%[QlO'#JvO#2mQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#2rQ`O1G1OO#5WQ!0MxO1G1PO#5_Q!0MxO1G1PO#7uQ!0MxO1G1PO#7|Q!0MxO1G1PO#:dQ!0MxO1G1PO#<zQ!0MxO1G1PO#=RQ!0MxO1G1PO#=YQ!0MxO1G1PO#?pQ!0MxO1G1PO#?wQ!0MxO1G1PO#BUQ?MtO'#CiO#DPQ?MtO1G1`O#DWQ?MtO'#JrO#DkQ!0MxO,5?ZOOQ!0Lb-E<m-E<mO#FxQ!0MxO1G1PO#GuQ!0MzO1G1POOQ!0Lf1G1P1G1PO#HxQMjO'#J{O#ISQ`O,5:xO#IXQ!0MxO1G1cO#I{Q,UO,5<WO#JTQ,UO,5<XO#J]Q,UO'#FoO#JtQ`O'#FnOOQO'#KX'#KXOOQO'#Im'#ImO#JyQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#K[Q?MtO'#JqO#KfQ`O,5<bO!)PQlO,5<bOOOW-E<l-E<lOOQ!0Lf1G1l1G1lO#KkQpO'#KWOOQ!0Lf,5<d,5<dO#KsQpO,5<dO#KxQMhO'#DTOOOO'#Ia'#IaO#LPO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8XQ`O'#IqO#L[Q`O,5<zOOQ!0Lh,5<w,5<wO!+xQMhO'#ItO#LxQMjO,5=XO!+xQMhO'#IvO#MkQMjO,5=ZO!&oQMhO,5=]OOQO1G2S1G2SO#MuQ!dO'#CrO#NYQ(CWO'#ErO$ _QpO'#GbO$ uQ!dO,5<sO$ |Q`O'#KZO9aQ`O'#KZO$![Q`O,5<uO!+xQMhO,5<tO$!aQ`O'#GZO$!rQ`O,5<tO$!wQ!dO'#GWO$#UQ!dO'#K[O$#`Q`O'#K[O!&oQMhO'#K[O$#eQ`O,5<xO$#jQlO'#JuO$#tQpO'#GcO##tQpO'#GcO$$VQ`O'#GgO!3dQ`O'#GkO$$[Q!0LrO'#IsO$$gQpO,5<|OOQ!0Lp,5<|,5<|O$$nQpO'#GcO$${QpO'#GdO$%^QpO'#GdO$%cQMjO,5=XO$%sQMjO,5=ZOOQ!0Lh,5=^,5=^O!+xQMhO,5@UO!+xQMhO,5@UO$&TQ`O'#IxO$&iQ`O,5@TO$&qQ`O,59aOOQ!0Lh,59i,59iO$'hQ$IYO,59uOOQ!0Lh'#Jo'#JoO$(ZQMjO,5<kO$(|QMjO,5<mO@oQ`O,5<oOOQ!0Lh,5<p,5<pO$)WQ`O,5<vO$)]QMjO,5<{O$)mQ`O,5@UO$){Q`O'#KOO!$lQlO1G2RO$*QQ`O1G2RO9aQ`O'#KRO9aQ`O'#EtO%[QlO'#EtO9aQ`O'#IzO$*VQ!0LrO,5@zOOQ[1G2}1G2}OOQ[1G4_1G4_OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$,XQ!0MxO1G0UOOQ[1G2y1G2yO!&oQMhO1G2yO%[QlO1G2yO#.YQ`O1G2yO$.]QMhO'#EkOOQ!0Lb,5@S,5@SO$.jQ!0LrO,5@SOOQ[1G.u1G.uO!BfQ!0LrO1G.uO!BqQpO1G.uO!ByQMhO1G.uO$.{Q`O1G0uO$/QQ`O'#CiO$/]Q`O'#KdO$/eQ`O,5={O$/jQ`O'#KdO$/oQ`O'#KdO$/}Q`O'#JQO$0]Q`O,5@}O$0eQ!fO1G1iOOQ!0Lf1G1k1G1kO9gQ`O1G3fO@oQ`O1G3fO$0lQ`O1G3fO$0qQ`O1G3fOOQ[1G3f1G3fO!DwQ`O1G3UO!&oQMhO1G3RO$0vQ`O1G3ROOQ[1G3S1G3SO!&oQMhO1G3SO$0{Q`O1G3SO$1TQpO'#HQOOQ[1G3U1G3UO!6SQpO'#I|O!D|Q!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$1]QMhO,5=tO9gQ`O,5=tO$$VQ`O,5=vO9[Q`O,5=vO!BqQpO,5=vO!ByQMhO,5=vO:`QMhO,5=vO$1kQ`O'#KbO$1vQ`O,5=wOOQ[1G.k1G.kO$1{Q!0LrO1G.kO@oQ`O1G.kO$2WQ`O1G.kO9qQ!0LrO1G.kO$4`Q!fO,5APO$4mQ`O,5APO9aQ`O,5APO$4xQlO,5>OO$5PQ`O,5>OOOQ[1G3h1G3hO`QlO1G3hOOQ[1G3n1G3nOOQ[1G3p1G3pO>xQ`O1G3rO$5UQlO1G3tO$9YQlO'#HsOOQ[1G3w1G3wO$9gQ`O'#HyO>}Q`O'#H{OOQ[1G3}1G3}O$9oQlO1G3}O9qQ!0LrO1G4TOOQ[1G4V1G4VOOQ!0Lb'#G_'#G_O9qQ!0LrO1G4XO9qQ!0LrO1G4ZO$=vQ`O,5@aO!)PQlO,5;`O9aQ`O,5;`O>}Q`O,5:XO!)PQlO,5:XO!BqQpO,5:XO$={Q?MtO,5:XOOQO,5;`,5;`O$>VQpO'#IdO$>mQ`O,5@`OOQ!0Lf1G/r1G/rO$>uQpO'#IjO$?PQ`O,5@oOOQ!0Lb1G0y1G0yO##tQpO,5:XOOQO'#If'#IfO$?XQpO,5:qOOQ!0Ln,5:q,5:qO#'oQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO>}Q`O1G0tO!BqQpO1G0tO!ByQMhO1G0tOOQ!0Lb1G5{1G5{O!BfQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$?`Q!0LrO1G0mO$?kQ!0LrO1G0mO!BqQpO1G0^OC{QpO1G0^O$?yQ!0LrO1G0mOOQO1G0^1G0^O$@_Q!0MxO1G0mPOOO-E<Z-E<ZPOOO1G.h1G.hOOOO1G/i1G/iO$@iQ!bO,5<iO$@qQ!fO1G4iOOQO1G4o1G4oO%[QlO,5>}O$@{Q`O1G5yO$ATQ`O1G6XO$A]Q!fO1G6YO9aQ`O,5?TO$AgQ!0MxO1G6VO%[QlO1G6VO$AwQ!0LrO1G6VO$BYQ`O1G6UO$BYQ`O1G6UO9aQ`O1G6UO$BbQ`O,5?WO9aQ`O,5?WOOQO,5?W,5?WO$BvQ`O,5?WO$){Q`O,5?WOOQO-E<j-E<jOOQS1G0a1G0aOOQS1G0c1G0cO#.QQ`O1G0cOOQ[7+(e7+(eO!&oQMhO7+(eO%[QlO7+(eO$CUQ`O7+(eO$CaQMhO7+(eO$CoQ!0MzO,5=XO$EzQ!0MzO,5=ZO$HVQ!0MzO,5=XO$JhQ!0MzO,5=ZO$LyQ!0MzO,59uO% OQ!0MzO,5<kO%#ZQ!0MzO,5<mO%%fQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%'wQ!0MxO7+&aO%(kQlO'#IeO%(xQ`O,5@bO%)QQ!fO,5@bOOQ!0Lf1G0P1G0PO%)[Q`O7+&jOOQ!0Lf7+&j7+&jO%)aQ?MtO,5:fO%[QlO7+&zO%)kQ?MtO,5:bO%)xQ?MtO,5:jO%*SQ?MtO,5:lO%*^QMhO'#IhO%*hQ`O,5@gOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%*pQ!jO,5<ZO!)PQlO,5<YOOQO-E<k-E<kOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%*{Q`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%+QQ!dO,59oOOOO-E<_-E<_OOQ!0Lh1G/X1G/XO%+XQ!0MxO7+'kOOQ!0Lh,5?],5?]O%+{QMhO1G2fP%,SQ`O'#IqPOQ!0Lh-E<o-E<oO%,pQMjO,5?`OOQ!0Lh-E<r-E<rO%-cQMjO,5?bOOQ!0Lh-E<t-E<tO%-mQ!dO1G2wO%-tQ!dO'#CrO%.[QMhO'#KRO$#jQlO'#JuOOQ!0Lh1G2_1G2_O%.cQ`O'#IpO%.wQ`O,5@uO%.wQ`O,5@uO%/PQ`O,5@uO%/[Q`O,5@uOOQO1G2a1G2aO%/jQMjO1G2`O!+xQMhO1G2`O%/zQ(CWO'#IrO%0XQ`O,5@vO!&oQMhO,5@vO%0aQ!dO,5@vOOQ!0Lh1G2d1G2dO%2qQ!fO'#CiO%2{Q`O,5=POOQ!0Lb,5<},5<}O%3TQpO,5<}OOQ!0Lb,5=O,5=OOClQ`O,5<}O%3`QpO,5<}OOQ!0Lb,5=R,5=RO$){Q`O,5=VOOQO,5?_,5?_OOQO-E<q-E<qOOQ!0Lp1G2h1G2hO##tQpO,5<}O$#jQlO,5=PO%3nQ`O,5=OO%3yQpO,5=OO!+xQMhO'#ItO%4sQMjO1G2sO!+xQMhO'#IvO%5fQMjO1G2uO%5pQMjO1G5pO%5zQMjO1G5pOOQO,5?d,5?dOOQO-E<v-E<vOOQO1G.{1G.{O!9xQpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%6XQ`O1G2ZO!+xQMhO1G2bO!+xQMhO1G5pO!+xQMhO1G5pO%6^Q!0MxO7+'mOOQ!0Lf7+'m7+'mO!$lQlO7+'mO%7QQ`O,5;`OOQ!0Lb,5?f,5?fOOQ!0Lb-E<x-E<xO%7VQ!dO'#K]O#'oQ`O7+(eO4UQ!fO7+(eO$CXQ`O7+(eO%7aQ!0MvO'#CiO%7tQ!0MvO,5=SO%8fQ`O,5=SO%8nQ`O,5=SOOQ!0Lb1G5n1G5nOOQ[7+$a7+$aO!BfQ!0LrO7+$aO!BqQpO7+$aO!$lQlO7+&aO%8sQ`O'#JPO%9[Q`O,5AOOOQO1G3g1G3gO9gQ`O,5AOO%9[Q`O,5AOO%9dQ`O,5AOOOQO,5?l,5?lOOQO-E=O-E=OOOQ!0Lf7+'T7+'TO%9iQ`O7+)QO9qQ!0LrO7+)QO9gQ`O7+)QO@oQ`O7+)QOOQ[7+(p7+(pO%9nQ!0MvO7+(mO!&oQMhO7+(mO!DrQ`O7+(nOOQ[7+(n7+(nO!&oQMhO7+(nO%9xQ`O'#KaO%:TQ`O,5=lOOQO,5?h,5?hOOQO-E<z-E<zOOQ[7+(s7+(sO%;gQpO'#HZOOQ[1G3`1G3`O!&oQMhO1G3`O%[QlO1G3`O%;nQ`O1G3`O%;yQMhO1G3`O9qQ!0LrO1G3bO$$VQ`O1G3bO9[Q`O1G3bO!BqQpO1G3bO!ByQMhO1G3bO%<XQ`O'#JOO%<mQ`O,5@|O%<uQpO,5@|OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@oQ`O7+$VO9qQ!0LrO7+$VO%=QQ`O7+$VO%[QlO1G6kO%[QlO1G6lO%=VQ!0LrO1G6kO%=aQlO1G3jO%=hQ`O1G3jO%=mQlO1G3jOOQ[7+)S7+)SO9qQ!0LrO7+)^O`QlO7+)`OOQ['#Kg'#KgOOQ['#JR'#JRO%=tQlO,5>_OOQ[,5>_,5>_O%[QlO'#HtO%>RQ`O'#HvOOQ[,5>e,5>eO9aQ`O,5>eOOQ[,5>g,5>gOOQ[7+)i7+)iOOQ[7+)o7+)oOOQ[7+)s7+)sOOQ[7+)u7+)uO%>WQpO1G5{O%>rQ?MtO1G0zO%>|Q`O1G0zOOQO1G/s1G/sO%?XQ?MtO1G/sO>}Q`O1G/sO!)PQlO'#DmOOQO,5?O,5?OOOQO-E<b-E<bOOQO,5?U,5?UOOQO-E<h-E<hO!BqQpO1G/sOOQO-E<d-E<dOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#'oQ`O7+%uOOQ!0Lf7+&`7+&`O>}Q`O7+&`O!BqQpO7+&`OOQO7+%x7+%xO$@_Q!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%?cQ!0LrO7+&XO!BfQ!0LrO7+%xO!BqQpO7+%xO%?nQ!0LrO7+&XO%?|Q!0MxO7++qO%[QlO7++qO%@^Q`O7++pO%@^Q`O7++pOOQO1G4r1G4rO9aQ`O1G4rO%@fQ`O1G4rOOQS7+%}7+%}O#'oQ`O<<LPO4UQ!fO<<LPO%@tQ`O<<LPOOQ[<<LP<<LPO!&oQMhO<<LPO%[QlO<<LPO%@|Q`O<<LPO%AXQ!0MzO,5?`O%CdQ!0MzO,5?bO%EoQ!0MzO1G2`O%HQQ!0MzO1G2sO%J]Q!0MzO1G2uO%LhQ!fO,5?PO%[QlO,5?POOQO-E<c-E<cO%LrQ`O1G5|OOQ!0Lf<<JU<<JUO%LzQ?MtO1G0uO& RQ?MtO1G1PO& YQ?MtO1G1PO&#ZQ?MtO1G1PO&#bQ?MtO1G1PO&%cQ?MtO1G1PO&'dQ?MtO1G1PO&'kQ?MtO1G1PO&'rQ?MtO1G1PO&)sQ?MtO1G1PO&)zQ?MtO1G1PO&*RQ!0MxO<<JfO&+yQ?MtO1G1PO&,vQ?MvO1G1PO&-yQ?MvO'#JkO&0PQ?MtO1G1cO&0^Q?MtO1G0UO&0hQMjO,5?SOOQO-E<f-E<fO!)PQlO'#FqOOQO'#KY'#KYOOQO1G1u1G1uO&0rQ`O1G1tO&0wQ?MtO,5?ZOOOW7+'h7+'hOOOO1G/Z1G/ZO&1RQ!dO1G4wOOQ!0Lh7+(Q7+(QP!&oQMhO,5?]O!+xQMhO7+(cO&1YQ`O,5?[O9aQ`O,5?[OOQO-E<n-E<nO&1hQ`O1G6aO&1hQ`O1G6aO&1pQ`O1G6aO&1{QMjO7+'zO&2]Q!dO,5?^O&2gQ`O,5?^O!&oQMhO,5?^OOQO-E<p-E<pO&2lQ!dO1G6bO&2vQ`O1G6bO&3OQ`O1G2kO!&oQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%3TQpO1G2iO!BqQpO1G2iOClQ`O1G2iOOQ!0Lb1G2q1G2qO&3TQpO1G2iO&3cQ`O1G2kO$){Q`O1G2jOClQ`O1G2jO$#jQlO1G2kO&3kQ`O1G2jO&4_QMjO,5?`OOQ!0Lh-E<s-E<sO&5QQMjO,5?bOOQ!0Lh-E<u-E<uO!+xQMhO7++[OOQ!0Lh1G/c1G/cO&5[Q`O1G/cOOQ!0Lh7+'u7+'uO&5aQMjO7+'|O&5qQMjO7++[O&5{QMjO7++[O&6YQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&6|Q`O1G0zO!&oQMhO'#IyO&7RQ`O,5@wO&9TQ!fO<<LPO!&oQMhO1G2nO&9[Q!0LrO1G2nOOQ[<<G{<<G{O!BfQ!0LrO<<G{O&9mQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?k,5?kO&:aQ`O,5?kO&:fQ`O,5?kOOQO-E<}-E<}O&:tQ`O1G6jO&:tQ`O1G6jO9gQ`O1G6jO@oQ`O<<LlOOQ[<<Ll<<LlO&:|Q`O<<LlO9qQ!0LrO<<LlOOQ[<<LX<<LXO%9nQ!0MvO<<LXOOQ[<<LY<<LYO!DrQ`O<<LYO&;RQpO'#I{O&;^Q`O,5@{O!)PQlO,5@{OOQ[1G3W1G3WOOQO'#I}'#I}O9qQ!0LrO'#I}O&;fQpO,5=uOOQ[,5=u,5=uO&;mQpO'#EgO&;tQpO'#GeO&;yQ`O7+(zO&<OQ`O7+(zOOQ[7+(z7+(zO!&oQMhO7+(zO%[QlO7+(zO&<WQ`O7+(zOOQ[7+(|7+(|O9qQ!0LrO7+(|O$$VQ`O7+(|O9[Q`O7+(|O!BqQpO7+(|O&<cQ`O,5?jOOQO-E<|-E<|OOQO'#H^'#H^O&<nQ`O1G6hO9qQ!0LrO<<GqOOQ[<<Gq<<GqO@oQ`O<<GqO&<vQ`O7+,VO&<{Q`O7+,WO%[QlO7+,VO%[QlO7+,WOOQ[7+)U7+)UO&=QQ`O7+)UO&=VQlO7+)UO&=^Q`O7+)UOOQ[<<Lx<<LxOOQ[<<Lz<<LzOOQ[-E=P-E=POOQ[1G3y1G3yO&=cQ`O,5>`OOQ[,5>b,5>bO&=hQ`O1G4PO9aQ`O7+&fO!)PQlO7+&fOOQO7+%_7+%_O&=mQ?MtO1G6YO>}Q`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO>}Q`O<<IzOOQO<<Is<<IsO$@_Q!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!BfQ!0LrO<<IdO&=wQ!0LrO<<IsO&>SQ!0MxO<= ]O&>dQ`O<= [OOQO7+*^7+*^O9aQ`O7+*^OOQ[ANAkANAkO&>lQ!fOANAkO!&oQMhOANAkO#'oQ`OANAkO4UQ!fOANAkO&>sQ`OANAkO%[QlOANAkO&>{Q!0MzO7+'zO&A^Q!0MzO,5?`O&CiQ!0MzO,5?bO&EtQ!0MzO7+'|O&HVQ!fO1G4kO&HaQ?MtO7+&aO&JeQ?MvO,5=XO&LlQ?MvO,5=ZO&L|Q?MvO,5=XO&M^Q?MvO,5=ZO&MnQ?MvO,59uO' tQ?MvO,5<kO'#wQ?MvO,5<mO'&]Q?MvO,5<{O'(RQ?MtO7+'kO'(`Q?MtO7+'mO'(mQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*c7+*cO'(rQMjO<<K}OOQO1G4v1G4vO'(yQ`O1G4vO')UQ`O1G4vO')dQ`O7++{O')dQ`O7++{O!&oQMhO1G4xO')lQ!dO1G4xO')vQ`O7++|O'*OQ`O7+(VO'*ZQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!BqQpO7+(TOClQ`O7+(TO'*eQ`O7+(VO!&oQMhO7+(VO$){Q`O7+(UO'*jQ`O7+(VOClQ`O7+(UO'*rQMjO<<NvOOQ!0Lh7+$}7+$}O!+xQMhO<<NvO'*|Q!dO,5?eOOQO-E<w-E<wO'+WQ!0MvO7+(YO!&oQMhO7+(YOOQ[AN=gAN=gO9gQ`O1G5VOOQO1G5V1G5VO'+hQ`O1G5VO'+mQ`O7+,UO'+mQ`O7+,UO9qQ!0LrOANBWO@oQ`OANBWOOQ[ANBWANBWOOQ[ANAsANAsOOQ[ANAtANAtO'+uQ`O,5?gOOQO-E<y-E<yO',QQ?MtO1G6gOOQO,5?i,5?iOOQO-E<{-E<{OOQ[1G3a1G3aO',[Q`O,5=POOQ[<<Lf<<LfO!&oQMhO<<LfO&;yQ`O<<LfO',aQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9qQ!0LrO<<LhO$$VQ`O<<LhO9[Q`O<<LhO',iQpO1G5UO',tQ`O7+,SOOQ[AN=]AN=]O9qQ!0LrOAN=]OOQ[<= q<= qOOQ[<= r<= rO',|Q`O<= qO'-RQ`O<= rOOQ[<<Lp<<LpO'-WQ`O<<LpO'-]QlO<<LpOOQ[1G3z1G3zO>}Q`O7+)kO'-dQ`O<<JQO'-oQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$@_Q!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<Mx<<MxOOQ[G27VG27VO!&oQMhOG27VO#'oQ`OG27VO'-yQ!fOG27VO4UQ!fOG27VO'.QQ`OG27VO'.YQ?MtO<<JfO'.gQ?MvO1G2`O'0]Q?MvO,5?`O'2`Q?MvO,5?bO'4cQ?MvO1G2sO'6fQ?MvO1G2uO'8iQ?MtO<<KXO'8vQ?MtO<<I{OOQO1G1w1G1wO!+xQMhOANAiOOQO7+*b7+*bO'9TQ`O7+*bO'9`Q`O<= gO'9hQ!dO7+*dOOQ!0Lb<<Kq<<KqO$){Q`O<<KqOClQ`O<<KqO'9rQ`O<<KqO!&oQMhO<<KqOOQ!0Lb<<Ko<<KoO!BqQpO<<KoO'9}Q!dO<<KqOOQ!0Lb<<Kp<<KpO':XQ`O<<KqO!&oQMhO<<KqO$){Q`O<<KpO':^QMjOANDbO':hQ!0MvO<<KtOOQO7+*q7+*qO9gQ`O7+*qO':xQ`O<= pOOQ[G27rG27rO9qQ!0LrOG27rO!)PQlO1G5RO';QQ`O7+,RO';YQ`O1G2kO&;yQ`OANBQOOQ[ANBQANBQO!&oQMhOANBQO';_Q`OANBQOOQ[ANBSANBSO9qQ!0LrOANBSO$$VQ`OANBSOOQO'#H_'#H_OOQO7+*p7+*pOOQ[G22wG22wOOQ[ANE]ANE]OOQ[ANE^ANE^OOQ[ANB[ANB[O';gQ`OANB[OOQ[<<MV<<MVO!)PQlOAN?lOOQOG24yG24yO$@_Q!0MxOG24yO#'oQ`OLD,qOOQ[LD,qLD,qO!&oQMhOLD,qO';lQ!fOLD,qO';sQ?MvO7+'zO'=iQ?MvO,5?`O'?lQ?MvO,5?bO'AoQ?MvO7+'|O'CeQMjOG27TOOQO<<M|<<M|OOQ!0LbANA]ANA]O$){Q`OANA]OClQ`OANA]O'CuQ!dOANA]OOQ!0LbANAZANAZO'C|Q`OANA]O!&oQMhOANA]O'DXQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N]<<N]OOQ[LD-^LD-^O'DcQ?MtO7+*mOOQO'#Gf'#GfOOQ[G27lG27lO&;yQ`OG27lO!&oQMhOG27lOOQ[G27nG27nO9qQ!0LrOG27nOOQ[G27vG27vO'DmQ?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#'oQ`O!$(!]O!&oQMhO!$(!]O'DwQ!0MzOG27TOOQ!0LbG26wG26wO$){Q`OG26wO'GYQ`OG26wOClQ`OG26wO'GeQ!dOG26wO!&oQMhOG26wOOQ[LD-WLD-WO&;yQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#'oQ`O!)9EwOOQ!0LbLD,cLD,cO$){Q`OLD,cOClQ`OLD,cO'GlQ`OLD,cO'GwQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'HOQ?MvOG27TOOQ!0Lb!$( }!$( }O$){Q`O!$( }OClQ`O!$( }O'ItQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$){Q`O!)9EiOClQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$){Q`O!.K;TOOQ!0Lb!4/0o!4/0oO!)PQlO'#DzO1PQ`O'#EXO'JPQ!fO'#JqO'JWQ!L^O'#DvO'J_QlO'#EOO'JfQ!fO'#CiO'L|Q!fO'#CiO!)PQlO'#EQO'M^QlO,5;ZO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO'#IoO( aQ`O,5<iO!)PQlO,5;eO( iQMhO,5;eO(#SQMhO,5;eO!)PQlO,5;wO!&oQMhO'#GmO( iQMhO'#GmO!&oQMhO'#GoO( iQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&oQMhO'#GPO( iQMhO'#GPO!&oQMhO'#GRO( iQMhO'#GRO!&oQMhO'#GaO( iQMhO'#GaO!)PQlO,5:jO(#ZQpO'#D_O(#eQpO'#JuO!)PQlO,5@nO'M^QlO1G0uO(#oQ?MtO'#CiO!)PQlO1G2PO!&oQMhO'#ItO( iQMhO'#ItO!&oQMhO'#IvO( iQMhO'#IvO(#yQ!dO'#CrO!&oQMhO,5<tO( iQMhO,5<tO'M^QlO1G2RO!)PQlO7+&zO!&oQMhO1G2`O( iQMhO1G2`O!&oQMhO'#ItO( iQMhO'#ItO!&oQMhO'#IvO( iQMhO'#IvO!&oQMhO1G2bO( iQMhO1G2bO'M^QlO7+'mO'M^QlO7+&aO!&oQMhOANAiO( iQMhOANAiO($^Q`O'#EoO($cQ`O'#EoO($kQ`O'#F]O($pQ`O'#EyO($uQ`O'#KSO(%QQ`O'#KQO(%]Q`O,5;ZO(%bQMjO,5<eO(%iQ`O'#GYO(%nQ`O'#GYO(%sQ`O,5<gO(%{Q`O,5;ZO(&TQ?MtO1G1`O(&[Q`O,5<tO(&aQ`O,5<tO(&fQ`O,5<vO(&kQ`O,5<vO(&pQ`O1G2RO(&uQ`O1G0uO(&zQMjO<<K}O('RQMjO<<K}O7eQMhO'#F|O9[Q`O'#F{OAjQ`O'#EnO!)PQlO,5;tO!3dQ`O'#GYO!3dQ`O'#GYO!3dQ`O'#G[O!3dQ`O'#G[O!+xQMhO7+(cO!+xQMhO7+(cO%-mQ!dO1G2wO%-mQ!dO1G2wO!&oQMhO,5=]O!&oQMhO,5=]",stateData:"((X~O'{OS'|OSTOS'}RQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&V!WO&]!XO&_!YO&a!ZO&c![O&f!]O&l!^O&r!_O&t!`O&v!aO&x!bO&z!cO(SSO(UTO(XUO(`VO(n[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|;wO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(T!lO(UTO(XUO(d!mO(n!sO~O'}!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'y]X(`]X(q]X(x]X(y]X~O!g%RX~P(qO_!}O(U#PO(V!}O(W#PO~O_#QO(W#PO(X#PO(Y#QO~Ox#SO!U#TO(a#TO(b#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S;{O(UTO(XUO(`VO(n[O~O![#ZO!]#WO!Y(gP!Y(uP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(UTO(XUO(`VO(n[O~Op#mO![#iO!|]O#i#lO#j#iO(S;|O!k(rP~P.iO!l#oO(S#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~Oa(eX'y(eX'v(eX!k(eX!Y(eX!_(eX%i(eX!g(eX~P1qO#S$dO#`$eO$Q$eOP(fXR(fX[(fXj(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX!_(fX%i(fX~Oa(fX'y(fX'v(fX!Y(fX!k(fXv(fX!g(fX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%cOk%cOl%cOp%WOr%XOs$tOt$tOz%YO|%ZO!O%[O!S${O!_$|O!i%aO!l$xO#j%bO$W%_O$t%]O$v%^O$y%`O(S$sO(UTO(XUO(`$uO(x$}O(y%POg(]P~O!l%dO~O!S%gO!_%hO(S%fO~O!g%lO~Oa%mO'y%mO~O!Q%qO~P%[O(T!lO~P%[O%n%uO~P%[Oh%VO!l%dO(S%fO(T!lO~Oe%|O!l%dO(S%fO~Oj$RO~O!Q&RO!_&OO!l&QO%j&UO(S%fO(T!lO(UTO(XUO`)VP~O!x#sO~O%s&WO!S)RX!_)RX(S)RX~O(S&XO~Ol!PO!u&^O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&cOe&bO!x&`O%h&aO%{&_O~P<VOd&fOeyOl!PO!_&eO!u&^O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&iO#`&lO%j&gO(T!lO~P=[O!l&mO!u&qO~O!l#oO~O!_XO~Oa%mO'w&yO'y%mO~Oa%mO'w&|O'y%mO~Oa%mO'w'OO'y%mO~O'v]X!Y]Xv]X!k]X&Z]X!_]X%i]X!g]X~P(qO!b']O!c'UO!d'UO(T!lO(UTO(XUO~Os'SO!S'RO!['VO(d'QO!^(hP!^(wP~P@cOn'`O!_'^O(S%fO~Oe'eO!l%dO(S%fO~O!Q&RO!l&QO~Os!nO!S!oO!|;wO#T!pO#U!pO#W!pO#X!pO(T!lO(UTO(XUO(d!mO(n!sO~O!b'kO!c'jO!d'jO#V!pO#['lO#]'lO~PA}Oa%mOh%VO!g#vO!l%dO'y%mO(q'nO~O!p'rO#`'pO~PC]Os!nO!S!oO(UTO(XUO(d!mO(n!sO~O!_XOs(lX!S(lX!b(lX!c(lX!d(lX!|(lX#T(lX#U(lX#V(lX#W(lX#X(lX#[(lX#](lX(T(lX(U(lX(X(lX(d(lX(n(lX~O!c'jO!d'jO(T!lO~PC{O(O'vO(P'vO(Q'xO~O_!}O(U'zO(V!}O(W'zO~O_#QO(W'zO(X'zO(Y#QO~Ov'|O~P%[Ox#SO!U#TO(a#TO(b(PO~O![(RO!Y'VX!Y']X!]'VX!]']X~P+}O!](TO!Y(gX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](TO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~O!Y(gX~PGvO!Y(YO~O!Y(tX!](tX!g(tX!k(tX(q(tX~O#`(tX#k#dX!^(tX~PIyO#`(ZO!Y(vX!](vX~O!]([O!Y(uX~O!Y(_O~O#`$eO~PIyO!^(`O~P`OR#zO!Q#yO!S#{O!l#xO(`VOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(q!na(x!na(y!na~Oa!na'y!na'v!na!Y!na!k!nav!na!_!na%i!na!g!na~PKaO!k(aO~O!g#vO#`(bO(q'nO!](sXa(sX'y(sX~O!k(sX~PM|O!S%gO!_%hO!|]O#i(gO#j(fO(S%fO~O!](hO!k(rX~O!k(jO~O!S%gO!_%hO#j(fO(S%fO~OP(fXR(fX[(fXj(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX~O!g#vO!k(fX~P! jOR(lO!Q(kO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(S!{a~P!#kO!x(pO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~O#k(vO~O![(xO!k(jP~P%[O(d(zO(n[O~O!S(|O!l#xO(d(zO(n[O~OP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_!eO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(S)ZO(UTO(XUO(`VO(n[O~O!]$_Oa$qa'y$qa'v$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)bO~P!&oOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%[O!S${O!_$|O!i%aO!l$xO#j%bO$W%_O$t%]O$v%^O$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~Og(oP~P!+xO!Q)gO!g)fO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)fO!_(zX$Z(zX$](zX$_(zX$f(zX~O!Q)gO~P!.RO!Q)gO!_(zX$Z(zX$](zX$_(zX$f(zX~O!_)iO$Z)mO$])hO$_)hO$f)nO~O![)qO~P!)PO$]$hO$_$gO$f)uO~On$zX!Q$zX#S$zX'x$zX(x$zX(y$zX~OgmXg$zXnmX!]mX#`mX~P!/wOx)wO(a)xO(b)zO~On*TO!Q)|O'x)}O(x$}O(y%PO~Og){O~P!0{Og*UO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S*WO!_*XO!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(UTO(XUO(`$uO(x$}O(y%PO~O![*[O(S*VO!k(}P~P!1jO#k*^O~O!l*_O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(S*aO(UTO(XUO(`$uO(x$}O(y%PO~O![*dO!Y)OP~P!3iOr*pOs!nO!S*fO!b*nO!c*hO!d*hO!l*_O#[*oO%`*jO(T!lO(UTO(XUO(d!mO~O!^*mO~P!5^O#S$dOn(_X!Q(_X'x(_X(x(_X(y(_X!](_X#`(_X~Og(_X$O(_X~P!6`On*uO#`*tOg(^X!](^X~O!]*vOg(]X~Oj%cOk%cOl%cO(S&XOg(]P~Os*yO~O!l+OO~O(S(tO~Op+TO!S%gO![#iO!_%hO!|]O#i#lO#j#iO(S%fO!k(rP~O!g#vO#k+UO~O!S%gO![+WO!]([O!_%hO(S%fO!Y(uP~Os'YO!S+YO![+XO(UTO(XUO(d(zO~O!^(wP~P!9iO!]+ZOa)SX'y)SX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~Oa!ja!]!ja'y!ja'v!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:aOR#zO!Q#yO!S#{O!l#xO(`VOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(q!ra(x!ra(y!ra~Oa!ra'y!ra'v!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!<wOR#zO!Q#yO!S#{O!l#xO(`VOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(q!ta(x!ta(y!ta~Oa!ta'y!ta'v!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?_Oh%VOn+dO!_'^O%i+cO~O!g+fOa([X!_([X'y([X!]([X~Oa%mO!_XO'y%mO~Oh%VO!l%dO~Oh%VO!l%dO(S%fO~O!g#vO#k(vO~Ob+qO%j+rO(S+nO(UTO(XUO!^)WP~O!]+sO`)VX~O[+wO~O`+xO~O!_&OO(S%fO(T!lO`)VP~Oh%VO#`+}O~Oh%VOn,QO!_$|O~O!_,SO~O!Q,UO!_XO~O%n%uO~O!x,ZO~Oe,`O~Ob,aO(S#nO(UTO(XUO!^)UP~Oe%|O~O%j!QO(S&XO~P=[O[,fO`,eO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(UTO(XUO(`VO(n[O~O!_!eO!u!gO$W!kO(S!dO~P!F_O`,eOa%mO'y%mO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oa,kOl!OO!uwO%l!OO%m!OO%n!OO~P!HwO!l&mO~O&],qO~O!_,sO~O&n,uO&p,vOP&kaQ&kaS&kaY&kaa&kad&kae&kal&kap&kar&kas&kat&kaz&ka|&ka!O&ka!S&ka!W&ka!X&ka!_&ka!i&ka!l&ka!o&ka!p&ka!q&ka!s&ka!u&ka!x&ka!|&ka$W&ka$n&ka%h&ka%j&ka%l&ka%m&ka%n&ka%q&ka%s&ka%v&ka%w&ka%y&ka&V&ka&]&ka&_&ka&a&ka&c&ka&f&ka&l&ka&r&ka&t&ka&v&ka&x&ka&z&ka'v&ka(S&ka(U&ka(X&ka(`&ka(n&ka!^&ka&d&kab&ka&i&ka~O(S,{O~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P# }O!g-QO#`-POh(iX!]#hX!^#hX!g(iX!l(iX~O!](iX!^(iX~P#!pOh%VO!g-SO!l%dO!]!aX!^!aX~Os!nO!S!oO(UTO(XUO(d!mO~OP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_!eO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(UTO(XUO(`VO(n[O~O(S<rO~P#$VO!]-WO!^(hX~O!^-YO~O!g-QO#`-PO!]#hX!^#hX~O!]-ZO!^(wX~O!^-]O~O!c-^O!d-^O(T!lO~P##tO!^-aO~P'_On-dO!_'^O~O!Y-iO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(T!{a(U!{a(X!{a(d!{a(n!{a~P!#kO!p-nO#`-lO~PC]O!c-pO!d-pO(T!lO~PC{Oa%mO#`-lO'y%mO~Oa%mO!g#vO#`-lO'y%mO~Oa%mO!g#vO!p-nO#`-lO'y%mO(q'nO~O(O'vO(P'vO(Q-uO~Ov-vO~O!Y'Va!]'Va~P!:aO![-zO!Y'VX!]'VX~P%[O!](TO!Y(ga~O!Y(ga~PGvO!]([O!Y(ua~O!S%gO![.OO!_%hO(S%fO!Y']X!]']X~O#`.QO!](sa!k(saa(sa'y(sa~O!g#vO~P#,]O!](hO!k(ra~O!S%gO!_%hO#j.UO(S%fO~Op.ZO!S%gO![.WO!_%hO!|]O#i.YO#j.WO(S%fO!]'`X!k'`X~OR._O!l#xO~Oh%VOn.bO!_'^O%i.aO~Oa#ci!]#ci'y#ci'v#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:aOn=|O!Q)|O'x)}O(x$}O(y%PO~O#k#_aa#_a#`#_a'y#_a!]#_a!k#_a!_#_a!Y#_a~P#/XO#k(_XP(_XR(_X[(_Xa(_Xj(_Xr(_X!S(_X!l(_X!p(_X#R(_X#n(_X#o(_X#p(_X#q(_X#r(_X#s(_X#t(_X#u(_X#v(_X#x(_X#z(_X#{(_X'y(_X(`(_X(q(_X!k(_X!Y(_X'v(_Xv(_X!_(_X%i(_X!g(_X~P!6`O!].oO!k(jX~P!:aO!k.rO~O!Y.tO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(`VO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#2wO#n$OO~P#2wOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(`VO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#5fO#r$QO~P#5fOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(`VOa#mi!]#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8TOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(`VO(y#}Oa#mi!]#mi#z#mi#{#mi'y#mi(q#mi(x#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#:kO#x#mi~P#:kO#v$SO~P#8TOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(`VO(x#|O(y#}Oa#mi!]#mi#{#mi'y#mi(q#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#=aO#z$WO~P#=aOP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X!]]X!^]X~O$O]X~P#@OOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO#x<VO#z<XO#{<YO(`VO(q$YO(x#|O(y#}O~O$O.vO~P#B]O#S$dO#`<`O$Q<`O$O(fX!^(fX~P! jOa'ca!]'ca'y'ca'v'ca!k'ca!Y'cav'ca!_'ca%i'ca!g'ca~P!:aO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(`VO(x#mi(y#mi~P#E_On=|O!Q)|O'x)}O(x$}O(y%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(`#mi~P#E_O!].zOg(oX~P!0{Og.|O~Oa$Pi!]$Pi'y$Pi'v$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:aO$].}O$_.}O~O$]/OO$_/OO~O!g)fO#`/PO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/QO~O!_)iO$Z/SO$])hO$_)hO$f/TO~O!]<ZO!^(eX~P#B]O!^/UO~O!g)fO$f(zX~O$f/WO~Ov/XO~P!&oOx)wO(a)xO(b/[O~O!S/_O~O(x$}On%aa!Q%aa'x%aa(y%aa!]%aa#`%aa~Og%aa$O%aa~P#LaO(y%POn%ca!Q%ca'x%ca(x%ca!]%ca#`%ca~Og%ca$O%ca~P#MSO!]fX!gfX!kfX!k$zX(qfX~P!/wO![/hO!]([O(S/gO!Y(uP!Y)OP~P!1jOr*pO!b*nO!c*hO!d*hO!l*_O#[*oO%`*jO(T!lO(UTO(XUO~Os<oO!S/iO![+XO!^*mO(d<nO!^(wP~P#NmO!k/jO~P#/XO!]/kO!g#vO(q'nO!k(}X~O!k/pO~O!S%gO![*[O!_%hO(S%fO!k(}P~O#k/rO~O!Y$zX!]$zX!g%RX~P!/wO!]/sO!Y)OX~P#/XO!g/uO~O!Y/wO~OpkO(S/xO~P.iOh%VOr/}O!g#vO!l%dO(q'nO~O!g+fO~Oa%mO!]0RO'y%mO~O!^0TO~P!5^O!c0UO!d0UO(T!lO~P##tOs!nO!S0VO(UTO(XUO(d!mO~O#[0XO~Og%aa!]%aa#`%aa$O%aa~P!0{Og%ca!]%ca#`%ca$O%ca~P!0{Oj%cOk%cOl%cO(S&XOg'lX!]'lX~O!]*vOg(]a~Og0bO~OR0cO!Q0cO!S0dO#S$dOn}a'x}a(x}a(y}a!]}a#`}a~Og}a$O}a~P$&vO!Q)|O'x)}On$sa(x$sa(y$sa!]$sa#`$sa~Og$sa$O$sa~P$'rO!Q)|O'x)}On$ua(x$ua(y$ua!]$ua#`$ua~Og$ua$O$ua~P$(eO#k0gO~Og%Ta!]%Ta#`%Ta$O%Ta~P!0{On0iO#`0hOg(^a!](^a~O!g#vO~O#k0lO~O!]+ZOa)Sa'y)Sa~OR#zO!Q#yO!S#{O!l#xO(`VOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(q!ri(x!ri(y!ri~Oa!ri'y!ri'v!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$*bOh%VOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(UTO(XUO(`$uO(x$}O(y%PO~Op0uO%]0vO(S0tO~P$,xO!g+fOa([a!_([a'y([a!]([a~O#k0|O~O[]X!]fX!^fX~O!]0}O!^)WX~O!^1PO~O[1QO~Ob1SO(S+nO(UTO(XUO~O!_&OO(S%fO`'tX!]'tX~O!]+sO`)Va~O!k1VO~P!:aO[1YO~O`1ZO~O#`1^O~On1aO!_$|O~O(d(zO!^)TP~Oh%VOn1jO!_1gO%i1iO~O[1tO!]1rO!^)UX~O!^1uO~O`1wOa%mO'y%mO~O(S#nO(UTO(XUO~O#S$dO#`$eO$Q$eOP(fXR(fX[(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX~Oj1zO&Z1{Oa(fX~P$2cOj1zO#`$eO&Z1{O~Oa1}O~P%[Oa2PO~O&d2SOP&biQ&biS&biY&bia&bid&bie&bil&bip&bir&bis&bit&biz&bi|&bi!O&bi!S&bi!W&bi!X&bi!_&bi!i&bi!l&bi!o&bi!p&bi!q&bi!s&bi!u&bi!x&bi!|&bi$W&bi$n&bi%h&bi%j&bi%l&bi%m&bi%n&bi%q&bi%s&bi%v&bi%w&bi%y&bi&V&bi&]&bi&_&bi&a&bi&c&bi&f&bi&l&bi&r&bi&t&bi&v&bi&x&bi&z&bi'v&bi(S&bi(U&bi(X&bi(`&bi(n&bi!^&bib&bi&i&bi~Ob2YO!^2WO&i2XO~P`O!_XO!l2[O~O&p,vOP&kiQ&kiS&kiY&kia&kid&kie&kil&kip&kir&kis&kit&kiz&ki|&ki!O&ki!S&ki!W&ki!X&ki!_&ki!i&ki!l&ki!o&ki!p&ki!q&ki!s&ki!u&ki!x&ki!|&ki$W&ki$n&ki%h&ki%j&ki%l&ki%m&ki%n&ki%q&ki%s&ki%v&ki%w&ki%y&ki&V&ki&]&ki&_&ki&a&ki&c&ki&f&ki&l&ki&r&ki&t&ki&v&ki&x&ki&z&ki'v&ki(S&ki(U&ki(X&ki(`&ki(n&ki!^&ki&d&kib&ki&i&ki~O!Y2bO~O!]!aa!^!aa~P#B]Os!nO!S!oO![2hO(d!mO!]'WX!^'WX~P@cO!]-WO!^(ha~O!]'^X!^'^X~P!9iO!]-ZO!^(wa~O!^2oO~P'_Oa%mO#`2xO'y%mO~Oa%mO!g#vO#`2xO'y%mO~Oa%mO!g#vO!p2|O#`2xO'y%mO(q'nO~Oa%mO'y%mO~P!:aO!]$_Ov$qa~O!Y'Vi!]'Vi~P!:aO!](TO!Y(gi~O!]([O!Y(ui~O!Y(vi!](vi~P!:aO!](si!k(sia(si'y(si~P!:aO#`3OO!](si!k(sia(si'y(si~O!](hO!k(ri~O!S%gO!_%hO!|]O#i3TO#j3SO(S%fO~O!S%gO!_%hO#j3SO(S%fO~On3[O!_'^O%i3ZO~Oh%VOn3[O!_'^O%i3ZO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'y%aa(`%aa(q%aa!k%aa!Y%aa'v%aav%aa!_%aa%i%aa!g%aa~P#LaO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'y%ca(`%ca(q%ca!k%ca!Y%ca'v%cav%ca!_%ca%i%ca!g%ca~P#MSO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'y%aa(`%aa(q%aa!k%aa!Y%aa'v%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/XO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'y%ca(`%ca(q%ca!k%ca!Y%ca'v%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/XO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'y}a(`}a(q}a!k}a!Y}a'v}av}a!_}a%i}a!g}a~P$&vO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'y$sa(`$sa(q$sa!k$sa!Y$sa'v$sav$sa!_$sa%i$sa!g$sa~P$'rO#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'y$ua(`$ua(q$ua!k$ua!Y$ua'v$uav$ua!_$ua%i$ua!g$ua~P$(eO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'y%Ta(`%Ta(q%Ta!k%Ta!Y%Ta'v%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/XOa#cq!]#cq'y#cq'v#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:aO![3dO!]'XX!k'XX~P%[O!].oO!k(ja~O!].oO!k(ja~P!:aO!Y3gO~O$O!na!^!na~PKaO$O!ja!]!ja!^!ja~P#B]O$O!ra!^!ra~P!<wO$O!ta!^!ta~P!?_Og'[X!]'[X~P!+xO!].zOg(oa~OSfO!_3{O$d3|O~O!^4QO~Ov4RO~P#/XOa$mq!]$mq'y$mq'v$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:aO!Y4TO~P!&oO!S4UO~O!Q)|O'x)}O(y%POn'ha(x'ha!]'ha#`'ha~Og'ha$O'ha~P%,XO!Q)|O'x)}On'ja(x'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P%,zO(q$YO~P#/XO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!/wO(S<xO~P!1jO!S%gO![4XO!_%hO(S%fO!]'dX!k'dX~O!]/kO!k(}a~O!]/kO!g#vO!k(}a~O!]/kO!g#vO(q'nO!k(}a~Og$|i!]$|i#`$|i$O$|i~P!0{O![4aO!Y'fX!]'fX~P!3iO!]/sO!Y)Oa~O!]/sO!Y)Oa~P#/XOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X~Oj%YX!g%YX~P%0kOj4fO!g#vO~Oh%VO!g#vO!l%dO~Oh%VOr4kO!l%dO(q'nO~Or4pO!g#vO(q'nO~Os!nO!S4qO(UTO(XUO(d!mO~O(x$}On%ai!Q%ai'x%ai(y%ai!]%ai#`%ai~Og%ai$O%ai~P%4[O(y%POn%ci!Q%ci'x%ci(x%ci!]%ci#`%ci~Og%ci$O%ci~P%4}Og(^i!](^i~P!0{O#`4wOg(^i!](^i~P!0{O!k4zO~Oa$oq!]$oq'y$oq'v$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:aO!Y5QO~O!]5RO!_)PX~P#/XOa$zX!_$zX%^]X'y$zX!]$zX~P!/wO%^5UOaoXnoX!QoX!_oX'xoX'yoX(xoX(yoX!]oX~Op5VO(S#nO~O%^5UO~Ob5]O%j5^O(S+nO(UTO(XUO!]'sX!^'sX~O!]0}O!^)Wa~O[5bO~O`5cO~Oa%mO'y%mO~P#/XO!]5kO#`5mO!^)TX~O!^5nO~Or5tOs!nO!S*fO!b!yO!c!vO!d!vO!|;wO#T!pO#U!pO#V!pO#W!pO#X!pO#[5sO#]!zO(T!lO(UTO(XUO(d!mO(n!sO~O!^5rO~P%:YOn5yO!_1gO%i5xO~Oh%VOn5yO!_1gO%i5xO~Ob6QO(S#nO(UTO(XUO!]'rX!^'rX~O!]1rO!^)Ua~O(UTO(XUO(d6SO~O`6WO~Oj6ZO&Z6[O~PM|O!k6]O~P%[Oa6_O~Oa6_O~P%[Ob2YO!^6dO&i2XO~P`O!g6fO~O!g6hOh(ii!](ii!^(ii!g(ii!l(iir(ii(q(ii~O!]#hi!^#hi~P#B]O#`6iO!]#hi!^#hi~O!]!ai!^!ai~P#B]Oa%mO#`6rO'y%mO~Oa%mO!g#vO#`6rO'y%mO~O!](sq!k(sqa(sq'y(sq~P!:aO!](hO!k(rq~O!S%gO!_%hO#j6yO(S%fO~O!_'^O%i6|O~On7QO!_'^O%i6|O~O#k'haP'haR'ha['haa'haj'har'ha!S'ha!l'ha!p'ha#R'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#v'ha#x'ha#z'ha#{'ha'y'ha(`'ha(q'ha!k'ha!Y'ha'v'hav'ha!_'ha%i'ha!g'ha~P%,XO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'y'ja(`'ja(q'ja!k'ja!Y'ja'v'jav'ja!_'ja%i'ja!g'ja~P%,zO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'y$|i(`$|i(q$|i!k$|i!Y$|i'v$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/XO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'y%ai(`%ai(q%ai!k%ai!Y%ai'v%aiv%ai!_%ai%i%ai!g%ai~P%4[O#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'y%ci(`%ci(q%ci!k%ci!Y%ci'v%civ%ci!_%ci%i%ci!g%ci~P%4}O!]'Xa!k'Xa~P!:aO!].oO!k(ji~O$O#ci!]#ci!^#ci~P#B]OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(`VO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#n#mi~P%MXO#n<PO~P%MXOP$[OR#zOr<]O!Q#yO!S#{O!l#xO!p$[O#n<PO#o<QO#p<QO#q<QO(`VO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#r#mi~P& aO#r<RO~P& aOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O(`VO#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#v#mi~P&#iOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO(`VO(y#}O#z#mi#{#mi$O#mi(q#mi(x#mi!]#mi!^#mi~O#x<VO~P&%jO#x#mi~P&%jO#v<TO~P&#iOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO#x<VO(`VO(x#|O(y#}O#{#mi$O#mi(q#mi!]#mi!^#mi~O#z#mi~P&'yO#z<XO~P&'yOa#|y!]#|y'y#|y'v#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:aO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<PO#o<QO#p<QO#q<QO(`VO(x#mi(y#mi~P&*uOn=}O!Q)|O'x)}O(x$}O(y%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(`#mi~P&*uO#S$dOP(_XR(_X[(_Xj(_Xn(_Xr(_X!Q(_X!S(_X!l(_X!p(_X#R(_X#n(_X#o(_X#p(_X#q(_X#r(_X#s(_X#t(_X#u(_X#v(_X#x(_X#z(_X#{(_X$O(_X'x(_X(`(_X(q(_X(x(_X(y(_X!](_X!^(_X~O$O$Pi!]$Pi!^$Pi~P#B]O$O!ri!^!ri~P$*bOg'[a!]'[a~P!0{O!^7dO~O!]'ca!^'ca~P#B]O!Y7eO~P#/XO!g#vO(q'nO!]'da!k'da~O!]/kO!k(}i~O!]/kO!g#vO!k(}i~Og$|q!]$|q#`$|q$O$|q~P!0{O!Y'fa!]'fa~P#/XO!g7lO~O!]/sO!Y)Oi~P#/XO!]/sO!Y)Oi~O!Y7oO~Oh%VOr7tO!l%dO(q'nO~Oj7vO!g#vO~Or7yO!g#vO(q'nO~O!Q)|O'x)}O(y%POn'ia(x'ia!]'ia#`'ia~Og'ia$O'ia~P&3vO!Q)|O'x)}On'ka(x'ka(y'ka!]'ka#`'ka~Og'ka$O'ka~P&4iO!Y7{O~Og%Oq!]%Oq#`%Oq$O%Oq~P!0{Og(^q!](^q~P!0{O#`7|Og(^q!](^q~P!0{Oa$oy!]$oy'y$oy'v$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:aO!g6hO~O!]5RO!_)Pa~O!_'^OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(`$Ta(q$Ta(x$Ta(y$Ta~O%i6|O~P&7ZO%^8QOa%[i!_%[i'y%[i!]%[i~Oa#cy!]#cy'y#cy'v#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:aO[8SO~Ob8UO(S+nO(UTO(XUO~O!]0}O!^)Wi~O`8YO~O(d(zO!]'oX!^'oX~O!]5kO!^)Ta~O!^8cO~P%:YO(n!sO~P$${O#[8dO~O!_1gO~O!_1gO%i8fO~On8iO!_1gO%i8fO~O[8nO!]'ra!^'ra~O!]1rO!^)Ui~O!k8rO~O!k8sO~O!k8vO~O!k8vO~P%[Oa8xO~O!g8yO~O!k8zO~O!](vi!^(vi~P#B]Oa%mO#`9SO'y%mO~O!](sy!k(sya(sy'y(sy~P!:aO!](hO!k(ry~O%i9VO~P&7ZO!_'^O%i9VO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'y$|q(`$|q(q$|q!k$|q!Y$|q'v$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/XO#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'y'ia(`'ia(q'ia!k'ia!Y'ia'v'iav'ia!_'ia%i'ia!g'ia~P&3vO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'y'ka(`'ka(q'ka!k'ka!Y'ka'v'kav'ka!_'ka%i'ka!g'ka~P&4iO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'y%Oq(`%Oq(q%Oq!k%Oq!Y%Oq'v%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/XO!]'Xi!k'Xi~P!:aO$O#cq!]#cq!^#cq~P#B]O(x$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(`%aa(q%aa!]%aa!^%aa~On%aa!Q%aa'x%aa(y%aa~P&HnO(y%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(`%ca(q%ca!]%ca!^%ca~On%ca!Q%ca'x%ca(x%ca~P&JuOn=}O!Q)|O'x)}O(y%PO~P&HnOn=}O!Q)|O'x)}O(x$}O~P&JuOR0cO!Q0cO!S0dO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'x}a(`}a(q}a(x}a(y}a!]}a!^}a~O!Q)|O'x)}OP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(`$sa(q$sa(x$sa(y$sa!]$sa!^$sa~O!Q)|O'x)}OP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(`$ua(q$ua(x$ua(y$ua!]$ua!^$ua~On=}O!Q)|O'x)}O(x$}O(y%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(`%Ta(q%Ta!]%Ta!^%Ta~P'%zO$O$mq!]$mq!^$mq~P#B]O$O$oq!]$oq!^$oq~P#B]O!^9dO~O$O9eO~P!0{O!g#vO!]'di!k'di~O!g#vO(q'nO!]'di!k'di~O!]/kO!k(}q~O!Y'fi!]'fi~P#/XO!]/sO!Y)Oq~Or9lO!g#vO(q'nO~O[9nO!Y9mO~P#/XO!Y9mO~Oj9tO!g#vO~Og(^y!](^y~P!0{O!]'ma!_'ma~P#/XOa%[q!_%[q'y%[q!]%[q~P#/XO[9yO~O!]0}O!^)Wq~O#`9}O!]'oa!^'oa~O!]5kO!^)Ti~P#B]O!S:PO~O!_1gO%i:SO~O(UTO(XUO(d:XO~O!]1rO!^)Uq~O!k:[O~O!k:]O~O!k:^O~O!k:^O~P%[O#`:aO!]#hy!^#hy~O!]#hy!^#hy~P#B]O%i:fO~P&7ZO!_'^O%i:fO~O$O#|y!]#|y!^#|y~P#B]OP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(`$|i(q$|i!]$|i!^$|i~P'%zO!Q)|O'x)}O(y%POP'haR'ha['haj'han'har'ha!S'ha!l'ha!p'ha#R'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#v'ha#x'ha#z'ha#{'ha$O'ha(`'ha(q'ha(x'ha!]'ha!^'ha~O!Q)|O'x)}OP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(`'ja(q'ja(x'ja(y'ja!]'ja!^'ja~O(x$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'x%ai(`%ai(q%ai(y%ai!]%ai!^%ai~O(y%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'x%ci(`%ci(q%ci(x%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#B]O$O#cy!]#cy!^#cy~P#B]O!g#vO!]'dq!k'dq~O!]/kO!k(}y~O!Y'fq!]'fq~P#/XOr:pO!g#vO(q'nO~O[:tO!Y:sO~P#/XO!Y:sO~Og(^!R!](^!R~P!0{Oa%[y!_%[y'y%[y!]%[y~P#/XO!]0}O!^)Wy~O!]5kO!^)Tq~O(S:zO~O!_1gO%i:}O~O!k;QO~O%i;VO~P&7ZOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(`$|q(q$|q!]$|q!^$|q~P'%zO!Q)|O'x)}O(y%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(`'ia(q'ia(x'ia!]'ia!^'ia~O!Q)|O'x)}OP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(`'ka(q'ka(x'ka(y'ka!]'ka!^'ka~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(`%Oq(q%Oq!]%Oq!^%Oq~P'%zOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!0{O!Y;ZO~P#/XOr;[O!g#vO(q'nO~O[;^O!Y;ZO~P#/XO!]'oq!^'oq~P#B]O!]#h!Z!^#h!Z~P#B]O#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'y%e!Z(`%e!Z(q%e!Z!k%e!Z!Y%e!Z'v%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/XOr;fO!g#vO(q'nO~O!Y;gO~P#/XOr;nO!g#vO(q'nO~O!Y;oO~P#/XOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(`%e!Z(q%e!Z!]%e!Z!^%e!Z~P'%zOr;rO!g#vO(q'nO~Ov(eX~P1qO!Q%qO~P!)PO(T!lO~P!)PO!YfX!]fX#`fX~P%0kOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X~O!gfX!k]X!kfX(qfX~P'JsOP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_XO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(S)ZO(UTO(XUO(`VO(n[O~O!]<ZO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<fO!S${O!_$|O!i=wO!l$xO#j<lO$W%_O$t<hO$v<jO$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~Ol)bO~P( iOr!eX(q!eX~P# }Or(iX(q(iX~P#!pO!^]X!^fX~P'JsO!YfX!Y$zX!]fX!]$zX#`fX~P!/wO#k<OO~O!g#vO#k<OO~O#`<`O~Oj<SO~O#`<pO!](vX!^(vX~O#`<`O!](tX!^(tX~O#k<qO~Og<sO~P!0{O#k<yO~O#k<zO~O!g#vO#k<{O~O!g#vO#k<qO~O$O<|O~P#B]O#k<}O~O#k=OO~O#k=TO~O#k=UO~O#k=VO~O#k=WO~O$O=XO~P!0{O$O=YO~P!0{Ok#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~'}T#o!X'{(T#ps#n#qr!Q'|$]'|(S$_(d~",goto:"$8g)[PPPPPP)]PP)`P)qP+R/WPPPP6bPP6xPP<pPPP@dP@zP@zPPP@zPCSP@zP@zP@zPCWPC]PCzPHtPPPHxPPPPHxK{PPPLRLsPHxPHxPP! RHxPPPHxPHxP!#YHxP!&p!'u!(OP!(r!(v!(r!,TPPPPPPP!,t!'uPP!-U!.vP!2SHxHx!2X!5e!:R!:R!>QPPP!>YHxPPPPPPPPP!AiP!BvPPHx!DXPHxPHxHxHxHxHxPHx!EkP!HuP!K{P!LP!LZ!L_!L_P!HrP!Lc!LcP# iP# mHxPHx# s#$xCW@zP@zP@z@zP#&V@z@z#(i@z#+a@z#-m@z@z#.]#0q#0q#0v#1P#0q#1[PP#0qP@z#1t@z#5s@z@z6bPPP#9xPPP#:c#:cP#:cP#:y#:cPP#;PP#:vP#:v#;d#:v#<O#<U#<X)`#<[)`P#<c#<c#<cP)`P)`P)`P)`PP)`P#<i#<lP#<l)`P#<pP#<sP)`P)`P)`P)`P)`P)`)`PP#<y#=P#=[#=b#=h#=n#=t#>S#>Y#>d#>j#>t#>z#?[#?b#@S#@f#@l#@r#AQ#Ag#C[#Cj#Cq#E]#Ek#G]#Gk#Gq#Gw#G}#HX#H_#He#Ho#IR#IXPPPPPPPPPPP#I_PPPPPPP#JS#MZ#Ns#Nz$ SPPP$&nP$&w$)p$0Z$0^$0a$1`$1c$1j$1rP$1x$1{P$2i$2m$3e$4s$4x$5`PP$5e$5k$5o$5r$5v$5z$6v$7_$7v$7z$7}$8Q$8W$8Z$8_$8cR!|RoqOXst!Z#d%l&p&r&s&u,n,s2S2VY!vQ'^-`1g5qQ%svQ%{yQ&S|Q&h!VS'U!e-WQ'd!iS'j!r!yU*h$|*X*lQ+l%|Q+y&UQ,_&bQ-^']Q-h'eQ-p'kQ0U*nQ1q,`R<m;z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9SS#q];w!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU*{%[<e<fQ+q&OQ,a&eQ,h&mQ0r+dQ0w+fQ1S+rQ1y,fQ3W.bQ5V0vQ5]0}Q6Q1rQ7O3[Q8U5^R9Y7Q'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s!S!nQ!r!v!y!z$|'U']'^'j'k'l*h*l*n*o-W-^-`-p0U0X1g5q5s%[$ti#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q&V|Q'S!eS'Y%h-ZQ+q&OQ,a&eQ0f+OQ1S+rQ1X+xQ1x,eQ1y,fQ5]0}Q5f1ZQ6Q1rQ6T1tQ6U1wQ8U5^Q8X5cQ8q6WQ9|8YQ:Y8nR<o*XrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR,c&i&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=r=s[#]WZ#W#Z'V(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ%vxQ%zyS&P|&UQ&]!TQ'a!hQ'c!iQ(o#sS+k%{%|Q+o&OQ,Y&`Q,^&bS-g'd'eQ.d(pQ0{+lQ1R+rQ1T+sQ1W+wQ1l,ZS1p,_,`Q2t-hQ5[0}Q5`1QQ5e1YQ6P1qQ8T5^Q8W5bQ9x8SR:w9y!U$zi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y!^%xy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pQ+e%vQ,O&YQ,R&ZQ,]&bQ.c(oQ1k,YU1o,^,_,`Q3].dQ5z1lS6O1p1qQ8m6P#f=t#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o=u<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YW%Ti%V*v=pS&Y!Q&gQ&Z!RQ&[!SQ+S%cR+|&W%]%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}T)x$u)yV*{%[<e<fW'Y!e%h*X-ZS({#y#zQ+`%qQ+v&RS.](k(lQ1b,SQ4x0cR8^5k'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s$i$^c#Y#e%p%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.w.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ'W!eR2i-W!W!nQ!e!r!v!y!z$|'U']'^'j'k'l*X*h*l*n*o-W-^-`-p0U0X1g5q5sR1d,UnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&w!^Q't!xS(q#u<OQ+i%yQ,W&]Q,X&_Q-e'bQ-r'mS.m(v<qS0k+U<{Q0y+jQ1f,VQ2Z,uQ2],vQ2e-RQ2r-fQ2u-jS5P0l=VQ5W0zS5Z0|=WQ6j2gQ6n2sQ6s2zQ8R5XQ8}6lQ9O6oQ9R6tR:`8z$d$]c#Y#e%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gS(m#p'gQ(}#zS+_%p.wS.^(l(nR3U._'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS#q];wQ&r!XQ&s!YQ&u![Q&v!]R2R,qQ'_!hQ+b%vQ-c'aS.`(o+eQ2p-bW3Y.c.d0q0sQ6m2qW6z3V3X3]5TU9U6{6}7PU:e9W9X9ZS;T:d:gQ;b;UR;j;cU!wQ'^-`T5o1g5q!Q_OXZ`st!V!Z#d#h%d%l&g&i&p&r&s&u(h,n,s.V2S2V]!pQ!r'^-`1g5qT#q];w%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS({#y#zS.](k(l!s=^$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU$fd)],hS(n#p'gU*s%R(u3vU0e*z.i7]Q5T0rQ6{3WQ9X7OR:g9Ym!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sQ'r!uS(d#g1|S-n'i'uQ/n*ZQ/{*gQ2|-qQ4]/oQ4i/}Q4j0OQ4o0WQ7h4WS7s4k4mS7w4p4rQ9g7iQ9k7oQ9p7tQ9u7yS:o9l9mS;Y:p:sS;e;Z;[S;m;f;gS;q;n;oR;t;rQ#wbQ'q!uS(c#g1|S(e#m+TQ+V%eQ+g%wQ+m%}U-m'i'r'uQ.R(dQ/m*ZQ/|*gQ0P*iQ0x+hQ1m,[S2y-n-qQ3R.ZS4[/n/oQ4e/yS4h/{0WQ4l0QQ5|1nQ6u2|Q7g4WQ7k4]U7r4i4o4rQ7u4nQ8k5}S9f7h7iQ9j7oQ9r7wQ9s7xQ:V8lQ:m9gS:n9k9mQ:v9uQ;P:WS;X:o:sS;d;Y;ZS;l;e;gS;p;m;oQ;s;qQ;u;tQ=a=[Q=l=eR=m=fV!wQ'^-`%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS#wz!j!r=Z$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=a=r%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SQ%ej!^%wy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pS%}z!jQ+h%xQ,[&bW1n,],^,_,`U5}1o1p1qS8l6O6PQ:W8m!r=[$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ=e=qR=f=r%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SY#bWZ#W#Z(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ,i&m!p=]$Z$n)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=`'VU'Z!e%h*XR2k-Z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9S!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ,h&mQ0r+dQ3W.bQ7O3[R9Y7Q!b$Tc#Y%p(Q(W(r(w)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!P<U)[)o-U.w2c2f3h3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!f$Vc#Y%p(Q(W(r(w)U)V)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!T<W)[)o-U.w2c2f3h3n3o3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!^$Zc#Y%p(Q(W(r(w)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;xQ4V/fz=s)[)o-U.w2c2f3h3w4P6k7W7a7b8`8|9[9b9c:y;R=gQ=x=zR=y={'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS$oh$pR3|/P'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$kf$qQ$ifS)h$l)lR)t$qT$jf$qT)j$l)l'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$oh$pQ$rhR)s$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9S!s=q$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s#glOPXZst!Z!`!o#S#d#o#{$n%l&i&l&m&p&r&s&u&y'R'`(|)q*f+Y+d,k,n,s-d.b/Q/i0V0d1j1z1{1}2P2S2V2X3[3{4q5y6Z6[6_7Q8i8x!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}Q+P%`Q/^)|o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!U$yi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yQ*`$zU*i$|*X*lQ+Q%aQ0Q*j#f=c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n=d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YQ=h=tQ=i=uQ=j=vR=k=w!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YnoOXst!Z#d%l&p&r&s&u,n,s2S2VS*c${*WQ,|&|Q,}'OR4`/s%[%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q,P&ZQ1`,RQ5i1_R8]5jV*k$|*X*lU*k$|*X*lT5p1g5qS/y*f/iQ4n0VT7x4q:PQ+g%wQ0P*iQ0x+hQ1m,[Q5|1nQ8k5}Q:V8lR;P:W!U%Oi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yx*P$v)c*Q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=oS0Y*q0Z#f<a#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<b<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!d<t(s)a*Y*b.e.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={`<u3u7X7[7`9]:h:k;kS=P.g3aT=Q7Z9`!U%Qi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y|*R$v)c*S*q+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=oS0[*r0]#f<c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!h<v(s)a*Y*b.f.g.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={d<w3u7Y7Z7`9]9^:h:i:k;kS=R.h3bT=S7[9arnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ&d!UR,k&mrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR&d!UQ,T&[R1[+|snOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ1h,YS5w1k1lU8e5u5v5zS:R8g8hS:{:Q:TQ;_:|R;i;`Q&k!VR,d&gR6T1tR:Y8nS&P|&UR1T+sQ&p!WR,n&qR,t&vT2T,s2VR,x&wQ,w&wR2^,xQ'w!{R-t'wSsOtQ#dXT%os#dQ#OTR'y#OQ#RUR'{#RQ)y$uR/Z)yQ#UVR(O#UQ#XWU(U#X(V-{Q(V#YR-{(WQ-X'WR2j-XQ.p(wS3e.p3fR3f.qQ-`'^R2n-`Y!rQ'^-`1g5qR'h!rQ.{)cR3z.{U#_W%g*WU(]#_(^-|Q(^#`R-|(XQ-['ZR2l-[t`OXst!V!Z#d%l&g&i&p&r&s&u,n,s2S2VS#hZ%dU#r`#h.VR.V(hQ(i#jQ.S(eW.[(i.S3P6wQ3P.TR6w3QQ)l$lR/R)lQ$phR)r$pQ$`cU)_$`-w<[Q-w;xR<[)oQ/l*ZW4Y/l4Z7j9hU4Z/m/n/oS7j4[4]R9h7k$e*O$v(s)a)c*Y*b*q*r*|*}+R.g.h.j.k.l/Y/b/d/f/q/v0^0_0p1]3^3_3`3u3y4S4^4_4c4s4u4{4|4}5h7R7S7T7U7Z7[7^7_7`7f7m7p7z7}8P9]9^9_9i9q9v9w:h:i:j:k:l:q:u;W;];h;k=b=n=o=z={Q/t*bU4b/t4d7nQ4d/vR7n4cS*l$|*XR0S*lx*Q$v)c*q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=o!d.e(s)a*Y*b.g.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/c*Q.e7Xa7X3u7Z7[7`9]:h:k;kQ0Z*qQ3a.gU4t0Z3a9`R9`7Z|*S$v)c*q*r+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=o!h.f(s)a*Y*b.g.h.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/e*S.f7Ye7Y3u7Z7[7`9]9^:h:i:k;kQ0]*rQ3b.hU4v0]3b9aR9a7[Q*w%UR0a*wQ5S0pR8O5SQ+[%jR0o+[Q5l1bS8_5l:OR:O8`Q,V&]R1e,VQ5q1gR8b5qQ1s,aS6R1s8oR8o6TQ1O+oW5_1O5a8V9zQ5a1RQ8V5`R9z8WQ+t&PR1U+tQ2V,sR6c2VYrOXst#dQ&t!ZQ+^%lQ,m&pQ,o&rQ,p&sQ,r&uQ2Q,nS2T,s2VR6b2SQ%npQ&x!_Q&{!aQ&}!bQ'P!cQ'o!uQ+]%kQ+i%yQ+{&VQ,c&kQ,z&zW-k'i'q'r'uQ-r'mQ0R*kQ0y+jS1v,d,gQ2_,yQ2`,|Q2a,}Q2u-jW2w-m-n-q-sQ5W0zQ5d1XQ5g1]Q5{1mQ6V1xQ6a2RU6p2v2y2|Q6s2zQ8R5XQ8Z5fQ8[5hQ8a5pQ8j5|Q8p6US9P6q6uQ9R6tQ9{8XQ:U8kQ:Z8qQ:b9QQ:x9|Q;O:VQ;S:cR;a;PQ%yyQ'b!iQ'm!uU+j%z%{%|Q-R'TU-f'c'd'eS-j'i'sQ/z*gS0z+k+lQ2g-TS2s-g-hQ2z-oS4g/{0OQ5X0{Q6l2mQ6o2tQ6t2{U7q4i4j4mQ9o7sR:r9pS$wi=pR*x%VU%Ui%V=pR0`*vQ$viS(s#v+fS)a$b$cQ)c$dQ*Y$xS*b${*WQ*q%OQ*r%QQ*|%]Q*}%^Q+R%bQ.g<aQ.h<cQ.j<gQ.k<iQ.l<kQ/Y)wQ/b*PQ/d*RQ/f*TQ/q*^S/v*d/hQ0^*tQ0_*ul0p+c,Q.a1a1i3Z5x6|8f9V:S:f:};VQ1]+}Q3^<tQ3_<vQ3`<yS3u<^<_Q3y.zS4S/_4UQ4^/rQ4_/sQ4c/uQ4s0YQ4u0[Q4{0gQ4|0hQ4}0iQ5h1^Q7R<}Q7S=PQ7T=RQ7U=TQ7Z<bQ7[<dQ7^<hQ7_<jQ7`<lQ7f4VQ7m4aQ7p4fQ7z4wQ7}5RQ8P5UQ9]<zQ9^<uQ9_<wQ9i7lQ9q7vQ9v7|Q9w8QQ:h=OQ:i=QQ:j=SQ:k=UQ:l9eQ:q9nQ:u9tQ;W=XQ;]:tQ;h;^Q;k=YQ=b=pQ=n=xQ=o=yQ=z=|R={=}Q*z%[Q.i<eR7]<fnpOXst!Z#d%l&p&r&s&u,n,s2S2VQ!fPS#fZ#oQ&z!`W'f!o*f0V4qQ'}#SQ)O#{Q)p$nS,g&i&lQ,l&mQ,y&yS-O'R/iQ-b'`Q.s(|Q/V)qQ0m+YQ0s+dQ2O,kQ2q-dQ3X.bQ4O/QQ4y0dQ5v1jQ6X1zQ6Y1{Q6^1}Q6`2PQ6e2XQ7P3[Q7c3{Q8h5yQ8t6ZQ8u6[Q8w6_Q9Z7QQ:T8iR:_8x#[cOPXZst!Z!`!o#d#o#{%l&i&l&m&p&r&s&u&y'R'`(|*f+Y+d,k,n,s-d.b/i0V0d1j1z1{1}2P2S2V2X3[4q5y6Z6[6_7Q8i8xQ#YWQ#eYQ%puQ%rvS%tw!gS(Q#W(TQ(W#ZQ(r#uQ(w#xQ)P$OQ)Q$PQ)R$QQ)S$RQ)T$SQ)U$TQ)V$UQ)W$VQ)X$WQ)Y$XQ)[$ZQ)^$_Q)`$aQ)e$eW)o$n)q/Q3{Q+a%sQ+u&QS-U'V2hQ-s'pS-x(R-zQ-}(ZQ.P(bQ.n(vQ.q(xQ.u;vQ.w;yQ.x;zQ.y;}Q/]){Q0j+UQ2c-PQ2f-SQ2v-lQ2}.QQ3c.oQ3h<OQ3i<PQ3j<QQ3k<RQ3l<SQ3m<TQ3n<UQ3o<VQ3p<WQ3q<XQ3r<YQ3s.vQ3t<]Q3w<`Q3x<mQ4P<ZQ5O0lQ5Y0|Q6k<pQ6q2xQ6v3OQ7V3dQ7W<qQ7a<sQ7b<{Q8`5mQ8|6iQ9Q6rQ9[<|Q9b=VQ9c=WQ:c9SQ:y9}Q;R:aQ;x#SR=g=sR#[WR'X!el!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sS'T!e-WU*g$|*X*lS-T'U']S0O*h*nQ0W*oQ2m-^Q4m0UR4r0XR(y#xQ!fQT-_'^-`]!qQ!r'^-`1g5qQ#p]R'g;wR)d$dY!uQ'^-`1g5qQ'i!rS's!v!yS'u!z5sS-o'j'kQ-q'lR2{-pT#kZ%dS#jZ%dS%jm,jU(e#h#i#lS.T(f(gQ.X(hQ0n+ZQ3Q.UU3R.V.W.YS6x3S3TR9T6yd#^W#W#Z%g(R([*W+W.O/hr#gZm#h#i#l%d(f(g(h+Z.U.V.W.Y3S3T6yS*Z$x*_Q/o*[Q1|,jQ2d-QQ4W/kQ6g2[Q7i4XQ8{6hT=_'V+XV#aW%g*WU#`W%g*WS(S#W([U(X#Z+W/hS-V'V+XT-y(R.OV'[!e%h*XQ$lfR)v$qT)k$l)lR3}/PT*]$x*_T*e${*WQ0q+cQ1_,QQ3V.aQ5j1aQ5u1iQ6}3ZQ8g5xQ9W6|Q:Q8fQ:d9VQ:|:SQ;U:fQ;`:}R;c;VnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&j!VR,c&gtmOXst!U!V!Z#d%l&g&p&r&s&u,n,s2S2VR,j&mT%km,jR1c,SR,b&eQ&T|R+z&UR+p&OT&n!W&qT&o!W&qT2U,s2V",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:379,context:QOe,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,236,242,244,246,248,251,257,263,265,267,269,271,273,274,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[WOe],skippedNodes:[0,5,6,277],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(VpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(VpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Vp(Y!b'{0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(W#S$i&j'|0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Vp(Y!b'|0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(U':f$i&j(Y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Y!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Vp(Y!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Vp(Y!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Y!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Y!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(VpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(VpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Vp(Y!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(n%1l(Vp(Y!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Vp(Y!b$]#t(S,2j(d$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Vp(Y!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Vp(Y!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(y+JY$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(X';W$i&j(VpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(VpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(VpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(VpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(VpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Vp(Y!b(T%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Vp(Y!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Vp(Y!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Vp(Y!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Vp(Y!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Y!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Y!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Y!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Y!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Y!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Y!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Vp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Vp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Vp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Vp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(VpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(VpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Vp(Y!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Vp(Y!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Vp(Y!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Vp(Y!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Vp(Y!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Vp(Y!b'}0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Vp(Y!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Y!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Y!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(VpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(VpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Vp(Y!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Vp(Y!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(q(Ct$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Vp(Y!b(`+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Vp(Y!b(S,2j$_#t(d$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Vp(Y!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(x+JY$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Vp(Y!b'{0/l$]#t(S,2j(d$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Vp(Y!b'|0/l$]#t(S,2j(d$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[VOe,jOe,qOe,HOe,2,3,4,5,6,7,8,9,10,11,12,13,14,UOe,new s2("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(b~~",141,339),new s2("j~RQYZXz{^~^O(P~~aP!P!Qd~iO(Q~~",25,322)],topRules:{Script:[0,7],SingleExpression:[1,275],SingleClassItem:[2,276]},dialects:{jsx:0,ts:15098},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:326,get:t=>XOe[t]||-1},{term:342,get:t=>YOe[t]||-1},{term:95,get:t=>GOe[t]||-1}],tokenPrec:15124}),VC=[Ks("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),Ks("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),Ks("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),Ks("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),Ks("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),Ks(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),Ks("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),Ks(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),Ks(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),Ks('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),Ks('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],Oz=VC.concat([Ks("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),Ks("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),Ks("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),nA=new DF,wz=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function ap(t){return(e,n)=>{let r=e.node.getChild("VariableDefinition");return r&&n(r,t),!0}}const KOe=["FunctionDeclaration"],JOe={FunctionDeclaration:ap("function"),ClassDeclaration:ap("class"),ClassExpression:()=>!0,EnumDeclaration:ap("constant"),TypeAliasDeclaration:ap("type"),NamespaceDeclaration:ap("namespace"),VariableDefinition(t,e){t.matchContext(KOe)||e(t,"variable")},TypeDefinition(t,e){e(t,"type")},__proto__:null};function kz(t,e){let n=nA.get(e);if(n)return n;let r=[],i=!0;function s(o,a){let l=t.sliceString(o.from,o.to);r.push({label:l,type:a})}return e.cursor(gr.IncludeAnonymous).iterate(o=>{if(i)i=!1;else if(o.name){let a=JOe[o.name];if(a&&a(o,s)||wz.has(o.name))return!1}else if(o.to-o.from>8192){for(let a of kz(t,o.node))r.push(a);return!1}}),nA.set(e,r),r}const l2=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,jC=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function Sz(t){let e=_r(t.state).resolveInner(t.pos,-1);if(jC.indexOf(e.name)>-1)return null;let n=e.name=="VariableName"||e.to-e.from<20&&l2.test(t.state.sliceDoc(e.from,e.to));if(!n&&!t.explicit)return null;let r=[];for(let i=e;i;i=i.parent)wz.has(i.name)&&(r=r.concat(kz(t.state.doc,i)));return{options:r,from:n?e.from:t.pos,validFor:l2}}function Zk(t,e,n){var r;let i=[];for(;;){let s=e.firstChild,o;if(s?.name=="VariableName")return i.push(t(s)),{path:i.reverse(),name:n};if(s?.name=="MemberExpression"&&((r=o=s.lastChild)===null||r===void 0?void 0:r.name)=="PropertyName")i.push(t(o)),e=s;else return null}}function xz(t){let e=r=>t.state.doc.sliceString(r.from,r.to),n=_r(t.state).resolveInner(t.pos,-1);return n.name=="PropertyName"?Zk(e,n.parent,e(n)):(n.name=="."||n.name=="?.")&&n.parent.name=="MemberExpression"?Zk(e,n.parent,""):jC.indexOf(n.name)>-1?null:n.name=="VariableName"||n.to-n.from<20&&l2.test(e(n))?{path:[],name:e(n)}:n.name=="MemberExpression"?Zk(e,n,""):t.explicit?{path:[],name:""}:null}function ewe(t,e){let n=[],r=new Set;for(let i=0;;i++){for(let o of(Object.getOwnPropertyNames||Object.keys)(t)){if(!/^[a-zA-Z_$\xaa-\uffdc][\w$\xaa-\uffdc]*$/.test(o)||r.has(o))continue;r.add(o);let a;try{a=t[o]}catch{continue}n.push({label:o,type:typeof a=="function"?/^[A-Z]/.test(o)?"class":e?"function":"method":e?"variable":"property",boost:-i})}let s=Object.getPrototypeOf(t);if(!s)return n;t=s}}function twe(t){let e=new Map;return n=>{let r=xz(n);if(!r)return null;let i=t;for(let o of r.path)if(i=i[o],!i)return null;let s=e.get(i);return s||e.set(i,s=ewe(i,!r.path.length)),{from:n.pos-r.name.length,options:s,validFor:l2}}}const Ca=Wm.define({name:"javascript",parser:ZOe.configure({props:[wg.add({IfStatement:qb({except:/^\s*({|else\b)/}),TryStatement:qb({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:o1e,SwitchBody:t=>{let e=t.textAfter,n=/^\s*\}/.test(e),r=/^\s*(case|default)\b/.test(e);return t.baseIndent+(n?0:r?1:2)*t.unit},Block:s1e({closing:"}"}),ArrowFunction:t=>t.baseIndent+t.unit,"TemplateString BlockComment":()=>null,"Statement Property":qb({except:/^\s*{/}),JSXElement(t){let e=/^\s*<\//.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},JSXEscape(t){let e=/\s*\}/.test(t.textAfter);return t.lineIndent(t.node.from)+(e?0:t.unit)},"JSXOpenTag JSXSelfClosingTag"(t){return t.column(t.node.from)+t.unit}}),zv.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":NF,BlockComment(t){return{from:t.from+2,to:t.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),_z={test:t=>/^JSX/.test(t.name),facet:PO({commentTokens:{block:{open:"{/*",close:"*/}"}}})},qC=Ca.configure({dialect:"ts"},"typescript"),HC=Ca.configure({dialect:"jsx",props:[SC.add(t=>t.isTop?[_z]:void 0)]}),WC=Ca.configure({dialect:"jsx ts",props:[SC.add(t=>t.isTop?[_z]:void 0)]},"typescript");let Cz=t=>({label:t,type:"keyword"});const Ez="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(Cz),nwe=Ez.concat(["declare","implements","private","protected","public"].map(Cz));function Tz(t={}){let e=t.jsx?t.typescript?WC:HC:t.typescript?qC:Ca,n=t.typescript?Oz.concat(nwe):VC.concat(Ez);return new U0(e,[Ca.data.of({autocomplete:Nbe(jC,kB(n))}),Ca.data.of({autocomplete:Sz}),t.jsx?Dz:[]])}function rwe(t){for(;;){if(t.name=="JSXOpenTag"||t.name=="JSXSelfClosingTag"||t.name=="JSXFragmentTag")return t;if(t.name=="JSXEscape"||!t.parent)return null;t=t.parent}}function rA(t,e,n=t.length){for(let r=e?.firstChild;r;r=r.nextSibling)if(r.name=="JSXIdentifier"||r.name=="JSXBuiltin"||r.name=="JSXNamespacedName"||r.name=="JSXMemberExpression")return t.sliceString(r.from,Math.min(r.to,n));return""}const iwe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Dz=Tt.inputHandler.of((t,e,n,r,i)=>{if((iwe?t.composing:t.compositionStarted)||t.state.readOnly||e!=n||r!=">"&&r!="/"||!Ca.isActiveAt(t.state,e,-1))return!1;let s=i(),{state:o}=s,a=o.changeByRange(l=>{var c;let{head:d}=l,h=_r(o).resolveInner(d-1,-1),f;if(h.name=="JSXStartTag"&&(h=h.parent),!(o.doc.sliceString(d-1,d)!=r||h.name=="JSXAttributeValue"&&h.to>d)){if(r==">"&&h.name=="JSXFragmentTag")return{range:l,changes:{from:d,insert:"</>"}};if(r=="/"&&h.name=="JSXStartCloseTag"){let m=h.parent,g=m.parent;if(g&&m.from==d-2&&((f=rA(o.doc,g.firstChild,d))||((c=g.firstChild)===null||c===void 0?void 0:c.name)=="JSXFragmentTag")){let p=`${f}>`;return{range:Ue.cursor(d+p.length,-1),changes:{from:d,insert:p}}}}else if(r==">"){let m=rwe(h);if(m&&m.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(o.doc.sliceString(d,d+2))&&(f=rA(o.doc,m,d)))return{range:l,changes:{from:d,insert:`</${f}>`}}}}return{range:l}});return a.changes.empty?!1:(t.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)});function swe(t,e){return e||(e={parserOptions:{ecmaVersion:2019,sourceType:"module"},env:{browser:!0,node:!0,es6:!0,es2015:!0,es2017:!0,es2020:!0},rules:{}},t.getRules().forEach((n,r)=>{var i;!((i=n.meta.docs)===null||i===void 0)&&i.recommended&&(e.rules[r]=2)})),n=>{let{state:r}=n,i=[];for(let{from:s,to:o}of Ca.findRegions(r)){let a=r.doc.lineAt(s),l={line:a.number-1,col:s-a.from,pos:s};for(let c of t.verify(r.sliceDoc(s,o),e))i.push(owe(c,r.doc,l))}return i}}function iA(t,e,n,r){return n.line(t+r.line).from+e+(t==1?r.col-1:-1)}function owe(t,e,n){let r=iA(t.line,t.column,e,n),i={from:r,to:t.endLine!=null&&t.endColumn!=1?iA(t.endLine,t.endColumn,e,n):r,message:t.message,source:t.ruleId?"eslint:"+t.ruleId:"eslint",severity:t.severity==1?"warning":"error"};if(t.fix){let{range:s,text:o}=t.fix,a=s[0]+n.pos-r,l=s[1]+n.pos-r;i.actions=[{name:"fix",apply(c,d){c.dispatch({changes:{from:d+a,to:d+l,insert:o},scrollIntoView:!0})}}]}return i}const awe=Object.freeze(Object.defineProperty({__proto__:null,autoCloseTags:Dz,completionPath:xz,esLint:swe,javascript:Tz,javascriptLanguage:Ca,jsxLanguage:HC,localCompletionSource:Sz,scopeCompletionSource:twe,snippets:VC,tsxLanguage:WC,typescriptLanguage:qC,typescriptSnippets:Oz},Symbol.toStringTag,{value:"Module"})),lp=["_blank","_self","_top","_parent"],Kk=["ascii","utf-8","utf-16","latin1","latin1"],Jk=["get","post","put","delete"],eS=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],Oo=["true","false"],Pt={},lwe={a:{attrs:{href:null,ping:null,type:null,media:null,target:lp,hreflang:null}},abbr:Pt,address:Pt,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:Pt,aside:Pt,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:Pt,base:{attrs:{href:null,target:lp}},bdi:Pt,bdo:Pt,blockquote:{attrs:{cite:null}},body:Pt,br:Pt,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:eS,formmethod:Jk,formnovalidate:["novalidate"],formtarget:lp,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:Pt,center:Pt,cite:Pt,code:Pt,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:Pt,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:Pt,div:Pt,dl:Pt,dt:Pt,em:Pt,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:Pt,figure:Pt,footer:Pt,form:{attrs:{action:null,name:null,"accept-charset":Kk,autocomplete:["on","off"],enctype:eS,method:Jk,novalidate:["novalidate"],target:lp}},h1:Pt,h2:Pt,h3:Pt,h4:Pt,h5:Pt,h6:Pt,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:Pt,hgroup:Pt,hr:Pt,html:{attrs:{manifest:null}},i:Pt,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:eS,formmethod:Jk,formnovalidate:["novalidate"],formtarget:lp,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:Pt,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:Pt,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:Pt,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:Kk,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:Pt,noscript:Pt,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:Pt,param:{attrs:{name:null,value:null}},pre:Pt,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:Pt,rt:Pt,ruby:Pt,samp:Pt,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:Kk}},section:Pt,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:Pt,source:{attrs:{src:null,type:null,media:null}},span:Pt,strong:Pt,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:Pt,summary:Pt,sup:Pt,table:Pt,tbody:Pt,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:Pt,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:Pt,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:Pt,time:{attrs:{datetime:null}},title:Pt,tr:Pt,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:Pt,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:Pt},Az={accesskey:null,class:null,contenteditable:Oo,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:Oo,autocorrect:Oo,autocapitalize:Oo,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":Oo,"aria-autocomplete":["inline","list","both","none"],"aria-busy":Oo,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":Oo,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":Oo,"aria-hidden":Oo,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":Oo,"aria-multiselectable":Oo,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":Oo,"aria-relevant":null,"aria-required":Oo,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},Pz="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(t=>"on"+t);for(let t of Pz)Az[t]=null;let G0=class{constructor(e,n){this.tags=Object.assign(Object.assign({},lwe),e),this.globalAttrs=Object.assign(Object.assign({},Az),n),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}};G0.default=new G0;function Km(t,e,n=t.length){if(!e)return"";let r=e.firstChild,i=r&&r.getChild("TagName");return i?t.sliceString(i.from,Math.min(i.to,n)):""}function Jm(t,e=!1){for(;t;t=t.parent)if(t.name=="Element")if(e)e=!1;else return t;return null}function Rz(t,e,n){let r=n.tags[Km(t,Jm(e))];return r?.children||n.allTags}function XC(t,e){let n=[];for(let r=Jm(e);r&&!r.type.isTop;r=Jm(r.parent)){let i=Km(t,r);if(i&&r.lastChild.name=="CloseTag")break;i&&n.indexOf(i)<0&&(e.name=="EndTag"||e.from>=r.firstChild.to)&&n.push(i)}return n}const Mz=/^[:\-\.\w\u00b7-\uffff]*$/;function sA(t,e,n,r,i){let s=/\s*>/.test(t.sliceDoc(i,i+5))?"":">",o=Jm(n,!0);return{from:r,to:i,options:Rz(t.doc,o,e).map(a=>({label:a,type:"type"})).concat(XC(t.doc,n).map((a,l)=>({label:"/"+a,apply:"/"+a+s,type:"type",boost:99-l}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function oA(t,e,n,r){let i=/\s*>/.test(t.sliceDoc(r,r+5))?"":">";return{from:n,to:r,options:XC(t.doc,e).map((s,o)=>({label:s,apply:s+i,type:"type",boost:99-o})),validFor:Mz}}function cwe(t,e,n,r){let i=[],s=0;for(let o of Rz(t.doc,n,e))i.push({label:"<"+o,type:"type"});for(let o of XC(t.doc,n))i.push({label:"</"+o+">",type:"type",boost:99-s++});return{from:r,to:r,options:i,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function uwe(t,e,n,r,i){let s=Jm(n),o=s?e.tags[Km(t.doc,s)]:null,a=o&&o.attrs?Object.keys(o.attrs):[],l=o&&o.globalAttrs===!1?a:a.length?a.concat(e.globalAttrNames):e.globalAttrNames;return{from:r,to:i,options:l.map(c=>({label:c,type:"property"})),validFor:Mz}}function dwe(t,e,n,r,i){var s;let o=(s=n.parent)===null||s===void 0?void 0:s.getChild("AttributeName"),a=[],l;if(o){let c=t.sliceDoc(o.from,o.to),d=e.globalAttrs[c];if(!d){let h=Jm(n),f=h?e.tags[Km(t.doc,h)]:null;d=f?.attrs&&f.attrs[c]}if(d){let h=t.sliceDoc(r,i).toLowerCase(),f='"',m='"';/^['"]/.test(h)?(l=h[0]=='"'?/^[^"]*$/:/^[^']*$/,f="",m=t.sliceDoc(i,i+1)==h[0]?"":h[0],h=h.slice(1),r++):l=/^[^\s<>='"]*$/;for(let g of d)a.push({label:g,apply:f+g+m,type:"constant"})}}return{from:r,to:i,options:a,validFor:l}}function Iz(t,e){let{state:n,pos:r}=e,i=_r(n).resolveInner(r,-1),s=i.resolve(r);for(let o=r,a;s==i&&(a=i.childBefore(o));){let l=a.lastChild;if(!l||!l.type.isError||l.from<l.to)break;s=i=a,o=l.from}return i.name=="TagName"?i.parent&&/CloseTag$/.test(i.parent.name)?oA(n,i,i.from,r):sA(n,t,i,i.from,r):i.name=="StartTag"?sA(n,t,i,r,r):i.name=="StartCloseTag"||i.name=="IncompleteCloseTag"?oA(n,i,r,r):i.name=="OpenTag"||i.name=="SelfClosingTag"||i.name=="AttributeName"?uwe(n,t,i,i.name=="AttributeName"?i.from:r,r):i.name=="Is"||i.name=="AttributeValue"||i.name=="UnquotedAttributeValue"?dwe(n,t,i,i.name=="Is"?r:i.from,r):e.explicit&&(s.name=="Element"||s.name=="Text"||s.name=="Document")?cwe(n,t,i,r):null}function $z(t){return Iz(G0.default,t)}function Lz(t){let{extraTags:e,extraGlobalAttributes:n}=t,r=n||e?new G0(e,n):G0.default;return i=>Iz(r,i)}const hwe=Ca.parser.configure({top:"SingleExpression"}),Nz=[{tag:"script",attrs:t=>t.type=="text/typescript"||t.lang=="ts",parser:qC.parser},{tag:"script",attrs:t=>t.type=="text/babel"||t.type=="text/jsx",parser:HC.parser},{tag:"script",attrs:t=>t.type=="text/typescript-jsx",parser:WC.parser},{tag:"script",attrs(t){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(t.type)},parser:hwe},{tag:"script",attrs(t){return!t.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(t.type)},parser:Ca.parser},{tag:"style",attrs(t){return(!t.lang||t.lang=="css")&&(!t.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(t.type))},parser:Y0.parser}],Fz=[{name:"style",parser:Y0.parser.configure({top:"Styles"})}].concat(Pz.map(t=>({name:t,parser:Ca.parser}))),YC=Wm.define({name:"html",parser:z2e.configure({props:[wg.add({Element(t){let e=/^(\s*)(<\/)?/.exec(t.textAfter);return t.node.to<=t.pos+e[0].length?t.continue():t.lineIndent(t.node.from)+(e[2]?0:t.unit)},"OpenTag CloseTag SelfClosingTag"(t){return t.column(t.node.from)+t.unit},Document(t){if(t.pos+/\s*/.exec(t.textAfter)[0].length<t.node.to)return t.continue();let e=null,n;for(let r=t.node;;){let i=r.lastChild;if(!i||i.name!="Element"||i.to!=r.to)break;e=r=i}return e&&!((n=e.lastChild)&&(n.name=="CloseTag"||n.name=="SelfClosingTag"))?t.lineIndent(e.from)+t.unit:null}}),zv.add({Element(t){let e=t.firstChild,n=t.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:n.name=="CloseTag"?n.from:t.to}}}),FF.add({"OpenTag CloseTag":t=>t.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),t0=YC.configure({wrap:uz(Nz,Fz)});function Bz(t={}){let e="",n;t.matchClosingTags===!1&&(e="noMatch"),t.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(t.nestedLanguages&&t.nestedLanguages.length||t.nestedAttributes&&t.nestedAttributes.length)&&(n=uz((t.nestedLanguages||[]).concat(Nz),(t.nestedAttributes||[]).concat(Fz)));let r=n?YC.configure({wrap:n,dialect:e}):e?t0.configure({dialect:e}):t0;return new U0(r,[t0.data.of({autocomplete:Lz(t)}),t.autoCloseTags!==!1?zz:[],Tz().support,bz().support])}const aA=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),zz=Tt.inputHandler.of((t,e,n,r,i)=>{if(t.composing||t.state.readOnly||e!=n||r!=">"&&r!="/"||!t0.isActiveAt(t.state,e,-1))return!1;let s=i(),{state:o}=s,a=o.changeByRange(l=>{var c,d,h;let f=o.doc.sliceString(l.from-1,l.to)==r,{head:m}=l,g=_r(o).resolveInner(m,-1),p;if(f&&r==">"&&g.name=="EndTag"){let v=g.parent;if(((d=(c=v.parent)===null||c===void 0?void 0:c.lastChild)===null||d===void 0?void 0:d.name)!="CloseTag"&&(p=Km(o.doc,v.parent,m))&&!aA.has(p)){let b=m+(o.doc.sliceString(m,m+1)===">"?1:0),y=`</${p}>`;return{range:l,changes:{from:m,to:b,insert:y}}}}else if(f&&r=="/"&&g.name=="IncompleteCloseTag"){let v=g.parent;if(g.from==m-2&&((h=v.lastChild)===null||h===void 0?void 0:h.name)!="CloseTag"&&(p=Km(o.doc,v,m))&&!aA.has(p)){let b=m+(o.doc.sliceString(m,m+1)===">"?1:0),y=`${p}>`;return{range:Ue.cursor(m+y.length,-1),changes:{from:m,to:b,insert:y}}}}return{range:l}});return a.changes.empty?!1:(t.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),fwe=Object.freeze(Object.defineProperty({__proto__:null,autoCloseTags:zz,html:Bz,htmlCompletionSource:$z,htmlCompletionSourceWith:Lz,htmlLanguage:t0,htmlPlain:YC},Symbol.toStringTag,{value:"Module"})),Qz=PO({commentTokens:{block:{open:"<!--",close:"-->"}}}),Uz=new Kt,Vz=Iye.configure({props:[zv.add(t=>!t.is("Block")||t.is("Document")||A3(t)!=null||mwe(t)?void 0:(e,n)=>({from:n.doc.lineAt(e.from).to,to:e.to})),Uz.add(A3),wg.add({Document:()=>null}),Xu.add({Document:Qz})]});function A3(t){let e=/^(?:ATX|Setext)Heading(\d)$/.exec(t.name);return e?+e[1]:void 0}function mwe(t){return t.name=="OrderedList"||t.name=="BulletList"}function gwe(t,e){let n=t;for(;;){let r=n.nextSibling,i;if(!r||(i=A3(r.type))!=null&&i<=e)break;n=r}return n.to}const pwe=a1e.of((t,e,n)=>{for(let r=_r(t).resolveInner(n,-1);r&&!(r.from<e);r=r.parent){let i=r.type.prop(Uz);if(i==null)continue;let s=gwe(r,i);if(s>n)return{from:n,to:s}}return null});function GC(t){return new $o(Qz,t,[],"markdown")}const jz=GC(Vz),vwe=Vz.configure([qye,Wye,Hye,Xye,{props:[zv.add({Table:(t,e)=>({from:e.doc.lineAt(t.from).to,to:t.to})})]}]),eg=GC(vwe);function bwe(t,e){return n=>{if(n&&t){let r=null;if(n=/\S*/.exec(n)[0],typeof t=="function"?r=t(n):r=Ky.matchLanguageName(t,n,!0),r instanceof Ky)return r.support?r.support.language.parser:Zy.getSkippingParser(r.load());if(r)return r.parser}return e?e.parser:null}}class tS{constructor(e,n,r,i,s,o,a){this.node=e,this.from=n,this.to=r,this.spaceBefore=i,this.spaceAfter=s,this.type=o,this.item=a}blank(e,n=!0){let r=this.spaceBefore+(this.node.name=="Blockquote"?">":"");if(e!=null){for(;r.length<e;)r+=" ";return r}else{for(let i=this.to-this.from-r.length-this.spaceAfter.length;i>0;i--)r+=" ";return r+(n?this.spaceAfter:"")}}marker(e,n){let r=this.node.name=="OrderedList"?String(+Hz(this.item,e)[2]+n):"";return this.spaceBefore+r+this.type+this.spaceAfter}}function qz(t,e){let n=[],r=[];for(let i=t;i;i=i.parent){if(i.name=="FencedCode")return r;(i.name=="ListItem"||i.name=="Blockquote")&&n.push(i)}for(let i=n.length-1;i>=0;i--){let s=n[i],o,a=e.lineAt(s.from),l=s.from-a.from;if(s.name=="Blockquote"&&(o=/^ *>( ?)/.exec(a.text.slice(l))))r.push(new tS(s,l,l+o[0].length,"",o[1],">",null));else if(s.name=="ListItem"&&s.parent.name=="OrderedList"&&(o=/^( *)\d+([.)])( *)/.exec(a.text.slice(l)))){let c=o[3],d=o[0].length;c.length>=4&&(c=c.slice(0,c.length-4),d-=4),r.push(new tS(s.parent,l,l+d,o[1],c,o[2],s))}else if(s.name=="ListItem"&&s.parent.name=="BulletList"&&(o=/^( *)([-+*])( {1,4}\[[ xX]\])?( +)/.exec(a.text.slice(l)))){let c=o[4],d=o[0].length;c.length>4&&(c=c.slice(0,c.length-4),d-=4);let h=o[2];o[3]&&(h+=o[3].replace(/[xX]/," ")),r.push(new tS(s.parent,l,l+d,o[1],c,h,s))}}return r}function Hz(t,e){return/^(\s*)(\d+)(?=[.)])/.exec(e.sliceString(t.from,t.from+10))}function nS(t,e,n,r=0){for(let i=-1,s=t;;){if(s.name=="ListItem"){let a=Hz(s,e),l=+a[2];if(i>=0){if(l!=i+1)return;n.push({from:s.from+a[1].length,to:s.from+a[0].length,insert:String(i+2+r)})}i=l}let o=s.nextSibling;if(!o)break;s=o}}function ZC(t,e){let n=/^[ \t]*/.exec(t)[0].length;if(!n||e.facet(Bv)!="	")return t;let r=tu(t,4,n),i="";for(let s=r;s>0;)s>=4?(i+="	",s-=4):(i+=" ",s--);return i+t.slice(n)}const Wz=({state:t,dispatch:e})=>{let n=_r(t),{doc:r}=t,i=null,s=t.changeByRange(o=>{if(!o.empty||!eg.isActiveAt(t,o.from,-1)&&!eg.isActiveAt(t,o.from,1))return i={range:o};let a=o.from,l=r.lineAt(a),c=qz(n.resolveInner(a,-1),r);for(;c.length&&c[c.length-1].from>a-l.from;)c.pop();if(!c.length)return i={range:o};let d=c[c.length-1];if(d.to-d.spaceAfter.length>a-l.from)return i={range:o};let h=a>=d.to-d.spaceAfter.length&&!/\S/.test(l.text.slice(d.to));if(d.item&&h){let v=d.node.firstChild,b=d.node.getChild("ListItem","ListItem");if(v.to>=a||b&&b.to<a||l.from>0&&!/[^\s>]/.test(r.lineAt(l.from-1).text)){let y=c.length>1?c[c.length-2]:null,C,x="";y&&y.item?(C=l.from+y.from,x=y.marker(r,1)):C=l.from+(y?y.to:0);let O=[{from:C,to:a,insert:x}];return d.node.name=="OrderedList"&&nS(d.item,r,O,-2),y&&y.node.name=="OrderedList"&&nS(y.item,r,O),{range:Ue.cursor(C+x.length),changes:O}}else{let y=cA(c,t,l);return{range:Ue.cursor(a+y.length+1),changes:{from:l.from,insert:y+t.lineBreak}}}}if(d.node.name=="Blockquote"&&h&&l.from){let v=r.lineAt(l.from-1),b=/>\s*$/.exec(v.text);if(b&&b.index==d.from){let y=t.changes([{from:v.from+b.index,to:v.to},{from:l.from+d.from,to:l.to}]);return{range:o.map(y),changes:y}}}let f=[];d.node.name=="OrderedList"&&nS(d.item,r,f);let m=d.item&&d.item.from<l.from,g="";if(!m||/^[\s\d.)\-+*>]*/.exec(l.text)[0].length>=d.to)for(let v=0,b=c.length-1;v<=b;v++)g+=v==b&&!m?c[v].marker(r,1):c[v].blank(v<b?tu(l.text,4,c[v+1].from)-g.length:null);let p=a;for(;p>l.from&&/\s/.test(l.text.charAt(p-l.from-1));)p--;return g=ZC(g,t),ywe(d.node,t.doc)&&(g=cA(c,t,l)+t.lineBreak+g),f.push({from:p,to:a,insert:t.lineBreak+g}),{range:Ue.cursor(p+g.length+1),changes:f}});return i?!1:(e(t.update(s,{scrollIntoView:!0,userEvent:"input"})),!0)};function lA(t){return t.name=="QuoteMark"||t.name=="ListMark"}function ywe(t,e){if(t.name!="OrderedList"&&t.name!="BulletList")return!1;let n=t.firstChild,r=t.getChild("ListItem","ListItem");if(!r)return!1;let i=e.lineAt(n.to),s=e.lineAt(r.from),o=/^[\s>]*$/.test(i.text);return i.number+(o?0:1)<s.number}function cA(t,e,n){let r="";for(let i=0,s=t.length-2;i<=s;i++)r+=t[i].blank(i<s?tu(n.text,4,t[i+1].from)-r.length:null,i<s);return ZC(r,e)}function Owe(t,e){let n=t.resolveInner(e,-1),r=e;lA(n)&&(r=n.from,n=n.parent);for(let i;i=n.childBefore(r);)if(lA(i))r=i.from;else if(i.name=="OrderedList"||i.name=="BulletList")n=i.lastChild,r=n.to;else break;return n}const Xz=({state:t,dispatch:e})=>{let n=_r(t),r=null,i=t.changeByRange(s=>{let o=s.from,{doc:a}=t;if(s.empty&&eg.isActiveAt(t,s.from)){let l=a.lineAt(o),c=qz(Owe(n,o),a);if(c.length){let d=c[c.length-1],h=d.to-d.spaceAfter.length+(d.spaceAfter?1:0);if(o-l.from>h&&!/\S/.test(l.text.slice(h,o-l.from)))return{range:Ue.cursor(l.from+h),changes:{from:l.from+h,to:o}};if(o-l.from==h&&(!d.item||l.from<=d.item.from||!/\S/.test(l.text.slice(0,d.to)))){let f=l.from+d.from;if(d.item&&d.node.from<d.item.from&&/\S/.test(l.text.slice(d.from,d.to))){let m=d.blank(tu(l.text,4,d.to)-tu(l.text,4,d.from));return f==l.from&&(m=ZC(m,t)),{range:Ue.cursor(f+m.length),changes:{from:f,to:l.from+d.to,insert:m}}}if(f<o)return{range:Ue.cursor(f),changes:{from:f,to:o}}}}}return r={range:s}});return r?!1:(e(t.update(i,{scrollIntoView:!0,userEvent:"delete"})),!0)},Yz=[{key:"Enter",run:Wz},{key:"Backspace",run:Xz}],Gz=Bz({matchClosingTags:!1});function Zz(t={}){let{codeLanguages:e,defaultCodeLanguage:n,addKeymap:r=!0,base:{parser:i}=jz,completeHTMLTags:s=!0,pasteURLAsLink:o=!0,htmlTagLanguage:a=Gz}=t;if(!(i instanceof NO))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");let l=t.extensions?[t.extensions]:[],c=[a.support,pwe],d;o&&c.push(Kz),n instanceof U0?(c.push(n.support),d=n.language):n&&(d=n);let h=e||d?bwe(e,d):void 0;l.push(Lye({codeParser:h,htmlParser:a.language.parser})),r&&c.push(nf.high(td.of(Yz)));let f=GC(i.configure(l));return s&&c.push(f.data.of({autocomplete:wwe})),new U0(f,c)}function wwe(t){let{state:e,pos:n}=t,r=/<[:\-\.\w\u00b7-\uffff]*$/.exec(e.sliceDoc(n-25,n));if(!r)return null;let i=_r(e).resolveInner(n,-1);for(;i&&!i.type.isTop;){if(i.name=="CodeBlock"||i.name=="FencedCode"||i.name=="ProcessingInstructionBlock"||i.name=="CommentBlock"||i.name=="Link"||i.name=="Image")return null;i=i.parent}return{from:n-r[0].length,to:n,options:kwe(),validFor:/^<[:\-\.\w\u00b7-\uffff]*$/}}let rS=null;function kwe(){if(rS)return rS;let t=$z(new AC(qn.create({extensions:Gz}),0,!0));return rS=t?t.options:[]}const Swe=/code|horizontalrule|html|link|comment|processing|escape|entity|image|mark|url/i,Kz=Tt.domEventHandlers({paste:(t,e)=>{var n;let{main:r}=e.state.selection;if(r.empty)return!1;let i=(n=t.clipboardData)===null||n===void 0?void 0:n.getData("text/plain");if(!i||!/^(https?:\/\/|mailto:|xmpp:|www\.)/.test(i)||(/^www\./.test(i)&&(i="https://"+i),!eg.isActiveAt(e.state,r.from,1)))return!1;let s=_r(e.state),o=!1;return s.iterate({from:r.from,to:r.to,enter:a=>{(a.from>r.from||Swe.test(a.name))&&(o=!0)},leave:a=>{a.to<r.to&&(o=!0)}}),o?!1:(e.dispatch({changes:[{from:r.from,insert:"["},{from:r.to,insert:`](${i})`}],userEvent:"input.paste",scrollIntoView:!0}),!0)}}),xwe=Object.freeze(Object.defineProperty({__proto__:null,commonmarkLanguage:jz,deleteMarkupBackward:Xz,insertNewlineContinueMarkup:Wz,markdown:Zz,markdownKeymap:Yz,markdownLanguage:eg,pasteURLAsLink:Kz},Symbol.toStringTag,{value:"Module"}));var _n=(t=>(t.NAVIGATION_CHANNEL_UP="navigation_channel_up",t.NAVIGATION_CHANNEL_DOWN="navigation_channel_down",t.NAVIGATION_SERVER_UP="navigation_server_up",t.NAVIGATION_SERVER_DOWN="navigation_server_down",t.CHAT_JUMP_END="chat_jump_end",t.CHAT_MARK_SERVER_AS_READ="chat_mark_server_as_read",t.CHAT_FOCUS_COMPOSITION="chat_focus_composition",t.CHAT_REMOVE_COMPOSITION_ELEMENT="chat_remove_composition_element",t.CHAT_CANCEL_EDITING="chat_cancel_editing",t.CLOSE_MODAL="close_modal",t.CLOSE_FLOATING="close_floating",t.CLOSE_SIDEBAR="close_sidebar",t))(_n||{});const uA=["close_floating","close_modal","close_sidebar","chat_cancel_editing","chat_remove_composition_element","chat_mark_server_as_read","chat_jump_end","navigation_server_up","navigation_server_down","navigation_channel_up","navigation_channel_down","chat_focus_composition"];function _we(t,e,n,r){return!(t==="chat_focus_composition"&&(n.close_floating||n.close_modal||n.chat_cancel_editing||r instanceof HTMLInputElement||r instanceof HTMLTextAreaElement||r?.nodeName==="MDUI-TEXT-FIELD"||(e.has("Control")||e.has("Meta"))&&!(e.has("v")||e.has("a"))))}const Cwe={[_n.NAVIGATION_CHANNEL_UP]:["Alt","ArrowDown"],[_n.NAVIGATION_CHANNEL_DOWN]:["Alt","ArrowDown"],[_n.NAVIGATION_SERVER_UP]:["Control","Alt","ArrowUp"],[_n.NAVIGATION_SERVER_DOWN]:["Control","Alt","ArrowDown"],[_n.CHAT_JUMP_END]:["Escape"],[_n.CHAT_MARK_SERVER_AS_READ]:["Shift","Escape"],[_n.CHAT_FOCUS_COMPOSITION]:[/^[a-z0-9]$/],[_n.CHAT_REMOVE_COMPOSITION_ELEMENT]:["Escape"],[_n.CHAT_CANCEL_EDITING]:["Escape"],[_n.CLOSE_MODAL]:["Escape"],[_n.CLOSE_FLOATING]:["Escape"],[_n.CLOSE_SIDEBAR]:["Escape"]},Ewe={[_n.NAVIGATION_CHANNEL_UP]:["Alt","ArrowUp"],[_n.NAVIGATION_CHANNEL_DOWN]:["Alt","ArrowDown"],[_n.NAVIGATION_SERVER_UP]:["Control","Alt","ArrowUp"],[_n.NAVIGATION_SERVER_DOWN]:["Control","Alt","ArrowDown"],[_n.CHAT_JUMP_END]:["Escape"],[_n.CHAT_MARK_SERVER_AS_READ]:["Shift","Escape"],[_n.CHAT_FOCUS_COMPOSITION]:[/^[a-z0-9]$/],[_n.CHAT_REMOVE_COMPOSITION_ELEMENT]:["Escape"],[_n.CHAT_CANCEL_EDITING]:["Escape"],[_n.CLOSE_MODAL]:["Escape"],[_n.CLOSE_FLOATING]:["Escape"],[_n.CLOSE_SIDEBAR]:["Escape"]},Jz=yr(null);function Twe(t){let e;const n=new ba,r=uA.reduce((c,d)=>({...c,[d]:0}),{}),i=navigator.platform.startsWith("Mac")?Ewe:Cwe;function s(){return uA.filter(c=>r[c]).filter(c=>_we(c,n,r,e)).filter(c=>i[c].every(d=>d instanceof RegExp?[...n].findIndex(h=>d.test(h))!==-1:n.has(d))).shift()}function o(c){return s()===c}function a(c){e=c.target,n.add(c.key)}function l(c){e=c.target,n.delete(c.key)}return document.body.addEventListener("keydown",a),document.body.addEventListener("keyup",l),wt(()=>{document.body.removeEventListener("keydown",a),document.body.removeEventListener("keyup",l)}),u(Jz.Provider,{value:{createKeybind(c,d){r[c]++,wt(()=>r[c]--),dt(()=>{[...n],o(c)&&d()})}},get children(){return t.children}})}function pd(t,e){const{createKeybind:n}=Nn(Jz);n(t,e)}function FO(t){return dt(()=>pd(t.keybind,t.onPressed)),null}function Dwe(t,e){let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>{t(...r)},e)}}const dA="https://stoat.chat/api",Qn={DEBUG:!0,DEFAULT_API_URL:dA,IS_STOAT:["https://api.revolt.chat","https://beta.revolt.chat/api","https://revolt.chat/api","https://stoat.chat/api"].includes(dA),DEFAULT_WS_URL:"wss://stoat.chat/events",DEFAULT_MEDIA_URL:"https://cdn.stoatusercontent.com",DEFAULT_PROXY_URL:"https://proxy.stoatusercontent.com",HCAPTCHA_SITEKEY:void 0,MAX_REPLIES:5,MAX_ATTACHMENTS:5,MAX_EMOJI:100,MAX_FILE_SIZE:2e7,DEVELOPMENT_SESSION_ID:void 0,DEVELOPMENT_TOKEN:void 0,DEVELOPMENT_USER_ID:void 0};let Awe=0;function Pwe(){return Math.random().toString().substring(2)+new Date+ ++Awe}var Zi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rwe=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n};const Mwe=Jo(Rwe);function hA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ga(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hA(Object(n),!0).forEach(function(r){zl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function P3(t){"@babel/helpers - typeof";return P3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P3(t)}function eQ(t,e){for(var n in e){var r=e[n];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n,r)}if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),s=0;s<i.length;s++){var o=i[s],r=e[o];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o,r)}return t}function zl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ri(t,e){return $we(t)||Nwe(t,e)||KC(t,e)||Bwe()}function fA(t){return Iwe(t)||Lwe(t)||KC(t)||Fwe()}function Iwe(t){if(Array.isArray(t))return R3(t)}function $we(t){if(Array.isArray(t))return t}function Lwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function KC(t,e){if(t){if(typeof t=="string")return R3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R3(t,e)}}function R3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zwe(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=KC(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){n=n.call(t)},n:function(){var l=n.next();return s=l.done,l},e:function(l){o=!0,a=l},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(o)throw a}}}}var JC="@@AbstractControlInterface_solidjs";function tQ(t){return P3(t)==="object"&&t?.[JC]===!0}var nQ="@@AbstractControlContainerInterface_solidjs";function Eu(t){return tQ(t)&&t[nQ]}function ks(t,e){return Mwe(t,e)}function eE(t,e){return Object.defineProperties(t,Object.getOwnPropertyDescriptors(e))}var Vd="CONTROL_DEFAULT_SOURCE";function rQ(){var t=ve(null),e=Ri(t,2),n=e[0],r=e[1];return[function(i){return n()||i},function(){return r(!1)}]}function Qwe(t){return!t||Array.isArray(t)&&t.length===0?null:Array.isArray(t)?function(e){return t.reduce(function(n,r){var i=r(e);return i?ga(ga({},n),i):n},null)}:t}var Uwe=0;function iQ(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,i,s,o,a,l,c={id:n.id||Symbol("AbstractControl-".concat(Uwe++)),data:ga({},n.data),self:{get isValid(){return this.errors===null&&!this.isPending},isDisabled:!1,isTouched:!1,isDirty:!1,isReadonly:!1,isSubmitted:!1,isRequired:!1,get isPending(){var h,f;return(h=(f=s)===null||f===void 0?void 0:f())!==null&&h!==void 0?h:e(!1)},get errors(){var h,f;return(h=(f=o)===null||f===void 0?void 0:f())!==null&&h!==void 0?h:e(null)},errorsStore:new Map,pendingStore:new Set,validatorStore:new Map},get isDisabled(){return this.self.isDisabled},get isTouched(){return this.self.isTouched},get isDirty(){return this.self.isDirty},get isReadonly(){return this.self.isReadonly},get isSubmitted(){return this.self.isSubmitted},get isRequired(){return this.self.isRequired},get errors(){return this.self.errors},get isPending(){return this.self.isPending},get isValid(){return this.self.isValid},get status(){var h,f;return(h=(f=a)===null||f===void 0?void 0:f())!==null&&h!==void 0?h:e("VALID")},get validator(){var h,f;return(h=(f=l)===null||f===void 0?void 0:f())!==null&&h!==void 0?h:e(null)},markDisabled:function(f){ks(this.self.isDisabled,f)||i("self","isDisabled",f)},markReadonly:function(f){ks(this.self.isReadonly,f)||i("self","isReadonly",f)},markRequired:function(f){ks(this.self.isRequired,f)||i("self","isRequired",f)},markDirty:function(f){ks(this.self.isDirty,f)||i("self","isDirty",f)},markTouched:function(f){ks(this.self.isTouched,f)||i("self","isTouched",f)},markSubmitted:function(f){ks(this.self.isSubmitted,f)||i("self","isSubmitted",f)},markPending:function(f,m){var g;if(typeof f=="boolean"){var p=m?.source||Vd;if(this.self.pendingStore.has(p)===f)return;g=new Set(this.self.pendingStore),f?g.add(p):g.delete(p)}else{if(this.self.pendingStore===f)return;g=new Set(f)}ks(this.self.pendingStore,g)||i(Ml(function(v){v.self.pendingStore=g}))},setErrors:function(f,m){var g=m?.source||Vd,p=this.self.errorsStore,v;f instanceof Map?v=f:f===null||Object.keys(f).length===0?(v=new Map(p),v.delete(g)):v=new Map(p).set(g,f),!ks(this.self.errorsStore,v)&&i(Ml(function(b){b.self.errorsStore=v}))},patchErrors:function(f,m){var g=this.self.errorsStore;if(f instanceof Map)i(Ml(function(M){M.self.errorsStore=new Map([].concat(fA(g),fA(f)))}));else{if(Object.keys(f).length===0)return;var p=m?.source||Vd,v=f,b=g.get(p);if(b){b=ga({},b);for(var y=0,C=Object.entries(v);y<C.length;y++){var x=Ri(C[y],2),O=x[0],S=x[1];S===null?delete b[O]:b[O]=S}v=b}else{var T=Object.entries(v).filter(function(M){var P=Ri(M,2),L=P[1];return L!==null});if(T.length===0)return;v=Object.fromEntries(T)}var $=new Map(g);if(Object.keys(v).length===0?$.delete(p):$.set(p,v),ks(this.self.errorsStore,$))return;i(Ml(function(M){M.self.errorsStore=$}))}},setValidators:function(f,m){var g=m?.source||Vd,p;if(f instanceof Map)p=new Map(f);else{p=new Map(this.self.validatorStore);var v=Qwe(f);v?p.set(g,v):p.delete(g)}ks(this.self.validatorStore,p)||i(Ml(function(b){b.self.validatorStore=p}))},setData:function(f,m){ks(this.data[f],m)||i(Ml(function(g){g.data[f]=m}))}},d=function(){var f=t(),m=Ri(f,2);r=m[0],i=m[1],s=ke(function(){return r.self.pendingStore.size>0}),o=ke(function(){return r.self.errorsStore.size===0?null:Array.from(r.self.errorsStore.values()).reduce(function(g,p){return ga(ga({},g),p)},{})}),a=ke(function(){return r.isDisabled?"DISABLED":r.isPending?"PENDING":r.isValid?"VALID":"INVALID"}),l=ke(function(){if(r.self.validatorStore.size===0)return null;var g=Array.from(r.self.validatorStore.values());return function(p){var v=g.reduce(function(b,y){return ga(ga({},b),y(p))},{});return Object.keys(v).length===0?null:v}}),Ji(Zt(function(){var g,p,v;return(g=(p=(v=r).validator)===null||p===void 0?void 0:p.call(v,r.rawValue))!==null&&g!==void 0?g:null},function(g){if(r.self.errorsStore.get(Vd)!==g){var p=new Map(r.self.errorsStore);g?p.set(Vd,g):p.delete(Vd),!ks(r.self.errorsStore,p)&&i(Ml(function(v){v.self.errorsStore=p}))}}))};return[c,d]}var Vwe="@@FormControlInterface_solidjs";function Lt(t){var e,n,r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,o,a=rQ(),l=Ri(a,2),c=l[0],d=l[1],h=iQ(function(){return[s,o]},c,i),f=Ri(h,2),m=f[0],g=f[1],p=eE(m,(n={},zl(n,JC,!0),zl(n,Vwe,!0),zl(n,"rawValue",t),e="value",r={},r[e]=r[e]||{},r[e].get=function(){return this.rawValue},zl(n,"setValue",function(C){ks(this.value,C)||o(Ml(function(x){x.rawValue=C}))}),eQ(n,r),n)),v=$a(p),b=Ri(v,2);return s=b[0],o=b[1],g(),d(),i.disabled&&s.markDisabled(i.disabled),i.touched&&s.markTouched(i.touched),i.dirty&&s.markDirty(i.dirty),i.readonly&&s.markReadonly(i.readonly),i.submitted&&s.markSubmitted(i.submitted),i.required&&s.markRequired(i.required),i.pending&&s.markPending(i.pending),i.validators&&s.setValidators(i.validators),i.pending&&s.markPending(i.pending),i.errors&&s.patchErrors(i.errors),s}function jwe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,i,s=iQ(function(){return[r,i]},e,n),o=Ri(s,2),a=o[0],l=o[1],c,d,h,f,m,g,p,v,b,y,C,x,O,S,T,$,M,P,L,j=eE(a,{get size(){var U,N;return(U=(N=c)===null||N===void 0?void 0:N())!==null&&U!==void 0?U:e(0)},get isDisabled(){return this.self.isDisabled||this.children.areDisabled},get isTouched(){return this.self.isTouched||this.child.isTouched},get isDirty(){return this.self.isDirty||this.child.isDirty},get isReadonly(){return this.self.isReadonly||this.children.areReadonly},get isSubmitted(){return this.self.isSubmitted||this.children.areSubmitted},get isRequired(){return this.self.isRequired||this.child.isRequired},get isPending(){return this.self.isPending||this.child.isPending},get errors(){var U,N;return(U=(N=P)===null||N===void 0?void 0:N())!==null&&U!==void 0?U:e(null)},get isValid(){return this.self.isValid&&this.children.areValid},child:{get isValid(){var U,N;return(U=(N=d)===null||N===void 0?void 0:N())!==null&&U!==void 0?U:e(!0)},get isDisabled(){var U,N;return(U=(N=h)===null||N===void 0?void 0:N())!==null&&U!==void 0?U:e(!1)},get isReadonly(){var U,N;return(U=(N=f)===null||N===void 0?void 0:N())!==null&&U!==void 0?U:e(!1)},get isRequired(){var U,N;return(U=(N=m)===null||N===void 0?void 0:N())!==null&&U!==void 0?U:e(!1)},get isPending(){var U,N;return(U=(N=g)===null||N===void 0?void 0:N())!==null&&U!==void 0?U:e(!1)},get isTouched(){var U,N;return(U=(N=p)===null||N===void 0?void 0:N())!==null&&U!==void 0?U:e(!1)},get isDirty(){var U,N;return(U=(N=v)===null||N===void 0?void 0:N())!==null&&U!==void 0?U:e(!1)},get isSubmitted(){var U,N;return(U=(N=b)===null||N===void 0?void 0:N())!==null&&U!==void 0?U:e(!1)}},children:{get areValid(){var U,N;return(U=(N=y)===null||N===void 0?void 0:N())!==null&&U!==void 0?U:e(!0)},get areDisabled(){var U,N;return(U=(N=C)===null||N===void 0?void 0:N())!==null&&U!==void 0?U:e(!1)},get areReadonly(){var U,N;return(U=(N=x)===null||N===void 0?void 0:N())!==null&&U!==void 0?U:e(!1)},get areRequired(){var U,N;return(U=(N=O)===null||N===void 0?void 0:N())!==null&&U!==void 0?U:e(!1)},get arePending(){var U,N;return(U=(N=S)===null||N===void 0?void 0:N())!==null&&U!==void 0?U:e(!1)},get areTouched(){var U,N;return(U=(N=T)===null||N===void 0?void 0:N())!==null&&U!==void 0?U:e(!1)},get areDirty(){var U,N;return(U=(N=$)===null||N===void 0?void 0:N())!==null&&U!==void 0?U:e(!1)},get areSubmitted(){var U,N;return(U=(N=M)===null||N===void 0?void 0:N())!==null&&U!==void 0?U:e(!1)},get errors(){var U,N;return(U=(N=L)===null||N===void 0?void 0:N())!==null&&U!==void 0?U:e(null)},markDirty:function(N,z){Nt(function(){Object.values(r.controls).forEach(function(K){K.markDirty(N),!(!(z!=null&&z.deep)||!Eu(K))&&K.children.markDirty(N,z)})})},markDisabled:function(N,z){Nt(function(){Object.values(r.controls).forEach(function(K){K.markDisabled(N),!(!(z!=null&&z.deep)||!Eu(K))&&K.children.markDisabled(N,z)})})},markPending:function(N,z){Nt(function(){Object.values(r.controls).forEach(function(K){K.markPending(N,z),!(!(z!=null&&z.deep)||!Eu(K))&&K.children.markPending(N,z)})})},markReadonly:function(N,z){Nt(function(){Object.values(r.controls).forEach(function(K){K.markReadonly(N),!(!(z!=null&&z.deep)||!Eu(K))&&K.children.markReadonly(N,z)})})},markRequired:function(N,z){Nt(function(){Object.values(r.controls).forEach(function(K){K.markRequired(N),!(!(z!=null&&z.deep)||!Eu(K))&&K.children.markRequired(N,z)})})},markSubmitted:function(N,z){Nt(function(){Object.values(r.controls).forEach(function(K){K.markSubmitted(N),!(!(z!=null&&z.deep)||!Eu(K))&&K.children.markSubmitted(N,z)})})},markTouched:function(N,z){Nt(function(){Object.values(r.controls).forEach(function(K){K.markTouched(N),!(!(z!=null&&z.deep)||!Eu(K))&&K.children.markTouched(N,z)})})}},setControls:function(N){ks(r.controls,N)||i(Ml(function(z){z.controls=N}))},removeControl:function(N){if(!tQ(N)){r.setControl(N,null);return}for(var z=N,K=0,re=Object.entries(r.controls);K<re.length;K++){var Q=Ri(re[K],2),D=Q[0],se=Q[1];if(se===z){r.setControl(D,null);return}}},setValue:function(N){var z=Object.entries(N);if(z.length!==r.size)throw new Error("setValue error: you must provide a value for each control.");Nt(function(){var K=zwe(z),re;try{for(K.s();!(re=K.n()).done;){var Q=Ri(re.value,2),D=Q[0],se=Q[1],he=r.controls[D];if(!he)throw new Error('Invalid setValue value key "'.concat(D,'".'));he.setValue(se)}}catch(E){K.e(E)}finally{K.f()}})},patchValue:function(N){Nt(function(){for(var z=0,K=Object.entries(N);z<K.length;z++){var re=Ri(K[z],2),Q=re[0],D=re[1],se=r.controls[Q];if(!se)throw new Error('Invalid patchValue value key "'.concat(Q,'".'));Eu(se)?se.patchValue(D):se.setValue(D)}})}}),te=function(){var N=t(),z=Ri(N,2);r=z[0],i=z[1],l();var K=ke(function(){return Object.values(r.controls)}),re=ke(function(){return K().filter(function(Q){return!Q.isDisabled})});c=ke(function(){return K().length}),d=ke(function(){return re().some(function(Q){return Q.isValid})}),h=ke(function(){return K().some(function(Q){return Q.isDisabled})}),f=ke(function(){return re().some(function(Q){return Q.isReadonly})}),m=ke(function(){return re().some(function(Q){return Q.isRequired})}),g=ke(function(){return re().some(function(Q){return Q.isPending})}),p=ke(function(){return re().some(function(Q){return Q.isTouched})}),v=ke(function(){return re().some(function(Q){return Q.isDirty})}),b=ke(function(){return re().some(function(Q){return Q.isSubmitted})}),y=ke(function(){return re().every(function(Q){return Q.isValid})}),C=ke(function(){var Q=K();return Q.length===0?!1:Q.every(function(D){return D.isDisabled})}),x=ke(function(){var Q=re();return Q.length===0?!1:Q.every(function(D){return D.isReadonly})}),O=ke(function(){var Q=re();return Q.length===0?!1:Q.every(function(D){return D.isRequired})}),S=ke(function(){var Q=re();return Q.length===0?!1:Q.every(function(D){return D.isPending})}),T=ke(function(){var Q=re();return Q.length===0?!1:Q.every(function(D){return D.isTouched})}),$=ke(function(){var Q=re();return Q.length===0?!1:Q.every(function(D){return D.isDirty})}),M=ke(function(){var Q=re();return Q.length===0?!1:Q.every(function(D){return D.isSubmitted})}),P=ke(function(){return!r.self.errors&&!r.children.errors?null:ga(ga({},r.children.errors),r.self.errors)}),L=ke(function(){var Q=re();return Q.reduce(function(D,se){return D===null&&se.errors===null?null:ga(ga({},D),se.errors)},null)})};return[j,te]}var qwe="@@FormGroupInterface_solidjs";function Hn(){var t,e,n,r,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o,a,l=rQ(),c=Ri(l,2),d=c[0],h=c[1],f=jwe(function(){return[o,a]},d,s),m=Ri(f,2),g=m[0],p=m[1],v,b,y=eE(g,(n={},zl(n,JC,!0),zl(n,nQ,!0),zl(n,qwe,!0),zl(n,"controls",i),t="rawValue",r={},r[t]=r[t]||{},r[t].get=function(){var T,$;return(T=($=v)===null||$===void 0?void 0:$())!==null&&T!==void 0?T:d({})},e="value",r[e]=r[e]||{},r[e].get=function(){var T,$;return(T=($=b)===null||$===void 0?void 0:$())!==null&&T!==void 0?T:d({})},zl(n,"setControl",function($,M){(M===null?!o.controls[$]:ks(o.controls[$],M))||a(Ml(function(P){M===null?delete P.controls[$]:P.controls[$]=M}))}),eQ(n,r),n)),C=$a(y),x=Ri(C,2);o=x[0],a=x[1],p();var O=ke(function(){return Object.entries(o.controls)}),S=ke(function(){return O().filter(function(T){var $=Ri(T,2),M=$[1];return!M.isDisabled})});return v=ke(function(){return Object.fromEntries(O().map(function(T){var $=Ri(T,2),M=$[0],P=$[1];return[M,P.rawValue]}))}),b=ke(function(){return Object.fromEntries(S().map(function(T){var $=Ri(T,2),M=$[0],P=$[1];return[M,P.value]}))}),h(),s.disabled&&o.markDisabled(s.disabled),s.touched&&o.markTouched(s.touched),s.dirty&&o.markDirty(s.dirty),s.readonly&&o.markReadonly(s.readonly),s.submitted&&o.markSubmitted(s.submitted),s.required&&o.markRequired(s.required),s.pending&&o.markPending(s.pending),s.validators&&o.setValidators(s.validators),s.pending&&o.markPending(s.pending),s.errors&&o.patchErrors(s.errors),o}let Vv=class{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}};Vv.prototype.property={};Vv.prototype.normal={};Vv.prototype.space=null;function sQ(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new Vv(n,r,e)}function M3(t){return t.toLowerCase()}let Ba=class{constructor(e,n){this.property=e,this.attribute=n}};Ba.prototype.space=null;Ba.prototype.boolean=!1;Ba.prototype.booleanish=!1;Ba.prototype.overloadedBoolean=!1;Ba.prototype.number=!1;Ba.prototype.commaSeparated=!1;Ba.prototype.spaceSeparated=!1;Ba.prototype.commaOrSpaceSeparated=!1;Ba.prototype.mustUseProperty=!1;Ba.prototype.defined=!1;let Hwe=0;const rn=rf(),Jr=rf(),oQ=rf(),Ge=rf(),fr=rf(),bm=rf(),ko=rf();function rf(){return 2**++Hwe}const I3=Object.freeze(Object.defineProperty({__proto__:null,boolean:rn,booleanish:Jr,commaOrSpaceSeparated:ko,commaSeparated:bm,number:Ge,overloadedBoolean:oQ,spaceSeparated:fr},Symbol.toStringTag,{value:"Module"})),iS=Object.keys(I3);let tE=class extends Ba{constructor(e,n,r,i){let s=-1;if(super(e,n),mA(this,"space",i),typeof r=="number")for(;++s<iS.length;){const o=iS[s];mA(this,iS[s],(r&I3[o])===I3[o])}}};tE.prototype.defined=!0;function mA(t,e,n){n&&(t[e]=n)}const Wwe={}.hasOwnProperty;function xg(t){const e={},n={};let r;for(r in t.properties)if(Wwe.call(t.properties,r)){const i=t.properties[r],s=new tE(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[M3(r)]=r,n[M3(s.attribute)]=r}return new Vv(e,n,t.space)}const aQ=xg({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),lQ=xg({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function cQ(t,e){return e in t?t[e]:e}function uQ(t,e){return cQ(t,e.toLowerCase())}const dQ=xg({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:uQ,properties:{xmlns:null,xmlnsXLink:null}}),hQ=xg({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Jr,ariaAutoComplete:null,ariaBusy:Jr,ariaChecked:Jr,ariaColCount:Ge,ariaColIndex:Ge,ariaColSpan:Ge,ariaControls:fr,ariaCurrent:null,ariaDescribedBy:fr,ariaDetails:null,ariaDisabled:Jr,ariaDropEffect:fr,ariaErrorMessage:null,ariaExpanded:Jr,ariaFlowTo:fr,ariaGrabbed:Jr,ariaHasPopup:null,ariaHidden:Jr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:fr,ariaLevel:Ge,ariaLive:null,ariaModal:Jr,ariaMultiLine:Jr,ariaMultiSelectable:Jr,ariaOrientation:null,ariaOwns:fr,ariaPlaceholder:null,ariaPosInSet:Ge,ariaPressed:Jr,ariaReadOnly:Jr,ariaRelevant:null,ariaRequired:Jr,ariaRoleDescription:fr,ariaRowCount:Ge,ariaRowIndex:Ge,ariaRowSpan:Ge,ariaSelected:Jr,ariaSetSize:Ge,ariaSort:null,ariaValueMax:Ge,ariaValueMin:Ge,ariaValueNow:Ge,ariaValueText:null,role:null}}),Xwe=xg({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:uQ,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:bm,acceptCharset:fr,accessKey:fr,action:null,allow:null,allowFullScreen:rn,allowPaymentRequest:rn,allowUserMedia:rn,alt:null,as:null,async:rn,autoCapitalize:null,autoComplete:fr,autoFocus:rn,autoPlay:rn,blocking:fr,capture:null,charSet:null,checked:rn,cite:null,className:fr,cols:Ge,colSpan:null,content:null,contentEditable:Jr,controls:rn,controlsList:fr,coords:Ge|bm,crossOrigin:null,data:null,dateTime:null,decoding:null,default:rn,defer:rn,dir:null,dirName:null,disabled:rn,download:oQ,draggable:Jr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:rn,formTarget:null,headers:fr,height:Ge,hidden:rn,high:Ge,href:null,hrefLang:null,htmlFor:fr,httpEquiv:fr,id:null,imageSizes:null,imageSrcSet:null,inert:rn,inputMode:null,integrity:null,is:null,isMap:rn,itemId:null,itemProp:fr,itemRef:fr,itemScope:rn,itemType:fr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:rn,low:Ge,manifest:null,max:null,maxLength:Ge,media:null,method:null,min:null,minLength:Ge,multiple:rn,muted:rn,name:null,nonce:null,noModule:rn,noValidate:rn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:rn,optimum:Ge,pattern:null,ping:fr,placeholder:null,playsInline:rn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:rn,referrerPolicy:null,rel:fr,required:rn,reversed:rn,rows:Ge,rowSpan:Ge,sandbox:fr,scope:null,scoped:rn,seamless:rn,selected:rn,shadowRootClonable:rn,shadowRootDelegatesFocus:rn,shadowRootMode:null,shape:null,size:Ge,sizes:null,slot:null,span:Ge,spellCheck:Jr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ge,step:null,style:null,tabIndex:Ge,target:null,title:null,translate:null,type:null,typeMustMatch:rn,useMap:null,value:Jr,width:Ge,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:fr,axis:null,background:null,bgColor:null,border:Ge,borderColor:null,bottomMargin:Ge,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:rn,declare:rn,event:null,face:null,frame:null,frameBorder:null,hSpace:Ge,leftMargin:Ge,link:null,longDesc:null,lowSrc:null,marginHeight:Ge,marginWidth:Ge,noResize:rn,noHref:rn,noShade:rn,noWrap:rn,object:null,profile:null,prompt:null,rev:null,rightMargin:Ge,rules:null,scheme:null,scrolling:Jr,standby:null,summary:null,text:null,topMargin:Ge,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ge,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:rn,disableRemotePlayback:rn,prefix:null,property:null,results:Ge,security:null,unselectable:null}}),Ywe=xg({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:cQ,properties:{about:ko,accentHeight:Ge,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ge,amplitude:Ge,arabicForm:null,ascent:Ge,attributeName:null,attributeType:null,azimuth:Ge,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ge,by:null,calcMode:null,capHeight:Ge,className:fr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ge,diffuseConstant:Ge,direction:null,display:null,dur:null,divisor:Ge,dominantBaseline:null,download:rn,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ge,enableBackground:null,end:null,event:null,exponent:Ge,externalResourcesRequired:null,fill:null,fillOpacity:Ge,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:bm,g2:bm,glyphName:bm,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ge,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ge,horizOriginX:Ge,horizOriginY:Ge,id:null,ideographic:Ge,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ge,k:Ge,k1:Ge,k2:Ge,k3:Ge,k4:Ge,kernelMatrix:ko,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ge,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ge,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ge,overlineThickness:Ge,paintOrder:null,panose1:null,path:null,pathLength:Ge,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:fr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ge,pointsAtY:Ge,pointsAtZ:Ge,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ko,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ko,rev:ko,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ko,requiredFeatures:ko,requiredFonts:ko,requiredFormats:ko,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ge,specularExponent:Ge,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ge,strikethroughThickness:Ge,string:null,stroke:null,strokeDashArray:ko,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ge,strokeOpacity:Ge,strokeWidth:null,style:null,surfaceScale:Ge,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ko,tabIndex:Ge,tableValues:null,target:null,targetX:Ge,targetY:Ge,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ko,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ge,underlineThickness:Ge,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ge,values:null,vAlphabetic:Ge,vMathematical:Ge,vectorEffect:null,vHanging:Ge,vIdeographic:Ge,version:null,vertAdvY:Ge,vertOriginX:Ge,vertOriginY:Ge,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ge,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Gwe=/^data[-\w.:]+$/i,gA=/-[a-z]/g,Zwe=/[A-Z]/g;function Kwe(t,e){const n=M3(e);let r=e,i=Ba;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Gwe.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(gA,eke);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!gA.test(s)){let o=s.replace(Zwe,Jwe);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=tE}return new i(r,e)}function Jwe(t){return"-"+t.toLowerCase()}function eke(t){return t.charAt(1).toUpperCase()}const pA={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},fQ=sQ([lQ,aQ,dQ,hQ,Xwe],"html"),tke=sQ([lQ,aQ,dQ,hQ,Ywe],"svg"),jv=function(t){if(t==null)return ske;if(typeof t=="function")return BO(t);if(typeof t=="object")return Array.isArray(t)?nke(t):rke(t);if(typeof t=="string")return ike(t);throw new Error("Expected function, string, or object as test")};function nke(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=jv(t[n]);return BO(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function rke(t){const e=t;return BO(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function ike(t){return BO(e);function e(n){return n&&n.type===t}}function BO(t){return e;function e(n,r,i){return!!(oke(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function ske(){return!0}function oke(t){return t!==null&&typeof t=="object"&&"type"in t}const vA=function(t,e,n){const r=jv(n);if(!t||!t.type||!t.children)throw new Error("Expected parent node");if(typeof e=="number"){if(e<0||e===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(e=t.children.indexOf(e),e<0)throw new Error("Expected child node or index");for(;++e<t.children.length;)if(r(t.children[e],e,t))return t.children[e]},sf=function(t){if(t==null)return cke;if(typeof t=="string")return lke(t);if(typeof t=="object")return ake(t);if(typeof t=="function")return nE(t);throw new Error("Expected function, string, or array as `test`")};function ake(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=sf(t[n]);return nE(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function lke(t){return nE(e);function e(n){return n.tagName===t}}function nE(t){return e;function e(n,r,i){return!!(uke(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function cke(t){return!!(t&&typeof t=="object"&&"type"in t&&t.type==="element"&&"tagName"in t&&typeof t.tagName=="string")}function uke(t){return t!==null&&typeof t=="object"&&"type"in t&&"tagName"in t}const bA=/\n/g,yA=/[\t ]+/g,$3=sf("br"),OA=sf(vke),dke=sf("p"),wA=sf("tr"),hke=sf(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",pke,bke]),mQ=sf(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function gQ(t,e){const n=e||{},r="children"in t?t.children:[],i=mQ(t),s=bQ(t,{whitespace:n.whitespace||"normal"}),o=[];(t.type==="text"||t.type==="comment")&&o.push(...vQ(t,{breakBefore:!0,breakAfter:!0}));let a=-1;for(;++a<r.length;)o.push(...pQ(r[a],t,{whitespace:s,breakBefore:a?void 0:i,breakAfter:a<r.length-1?$3(r[a+1]):i}));const l=[];let c;for(a=-1;++a<o.length;){const d=o[a];typeof d=="number"?c!==void 0&&d>c&&(c=d):d&&(c!==void 0&&c>-1&&l.push(`
`.repeat(c)||" "),c=-1,l.push(d))}return l.join("")}function pQ(t,e,n){return t.type==="element"?fke(t,e,n):t.type==="text"?n.whitespace==="normal"?vQ(t,n):mke(t):[]}function fke(t,e,n){const r=bQ(t,n),i=t.children||[];let s=-1,o=[];if(hke(t))return o;let a,l;for($3(t)||wA(t)&&vA(e,t,wA)?l=`
`:dke(t)?(a=2,l=2):mQ(t)&&(a=1,l=1);++s<i.length;)o=o.concat(pQ(i[s],t,{whitespace:r,breakBefore:s?void 0:a,breakAfter:s<i.length-1?$3(i[s+1]):l}));return OA(t)&&vA(e,t,OA)&&o.push("	"),a&&o.unshift(a),l&&o.push(l),o}function vQ(t,e){const n=String(t.value),r=[],i=[];let s=0;for(;s<=n.length;){bA.lastIndex=s;const l=bA.exec(n),c=l&&"index"in l?l.index:n.length;r.push(gke(n.slice(s,c).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),s===0?e.breakBefore:!0,c===n.length?e.breakAfter:!0)),s=c+1}let o=-1,a;for(;++o<r.length;)r[o].charCodeAt(r[o].length-1)===8203||o<r.length-1&&r[o+1].charCodeAt(0)===8203?(i.push(r[o]),a=void 0):r[o]?(typeof a=="number"&&i.push(a),i.push(r[o]),a=0):(o===0||o===r.length-1)&&i.push(0);return i}function mke(t){return[String(t.value)]}function gke(t,e,n){const r=[];let i=0,s;for(;i<t.length;){yA.lastIndex=i;const o=yA.exec(t);s=o?o.index:t.length,!i&&!s&&o&&!e&&r.push(""),i!==s&&r.push(t.slice(i,s)),i=o?s+o[0].length:s}return i!==s&&!n&&r.push(""),r.join(" ")}function bQ(t,e){if(t.type==="element"){const n=t.properties||{};switch(t.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":e.whitespace;case"textarea":return"pre-wrap"}}return e.whitespace}function pke(t){return!!(t.properties||{}).hidden}function vke(t){return t.tagName==="td"||t.tagName==="th"}function bke(t){return t.tagName==="dialog"&&!(t.properties||{}).open}function yke(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="(?!struct)("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",a={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},h={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},f={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},m=e.optional(i)+t.IDENT_RE+"\\s*\\(",g=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],p=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],v=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],b=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],x={type:p,keyword:g,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:v},O={className:"function.dispatch",relevance:0,keywords:{_hint:b},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,t.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},S=[O,h,a,n,t.C_BLOCK_COMMENT_MODE,d,c],T={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:x,contains:S.concat([{begin:/\(/,end:/\)/,keywords:x,contains:S.concat(["self"]),relevance:0}]),relevance:0},$={className:"function",begin:"("+o+"[\\*&\\s]+)+"+m,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:x,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:x,relevance:0},{begin:m,returnBegin:!0,contains:[f],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[c,d]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:x,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,c,d,a,{begin:/\(/,end:/\)/,keywords:x,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,c,d,a]}]},a,n,t.C_BLOCK_COMMENT_MODE,h]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:x,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(T,$,O,S,[h,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:x,contains:["self",a]},{begin:t.IDENT_RE+"::",keywords:x},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function Oke(t){const e={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},n=yke(t),r=n.keywords;return r.type=[...r.type,...e.type],r.literal=[...r.literal,...e.literal],r.built_in=[...r.built_in,...e.built_in],r._hints=e._hints,n.name="Arduino",n.aliases=["ino"],n.supersetOf="cpp",n}function wke(t){const e=t.regex,n={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:e.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const i={className:"subst",begin:/\$\(/,end:/\)/,contains:[t.BACKSLASH_ESCAPE]},s=t.inherit(t.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),o={begin:/<<-?\s*(?=\w+)/,starts:{contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},a={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,n,i]};i.contains.push(a);const l={match:/\\"/},c={className:"string",begin:/'/,end:/'/},d={match:/\\'/},h={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},t.NUMBER_MODE,n]},f=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],m=t.SHEBANG({binary:`(${f.join("|")})`,relevance:10}),g={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[t.inherit(t.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},p=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],v=["true","false"],b={match:/(\/[a-z._-]+)+/},y=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],C=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],x=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],O=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:p,literal:v,built_in:[...y,...C,"set","shopt",...x,...O]},contains:[m,t.SHEBANG(),g,h,s,o,b,a,l,c,d,n]}}function kke(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",a={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{match:/\b(0b[01']+)/},{match:/(-?)\b([\d']+(\.[\d']*)?|\.[\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)/},{match:/(-?)\b(0[xX][a-fA-F0-9]+(?:'[a-fA-F0-9]+)*(?:\.[a-fA-F0-9]*(?:'[a-fA-F0-9]*)*)?(?:[pP][-+]?[0-9]+)?(l|L)?(u|U)?)/},{match:/(-?)\b\d+(?:'\d+)*(?:\.\d*(?:'\d*)*)?(?:[eE][-+]?\d+)?/}],relevance:0},h={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef elifdef elifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},f={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},m=e.optional(i)+t.IDENT_RE+"\\s*\\(",v={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","typeof","typeof_unqual","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_BitInt","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal96","_Decimal128","_Decimal64x","_Decimal128x","_Float16","_Float32","_Float64","_Float128","_Float32x","_Float64x","_Float128x","const","static","constexpr","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},b=[h,a,n,t.C_BLOCK_COMMENT_MODE,d,c],y={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:v,contains:b.concat([{begin:/\(/,end:/\)/,keywords:v,contains:b.concat(["self"]),relevance:0}]),relevance:0},C={begin:"("+o+"[\\*&\\s]+)+"+m,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:v,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:v,relevance:0},{begin:m,returnBegin:!0,contains:[t.inherit(f,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:v,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,c,d,a,{begin:/\(/,end:/\)/,keywords:v,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,c,d,a]}]},a,n,t.C_BLOCK_COMMENT_MODE,h]};return{name:"C",aliases:["h"],keywords:v,disableAutodetect:!0,illegal:"</",contains:[].concat(y,C,b,[h,{begin:t.IDENT_RE+"::",keywords:v},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},t.TITLE_MODE]}]),exports:{preprocessor:h,strings:c,keywords:v}}}function Ske(t){const e=t.regex,n=t.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="(?!struct)("+r+"|"+e.optional(i)+"[a-zA-Z_]\\w*"+e.optional("<[^<>]+>")+")",a={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},c={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},t.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},d={className:"number",variants:[{begin:"[+-]?(?:(?:[0-9](?:'?[0-9])*\\.(?:[0-9](?:'?[0-9])*)?|\\.[0-9](?:'?[0-9])*)(?:[Ee][+-]?[0-9](?:'?[0-9])*)?|[0-9](?:'?[0-9])*[Ee][+-]?[0-9](?:'?[0-9])*|0[Xx](?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*(?:\\.(?:[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)?)?|\\.[0-9A-Fa-f](?:'?[0-9A-Fa-f])*)[Pp][+-]?[0-9](?:'?[0-9])*)(?:[Ff](?:16|32|64|128)?|(BF|bf)16|[Ll]|)"},{begin:"[+-]?\\b(?:0[Bb][01](?:'?[01])*|0[Xx][0-9A-Fa-f](?:'?[0-9A-Fa-f])*|0(?:'?[0-7])*|[1-9](?:'?[0-9])*)(?:[Uu](?:LL?|ll?)|[Uu][Zz]?|(?:LL?|ll?)[Uu]?|[Zz][Uu]|)"}],relevance:0},h={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(c,{className:"string"}),{className:"string",begin:/<.*?>/},n,t.C_BLOCK_COMMENT_MODE]},f={className:"title",begin:e.optional(i)+t.IDENT_RE,relevance:0},m=e.optional(i)+t.IDENT_RE+"\\s*\\(",g=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],p=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],v=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","flat_map","flat_set","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],b=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],x={type:p,keyword:g,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:v},O={className:"function.dispatch",relevance:0,keywords:{_hint:b},begin:e.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,t.IDENT_RE,e.lookahead(/(<[^<>]+>|)\s*\(/))},S=[O,h,a,n,t.C_BLOCK_COMMENT_MODE,d,c],T={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:x,contains:S.concat([{begin:/\(/,end:/\)/,keywords:x,contains:S.concat(["self"]),relevance:0}]),relevance:0},$={className:"function",begin:"("+o+"[\\*&\\s]+)+"+m,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:x,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:x,relevance:0},{begin:m,returnBegin:!0,contains:[f],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[c,d]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:x,relevance:0,contains:[n,t.C_BLOCK_COMMENT_MODE,c,d,a,{begin:/\(/,end:/\)/,keywords:x,relevance:0,contains:["self",n,t.C_BLOCK_COMMENT_MODE,c,d,a]}]},a,n,t.C_BLOCK_COMMENT_MODE,h]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:x,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(T,$,O,S,[h,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function|flat_map|flat_set)\\s*<(?!<)",end:">",keywords:x,contains:["self",a]},{begin:t.IDENT_RE+"::",keywords:x},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function xke(t){const e=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],n=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],r=["default","false","null","true"],i=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],s=["add","alias","and","ascending","args","async","await","by","descending","dynamic","equals","file","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","record","remove","required","scoped","select","set","unmanaged","value|0","var","when","where","with","yield"],o={keyword:i.concat(s),built_in:e,literal:r},a=t.inherit(t.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),l={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},c={className:"string",begin:/"""("*)(?!")(.|\n)*?"""\1/,relevance:1},d={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},h=t.inherit(d,{illegal:/\n/}),f={className:"subst",begin:/\{/,end:/\}/,keywords:o},m=t.inherit(f,{illegal:/\n/}),g={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},t.BACKSLASH_ESCAPE,m]},p={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},f]},v=t.inherit(p,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},m]});f.contains=[p,g,d,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,l,t.C_BLOCK_COMMENT_MODE],m.contains=[v,g,h,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,l,t.inherit(t.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const b={variants:[c,p,g,d,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},y={begin:"<",end:">",contains:[{beginKeywords:"in out"},a]},C=t.IDENT_RE+"(<"+t.IDENT_RE+"(\\s*,\\s*"+t.IDENT_RE+")*>)?(\\[\\])?",x={begin:"@"+t.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:o,illegal:/::/,contains:[t.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},b,l,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},a,y,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[a,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[a,y,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+C+"\\s+)+"+t.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:o,contains:[{beginKeywords:n.join(" "),relevance:0},{begin:t.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[t.TITLE_MODE,y],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,relevance:0,contains:[b,l,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},x]}}const _ke=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),Cke=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Eke=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],Tke=[...Cke,...Eke],Dke=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Ake=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),Pke=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),Rke=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function Mke(t){const e=t.regex,n=_ke(t),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i="and or not only",s=/@-?\w[\w]*(-\w+)*/,o="[a-zA-Z-][a-zA-Z0-9_-]*",a=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,r,n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+o,relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+Ake.join("|")+")"},{begin:":(:)?("+Pke.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Rke.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE,...a,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...a,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},n.FUNCTION_DISPATCH]},{begin:e.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:s},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:Dke.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...a,n.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+Tke.join("|")+")\\b"}]}}function Ike(t){const e=t.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:e.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:e.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function $ke(t){const s={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:s,illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{className:"string",variants:[t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[t.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:s,illegal:/["']/}]}]}}function Lke(t){const e=t.regex,n=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[t.HASH_COMMENT_MODE,t.QUOTE_STRING_MODE,t.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:e.concat(n,e.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function Nke(t){const e=t.regex,n={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:t.NUMBER_RE}]},r=t.COMMENT();r.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];const i={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},s={className:"literal",begin:/\bon|off|true|false|yes|no\b/},o={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},a={begin:/\[/,end:/\]/,contains:[r,s,i,o,n,"self"],relevance:0},l=/[A-Za-z0-9_-]+/,c=/"(\\"|[^"])*"/,d=/'[^']*'/,h=e.either(l,c,d),f=e.concat(h,"(\\s*\\.\\s*",h,")*",e.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[r,{className:"section",begin:/\[+/,end:/\]+/},{begin:f,className:"attr",starts:{end:/$/,contains:[r,a,s,i,o,n]}}]}}var Ff="[0-9](_*[0-9])*",z1=`\\.(${Ff})`,Q1="[0-9a-fA-F](_*[0-9a-fA-F])*",kA={className:"number",variants:[{begin:`(\\b(${Ff})((${z1})|\\.)?|(${z1}))[eE][+-]?(${Ff})[fFdD]?\\b`},{begin:`\\b(${Ff})((${z1})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${z1})[fFdD]?\\b`},{begin:`\\b(${Ff})[fFdD]\\b`},{begin:`\\b0[xX]((${Q1})\\.?|(${Q1})?\\.(${Q1}))[pP][+-]?(${Ff})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Q1})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function yQ(t,e,n){return n===-1?"":t.replace(e,r=>yQ(t,e,n-1))}function Fke(t){const e=t.regex,n="[-a-zA-Z_$][-a-zA-Z_$0-9]*",r=n+yQ("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),l={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},c={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},d={className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[t.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:l,illegal:/<\/|#/,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[t.BACKSLASH_ESCAPE]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[e.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[d,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",t.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:l,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[c,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,kA,t.C_BLOCK_COMMENT_MODE]},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},kA,c]}}const SA="[A-Za-z$_][0-9A-Za-z$_]*",Bke=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],zke=["true","false","null","undefined","NaN","Infinity"],OQ=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],wQ=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],kQ=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Qke=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Uke=[].concat(kQ,OQ,wQ);function Vke(t){const e=t.regex,n=(re,{after:Q})=>{const D="</"+re[0].slice(1);return re.input.indexOf(D,Q)!==-1},r=SA,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(re,Q)=>{const D=re[0].length+re.index,se=re.input[D];if(se==="<"||se===","){Q.ignoreMatch();return}se===">"&&(n(re,{after:D})||Q.ignoreMatch());let he;const E=re.input.substring(D);if(he=E.match(/^\s*=/)){Q.ignoreMatch();return}if((he=E.match(/^\s+extends\s+/))&&he.index===0){Q.ignoreMatch();return}}},a={$pattern:SA,keyword:Bke,literal:zke,built_in:Uke,"variable.language":Qke},l="[0-9](_?[0-9])*",c=`\\.(${l})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",h={className:"number",variants:[{begin:`(\\b(${d})((${c})|\\.)?|(${c}))[eE][+-]?(${l})\\b`},{begin:`\\b(${d})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},f={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},m={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,f],subLanguage:"xml"}},g={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,f],subLanguage:"css"}},p={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,f],subLanguage:"graphql"}},v={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,f]},y={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},C=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,m,g,p,v,{match:/\$\d+/},h];f.contains=C.concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(C)});const x=[].concat(y,f.contains),O=x.concat([{begin:/(\s*)\(/,end:/\)/,keywords:a,contains:["self"].concat(x)}]),S={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:O},T={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},$={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...OQ,...wQ]}},M={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},P={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[S],illegal:/%/},L={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function j(re){return e.concat("(?!",re.join("|"),")")}const te={match:e.concat(/\b/,j([...kQ,"super","import"].map(re=>`${re}\\s*\\(`)),r,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},U={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},N={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},S]},z="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",K={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(z)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[S]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:O,CLASS_REFERENCE:$},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),M,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,m,g,p,v,y,{match:/\$\d+/},h,$,{scope:"attr",match:r+e.lookahead(":"),relevance:0},K,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[y,t.REGEXP_MODE,{className:"function",begin:z,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:O}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},P,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[S,t.inherit(t.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},U,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[S]},te,L,T,N,{match:/\$[(.]/}]}}function jke(t){const e={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],i={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:r},contains:[e,n,t.QUOTE_STRING_MODE,i,t.C_NUMBER_MODE,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var Bf="[0-9](_*[0-9])*",U1=`\\.(${Bf})`,V1="[0-9a-fA-F](_*[0-9a-fA-F])*",qke={className:"number",variants:[{begin:`(\\b(${Bf})((${U1})|\\.)?|(${U1}))[eE][+-]?(${Bf})[fFdD]?\\b`},{begin:`\\b(${Bf})((${U1})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${U1})[fFdD]?\\b`},{begin:`\\b(${Bf})[fFdD]\\b`},{begin:`\\b0[xX]((${V1})\\.?|(${V1})?\\.(${V1}))[pP][+-]?(${Bf})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${V1})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function Hke(t){const e={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},n={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},r={className:"symbol",begin:t.UNDERSCORE_IDENT_RE+"@"},i={className:"subst",begin:/\$\{/,end:/\}/,contains:[t.C_NUMBER_MODE]},s={className:"variable",begin:"\\$"+t.UNDERSCORE_IDENT_RE},o={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[s,i]},{begin:"'",end:"'",illegal:/\n/,contains:[t.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[t.BACKSLASH_ESCAPE,s,i]}]};i.contains.push(o);const a={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+t.UNDERSCORE_IDENT_RE+")?"},l={className:"meta",begin:"@"+t.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[t.inherit(o,{className:"string"}),"self"]}]},c=qke,d=t.COMMENT("/\\*","\\*/",{contains:[t.C_BLOCK_COMMENT_MODE]}),h={variants:[{className:"type",begin:t.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},f=h;return f.variants[1].contains=[h],h.variants[1].contains=[f],{name:"Kotlin",aliases:["kt","kts"],keywords:e,contains:[t.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),t.C_LINE_COMMENT_MODE,d,n,r,a,l,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:e,relevance:5,contains:[{begin:t.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[t.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:e,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[h,t.C_LINE_COMMENT_MODE,d],relevance:0},t.C_LINE_COMMENT_MODE,d,a,l,o,t.C_NUMBER_MODE]},d]},{begin:[/class|interface|trait/,/\s+/,t.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},t.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},a,l]},o,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},c]}}const Wke=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),Xke=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Yke=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],Gke=[...Xke,...Yke],Zke=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),SQ=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),xQ=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),Kke=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse(),Jke=SQ.concat(xQ).sort().reverse();function eSe(t){const e=Wke(t),n=Jke,r="and or not only",i="[\\w-]+",s="("+i+"|@\\{"+i+"\\})",o=[],a=[],l=function(C){return{className:"string",begin:"~?"+C+".*?"+C}},c=function(C,x,O){return{className:C,begin:x,relevance:O}},d={$pattern:/[a-z-]+/,keyword:r,attribute:Zke.join(" ")},h={begin:"\\(",end:"\\)",contains:a,keywords:d,relevance:0};a.push(t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,l("'"),l('"'),e.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},e.HEXCOLOR,h,c("variable","@@?"+i,10),c("variable","@\\{"+i+"\\}"),c("built_in","~?`[^`]*?`"),{className:"attribute",begin:i+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},e.IMPORTANT,{beginKeywords:"and not"},e.FUNCTION_DISPATCH);const f=a.concat({begin:/\{/,end:/\}/,contains:o}),m={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(a)},g={begin:s+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Kke.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:a}}]},p={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:d,returnEnd:!0,contains:a,relevance:0}},v={className:"variable",variants:[{begin:"@"+i+"\\s*:",relevance:15},{begin:"@"+i}],starts:{end:"[;}]",returnEnd:!0,contains:f}},b={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:s,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,m,c("keyword","all\\b"),c("variable","@\\{"+i+"\\}"),{begin:"\\b("+Gke.join("|")+")\\b",className:"selector-tag"},e.CSS_NUMBER_MODE,c("selector-tag",s,0),c("selector-id","#"+s),c("selector-class","\\."+s,0),c("selector-tag","&",0),e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+SQ.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+xQ.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:f},{begin:"!important"},e.FUNCTION_DISPATCH]},y={begin:i+`:(:)?(${n.join("|")})`,returnBegin:!0,contains:[b]};return o.push(t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,p,v,y,g,b,m,e.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:o}}function tSe(t){const e="\\[=*\\[",n="\\]=*\\]",r={begin:e,end:n,contains:["self"]},i=[t.COMMENT("--(?!"+e+")","$"),t.COMMENT("--"+e,n,{contains:[r],relevance:10})];return{name:"Lua",aliases:["pluto"],keywords:{$pattern:t.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:i.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[t.inherit(t.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:i}].concat(i)},t.C_NUMBER_MODE,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,{className:"string",begin:e,end:n,contains:[r],relevance:5}])}}function nSe(t){const e={className:"variable",variants:[{begin:"\\$\\("+t.UNDERSCORE_IDENT_RE+"\\)",contains:[t.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},n={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,e]},r={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[e,n]},i={begin:"^"+t.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},s={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},o={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[e]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[t.HASH_COMMENT_MODE,e,n,r,i,s,o]}}function rSe(t){const e=t.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={begin:"^[-\\*]{3,}",end:"$"},i={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},s={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},o={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},a=/[A-Za-z][A-Za-z0-9+.-]*/,l={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:e.concat(/\[.+?\]\(/,a,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},c={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},d={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},h=t.inherit(c,{contains:[]}),f=t.inherit(d,{contains:[]});c.contains.push(f),d.contains.push(h);let m=[n,l];return[c,d,h,f].forEach(b=>{b.contains=b.contains.concat(m)}),m=m.concat(c,d),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:m},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:m}]}]},n,s,c,d,{className:"quote",begin:"^>\\s+",contains:m,end:"$"},i,r,l,o,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}function iSe(t){const e={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},n=/[a-zA-Z@][a-zA-Z0-9_]*/,a={"variable.language":["this","super"],$pattern:n,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},l={$pattern:n,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:a,illegal:"</",contains:[e,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,t.C_NUMBER_MODE,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+l.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:l,contains:[t.UNDERSCORE_TITLE_MODE]},{begin:"\\."+t.UNDERSCORE_IDENT_RE,relevance:0}]}}function sSe(t){const e=t.regex,n=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","class","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","field","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","method","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],r=/[dualxmsipngr]{0,12}/,i={$pattern:/[\w.]+/,keyword:n.join(" ")},s={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:i},o={begin:/->\{/,end:/\}/},a={scope:"attr",match:/\s+:\s*\w+(\s*\(.*?\))?/},l={scope:"variable",variants:[{begin:/\$\d/},{begin:e.concat(/[$%@](?!")(\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@](?!")[^\s\w{=]|\$=/,relevance:0}],contains:[a]},c={className:"number",variants:[{match:/0?\.[0-9][0-9_]+\b/},{match:/\bv?(0|[1-9][0-9_]*(\.[0-9_]+)?|[1-9][0-9_]*)\b/},{match:/\b0[0-7][0-7_]*\b/},{match:/\b0x[0-9a-fA-F][0-9a-fA-F_]*\b/},{match:/\b0b[0-1][0-1_]*\b/}],relevance:0},d=[t.BACKSLASH_ESCAPE,s,l],h=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],f=(p,v,b="\\1")=>{const y=b==="\\1"?b:e.concat(b,v);return e.concat(e.concat("(?:",p,")"),v,/(?:\\.|[^\\\/])*?/,y,/(?:\\.|[^\\\/])*?/,b,r)},m=(p,v,b)=>e.concat(e.concat("(?:",p,")"),v,/(?:\\.|[^\\\/])*?/,b,r),g=[l,t.HASH_COMMENT_MODE,t.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),o,{className:"string",contains:d,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[t.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},c,{begin:"(\\/\\/|"+t.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[t.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:f("s|tr|y",e.either(...h,{capture:!0}))},{begin:f("s|tr|y","\\(","\\)")},{begin:f("s|tr|y","\\[","\\]")},{begin:f("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:m("(?:m|qr)?",/\//,/\//)},{begin:m("m|qr",e.either(...h,{capture:!0}),/\1/)},{begin:m("m|qr",/\(/,/\)/)},{begin:m("m|qr",/\[/,/\]/)},{begin:m("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub method",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[t.TITLE_MODE,a]},{className:"class",beginKeywords:"class",end:"[;{]",excludeEnd:!0,relevance:5,contains:[t.TITLE_MODE,a,c]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return s.contains=g,o.contains=g,{name:"Perl",aliases:["pl","pm"],keywords:i,contains:g}}function oSe(t){const e=t.regex,n=/(?![A-Za-z0-9])(?![$])/,r=e.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),i=e.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),s=e.concat(/[A-Z]+/,n),o={scope:"variable",match:"\\$+"+r},a={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},l={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},c=t.inherit(t.APOS_STRING_MODE,{illegal:null}),d=t.inherit(t.QUOTE_STRING_MODE,{illegal:null,contains:t.QUOTE_STRING_MODE.contains.concat(l)}),h={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:t.QUOTE_STRING_MODE.contains.concat(l),"on:begin":(U,N)=>{N.data._beginMatch=U[1]||U[2]},"on:end":(U,N)=>{N.data._beginMatch!==U[1]&&N.ignoreMatch()}},f=t.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),m=`[ 	
]`,g={scope:"string",variants:[d,c,h,f]},p={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},v=["false","null","true"],b=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],y=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],x={keyword:b,literal:(U=>{const N=[];return U.forEach(z=>{N.push(z),z.toLowerCase()===z?N.push(z.toUpperCase()):N.push(z.toLowerCase())}),N})(v),built_in:y},O=U=>U.map(N=>N.replace(/\|\d+$/,"")),S={variants:[{match:[/new/,e.concat(m,"+"),e.concat("(?!",O(y).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},T=e.concat(r,"\\b(?!\\()"),$={variants:[{match:[e.concat(/::/,e.lookahead(/(?!class\b)/)),T],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,e.concat(/::/,e.lookahead(/(?!class\b)/)),T],scope:{1:"title.class",3:"variable.constant"}},{match:[i,e.concat("::",e.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},M={scope:"attr",match:e.concat(r,e.lookahead(":"),e.lookahead(/(?!::)/))},P={relevance:0,begin:/\(/,end:/\)/,keywords:x,contains:[M,o,$,t.C_BLOCK_COMMENT_MODE,g,p,S]},L={relevance:0,match:[/\b/,e.concat("(?!fn\\b|function\\b|",O(b).join("\\b|"),"|",O(y).join("\\b|"),"\\b)"),r,e.concat(m,"*"),e.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[P]};P.contains.push(L);const j=[M,$,t.C_BLOCK_COMMENT_MODE,g,p,S],te={begin:e.concat(/#\[\s*\\?/,e.either(i,s)),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:v,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:v,keyword:["new","array"]},contains:["self",...j]},...j,{scope:"meta",variants:[{match:i},{match:s}]}]};return{case_insensitive:!1,keywords:x,contains:[te,t.HASH_COMMENT_MODE,t.COMMENT("//","$"),t.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:t.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},a,{scope:"variable.language",match:/\$this\b/},o,L,$,{match:[/const/,/\s/,r],scope:{1:"keyword",3:"variable.constant"}},S,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},t.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:x,contains:["self",te,o,$,t.C_BLOCK_COMMENT_MODE,g,p]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},t.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[t.inherit(t.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},t.UNDERSCORE_TITLE_MODE]},g,p]}}function aSe(t){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},t.inherit(t.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),t.inherit(t.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function lSe(t){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function cSe(t){const e=t.regex,n=/[\p{XID_Start}_]\p{XID_Continue}*/u,r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],a={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},l={className:"meta",begin:/^(>>>|\.\.\.) /},c={className:"subst",begin:/\{/,end:/\}/,keywords:a,illegal:/#/},d={begin:/\{\{/,relevance:0},h={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,l,d,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,l,d,c]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[t.BACKSLASH_ESCAPE,d,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,d,c]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},f="[0-9](_?[0-9])*",m=`(\\b(${f}))?\\.(${f})|\\b(${f})\\.`,g=`\\b|${r.join("|")}`,p={className:"number",relevance:0,variants:[{begin:`(\\b(${f})|(${m}))[eE][+-]?(${f})[jJ]?(?=${g})`},{begin:`(${m})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${g})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${g})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${g})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${g})`},{begin:`\\b(${f})[jJ](?=${g})`}]},v={className:"comment",begin:e.lookahead(/# type:/),end:/$/,keywords:a,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},b={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:["self",l,p,h,t.HASH_COMMENT_MODE]}]};return c.contains=[h,p,l],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:a,illegal:/(<\/|\?)|=>/,contains:[l,p,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},h,v,t.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[b]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[p,b,h]}]}}function uSe(t){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function dSe(t){const e=t.regex,n=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,r=e.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),i=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,s=e.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:n,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[t.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:e.lookahead(e.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:n},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),t.HASH_COMMENT_MODE,{scope:"string",contains:[t.BACKSLASH_ESCAPE],variants:[t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),t.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[i,r]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,r]},{scope:{1:"punctuation",2:"number"},match:[s,r]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,r]}]},{scope:{3:"operator"},match:[n,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:i},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:s},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function hSe(t){const e=t.regex,n="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",r=e.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=e.concat(r,/(::\w+)*/),o={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},a={className:"doctag",begin:"@[A-Za-z]+"},l={begin:"#<",end:">"},c=[t.COMMENT("#","$",{contains:[a]}),t.COMMENT("^=begin","^=end",{contains:[a],relevance:10}),t.COMMENT("^__END__",t.MATCH_NOTHING_RE)],d={className:"subst",begin:/#\{/,end:/\}/,keywords:o},h={className:"string",contains:[t.BACKSLASH_ESCAPE,d],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:e.concat(/<<[-~]?'?/,e.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[t.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[t.BACKSLASH_ESCAPE,d]})]}]},f="[1-9](_?[0-9])*|0",m="[0-9](_?[0-9])*",g={className:"number",relevance:0,variants:[{begin:`\\b(${f})(\\.(${m}))?([eE][+-]?(${m})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},p={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:o}]},S=[h,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{match:[/\b(class|module)\s+/,i]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:o},{match:[/(include|extend)\s+/,i],scope:{2:"title.class"},keywords:o},{relevance:0,match:[i,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:r,scope:"title.class"},{match:[/def/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[p]},{begin:t.IDENT_RE+"::"},{className:"symbol",begin:t.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[h,{begin:n}],relevance:0},g,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|(?!=)/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:o},{begin:"("+t.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[t.BACKSLASH_ESCAPE,d],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(l,c),relevance:0}].concat(l,c);d.contains=S,p.contains=S;const P=[{begin:/^\s*=>/,starts:{end:"$",contains:S}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:o,contains:S}}];return c.unshift(l),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:o,illegal:/\/\*/,contains:[t.SHEBANG({binary:"ruby"})].concat(P).concat(c).concat(S)}}function fSe(t){const e=t.regex,n=/(r#)?/,r=e.concat(n,t.UNDERSCORE_IDENT_RE),i=e.concat(n,t.IDENT_RE),s={className:"title.function.invoke",relevance:0,begin:e.concat(/\b/,/(?!let|for|while|if|else|match\b)/,i,e.lookahead(/\s*\(/))},o="([ui](8|16|32|64|128|size)|f(32|64))?",a=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","union","unsafe","unsized","use","virtual","where","while","yield"],l=["true","false","Some","None","Ok","Err"],c=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],d=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:t.IDENT_RE+"!?",type:d,keyword:a,literal:l,built_in:c},illegal:"</",contains:[t.C_LINE_COMMENT_MODE,t.COMMENT("/\\*","\\*/",{contains:["self"]}),t.inherit(t.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*(?!')/},{scope:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'/,end:/'/,contains:[{scope:"char.escape",match:/\\('|\w|x\w{2}|u\w{4}|U\w{8})/}]}]},{className:"number",variants:[{begin:"\\b0b([01_]+)"+o},{begin:"\\b0o([0-7_]+)"+o},{begin:"\\b0x([A-Fa-f0-9_]+)"+o},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+o}],relevance:0},{begin:[/fn/,/\s+/,r],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE]}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,r],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,r,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,r],className:{1:"keyword",3:"title.class"}},{begin:t.IDENT_RE+"::",keywords:{keyword:"Self",built_in:c,type:d}},{className:"punctuation",begin:"->"},s]}}const mSe=t=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:t.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),gSe=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],pSe=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],vSe=[...gSe,...pSe],bSe=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),ySe=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),OSe=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),wSe=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function kSe(t){const e=mSe(t),n=OSe,r=ySe,i="@[a-z-]+",s="and or not only",a={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,e.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},e.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+vSe.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+r.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+n.join("|")+")"},a,{begin:/\(/,end:/\)/,contains:[e.CSS_NUMBER_MODE]},e.CSS_VARIABLE,{className:"attribute",begin:"\\b("+wSe.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[e.BLOCK_COMMENT,a,e.HEXCOLOR,e.CSS_NUMBER_MODE,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,e.IMPORTANT,e.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:i,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:s,attribute:bSe.join(" ")},contains:[{begin:i,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},a,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,e.HEXCOLOR,e.CSS_NUMBER_MODE]},e.FUNCTION_DISPATCH]}}function SSe(t){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function xSe(t){const e=t.regex,n=t.COMMENT("--","$"),r={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},i={begin:/"/,end:/"/,contains:[{match:/""/}]},s=["true","false","unknown"],o=["double precision","large object","with timezone","without timezone"],a=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],l=["add","asc","collation","desc","final","first","last","view"],c=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],d=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],h=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],f=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],m=d,g=[...c,...l].filter(O=>!d.includes(O)),p={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},v={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},b={match:e.concat(/\b/,e.either(...m),/\s*\(/),relevance:0,keywords:{built_in:m}};function y(O){return e.concat(/\b/,e.either(...O.map(S=>S.replace(/\s+/,"\\s+"))),/\b/)}const C={scope:"keyword",match:y(f),relevance:0};function x(O,{exceptions:S,when:T}={}){const $=T;return S=S||[],O.map(M=>M.match(/\|\d+$/)||S.includes(M)?M:$(M)?`${M}|0`:M)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:x(g,{when:O=>O.length<3}),literal:s,type:a,built_in:h},contains:[{scope:"type",match:y(o)},C,b,p,r,i,t.C_NUMBER_MODE,t.C_BLOCK_COMMENT_MODE,n,v]}}function _Q(t){return t?typeof t=="string"?t:t.source:null}function cp(t){return er("(?=",t,")")}function er(...t){return t.map(n=>_Q(n)).join("")}function _Se(t){const e=t[t.length-1];return typeof e=="object"&&e.constructor===Object?(t.splice(t.length-1,1),e):{}}function xs(...t){return"("+(_Se(t).capture?"":"?:")+t.map(r=>_Q(r)).join("|")+")"}const rE=t=>er(/\b/,t,/\w$/.test(t)?/\b/:/\B/),CSe=["Protocol","Type"].map(rE),xA=["init","self"].map(rE),ESe=["Any","Self"],sS=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","package","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],_A=["false","nil","true"],TSe=["assignment","associativity","higherThan","left","lowerThan","none","right"],DSe=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],CA=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],CQ=xs(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),EQ=xs(CQ,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),oS=er(CQ,EQ,"*"),TQ=xs(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),c2=xs(TQ,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),Al=er(TQ,c2,"*"),j1=er(/[A-Z]/,c2,"*"),ASe=["attached","autoclosure",er(/convention\(/,xs("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",er(/objc\(/,Al,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultBuilder","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],PSe=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function RSe(t){const e={match:/\s+/,relevance:0},n=t.COMMENT("/\\*","\\*/",{contains:["self"]}),r=[t.C_LINE_COMMENT_MODE,n],i={match:[/\./,xs(...CSe,...xA)],className:{2:"keyword"}},s={match:er(/\./,xs(...sS)),relevance:0},o=sS.filter(gn=>typeof gn=="string").concat(["_|0"]),a=sS.filter(gn=>typeof gn!="string").concat(ESe).map(rE),l={variants:[{className:"keyword",match:xs(...a,...xA)}]},c={$pattern:xs(/\b\w+/,/#\w+/),keyword:o.concat(DSe),literal:_A},d=[i,s,l],h={match:er(/\./,xs(...CA)),relevance:0},f={className:"built_in",match:er(/\b/,xs(...CA),/(?=\()/)},m=[h,f],g={match:/->/,relevance:0},p={className:"operator",relevance:0,variants:[{match:oS},{match:`\\.(\\.|${EQ})+`}]},v=[g,p],b="([0-9]_*)+",y="([0-9a-fA-F]_*)+",C={className:"number",relevance:0,variants:[{match:`\\b(${b})(\\.(${b}))?([eE][+-]?(${b}))?\\b`},{match:`\\b0x(${y})(\\.(${y}))?([pP][+-]?(${b}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},x=(gn="")=>({className:"subst",variants:[{match:er(/\\/,gn,/[0\\tnr"']/)},{match:er(/\\/,gn,/u\{[0-9a-fA-F]{1,8}\}/)}]}),O=(gn="")=>({className:"subst",match:er(/\\/,gn,/[\t ]*(?:[\r\n]|\r\n)/)}),S=(gn="")=>({className:"subst",label:"interpol",begin:er(/\\/,gn,/\(/),end:/\)/}),T=(gn="")=>({begin:er(gn,/"""/),end:er(/"""/,gn),contains:[x(gn),O(gn),S(gn)]}),$=(gn="")=>({begin:er(gn,/"/),end:er(/"/,gn),contains:[x(gn),S(gn)]}),M={className:"string",variants:[T(),T("#"),T("##"),T("###"),$(),$("#"),$("##"),$("###")]},P=[t.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[t.BACKSLASH_ESCAPE]}],L={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:P},j=gn=>{const Kr=er(gn,/\//),xt=er(/\//,gn);return{begin:Kr,end:xt,contains:[...P,{scope:"comment",begin:`#(?!.*${xt})`,end:/$/}]}},te={scope:"regexp",variants:[j("###"),j("##"),j("#"),L]},U={match:er(/`/,Al,/`/)},N={className:"variable",match:/\$\d+/},z={className:"variable",match:`\\$${c2}+`},K=[U,N,z],re={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:PSe,contains:[...v,C,M]}]}},Q={scope:"keyword",match:er(/@/,xs(...ASe),cp(xs(/\(/,/\s+/)))},D={scope:"meta",match:er(/@/,Al)},se=[re,Q,D],he={match:cp(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:er(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,c2,"+")},{className:"type",match:j1,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:er(/\s+&\s+/,cp(j1)),relevance:0}]},E={begin:/</,end:/>/,keywords:c,contains:[...r,...d,...se,g,he]};he.contains.push(E);const De={match:er(Al,/\s*:/),keywords:"_|0",relevance:0},pe={begin:/\(/,end:/\)/,relevance:0,keywords:c,contains:["self",De,...r,te,...d,...m,...v,C,M,...K,...se,he]},ct={begin:/</,end:/>/,keywords:"repeat each",contains:[...r,he]},Mt={begin:xs(cp(er(Al,/\s*:/)),cp(er(Al,/\s+/,Al,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:Al}]},At={begin:/\(/,end:/\)/,keywords:c,contains:[Mt,...r,...d,...v,C,M,...se,he,pe],endsParent:!0,illegal:/["']/},on={match:[/(func|macro)/,/\s+/,xs(U.match,Al,oS)],className:{1:"keyword",3:"title.function"},contains:[ct,At,e],illegal:[/\[/,/%/]},Wt={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[ct,At,e],illegal:/\[|%/},bn={match:[/operator/,/\s+/,oS],className:{1:"keyword",3:"title"}},Or={begin:[/precedencegroup/,/\s+/,j1],className:{1:"keyword",3:"title"},contains:[he],keywords:[...TSe,..._A],end:/}/},dr={match:[/class\b/,/\s+/,/func\b/,/\s+/,/\b[A-Za-z_][A-Za-z0-9_]*\b/],scope:{1:"keyword",3:"keyword",5:"title.function"}},ui={match:[/class\b/,/\s+/,/var\b/],scope:{1:"keyword",3:"keyword"}},$n={begin:[/(struct|protocol|class|extension|enum|actor)/,/\s+/,Al,/\s*/],beginScope:{1:"keyword",3:"title.class"},keywords:c,contains:[ct,...d,{begin:/:/,end:/\{/,keywords:c,contains:[{scope:"title.class.inherited",match:j1},...d],relevance:0}]};for(const gn of M.variants){const Kr=gn.contains.find(Si=>Si.label==="interpol");Kr.keywords=c;const xt=[...d,...m,...v,C,M,...K];Kr.contains=[...xt,{begin:/\(/,end:/\)/,contains:["self",...xt]}]}return{name:"Swift",keywords:c,contains:[...r,on,Wt,dr,ui,$n,bn,Or,{beginKeywords:"import",end:/$/,contains:[...r],relevance:0},te,...d,...m,...v,C,M,...K,...se,he,pe]}}const u2="[A-Za-z$_][0-9A-Za-z$_]*",DQ=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],AQ=["true","false","null","undefined","NaN","Infinity"],PQ=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],RQ=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],MQ=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],IQ=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],$Q=[].concat(MQ,PQ,RQ);function MSe(t){const e=t.regex,n=(re,{after:Q})=>{const D="</"+re[0].slice(1);return re.input.indexOf(D,Q)!==-1},r=u2,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(re,Q)=>{const D=re[0].length+re.index,se=re.input[D];if(se==="<"||se===","){Q.ignoreMatch();return}se===">"&&(n(re,{after:D})||Q.ignoreMatch());let he;const E=re.input.substring(D);if(he=E.match(/^\s*=/)){Q.ignoreMatch();return}if((he=E.match(/^\s+extends\s+/))&&he.index===0){Q.ignoreMatch();return}}},a={$pattern:u2,keyword:DQ,literal:AQ,built_in:$Q,"variable.language":IQ},l="[0-9](_?[0-9])*",c=`\\.(${l})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",h={className:"number",variants:[{begin:`(\\b(${d})((${c})|\\.)?|(${c}))[eE][+-]?(${l})\\b`},{begin:`\\b(${d})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},f={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},m={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,f],subLanguage:"xml"}},g={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,f],subLanguage:"css"}},p={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[t.BACKSLASH_ESCAPE,f],subLanguage:"graphql"}},v={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,f]},y={className:"comment",variants:[t.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]},C=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,m,g,p,v,{match:/\$\d+/},h];f.contains=C.concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(C)});const x=[].concat(y,f.contains),O=x.concat([{begin:/(\s*)\(/,end:/\)/,keywords:a,contains:["self"].concat(x)}]),S={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:O},T={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,e.concat(r,"(",e.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},$={relevance:0,match:e.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...PQ,...RQ]}},M={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},P={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[S],illegal:/%/},L={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function j(re){return e.concat("(?!",re.join("|"),")")}const te={match:e.concat(/\b/,j([...MQ,"super","import"].map(re=>`${re}\\s*\\(`)),r,e.lookahead(/\s*\(/)),className:"title.function",relevance:0},U={begin:e.concat(/\./,e.lookahead(e.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},N={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},S]},z="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+t.UNDERSCORE_IDENT_RE+")\\s*=>",K={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,e.lookahead(z)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[S]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:O,CLASS_REFERENCE:$},illegal:/#(?![$_A-z])/,contains:[t.SHEBANG({label:"shebang",binary:"node",relevance:5}),M,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,m,g,p,v,y,{match:/\$\d+/},h,$,{scope:"attr",match:r+e.lookahead(":"),relevance:0},K,{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[y,t.REGEXP_MODE,{className:"function",begin:z,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:t.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:O}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},P,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+t.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[S,t.inherit(t.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},U,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[S]},te,L,T,N,{match:/\$[(.]/}]}}function ISe(t){const e=t.regex,n=MSe(t),r=u2,i=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],s={begin:[/namespace/,/\s+/,t.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},o={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:i},contains:[n.exports.CLASS_REFERENCE]},a={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},l=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],c={$pattern:u2,keyword:DQ.concat(l),literal:AQ,built_in:$Q.concat(i),"variable.language":IQ},d={className:"meta",begin:"@"+r},h=(p,v,b)=>{const y=p.contains.findIndex(C=>C.label===v);if(y===-1)throw new Error("can not find mode to replace");p.contains.splice(y,1,b)};Object.assign(n.keywords,c),n.exports.PARAMS_CONTAINS.push(d);const f=n.contains.find(p=>p.scope==="attr"),m=Object.assign({},f,{match:e.concat(r,e.lookahead(/\s*\?:/))});n.exports.PARAMS_CONTAINS.push([n.exports.CLASS_REFERENCE,f,m]),n.contains=n.contains.concat([d,s,o,m]),h(n,"shebang",t.SHEBANG()),h(n,"use_strict",a);const g=n.contains.find(p=>p.label==="func.def");return g.relevance=0,Object.assign(n,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),n}function $Se(t){const e=t.regex,n={className:"string",begin:/"(""|[^/n])"C\b/},r={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},i=/\d{1,2}\/\d{1,2}\/\d{4}/,s=/\d{4}-\d{1,2}-\d{1,2}/,o=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,a=/\d{1,2}(:\d{1,2}){1,2}/,l={className:"literal",variants:[{begin:e.concat(/# */,e.either(s,i),/ *#/)},{begin:e.concat(/# */,a,/ *#/)},{begin:e.concat(/# */,o,/ *#/)},{begin:e.concat(/# */,e.either(s,i),/ +/,e.either(o,a),/ *#/)}]},c={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},d={className:"label",begin:/^\w+:/},h=t.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),f=t.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[n,r,l,c,d,h,f,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[f]}]}}function LSe(t){t.regex;const e=t.COMMENT(/\(;/,/;\)/);e.contains.push("self");const n=t.COMMENT(/;;/,/$/),r=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],i={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},s={className:"variable",begin:/\$[\w_]+/},o={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},a={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},l={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},c={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:r},contains:[n,e,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},s,o,i,t.QUOTE_STRING_MODE,l,c,a]}}function NSe(t){const e=t.regex,n=e.concat(/[\p{L}_]/u,e.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},s={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},o=t.inherit(s,{begin:/\(/,end:/\)/}),a=t.inherit(t.APOS_STRING_MODE,{className:"string"}),l=t.inherit(t.QUOTE_STRING_MODE,{className:"string"}),c={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[s,l,a,o,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[s,o,l,a]}]}]},t.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[l]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[c],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[c],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:e.concat(/</,e.lookahead(e.concat(n,e.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:c}]},{className:"tag",begin:e.concat(/<\//,e.lookahead(e.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function FSe(t){const e="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"attr",variants:[{begin:/[\w*@][\w*@ :()\./-]*:(?=[ \t]|$)/},{begin:/"[\w*@][\w*@ :()\./-]*":(?=[ \t]|$)/},{begin:/'[\w*@][\w*@ :()\./-]*':(?=[ \t]|$)/}]},i={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},s={className:"string",relevance:0,begin:/'/,end:/'/,contains:[{match:/''/,scope:"char.escape",relevance:0}]},o={className:"string",relevance:0,variants:[{begin:/"/,end:/"/},{begin:/\S+/}],contains:[t.BACKSLASH_ESCAPE,i]},a=t.inherit(o,{variants:[{begin:/'/,end:/'/,contains:[{begin:/''/,relevance:0}]},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),f={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},m={end:",",endsWithParent:!0,excludeEnd:!0,keywords:e,relevance:0},g={begin:/\{/,end:/\}/,contains:[m],illegal:"\\n",relevance:0},p={begin:"\\[",end:"\\]",contains:[m],illegal:"\\n",relevance:0},v=[r,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+t.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+t.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},t.HASH_COMMENT_MODE,{beginKeywords:e,keywords:{literal:e}},f,{className:"number",begin:t.C_NUMBER_RE+"\\b",relevance:0},g,p,s,o],b=[...v];return b.pop(),b.push(a),m.contains=b,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:v}}const BSe={arduino:Oke,bash:wke,c:kke,cpp:Ske,csharp:xke,css:Mke,diff:Ike,go:$ke,graphql:Lke,ini:Nke,java:Fke,javascript:Vke,json:jke,kotlin:Hke,less:eSe,lua:tSe,makefile:nSe,markdown:rSe,objectivec:iSe,perl:sSe,php:oSe,"php-template":aSe,plaintext:lSe,python:cSe,"python-repl":uSe,r:dSe,ruby:hSe,rust:fSe,scss:kSe,shell:SSe,sql:xSe,swift:RSe,typescript:ISe,vbnet:$Se,wasm:LSe,xml:NSe,yaml:FSe};function LQ(t){return t instanceof Map?t.clear=t.delete=t.set=function(){throw new Error("map is read-only")}:t instanceof Set&&(t.add=t.clear=t.delete=function(){throw new Error("set is read-only")}),Object.freeze(t),Object.getOwnPropertyNames(t).forEach(e=>{const n=t[e],r=typeof n;(r==="object"||r==="function")&&!Object.isFrozen(n)&&LQ(n)}),t}class EA{constructor(e){e.data===void 0&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function NQ(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Yu(t,...e){const n=Object.create(null);for(const r in t)n[r]=t[r];return e.forEach(function(r){for(const i in r)n[i]=r[i]}),n}const zSe="</span>",TA=t=>!!t.scope,QSe=(t,{prefix:e})=>{if(t.startsWith("language:"))return t.replace("language:","language-");if(t.includes(".")){const n=t.split(".");return[`${e}${n.shift()}`,...n.map((r,i)=>`${r}${"_".repeat(i+1)}`)].join(" ")}return`${e}${t}`};class USe{constructor(e,n){this.buffer="",this.classPrefix=n.classPrefix,e.walk(this)}addText(e){this.buffer+=NQ(e)}openNode(e){if(!TA(e))return;const n=QSe(e.scope,{prefix:this.classPrefix});this.span(n)}closeNode(e){TA(e)&&(this.buffer+=zSe)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}const DA=(t={})=>{const e={children:[]};return Object.assign(e,t),e};class iE{constructor(){this.rootNode=DA(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const n=DA({scope:e});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,n){return typeof n=="string"?e.addText(n):n.children&&(e.openNode(n),n.children.forEach(r=>this._walk(e,r)),e.closeNode(n)),e}static _collapse(e){typeof e!="string"&&e.children&&(e.children.every(n=>typeof n=="string")?e.children=[e.children.join("")]:e.children.forEach(n=>{iE._collapse(n)}))}}class VSe extends iE{constructor(e){super(),this.options=e}addText(e){e!==""&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,n){const r=e.root;n&&(r.scope=`language:${n}`),this.add(r)}toHTML(){return new USe(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function Z0(t){return t?typeof t=="string"?t:t.source:null}function FQ(t){return of("(?=",t,")")}function jSe(t){return of("(?:",t,")*")}function qSe(t){return of("(?:",t,")?")}function of(...t){return t.map(n=>Z0(n)).join("")}function HSe(t){const e=t[t.length-1];return typeof e=="object"&&e.constructor===Object?(t.splice(t.length-1,1),e):{}}function sE(...t){return"("+(HSe(t).capture?"":"?:")+t.map(r=>Z0(r)).join("|")+")"}function BQ(t){return new RegExp(t.toString()+"|").exec("").length-1}function WSe(t,e){const n=t&&t.exec(e);return n&&n.index===0}const XSe=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function oE(t,{joinWith:e}){let n=0;return t.map(r=>{n+=1;const i=n;let s=Z0(r),o="";for(;s.length>0;){const a=XSe.exec(s);if(!a){o+=s;break}o+=s.substring(0,a.index),s=s.substring(a.index+a[0].length),a[0][0]==="\\"&&a[1]?o+="\\"+String(Number(a[1])+i):(o+=a[0],a[0]==="("&&n++)}return o}).map(r=>`(${r})`).join(e)}const YSe=/\b\B/,zQ="[a-zA-Z]\\w*",aE="[a-zA-Z_]\\w*",QQ="\\b\\d+(\\.\\d+)?",UQ="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",VQ="\\b(0b[01]+)",GSe="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",ZSe=(t={})=>{const e=/^#![ ]*\//;return t.binary&&(t.begin=of(e,/.*\b/,t.binary,/\b.*/)),Yu({scope:"meta",begin:e,end:/$/,relevance:0,"on:begin":(n,r)=>{n.index!==0&&r.ignoreMatch()}},t)},K0={begin:"\\\\[\\s\\S]",relevance:0},KSe={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[K0]},JSe={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[K0]},e4e={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},zO=function(t,e,n={}){const r=Yu({scope:"comment",begin:t,end:e,contains:[]},n);r.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const i=sE("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return r.contains.push({begin:of(/[ ]+/,"(",i,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),r},t4e=zO("//","$"),n4e=zO("/\\*","\\*/"),r4e=zO("#","$"),i4e={scope:"number",begin:QQ,relevance:0},s4e={scope:"number",begin:UQ,relevance:0},o4e={scope:"number",begin:VQ,relevance:0},a4e={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[K0,{begin:/\[/,end:/\]/,relevance:0,contains:[K0]}]},l4e={scope:"title",begin:zQ,relevance:0},c4e={scope:"title",begin:aE,relevance:0},u4e={begin:"\\.\\s*"+aE,relevance:0},d4e=function(t){return Object.assign(t,{"on:begin":(e,n)=>{n.data._beginMatch=e[1]},"on:end":(e,n)=>{n.data._beginMatch!==e[1]&&n.ignoreMatch()}})};var q1=Object.freeze({__proto__:null,APOS_STRING_MODE:KSe,BACKSLASH_ESCAPE:K0,BINARY_NUMBER_MODE:o4e,BINARY_NUMBER_RE:VQ,COMMENT:zO,C_BLOCK_COMMENT_MODE:n4e,C_LINE_COMMENT_MODE:t4e,C_NUMBER_MODE:s4e,C_NUMBER_RE:UQ,END_SAME_AS_BEGIN:d4e,HASH_COMMENT_MODE:r4e,IDENT_RE:zQ,MATCH_NOTHING_RE:YSe,METHOD_GUARD:u4e,NUMBER_MODE:i4e,NUMBER_RE:QQ,PHRASAL_WORDS_MODE:e4e,QUOTE_STRING_MODE:JSe,REGEXP_MODE:a4e,RE_STARTERS_RE:GSe,SHEBANG:ZSe,TITLE_MODE:l4e,UNDERSCORE_IDENT_RE:aE,UNDERSCORE_TITLE_MODE:c4e});function h4e(t,e){t.input[t.index-1]==="."&&e.ignoreMatch()}function f4e(t,e){t.className!==void 0&&(t.scope=t.className,delete t.className)}function m4e(t,e){e&&t.beginKeywords&&(t.begin="\\b("+t.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",t.__beforeBegin=h4e,t.keywords=t.keywords||t.beginKeywords,delete t.beginKeywords,t.relevance===void 0&&(t.relevance=0))}function g4e(t,e){Array.isArray(t.illegal)&&(t.illegal=sE(...t.illegal))}function p4e(t,e){if(t.match){if(t.begin||t.end)throw new Error("begin & end are not supported with match");t.begin=t.match,delete t.match}}function v4e(t,e){t.relevance===void 0&&(t.relevance=1)}const b4e=(t,e)=>{if(!t.beforeMatch)return;if(t.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},t);Object.keys(t).forEach(r=>{delete t[r]}),t.keywords=n.keywords,t.begin=of(n.beforeMatch,FQ(n.begin)),t.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},t.relevance=0,delete n.beforeMatch},y4e=["of","and","for","in","not","or","if","then","parent","list","value"],O4e="keyword";function jQ(t,e,n=O4e){const r=Object.create(null);return typeof t=="string"?i(n,t.split(" ")):Array.isArray(t)?i(n,t):Object.keys(t).forEach(function(s){Object.assign(r,jQ(t[s],e,s))}),r;function i(s,o){e&&(o=o.map(a=>a.toLowerCase())),o.forEach(function(a){const l=a.split("|");r[l[0]]=[s,w4e(l[0],l[1])]})}}function w4e(t,e){return e?Number(e):k4e(t)?0:1}function k4e(t){return y4e.includes(t.toLowerCase())}const AA={},Oh=t=>{console.error(t)},PA=(t,...e)=>{console.log(`WARN: ${t}`,...e)},kf=(t,e)=>{AA[`${t}/${e}`]||(console.log(`Deprecated as of ${t}. ${e}`),AA[`${t}/${e}`]=!0)},d2=new Error;function qQ(t,e,{key:n}){let r=0;const i=t[n],s={},o={};for(let a=1;a<=e.length;a++)o[a+r]=i[a],s[a+r]=!0,r+=BQ(e[a-1]);t[n]=o,t[n]._emit=s,t[n]._multi=!0}function S4e(t){if(Array.isArray(t.begin)){if(t.skip||t.excludeBegin||t.returnBegin)throw Oh("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),d2;if(typeof t.beginScope!="object"||t.beginScope===null)throw Oh("beginScope must be object"),d2;qQ(t,t.begin,{key:"beginScope"}),t.begin=oE(t.begin,{joinWith:""})}}function x4e(t){if(Array.isArray(t.end)){if(t.skip||t.excludeEnd||t.returnEnd)throw Oh("skip, excludeEnd, returnEnd not compatible with endScope: {}"),d2;if(typeof t.endScope!="object"||t.endScope===null)throw Oh("endScope must be object"),d2;qQ(t,t.end,{key:"endScope"}),t.end=oE(t.end,{joinWith:""})}}function _4e(t){t.scope&&typeof t.scope=="object"&&t.scope!==null&&(t.beginScope=t.scope,delete t.scope)}function C4e(t){_4e(t),typeof t.beginScope=="string"&&(t.beginScope={_wrap:t.beginScope}),typeof t.endScope=="string"&&(t.endScope={_wrap:t.endScope}),S4e(t),x4e(t)}function E4e(t){function e(o,a){return new RegExp(Z0(o),"m"+(t.case_insensitive?"i":"")+(t.unicodeRegex?"u":"")+(a?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(a,l){l.position=this.position++,this.matchIndexes[this.matchAt]=l,this.regexes.push([l,a]),this.matchAt+=BQ(a)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const a=this.regexes.map(l=>l[1]);this.matcherRe=e(oE(a,{joinWith:"|"}),!0),this.lastIndex=0}exec(a){this.matcherRe.lastIndex=this.lastIndex;const l=this.matcherRe.exec(a);if(!l)return null;const c=l.findIndex((h,f)=>f>0&&h!==void 0),d=this.matchIndexes[c];return l.splice(0,c),Object.assign(l,d)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(a){if(this.multiRegexes[a])return this.multiRegexes[a];const l=new n;return this.rules.slice(a).forEach(([c,d])=>l.addRule(c,d)),l.compile(),this.multiRegexes[a]=l,l}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(a,l){this.rules.push([a,l]),l.type==="begin"&&this.count++}exec(a){const l=this.getMatcher(this.regexIndex);l.lastIndex=this.lastIndex;let c=l.exec(a);if(this.resumingScanAtSamePosition()&&!(c&&c.index===this.lastIndex)){const d=this.getMatcher(0);d.lastIndex=this.lastIndex+1,c=d.exec(a)}return c&&(this.regexIndex+=c.position+1,this.regexIndex===this.count&&this.considerAll()),c}}function i(o){const a=new r;return o.contains.forEach(l=>a.addRule(l.begin,{rule:l,type:"begin"})),o.terminatorEnd&&a.addRule(o.terminatorEnd,{type:"end"}),o.illegal&&a.addRule(o.illegal,{type:"illegal"}),a}function s(o,a){const l=o;if(o.isCompiled)return l;[f4e,p4e,C4e,b4e].forEach(d=>d(o,a)),t.compilerExtensions.forEach(d=>d(o,a)),o.__beforeBegin=null,[m4e,g4e,v4e].forEach(d=>d(o,a)),o.isCompiled=!0;let c=null;return typeof o.keywords=="object"&&o.keywords.$pattern&&(o.keywords=Object.assign({},o.keywords),c=o.keywords.$pattern,delete o.keywords.$pattern),c=c||/\w+/,o.keywords&&(o.keywords=jQ(o.keywords,t.case_insensitive)),l.keywordPatternRe=e(c,!0),a&&(o.begin||(o.begin=/\B|\b/),l.beginRe=e(l.begin),!o.end&&!o.endsWithParent&&(o.end=/\B|\b/),o.end&&(l.endRe=e(l.end)),l.terminatorEnd=Z0(l.end)||"",o.endsWithParent&&a.terminatorEnd&&(l.terminatorEnd+=(o.end?"|":"")+a.terminatorEnd)),o.illegal&&(l.illegalRe=e(o.illegal)),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map(function(d){return T4e(d==="self"?o:d)})),o.contains.forEach(function(d){s(d,l)}),o.starts&&s(o.starts,a),l.matcher=i(l),l}if(t.compilerExtensions||(t.compilerExtensions=[]),t.contains&&t.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return t.classNameAliases=Yu(t.classNameAliases||{}),s(t)}function HQ(t){return t?t.endsWithParent||HQ(t.starts):!1}function T4e(t){return t.variants&&!t.cachedVariants&&(t.cachedVariants=t.variants.map(function(e){return Yu(t,{variants:null},e)})),t.cachedVariants?t.cachedVariants:HQ(t)?Yu(t,{starts:t.starts?Yu(t.starts):null}):Object.isFrozen(t)?Yu(t):t}var D4e="11.11.1";class A4e extends Error{constructor(e,n){super(e),this.name="HTMLInjectionError",this.html=n}}const aS=NQ,RA=Yu,MA=Symbol("nomatch"),P4e=7,WQ=function(t){const e=Object.create(null),n=Object.create(null),r=[];let i=!0;const s="Could not find the language '{}', did you forget to load/include a language module?",o={disableAutodetect:!0,name:"Plain text",contains:[]};let a={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:VSe};function l(z){return a.noHighlightRe.test(z)}function c(z){let K=z.className+" ";K+=z.parentNode?z.parentNode.className:"";const re=a.languageDetectRe.exec(K);if(re){const Q=$(re[1]);return Q||(PA(s.replace("{}",re[1])),PA("Falling back to no-highlight mode for this block.",z)),Q?re[1]:"no-highlight"}return K.split(/\s+/).find(Q=>l(Q)||$(Q))}function d(z,K,re){let Q="",D="";typeof K=="object"?(Q=z,re=K.ignoreIllegals,D=K.language):(kf("10.7.0","highlight(lang, code, ...args) has been deprecated."),kf("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),D=z,Q=K),re===void 0&&(re=!0);const se={code:Q,language:D};U("before:highlight",se);const he=se.result?se.result:h(se.language,se.code,re);return he.code=se.code,U("after:highlight",he),he}function h(z,K,re,Q){const D=Object.create(null);function se(oe,Oe){return oe.keywords[Oe]}function he(){if(!xt.keywords){hr.addText(Mn);return}let oe=0;xt.keywordPatternRe.lastIndex=0;let Oe=xt.keywordPatternRe.exec(Mn),Ke="";for(;Oe;){Ke+=Mn.substring(oe,Oe.index);const gt=$n.case_insensitive?Oe[0].toLowerCase():Oe[0],It=se(xt,gt);if(It){const[sr,ys]=It;if(hr.addText(Ke),Ke="",D[gt]=(D[gt]||0)+1,D[gt]<=P4e&&(Va+=ys),sr.startsWith("_"))Ke+=Oe[0];else{const os=$n.classNameAliases[sr]||sr;pe(Oe[0],os)}}else Ke+=Oe[0];oe=xt.keywordPatternRe.lastIndex,Oe=xt.keywordPatternRe.exec(Mn)}Ke+=Mn.substring(oe),hr.addText(Ke)}function E(){if(Mn==="")return;let oe=null;if(typeof xt.subLanguage=="string"){if(!e[xt.subLanguage]){hr.addText(Mn);return}oe=h(xt.subLanguage,Mn,!0,Si[xt.subLanguage]),Si[xt.subLanguage]=oe._top}else oe=m(Mn,xt.subLanguage.length?xt.subLanguage:null);xt.relevance>0&&(Va+=oe.relevance),hr.__addSublanguage(oe._emitter,oe.language)}function De(){xt.subLanguage!=null?E():he(),Mn=""}function pe(oe,Oe){oe!==""&&(hr.startScope(Oe),hr.addText(oe),hr.endScope())}function ct(oe,Oe){let Ke=1;const gt=Oe.length-1;for(;Ke<=gt;){if(!oe._emit[Ke]){Ke++;continue}const It=$n.classNameAliases[oe[Ke]]||oe[Ke],sr=Oe[Ke];It?pe(sr,It):(Mn=sr,he(),Mn=""),Ke++}}function Mt(oe,Oe){return oe.scope&&typeof oe.scope=="string"&&hr.openNode($n.classNameAliases[oe.scope]||oe.scope),oe.beginScope&&(oe.beginScope._wrap?(pe(Mn,$n.classNameAliases[oe.beginScope._wrap]||oe.beginScope._wrap),Mn=""):oe.beginScope._multi&&(ct(oe.beginScope,Oe),Mn="")),xt=Object.create(oe,{parent:{value:xt}}),xt}function At(oe,Oe,Ke){let gt=WSe(oe.endRe,Ke);if(gt){if(oe["on:end"]){const It=new EA(oe);oe["on:end"](Oe,It),It.isMatchIgnored&&(gt=!1)}if(gt){for(;oe.endsParent&&oe.parent;)oe=oe.parent;return oe}}if(oe.endsWithParent)return At(oe.parent,Oe,Ke)}function on(oe){return xt.matcher.regexIndex===0?(Mn+=oe[0],1):(kl=!0,0)}function Wt(oe){const Oe=oe[0],Ke=oe.rule,gt=new EA(Ke),It=[Ke.__beforeBegin,Ke["on:begin"]];for(const sr of It)if(sr&&(sr(oe,gt),gt.isMatchIgnored))return on(Oe);return Ke.skip?Mn+=Oe:(Ke.excludeBegin&&(Mn+=Oe),De(),!Ke.returnBegin&&!Ke.excludeBegin&&(Mn=Oe)),Mt(Ke,oe),Ke.returnBegin?0:Oe.length}function bn(oe){const Oe=oe[0],Ke=K.substring(oe.index),gt=At(xt,oe,Ke);if(!gt)return MA;const It=xt;xt.endScope&&xt.endScope._wrap?(De(),pe(Oe,xt.endScope._wrap)):xt.endScope&&xt.endScope._multi?(De(),ct(xt.endScope,oe)):It.skip?Mn+=Oe:(It.returnEnd||It.excludeEnd||(Mn+=Oe),De(),It.excludeEnd&&(Mn=Oe));do xt.scope&&hr.closeNode(),!xt.skip&&!xt.subLanguage&&(Va+=xt.relevance),xt=xt.parent;while(xt!==gt.parent);return gt.starts&&Mt(gt.starts,oe),It.returnEnd?0:Oe.length}function Or(){const oe=[];for(let Oe=xt;Oe!==$n;Oe=Oe.parent)Oe.scope&&oe.unshift(Oe.scope);oe.forEach(Oe=>hr.openNode(Oe))}let dr={};function ui(oe,Oe){const Ke=Oe&&Oe[0];if(Mn+=oe,Ke==null)return De(),0;if(dr.type==="begin"&&Oe.type==="end"&&dr.index===Oe.index&&Ke===""){if(Mn+=K.slice(Oe.index,Oe.index+1),!i){const gt=new Error(`0 width match regex (${z})`);throw gt.languageName=z,gt.badRule=dr.rule,gt}return 1}if(dr=Oe,Oe.type==="begin")return Wt(Oe);if(Oe.type==="illegal"&&!re){const gt=new Error('Illegal lexeme "'+Ke+'" for mode "'+(xt.scope||"<unnamed>")+'"');throw gt.mode=xt,gt}else if(Oe.type==="end"){const gt=bn(Oe);if(gt!==MA)return gt}if(Oe.type==="illegal"&&Ke==="")return Mn+=`
`,1;if(wl>1e5&&wl>Oe.index*3)throw new Error("potential infinite loop, way more iterations than matches");return Mn+=Ke,Ke.length}const $n=$(z);if(!$n)throw Oh(s.replace("{}",z)),new Error('Unknown language: "'+z+'"');const gn=E4e($n);let Kr="",xt=Q||gn;const Si={},hr=new a.__emitter(a);Or();let Mn="",Va=0,Ws=0,wl=0,kl=!1;try{if($n.__emitTokens)$n.__emitTokens(K,hr);else{for(xt.matcher.considerAll();;){wl++,kl?kl=!1:xt.matcher.considerAll(),xt.matcher.lastIndex=Ws;const oe=xt.matcher.exec(K);if(!oe)break;const Oe=K.substring(Ws,oe.index),Ke=ui(Oe,oe);Ws=oe.index+Ke}ui(K.substring(Ws))}return hr.finalize(),Kr=hr.toHTML(),{language:z,value:Kr,relevance:Va,illegal:!1,_emitter:hr,_top:xt}}catch(oe){if(oe.message&&oe.message.includes("Illegal"))return{language:z,value:aS(K),illegal:!0,relevance:0,_illegalBy:{message:oe.message,index:Ws,context:K.slice(Ws-100,Ws+100),mode:oe.mode,resultSoFar:Kr},_emitter:hr};if(i)return{language:z,value:aS(K),illegal:!1,relevance:0,errorRaised:oe,_emitter:hr,_top:xt};throw oe}}function f(z){const K={value:aS(z),illegal:!1,relevance:0,_top:o,_emitter:new a.__emitter(a)};return K._emitter.addText(z),K}function m(z,K){K=K||a.languages||Object.keys(e);const re=f(z),Q=K.filter($).filter(P).map(De=>h(De,z,!1));Q.unshift(re);const D=Q.sort((De,pe)=>{if(De.relevance!==pe.relevance)return pe.relevance-De.relevance;if(De.language&&pe.language){if($(De.language).supersetOf===pe.language)return 1;if($(pe.language).supersetOf===De.language)return-1}return 0}),[se,he]=D,E=se;return E.secondBest=he,E}function g(z,K,re){const Q=K&&n[K]||re;z.classList.add("hljs"),z.classList.add(`language-${Q}`)}function p(z){let K=null;const re=c(z);if(l(re))return;if(U("before:highlightElement",{el:z,language:re}),z.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",z);return}if(z.children.length>0&&(a.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(z)),a.throwUnescapedHTML))throw new A4e("One of your code blocks includes unescaped HTML.",z.innerHTML);K=z;const Q=K.textContent,D=re?d(Q,{language:re,ignoreIllegals:!0}):m(Q);z.innerHTML=D.value,z.dataset.highlighted="yes",g(z,re,D.language),z.result={language:D.language,re:D.relevance,relevance:D.relevance},D.secondBest&&(z.secondBest={language:D.secondBest.language,relevance:D.secondBest.relevance}),U("after:highlightElement",{el:z,result:D,text:Q})}function v(z){a=RA(a,z)}const b=()=>{x(),kf("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function y(){x(),kf("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let C=!1;function x(){function z(){x()}if(document.readyState==="loading"){C||window.addEventListener("DOMContentLoaded",z,!1),C=!0;return}document.querySelectorAll(a.cssSelector).forEach(p)}function O(z,K){let re=null;try{re=K(t)}catch(Q){if(Oh("Language definition for '{}' could not be registered.".replace("{}",z)),i)Oh(Q);else throw Q;re=o}re.name||(re.name=z),e[z]=re,re.rawDefinition=K.bind(null,t),re.aliases&&M(re.aliases,{languageName:z})}function S(z){delete e[z];for(const K of Object.keys(n))n[K]===z&&delete n[K]}function T(){return Object.keys(e)}function $(z){return z=(z||"").toLowerCase(),e[z]||e[n[z]]}function M(z,{languageName:K}){typeof z=="string"&&(z=[z]),z.forEach(re=>{n[re.toLowerCase()]=K})}function P(z){const K=$(z);return K&&!K.disableAutodetect}function L(z){z["before:highlightBlock"]&&!z["before:highlightElement"]&&(z["before:highlightElement"]=K=>{z["before:highlightBlock"](Object.assign({block:K.el},K))}),z["after:highlightBlock"]&&!z["after:highlightElement"]&&(z["after:highlightElement"]=K=>{z["after:highlightBlock"](Object.assign({block:K.el},K))})}function j(z){L(z),r.push(z)}function te(z){const K=r.indexOf(z);K!==-1&&r.splice(K,1)}function U(z,K){const re=z;r.forEach(function(Q){Q[re]&&Q[re](K)})}function N(z){return kf("10.7.0","highlightBlock will be removed entirely in v12.0"),kf("10.7.0","Please use highlightElement now."),p(z)}Object.assign(t,{highlight:d,highlightAuto:m,highlightAll:x,highlightElement:p,highlightBlock:N,configure:v,initHighlighting:b,initHighlightingOnLoad:y,registerLanguage:O,unregisterLanguage:S,listLanguages:T,getLanguage:$,registerAliases:M,autoDetection:P,inherit:RA,addPlugin:j,removePlugin:te}),t.debugMode=function(){i=!1},t.safeMode=function(){i=!0},t.versionString=D4e,t.regex={concat:of,lookahead:FQ,either:sE,optional:qSe,anyNumberOfTimes:jSe};for(const z in q1)typeof q1[z]=="object"&&LQ(q1[z]);return Object.assign(t,q1),t},tg=WQ({});tg.newInstance=()=>WQ({});var R4e=tg;tg.HighlightJS=tg;tg.default=tg;const M4e=Jo(R4e),IA={},I4e="hljs-";function $4e(t){const e=M4e.newInstance();return t&&s(t),{highlight:n,highlightAuto:r,listLanguages:i,register:s,registerAlias:o,registered:a};function n(l,c,d){const h=d||IA,f=typeof h.prefix=="string"?h.prefix:I4e;if(!e.getLanguage(l))throw new Error("Unknown language: `"+l+"` is not registered");e.configure({__emitter:L4e,classPrefix:f});const m=e.highlight(c,{ignoreIllegals:!0,language:l});if(m.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:m.errorRaised});const g=m._emitter.root,p=g.data;return p.language=m.language,p.relevance=m.relevance,g}function r(l,c){const h=(c||IA).subset||i();let f=-1,m=0,g;for(;++f<h.length;){const p=h[f];if(!e.getLanguage(p))continue;const v=n(p,l,c);v.data&&v.data.relevance!==void 0&&v.data.relevance>m&&(m=v.data.relevance,g=v)}return g||{type:"root",children:[],data:{language:void 0,relevance:m}}}function i(){return e.listLanguages()}function s(l,c){if(typeof l=="string")e.registerLanguage(l,c);else{let d;for(d in l)Object.hasOwn(l,d)&&e.registerLanguage(d,l[d])}}function o(l,c){if(typeof l=="string")e.registerAliases(typeof c=="string"?c:[...c],{languageName:l});else{let d;for(d in l)if(Object.hasOwn(l,d)){const h=l[d];e.registerAliases(typeof h=="string"?h:[...h],{languageName:d})}}}function a(l){return!!e.getLanguage(l)}}class L4e{constructor(e){this.options=e,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(e){if(e==="")return;const n=this.stack[this.stack.length-1],r=n.children[n.children.length-1];r&&r.type==="text"?r.value+=e:n.children.push({type:"text",value:e})}startScope(e){this.openNode(String(e))}endScope(){this.closeNode()}__addSublanguage(e,n){const r=this.stack[this.stack.length-1],i=e.root.children;n?r.children.push({type:"element",tagName:"span",properties:{className:[n]},children:i}):r.children.push(...i)}openNode(e){const n=this,r=e.split(".").map(function(o,a){return a?o+"_".repeat(a):n.options.classPrefix+o}),i=this.stack[this.stack.length-1],s={type:"element",tagName:"span",properties:{className:r},children:[]};i.children.push(s),this.stack.push(s)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}}const XQ=[],N4e=!0,L3=!1,YQ="skip";function lE(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=jv(i),o=r?-1:1;a(t,void 0,[])();function a(l,c,d){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const m=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return f;function f(){let m=XQ,g,p,v;if((!e||s(l,c,d[d.length-1]||void 0))&&(m=F4e(n(l,d)),m[0]===L3))return m;if("children"in l&&l.children){const b=l;if(b.children&&m[0]!==YQ)for(p=(r?b.children.length:-1)+o,v=d.concat(b);p>-1&&p<b.children.length;){const y=b.children[p];if(g=a(y,p,v)(),g[0]===L3)return g;p=typeof g[1]=="number"?g[1]:p+o}}return m}}}function F4e(t){return Array.isArray(t)?t:typeof t=="number"?[N4e,t]:t==null?XQ:[t]}function yl(t,e,n,r){let i,s,o;typeof e=="function"&&typeof n!="function"?(s=void 0,o=e,i=n):(s=e,o=n,i=r),lE(t,s,a,i);function a(l,c){const d=c[c.length-1],h=d?d.children.indexOf(l):void 0;return o(l,h,d)}}const B4e={};function z4e(t){const e=t||B4e,n=e.aliases,r=e.detect||!1,i=e.languages||BSe,s=e.plainText,o=e.prefix,a=e.subset;let l="hljs";const c=$4e(i);if(n&&c.registerAlias(n),o){const d=o.indexOf("-");l=d===-1?o:o.slice(0,d)}return function(d,h){yl(d,"element",function(f,m,g){if(f.tagName!=="code"||!g||g.type!=="element"||g.tagName!=="pre")return;const p=Q4e(f);if(p===!1||!p&&!r||p&&s&&s.includes(p))return;Array.isArray(f.properties.className)||(f.properties.className=[]),f.properties.className.includes(l)||f.properties.className.unshift(l);const v=gQ(f,{whitespace:"pre"});let b;try{b=p?c.highlight(p,v,{prefix:o}):c.highlightAuto(v,{prefix:o,subset:a})}catch(y){const C=y;if(p&&/Unknown language/.test(C.message)){h.message("Cannot highlight as `"+p+"`, its not registered",{ancestors:[g,f],cause:C,place:f.position,ruleId:"missing-language",source:"rehype-highlight"});return}throw C}!p&&b.data&&b.data.language&&f.properties.className.push("language-"+b.data.language),b.children.length>0&&(f.children=b.children)})}}function Q4e(t){const e=t.properties.className;let n=-1;if(!Array.isArray(e))return;let r;for(;++n<e.length;){const i=String(e[n]);if(i==="no-highlight"||i==="nohighlight")return!1;!r&&i.slice(0,5)==="lang-"&&(r=i.slice(5)),!r&&i.slice(0,9)==="language-"&&(r=i.slice(9))}return r}let qv=class{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}};qv.prototype.normal={};qv.prototype.property={};qv.prototype.space=void 0;function GQ(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new qv(n,r,e)}function J0(t){return t.toLowerCase()}let ho=class{constructor(e,n){this.attribute=n,this.property=e}};ho.prototype.attribute="";ho.prototype.booleanish=!1;ho.prototype.boolean=!1;ho.prototype.commaOrSpaceSeparated=!1;ho.prototype.commaSeparated=!1;ho.prototype.defined=!1;ho.prototype.mustUseProperty=!1;ho.prototype.number=!1;ho.prototype.overloadedBoolean=!1;ho.prototype.property="";ho.prototype.spaceSeparated=!1;ho.prototype.space=void 0;let U4e=0;const ln=af(),ei=af(),N3=af(),Ze=af(),mr=af(),ym=af(),So=af();function af(){return 2**++U4e}const F3=Object.freeze(Object.defineProperty({__proto__:null,boolean:ln,booleanish:ei,commaOrSpaceSeparated:So,commaSeparated:ym,number:Ze,overloadedBoolean:N3,spaceSeparated:mr},Symbol.toStringTag,{value:"Module"})),lS=Object.keys(F3);class cE extends ho{constructor(e,n,r,i){let s=-1;if(super(e,n),$A(this,"space",i),typeof r=="number")for(;++s<lS.length;){const o=lS[s];$A(this,lS[s],(r&F3[o])===F3[o])}}}cE.prototype.defined=!0;function $A(t,e,n){n&&(t[e]=n)}function _g(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new cE(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[J0(r)]=r,n[J0(s.attribute)]=r}return new qv(e,n,t.space)}const ZQ=_g({properties:{ariaActiveDescendant:null,ariaAtomic:ei,ariaAutoComplete:null,ariaBusy:ei,ariaChecked:ei,ariaColCount:Ze,ariaColIndex:Ze,ariaColSpan:Ze,ariaControls:mr,ariaCurrent:null,ariaDescribedBy:mr,ariaDetails:null,ariaDisabled:ei,ariaDropEffect:mr,ariaErrorMessage:null,ariaExpanded:ei,ariaFlowTo:mr,ariaGrabbed:ei,ariaHasPopup:null,ariaHidden:ei,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:mr,ariaLevel:Ze,ariaLive:null,ariaModal:ei,ariaMultiLine:ei,ariaMultiSelectable:ei,ariaOrientation:null,ariaOwns:mr,ariaPlaceholder:null,ariaPosInSet:Ze,ariaPressed:ei,ariaReadOnly:ei,ariaRelevant:null,ariaRequired:ei,ariaRoleDescription:mr,ariaRowCount:Ze,ariaRowIndex:Ze,ariaRowSpan:Ze,ariaSelected:ei,ariaSetSize:Ze,ariaSort:null,ariaValueMax:Ze,ariaValueMin:Ze,ariaValueNow:Ze,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function KQ(t,e){return e in t?t[e]:e}function JQ(t,e){return KQ(t,e.toLowerCase())}const V4e=_g({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ym,acceptCharset:mr,accessKey:mr,action:null,allow:null,allowFullScreen:ln,allowPaymentRequest:ln,allowUserMedia:ln,alt:null,as:null,async:ln,autoCapitalize:null,autoComplete:mr,autoFocus:ln,autoPlay:ln,blocking:mr,capture:null,charSet:null,checked:ln,cite:null,className:mr,cols:Ze,colSpan:null,content:null,contentEditable:ei,controls:ln,controlsList:mr,coords:Ze|ym,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ln,defer:ln,dir:null,dirName:null,disabled:ln,download:N3,draggable:ei,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ln,formTarget:null,headers:mr,height:Ze,hidden:N3,high:Ze,href:null,hrefLang:null,htmlFor:mr,httpEquiv:mr,id:null,imageSizes:null,imageSrcSet:null,inert:ln,inputMode:null,integrity:null,is:null,isMap:ln,itemId:null,itemProp:mr,itemRef:mr,itemScope:ln,itemType:mr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ln,low:Ze,manifest:null,max:null,maxLength:Ze,media:null,method:null,min:null,minLength:Ze,multiple:ln,muted:ln,name:null,nonce:null,noModule:ln,noValidate:ln,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ln,optimum:Ze,pattern:null,ping:mr,placeholder:null,playsInline:ln,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ln,referrerPolicy:null,rel:mr,required:ln,reversed:ln,rows:Ze,rowSpan:Ze,sandbox:mr,scope:null,scoped:ln,seamless:ln,selected:ln,shadowRootClonable:ln,shadowRootDelegatesFocus:ln,shadowRootMode:null,shape:null,size:Ze,sizes:null,slot:null,span:Ze,spellCheck:ei,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ze,step:null,style:null,tabIndex:Ze,target:null,title:null,translate:null,type:null,typeMustMatch:ln,useMap:null,value:ei,width:Ze,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:mr,axis:null,background:null,bgColor:null,border:Ze,borderColor:null,bottomMargin:Ze,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ln,declare:ln,event:null,face:null,frame:null,frameBorder:null,hSpace:Ze,leftMargin:Ze,link:null,longDesc:null,lowSrc:null,marginHeight:Ze,marginWidth:Ze,noResize:ln,noHref:ln,noShade:ln,noWrap:ln,object:null,profile:null,prompt:null,rev:null,rightMargin:Ze,rules:null,scheme:null,scrolling:ei,standby:null,summary:null,text:null,topMargin:Ze,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ze,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ln,disableRemotePlayback:ln,prefix:null,property:null,results:Ze,security:null,unselectable:null},space:"html",transform:JQ}),j4e=_g({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:So,accentHeight:Ze,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ze,amplitude:Ze,arabicForm:null,ascent:Ze,attributeName:null,attributeType:null,azimuth:Ze,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ze,by:null,calcMode:null,capHeight:Ze,className:mr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ze,diffuseConstant:Ze,direction:null,display:null,dur:null,divisor:Ze,dominantBaseline:null,download:ln,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ze,enableBackground:null,end:null,event:null,exponent:Ze,externalResourcesRequired:null,fill:null,fillOpacity:Ze,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ym,g2:ym,glyphName:ym,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ze,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ze,horizOriginX:Ze,horizOriginY:Ze,id:null,ideographic:Ze,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ze,k:Ze,k1:Ze,k2:Ze,k3:Ze,k4:Ze,kernelMatrix:So,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ze,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ze,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ze,overlineThickness:Ze,paintOrder:null,panose1:null,path:null,pathLength:Ze,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:mr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ze,pointsAtY:Ze,pointsAtZ:Ze,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:So,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:So,rev:So,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:So,requiredFeatures:So,requiredFonts:So,requiredFormats:So,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ze,specularExponent:Ze,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ze,strikethroughThickness:Ze,string:null,stroke:null,strokeDashArray:So,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ze,strokeOpacity:Ze,strokeWidth:null,style:null,surfaceScale:Ze,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:So,tabIndex:Ze,tableValues:null,target:null,targetX:Ze,targetY:Ze,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:So,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ze,underlineThickness:Ze,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ze,values:null,vAlphabetic:Ze,vMathematical:Ze,vectorEffect:null,vHanging:Ze,vIdeographic:Ze,version:null,vertAdvY:Ze,vertOriginX:Ze,vertOriginY:Ze,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ze,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:KQ}),eU=_g({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),tU=_g({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:JQ}),nU=_g({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),q4e=/[A-Z]/g,LA=/-[a-z]/g,H4e=/^data[-\w.:]+$/i;function W4e(t,e){const n=J0(e);let r=e,i=ho;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&H4e.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(LA,Y4e);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!LA.test(s)){let o=s.replace(q4e,X4e);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=cE}return new i(r,e)}function X4e(t){return"-"+t.toLowerCase()}function Y4e(t){return t.charAt(1).toUpperCase()}const G4e=GQ([ZQ,V4e,eU,tU,nU],"html"),Z4e=GQ([ZQ,j4e,eU,tU,nU],"svg");function NA(t){const e=[],n=String(t||"");let r=n.indexOf(","),i=0,s=!1;for(;!s;){r===-1&&(r=n.length,s=!0);const o=n.slice(i,r).trim();(o||!s)&&e.push(o),i=r+1,r=n.indexOf(",",i)}return e}function K4e(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const FA=/[#.]/g;function J4e(t,e){const n=t||"",r={};let i=0,s,o;for(;i<n.length;){FA.lastIndex=i;const a=FA.exec(n),l=n.slice(i,a?a.index:n.length);l&&(s?s==="#"?r.id=l:Array.isArray(r.className)?r.className.push(l):r.className=[l]:o=l,i+=l.length),a&&(s=a[0],i++)}return{type:"element",tagName:o||e||"div",properties:r,children:[]}}function BA(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function exe(t){return t.join(" ").trim()}function rU(t,e,n){const r=n?ixe(n):void 0;function i(s,o,...a){let l;if(s==null){l={type:"root",children:[]};const c=o;a.unshift(c)}else{l=J4e(s,e);const c=l.tagName.toLowerCase(),d=r?r.get(c):void 0;if(l.tagName=d||c,txe(o))a.unshift(o);else for(const[h,f]of Object.entries(o))nxe(t,l.properties,h,f)}for(const c of a)B3(l.children,c);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return i}function txe(t){if(t===null||typeof t!="object"||Array.isArray(t))return!0;if(typeof t.type!="string")return!1;const e=t,n=Object.keys(t);for(const r of n){const i=e[r];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const s=i;for(const o of s)if(typeof o!="number"&&typeof o!="string")return!0}}return!!("children"in t&&Array.isArray(t.children))}function nxe(t,e,n,r){const i=W4e(t,n);let s;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;s=r}else typeof r=="boolean"?s=r:typeof r=="string"?i.spaceSeparated?s=BA(r):i.commaSeparated?s=NA(r):i.commaOrSpaceSeparated?s=BA(NA(r).join(" ")):s=zA(i,i.property,r):Array.isArray(r)?s=[...r]:s=i.property==="style"?rxe(r):String(r);if(Array.isArray(s)){const o=[];for(const a of s)o.push(zA(i,i.property,a));s=o}i.property==="className"&&Array.isArray(e.className)&&(s=e.className.concat(s)),e[i.property]=s}}function B3(t,e){if(e!=null)if(typeof e=="number"||typeof e=="string")t.push({type:"text",value:String(e)});else if(Array.isArray(e))for(const n of e)B3(t,n);else if(typeof e=="object"&&"type"in e)e.type==="root"?B3(t,e.children):t.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function zA(t,e,n){if(typeof n=="string"){if(t.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((t.boolean||t.overloadedBoolean)&&(n===""||J0(n)===J0(e)))return!0}return n}function rxe(t){const e=[];for(const[n,r]of Object.entries(t))e.push([n,r].join(": "));return e.join("; ")}function ixe(t){const e=new Map;for(const n of t)e.set(n.toLowerCase(),n);return e}const sxe=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],oxe=rU(G4e,"div"),axe=rU(Z4e,"g",sxe),cS={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function lxe(t,e){return iU(t,{})||{type:"root",children:[]}}function iU(t,e){const n=cxe(t,e);return n&&e.afterTransform&&e.afterTransform(t,n),n}function cxe(t,e){switch(t.nodeType){case 1:return fxe(t,e);case 3:return dxe(t);case 8:return hxe(t);case 9:return QA(t,e);case 10:return uxe();case 11:return QA(t,e);default:return}}function QA(t,e){return{type:"root",children:sU(t,e)}}function uxe(){return{type:"doctype"}}function dxe(t){return{type:"text",value:t.nodeValue||""}}function hxe(t){return{type:"comment",value:t.nodeValue||""}}function fxe(t,e){const n=t.namespaceURI,r=n===cS.svg?axe:oxe,i=n===cS.html?t.tagName.toLowerCase():t.tagName,s=n===cS.html&&i==="template"?t.content:t,o=t.getAttributeNames(),a={};let l=-1;for(;++l<o.length;)a[o[l]]=t.getAttribute(o[l])||"";return r(i,a,sU(s,e))}function sU(t,e){const n=t.childNodes,r=[];let i=-1;for(;++i<n.length;){const s=iU(n[i],e);s!==void 0&&r.push(s)}return r}new DOMParser;function mxe(t,e){const n=gxe(t);return lxe(n)}function gxe(t){const e=document.createElement("template");return e.innerHTML=t,e.content}class Eo{constructor(e,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=r}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new Eo(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}}class Ea{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new Ea(n,Eo.range(this,e))}}class je{constructor(e,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+e,i,s,o=n&&n.loc;if(o&&o.start<=o.end){var a=o.lexer.input;i=o.start,s=o.end,i===a.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var l=a.slice(i,s).replace(/[^]/g,"$&"),c;i>15?c=""+a.slice(i-15,i):c=a.slice(0,i);var d;s+15<a.length?d=a.slice(s,s+15)+"":d=a.slice(s),r+=c+l+d}var h=new Error(r);return h.name="ParseError",h.__proto__=je.prototype,h.position=i,i!=null&&s!=null&&(h.length=s-i),h.rawMessage=e,h}}je.prototype.__proto__=Error.prototype;var pxe=function(e,n){return e.indexOf(n)!==-1},vxe=function(e,n){return e===void 0?n:e},bxe=/([A-Z])/g,yxe=function(e){return e.replace(bxe,"-$1").toLowerCase()},Oxe={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},wxe=/[&><"']/g;function kxe(t){return String(t).replace(wxe,e=>Oxe[e])}var oU=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},Sxe=function(e){var n=oU(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},xxe=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},_xe=function(e){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},Qt={contains:pxe,deflt:vxe,escape:kxe,hyphenate:yxe,getBaseElem:oU,isCharacterBox:Sxe,protocolFromUrl:_xe},Xb={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function Cxe(t){if(t.default)return t.default;var e=t.type,n=Array.isArray(e)?e[0]:e;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}let uE=class{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var n in Xb)if(Xb.hasOwnProperty(n)){var r=Xb[n];this[n]=e[n]!==void 0?r.processor?r.processor(e[n]):e[n]:Cxe(r)}}reportNonstrict(e,n,r){var i=this.strict;if(typeof i=="function"&&(i=i(e,n,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new je("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+e+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]"))}}useStrictBehavior(e,n,r){var i=this.strict;if(typeof i=="function")try{i=i(e,n,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var n=Qt.protocolFromUrl(e.url);if(n==null)return!1;e.protocol=n}var r=typeof this.trust=="function"?this.trust(e):this.trust;return!!r}};class Tu{constructor(e,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=r}sup(){return $l[Exe[this.id]]}sub(){return $l[Txe[this.id]]}fracNum(){return $l[Dxe[this.id]]}fracDen(){return $l[Axe[this.id]]}cramp(){return $l[Pxe[this.id]]}text(){return $l[Rxe[this.id]]}isTight(){return this.size>=2}}var dE=0,h2=1,Om=2,Xc=3,ev=4,ka=5,ng=6,Rs=7,$l=[new Tu(dE,0,!1),new Tu(h2,0,!0),new Tu(Om,1,!1),new Tu(Xc,1,!0),new Tu(ev,2,!1),new Tu(ka,2,!0),new Tu(ng,3,!1),new Tu(Rs,3,!0)],Exe=[ev,ka,ev,ka,ng,Rs,ng,Rs],Txe=[ka,ka,ka,ka,Rs,Rs,Rs,Rs],Dxe=[Om,Xc,ev,ka,ng,Rs,ng,Rs],Axe=[Xc,Xc,ka,ka,Rs,Rs,Rs,Rs],Pxe=[h2,h2,Xc,Xc,ka,ka,Rs,Rs],Rxe=[dE,h2,Om,Xc,Om,Xc,Om,Xc],qt={DISPLAY:$l[dE],TEXT:$l[Om],SCRIPT:$l[ev],SCRIPTSCRIPT:$l[ng]},z3=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function Mxe(t){for(var e=0;e<z3.length;e++)for(var n=z3[e],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(t>=i[0]&&t<=i[1])return n.name}return null}var Yb=[];z3.forEach(t=>t.blocks.forEach(e=>Yb.push(...e)));function aU(t){for(var e=0;e<Yb.length;e+=2)if(t>=Yb[e]&&t<=Yb[e+1])return!0;return!1}var Sf=80,Ixe=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},$xe=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},Lxe=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},Nxe=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},Fxe=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},Bxe=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},zxe=function(e,n,r){var i=r-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},Qxe=function(e,n,r){n=1e3*n;var i="";switch(e){case"sqrtMain":i=Ixe(n,Sf);break;case"sqrtSize1":i=$xe(n,Sf);break;case"sqrtSize2":i=Lxe(n,Sf);break;case"sqrtSize3":i=Nxe(n,Sf);break;case"sqrtSize4":i=Fxe(n,Sf);break;case"sqrtTall":i=zxe(n,Sf,r)}return i},Uxe=function(e,n){switch(e){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},UA={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},Vxe=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Hv{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return Qt.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}}var Hl={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},H1={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},VA={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function jxe(t,e){Hl[t]=e}function hE(t,e,n){if(!Hl[e])throw new Error("Font metrics not found for font: "+e+".");var r=t.charCodeAt(0),i=Hl[e][r];if(!i&&t[0]in VA&&(r=VA[t[0]].charCodeAt(0),i=Hl[e][r]),!i&&n==="text"&&aU(r)&&(i=Hl[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var uS={};function qxe(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!uS[e]){var n=uS[e]={cssEmPerMu:H1.quad[e]/18};for(var r in H1)H1.hasOwnProperty(r)&&(n[r]=H1[r][e])}return uS[e]}var Hxe=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],jA=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],qA=function(e,n){return n.size<2?e:Hxe[e-1][n.size-1]};class Ic{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Ic.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=jA[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return new Ic(n)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:qA(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:jA[e-1]})}havingBaseStyle(e){e=e||this.style.text();var n=qA(Ic.BASESIZE,e);return this.size===n&&this.textSize===Ic.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Ic.BASESIZE?["sizing","reset-size"+this.size,"size"+Ic.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=qxe(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Ic.BASESIZE=6;var Q3={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Wxe={ex:!0,em:!0,mu:!0},lU=function(e){return typeof e!="string"&&(e=e.unit),e in Q3||e in Wxe||e==="ex"},Lr=function(e,n){var r;if(e.unit in Q3)r=Q3[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,e.unit==="ex")r=i.fontMetrics().xHeight;else if(e.unit==="em")r=i.fontMetrics().quad;else throw new je("Invalid unit: '"+e.unit+"'");i!==n&&(r*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*r,n.maxSize)},nt=function(e){return+e.toFixed(4)+"em"},vd=function(e){return e.filter(n=>n).join(" ")},cU=function(e,n,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},uU=function(e){var n=document.createElement(e);n.className=vd(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var s=0;s<this.children.length;s++)n.appendChild(this.children[s].toNode());return n},Xxe=/[\s"'>/=\x00-\x1f]/,dU=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+Qt.escape(vd(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Qt.hyphenate(i)+":"+this.style[i]+";");r&&(n+=' style="'+Qt.escape(r)+'"');for(var s in this.attributes)if(this.attributes.hasOwnProperty(s)){if(Xxe.test(s))throw new je("Invalid attribute name '"+s+"'");n+=" "+s+'="'+Qt.escape(this.attributes[s])+'"'}n+=">";for(var o=0;o<this.children.length;o++)n+=this.children[o].toMarkup();return n+="</"+e+">",n};class Wv{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,cU.call(this,e,r,i),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return Qt.contains(this.classes,e)}toNode(){return uU.call(this,"span")}toMarkup(){return dU.call(this,"span")}}class fE{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,cU.call(this,n,i),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return Qt.contains(this.classes,e)}toNode(){return uU.call(this,"a")}toMarkup(){return dU.call(this,"a")}}class Yxe{constructor(e,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return Qt.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e='<img src="'+Qt.escape(this.src)+'"'+(' alt="'+Qt.escape(this.alt)+'"'),n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=Qt.hyphenate(r)+":"+this.style[r]+";");return n&&(e+=' style="'+Qt.escape(n)+'"'),e+="'/>",e}}var Gxe={:"",:"",:"",:""};class Ra{constructor(e,n,r,i,s,o,a,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=s||0,this.width=o||0,this.classes=a||[],this.style=l||{},this.maxFontSize=0;var c=Mxe(this.text.charCodeAt(0));c&&this.classes.push(c+"_fallback"),/[]/.test(this.text)&&(this.text=Gxe[this.text])}hasClass(e){return Qt.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=nt(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=vd(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=Qt.escape(vd(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Qt.hyphenate(i)+":"+this.style[i]+";");r&&(e=!0,n+=' style="'+Qt.escape(r)+'"');var s=Qt.escape(this.text);return e?(n+=">",n+=s,n+="</span>",n):s}}class ru{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+Qt.escape(this.attributes[n])+'"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class bd{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",UA[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+Qt.escape(this.alternate)+'"/>':'<path d="'+Qt.escape(UA[this.pathName])+'"/>'}}class U3{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+Qt.escape(this.attributes[n])+'"');return e+="/>",e}}function HA(t){if(t instanceof Ra)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function Zxe(t){if(t instanceof Wv)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var Kxe={bin:1,close:1,inner:1,open:1,punct:1,rel:1},Jxe={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},vr={math:{},text:{}};function w(t,e,n,r,i,s){vr[t][i]={font:e,group:n,replace:r},s&&r&&(vr[t][r]=vr[t][i])}var _="math",Be="text",A="main",G="ams",Ar="accent-token",bt="bin",js="close",Cg="inner",jt="mathord",ai="op-token",ea="open",QO="punct",ee="rel",gu="spacing",ae="textord";w(_,A,ee,"","\\equiv",!0);w(_,A,ee,"","\\prec",!0);w(_,A,ee,"","\\succ",!0);w(_,A,ee,"","\\sim",!0);w(_,A,ee,"","\\perp");w(_,A,ee,"","\\preceq",!0);w(_,A,ee,"","\\succeq",!0);w(_,A,ee,"","\\simeq",!0);w(_,A,ee,"","\\mid",!0);w(_,A,ee,"","\\ll",!0);w(_,A,ee,"","\\gg",!0);w(_,A,ee,"","\\asymp",!0);w(_,A,ee,"","\\parallel");w(_,A,ee,"","\\bowtie",!0);w(_,A,ee,"","\\smile",!0);w(_,A,ee,"","\\sqsubseteq",!0);w(_,A,ee,"","\\sqsupseteq",!0);w(_,A,ee,"","\\doteq",!0);w(_,A,ee,"","\\frown",!0);w(_,A,ee,"","\\ni",!0);w(_,A,ee,"","\\propto",!0);w(_,A,ee,"","\\vdash",!0);w(_,A,ee,"","\\dashv",!0);w(_,A,ee,"","\\owns");w(_,A,QO,".","\\ldotp");w(_,A,QO,"","\\cdotp");w(_,A,ae,"#","\\#");w(Be,A,ae,"#","\\#");w(_,A,ae,"&","\\&");w(Be,A,ae,"&","\\&");w(_,A,ae,"","\\aleph",!0);w(_,A,ae,"","\\forall",!0);w(_,A,ae,"","\\hbar",!0);w(_,A,ae,"","\\exists",!0);w(_,A,ae,"","\\nabla",!0);w(_,A,ae,"","\\flat",!0);w(_,A,ae,"","\\ell",!0);w(_,A,ae,"","\\natural",!0);w(_,A,ae,"","\\clubsuit",!0);w(_,A,ae,"","\\wp",!0);w(_,A,ae,"","\\sharp",!0);w(_,A,ae,"","\\diamondsuit",!0);w(_,A,ae,"","\\Re",!0);w(_,A,ae,"","\\heartsuit",!0);w(_,A,ae,"","\\Im",!0);w(_,A,ae,"","\\spadesuit",!0);w(_,A,ae,"","\\S",!0);w(Be,A,ae,"","\\S");w(_,A,ae,"","\\P",!0);w(Be,A,ae,"","\\P");w(_,A,ae,"","\\dag");w(Be,A,ae,"","\\dag");w(Be,A,ae,"","\\textdagger");w(_,A,ae,"","\\ddag");w(Be,A,ae,"","\\ddag");w(Be,A,ae,"","\\textdaggerdbl");w(_,A,js,"","\\rmoustache",!0);w(_,A,ea,"","\\lmoustache",!0);w(_,A,js,"","\\rgroup",!0);w(_,A,ea,"","\\lgroup",!0);w(_,A,bt,"","\\mp",!0);w(_,A,bt,"","\\ominus",!0);w(_,A,bt,"","\\uplus",!0);w(_,A,bt,"","\\sqcap",!0);w(_,A,bt,"","\\ast");w(_,A,bt,"","\\sqcup",!0);w(_,A,bt,"","\\bigcirc",!0);w(_,A,bt,"","\\bullet",!0);w(_,A,bt,"","\\ddagger");w(_,A,bt,"","\\wr",!0);w(_,A,bt,"","\\amalg");w(_,A,bt,"&","\\And");w(_,A,ee,"","\\longleftarrow",!0);w(_,A,ee,"","\\Leftarrow",!0);w(_,A,ee,"","\\Longleftarrow",!0);w(_,A,ee,"","\\longrightarrow",!0);w(_,A,ee,"","\\Rightarrow",!0);w(_,A,ee,"","\\Longrightarrow",!0);w(_,A,ee,"","\\leftrightarrow",!0);w(_,A,ee,"","\\longleftrightarrow",!0);w(_,A,ee,"","\\Leftrightarrow",!0);w(_,A,ee,"","\\Longleftrightarrow",!0);w(_,A,ee,"","\\mapsto",!0);w(_,A,ee,"","\\longmapsto",!0);w(_,A,ee,"","\\nearrow",!0);w(_,A,ee,"","\\hookleftarrow",!0);w(_,A,ee,"","\\hookrightarrow",!0);w(_,A,ee,"","\\searrow",!0);w(_,A,ee,"","\\leftharpoonup",!0);w(_,A,ee,"","\\rightharpoonup",!0);w(_,A,ee,"","\\swarrow",!0);w(_,A,ee,"","\\leftharpoondown",!0);w(_,A,ee,"","\\rightharpoondown",!0);w(_,A,ee,"","\\nwarrow",!0);w(_,A,ee,"","\\rightleftharpoons",!0);w(_,G,ee,"","\\nless",!0);w(_,G,ee,"","\\@nleqslant");w(_,G,ee,"","\\@nleqq");w(_,G,ee,"","\\lneq",!0);w(_,G,ee,"","\\lneqq",!0);w(_,G,ee,"","\\@lvertneqq");w(_,G,ee,"","\\lnsim",!0);w(_,G,ee,"","\\lnapprox",!0);w(_,G,ee,"","\\nprec",!0);w(_,G,ee,"","\\npreceq",!0);w(_,G,ee,"","\\precnsim",!0);w(_,G,ee,"","\\precnapprox",!0);w(_,G,ee,"","\\nsim",!0);w(_,G,ee,"","\\@nshortmid");w(_,G,ee,"","\\nmid",!0);w(_,G,ee,"","\\nvdash",!0);w(_,G,ee,"","\\nvDash",!0);w(_,G,ee,"","\\ntriangleleft");w(_,G,ee,"","\\ntrianglelefteq",!0);w(_,G,ee,"","\\subsetneq",!0);w(_,G,ee,"","\\@varsubsetneq");w(_,G,ee,"","\\subsetneqq",!0);w(_,G,ee,"","\\@varsubsetneqq");w(_,G,ee,"","\\ngtr",!0);w(_,G,ee,"","\\@ngeqslant");w(_,G,ee,"","\\@ngeqq");w(_,G,ee,"","\\gneq",!0);w(_,G,ee,"","\\gneqq",!0);w(_,G,ee,"","\\@gvertneqq");w(_,G,ee,"","\\gnsim",!0);w(_,G,ee,"","\\gnapprox",!0);w(_,G,ee,"","\\nsucc",!0);w(_,G,ee,"","\\nsucceq",!0);w(_,G,ee,"","\\succnsim",!0);w(_,G,ee,"","\\succnapprox",!0);w(_,G,ee,"","\\ncong",!0);w(_,G,ee,"","\\@nshortparallel");w(_,G,ee,"","\\nparallel",!0);w(_,G,ee,"","\\nVDash",!0);w(_,G,ee,"","\\ntriangleright");w(_,G,ee,"","\\ntrianglerighteq",!0);w(_,G,ee,"","\\@nsupseteqq");w(_,G,ee,"","\\supsetneq",!0);w(_,G,ee,"","\\@varsupsetneq");w(_,G,ee,"","\\supsetneqq",!0);w(_,G,ee,"","\\@varsupsetneqq");w(_,G,ee,"","\\nVdash",!0);w(_,G,ee,"","\\precneqq",!0);w(_,G,ee,"","\\succneqq",!0);w(_,G,ee,"","\\@nsubseteqq");w(_,G,bt,"","\\unlhd");w(_,G,bt,"","\\unrhd");w(_,G,ee,"","\\nleftarrow",!0);w(_,G,ee,"","\\nrightarrow",!0);w(_,G,ee,"","\\nLeftarrow",!0);w(_,G,ee,"","\\nRightarrow",!0);w(_,G,ee,"","\\nleftrightarrow",!0);w(_,G,ee,"","\\nLeftrightarrow",!0);w(_,G,ee,"","\\vartriangle");w(_,G,ae,"","\\hslash");w(_,G,ae,"","\\triangledown");w(_,G,ae,"","\\lozenge");w(_,G,ae,"","\\circledS");w(_,G,ae,"","\\circledR");w(Be,G,ae,"","\\circledR");w(_,G,ae,"","\\measuredangle",!0);w(_,G,ae,"","\\nexists");w(_,G,ae,"","\\mho");w(_,G,ae,"","\\Finv",!0);w(_,G,ae,"","\\Game",!0);w(_,G,ae,"","\\backprime");w(_,G,ae,"","\\blacktriangle");w(_,G,ae,"","\\blacktriangledown");w(_,G,ae,"","\\blacksquare");w(_,G,ae,"","\\blacklozenge");w(_,G,ae,"","\\bigstar");w(_,G,ae,"","\\sphericalangle",!0);w(_,G,ae,"","\\complement",!0);w(_,G,ae,"","\\eth",!0);w(Be,A,ae,"","");w(_,G,ae,"","\\diagup");w(_,G,ae,"","\\diagdown");w(_,G,ae,"","\\square");w(_,G,ae,"","\\Box");w(_,G,ae,"","\\Diamond");w(_,G,ae,"","\\yen",!0);w(Be,G,ae,"","\\yen",!0);w(_,G,ae,"","\\checkmark",!0);w(Be,G,ae,"","\\checkmark");w(_,G,ae,"","\\beth",!0);w(_,G,ae,"","\\daleth",!0);w(_,G,ae,"","\\gimel",!0);w(_,G,ae,"","\\digamma",!0);w(_,G,ae,"","\\varkappa");w(_,G,ea,"","\\@ulcorner",!0);w(_,G,js,"","\\@urcorner",!0);w(_,G,ea,"","\\@llcorner",!0);w(_,G,js,"","\\@lrcorner",!0);w(_,G,ee,"","\\leqq",!0);w(_,G,ee,"","\\leqslant",!0);w(_,G,ee,"","\\eqslantless",!0);w(_,G,ee,"","\\lesssim",!0);w(_,G,ee,"","\\lessapprox",!0);w(_,G,ee,"","\\approxeq",!0);w(_,G,bt,"","\\lessdot");w(_,G,ee,"","\\lll",!0);w(_,G,ee,"","\\lessgtr",!0);w(_,G,ee,"","\\lesseqgtr",!0);w(_,G,ee,"","\\lesseqqgtr",!0);w(_,G,ee,"","\\doteqdot");w(_,G,ee,"","\\risingdotseq",!0);w(_,G,ee,"","\\fallingdotseq",!0);w(_,G,ee,"","\\backsim",!0);w(_,G,ee,"","\\backsimeq",!0);w(_,G,ee,"","\\subseteqq",!0);w(_,G,ee,"","\\Subset",!0);w(_,G,ee,"","\\sqsubset",!0);w(_,G,ee,"","\\preccurlyeq",!0);w(_,G,ee,"","\\curlyeqprec",!0);w(_,G,ee,"","\\precsim",!0);w(_,G,ee,"","\\precapprox",!0);w(_,G,ee,"","\\vartriangleleft");w(_,G,ee,"","\\trianglelefteq");w(_,G,ee,"","\\vDash",!0);w(_,G,ee,"","\\Vvdash",!0);w(_,G,ee,"","\\smallsmile");w(_,G,ee,"","\\smallfrown");w(_,G,ee,"","\\bumpeq",!0);w(_,G,ee,"","\\Bumpeq",!0);w(_,G,ee,"","\\geqq",!0);w(_,G,ee,"","\\geqslant",!0);w(_,G,ee,"","\\eqslantgtr",!0);w(_,G,ee,"","\\gtrsim",!0);w(_,G,ee,"","\\gtrapprox",!0);w(_,G,bt,"","\\gtrdot");w(_,G,ee,"","\\ggg",!0);w(_,G,ee,"","\\gtrless",!0);w(_,G,ee,"","\\gtreqless",!0);w(_,G,ee,"","\\gtreqqless",!0);w(_,G,ee,"","\\eqcirc",!0);w(_,G,ee,"","\\circeq",!0);w(_,G,ee,"","\\triangleq",!0);w(_,G,ee,"","\\thicksim");w(_,G,ee,"","\\thickapprox");w(_,G,ee,"","\\supseteqq",!0);w(_,G,ee,"","\\Supset",!0);w(_,G,ee,"","\\sqsupset",!0);w(_,G,ee,"","\\succcurlyeq",!0);w(_,G,ee,"","\\curlyeqsucc",!0);w(_,G,ee,"","\\succsim",!0);w(_,G,ee,"","\\succapprox",!0);w(_,G,ee,"","\\vartriangleright");w(_,G,ee,"","\\trianglerighteq");w(_,G,ee,"","\\Vdash",!0);w(_,G,ee,"","\\shortmid");w(_,G,ee,"","\\shortparallel");w(_,G,ee,"","\\between",!0);w(_,G,ee,"","\\pitchfork",!0);w(_,G,ee,"","\\varpropto");w(_,G,ee,"","\\blacktriangleleft");w(_,G,ee,"","\\therefore",!0);w(_,G,ee,"","\\backepsilon");w(_,G,ee,"","\\blacktriangleright");w(_,G,ee,"","\\because",!0);w(_,G,ee,"","\\llless");w(_,G,ee,"","\\gggtr");w(_,G,bt,"","\\lhd");w(_,G,bt,"","\\rhd");w(_,G,ee,"","\\eqsim",!0);w(_,A,ee,"","\\Join");w(_,G,ee,"","\\Doteq",!0);w(_,G,bt,"","\\dotplus",!0);w(_,G,bt,"","\\smallsetminus");w(_,G,bt,"","\\Cap",!0);w(_,G,bt,"","\\Cup",!0);w(_,G,bt,"","\\doublebarwedge",!0);w(_,G,bt,"","\\boxminus",!0);w(_,G,bt,"","\\boxplus",!0);w(_,G,bt,"","\\divideontimes",!0);w(_,G,bt,"","\\ltimes",!0);w(_,G,bt,"","\\rtimes",!0);w(_,G,bt,"","\\leftthreetimes",!0);w(_,G,bt,"","\\rightthreetimes",!0);w(_,G,bt,"","\\curlywedge",!0);w(_,G,bt,"","\\curlyvee",!0);w(_,G,bt,"","\\circleddash",!0);w(_,G,bt,"","\\circledast",!0);w(_,G,bt,"","\\centerdot");w(_,G,bt,"","\\intercal",!0);w(_,G,bt,"","\\doublecap");w(_,G,bt,"","\\doublecup");w(_,G,bt,"","\\boxtimes",!0);w(_,G,ee,"","\\dashrightarrow",!0);w(_,G,ee,"","\\dashleftarrow",!0);w(_,G,ee,"","\\leftleftarrows",!0);w(_,G,ee,"","\\leftrightarrows",!0);w(_,G,ee,"","\\Lleftarrow",!0);w(_,G,ee,"","\\twoheadleftarrow",!0);w(_,G,ee,"","\\leftarrowtail",!0);w(_,G,ee,"","\\looparrowleft",!0);w(_,G,ee,"","\\leftrightharpoons",!0);w(_,G,ee,"","\\curvearrowleft",!0);w(_,G,ee,"","\\circlearrowleft",!0);w(_,G,ee,"","\\Lsh",!0);w(_,G,ee,"","\\upuparrows",!0);w(_,G,ee,"","\\upharpoonleft",!0);w(_,G,ee,"","\\downharpoonleft",!0);w(_,A,ee,"","\\origof",!0);w(_,A,ee,"","\\imageof",!0);w(_,G,ee,"","\\multimap",!0);w(_,G,ee,"","\\leftrightsquigarrow",!0);w(_,G,ee,"","\\rightrightarrows",!0);w(_,G,ee,"","\\rightleftarrows",!0);w(_,G,ee,"","\\twoheadrightarrow",!0);w(_,G,ee,"","\\rightarrowtail",!0);w(_,G,ee,"","\\looparrowright",!0);w(_,G,ee,"","\\curvearrowright",!0);w(_,G,ee,"","\\circlearrowright",!0);w(_,G,ee,"","\\Rsh",!0);w(_,G,ee,"","\\downdownarrows",!0);w(_,G,ee,"","\\upharpoonright",!0);w(_,G,ee,"","\\downharpoonright",!0);w(_,G,ee,"","\\rightsquigarrow",!0);w(_,G,ee,"","\\leadsto");w(_,G,ee,"","\\Rrightarrow",!0);w(_,G,ee,"","\\restriction");w(_,A,ae,"","`");w(_,A,ae,"$","\\$");w(Be,A,ae,"$","\\$");w(Be,A,ae,"$","\\textdollar");w(_,A,ae,"%","\\%");w(Be,A,ae,"%","\\%");w(_,A,ae,"_","\\_");w(Be,A,ae,"_","\\_");w(Be,A,ae,"_","\\textunderscore");w(_,A,ae,"","\\angle",!0);w(_,A,ae,"","\\infty",!0);w(_,A,ae,"","\\prime");w(_,A,ae,"","\\triangle");w(_,A,ae,"","\\Gamma",!0);w(_,A,ae,"","\\Delta",!0);w(_,A,ae,"","\\Theta",!0);w(_,A,ae,"","\\Lambda",!0);w(_,A,ae,"","\\Xi",!0);w(_,A,ae,"","\\Pi",!0);w(_,A,ae,"","\\Sigma",!0);w(_,A,ae,"","\\Upsilon",!0);w(_,A,ae,"","\\Phi",!0);w(_,A,ae,"","\\Psi",!0);w(_,A,ae,"","\\Omega",!0);w(_,A,ae,"A","");w(_,A,ae,"B","");w(_,A,ae,"E","");w(_,A,ae,"Z","");w(_,A,ae,"H","");w(_,A,ae,"I","");w(_,A,ae,"K","");w(_,A,ae,"M","");w(_,A,ae,"N","");w(_,A,ae,"O","");w(_,A,ae,"P","");w(_,A,ae,"T","");w(_,A,ae,"X","");w(_,A,ae,"","\\neg",!0);w(_,A,ae,"","\\lnot");w(_,A,ae,"","\\top");w(_,A,ae,"","\\bot");w(_,A,ae,"","\\emptyset");w(_,G,ae,"","\\varnothing");w(_,A,jt,"","\\alpha",!0);w(_,A,jt,"","\\beta",!0);w(_,A,jt,"","\\gamma",!0);w(_,A,jt,"","\\delta",!0);w(_,A,jt,"","\\epsilon",!0);w(_,A,jt,"","\\zeta",!0);w(_,A,jt,"","\\eta",!0);w(_,A,jt,"","\\theta",!0);w(_,A,jt,"","\\iota",!0);w(_,A,jt,"","\\kappa",!0);w(_,A,jt,"","\\lambda",!0);w(_,A,jt,"","\\mu",!0);w(_,A,jt,"","\\nu",!0);w(_,A,jt,"","\\xi",!0);w(_,A,jt,"","\\omicron",!0);w(_,A,jt,"","\\pi",!0);w(_,A,jt,"","\\rho",!0);w(_,A,jt,"","\\sigma",!0);w(_,A,jt,"","\\tau",!0);w(_,A,jt,"","\\upsilon",!0);w(_,A,jt,"","\\phi",!0);w(_,A,jt,"","\\chi",!0);w(_,A,jt,"","\\psi",!0);w(_,A,jt,"","\\omega",!0);w(_,A,jt,"","\\varepsilon",!0);w(_,A,jt,"","\\vartheta",!0);w(_,A,jt,"","\\varpi",!0);w(_,A,jt,"","\\varrho",!0);w(_,A,jt,"","\\varsigma",!0);w(_,A,jt,"","\\varphi",!0);w(_,A,bt,"","*",!0);w(_,A,bt,"+","+");w(_,A,bt,"","-",!0);w(_,A,bt,"","\\cdot",!0);w(_,A,bt,"","\\circ",!0);w(_,A,bt,"","\\div",!0);w(_,A,bt,"","\\pm",!0);w(_,A,bt,"","\\times",!0);w(_,A,bt,"","\\cap",!0);w(_,A,bt,"","\\cup",!0);w(_,A,bt,"","\\setminus",!0);w(_,A,bt,"","\\land");w(_,A,bt,"","\\lor");w(_,A,bt,"","\\wedge",!0);w(_,A,bt,"","\\vee",!0);w(_,A,ae,"","\\surd");w(_,A,ea,"","\\langle",!0);w(_,A,ea,"","\\lvert");w(_,A,ea,"","\\lVert");w(_,A,js,"?","?");w(_,A,js,"!","!");w(_,A,js,"","\\rangle",!0);w(_,A,js,"","\\rvert");w(_,A,js,"","\\rVert");w(_,A,ee,"=","=");w(_,A,ee,":",":");w(_,A,ee,"","\\approx",!0);w(_,A,ee,"","\\cong",!0);w(_,A,ee,"","\\ge");w(_,A,ee,"","\\geq",!0);w(_,A,ee,"","\\gets");w(_,A,ee,">","\\gt",!0);w(_,A,ee,"","\\in",!0);w(_,A,ee,"","\\@not");w(_,A,ee,"","\\subset",!0);w(_,A,ee,"","\\supset",!0);w(_,A,ee,"","\\subseteq",!0);w(_,A,ee,"","\\supseteq",!0);w(_,G,ee,"","\\nsubseteq",!0);w(_,G,ee,"","\\nsupseteq",!0);w(_,A,ee,"","\\models");w(_,A,ee,"","\\leftarrow",!0);w(_,A,ee,"","\\le");w(_,A,ee,"","\\leq",!0);w(_,A,ee,"<","\\lt",!0);w(_,A,ee,"","\\rightarrow",!0);w(_,A,ee,"","\\to");w(_,G,ee,"","\\ngeq",!0);w(_,G,ee,"","\\nleq",!0);w(_,A,gu,"","\\ ");w(_,A,gu,"","\\space");w(_,A,gu,"","\\nobreakspace");w(Be,A,gu,"","\\ ");w(Be,A,gu,""," ");w(Be,A,gu,"","\\space");w(Be,A,gu,"","\\nobreakspace");w(_,A,gu,null,"\\nobreak");w(_,A,gu,null,"\\allowbreak");w(_,A,QO,",",",");w(_,A,QO,";",";");w(_,G,bt,"","\\barwedge",!0);w(_,G,bt,"","\\veebar",!0);w(_,A,bt,"","\\odot",!0);w(_,A,bt,"","\\oplus",!0);w(_,A,bt,"","\\otimes",!0);w(_,A,ae,"","\\partial",!0);w(_,A,bt,"","\\oslash",!0);w(_,G,bt,"","\\circledcirc",!0);w(_,G,bt,"","\\boxdot",!0);w(_,A,bt,"","\\bigtriangleup");w(_,A,bt,"","\\bigtriangledown");w(_,A,bt,"","\\dagger");w(_,A,bt,"","\\diamond");w(_,A,bt,"","\\star");w(_,A,bt,"","\\triangleleft");w(_,A,bt,"","\\triangleright");w(_,A,ea,"{","\\{");w(Be,A,ae,"{","\\{");w(Be,A,ae,"{","\\textbraceleft");w(_,A,js,"}","\\}");w(Be,A,ae,"}","\\}");w(Be,A,ae,"}","\\textbraceright");w(_,A,ea,"{","\\lbrace");w(_,A,js,"}","\\rbrace");w(_,A,ea,"[","\\lbrack",!0);w(Be,A,ae,"[","\\lbrack",!0);w(_,A,js,"]","\\rbrack",!0);w(Be,A,ae,"]","\\rbrack",!0);w(_,A,ea,"(","\\lparen",!0);w(_,A,js,")","\\rparen",!0);w(Be,A,ae,"<","\\textless",!0);w(Be,A,ae,">","\\textgreater",!0);w(_,A,ea,"","\\lfloor",!0);w(_,A,js,"","\\rfloor",!0);w(_,A,ea,"","\\lceil",!0);w(_,A,js,"","\\rceil",!0);w(_,A,ae,"\\","\\backslash");w(_,A,ae,"","|");w(_,A,ae,"","\\vert");w(Be,A,ae,"|","\\textbar",!0);w(_,A,ae,"","\\|");w(_,A,ae,"","\\Vert");w(Be,A,ae,"","\\textbardbl");w(Be,A,ae,"~","\\textasciitilde");w(Be,A,ae,"\\","\\textbackslash");w(Be,A,ae,"^","\\textasciicircum");w(_,A,ee,"","\\uparrow",!0);w(_,A,ee,"","\\Uparrow",!0);w(_,A,ee,"","\\downarrow",!0);w(_,A,ee,"","\\Downarrow",!0);w(_,A,ee,"","\\updownarrow",!0);w(_,A,ee,"","\\Updownarrow",!0);w(_,A,ai,"","\\coprod");w(_,A,ai,"","\\bigvee");w(_,A,ai,"","\\bigwedge");w(_,A,ai,"","\\biguplus");w(_,A,ai,"","\\bigcap");w(_,A,ai,"","\\bigcup");w(_,A,ai,"","\\int");w(_,A,ai,"","\\intop");w(_,A,ai,"","\\iint");w(_,A,ai,"","\\iiint");w(_,A,ai,"","\\prod");w(_,A,ai,"","\\sum");w(_,A,ai,"","\\bigotimes");w(_,A,ai,"","\\bigoplus");w(_,A,ai,"","\\bigodot");w(_,A,ai,"","\\oint");w(_,A,ai,"","\\oiint");w(_,A,ai,"","\\oiiint");w(_,A,ai,"","\\bigsqcup");w(_,A,ai,"","\\smallint");w(Be,A,Cg,"","\\textellipsis");w(_,A,Cg,"","\\mathellipsis");w(Be,A,Cg,"","\\ldots",!0);w(_,A,Cg,"","\\ldots",!0);w(_,A,Cg,"","\\@cdots",!0);w(_,A,Cg,"","\\ddots",!0);w(_,A,ae,"","\\varvdots");w(Be,A,ae,"","\\varvdots");w(_,A,Ar,"","\\acute");w(_,A,Ar,"","\\grave");w(_,A,Ar,"","\\ddot");w(_,A,Ar,"~","\\tilde");w(_,A,Ar,"","\\bar");w(_,A,Ar,"","\\breve");w(_,A,Ar,"","\\check");w(_,A,Ar,"^","\\hat");w(_,A,Ar,"","\\vec");w(_,A,Ar,"","\\dot");w(_,A,Ar,"","\\mathring");w(_,A,jt,"","\\@imath");w(_,A,jt,"","\\@jmath");w(_,A,ae,"","");w(_,A,ae,"","");w(Be,A,ae,"","\\i",!0);w(Be,A,ae,"","\\j",!0);w(Be,A,ae,"","\\ss",!0);w(Be,A,ae,"","\\ae",!0);w(Be,A,ae,"","\\oe",!0);w(Be,A,ae,"","\\o",!0);w(Be,A,ae,"","\\AE",!0);w(Be,A,ae,"","\\OE",!0);w(Be,A,ae,"","\\O",!0);w(Be,A,Ar,"","\\'");w(Be,A,Ar,"","\\`");w(Be,A,Ar,"","\\^");w(Be,A,Ar,"","\\~");w(Be,A,Ar,"","\\=");w(Be,A,Ar,"","\\u");w(Be,A,Ar,"","\\.");w(Be,A,Ar,"","\\c");w(Be,A,Ar,"","\\r");w(Be,A,Ar,"","\\v");w(Be,A,Ar,"",'\\"');w(Be,A,Ar,"","\\H");w(Be,A,Ar,"","\\textcircled");var hU={"--":!0,"---":!0,"``":!0,"''":!0};w(Be,A,ae,"","--",!0);w(Be,A,ae,"","\\textendash");w(Be,A,ae,"","---",!0);w(Be,A,ae,"","\\textemdash");w(Be,A,ae,"","`",!0);w(Be,A,ae,"","\\textquoteleft");w(Be,A,ae,"","'",!0);w(Be,A,ae,"","\\textquoteright");w(Be,A,ae,"","``",!0);w(Be,A,ae,"","\\textquotedblleft");w(Be,A,ae,"","''",!0);w(Be,A,ae,"","\\textquotedblright");w(_,A,ae,"","\\degree",!0);w(Be,A,ae,"","\\degree");w(Be,A,ae,"","\\textdegree",!0);w(_,A,ae,"","\\pounds");w(_,A,ae,"","\\mathsterling",!0);w(Be,A,ae,"","\\pounds");w(Be,A,ae,"","\\textsterling",!0);w(_,G,ae,"","\\maltese");w(Be,G,ae,"","\\maltese");var WA='0123456789/@."';for(var dS=0;dS<WA.length;dS++){var XA=WA.charAt(dS);w(_,A,ae,XA,XA)}var YA='0123456789!@*()-=+";:?/.,';for(var hS=0;hS<YA.length;hS++){var GA=YA.charAt(hS);w(Be,A,ae,GA,GA)}var f2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var fS=0;fS<f2.length;fS++){var W1=f2.charAt(fS);w(_,A,jt,W1,W1),w(Be,A,ae,W1,W1)}w(_,G,ae,"C","");w(Be,G,ae,"C","");w(_,G,ae,"H","");w(Be,G,ae,"H","");w(_,G,ae,"N","");w(Be,G,ae,"N","");w(_,G,ae,"P","");w(Be,G,ae,"P","");w(_,G,ae,"Q","");w(Be,G,ae,"Q","");w(_,G,ae,"R","");w(Be,G,ae,"R","");w(_,G,ae,"Z","");w(Be,G,ae,"Z","");w(_,A,jt,"h","");w(Be,A,jt,"h","");var Gt="";for(var Os=0;Os<f2.length;Os++){var Br=f2.charAt(Os);Gt=String.fromCharCode(55349,56320+Os),w(_,A,jt,Br,Gt),w(Be,A,ae,Br,Gt),Gt=String.fromCharCode(55349,56372+Os),w(_,A,jt,Br,Gt),w(Be,A,ae,Br,Gt),Gt=String.fromCharCode(55349,56424+Os),w(_,A,jt,Br,Gt),w(Be,A,ae,Br,Gt),Gt=String.fromCharCode(55349,56580+Os),w(_,A,jt,Br,Gt),w(Be,A,ae,Br,Gt),Gt=String.fromCharCode(55349,56684+Os),w(_,A,jt,Br,Gt),w(Be,A,ae,Br,Gt),Gt=String.fromCharCode(55349,56736+Os),w(_,A,jt,Br,Gt),w(Be,A,ae,Br,Gt),Gt=String.fromCharCode(55349,56788+Os),w(_,A,jt,Br,Gt),w(Be,A,ae,Br,Gt),Gt=String.fromCharCode(55349,56840+Os),w(_,A,jt,Br,Gt),w(Be,A,ae,Br,Gt),Gt=String.fromCharCode(55349,56944+Os),w(_,A,jt,Br,Gt),w(Be,A,ae,Br,Gt),Os<26&&(Gt=String.fromCharCode(55349,56632+Os),w(_,A,jt,Br,Gt),w(Be,A,ae,Br,Gt),Gt=String.fromCharCode(55349,56476+Os),w(_,A,jt,Br,Gt),w(Be,A,ae,Br,Gt))}Gt="";w(_,A,jt,"k",Gt);w(Be,A,ae,"k",Gt);for(var jd=0;jd<10;jd++){var Du=jd.toString();Gt=String.fromCharCode(55349,57294+jd),w(_,A,jt,Du,Gt),w(Be,A,ae,Du,Gt),Gt=String.fromCharCode(55349,57314+jd),w(_,A,jt,Du,Gt),w(Be,A,ae,Du,Gt),Gt=String.fromCharCode(55349,57324+jd),w(_,A,jt,Du,Gt),w(Be,A,ae,Du,Gt),Gt=String.fromCharCode(55349,57334+jd),w(_,A,jt,Du,Gt),w(Be,A,ae,Du,Gt)}var V3="";for(var mS=0;mS<V3.length;mS++){var X1=V3.charAt(mS);w(_,A,jt,X1,X1),w(Be,A,ae,X1,X1)}var Y1=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],ZA=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],e3e=function(e,n){var r=e.charCodeAt(0),i=e.charCodeAt(1),s=(r-55296)*1024+(i-56320)+65536,o=n==="math"?0:1;if(119808<=s&&s<120484){var a=Math.floor((s-119808)/26);return[Y1[a][2],Y1[a][o]]}else if(120782<=s&&s<=120831){var l=Math.floor((s-120782)/10);return[ZA[l][2],ZA[l][o]]}else{if(s===120485||s===120486)return[Y1[0][2],Y1[0][o]];if(120486<s&&s<120782)return["",""];throw new je("Unsupported character: "+e)}},UO=function(e,n,r){return vr[r][e]&&vr[r][e].replace&&(e=vr[r][e].replace),{value:e,metrics:hE(e,n,r)}},Xa=function(e,n,r,i,s){var o=UO(e,n,r),a=o.metrics;e=o.value;var l;if(a){var c=a.italic;(r==="text"||i&&i.font==="mathit")&&(c=0),l=new Ra(e,a.height,a.depth,c,a.skew,a.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+r+"'")),l=new Ra(e,0,0,0,0,0,s);if(i){l.maxFontSize=i.sizeMultiplier,i.style.isTight()&&l.classes.push("mtight");var d=i.getColor();d&&(l.style.color=d)}return l},t3e=function(e,n,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&UO(e,"Main-Bold",n).metrics?Xa(e,"Main-Bold",n,r,i.concat(["mathbf"])):e==="\\"||vr[n][e].font==="main"?Xa(e,"Main-Regular",n,r,i):Xa(e,"AMS-Regular",n,r,i.concat(["amsrm"]))},n3e=function(e,n,r,i,s){return s!=="textord"&&UO(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},r3e=function(e,n,r){var i=e.mode,s=e.text,o=["mord"],a=i==="math"||i==="text"&&n.font,l=a?n.font:n.fontFamily,c="",d="";if(s.charCodeAt(0)===55349&&([c,d]=e3e(s,i)),c.length>0)return Xa(s,c,i,n,o.concat(d));if(l){var h,f;if(l==="boldsymbol"){var m=n3e(s,i,n,o,r);h=m.fontName,f=[m.fontClass]}else a?(h=gU[l].fontName,f=[l]):(h=G1(l,n.fontWeight,n.fontShape),f=[l,n.fontWeight,n.fontShape]);if(UO(s,h,i).metrics)return Xa(s,h,i,n,o.concat(f));if(hU.hasOwnProperty(s)&&h.slice(0,10)==="Typewriter"){for(var g=[],p=0;p<s.length;p++)g.push(Xa(s[p],h,i,n,o.concat(f)));return mU(g)}}if(r==="mathord")return Xa(s,"Math-Italic",i,n,o.concat(["mathnormal"]));if(r==="textord"){var v=vr[i][s]&&vr[i][s].font;if(v==="ams"){var b=G1("amsrm",n.fontWeight,n.fontShape);return Xa(s,b,i,n,o.concat("amsrm",n.fontWeight,n.fontShape))}else if(v==="main"||!v){var y=G1("textrm",n.fontWeight,n.fontShape);return Xa(s,y,i,n,o.concat(n.fontWeight,n.fontShape))}else{var C=G1(v,n.fontWeight,n.fontShape);return Xa(s,C,i,n,o.concat(C,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},i3e=(t,e)=>{if(vd(t.classes)!==vd(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var n=t.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in t.style)if(t.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},s3e=t=>{for(var e=0;e<t.length-1;e++){var n=t[e],r=t[e+1];n instanceof Ra&&r instanceof Ra&&i3e(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,t.splice(e+1,1),e--)}return t},mE=function(e){for(var n=0,r=0,i=0,s=0;s<e.children.length;s++){var o=e.children[s];o.height>n&&(n=o.height),o.depth>r&&(r=o.depth),o.maxFontSize>i&&(i=o.maxFontSize)}e.height=n,e.depth=r,e.maxFontSize=i},Js=function(e,n,r,i){var s=new Wv(e,n,r,i);return mE(s),s},fU=(t,e,n,r)=>new Wv(t,e,n,r),o3e=function(e,n,r){var i=Js([e],[],n);return i.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=nt(i.height),i.maxFontSize=1,i},a3e=function(e,n,r,i){var s=new fE(e,n,r,i);return mE(s),s},mU=function(e){var n=new Hv(e);return mE(n),n},l3e=function(e,n){return e instanceof Hv?Js([],[e],n):e},c3e=function(e){if(e.positionType==="individualShift"){for(var n=e.children,r=[n[0]],i=-n[0].shift-n[0].elem.depth,s=i,o=1;o<n.length;o++){var a=-n[o].shift-s-n[o].elem.depth,l=a-(n[o-1].elem.height+n[o-1].elem.depth);s=s+a,r.push({type:"kern",size:l}),r.push(n[o])}return{children:r,depth:i}}var c;if(e.positionType==="top"){for(var d=e.positionData,h=0;h<e.children.length;h++){var f=e.children[h];d-=f.type==="kern"?f.size:f.elem.height+f.elem.depth}c=d}else if(e.positionType==="bottom")c=-e.positionData;else{var m=e.children[0];if(m.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")c=-m.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")c=-m.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:c}},u3e=function(e,n){for(var{children:r,depth:i}=c3e(e),s=0,o=0;o<r.length;o++){var a=r[o];if(a.type==="elem"){var l=a.elem;s=Math.max(s,l.maxFontSize,l.height)}}s+=2;var c=Js(["pstrut"],[]);c.style.height=nt(s);for(var d=[],h=i,f=i,m=i,g=0;g<r.length;g++){var p=r[g];if(p.type==="kern")m+=p.size;else{var v=p.elem,b=p.wrapperClasses||[],y=p.wrapperStyle||{},C=Js(b,[c,v],void 0,y);C.style.top=nt(-s-m-v.depth),p.marginLeft&&(C.style.marginLeft=p.marginLeft),p.marginRight&&(C.style.marginRight=p.marginRight),d.push(C),m+=v.height+v.depth}h=Math.min(h,m),f=Math.max(f,m)}var x=Js(["vlist"],d);x.style.height=nt(f);var O;if(h<0){var S=Js([],[]),T=Js(["vlist"],[S]);T.style.height=nt(-h);var $=Js(["vlist-s"],[new Ra("")]);O=[Js(["vlist-r"],[x,$]),Js(["vlist-r"],[T])]}else O=[Js(["vlist-r"],[x])];var M=Js(["vlist-t"],O);return O.length===2&&M.classes.push("vlist-t2"),M.height=f,M.depth=-h,M},d3e=(t,e)=>{var n=Js(["mspace"],[],e),r=Lr(t,e);return n.style.marginRight=nt(r),n},G1=function(e,n,r){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var s;return n==="textbf"&&r==="textit"?s="BoldItalic":n==="textbf"?s="Bold":n==="textit"?s="Italic":s="Regular",i+"-"+s},gU={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},pU={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},h3e=function(e,n){var[r,i,s]=pU[e],o=new bd(r),a=new ru([o],{width:nt(i),height:nt(s),style:"width:"+nt(i),viewBox:"0 0 "+1e3*i+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),l=fU(["overlay"],[a],n);return l.height=s,l.style.height=nt(s),l.style.width=nt(i),l},be={fontMap:gU,makeSymbol:Xa,mathsym:t3e,makeSpan:Js,makeSvgSpan:fU,makeLineSpan:o3e,makeAnchor:a3e,makeFragment:mU,wrapFragment:l3e,makeVList:u3e,makeOrd:r3e,makeGlue:d3e,staticSvg:h3e,svgData:pU,tryCombineChars:s3e},Mr={number:3,unit:"mu"},qd={number:4,unit:"mu"},Sc={number:5,unit:"mu"},f3e={mord:{mop:Mr,mbin:qd,mrel:Sc,minner:Mr},mop:{mord:Mr,mop:Mr,mrel:Sc,minner:Mr},mbin:{mord:qd,mop:qd,mopen:qd,minner:qd},mrel:{mord:Sc,mop:Sc,mopen:Sc,minner:Sc},mopen:{},mclose:{mop:Mr,mbin:qd,mrel:Sc,minner:Mr},mpunct:{mord:Mr,mop:Mr,mrel:Sc,mopen:Mr,mclose:Mr,mpunct:Mr,minner:Mr},minner:{mord:Mr,mop:Mr,mbin:qd,mrel:Sc,mopen:Mr,mpunct:Mr,minner:Mr}},m3e={mord:{mop:Mr},mop:{mord:Mr,mop:Mr},mbin:{},mrel:{},mopen:{},mclose:{mop:Mr},mpunct:{},minner:{mop:Mr}},vU={},m2={},g2={};function ft(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:s,mathmlBuilder:o}=t,a={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},l=0;l<n.length;++l)vU[n[l]]=a;e&&(s&&(m2[e]=s),o&&(g2[e]=o))}function lf(t){var{type:e,htmlBuilder:n,mathmlBuilder:r}=t;ft({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var p2=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},Yr=function(e){return e.type==="ordgroup"?e.body:[e]},iu=be.makeSpan,g3e=["leftmost","mbin","mopen","mrel","mop","mpunct"],p3e=["rightmost","mrel","mclose","mpunct"],v3e={display:qt.DISPLAY,text:qt.TEXT,script:qt.SCRIPT,scriptscript:qt.SCRIPTSCRIPT},b3e={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},wi=function(e,n,r,i){i===void 0&&(i=[null,null]);for(var s=[],o=0;o<e.length;o++){var a=Ln(e[o],n);if(a instanceof Hv){var l=a.children;s.push(...l)}else s.push(a)}if(be.tryCombineChars(s),!r)return s;var c=n;if(e.length===1){var d=e[0];d.type==="sizing"?c=n.havingSize(d.size):d.type==="styling"&&(c=n.havingStyle(v3e[d.style]))}var h=iu([i[0]||"leftmost"],[],n),f=iu([i[1]||"rightmost"],[],n),m=r==="root";return KA(s,(g,p)=>{var v=p.classes[0],b=g.classes[0];v==="mbin"&&Qt.contains(p3e,b)?p.classes[0]="mord":b==="mbin"&&Qt.contains(g3e,v)&&(g.classes[0]="mord")},{node:h},f,m),KA(s,(g,p)=>{var v=j3(p),b=j3(g),y=v&&b?g.hasClass("mtight")?m3e[v][b]:f3e[v][b]:null;if(y)return be.makeGlue(y,c)},{node:h},f,m),s},KA=function t(e,n,r,i,s){i&&e.push(i);for(var o=0;o<e.length;o++){var a=e[o],l=bU(a);if(l){t(l.children,n,r,null,s);continue}var c=!a.hasClass("mspace");if(c){var d=n(a,r.node);d&&(r.insertAfter?r.insertAfter(d):(e.unshift(d),o++))}c?r.node=a:s&&a.hasClass("newline")&&(r.node=iu(["leftmost"])),r.insertAfter=(h=>f=>{e.splice(h+1,0,f),o++})(o)}i&&e.pop()},bU=function(e){return e instanceof Hv||e instanceof fE||e instanceof Wv&&e.hasClass("enclosing")?e:null},y3e=function t(e,n){var r=bU(e);if(r){var i=r.children;if(i.length){if(n==="right")return t(i[i.length-1],"right");if(n==="left")return t(i[0],"left")}}return e},j3=function(e,n){return e?(n&&(e=y3e(e,n)),b3e[e.classes[0]]||null):null},tv=function(e,n){var r=["nulldelimiter"].concat(e.baseSizingClasses());return iu(n.concat(r))},Ln=function(e,n,r){if(!e)return iu();if(m2[e.type]){var i=m2[e.type](e,n);if(r&&n.size!==r.size){i=iu(n.sizingClasses(r),[i],n);var s=n.sizeMultiplier/r.sizeMultiplier;i.height*=s,i.depth*=s}return i}else throw new je("Got group of unknown type: '"+e.type+"'")};function Z1(t,e){var n=iu(["base"],t,e),r=iu(["strut"]);return r.style.height=nt(n.height+n.depth),n.depth&&(r.style.verticalAlign=nt(-n.depth)),n.children.unshift(r),n}function q3(t,e){var n=null;t.length===1&&t[0].type==="tag"&&(n=t[0].tag,t=t[0].body);var r=wi(t,e,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var s=[],o=[],a=0;a<r.length;a++)if(o.push(r[a]),r[a].hasClass("mbin")||r[a].hasClass("mrel")||r[a].hasClass("allowbreak")){for(var l=!1;a<r.length-1&&r[a+1].hasClass("mspace")&&!r[a+1].hasClass("newline");)a++,o.push(r[a]),r[a].hasClass("nobreak")&&(l=!0);l||(s.push(Z1(o,e)),o=[])}else r[a].hasClass("newline")&&(o.pop(),o.length>0&&(s.push(Z1(o,e)),o=[]),s.push(r[a]));o.length>0&&s.push(Z1(o,e));var c;n?(c=Z1(wi(n,e,!0)),c.classes=["tag"],s.push(c)):i&&s.push(i);var d=iu(["katex-html"],s);if(d.setAttribute("aria-hidden","true"),c){var h=c.children[0];h.style.height=nt(d.height+d.depth),d.depth&&(h.style.verticalAlign=nt(-d.depth))}return d}function yU(t){return new Hv(t)}class Ao{constructor(e,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=vd(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof Wl&&this.children[r+1]instanceof Wl){for(var i=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof Wl;)i+=this.children[++r].toText();e.appendChild(new Wl(i).toNode())}else e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=Qt.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+Qt.escape(vd(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}let Wl=class{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return Qt.escape(this.toText())}toText(){return this.text}};class O3e{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",nt(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+nt(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var Ve={MathNode:Ao,TextNode:Wl,SpaceNode:O3e,newDocumentFragment:yU},Ma=function(e,n,r){return vr[n][e]&&vr[n][e].replace&&e.charCodeAt(0)!==55349&&!(hU.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=vr[n][e].replace),new Ve.TextNode(e)},gE=function(e){return e.length===1?e[0]:new Ve.MathNode("mrow",e)},pE=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var i=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathsfit")return"sans-serif-italic";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var s=e.text;if(Qt.contains(["\\imath","\\jmath"],s))return null;vr[i][s]&&vr[i][s].replace&&(s=vr[i][s].replace);var o=be.fontMap[r].fontName;return hE(s,o,i)?be.fontMap[r].variant:null};function gS(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof Wl&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var n=t.children[0];return n instanceof Wl&&n.text===","}else return!1}var fo=function(e,n,r){if(e.length===1){var i=lr(e[0],n);return r&&i instanceof Ao&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var s=[],o,a=0;a<e.length;a++){var l=lr(e[a],n);if(l instanceof Ao&&o instanceof Ao){if(l.type==="mtext"&&o.type==="mtext"&&l.getAttribute("mathvariant")===o.getAttribute("mathvariant")){o.children.push(...l.children);continue}else if(l.type==="mn"&&o.type==="mn"){o.children.push(...l.children);continue}else if(gS(l)&&o.type==="mn"){o.children.push(...l.children);continue}else if(l.type==="mn"&&gS(o))l.children=[...o.children,...l.children],s.pop();else if((l.type==="msup"||l.type==="msub")&&l.children.length>=1&&(o.type==="mn"||gS(o))){var c=l.children[0];c instanceof Ao&&c.type==="mn"&&(c.children=[...o.children,...c.children],s.pop())}else if(o.type==="mi"&&o.children.length===1){var d=o.children[0];if(d instanceof Wl&&d.text===""&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var h=l.children[0];h instanceof Wl&&h.text.length>0&&(h.text=h.text.slice(0,1)+""+h.text.slice(1),s.pop())}}}s.push(l),o=l}return s},yd=function(e,n,r){return gE(fo(e,n,r))},lr=function(e,n){if(!e)return new Ve.MathNode("mrow");if(g2[e.type]){var r=g2[e.type](e,n);return r}else throw new je("Got group of unknown type: '"+e.type+"'")};function JA(t,e,n,r,i){var s=fo(t,n),o;s.length===1&&s[0]instanceof Ao&&Qt.contains(["mrow","mtable"],s[0].type)?o=s[0]:o=new Ve.MathNode("mrow",s);var a=new Ve.MathNode("annotation",[new Ve.TextNode(e)]);a.setAttribute("encoding","application/x-tex");var l=new Ve.MathNode("semantics",[o,a]),c=new Ve.MathNode("math",[l]);c.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&c.setAttribute("display","block");var d=i?"katex":"katex-mathml";return be.makeSpan([d],[c])}var OU=function(e){return new Ic({style:e.displayMode?qt.DISPLAY:qt.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},wU=function(e,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),e=be.makeSpan(r,[e])}return e},w3e=function(e,n,r){var i=OU(r),s;if(r.output==="mathml")return JA(e,n,i,r.displayMode,!0);if(r.output==="html"){var o=q3(e,i);s=be.makeSpan(["katex"],[o])}else{var a=JA(e,n,i,r.displayMode,!1),l=q3(e,i);s=be.makeSpan(["katex"],[a,l])}return wU(s,r)},k3e=function(e,n,r){var i=OU(r),s=q3(e,i),o=be.makeSpan(["katex"],[s]);return wU(o,r)},S3e={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},x3e=function(e){var n=new Ve.MathNode("mo",[new Ve.TextNode(S3e[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},_3e={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},C3e=function(e){return e.type==="ordgroup"?e.body.length:1},E3e=function(e,n){function r(){var a=4e5,l=e.label.slice(1);if(Qt.contains(["widehat","widecheck","widetilde","utilde"],l)){var c=e,d=C3e(c.base),h,f,m;if(d>5)l==="widehat"||l==="widecheck"?(h=420,a=2364,m=.42,f=l+"4"):(h=312,a=2340,m=.34,f="tilde4");else{var g=[1,1,2,2,3,3][d];l==="widehat"||l==="widecheck"?(a=[0,1062,2364,2364,2364][g],h=[0,239,300,360,420][g],m=[0,.24,.3,.3,.36,.42][g],f=l+g):(a=[0,600,1033,2339,2340][g],h=[0,260,286,306,312][g],m=[0,.26,.286,.3,.306,.34][g],f="tilde"+g)}var p=new bd(f),v=new ru([p],{width:"100%",height:nt(m),viewBox:"0 0 "+a+" "+h,preserveAspectRatio:"none"});return{span:be.makeSvgSpan([],[v],n),minWidth:0,height:m}}else{var b=[],y=_3e[l],[C,x,O]=y,S=O/1e3,T=C.length,$,M;if(T===1){var P=y[3];$=["hide-tail"],M=[P]}else if(T===2)$=["halfarrow-left","halfarrow-right"],M=["xMinYMin","xMaxYMin"];else if(T===3)$=["brace-left","brace-center","brace-right"],M=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+T+" children.");for(var L=0;L<T;L++){var j=new bd(C[L]),te=new ru([j],{width:"400em",height:nt(S),viewBox:"0 0 "+a+" "+O,preserveAspectRatio:M[L]+" slice"}),U=be.makeSvgSpan([$[L]],[te],n);if(T===1)return{span:U,minWidth:x,height:S};U.style.height=nt(S),b.push(U)}return{span:be.makeSpan(["stretchy"],b,n),minWidth:x,height:S}}}var{span:i,minWidth:s,height:o}=r();return i.height=o,i.style.height=nt(o),s>0&&(i.style.minWidth=nt(s)),i},T3e=function(e,n,r,i,s){var o,a=e.height+e.depth+r+i;if(/fbox|color|angl/.test(n)){if(o=be.makeSpan(["stretchy",n],[],s),n==="fbox"){var l=s.color&&s.getColor();l&&(o.style.borderColor=l)}}else{var c=[];/^[bx]cancel$/.test(n)&&c.push(new U3({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&c.push(new U3({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var d=new ru(c,{width:"100%",height:nt(a)});o=be.makeSvgSpan([],[d],s)}return o.height=a,o.style.height=nt(a),o},su={encloseSpan:T3e,mathMLnode:x3e,svgSpan:E3e};function un(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function vE(t){var e=VO(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function VO(t){return t&&(t.type==="atom"||Jxe.hasOwnProperty(t.type))?t:null}var bE=(t,e)=>{var n,r,i;t&&t.type==="supsub"?(r=un(t.base,"accent"),n=r.base,t.base=n,i=Zxe(Ln(t,e)),t.base=r):(r=un(t,"accent"),n=r.base);var s=Ln(n,e.havingCrampedStyle()),o=r.isShifty&&Qt.isCharacterBox(n),a=0;if(o){var l=Qt.getBaseElem(n),c=Ln(l,e.havingCrampedStyle());a=HA(c).skew}var d=r.label==="\\c",h=d?s.height+s.depth:Math.min(s.height,e.fontMetrics().xHeight),f;if(r.isStretchy)f=su.svgSpan(r,e),f=be.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:f,wrapperClasses:["svg-align"],wrapperStyle:a>0?{width:"calc(100% - "+nt(2*a)+")",marginLeft:nt(2*a)}:void 0}]},e);else{var m,g;r.label==="\\vec"?(m=be.staticSvg("vec",e),g=be.svgData.vec[1]):(m=be.makeOrd({mode:r.mode,text:r.label},e,"textord"),m=HA(m),m.italic=0,g=m.width,d&&(h+=m.depth)),f=be.makeSpan(["accent-body"],[m]);var p=r.label==="\\textcircled";p&&(f.classes.push("accent-full"),h=s.height);var v=a;p||(v-=g/2),f.style.left=nt(v),r.label==="\\textcircled"&&(f.style.top=".2em"),f=be.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-h},{type:"elem",elem:f}]},e)}var b=be.makeSpan(["mord","accent"],[f],e);return i?(i.children[0]=b,i.height=Math.max(b.height,i.height),i.classes[0]="mord",i):b},kU=(t,e)=>{var n=t.isStretchy?su.mathMLnode(t.label):new Ve.MathNode("mo",[Ma(t.label,t.mode)]),r=new Ve.MathNode("mover",[lr(t.base,e),n]);return r.setAttribute("accent","true"),r},D3e=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));ft({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=p2(e[0]),r=!D3e.test(t.funcName),i=!r||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:bE,mathmlBuilder:kU});ft({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],r=t.parser.mode;return r==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:bE,mathmlBuilder:kU});ft({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(t,e)=>{var n=Ln(t.base,e),r=su.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,s=be.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},e);return be.makeSpan(["mord","accentunder"],[s],e)},mathmlBuilder:(t,e)=>{var n=su.mathMLnode(t.label),r=new Ve.MathNode("munder",[lr(t.base,e),n]);return r.setAttribute("accentunder","true"),r}});var K1=t=>{var e=new Ve.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};ft({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r,funcName:i}=t;return{type:"xArrow",mode:r.mode,label:i,body:e[0],below:n[0]}},htmlBuilder(t,e){var n=e.style,r=e.havingStyle(n.sup()),i=be.wrapFragment(Ln(t.body,r,e),e),s=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(s+"-arrow-pad");var o;t.below&&(r=e.havingStyle(n.sub()),o=be.wrapFragment(Ln(t.below,r,e),e),o.classes.push(s+"-arrow-pad"));var a=su.svgSpan(t,e),l=-e.fontMetrics().axisHeight+.5*a.height,c=-e.fontMetrics().axisHeight-.5*a.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(c-=i.depth);var d;if(o){var h=-e.fontMetrics().axisHeight+o.height+.5*a.height+.111;d=be.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:c},{type:"elem",elem:a,shift:l},{type:"elem",elem:o,shift:h}]},e)}else d=be.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:c},{type:"elem",elem:a,shift:l}]},e);return d.children[0].children[0].children[1].classes.push("svg-align"),be.makeSpan(["mrel","x-arrow"],[d],e)},mathmlBuilder(t,e){var n=su.mathMLnode(t.label);n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(t.body){var i=K1(lr(t.body,e));if(t.below){var s=K1(lr(t.below,e));r=new Ve.MathNode("munderover",[n,s,i])}else r=new Ve.MathNode("mover",[n,i])}else if(t.below){var o=K1(lr(t.below,e));r=new Ve.MathNode("munder",[n,o])}else r=K1(),r=new Ve.MathNode("mover",[n,r]);return r}});var A3e=be.makeSpan;function SU(t,e){var n=wi(t.body,e,!0);return A3e([t.mclass],n,e)}function xU(t,e){var n,r=fo(t.body,e);return t.mclass==="minner"?n=new Ve.MathNode("mpadded",r):t.mclass==="mord"?t.isCharacterBox?(n=r[0],n.type="mi"):n=new Ve.MathNode("mi",r):(t.isCharacterBox?(n=r[0],n.type="mo"):n=new Ve.MathNode("mo",r),t.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):t.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):t.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}ft({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:Yr(i),isCharacterBox:Qt.isCharacterBox(i)}},htmlBuilder:SU,mathmlBuilder:xU});var jO=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};ft({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:jO(e[0]),body:Yr(e[1]),isCharacterBox:Qt.isCharacterBox(e[1])}}});ft({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:n,funcName:r}=t,i=e[1],s=e[0],o;r!=="\\stackrel"?o=jO(i):o="mrel";var a={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:Yr(i)},l={type:"supsub",mode:s.mode,base:a,sup:r==="\\underset"?null:s,sub:r==="\\underset"?s:null};return{type:"mclass",mode:n.mode,mclass:o,body:[l],isCharacterBox:Qt.isCharacterBox(l)}},htmlBuilder:SU,mathmlBuilder:xU});ft({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:jO(e[0]),body:Yr(e[0])}},htmlBuilder(t,e){var n=wi(t.body,e,!0),r=be.makeSpan([t.mclass],n,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(t,e){var n=fo(t.body,e),r=new Ve.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var P3e={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},eP=()=>({type:"styling",body:[],mode:"math",style:"display"}),tP=t=>t.type==="textord"&&t.text==="@",R3e=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function M3e(t,e,n){var r=P3e[t];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[e[0]],[]),s={type:"atom",text:r,mode:"math",family:"rel"},o=n.callFunction("\\Big",[s],[]),a=n.callFunction("\\\\cdright",[e[1]],[]),l={type:"ordgroup",mode:"math",body:[i,o,a]};return n.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var c={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[c],[])}default:return{type:"textord",text:" ",mode:"math"}}}function I3e(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if(n==="&"||n==="\\\\")t.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new je("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var r=[],i=[r],s=0;s<e.length;s++){for(var o=e[s],a=eP(),l=0;l<o.length;l++)if(!tP(o[l]))a.body.push(o[l]);else{r.push(a),l+=1;var c=vE(o[l]).text,d=new Array(2);if(d[0]={type:"ordgroup",mode:"math",body:[]},d[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(c)>-1))if("<>AV".indexOf(c)>-1)for(var h=0;h<2;h++){for(var f=!0,m=l+1;m<o.length;m++){if(R3e(o[m],c)){f=!1,l=m;break}if(tP(o[m]))throw new je("Missing a "+c+" character to complete a CD arrow.",o[m]);d[h].body.push(o[m])}if(f)throw new je("Missing a "+c+" character to complete a CD arrow.",o[l])}else throw new je('Expected one of "<>AV=|." after @',o[l]);var g=M3e(c,d,t),p={type:"styling",body:[g],mode:"math",style:"display"};r.push(p),a=eP()}s%2===0?r.push(a):r.shift(),r=[],i.push(r)}t.gullet.endGroup(),t.gullet.endGroup();var v=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:v,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}ft({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),r=be.wrapFragment(Ln(t.label,n,e),e);return r.classes.push("cd-label-"+t.side),r.style.bottom=nt(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(t,e){var n=new Ve.MathNode("mrow",[lr(t.label,e)]);return n=new Ve.MathNode("mpadded",[n]),n.setAttribute("width","0"),t.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new Ve.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});ft({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=be.wrapFragment(Ln(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new Ve.MathNode("mrow",[lr(t.fragment,e)])}});ft({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,r=un(e[0],"ordgroup"),i=r.body,s="",o=0;o<i.length;o++){var a=un(i[o],"textord");s+=a.text}var l=parseInt(s),c;if(isNaN(l))throw new je("\\@char has non-numeric argument "+s);if(l<0||l>=1114111)throw new je("\\@char with invalid code point "+s);return l<=65535?c=String.fromCharCode(l):(l-=65536,c=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:n.mode,text:c}}});var _U=(t,e)=>{var n=wi(t.body,e.withColor(t.color),!1);return be.makeFragment(n)},CU=(t,e)=>{var n=fo(t.body,e.withColor(t.color)),r=new Ve.MathNode("mstyle",n);return r.setAttribute("mathcolor",t.color),r};ft({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,r=un(e[0],"color-token").color,i=e[1];return{type:"color",mode:n.mode,color:r,body:Yr(i)}},htmlBuilder:_U,mathmlBuilder:CU});ft({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:r}=t,i=un(e[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var s=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:s}},htmlBuilder:_U,mathmlBuilder:CU});ft({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,n){var{parser:r}=t,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,s=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:s,size:i&&un(i,"size").value}},htmlBuilder(t,e){var n=be.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=nt(Lr(t.size,e)))),n},mathmlBuilder(t,e){var n=new Ve.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",nt(Lr(t.size,e)))),n}});var H3={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},EU=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new je("Expected a control sequence",t);return e},$3e=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},TU=(t,e,n,r)=>{var i=t.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,i,r)};ft({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var r=e.fetch();if(H3[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=H3[r.text]),un(e.parseFunction(),"internal");throw new je("Invalid token after macro prefix",r)}});ft({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=e.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new je("Expected a control sequence",r);for(var s=0,o,a=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){o=e.gullet.future(),a[s].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new je('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==s+1)throw new je('Argument number "'+r.text+'" out of order');s++,a.push([])}else{if(r.text==="EOF")throw new je("Expected a macro definition");a[s].push(r.text)}var{tokens:l}=e.gullet.consumeArg();return o&&l.unshift(o),(n==="\\edef"||n==="\\xdef")&&(l=e.gullet.expandTokens(l),l.reverse()),e.gullet.macros.set(i,{tokens:l,numArgs:s,delimiters:a},n===H3[n]),{type:"internal",mode:e.mode}}});ft({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=EU(e.gullet.popToken());e.gullet.consumeSpaces();var i=$3e(e);return TU(e,r,i,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});ft({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=EU(e.gullet.popToken()),i=e.gullet.popToken(),s=e.gullet.popToken();return TU(e,r,s,n==="\\\\globalfuture"),e.gullet.pushToken(s),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var Fp=function(e,n,r){var i=vr.math[e]&&vr.math[e].replace,s=hE(i||e,n,r);if(!s)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return s},yE=function(e,n,r,i){var s=r.havingBaseStyle(n),o=be.makeSpan(i.concat(s.sizingClasses(r)),[e],r),a=s.sizeMultiplier/r.sizeMultiplier;return o.height*=a,o.depth*=a,o.maxFontSize=s.sizeMultiplier,o},DU=function(e,n,r){var i=n.havingBaseStyle(r),s=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=nt(s),e.height-=s,e.depth+=s},L3e=function(e,n,r,i,s,o){var a=be.makeSymbol(e,"Main-Regular",s,i),l=yE(a,n,i,o);return r&&DU(l,i,n),l},N3e=function(e,n,r,i){return be.makeSymbol(e,"Size"+n+"-Regular",r,i)},AU=function(e,n,r,i,s,o){var a=N3e(e,n,s,i),l=yE(be.makeSpan(["delimsizing","size"+n],[a],i),qt.TEXT,i,o);return r&&DU(l,i,qt.TEXT),l},pS=function(e,n,r){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var s=be.makeSpan(["delimsizinginner",i],[be.makeSpan([],[be.makeSymbol(e,n,r)])]);return{type:"elem",elem:s}},vS=function(e,n,r){var i=Hl["Size4-Regular"][e.charCodeAt(0)]?Hl["Size4-Regular"][e.charCodeAt(0)][4]:Hl["Size1-Regular"][e.charCodeAt(0)][4],s=new bd("inner",Uxe(e,Math.round(1e3*n))),o=new ru([s],{width:nt(i),height:nt(n),style:"width:"+nt(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),a=be.makeSvgSpan([],[o],r);return a.height=n,a.style.height=nt(n),a.style.width=nt(i),{type:"elem",elem:a}},W3=.008,J1={type:"kern",size:-1*W3},F3e=["|","\\lvert","\\rvert","\\vert"],B3e=["\\|","\\lVert","\\rVert","\\Vert"],PU=function(e,n,r,i,s,o){var a,l,c,d,h="",f=0;a=c=d=e,l=null;var m="Size1-Regular";e==="\\uparrow"?c=d="":e==="\\Uparrow"?c=d="":e==="\\downarrow"?a=c="":e==="\\Downarrow"?a=c="":e==="\\updownarrow"?(a="\\uparrow",c="",d="\\downarrow"):e==="\\Updownarrow"?(a="\\Uparrow",c="",d="\\Downarrow"):Qt.contains(F3e,e)?(c="",h="vert",f=333):Qt.contains(B3e,e)?(c="",h="doublevert",f=556):e==="["||e==="\\lbrack"?(a="",c="",d="",m="Size4-Regular",h="lbrack",f=667):e==="]"||e==="\\rbrack"?(a="",c="",d="",m="Size4-Regular",h="rbrack",f=667):e==="\\lfloor"||e===""?(c=a="",d="",m="Size4-Regular",h="lfloor",f=667):e==="\\lceil"||e===""?(a="",c=d="",m="Size4-Regular",h="lceil",f=667):e==="\\rfloor"||e===""?(c=a="",d="",m="Size4-Regular",h="rfloor",f=667):e==="\\rceil"||e===""?(a="",c=d="",m="Size4-Regular",h="rceil",f=667):e==="("||e==="\\lparen"?(a="",c="",d="",m="Size4-Regular",h="lparen",f=875):e===")"||e==="\\rparen"?(a="",c="",d="",m="Size4-Regular",h="rparen",f=875):e==="\\{"||e==="\\lbrace"?(a="",l="",d="",c="",m="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(a="",l="",d="",c="",m="Size4-Regular"):e==="\\lgroup"||e===""?(a="",d="",c="",m="Size4-Regular"):e==="\\rgroup"||e===""?(a="",d="",c="",m="Size4-Regular"):e==="\\lmoustache"||e===""?(a="",d="",c="",m="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(a="",d="",c="",m="Size4-Regular");var g=Fp(a,m,s),p=g.height+g.depth,v=Fp(c,m,s),b=v.height+v.depth,y=Fp(d,m,s),C=y.height+y.depth,x=0,O=1;if(l!==null){var S=Fp(l,m,s);x=S.height+S.depth,O=2}var T=p+C+x,$=Math.max(0,Math.ceil((n-T)/(O*b))),M=T+$*O*b,P=i.fontMetrics().axisHeight;r&&(P*=i.sizeMultiplier);var L=M/2-P,j=[];if(h.length>0){var te=M-p-C,U=Math.round(M*1e3),N=Vxe(h,Math.round(te*1e3)),z=new bd(h,N),K=(f/1e3).toFixed(3)+"em",re=(U/1e3).toFixed(3)+"em",Q=new ru([z],{width:K,height:re,viewBox:"0 0 "+f+" "+U}),D=be.makeSvgSpan([],[Q],i);D.height=U/1e3,D.style.width=K,D.style.height=re,j.push({type:"elem",elem:D})}else{if(j.push(pS(d,m,s)),j.push(J1),l===null){var se=M-p-C+2*W3;j.push(vS(c,se,i))}else{var he=(M-p-C-x)/2+2*W3;j.push(vS(c,he,i)),j.push(J1),j.push(pS(l,m,s)),j.push(J1),j.push(vS(c,he,i))}j.push(J1),j.push(pS(a,m,s))}var E=i.havingBaseStyle(qt.TEXT),De=be.makeVList({positionType:"bottom",positionData:L,children:j},E);return yE(be.makeSpan(["delimsizing","mult"],[De],E),qt.TEXT,i,o)},bS=80,yS=.08,OS=function(e,n,r,i,s){var o=Qxe(e,i,r),a=new bd(e,o),l=new ru([a],{width:"400em",height:nt(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return be.makeSvgSpan(["hide-tail"],[l],s)},z3e=function(e,n){var r=n.havingBaseSizing(),i=$U("\\surd",e*r.sizeMultiplier,IU,r),s=r.sizeMultiplier,o=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),a,l=0,c=0,d=0,h;return i.type==="small"?(d=1e3+1e3*o+bS,e<1?s=1:e<1.4&&(s=.7),l=(1+o+yS)/s,c=(1+o)/s,a=OS("sqrtMain",l,d,o,n),a.style.minWidth="0.853em",h=.833/s):i.type==="large"?(d=(1e3+bS)*n0[i.size],c=(n0[i.size]+o)/s,l=(n0[i.size]+o+yS)/s,a=OS("sqrtSize"+i.size,l,d,o,n),a.style.minWidth="1.02em",h=1/s):(l=e+o+yS,c=e+o,d=Math.floor(1e3*e+o)+bS,a=OS("sqrtTall",l,d,o,n),a.style.minWidth="0.742em",h=1.056),a.height=c,a.style.height=nt(l),{span:a,advanceWidth:h,ruleWidth:(n.fontMetrics().sqrtRuleThickness+o)*s}},RU=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],Q3e=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],MU=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],n0=[0,1.2,1.8,2.4,3],U3e=function(e,n,r,i,s){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),Qt.contains(RU,e)||Qt.contains(MU,e))return AU(e,n,!1,r,i,s);if(Qt.contains(Q3e,e))return PU(e,n0[n],!1,r,i,s);throw new je("Illegal delimiter: '"+e+"'")},V3e=[{type:"small",style:qt.SCRIPTSCRIPT},{type:"small",style:qt.SCRIPT},{type:"small",style:qt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],j3e=[{type:"small",style:qt.SCRIPTSCRIPT},{type:"small",style:qt.SCRIPT},{type:"small",style:qt.TEXT},{type:"stack"}],IU=[{type:"small",style:qt.SCRIPTSCRIPT},{type:"small",style:qt.SCRIPT},{type:"small",style:qt.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],q3e=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},$U=function(e,n,r,i){for(var s=Math.min(2,3-i.style.size),o=s;o<r.length&&r[o].type!=="stack";o++){var a=Fp(e,q3e(r[o]),"math"),l=a.height+a.depth;if(r[o].type==="small"){var c=i.havingBaseStyle(r[o].style);l*=c.sizeMultiplier}if(l>n)return r[o]}return r[r.length-1]},LU=function(e,n,r,i,s,o){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var a;Qt.contains(MU,e)?a=V3e:Qt.contains(RU,e)?a=IU:a=j3e;var l=$U(e,n,a,i);return l.type==="small"?L3e(e,l.style,r,i,s,o):l.type==="large"?AU(e,l.size,r,i,s,o):PU(e,n,r,i,s,o)},H3e=function(e,n,r,i,s,o){var a=i.fontMetrics().axisHeight*i.sizeMultiplier,l=901,c=5/i.fontMetrics().ptPerEm,d=Math.max(n-a,r+a),h=Math.max(d/500*l,2*d-c);return LU(e,h,!0,i,s,o)},Yc={sqrtImage:z3e,sizedDelim:U3e,sizeToMaxHeight:n0,customSizedDelim:LU,leftRightDelim:H3e},nP={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},W3e=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function qO(t,e){var n=VO(t);if(n&&Qt.contains(W3e,n.text))return n;throw n?new je("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",t):new je("Invalid delimiter type '"+t.type+"'",t)}ft({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=qO(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:nP[t.funcName].size,mclass:nP[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>t.delim==="."?be.makeSpan([t.mclass]):Yc.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(Ma(t.delim,t.mode));var n=new Ve.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=nt(Yc.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function rP(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}ft({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new je("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:qO(e[0],t).text,color:n}}});ft({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=qO(e[0],t),r=t.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var s=un(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:s.delim,rightColor:s.color}},htmlBuilder:(t,e)=>{rP(t);for(var n=wi(t.body,e,!0,["mopen","mclose"]),r=0,i=0,s=!1,o=0;o<n.length;o++)n[o].isMiddle?s=!0:(r=Math.max(n[o].height,r),i=Math.max(n[o].depth,i));r*=e.sizeMultiplier,i*=e.sizeMultiplier;var a;if(t.left==="."?a=tv(e,["mopen"]):a=Yc.leftRightDelim(t.left,r,i,e,t.mode,["mopen"]),n.unshift(a),s)for(var l=1;l<n.length;l++){var c=n[l],d=c.isMiddle;d&&(n[l]=Yc.leftRightDelim(d.delim,r,i,d.options,t.mode,[]))}var h;if(t.right===".")h=tv(e,["mclose"]);else{var f=t.rightColor?e.withColor(t.rightColor):e;h=Yc.leftRightDelim(t.right,r,i,f,t.mode,["mclose"])}return n.push(h),be.makeSpan(["minner"],n,e)},mathmlBuilder:(t,e)=>{rP(t);var n=fo(t.body,e);if(t.left!=="."){var r=new Ve.MathNode("mo",[Ma(t.left,t.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(t.right!=="."){var i=new Ve.MathNode("mo",[Ma(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),n.push(i)}return gE(n)}});ft({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=qO(e[0],t);if(!t.parser.leftrightDepth)throw new je("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if(t.delim===".")n=tv(e,[]);else{n=Yc.sizedDelim(t.delim,1,e,t.mode,[]);var r={delim:t.delim,options:e};n.isMiddle=r}return n},mathmlBuilder:(t,e)=>{var n=t.delim==="\\vert"||t.delim==="|"?Ma("|","text"):Ma(t.delim,t.mode),r=new Ve.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var OE=(t,e)=>{var n=be.wrapFragment(Ln(t.body,e),e),r=t.label.slice(1),i=e.sizeMultiplier,s,o=0,a=Qt.isCharacterBox(t.body);if(r==="sout")s=be.makeSpan(["stretchy","sout"]),s.height=e.fontMetrics().defaultRuleThickness/i,o=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var l=Lr({number:.6,unit:"pt"},e),c=Lr({number:.35,unit:"ex"},e),d=e.havingBaseSizing();i=i/d.sizeMultiplier;var h=n.height+n.depth+l+c;n.style.paddingLeft=nt(h/2+l);var f=Math.floor(1e3*h*i),m=Bxe(f),g=new ru([new bd("phase",m)],{width:"400em",height:nt(f/1e3),viewBox:"0 0 400000 "+f,preserveAspectRatio:"xMinYMin slice"});s=be.makeSvgSpan(["hide-tail"],[g],e),s.style.height=nt(h),o=n.depth+l+c}else{/cancel/.test(r)?a||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var p=0,v=0,b=0;/box/.test(r)?(b=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),p=e.fontMetrics().fboxsep+(r==="colorbox"?0:b),v=p):r==="angl"?(b=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),p=4*b,v=Math.max(0,.25-n.depth)):(p=a?.2:0,v=p),s=su.encloseSpan(n,r,p,v,e),/fbox|boxed|fcolorbox/.test(r)?(s.style.borderStyle="solid",s.style.borderWidth=nt(b)):r==="angl"&&b!==.049&&(s.style.borderTopWidth=nt(b),s.style.borderRightWidth=nt(b)),o=n.depth+v,t.backgroundColor&&(s.style.backgroundColor=t.backgroundColor,t.borderColor&&(s.style.borderColor=t.borderColor))}var y;if(t.backgroundColor)y=be.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:o},{type:"elem",elem:n,shift:0}]},e);else{var C=/cancel|phase/.test(r)?["svg-align"]:[];y=be.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:s,shift:o,wrapperClasses:C}]},e)}return/cancel/.test(r)&&(y.height=n.height,y.depth=n.depth),/cancel/.test(r)&&!a?be.makeSpan(["mord","cancel-lap"],[y],e):be.makeSpan(["mord"],[y],e)},wE=(t,e)=>{var n=0,r=new Ve.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[lr(t.body,e)]);switch(t.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&r.setAttribute("mathbackground",t.backgroundColor),r};ft({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,s=un(e[0],"color-token").color,o=e[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:s,body:o}},htmlBuilder:OE,mathmlBuilder:wE});ft({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,s=un(e[0],"color-token").color,o=un(e[1],"color-token").color,a=e[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:o,borderColor:s,body:a}},htmlBuilder:OE,mathmlBuilder:wE});ft({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});ft({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:OE,mathmlBuilder:wE});ft({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var NU={};function uc(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:s,mathmlBuilder:o}=t,a={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<n.length;++l)NU[n[l]]=a;s&&(m2[e]=s),o&&(g2[e]=o)}var FU={};function F(t,e){FU[t]=e}function iP(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for(n==="\\relax"&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);n==="\\hline"||n==="\\hdashline";)t.consume(),e.push(n==="\\hdashline"),t.consumeSpaces(),n=t.fetch().text;return e}var HO=t=>{var e=t.parser.settings;if(!e.displayMode)throw new je("{"+t.envName+"} can be used only in display mode.")};function kE(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function Td(t,e,n){var{hskipBeforeAndAfter:r,addJot:i,cols:s,arraystretch:o,colSeparationType:a,autoTag:l,singleRow:c,emptySingleRow:d,maxNumCols:h,leqno:f}=e;if(t.gullet.beginGroup(),c||t.gullet.macros.set("\\cr","\\\\\\relax"),!o){var m=t.gullet.expandMacroAsText("\\arraystretch");if(m==null)o=1;else if(o=parseFloat(m),!o||o<0)throw new je("Invalid \\arraystretch: "+m)}t.gullet.beginGroup();var g=[],p=[g],v=[],b=[],y=l!=null?[]:void 0;function C(){l&&t.gullet.macros.set("\\@eqnsw","1",!0)}function x(){y&&(t.gullet.macros.get("\\df@tag")?(y.push(t.subparse([new Ea("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):y.push(!!l&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(C(),b.push(iP(t));;){var O=t.parseExpression(!1,c?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),O={type:"ordgroup",mode:t.mode,body:O},n&&(O={type:"styling",mode:t.mode,style:n,body:[O]}),g.push(O);var S=t.fetch().text;if(S==="&"){if(h&&g.length===h){if(c||a)throw new je("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(S==="\\end"){x(),g.length===1&&O.type==="styling"&&O.body[0].body.length===0&&(p.length>1||!d)&&p.pop(),b.length<p.length+1&&b.push([]);break}else if(S==="\\\\"){t.consume();var T=void 0;t.gullet.future().text!==" "&&(T=t.parseSizeGroup(!0)),v.push(T?T.value:null),x(),b.push(iP(t)),g=[],p.push(g),C()}else throw new je("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:o,body:p,cols:s,rowGaps:v,hskipBeforeAndAfter:r,hLinesBeforeRow:b,colSeparationType:a,tags:y,leqno:f}}function SE(t){return t.slice(0,1)==="d"?"display":"text"}var dc=function(e,n){var r,i,s=e.body.length,o=e.hLinesBeforeRow,a=0,l=new Array(s),c=[],d=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),h=1/n.fontMetrics().ptPerEm,f=5*h;if(e.colSeparationType&&e.colSeparationType==="small"){var m=n.havingStyle(qt.SCRIPT).sizeMultiplier;f=.2778*(m/n.sizeMultiplier)}var g=e.colSeparationType==="CD"?Lr({number:3,unit:"ex"},n):12*h,p=3*h,v=e.arraystretch*g,b=.7*v,y=.3*v,C=0;function x(xt){for(var Si=0;Si<xt.length;++Si)Si>0&&(C+=.25),c.push({pos:C,isDashed:xt[Si]})}for(x(o[0]),r=0;r<e.body.length;++r){var O=e.body[r],S=b,T=y;a<O.length&&(a=O.length);var $=new Array(O.length);for(i=0;i<O.length;++i){var M=Ln(O[i],n);T<M.depth&&(T=M.depth),S<M.height&&(S=M.height),$[i]=M}var P=e.rowGaps[r],L=0;P&&(L=Lr(P,n),L>0&&(L+=y,T<L&&(T=L),L=0)),e.addJot&&(T+=p),$.height=S,$.depth=T,C+=S,$.pos=C,C+=T+L,l[r]=$,x(o[r+1])}var j=C/2+n.fontMetrics().axisHeight,te=e.cols||[],U=[],N,z,K=[];if(e.tags&&e.tags.some(xt=>xt))for(r=0;r<s;++r){var re=l[r],Q=re.pos-j,D=e.tags[r],se=void 0;D===!0?se=be.makeSpan(["eqn-num"],[],n):D===!1?se=be.makeSpan([],[],n):se=be.makeSpan([],wi(D,n,!0),n),se.depth=re.depth,se.height=re.height,K.push({type:"elem",elem:se,shift:Q})}for(i=0,z=0;i<a||z<te.length;++i,++z){for(var he=te[z]||{},E=!0;he.type==="separator";){if(E||(N=be.makeSpan(["arraycolsep"],[]),N.style.width=nt(n.fontMetrics().doubleRuleSep),U.push(N)),he.separator==="|"||he.separator===":"){var De=he.separator==="|"?"solid":"dashed",pe=be.makeSpan(["vertical-separator"],[],n);pe.style.height=nt(C),pe.style.borderRightWidth=nt(d),pe.style.borderRightStyle=De,pe.style.margin="0 "+nt(-d/2);var ct=C-j;ct&&(pe.style.verticalAlign=nt(-ct)),U.push(pe)}else throw new je("Invalid separator type: "+he.separator);z++,he=te[z]||{},E=!1}if(!(i>=a)){var Mt=void 0;(i>0||e.hskipBeforeAndAfter)&&(Mt=Qt.deflt(he.pregap,f),Mt!==0&&(N=be.makeSpan(["arraycolsep"],[]),N.style.width=nt(Mt),U.push(N)));var At=[];for(r=0;r<s;++r){var on=l[r],Wt=on[i];if(Wt){var bn=on.pos-j;Wt.depth=on.depth,Wt.height=on.height,At.push({type:"elem",elem:Wt,shift:bn})}}At=be.makeVList({positionType:"individualShift",children:At},n),At=be.makeSpan(["col-align-"+(he.align||"c")],[At]),U.push(At),(i<a-1||e.hskipBeforeAndAfter)&&(Mt=Qt.deflt(he.postgap,f),Mt!==0&&(N=be.makeSpan(["arraycolsep"],[]),N.style.width=nt(Mt),U.push(N)))}}if(l=be.makeSpan(["mtable"],U),c.length>0){for(var Or=be.makeLineSpan("hline",n,d),dr=be.makeLineSpan("hdashline",n,d),ui=[{type:"elem",elem:l,shift:0}];c.length>0;){var $n=c.pop(),gn=$n.pos-j;$n.isDashed?ui.push({type:"elem",elem:dr,shift:gn}):ui.push({type:"elem",elem:Or,shift:gn})}l=be.makeVList({positionType:"individualShift",children:ui},n)}if(K.length===0)return be.makeSpan(["mord"],[l],n);var Kr=be.makeVList({positionType:"individualShift",children:K},n);return Kr=be.makeSpan(["tag"],[Kr],n),be.makeFragment([l,Kr])},X3e={c:"center ",l:"left ",r:"right "},hc=function(e,n){for(var r=[],i=new Ve.MathNode("mtd",[],["mtr-glue"]),s=new Ve.MathNode("mtd",[],["mml-eqn-num"]),o=0;o<e.body.length;o++){for(var a=e.body[o],l=[],c=0;c<a.length;c++)l.push(new Ve.MathNode("mtd",[lr(a[c],n)]));e.tags&&e.tags[o]&&(l.unshift(i),l.push(i),e.leqno?l.unshift(s):l.push(s)),r.push(new Ve.MathNode("mtr",l))}var d=new Ve.MathNode("mtable",r),h=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);d.setAttribute("rowspacing",nt(h));var f="",m="";if(e.cols&&e.cols.length>0){var g=e.cols,p="",v=!1,b=0,y=g.length;g[0].type==="separator"&&(f+="top ",b=1),g[g.length-1].type==="separator"&&(f+="bottom ",y-=1);for(var C=b;C<y;C++)g[C].type==="align"?(m+=X3e[g[C].align],v&&(p+="none "),v=!0):g[C].type==="separator"&&v&&(p+=g[C].separator==="|"?"solid ":"dashed ",v=!1);d.setAttribute("columnalign",m.trim()),/[sd]/.test(p)&&d.setAttribute("columnlines",p.trim())}if(e.colSeparationType==="align"){for(var x=e.cols||[],O="",S=1;S<x.length;S++)O+=S%2?"0em ":"1em ";d.setAttribute("columnspacing",O.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?d.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?d.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?d.setAttribute("columnspacing","0.5em"):d.setAttribute("columnspacing","1em");var T="",$=e.hLinesBeforeRow;f+=$[0].length>0?"left ":"",f+=$[$.length-1].length>0?"right ":"";for(var M=1;M<$.length-1;M++)T+=$[M].length===0?"none ":$[M][0]?"dashed ":"solid ";return/[sd]/.test(T)&&d.setAttribute("rowlines",T.trim()),f!==""&&(d=new Ve.MathNode("menclose",[d]),d.setAttribute("notation",f.trim())),e.arraystretch&&e.arraystretch<1&&(d=new Ve.MathNode("mstyle",[d]),d.setAttribute("scriptlevel","1")),d},BU=function(e,n){e.envName.indexOf("ed")===-1&&HO(e);var r=[],i=e.envName.indexOf("at")>-1?"alignat":"align",s=e.envName==="split",o=Td(e.parser,{cols:r,addJot:!0,autoTag:s?void 0:kE(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),a,l=0,c={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var d="",h=0;h<n[0].body.length;h++){var f=un(n[0].body[h],"textord");d+=f.text}a=Number(d),l=a*2}var m=!l;o.body.forEach(function(b){for(var y=1;y<b.length;y+=2){var C=un(b[y],"styling"),x=un(C.body[0],"ordgroup");x.body.unshift(c)}if(m)l<b.length&&(l=b.length);else{var O=b.length/2;if(a<O)throw new je("Too many math in a row: "+("expected "+a+", but got "+O),b[0])}});for(var g=0;g<l;++g){var p="r",v=0;g%2===1?p="l":g>0&&m&&(v=1),r[g]={type:"align",align:p,pregap:v,postgap:0}}return o.colSeparationType=m?"align":"alignat",o};uc({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=VO(e[0]),r=n?[e[0]]:un(e[0],"ordgroup").body,i=r.map(function(o){var a=vE(o),l=a.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new je("Unknown column alignment: "+l,o)}),s={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return Td(t.parser,s,SE(t.envName))},htmlBuilder:dc,mathmlBuilder:hc});uc({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new je("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var s=Td(t.parser,r,SE(t.envName)),o=Math.max(0,...s.body.map(a=>a.length));return s.cols=new Array(o).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[s],left:e[0],right:e[1],rightColor:void 0}:s},htmlBuilder:dc,mathmlBuilder:hc});uc({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},n=Td(t.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:dc,mathmlBuilder:hc});uc({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=VO(e[0]),r=n?[e[0]]:un(e[0],"ordgroup").body,i=r.map(function(o){var a=vE(o),l=a.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new je("Unknown column alignment: "+l,o)});if(i.length>1)throw new je("{subarray} can contain only one column");var s={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=Td(t.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new je("{subarray} can contain only one column");return s},htmlBuilder:dc,mathmlBuilder:hc});uc({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=Td(t.parser,e,SE(t.envName));return{type:"leftright",mode:t.mode,body:[n],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:dc,mathmlBuilder:hc});uc({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:BU,htmlBuilder:dc,mathmlBuilder:hc});uc({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){Qt.contains(["gather","gather*"],t.envName)&&HO(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:kE(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return Td(t.parser,e,"display")},htmlBuilder:dc,mathmlBuilder:hc});uc({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:BU,htmlBuilder:dc,mathmlBuilder:hc});uc({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){HO(t);var e={autoTag:kE(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return Td(t.parser,e,"display")},htmlBuilder:dc,mathmlBuilder:hc});uc({type:"array",names:["CD"],props:{numArgs:0},handler(t){return HO(t),I3e(t.parser)},htmlBuilder:dc,mathmlBuilder:hc});F("\\nonumber","\\gdef\\@eqnsw{0}");F("\\notag","\\nonumber");ft({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new je(t.funcName+" valid only within array environment")}});var sP=NU;ft({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];if(i.type!=="ordgroup")throw new je("Invalid environment name",i);for(var s="",o=0;o<i.body.length;++o)s+=un(i.body[o],"textord").text;if(r==="\\begin"){if(!sP.hasOwnProperty(s))throw new je("No such environment: "+s,i);var a=sP[s],{args:l,optArgs:c}=n.parseArguments("\\begin{"+s+"}",a),d={mode:n.mode,envName:s,parser:n},h=a.handler(d,l,c);n.expect("\\end",!1);var f=n.nextToken,m=un(n.parseFunction(),"environment");if(m.name!==s)throw new je("Mismatch: \\begin{"+s+"} matched by \\end{"+m.name+"}",f);return h}return{type:"environment",mode:n.mode,name:s,nameGroup:i}}});var zU=(t,e)=>{var n=t.font,r=e.withFont(n);return Ln(t.body,r)},QU=(t,e)=>{var n=t.font,r=e.withFont(n);return lr(t.body,r)},oP={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};ft({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=p2(e[0]),s=r;return s in oP&&(s=oP[s]),{type:"font",mode:n.mode,font:s.slice(1),body:i}},htmlBuilder:zU,mathmlBuilder:QU});ft({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,r=e[0],i=Qt.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:jO(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});ft({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,breakOnTokenText:i}=t,{mode:s}=n,o=n.parseExpression(!0,i),a="math"+r.slice(1);return{type:"font",mode:s,font:a,body:{type:"ordgroup",mode:n.mode,body:o}}},htmlBuilder:zU,mathmlBuilder:QU});var UU=(t,e)=>{var n=e;return t==="display"?n=n.id>=qt.SCRIPT.id?n.text():qt.DISPLAY:t==="text"&&n.size===qt.DISPLAY.size?n=qt.TEXT:t==="script"?n=qt.SCRIPT:t==="scriptscript"&&(n=qt.SCRIPTSCRIPT),n},xE=(t,e)=>{var n=UU(t.size,e.style),r=n.fracNum(),i=n.fracDen(),s;s=e.havingStyle(r);var o=Ln(t.numer,s,e);if(t.continued){var a=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;o.height=o.height<a?a:o.height,o.depth=o.depth<l?l:o.depth}s=e.havingStyle(i);var c=Ln(t.denom,s,e),d,h,f;t.hasBarLine?(t.barSize?(h=Lr(t.barSize,e),d=be.makeLineSpan("frac-line",e,h)):d=be.makeLineSpan("frac-line",e),h=d.height,f=d.height):(d=null,h=0,f=e.fontMetrics().defaultRuleThickness);var m,g,p;n.size===qt.DISPLAY.size||t.size==="display"?(m=e.fontMetrics().num1,h>0?g=3*f:g=7*f,p=e.fontMetrics().denom1):(h>0?(m=e.fontMetrics().num2,g=f):(m=e.fontMetrics().num3,g=3*f),p=e.fontMetrics().denom2);var v;if(d){var y=e.fontMetrics().axisHeight;m-o.depth-(y+.5*h)<g&&(m+=g-(m-o.depth-(y+.5*h))),y-.5*h-(c.height-p)<g&&(p+=g-(y-.5*h-(c.height-p)));var C=-(y-.5*h);v=be.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:p},{type:"elem",elem:d,shift:C},{type:"elem",elem:o,shift:-m}]},e)}else{var b=m-o.depth-(c.height-p);b<g&&(m+=.5*(g-b),p+=.5*(g-b)),v=be.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:p},{type:"elem",elem:o,shift:-m}]},e)}s=e.havingStyle(n),v.height*=s.sizeMultiplier/e.sizeMultiplier,v.depth*=s.sizeMultiplier/e.sizeMultiplier;var x;n.size===qt.DISPLAY.size?x=e.fontMetrics().delim1:n.size===qt.SCRIPTSCRIPT.size?x=e.havingStyle(qt.SCRIPT).fontMetrics().delim2:x=e.fontMetrics().delim2;var O,S;return t.leftDelim==null?O=tv(e,["mopen"]):O=Yc.customSizedDelim(t.leftDelim,x,!0,e.havingStyle(n),t.mode,["mopen"]),t.continued?S=be.makeSpan([]):t.rightDelim==null?S=tv(e,["mclose"]):S=Yc.customSizedDelim(t.rightDelim,x,!0,e.havingStyle(n),t.mode,["mclose"]),be.makeSpan(["mord"].concat(s.sizingClasses(e)),[O,be.makeSpan(["mfrac"],[v]),S],e)},_E=(t,e)=>{var n=new Ve.MathNode("mfrac",[lr(t.numer,e),lr(t.denom,e)]);if(!t.hasBarLine)n.setAttribute("linethickness","0px");else if(t.barSize){var r=Lr(t.barSize,e);n.setAttribute("linethickness",nt(r))}var i=UU(t.size,e.style);if(i.size!==e.style.size){n=new Ve.MathNode("mstyle",[n]);var s=i.size===qt.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",s),n.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var o=[];if(t.leftDelim!=null){var a=new Ve.MathNode("mo",[new Ve.TextNode(t.leftDelim.replace("\\",""))]);a.setAttribute("fence","true"),o.push(a)}if(o.push(n),t.rightDelim!=null){var l=new Ve.MathNode("mo",[new Ve.TextNode(t.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),o.push(l)}return gE(o)}return n};ft({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=e[1],o,a=null,l=null,c="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":o=!0;break;case"\\\\atopfrac":o=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":o=!1,a="(",l=")";break;case"\\\\bracefrac":o=!1,a="\\{",l="\\}";break;case"\\\\brackfrac":o=!1,a="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":c="display";break;case"\\tfrac":case"\\tbinom":c="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:s,hasBarLine:o,leftDelim:a,rightDelim:l,size:c,barSize:null}},htmlBuilder:xE,mathmlBuilder:_E});ft({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});ft({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:n,token:r}=t,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:r}}});var aP=["display","text","script","scriptscript"],lP=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};ft({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:n}=t,r=e[4],i=e[5],s=p2(e[0]),o=s.type==="atom"&&s.family==="open"?lP(s.text):null,a=p2(e[1]),l=a.type==="atom"&&a.family==="close"?lP(a.text):null,c=un(e[2],"size"),d,h=null;c.isBlank?d=!0:(h=c.value,d=h.number>0);var f="auto",m=e[3];if(m.type==="ordgroup"){if(m.body.length>0){var g=un(m.body[0],"textord");f=aP[Number(g.text)]}}else m=un(m,"textord"),f=aP[Number(m.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:d,barSize:h,leftDelim:o,rightDelim:l,size:f}},htmlBuilder:xE,mathmlBuilder:_E});ft({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:r,token:i}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:un(e[0],"size").value,token:i}}});ft({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=xxe(un(e[1],"infix").size),o=e[2],a=s.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:o,continued:!1,hasBarLine:a,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:xE,mathmlBuilder:_E});var VU=(t,e)=>{var n=e.style,r,i;t.type==="supsub"?(r=t.sup?Ln(t.sup,e.havingStyle(n.sup()),e):Ln(t.sub,e.havingStyle(n.sub()),e),i=un(t.base,"horizBrace")):i=un(t,"horizBrace");var s=Ln(i.base,e.havingBaseStyle(qt.DISPLAY)),o=su.svgSpan(i,e),a;if(i.isOver?(a=be.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:o}]},e),a.children[0].children[0].children[1].classes.push("svg-align")):(a=be.makeVList({positionType:"bottom",positionData:s.depth+.1+o.height,children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:s}]},e),a.children[0].children[0].children[0].classes.push("svg-align")),r){var l=be.makeSpan(["mord",i.isOver?"mover":"munder"],[a],e);i.isOver?a=be.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:r}]},e):a=be.makeVList({positionType:"bottom",positionData:l.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return be.makeSpan(["mord",i.isOver?"mover":"munder"],[a],e)},Y3e=(t,e)=>{var n=su.mathMLnode(t.label);return new Ve.MathNode(t.isOver?"mover":"munder",[lr(t.base,e),n])};ft({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:VU,mathmlBuilder:Y3e});ft({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[1],i=un(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:Yr(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=wi(t.body,e,!1);return be.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=yd(t.body,e);return n instanceof Ao||(n=new Ao("mrow",[n])),n.setAttribute("href",t.href),n}});ft({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=un(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],s=0;s<r.length;s++){var o=r[s];o==="~"&&(o="\\textasciitilde"),i.push({type:"textord",mode:"text",text:o})}var a={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:Yr(a)}}});ft({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:Yr(e[0])}},htmlBuilder(t,e){var n=wi(t.body,e,!1);return be.makeFragment(n)},mathmlBuilder(t,e){return new Ve.MathNode("mrow",fo(t.body,e))}});ft({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,token:i}=t,s=un(e[0],"raw").string,o=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var a,l={};switch(r){case"\\htmlClass":l.class=s,a={command:"\\htmlClass",class:s};break;case"\\htmlId":l.id=s,a={command:"\\htmlId",id:s};break;case"\\htmlStyle":l.style=s,a={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var c=s.split(","),d=0;d<c.length;d++){var h=c[d].split("=");if(h.length!==2)throw new je("Error parsing key-value for \\htmlData");l["data-"+h[0].trim()]=h[1].trim()}a={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(a)?{type:"html",mode:n.mode,attributes:l,body:Yr(o)}:n.formatUnsupportedCmd(r)},htmlBuilder:(t,e)=>{var n=wi(t.body,e,!1),r=["enclosing"];t.attributes.class&&r.push(...t.attributes.class.trim().split(/\s+/));var i=be.makeSpan(r,n,e);for(var s in t.attributes)s!=="class"&&t.attributes.hasOwnProperty(s)&&i.setAttribute(s,t.attributes[s]);return i},mathmlBuilder:(t,e)=>yd(t.body,e)});ft({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:Yr(e[0]),mathml:Yr(e[1])}},htmlBuilder:(t,e)=>{var n=wi(t.html,e,!1);return be.makeFragment(n)},mathmlBuilder:(t,e)=>yd(t.mathml,e)});var wS=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new je("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!lU(r))throw new je("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};ft({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:r}=t,i={number:0,unit:"em"},s={number:.9,unit:"em"},o={number:0,unit:"em"},a="";if(n[0])for(var l=un(n[0],"raw").string,c=l.split(","),d=0;d<c.length;d++){var h=c[d].split("=");if(h.length===2){var f=h[1].trim();switch(h[0].trim()){case"alt":a=f;break;case"width":i=wS(f);break;case"height":s=wS(f);break;case"totalheight":o=wS(f);break;default:throw new je("Invalid key: '"+h[0]+"' in \\includegraphics.")}}}var m=un(e[0],"url").url;return a===""&&(a=m,a=a.replace(/^.*[\\/]/,""),a=a.substring(0,a.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:m})?{type:"includegraphics",mode:r.mode,alt:a,width:i,height:s,totalheight:o,src:m}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=Lr(t.height,e),r=0;t.totalheight.number>0&&(r=Lr(t.totalheight,e)-n);var i=0;t.width.number>0&&(i=Lr(t.width,e));var s={height:nt(n+r)};i>0&&(s.width=nt(i)),r>0&&(s.verticalAlign=nt(-r));var o=new Yxe(t.src,t.alt,s);return o.height=n,o.depth=r,o},mathmlBuilder:(t,e)=>{var n=new Ve.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var r=Lr(t.height,e),i=0;if(t.totalheight.number>0&&(i=Lr(t.totalheight,e)-r,n.setAttribute("valign",nt(-i))),n.setAttribute("height",nt(r+i)),t.width.number>0){var s=Lr(t.width,e);n.setAttribute("width",nt(s))}return n.setAttribute("src",t.src),n}});ft({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=un(e[0],"size");if(n.settings.strict){var s=r[1]==="m",o=i.value.unit==="mu";s?(o||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):o&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(t,e){return be.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=Lr(t.dimension,e);return new Ve.SpaceNode(n)}});ft({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(t,e)=>{var n;t.alignment==="clap"?(n=be.makeSpan([],[Ln(t.body,e)]),n=be.makeSpan(["inner"],[n],e)):n=be.makeSpan(["inner"],[Ln(t.body,e)]);var r=be.makeSpan(["fix"],[]),i=be.makeSpan([t.alignment],[n,r],e),s=be.makeSpan(["strut"]);return s.style.height=nt(i.height+i.depth),i.depth&&(s.style.verticalAlign=nt(-i.depth)),i.children.unshift(s),i=be.makeSpan(["thinbox"],[i],e),be.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var n=new Ve.MathNode("mpadded",[lr(t.body,e)]);if(t.alignment!=="rlap"){var r=t.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});ft({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:r}=t,i=r.mode;r.switchMode("math");var s=n==="\\("?"\\)":"$",o=r.parseExpression(!1,s);return r.expect(s),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:o}}});ft({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new je("Mismatched "+t.funcName)}});var cP=(t,e)=>{switch(e.style.size){case qt.DISPLAY.size:return t.display;case qt.TEXT.size:return t.text;case qt.SCRIPT.size:return t.script;case qt.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};ft({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:Yr(e[0]),text:Yr(e[1]),script:Yr(e[2]),scriptscript:Yr(e[3])}},htmlBuilder:(t,e)=>{var n=cP(t,e),r=wi(n,e,!1);return be.makeFragment(r)},mathmlBuilder:(t,e)=>{var n=cP(t,e);return yd(n,e)}});var jU=(t,e,n,r,i,s,o)=>{t=be.makeSpan([],[t]);var a=n&&Qt.isCharacterBox(n),l,c;if(e){var d=Ln(e,r.havingStyle(i.sup()),r);c={elem:d,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-d.depth)}}if(n){var h=Ln(n,r.havingStyle(i.sub()),r);l={elem:h,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-h.height)}}var f;if(c&&l){var m=r.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+t.depth+o;f=be.makeVList({positionType:"bottom",positionData:m,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:nt(-s)},{type:"kern",size:l.kern},{type:"elem",elem:t},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:nt(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(l){var g=t.height-o;f=be.makeVList({positionType:"top",positionData:g,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:nt(-s)},{type:"kern",size:l.kern},{type:"elem",elem:t}]},r)}else if(c){var p=t.depth+o;f=be.makeVList({positionType:"bottom",positionData:p,children:[{type:"elem",elem:t},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:nt(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return t;var v=[f];if(l&&s!==0&&!a){var b=be.makeSpan(["mspace"],[],r);b.style.marginRight=nt(s),v.unshift(b)}return be.makeSpan(["mop","op-limits"],v,r)},qU=["\\smallint"],Eg=(t,e)=>{var n,r,i=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=un(t.base,"op"),i=!0):s=un(t,"op");var o=e.style,a=!1;o.size===qt.DISPLAY.size&&s.symbol&&!Qt.contains(qU,s.name)&&(a=!0);var l;if(s.symbol){var c=a?"Size2-Regular":"Size1-Regular",d="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(d=s.name.slice(1),s.name=d==="oiint"?"\\iint":"\\iiint"),l=be.makeSymbol(s.name,c,"math",e,["mop","op-symbol",a?"large-op":"small-op"]),d.length>0){var h=l.italic,f=be.staticSvg(d+"Size"+(a?"2":"1"),e);l=be.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:f,shift:a?.08:0}]},e),s.name="\\"+d,l.classes.unshift("mop"),l.italic=h}}else if(s.body){var m=wi(s.body,e,!0);m.length===1&&m[0]instanceof Ra?(l=m[0],l.classes[0]="mop"):l=be.makeSpan(["mop"],m,e)}else{for(var g=[],p=1;p<s.name.length;p++)g.push(be.mathsym(s.name[p],s.mode,e));l=be.makeSpan(["mop"],g,e)}var v=0,b=0;return(l instanceof Ra||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(v=(l.height-l.depth)/2-e.fontMetrics().axisHeight,b=l.italic),i?jU(l,n,r,e,o,b,v):(v&&(l.style.position="relative",l.style.top=nt(v)),l)},Xv=(t,e)=>{var n;if(t.symbol)n=new Ao("mo",[Ma(t.name,t.mode)]),Qt.contains(qU,t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new Ao("mo",fo(t.body,e));else{n=new Ao("mi",[new Wl(t.name.slice(1))]);var r=new Ao("mo",[Ma("","text")]);t.parentIsSupSub?n=new Ao("mrow",[n,r]):n=yU([n,r])}return n},G3e={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};ft({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=r;return i.length===1&&(i=G3e[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:Eg,mathmlBuilder:Xv});ft({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Yr(r)}},htmlBuilder:Eg,mathmlBuilder:Xv});var Z3e={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};ft({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Eg,mathmlBuilder:Xv});ft({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Eg,mathmlBuilder:Xv});ft({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t,r=n;return r.length===1&&(r=Z3e[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:Eg,mathmlBuilder:Xv});var HU=(t,e)=>{var n,r,i=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=un(t.base,"operatorname"),i=!0):s=un(t,"operatorname");var o;if(s.body.length>0){for(var a=s.body.map(h=>{var f=h.text;return typeof f=="string"?{type:"textord",mode:h.mode,text:f}:h}),l=wi(a,e.withFont("mathrm"),!0),c=0;c<l.length;c++){var d=l[c];d instanceof Ra&&(d.text=d.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}o=be.makeSpan(["mop"],l,e)}else o=be.makeSpan(["mop"],[],e);return i?jU(o,n,r,e,e.style,0,0):o},K3e=(t,e)=>{for(var n=fo(t.body,e.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var s=n[i];if(!(s instanceof Ve.SpaceNode))if(s instanceof Ve.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var o=s.children[0];s.children.length===1&&o instanceof Ve.TextNode?o.text=o.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var a=n.map(d=>d.toText()).join("");n=[new Ve.TextNode(a)]}var l=new Ve.MathNode("mi",n);l.setAttribute("mathvariant","normal");var c=new Ve.MathNode("mo",[Ma("","text")]);return t.parentIsSupSub?new Ve.MathNode("mrow",[l,c]):Ve.newDocumentFragment([l,c])};ft({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"operatorname",mode:n.mode,body:Yr(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:HU,mathmlBuilder:K3e});F("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");lf({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?be.makeFragment(wi(t.body,e,!1)):be.makeSpan(["mord"],wi(t.body,e,!0),e)},mathmlBuilder(t,e){return yd(t.body,e,!0)}});ft({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,r=e[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(t,e){var n=Ln(t.body,e.havingCrampedStyle()),r=be.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,s=be.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},e);return be.makeSpan(["mord","overline"],[s],e)},mathmlBuilder(t,e){var n=new Ve.MathNode("mo",[new Ve.TextNode("")]);n.setAttribute("stretchy","true");var r=new Ve.MathNode("mover",[lr(t.body,e),n]);return r.setAttribute("accent","true"),r}});ft({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"phantom",mode:n.mode,body:Yr(r)}},htmlBuilder:(t,e)=>{var n=wi(t.body,e.withPhantom(),!1);return be.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=fo(t.body,e);return new Ve.MathNode("mphantom",n)}});ft({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=be.makeSpan([],[Ln(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=be.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),be.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=fo(Yr(t.body),e),r=new Ve.MathNode("mphantom",n),i=new Ve.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});ft({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=be.makeSpan(["inner"],[Ln(t.body,e.withPhantom())]),r=be.makeSpan(["fix"],[]);return be.makeSpan(["mord","rlap"],[n,r],e)},mathmlBuilder:(t,e)=>{var n=fo(Yr(t.body),e),r=new Ve.MathNode("mphantom",n),i=new Ve.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});ft({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,r=un(e[0],"size").value,i=e[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(t,e){var n=Ln(t.body,e),r=Lr(t.dy,e);return be.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new Ve.MathNode("mpadded",[lr(t.body,e)]),r=t.dy.number+t.dy.unit;return n.setAttribute("voffset",r),n}});ft({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});ft({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,n){var{parser:r}=t,i=n[0],s=un(e[0],"size"),o=un(e[1],"size");return{type:"rule",mode:r.mode,shift:i&&un(i,"size").value,width:s.value,height:o.value}},htmlBuilder(t,e){var n=be.makeSpan(["mord","rule"],[],e),r=Lr(t.width,e),i=Lr(t.height,e),s=t.shift?Lr(t.shift,e):0;return n.style.borderRightWidth=nt(r),n.style.borderTopWidth=nt(i),n.style.bottom=nt(s),n.width=r,n.height=i+s,n.depth=-s,n.maxFontSize=i*1.125*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=Lr(t.width,e),r=Lr(t.height,e),i=t.shift?Lr(t.shift,e):0,s=e.color&&e.getColor()||"black",o=new Ve.MathNode("mspace");o.setAttribute("mathbackground",s),o.setAttribute("width",nt(n)),o.setAttribute("height",nt(r));var a=new Ve.MathNode("mpadded",[o]);return i>=0?a.setAttribute("height",nt(i)):(a.setAttribute("height",nt(i)),a.setAttribute("depth",nt(-i))),a.setAttribute("voffset",nt(i)),a}});function WU(t,e,n){for(var r=wi(t,e,!1),i=e.sizeMultiplier/n.sizeMultiplier,s=0;s<r.length;s++){var o=r[s].classes.indexOf("sizing");o<0?Array.prototype.push.apply(r[s].classes,e.sizingClasses(n)):r[s].classes[o+1]==="reset-size"+e.size&&(r[s].classes[o+1]="reset-size"+n.size),r[s].height*=i,r[s].depth*=i}return be.makeFragment(r)}var uP=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],J3e=(t,e)=>{var n=e.havingSize(t.size);return WU(t.body,n,e)};ft({type:"sizing",names:uP,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:r,parser:i}=t,s=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:uP.indexOf(r)+1,body:s}},htmlBuilder:J3e,mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),r=fo(t.body,n),i=new Ve.MathNode("mstyle",r);return i.setAttribute("mathsize",nt(n.sizeMultiplier)),i}});ft({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:r}=t,i=!1,s=!1,o=n[0]&&un(n[0],"ordgroup");if(o)for(var a="",l=0;l<o.body.length;++l){var c=o.body[l];if(a=c.text,a==="t")i=!0;else if(a==="b")s=!0;else{i=!1,s=!1;break}}else i=!0,s=!0;var d=e[0];return{type:"smash",mode:r.mode,body:d,smashHeight:i,smashDepth:s}},htmlBuilder:(t,e)=>{var n=be.makeSpan([],[Ln(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var s=be.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return be.makeSpan(["mord"],[s],e)},mathmlBuilder:(t,e)=>{var n=new Ve.MathNode("mpadded",[lr(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}});ft({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r}=t,i=n[0],s=e[0];return{type:"sqrt",mode:r.mode,body:s,index:i}},htmlBuilder(t,e){var n=Ln(t.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=be.wrapFragment(n,e);var r=e.fontMetrics(),i=r.defaultRuleThickness,s=i;e.style.id<qt.TEXT.id&&(s=e.fontMetrics().xHeight);var o=i+s/4,a=n.height+n.depth+o+i,{span:l,ruleWidth:c,advanceWidth:d}=Yc.sqrtImage(a,e),h=l.height-c;h>n.height+n.depth+o&&(o=(o+h-n.height-n.depth)/2);var f=l.height-n.height-o-c;n.style.paddingLeft=nt(d);var m=be.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+f)},{type:"elem",elem:l},{type:"kern",size:c}]},e);if(t.index){var g=e.havingStyle(qt.SCRIPTSCRIPT),p=Ln(t.index,g,e),v=.6*(m.height-m.depth),b=be.makeVList({positionType:"shift",positionData:-v,children:[{type:"elem",elem:p}]},e),y=be.makeSpan(["root"],[b]);return be.makeSpan(["mord","sqrt"],[y,m],e)}else return be.makeSpan(["mord","sqrt"],[m],e)},mathmlBuilder(t,e){var{body:n,index:r}=t;return r?new Ve.MathNode("mroot",[lr(n,e),lr(r,e)]):new Ve.MathNode("msqrt",[lr(n,e)])}});var dP={display:qt.DISPLAY,text:qt.TEXT,script:qt.SCRIPT,scriptscript:qt.SCRIPTSCRIPT};ft({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:r,parser:i}=t,s=i.parseExpression(!0,n),o=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:o,body:s}},htmlBuilder(t,e){var n=dP[t.style],r=e.havingStyle(n).withFont("");return WU(t.body,r,e)},mathmlBuilder(t,e){var n=dP[t.style],r=e.havingStyle(n),i=fo(t.body,r),s=new Ve.MathNode("mstyle",i),o={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},a=o[t.style];return s.setAttribute("scriptlevel",a[0]),s.setAttribute("displaystyle",a[1]),s}});var e_e=function(e,n){var r=e.base;if(r)if(r.type==="op"){var i=r.limits&&(n.style.size===qt.DISPLAY.size||r.alwaysHandleSupSub);return i?Eg:null}else if(r.type==="operatorname"){var s=r.alwaysHandleSupSub&&(n.style.size===qt.DISPLAY.size||r.limits);return s?HU:null}else{if(r.type==="accent")return Qt.isCharacterBox(r.base)?bE:null;if(r.type==="horizBrace"){var o=!e.sub;return o===r.isOver?VU:null}else return null}else return null};lf({type:"supsub",htmlBuilder(t,e){var n=e_e(t,e);if(n)return n(t,e);var{base:r,sup:i,sub:s}=t,o=Ln(r,e),a,l,c=e.fontMetrics(),d=0,h=0,f=r&&Qt.isCharacterBox(r);if(i){var m=e.havingStyle(e.style.sup());a=Ln(i,m,e),f||(d=o.height-m.fontMetrics().supDrop*m.sizeMultiplier/e.sizeMultiplier)}if(s){var g=e.havingStyle(e.style.sub());l=Ln(s,g,e),f||(h=o.depth+g.fontMetrics().subDrop*g.sizeMultiplier/e.sizeMultiplier)}var p;e.style===qt.DISPLAY?p=c.sup1:e.style.cramped?p=c.sup3:p=c.sup2;var v=e.sizeMultiplier,b=nt(.5/c.ptPerEm/v),y=null;if(l){var C=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(o instanceof Ra||C)&&(y=nt(-o.italic))}var x;if(a&&l){d=Math.max(d,p,a.depth+.25*c.xHeight),h=Math.max(h,c.sub2);var O=c.defaultRuleThickness,S=4*O;if(d-a.depth-(l.height-h)<S){h=S-(d-a.depth)+l.height;var T=.8*c.xHeight-(d-a.depth);T>0&&(d+=T,h-=T)}var $=[{type:"elem",elem:l,shift:h,marginRight:b,marginLeft:y},{type:"elem",elem:a,shift:-d,marginRight:b}];x=be.makeVList({positionType:"individualShift",children:$},e)}else if(l){h=Math.max(h,c.sub1,l.height-.8*c.xHeight);var M=[{type:"elem",elem:l,marginLeft:y,marginRight:b}];x=be.makeVList({positionType:"shift",positionData:h,children:M},e)}else if(a)d=Math.max(d,p,a.depth+.25*c.xHeight),x=be.makeVList({positionType:"shift",positionData:-d,children:[{type:"elem",elem:a,marginRight:b}]},e);else throw new Error("supsub must have either sup or sub.");var P=j3(o,"right")||"mord";return be.makeSpan([P],[o,be.makeSpan(["msupsub"],[x])],e)},mathmlBuilder(t,e){var n=!1,r,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(n=!0,r=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var s=[lr(t.base,e)];t.sub&&s.push(lr(t.sub,e)),t.sup&&s.push(lr(t.sup,e));var o;if(n)o=r?"mover":"munder";else if(t.sub)if(t.sup){var c=t.base;c&&c.type==="op"&&c.limits&&e.style===qt.DISPLAY||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(e.style===qt.DISPLAY||c.limits)?o="munderover":o="msubsup"}else{var l=t.base;l&&l.type==="op"&&l.limits&&(e.style===qt.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===qt.DISPLAY)?o="munder":o="msub"}else{var a=t.base;a&&a.type==="op"&&a.limits&&(e.style===qt.DISPLAY||a.alwaysHandleSupSub)||a&&a.type==="operatorname"&&a.alwaysHandleSupSub&&(a.limits||e.style===qt.DISPLAY)?o="mover":o="msup"}return new Ve.MathNode(o,s)}});lf({type:"atom",htmlBuilder(t,e){return be.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new Ve.MathNode("mo",[Ma(t.text,t.mode)]);if(t.family==="bin"){var r=pE(t,e);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else t.family==="punct"?n.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&n.setAttribute("stretchy","false");return n}});var XU={mi:"italic",mn:"normal",mtext:"normal"};lf({type:"mathord",htmlBuilder(t,e){return be.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new Ve.MathNode("mi",[Ma(t.text,t.mode,e)]),r=pE(t,e)||"italic";return r!==XU[n.type]&&n.setAttribute("mathvariant",r),n}});lf({type:"textord",htmlBuilder(t,e){return be.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n=Ma(t.text,t.mode,e),r=pE(t,e)||"normal",i;return t.mode==="text"?i=new Ve.MathNode("mtext",[n]):/[0-9]/.test(t.text)?i=new Ve.MathNode("mn",[n]):t.text==="\\prime"?i=new Ve.MathNode("mo",[n]):i=new Ve.MathNode("mi",[n]),r!==XU[i.type]&&i.setAttribute("mathvariant",r),i}});var kS={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},SS={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};lf({type:"spacing",htmlBuilder(t,e){if(SS.hasOwnProperty(t.text)){var n=SS[t.text].className||"";if(t.mode==="text"){var r=be.makeOrd(t,e,"textord");return r.classes.push(n),r}else return be.makeSpan(["mspace",n],[be.mathsym(t.text,t.mode,e)],e)}else{if(kS.hasOwnProperty(t.text))return be.makeSpan(["mspace",kS[t.text]],[],e);throw new je('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var n;if(SS.hasOwnProperty(t.text))n=new Ve.MathNode("mtext",[new Ve.TextNode("")]);else{if(kS.hasOwnProperty(t.text))return new Ve.MathNode("mspace");throw new je('Unknown type of space "'+t.text+'"')}return n}});var hP=()=>{var t=new Ve.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};lf({type:"tag",mathmlBuilder(t,e){var n=new Ve.MathNode("mtable",[new Ve.MathNode("mtr",[hP(),new Ve.MathNode("mtd",[yd(t.body,e)]),hP(),new Ve.MathNode("mtd",[yd(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var fP={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},mP={"\\textbf":"textbf","\\textmd":"textmd"},t_e={"\\textit":"textit","\\textup":"textup"},gP=(t,e)=>{var n=t.font;if(n){if(fP[n])return e.withTextFontFamily(fP[n]);if(mP[n])return e.withTextFontWeight(mP[n]);if(n==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(t_e[n])};ft({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"text",mode:n.mode,body:Yr(i),font:r}},htmlBuilder(t,e){var n=gP(t,e),r=wi(t.body,n,!0);return be.makeSpan(["mord","text"],r,n)},mathmlBuilder(t,e){var n=gP(t,e);return yd(t.body,n)}});ft({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Ln(t.body,e),r=be.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,s=be.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},e);return be.makeSpan(["mord","underline"],[s],e)},mathmlBuilder(t,e){var n=new Ve.MathNode("mo",[new Ve.TextNode("")]);n.setAttribute("stretchy","true");var r=new Ve.MathNode("munder",[lr(t.body,e),n]);return r.setAttribute("accentunder","true"),r}});ft({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Ln(t.body,e),r=e.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return be.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new Ve.MathNode("mpadded",[lr(t.body,e)],["vcenter"])}});ft({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new je("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=pP(t),r=[],i=e.havingStyle(e.style.text()),s=0;s<n.length;s++){var o=n[s];o==="~"&&(o="\\textasciitilde"),r.push(be.makeSymbol(o,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return be.makeSpan(["mord","text"].concat(i.sizingClasses(e)),be.tryCombineChars(r),i)},mathmlBuilder(t,e){var n=new Ve.TextNode(pP(t)),r=new Ve.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var pP=t=>t.body.replace(/ /g,t.star?"":""),Gu=vU,YU=`[ \r
	]`,n_e="\\\\[a-zA-Z@]+",r_e="\\\\[^\uD800-\uDFFF]",i_e="("+n_e+")"+YU+"*",s_e=`\\\\(
|[ \r	]+
?)[ \r	]*`,X3="[-]",o_e=new RegExp(X3+"+$"),a_e="("+YU+"+)|"+(s_e+"|")+"([!-\\[\\]---]"+(X3+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(X3+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+i_e)+("|"+r_e+")");class vP{constructor(e,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=n,this.tokenRegex=new RegExp(a_e,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,n){this.catcodes[e]=n}lex(){var e=this.input,n=this.tokenRegex.lastIndex;if(n===e.length)return new Ea("EOF",new Eo(this,n,n));var r=this.tokenRegex.exec(e);if(r===null||r.index!==n)throw new je("Unexpected character: '"+e[n]+"'",new Ea(e[n],new Eo(this,n,n+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var s=e.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new Ea(i,new Eo(this,n,this.tokenRegex.lastIndex))}}class l_e{constructor(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new je("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var n in e)e.hasOwnProperty(n)&&(e[n]==null?delete this.current[n]:this.current[n]=e[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,n,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=n)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(e)&&(s[e]=this.current[e])}n==null?delete this.current[e]:this.current[e]=n}}var c_e=FU;F("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});F("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});F("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});F("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});F("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});F("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");F("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var bP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};F("\\char",function(t){var e=t.popToken(),n,r="";if(e.text==="'")n=8,e=t.popToken();else if(e.text==='"')n=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new je("\\char` missing argument");r=e.text.charCodeAt(0)}else n=10;if(n){if(r=bP[e.text],r==null||r>=n)throw new je("Invalid base-"+n+" digit "+e.text);for(var i;(i=bP[t.future().text])!=null&&i<n;)r*=n,r+=i,t.popToken()}return"\\@char{"+r+"}"});var CE=(t,e,n,r)=>{var i=t.consumeArg().tokens;if(i.length!==1)throw new je("\\newcommand's first argument must be a macro name");var s=i[0].text,o=t.isDefined(s);if(o&&!e)throw new je("\\newcommand{"+s+"} attempting to redefine "+(s+"; use \\renewcommand"));if(!o&&!n)throw new je("\\renewcommand{"+s+"} when command "+s+" does not yet exist; use \\newcommand");var a=0;if(i=t.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var l="",c=t.expandNextToken();c.text!=="]"&&c.text!=="EOF";)l+=c.text,c=t.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new je("Invalid number of arguments: "+l);a=parseInt(l),i=t.consumeArg().tokens}return o&&r||t.macros.set(s,{tokens:i,numArgs:a}),""};F("\\newcommand",t=>CE(t,!1,!0,!1));F("\\renewcommand",t=>CE(t,!0,!1,!1));F("\\providecommand",t=>CE(t,!0,!0,!0));F("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});F("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});F("\\show",t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),Gu[n],vr.math[n],vr.text[n]),""});F("\\bgroup","{");F("\\egroup","}");F("~","\\nobreakspace");F("\\lq","`");F("\\rq","'");F("\\aa","\\r a");F("\\AA","\\r A");F("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");F("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");F("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");F("","\\mathscr{B}");F("","\\mathscr{E}");F("","\\mathscr{F}");F("","\\mathscr{H}");F("","\\mathscr{I}");F("","\\mathscr{L}");F("","\\mathscr{M}");F("","\\mathscr{R}");F("","\\mathfrak{C}");F("","\\mathfrak{H}");F("","\\mathfrak{Z}");F("\\Bbbk","\\Bbb{k}");F("","\\cdotp");F("\\llap","\\mathllap{\\textrm{#1}}");F("\\rlap","\\mathrlap{\\textrm{#1}}");F("\\clap","\\mathclap{\\textrm{#1}}");F("\\mathstrut","\\vphantom{(}");F("\\underbar","\\underline{\\text{#1}}");F("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');F("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");F("\\ne","\\neq");F("","\\neq");F("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");F("","\\notin");F("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");F("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");F("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");F("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");F("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");F("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");F("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");F("","\\perp");F("","\\mathclose{!\\mkern-0.8mu!}");F("","\\notni");F("","\\ulcorner");F("","\\urcorner");F("","\\llcorner");F("","\\lrcorner");F("","\\copyright");F("","\\textregistered");F("","\\textregistered");F("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');F("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');F("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');F("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');F("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");F("","\\vdots");F("\\varGamma","\\mathit{\\Gamma}");F("\\varDelta","\\mathit{\\Delta}");F("\\varTheta","\\mathit{\\Theta}");F("\\varLambda","\\mathit{\\Lambda}");F("\\varXi","\\mathit{\\Xi}");F("\\varPi","\\mathit{\\Pi}");F("\\varSigma","\\mathit{\\Sigma}");F("\\varUpsilon","\\mathit{\\Upsilon}");F("\\varPhi","\\mathit{\\Phi}");F("\\varPsi","\\mathit{\\Psi}");F("\\varOmega","\\mathit{\\Omega}");F("\\substack","\\begin{subarray}{c}#1\\end{subarray}");F("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");F("\\boxed","\\fbox{$\\displaystyle{#1}$}");F("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");F("\\implies","\\DOTSB\\;\\Longrightarrow\\;");F("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");F("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");F("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var yP={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};F("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in yP?e=yP[n]:(n.slice(0,4)==="\\not"||n in vr.math&&Qt.contains(["bin","rel"],vr.math[n].group))&&(e="\\dotsb"),e});var EE={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};F("\\dotso",function(t){var e=t.future().text;return e in EE?"\\ldots\\,":"\\ldots"});F("\\dotsc",function(t){var e=t.future().text;return e in EE&&e!==","?"\\ldots\\,":"\\ldots"});F("\\cdots",function(t){var e=t.future().text;return e in EE?"\\@cdots\\,":"\\@cdots"});F("\\dotsb","\\cdots");F("\\dotsm","\\cdots");F("\\dotsi","\\!\\cdots");F("\\dotsx","\\ldots\\,");F("\\DOTSI","\\relax");F("\\DOTSB","\\relax");F("\\DOTSX","\\relax");F("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");F("\\,","\\tmspace+{3mu}{.1667em}");F("\\thinspace","\\,");F("\\>","\\mskip{4mu}");F("\\:","\\tmspace+{4mu}{.2222em}");F("\\medspace","\\:");F("\\;","\\tmspace+{5mu}{.2777em}");F("\\thickspace","\\;");F("\\!","\\tmspace-{3mu}{.1667em}");F("\\negthinspace","\\!");F("\\negmedspace","\\tmspace-{4mu}{.2222em}");F("\\negthickspace","\\tmspace-{5mu}{.277em}");F("\\enspace","\\kern.5em ");F("\\enskip","\\hskip.5em\\relax");F("\\quad","\\hskip1em\\relax");F("\\qquad","\\hskip2em\\relax");F("\\tag","\\@ifstar\\tag@literal\\tag@paren");F("\\tag@paren","\\tag@literal{({#1})}");F("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new je("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});F("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");F("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");F("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");F("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");F("\\newline","\\\\\\relax");F("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var GU=nt(Hl["Main-Regular"][84][1]-.7*Hl["Main-Regular"][65][1]);F("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+GU+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");F("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+GU+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");F("\\hspace","\\@ifstar\\@hspacer\\@hspace");F("\\@hspace","\\hskip #1\\relax");F("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");F("\\ordinarycolon",":");F("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");F("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');F("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');F("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');F("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');F("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');F("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');F("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');F("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');F("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');F("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');F("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');F("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');F("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');F("","\\dblcolon");F("","\\eqcolon");F("","\\coloneqq");F("","\\eqqcolon");F("","\\Coloneqq");F("\\ratio","\\vcentcolon");F("\\coloncolon","\\dblcolon");F("\\colonequals","\\coloneqq");F("\\coloncolonequals","\\Coloneqq");F("\\equalscolon","\\eqqcolon");F("\\equalscoloncolon","\\Eqqcolon");F("\\colonminus","\\coloneq");F("\\coloncolonminus","\\Coloneq");F("\\minuscolon","\\eqcolon");F("\\minuscoloncolon","\\Eqcolon");F("\\coloncolonapprox","\\Colonapprox");F("\\coloncolonsim","\\Colonsim");F("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");F("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");F("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");F("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");F("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");F("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");F("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");F("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");F("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");F("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");F("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");F("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");F("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");F("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");F("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");F("\\ngeqq","\\html@mathml{\\@ngeqq}{}");F("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");F("\\nleqq","\\html@mathml{\\@nleqq}{}");F("\\nleqslant","\\html@mathml{\\@nleqslant}{}");F("\\nshortmid","\\html@mathml{\\@nshortmid}{}");F("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");F("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");F("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");F("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");F("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");F("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");F("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");F("\\imath","\\html@mathml{\\@imath}{}");F("\\jmath","\\html@mathml{\\@jmath}{}");F("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");F("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");F("","\\llbracket");F("","\\rrbracket");F("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");F("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");F("","\\lBrace");F("","\\rBrace");F("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");F("","\\minuso");F("\\darr","\\downarrow");F("\\dArr","\\Downarrow");F("\\Darr","\\Downarrow");F("\\lang","\\langle");F("\\rang","\\rangle");F("\\uarr","\\uparrow");F("\\uArr","\\Uparrow");F("\\Uarr","\\Uparrow");F("\\N","\\mathbb{N}");F("\\R","\\mathbb{R}");F("\\Z","\\mathbb{Z}");F("\\alef","\\aleph");F("\\alefsym","\\aleph");F("\\Alpha","\\mathrm{A}");F("\\Beta","\\mathrm{B}");F("\\bull","\\bullet");F("\\Chi","\\mathrm{X}");F("\\clubs","\\clubsuit");F("\\cnums","\\mathbb{C}");F("\\Complex","\\mathbb{C}");F("\\Dagger","\\ddagger");F("\\diamonds","\\diamondsuit");F("\\empty","\\emptyset");F("\\Epsilon","\\mathrm{E}");F("\\Eta","\\mathrm{H}");F("\\exist","\\exists");F("\\harr","\\leftrightarrow");F("\\hArr","\\Leftrightarrow");F("\\Harr","\\Leftrightarrow");F("\\hearts","\\heartsuit");F("\\image","\\Im");F("\\infin","\\infty");F("\\Iota","\\mathrm{I}");F("\\isin","\\in");F("\\Kappa","\\mathrm{K}");F("\\larr","\\leftarrow");F("\\lArr","\\Leftarrow");F("\\Larr","\\Leftarrow");F("\\lrarr","\\leftrightarrow");F("\\lrArr","\\Leftrightarrow");F("\\Lrarr","\\Leftrightarrow");F("\\Mu","\\mathrm{M}");F("\\natnums","\\mathbb{N}");F("\\Nu","\\mathrm{N}");F("\\Omicron","\\mathrm{O}");F("\\plusmn","\\pm");F("\\rarr","\\rightarrow");F("\\rArr","\\Rightarrow");F("\\Rarr","\\Rightarrow");F("\\real","\\Re");F("\\reals","\\mathbb{R}");F("\\Reals","\\mathbb{R}");F("\\Rho","\\mathrm{P}");F("\\sdot","\\cdot");F("\\sect","\\S");F("\\spades","\\spadesuit");F("\\sub","\\subset");F("\\sube","\\subseteq");F("\\supe","\\supseteq");F("\\Tau","\\mathrm{T}");F("\\thetasym","\\vartheta");F("\\weierp","\\wp");F("\\Zeta","\\mathrm{Z}");F("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");F("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");F("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");F("\\bra","\\mathinner{\\langle{#1}|}");F("\\ket","\\mathinner{|{#1}\\rangle}");F("\\braket","\\mathinner{\\langle{#1}\\rangle}");F("\\Bra","\\left\\langle#1\\right|");F("\\Ket","\\left|#1\\right\\rangle");var ZU=t=>e=>{var n=e.consumeArg().tokens,r=e.consumeArg().tokens,i=e.consumeArg().tokens,s=e.consumeArg().tokens,o=e.macros.get("|"),a=e.macros.get("\\|");e.macros.beginGroup();var l=h=>f=>{t&&(f.macros.set("|",o),i.length&&f.macros.set("\\|",a));var m=h;if(!h&&i.length){var g=f.future();g.text==="|"&&(f.popToken(),m=!0)}return{tokens:m?i:r,numArgs:0}};e.macros.set("|",l(!1)),i.length&&e.macros.set("\\|",l(!0));var c=e.consumeArg().tokens,d=e.expandTokens([...s,...c,...n]);return e.macros.endGroup(),{tokens:d.reverse(),numArgs:0}};F("\\bra@ket",ZU(!1));F("\\bra@set",ZU(!0));F("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");F("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");F("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");F("\\angln","{\\angl n}");F("\\blue","\\textcolor{##6495ed}{#1}");F("\\orange","\\textcolor{##ffa500}{#1}");F("\\pink","\\textcolor{##ff00af}{#1}");F("\\red","\\textcolor{##df0030}{#1}");F("\\green","\\textcolor{##28ae7b}{#1}");F("\\gray","\\textcolor{gray}{#1}");F("\\purple","\\textcolor{##9d38bd}{#1}");F("\\blueA","\\textcolor{##ccfaff}{#1}");F("\\blueB","\\textcolor{##80f6ff}{#1}");F("\\blueC","\\textcolor{##63d9ea}{#1}");F("\\blueD","\\textcolor{##11accd}{#1}");F("\\blueE","\\textcolor{##0c7f99}{#1}");F("\\tealA","\\textcolor{##94fff5}{#1}");F("\\tealB","\\textcolor{##26edd5}{#1}");F("\\tealC","\\textcolor{##01d1c1}{#1}");F("\\tealD","\\textcolor{##01a995}{#1}");F("\\tealE","\\textcolor{##208170}{#1}");F("\\greenA","\\textcolor{##b6ffb0}{#1}");F("\\greenB","\\textcolor{##8af281}{#1}");F("\\greenC","\\textcolor{##74cf70}{#1}");F("\\greenD","\\textcolor{##1fab54}{#1}");F("\\greenE","\\textcolor{##0d923f}{#1}");F("\\goldA","\\textcolor{##ffd0a9}{#1}");F("\\goldB","\\textcolor{##ffbb71}{#1}");F("\\goldC","\\textcolor{##ff9c39}{#1}");F("\\goldD","\\textcolor{##e07d10}{#1}");F("\\goldE","\\textcolor{##a75a05}{#1}");F("\\redA","\\textcolor{##fca9a9}{#1}");F("\\redB","\\textcolor{##ff8482}{#1}");F("\\redC","\\textcolor{##f9685d}{#1}");F("\\redD","\\textcolor{##e84d39}{#1}");F("\\redE","\\textcolor{##bc2612}{#1}");F("\\maroonA","\\textcolor{##ffbde0}{#1}");F("\\maroonB","\\textcolor{##ff92c6}{#1}");F("\\maroonC","\\textcolor{##ed5fa6}{#1}");F("\\maroonD","\\textcolor{##ca337c}{#1}");F("\\maroonE","\\textcolor{##9e034e}{#1}");F("\\purpleA","\\textcolor{##ddd7ff}{#1}");F("\\purpleB","\\textcolor{##c6b9fc}{#1}");F("\\purpleC","\\textcolor{##aa87ff}{#1}");F("\\purpleD","\\textcolor{##7854ab}{#1}");F("\\purpleE","\\textcolor{##543b78}{#1}");F("\\mintA","\\textcolor{##f5f9e8}{#1}");F("\\mintB","\\textcolor{##edf2df}{#1}");F("\\mintC","\\textcolor{##e0e5cc}{#1}");F("\\grayA","\\textcolor{##f6f7f7}{#1}");F("\\grayB","\\textcolor{##f0f1f2}{#1}");F("\\grayC","\\textcolor{##e3e5e6}{#1}");F("\\grayD","\\textcolor{##d6d8da}{#1}");F("\\grayE","\\textcolor{##babec2}{#1}");F("\\grayF","\\textcolor{##888d93}{#1}");F("\\grayG","\\textcolor{##626569}{#1}");F("\\grayH","\\textcolor{##3b3e40}{#1}");F("\\grayI","\\textcolor{##21242c}{#1}");F("\\kaBlue","\\textcolor{##314453}{#1}");F("\\kaGreen","\\textcolor{##71B307}{#1}");var KU={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class u_e{constructor(e,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(e),this.macros=new l_e(c_e,n.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new vP(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var n,r,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:n,end:r}=this.consumeArg());return this.pushToken(new Ea("EOF",r.loc)),this.pushTokens(i),n.range(r,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var n=[],r=e&&e.length>0;r||this.consumeSpaces();var i=this.future(),s,o=0,a=0;do{if(s=this.popToken(),n.push(s),s.text==="{")++o;else if(s.text==="}"){if(--o,o===-1)throw new je("Extra }",s)}else if(s.text==="EOF")throw new je("Unexpected end of input in a macro argument, expected '"+(e&&r?e[a]:"}")+"'",s);if(e&&r)if((o===0||o===1&&e[a]==="{")&&s.text===e[a]){if(++a,a===e.length){n.splice(-a,a);break}}else a=0}while(o!==0||r);return i.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:i,end:s}}consumeArgs(e,n){if(n){if(n.length!==e+1)throw new je("The length of delimiters doesn't match the number of args!");for(var r=n[0],i=0;i<r.length;i++){var s=this.popToken();if(r[i]!==s.text)throw new je("Use of the macro doesn't match its definition",s)}}for(var o=[],a=0;a<e;a++)o.push(this.consumeArg(n&&n[a+1]).tokens);return o}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new je("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var n=this.popToken(),r=n.text,i=n.noexpand?null:this._getExpansion(r);if(i==null||e&&i.unexpandable){if(e&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new je("Undefined control sequence: "+r);return this.pushToken(n),!1}this.countExpansion(1);var s=i.tokens,o=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){s=s.slice();for(var a=s.length-1;a>=0;--a){var l=s[a];if(l.text==="#"){if(a===0)throw new je("Incomplete placeholder at end of macro body",l);if(l=s[--a],l.text==="#")s.splice(a+1,1);else if(/^[1-9]$/.test(l.text))s.splice(a,2,...o[+l.text-1]);else throw new je("Not a valid argument number",l)}}}return this.pushTokens(s),s.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Ea(e)]):void 0}expandTokens(e){var n=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),n.push(i)}return this.countExpansion(n.length),n}expandMacroAsText(e){var n=this.expandMacro(e);return n&&n.map(r=>r.text).join("")}_getExpansion(e){var n=this.macros.get(e);if(n==null)return n;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var i=typeof n=="function"?n(this):n;if(typeof i=="string"){var s=0;if(i.indexOf("#")!==-1)for(var o=i.replace(/##/g,"");o.indexOf("#"+(s+1))!==-1;)++s;for(var a=new vP(i,this.settings),l=[],c=a.lex();c.text!=="EOF";)l.push(c),c=a.lex();l.reverse();var d={tokens:l,numArgs:s};return d}return i}isDefined(e){return this.macros.has(e)||Gu.hasOwnProperty(e)||vr.math.hasOwnProperty(e)||vr.text.hasOwnProperty(e)||KU.hasOwnProperty(e)}isExpandable(e){var n=this.macros.get(e);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:Gu.hasOwnProperty(e)&&!Gu[e].primitive}}var OP=/^[]/,eb=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),xS={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},wP={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class WO{constructor(e,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new u_e(e,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(e,n){if(n===void 0&&(n=!0),this.fetch().text!==e)throw new je("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var n=this.nextToken;this.consume(),this.gullet.pushToken(new Ea("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(e,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(WO.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||e&&Gu[i.text]&&Gu[i.text].infix)break;var s=this.parseAtom(n);if(s){if(s.type==="internal")continue}else break;r.push(s)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var n=-1,r,i=0;i<e.length;i++)if(e[i].type==="infix"){if(n!==-1)throw new je("only one infix operator per group",e[i].token);n=i,r=e[i].replaceWith}if(n!==-1&&r){var s,o,a=e.slice(0,n),l=e.slice(n+1);a.length===1&&a[0].type==="ordgroup"?s=a[0]:s={type:"ordgroup",mode:this.mode,body:a},l.length===1&&l[0].type==="ordgroup"?o=l[0]:o={type:"ordgroup",mode:this.mode,body:l};var c;return r==="\\\\abovefrac"?c=this.callFunction(r,[s,e[n],o],[]):c=this.callFunction(r,[s,o],[]),[c]}else return e}handleSupSubscript(e){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var i;do{var s;i=this.parseGroup(e)}while(((s=i)==null?void 0:s.type)==="internal");if(!i)throw new je("Expected group after '"+r+"'",n);return i}formatUnsupportedCmd(e){for(var n=[],r=0;r<e.length;r++)n.push({type:"textord",mode:"text",text:e[r]});var i={type:"text",mode:this.mode,body:n},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return s}parseAtom(e){var n=this.parseGroup("atom",e);if(n?.type==="internal"||this.mode==="text")return n;for(var r,i;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(n&&n.type==="op"){var o=s.text==="\\limits";n.limits=o,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=s.text==="\\limits");else throw new je("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(r)throw new je("Double superscript",s);r=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(i)throw new je("Double subscript",s);i=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(r)throw new je("Double superscript",s);var a={type:"textord",mode:this.mode,text:"\\prime"},l=[a];for(this.consume();this.fetch().text==="'";)l.push(a),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:l}}else if(eb[s.text]){var c=OP.test(s.text),d=[];for(d.push(new Ea(eb[s.text])),this.consume();;){var h=this.fetch().text;if(!eb[h]||OP.test(h)!==c)break;d.unshift(new Ea(eb[h])),this.consume()}var f=this.subparse(d);c?i={type:"ordgroup",mode:"math",body:f}:r={type:"ordgroup",mode:"math",body:f}}else break}return r||i?{type:"supsub",mode:this.mode,base:n,sup:r,sub:i}:n}parseFunction(e,n){var r=this.fetch(),i=r.text,s=Gu[i];if(!s)return null;if(this.consume(),n&&n!=="atom"&&!s.allowedInArgument)throw new je("Got function '"+i+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!s.allowedInText)throw new je("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&s.allowedInMath===!1)throw new je("Can't use function '"+i+"' in math mode",r);var{args:o,optArgs:a}=this.parseArguments(i,s);return this.callFunction(i,o,a,r,e)}callFunction(e,n,r,i,s){var o={funcName:e,parser:this,token:i,breakOnTokenText:s},a=Gu[e];if(a&&a.handler)return a.handler(o,n,r);throw new je("No function handler for "+e)}parseArguments(e,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],s=[],o=0;o<r;o++){var a=n.argTypes&&n.argTypes[o],l=o<n.numOptionalArgs;(n.primitive&&a==null||n.type==="sqrt"&&o===1&&s[0]==null)&&(a="primitive");var c=this.parseGroupOfType("argument to '"+e+"'",a,l);if(l)s.push(c);else if(c!=null)i.push(c);else throw new je("Null argument, please report this as a bug")}return{args:i,optArgs:s}}parseGroupOfType(e,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",r);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(r)throw new je("A primitive argument cannot be optional");var o=this.parseGroup(e);if(o==null)throw new je("Expected group as "+e,this.fetch());return o}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new je("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var i="",s;(s=this.fetch()).text!=="EOF";)i+=s.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(e,n){for(var r=this.fetch(),i=r,s="",o;(o=this.fetch()).text!=="EOF"&&e.test(s+o.text);)i=o,s+=i.text,this.consume();if(s==="")throw new je("Invalid "+n+": '"+r.text+"'",r);return r.range(i,s)}parseColorGroup(e){var n=this.parseStringGroup("color",e);if(n==null)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new je("Invalid color: '"+n.text+"'",n);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var n,r=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",e),!n)return null;!e&&n.text.length===0&&(n.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!i)throw new je("Invalid size: '"+n.text+"'",n);var s={number:+(i[1]+i[2]),unit:i[3]};if(!lU(s))throw new je("Invalid unit: '"+s.unit+"'",n);return{type:"size",mode:this.mode,value:s,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,n){var r=this.gullet.scanArgument(e);if(r==null)return null;var i=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var o={type:"ordgroup",mode:this.mode,loc:r.loc,body:s};return n&&this.switchMode(i),o}parseGroup(e,n){var r=this.fetch(),i=r.text,s;if(i==="{"||i==="\\begingroup"){this.consume();var o=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var a=this.parseExpression(!1,o),l=this.fetch();this.expect(o),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:Eo.range(r,l),body:a,semisimple:i==="\\begingroup"||void 0}}else if(s=this.parseFunction(n,e)||this.parseSymbol(),s==null&&i[0]==="\\"&&!KU.hasOwnProperty(i)){if(this.settings.throwOnError)throw new je("Undefined control sequence: "+i,r);s=this.formatUnsupportedCmd(i),this.consume()}return s}formLigatures(e){for(var n=e.length-1,r=0;r<n;++r){var i=e[r],s=i.text;s==="-"&&e[r+1].text==="-"&&(r+1<n&&e[r+2].text==="-"?(e.splice(r,3,{type:"textord",mode:"text",loc:Eo.range(i,e[r+2]),text:"---"}),n-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:Eo.range(i,e[r+1]),text:"--"}),n-=1)),(s==="'"||s==="`")&&e[r+1].text===s&&(e.splice(r,2,{type:"textord",mode:"text",loc:Eo.range(i,e[r+1]),text:s+s}),n-=1)}}parseSymbol(){var e=this.fetch(),n=e.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new je(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}wP.hasOwnProperty(n[0])&&!vr[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',e),n=wP[n[0]]+n.slice(1));var s=o_e.exec(n);s&&(n=n.substring(0,s.index),n==="i"?n="":n==="j"&&(n=""));var o;if(vr[this.mode][n]){this.settings.strict&&this.mode==="math"&&V3.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',e);var a=vr[this.mode][n].group,l=Eo.range(e),c;if(Kxe.hasOwnProperty(a)){var d=a;c={type:"atom",mode:this.mode,family:d,loc:l,text:n}}else c={type:a,mode:this.mode,loc:l,text:n};o=c}else if(n.charCodeAt(0)>=128)this.settings.strict&&(aU(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),e)),o={type:"textord",mode:"text",loc:Eo.range(e),text:n};else return null;if(this.consume(),s)for(var h=0;h<s[0].length;h++){var f=s[0][h];if(!xS[f])throw new je("Unknown accent ' "+f+"'",e);var m=xS[f][this.mode]||xS[f].text;if(!m)throw new je("Accent "+f+" unsupported in "+this.mode+" mode",e);o={type:"accent",mode:this.mode,loc:Eo.range(e),label:m,isStretchy:!1,isShifty:!0,base:o}}return o}}WO.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var TE=function(e,n){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new WO(e,n);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new je("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new Ea("\\df@tag")])}]}return i},JU=function(e,n,r){n.textContent="";var i=DE(e,r).toNode();n.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),JU=function(){throw new je("KaTeX doesn't work in quirks mode.")});var d_e=function(e,n){var r=DE(e,n).toMarkup();return r},h_e=function(e,n){var r=new uE(n);return TE(e,r)},eV=function(e,n,r){if(r.throwOnError||!(e instanceof je))throw e;var i=be.makeSpan(["katex-error"],[new Ra(n)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+r.errorColor),i},DE=function(e,n){var r=new uE(n);try{var i=TE(e,r);return w3e(i,e,r)}catch(s){return eV(s,e,r)}},f_e=function(e,n){var r=new uE(n);try{var i=TE(e,r);return k3e(i,e,r)}catch(s){return eV(s,e,r)}},m_e="0.16.22",g_e={Span:Wv,Anchor:fE,SymbolNode:Ra,SvgNode:ru,PathNode:bd,LineNode:U3},kP={version:m_e,render:JU,renderToString:d_e,ParseError:je,SETTINGS_SCHEMA:Xb,__parse:h_e,__renderToDomTree:DE,__renderToHTMLTree:f_e,__setFontMetrics:jxe,__defineSymbol:w,__defineFunction:ft,__defineMacro:F,__domTree:g_e};const p_e={},v_e=[];function b_e(t){const e=t||p_e;return function(n,r){lE(n,"element",function(i,s){const o=Array.isArray(i.properties.className)?i.properties.className:v_e,a=o.includes("language-math"),l=o.includes("math-display"),c=o.includes("math-inline");let d=l;if(!a&&!l&&!c)return;let h=s[s.length-1],f=i;if(i.tagName==="code"&&a&&h&&h.type==="element"&&h.tagName==="pre"&&(f=h,h=s[s.length-2],d=!0),!h)return;const m=gQ(f,{whitespace:"pre"});let g;try{g=kP.renderToString(m,{...e,displayMode:d,throwOnError:!0})}catch(v){const b=v,y=b.name.toLowerCase();r.message("Could not render math with KaTeX",{ancestors:[...s,i],cause:b,place:i.position,ruleId:y,source:"rehype-katex"});try{g=kP.renderToString(m,{...e,displayMode:d,strict:"ignore",throwOnError:!1})}catch{g=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(e.errorColor||"#cc0000"),title:String(v)},children:[{type:"text",value:m}]}]}}typeof g=="string"&&(g=mxe(g).children);const p=h.children.indexOf(f);return h.children.splice(p,1,...g),YQ})}}function y_e(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function tV(t,e,n){const i=jv((n||{}).ignore||[]),s=O_e(e);let o=-1;for(;++o<s.length;)lE(t,"text",a);function a(c,d){let h=-1,f;for(;++h<d.length;){const m=d[h],g=f?f.children:void 0;if(i(m,g?g.indexOf(m):void 0,f))return;f=m}if(f)return l(c,d)}function l(c,d){const h=d[d.length-1],f=s[o][0],m=s[o][1];let g=0;const v=h.children.indexOf(c);let b=!1,y=[];f.lastIndex=0;let C=f.exec(c.value);for(;C;){const x=C.index,O={index:C.index,input:C.input,stack:[...d,c]};let S=m(...C,O);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?f.lastIndex=x+1:(g!==x&&y.push({type:"text",value:c.value.slice(g,x)}),Array.isArray(S)?y.push(...S):S&&y.push(S),g=x+C[0].length,b=!0),!f.global)break;C=f.exec(c.value)}return b?(g<c.value.length&&y.push({type:"text",value:c.value.slice(g)}),h.children.splice(v,1,...y)):y=[c],v+y.length}}function O_e(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let r=-1;for(;++r<n.length;){const i=n[r];e.push([w_e(i[0]),k_e(i[1])])}return e}function w_e(t){return typeof t=="string"?new RegExp(y_e(t),"g"):t}function k_e(t){return typeof t=="function"?t:function(){return t}}function S_e(t){tV(t,[/\r?\n|\r/g,x_e])}function x_e(){return{type:"break"}}function nV(){return function(t){S_e(t)}}function SP(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}const As=Dd(/[A-Za-z]/),fs=Dd(/[\dA-Za-z]/),__e=Dd(/[#-'*+\--9=?A-Z^-~]/);function v2(t){return t!==null&&(t<32||t===127)}const Y3=Dd(/\d/),C_e=Dd(/[\dA-Fa-f]/),E_e=Dd(/[!-/:-@[-`{-~]/);function Rt(t){return t!==null&&t<-2}function cr(t){return t!==null&&(t<0||t===32)}function wn(t){return t===-2||t===-1||t===32}const XO=Dd(/\p{P}|\p{S}/u),Bh=Dd(/\s/);function Dd(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}const _S="phrasing",CS=["autolink","link","image","label"];function T_e(){return{transforms:[$_e],enter:{literalAutolink:A_e,literalAutolinkEmail:ES,literalAutolinkHttp:ES,literalAutolinkWww:ES},exit:{literalAutolink:I_e,literalAutolinkEmail:M_e,literalAutolinkHttp:P_e,literalAutolinkWww:R_e}}}function D_e(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:_S,notInConstruct:CS},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:_S,notInConstruct:CS},{character:":",before:"[ps]",after:"\\/",inConstruct:_S,notInConstruct:CS}]}}function A_e(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function ES(t){this.config.enter.autolinkProtocol.call(this,t)}function P_e(t){this.config.exit.autolinkProtocol.call(this,t)}function R_e(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function M_e(t){this.config.exit.autolinkEmail.call(this,t)}function I_e(t){this.exit(t)}function $_e(t){tV(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,L_e],[/(?<=^|\s|\p{P}|\p{S})([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/gu,N_e]],{ignore:["link","linkReference"]})}function L_e(t,e,n,r,i){let s="";if(!rV(i)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!F_e(n)))return!1;const o=B_e(n+r);if(!o[0])return!1;const a={type:"link",title:null,url:s+e+o[0],children:[{type:"text",value:e+o[0]}]};return o[1]?[a,{type:"text",value:o[1]}]:a}function N_e(t,e,n,r){return!rV(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function F_e(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function B_e(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],r=n.indexOf(")");const i=SP(t,"(");let s=SP(t,")");for(;r!==-1&&i>s;)t+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),s++;return[t,n]}function rV(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Bh(n)||XO(n))&&(!e||n!==47)}function al(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}iV.peek=X_e;function z_e(){this.buffer()}function Q_e(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function U_e(){this.buffer()}function V_e(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function j_e(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=al(this.sliceSerialize(t)).toLowerCase(),n.label=e}function q_e(t){this.exit(t)}function H_e(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=al(this.sliceSerialize(t)).toLowerCase(),n.label=e}function W_e(t){this.exit(t)}function X_e(){return"["}function iV(t,e,n,r){const i=n.createTracker(r);let s=i.move("[^");const o=n.enter("footnoteReference"),a=n.enter("reference");return s+=i.move(n.safe(n.associationId(t),{after:"]",before:s})),a(),o(),s+=i.move("]"),s}function Y_e(){return{enter:{gfmFootnoteCallString:z_e,gfmFootnoteCall:Q_e,gfmFootnoteDefinitionLabelString:U_e,gfmFootnoteDefinition:V_e},exit:{gfmFootnoteCallString:j_e,gfmFootnoteCall:q_e,gfmFootnoteDefinitionLabelString:H_e,gfmFootnoteDefinition:W_e}}}function G_e(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:iV},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,s,o){const a=s.createTracker(o);let l=a.move("[^");const c=s.enter("footnoteDefinition"),d=s.enter("label");return l+=a.move(s.safe(s.associationId(r),{before:l,after:"]"})),d(),l+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),l+=a.move((e?`
`:" ")+s.indentLines(s.containerFlow(r,a.current()),e?sV:Z_e))),c(),l}}function Z_e(t,e,n){return e===0?t:sV(t,e,n)}function sV(t,e,n){return(n?"":"    ")+t}const K_e=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];oV.peek=r5e;function J_e(){return{canContainEols:["delete"],enter:{strikethrough:t5e},exit:{strikethrough:n5e}}}function e5e(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:K_e}],handlers:{delete:oV}}}function t5e(t){this.enter({type:"delete",children:[]},t)}function n5e(t){this.exit(t)}function oV(t,e,n,r){const i=n.createTracker(r),s=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(t,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),s(),o}function r5e(){return"~"}function i5e(t){return t.length}function s5e(t,e){const n=e||{},r=(n.align||[]).concat(),i=n.stringLength||i5e,s=[],o=[],a=[],l=[];let c=0,d=-1;for(;++d<t.length;){const p=[],v=[];let b=-1;for(t[d].length>c&&(c=t[d].length);++b<t[d].length;){const y=o5e(t[d][b]);if(n.alignDelimiters!==!1){const C=i(y);v[b]=C,(l[b]===void 0||C>l[b])&&(l[b]=C)}p.push(y)}o[d]=p,a[d]=v}let h=-1;if(typeof r=="object"&&"length"in r)for(;++h<c;)s[h]=xP(r[h]);else{const p=xP(r);for(;++h<c;)s[h]=p}h=-1;const f=[],m=[];for(;++h<c;){const p=s[h];let v="",b="";p===99?(v=":",b=":"):p===108?v=":":p===114&&(b=":");let y=n.alignDelimiters===!1?1:Math.max(1,l[h]-v.length-b.length);const C=v+"-".repeat(y)+b;n.alignDelimiters!==!1&&(y=v.length+y+b.length,y>l[h]&&(l[h]=y),m[h]=y),f[h]=C}o.splice(1,0,f),a.splice(1,0,m),d=-1;const g=[];for(;++d<o.length;){const p=o[d],v=a[d];h=-1;const b=[];for(;++h<c;){const y=p[h]||"";let C="",x="";if(n.alignDelimiters!==!1){const O=l[h]-(v[h]||0),S=s[h];S===114?C=" ".repeat(O):S===99?O%2?(C=" ".repeat(O/2+.5),x=" ".repeat(O/2-.5)):(C=" ".repeat(O/2),x=C):x=" ".repeat(O)}n.delimiterStart!==!1&&!h&&b.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&y==="")&&(n.delimiterStart!==!1||h)&&b.push(" "),n.alignDelimiters!==!1&&b.push(C),b.push(y),n.alignDelimiters!==!1&&b.push(x),n.padding!==!1&&b.push(" "),(n.delimiterEnd!==!1||h!==c-1)&&b.push("|")}g.push(n.delimiterEnd===!1?b.join("").replace(/ +$/,""):b.join(""))}return g.join(`
`)}function o5e(t){return t==null?"":String(t)}function xP(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}const _P={}.hasOwnProperty;function a5e(t,e){const n=e||{};function r(i,...s){let o=r.invalid;const a=r.handlers;if(i&&_P.call(i,t)){const l=String(i[t]);o=_P.call(a,l)?a[l]:r.unknown}if(o)return o.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const l5e={}.hasOwnProperty;function aV(t,e){let n=-1,r;if(e.extensions)for(;++n<e.extensions.length;)aV(t,e.extensions[n]);for(r in e)if(l5e.call(e,r))switch(r){case"extensions":break;case"unsafe":{CP(t[r],e[r]);break}case"join":{CP(t[r],e[r]);break}case"handlers":{c5e(t[r],e[r]);break}default:t.options[r]=e[r]}return t}function CP(t,e){e&&t.push(...e)}function c5e(t,e){e&&Object.assign(t,e)}function u5e(t,e,n,r){const i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);const o=n.indentLines(n.containerFlow(t,s.current()),d5e);return i(),o}function d5e(t,e,n){return">"+(n?"":" ")+t}function lV(t,e){return EP(t,e.inConstruct,!0)&&!EP(t,e.notInConstruct,!1)}function EP(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function TP(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&lV(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function cV(t,e){const n=String(t);let r=n.indexOf(e),i=r,s=0,o=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>o&&(o=s):s=1,i=r+e.length,r=n.indexOf(e,i);return o}function G3(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function h5e(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function f5e(t,e,n,r){const i=h5e(n),s=t.value||"",o=i==="`"?"GraveAccent":"Tilde";if(G3(t,n)){const h=n.enter("codeIndented"),f=n.indentLines(s,m5e);return h(),f}const a=n.createTracker(r),l=i.repeat(Math.max(cV(s,i)+1,3)),c=n.enter("codeFenced");let d=a.move(l);if(t.lang){const h=n.enter(`codeFencedLang${o}`);d+=a.move(n.safe(t.lang,{before:d,after:" ",encode:["`"],...a.current()})),h()}if(t.lang&&t.meta){const h=n.enter(`codeFencedMeta${o}`);d+=a.move(" "),d+=a.move(n.safe(t.meta,{before:d,after:`
`,encode:["`"],...a.current()})),h()}return d+=a.move(`
`),s&&(d+=a.move(s+`
`)),d+=a.move(l),c(),d}function m5e(t,e,n){return(n?"":"    ")+t}function AE(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function g5e(t,e,n,r){const i=AE(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(t),{before:c,after:"]",...l.current()})),c+=l.move("]: "),a(),!t.url||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":`
`,...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),o(),c}function p5e(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Od(t){return"&#x"+t.toString(16).toUpperCase()+";"}function rg(t){if(t===null||cr(t)||Bh(t))return 1;if(XO(t))return 2}function b2(t,e,n){const r=rg(t),i=rg(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}uV.peek=v5e;function uV(t,e,n,r){const i=p5e(n),s=n.enter("emphasis"),o=n.createTracker(r),a=o.move(i);let l=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const c=l.charCodeAt(0),d=b2(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=Od(c)+l.slice(1));const h=l.charCodeAt(l.length-1),f=b2(r.after.charCodeAt(0),h,i);f.inside&&(l=l.slice(0,-1)+Od(h));const m=o.move(i);return s(),n.attentionEncodeSurroundingInfo={after:f.outside,before:d.outside},a+l+m}function v5e(t,e,n){return n.options.emphasis||"*"}const b5e={};function PE(t,e){const n=b5e,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return dV(t,r,i)}function dV(t,e,n){if(y5e(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return DP(t.children,e,n)}return Array.isArray(t)?DP(t,e,n):""}function DP(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=dV(t[i],e,n);return r.join("")}function y5e(t){return!!(t&&typeof t=="object")}function hV(t,e){let n=!1;return yl(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,L3}),!!((!t.depth||t.depth<3)&&PE(t)&&(e.options.setext||n))}function O5e(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(hV(t,n)){const d=n.enter("headingSetext"),h=n.enter("phrasing"),f=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return h(),d(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const o="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");s.move(o+" ");let c=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=Od(c.charCodeAt(0))+c.slice(1)),c=c?o+" "+c:o,n.options.closeAtx&&(c+=" "+o),l(),a(),c}fV.peek=w5e;function fV(t){return t.value||""}function w5e(){return"<"}mV.peek=k5e;function mV(t,e,n,r){const i=AE(n),s=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(t.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":")",...l.current()}))),a(),t.title&&(a=n.enter(`title${s}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),c+=l.move(")"),o(),c}function k5e(){return"!"}gV.peek=S5e;function gV(t,e,n,r){const i=t.referenceType,s=n.enter("imageReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const c=n.safe(t.alt,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const h=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=d,s(),i==="full"||!c||c!==h?l+=a.move(h+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function S5e(){return"!"}pV.peek=x5e;function pV(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){const o=n.unsafe[s],a=n.compilePattern(o);let l;if(o.atBreak)for(;l=a.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function x5e(){return"`"}function vV(t,e){const n=PE(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}bV.peek=_5e;function bV(t,e,n,r){const i=AE(n),s=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let a,l;if(vV(t,n)){const d=n.stack;n.stack=[],a=n.enter("autolink");let h=o.move("<");return h+=o.move(n.containerPhrasing(t,{before:h,after:">",...o.current()})),h+=o.move(">"),a(),n.stack=d,h}a=n.enter("link"),l=n.enter("label");let c=o.move("[");return c+=o.move(n.containerPhrasing(t,{before:c,after:"](",...o.current()})),c+=o.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),c+=o.move("<"),c+=o.move(n.safe(t.url,{before:c,after:">",...o.current()})),c+=o.move(">")):(l=n.enter("destinationRaw"),c+=o.move(n.safe(t.url,{before:c,after:t.title?" ":")",...o.current()}))),l(),t.title&&(l=n.enter(`title${s}`),c+=o.move(" "+i),c+=o.move(n.safe(t.title,{before:c,after:i,...o.current()})),c+=o.move(i),l()),c+=o.move(")"),a(),c}function _5e(t,e,n){return vV(t,n)?"<":"["}yV.peek=C5e;function yV(t,e,n,r){const i=t.referenceType,s=n.enter("linkReference");let o=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const c=n.containerPhrasing(t,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const h=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return o(),n.stack=d,s(),i==="full"||!c||c!==h?l+=a.move(h+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function C5e(){return"["}function RE(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function E5e(t){const e=RE(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function T5e(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function OV(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function D5e(t,e,n,r){const i=n.enter("list"),s=n.bulletCurrent;let o=t.ordered?T5e(n):RE(n);const a=t.ordered?o==="."?")":".":E5e(n);let l=e&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!t.ordered){const d=t.children?t.children[0]:void 0;if((o==="*"||o==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),OV(n)===o&&d){let h=-1;for(;++h<t.children.length;){const f=t.children[h];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=a),n.bulletCurrent=o;const c=n.containerFlow(t,r);return n.bulletLastUsed=o,n.bulletCurrent=s,i(),c}function A5e(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function P5e(t,e,n,r){const i=A5e(n);let s=n.bulletCurrent||RE(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let o=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(o=Math.ceil(o/4)*4);const a=n.createTracker(r);a.move(s+" ".repeat(o-s.length)),a.shift(o);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(t,a.current()),d);return l(),c;function d(h,f,m){return f?(m?"":" ".repeat(o))+h:(m?s:s+" ".repeat(o-s.length))+h}}function R5e(t,e,n,r){const i=n.enter("paragraph"),s=n.enter("phrasing"),o=n.containerPhrasing(t,r);return s(),i(),o}const M5e=jv(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function I5e(t,e,n,r){return(t.children.some(function(o){return M5e(o)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function $5e(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}wV.peek=L5e;function wV(t,e,n,r){const i=$5e(n),s=n.enter("strong"),o=n.createTracker(r),a=o.move(i+i);let l=o.move(n.containerPhrasing(t,{after:i,before:a,...o.current()}));const c=l.charCodeAt(0),d=b2(r.before.charCodeAt(r.before.length-1),c,i);d.inside&&(l=Od(c)+l.slice(1));const h=l.charCodeAt(l.length-1),f=b2(r.after.charCodeAt(0),h,i);f.inside&&(l=l.slice(0,-1)+Od(h));const m=o.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:f.outside,before:d.outside},a+l+m}function L5e(t,e,n){return n.options.strong||"*"}function N5e(t,e,n,r){return n.safe(t.value,r)}function F5e(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function B5e(t,e,n){const r=(OV(n)+(n.options.ruleSpaces?" ":"")).repeat(F5e(n));return n.options.ruleSpaces?r.slice(0,-1):r}const ME={blockquote:u5e,break:TP,code:f5e,definition:g5e,emphasis:uV,hardBreak:TP,heading:O5e,html:fV,image:mV,imageReference:gV,inlineCode:pV,link:bV,linkReference:yV,list:D5e,listItem:P5e,paragraph:R5e,root:I5e,strong:wV,text:N5e,thematicBreak:B5e},z5e=[Q5e];function Q5e(t,e,n,r){if(e.type==="code"&&G3(e,r)&&(t.type==="list"||t.type===e.type&&G3(t,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return t.type==="paragraph"&&(t.type===e.type||e.type==="definition"||e.type==="heading"&&hV(e,r))?void 0:n.spread?1:0}const Hd=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],U5e=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Hd},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Hd},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:Hd},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Hd},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Hd},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Hd},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Hd},{atBreak:!0,character:"~"}],AP=document.createElement("i");function IE(t){const e="&"+t+";";AP.innerHTML=e;const n=AP.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function kV(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}const V5e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function SV(t){return t.replace(V5e,j5e)}function j5e(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return kV(n.slice(s?2:1),s?16:10)}return IE(n)||t}function q5e(t){return t.label||!t.identifier?t.label||"":SV(t.identifier)}function H5e(t){if(!t._compiled){const e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}function W5e(t,e,n){const r=e.indexStack,i=t.children||[],s=[];let o=-1,a=n.before,l;r.push(-1);let c=e.createTracker(n);for(;++o<i.length;){const d=i[o];let h;if(r[r.length-1]=o,o+1<i.length){let g=e.handle.handlers[i[o+1].type];g&&g.peek&&(g=g.peek),h=g?g(i[o+1],t,e,{before:"",after:"",...c.current()}).charAt(0):""}else h=n.after;s.length>0&&(a==="\r"||a===`
`)&&d.type==="html"&&(s[s.length-1]=s[s.length-1].replace(/(\r?\n|\r)$/," "),a=" ",c=e.createTracker(n),c.move(s.join("")));let f=e.handle(d,t,e,{...c.current(),after:h,before:a});l&&l===f.slice(0,1)&&(f=Od(l.charCodeAt(0))+f.slice(1));const m=e.attentionEncodeSurroundingInfo;e.attentionEncodeSurroundingInfo=void 0,l=void 0,m&&(s.length>0&&m.before&&a===s[s.length-1].slice(-1)&&(s[s.length-1]=s[s.length-1].slice(0,-1)+Od(a.charCodeAt(0))),m.after&&(l=h)),c.move(f),s.push(f),a=f.slice(-1)}return r.pop(),s.join("")}function X5e(t,e,n){const r=e.indexStack,i=t.children||[],s=e.createTracker(n),o=[];let a=-1;for(r.push(-1);++a<i.length;){const l=i[a];r[r.length-1]=a,o.push(s.move(e.handle(l,t,e,{before:`
`,after:`
`,...s.current()}))),l.type!=="list"&&(e.bulletLastUsed=void 0),a<i.length-1&&o.push(s.move(Y5e(l,i[a+1],t,e)))}return r.pop(),o.join("")}function Y5e(t,e,n,r){let i=r.join.length;for(;i--;){const s=r.join[i](t,e,n,r);if(s===!0||s===1)break;if(typeof s=="number")return`
`.repeat(1+s);if(s===!1)return`

<!---->

`}return`

`}const G5e=/\r?\n|\r/g;function Z5e(t,e){const n=[];let r=0,i=0,s;for(;s=G5e.exec(t);)o(t.slice(r,s.index)),n.push(s[0]),r=s.index+s[0].length,i++;return o(t.slice(r)),n.join("");function o(a){n.push(e(a,i,!a))}}function K5e(t,e,n){const r=(n.before||"")+(e||"")+(n.after||""),i=[],s=[],o={};let a=-1;for(;++a<t.unsafe.length;){const d=t.unsafe[a];if(!lV(t.stack,d))continue;const h=t.compilePattern(d);let f;for(;f=h.exec(r);){const m="before"in d||!!d.atBreak,g="after"in d,p=f.index+(m?f[1].length:0);i.includes(p)?(o[p].before&&!m&&(o[p].before=!1),o[p].after&&!g&&(o[p].after=!1)):(i.push(p),o[p]={before:m,after:g})}}i.sort(J5e);let l=n.before?n.before.length:0;const c=r.length-(n.after?n.after.length:0);for(a=-1;++a<i.length;){const d=i[a];d<l||d>=c||d+1<c&&i[a+1]===d+1&&o[d].after&&!o[d+1].before&&!o[d+1].after||i[a-1]===d-1&&o[d].before&&!o[d-1].before&&!o[d-1].after||(l!==d&&s.push(PP(r.slice(l,d),"\\")),l=d,/[!-/:-@[-`{-~]/.test(r.charAt(d))&&(!n.encode||!n.encode.includes(r.charAt(d)))?s.push("\\"):(s.push(Od(r.charCodeAt(d))),l++))}return s.push(PP(r.slice(l,c),n.after)),s.join("")}function J5e(t,e){return t-e}function PP(t,e){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],s=t+e;let o=-1,a=0,l;for(;l=n.exec(s);)r.push(l.index);for(;++o<r.length;)a!==r[o]&&i.push(t.slice(a,r[o])),i.push("\\"),a=r[o];return i.push(t.slice(a)),i.join("")}function eCe(t){const e=t||{},n=e.now||{};let r=e.lineShift||0,i=n.line||1,s=n.column||1;return{move:l,current:o,shift:a};function o(){return{now:{line:i,column:s},lineShift:r}}function a(c){r+=c}function l(c){const d=c||"",h=d.split(/\r?\n|\r/g),f=h[h.length-1];return i+=h.length-1,s=h.length===1?s+f.length:1+f.length+r,d}}function tCe(t,e){const n=e||{},r={associationId:q5e,containerPhrasing:sCe,containerFlow:oCe,createTracker:eCe,compilePattern:H5e,enter:s,handlers:{...ME},handle:void 0,indentLines:Z5e,indexStack:[],join:[...z5e],options:{},safe:aCe,stack:[],unsafe:[...U5e]};aV(r,n),r.options.tightDefinitions&&r.join.push(iCe),r.handle=a5e("type",{invalid:nCe,unknown:rCe,handlers:r.handlers});let i=r.handle(t,void 0,r,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return i&&i.charCodeAt(i.length-1)!==10&&i.charCodeAt(i.length-1)!==13&&(i+=`
`),i;function s(o){return r.stack.push(o),a;function a(){r.stack.pop()}}}function nCe(t){throw new Error("Cannot handle value `"+t+"`, expected node")}function rCe(t){const e=t;throw new Error("Cannot handle unknown node `"+e.type+"`")}function iCe(t,e){if(t.type==="definition"&&t.type===e.type)return 0}function sCe(t,e){return W5e(t,this,e)}function oCe(t,e){return X5e(t,this,e)}function aCe(t,e){return K5e(this,t,e)}function lCe(){return{enter:{table:cCe,tableData:RP,tableHeader:RP,tableRow:dCe},exit:{codeText:hCe,table:uCe,tableData:TS,tableHeader:TS,tableRow:TS}}}function cCe(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function uCe(t){this.exit(t),this.data.inTable=void 0}function dCe(t){this.enter({type:"tableRow",children:[]},t)}function TS(t){this.exit(t)}function RP(t){this.enter({type:"tableCell",children:[]},t)}function hCe(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,fCe));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function fCe(t,e){return e==="|"?e:t}function mCe(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:o,tableCell:l,tableRow:a}};function o(m,g,p,v){return c(d(m,p,v),m.align)}function a(m,g,p,v){const b=h(m,p,v),y=c([b]);return y.slice(0,y.indexOf(`
`))}function l(m,g,p,v){const b=p.enter("tableCell"),y=p.enter("phrasing"),C=p.containerPhrasing(m,{...v,before:s,after:s});return y(),b(),C}function c(m,g){return s5e(m,{align:g,alignDelimiters:r,padding:n,stringLength:i})}function d(m,g,p){const v=m.children;let b=-1;const y=[],C=g.enter("table");for(;++b<v.length;)y[b]=h(v[b],g,p);return C(),y}function h(m,g,p){const v=m.children;let b=-1;const y=[],C=g.enter("tableRow");for(;++b<v.length;)y[b]=l(v[b],m,g,p);return C(),y}function f(m,g,p){let v=ME.inlineCode(m,g,p);return p.stack.includes("tableCell")&&(v=v.replace(/\|/g,"\\$&")),v}}function gCe(){return{exit:{taskListCheckValueChecked:MP,taskListCheckValueUnchecked:MP,paragraph:vCe}}}function pCe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:bCe}}}function MP(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function vCe(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let s=-1,o;for(;++s<i.length;){const a=i[s];if(a.type==="paragraph"){o=a;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function bCe(t,e,n,r){const i=t.children[0],s=typeof t.checked=="boolean"&&i&&i.type==="paragraph",o="["+(t.checked?"x":" ")+"] ",a=n.createTracker(r);s&&a.move(o);let l=ME.listItem(t,e,n,{...r,...a.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(d){return d+o}}function yCe(){return[T_e(),Y_e(),J_e(),lCe(),gCe()]}function OCe(t){return{extensions:[D_e(),G_e(t),e5e(),mCe(t),pCe()]}}function zo(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function pa(t,e){return t.length>0?(zo(t,t.length,0,e),t):e}const IP={}.hasOwnProperty;function xV(t){const e={};let n=-1;for(;++n<t.length;)wCe(e,t[n]);return e}function wCe(t,e){let n;for(n in e){const i=(IP.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){IP.call(i,o)||(i[o]=[]);const a=s[o];kCe(i[o],Array.isArray(a)?a:a?[a]:[])}}}function kCe(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);zo(t,0,0,r)}const SCe={tokenize:DCe,partial:!0},_V={tokenize:ACe,partial:!0},CV={tokenize:PCe,partial:!0},EV={tokenize:RCe,partial:!0},xCe={tokenize:MCe,partial:!0},TV={name:"wwwAutolink",tokenize:ECe,previous:AV},DV={name:"protocolAutolink",tokenize:TCe,previous:PV},pu={name:"emailAutolink",tokenize:CCe,previous:RV},fc={};function _Ce(){return{text:fc}}let Wd=48;for(;Wd<123;)fc[Wd]=pu,Wd++,Wd===58?Wd=65:Wd===91&&(Wd=97);fc[43]=pu;fc[45]=pu;fc[46]=pu;fc[95]=pu;fc[72]=[pu,DV];fc[104]=[pu,DV];fc[87]=[pu,TV];fc[119]=[pu,TV];function CCe(t,e,n){const r=this;let i,s;return o;function o(h){return!Z3(h)||!RV.call(r,r.previous)||$E(r.events)?n(h):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),a(h))}function a(h){return Z3(h)?(t.consume(h),a):h===64?(t.consume(h),l):n(h)}function l(h){return h===46?t.check(xCe,d,c)(h):h===45||h===95||fs(h)?(s=!0,t.consume(h),l):d(h)}function c(h){return t.consume(h),i=!0,l}function d(h){return s&&i&&As(r.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(h)):n(h)}}function ECe(t,e,n){const r=this;return i;function i(o){return o!==87&&o!==119||!AV.call(r,r.previous)||$E(r.events)?n(o):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(SCe,t.attempt(_V,t.attempt(CV,s),n),n)(o))}function s(o){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(o)}}function TCe(t,e,n){const r=this;let i="",s=!1;return o;function o(h){return(h===72||h===104)&&PV.call(r,r.previous)&&!$E(r.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),i+=String.fromCodePoint(h),t.consume(h),a):n(h)}function a(h){if(As(h)&&i.length<5)return i+=String.fromCodePoint(h),t.consume(h),a;if(h===58){const f=i.toLowerCase();if(f==="http"||f==="https")return t.consume(h),l}return n(h)}function l(h){return h===47?(t.consume(h),s?c:(s=!0,l)):n(h)}function c(h){return h===null||v2(h)||cr(h)||Bh(h)||XO(h)?n(h):t.attempt(_V,t.attempt(CV,d),n)(h)}function d(h){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(h)}}function DCe(t,e,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,t.consume(o),i):o===46&&r===3?(t.consume(o),s):n(o)}function s(o){return o===null?n(o):e(o)}}function ACe(t,e,n){let r,i,s;return o;function o(c){return c===46||c===95?t.check(EV,l,a)(c):c===null||cr(c)||Bh(c)||c!==45&&XO(c)?l(c):(s=!0,t.consume(c),o)}function a(c){return c===95?r=!0:(i=r,r=void 0),t.consume(c),o}function l(c){return i||r||!s?n(c):e(c)}}function PCe(t,e){let n=0,r=0;return i;function i(o){return o===40?(n++,t.consume(o),i):o===41&&r<n?s(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?t.check(EV,e,s)(o):o===null||cr(o)||Bh(o)?e(o):(t.consume(o),i)}function s(o){return o===41&&r++,t.consume(o),i}}function RCe(t,e,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(t.consume(a),r):a===38?(t.consume(a),s):a===93?(t.consume(a),i):a===60||a===null||cr(a)||Bh(a)?e(a):n(a)}function i(a){return a===null||a===40||a===91||cr(a)||Bh(a)?e(a):r(a)}function s(a){return As(a)?o(a):n(a)}function o(a){return a===59?(t.consume(a),r):As(a)?(t.consume(a),o):n(a)}}function MCe(t,e,n){return r;function r(s){return t.consume(s),i}function i(s){return fs(s)?n(s):e(s)}}function AV(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||cr(t)}function PV(t){return!As(t)}function RV(t){return!(t===47||Z3(t))}function Z3(t){return t===43||t===45||t===46||t===95||fs(t)}function $E(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}function Tg(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&fs(t.charCodeAt(n+1))&&fs(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o=""}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function YO(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const K3={name:"attention",resolveAll:ICe,tokenize:$Ce};function ICe(t,e){let n=-1,r,i,s,o,a,l,c,d;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const h={...t[r][1].end},f={...t[n][1].start};$P(h,-l),$P(f,l),o={type:l>1?"strongSequence":"emphasisSequence",start:h,end:{...t[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:f},s={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},t[r][1].end={...o.start},t[n][1].start={...a.end},c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=pa(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=pa(c,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),c=pa(c,YO(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=pa(c,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(d=2,c=pa(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):d=0,zo(t,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function $Ce(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=rg(r);let s;return o;function o(l){return s=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===s)return t.consume(l),a;const c=t.exit("attentionSequence"),d=rg(l),h=!d||d===2&&i||n.includes(l),f=!i||i===2&&d||n.includes(r);return c._open=!!(s===42?h:h&&(i||!f)),c._close=!!(s===42?f:f&&(d||!h)),e(l)}}function $P(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const LCe={name:"autolink",tokenize:NCe};function NCe(t,e,n){let r=0;return i;function i(m){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(m){return As(m)?(t.consume(m),o):m===64?n(m):c(m)}function o(m){return m===43||m===45||m===46||fs(m)?(r=1,a(m)):c(m)}function a(m){return m===58?(t.consume(m),r=0,l):(m===43||m===45||m===46||fs(m))&&r++<32?(t.consume(m),a):(r=0,c(m))}function l(m){return m===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):m===null||m===32||m===60||v2(m)?n(m):(t.consume(m),l)}function c(m){return m===64?(t.consume(m),d):__e(m)?(t.consume(m),c):n(m)}function d(m){return fs(m)?h(m):n(m)}function h(m){return m===46?(t.consume(m),r=0,d):m===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):f(m)}function f(m){if((m===45||fs(m))&&r++<63){const g=m===45?f:h;return t.consume(m),g}return n(m)}}function vn(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return wn(l)?(t.enter(n),a(l)):e(l)}function a(l){return wn(l)&&s++<i?(t.consume(l),a):(t.exit(n),e(l))}}const Yv={partial:!0,tokenize:FCe};function FCe(t,e,n){return r;function r(s){return wn(s)?vn(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||Rt(s)?e(s):n(s)}}const MV={continuation:{tokenize:zCe},exit:QCe,name:"blockQuote",tokenize:BCe};function BCe(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return wn(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function zCe(t,e,n){const r=this;return i;function i(o){return wn(o)?vn(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(MV,e,n)(o)}}function QCe(t){t.exit("blockQuote")}const IV={name:"characterEscape",tokenize:UCe};function UCe(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return E_e(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const $V={name:"characterReference",tokenize:VCe};function VCe(t,e,n){const r=this;let i=0,s,o;return a;function a(h){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),l}function l(h){return h===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(h),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),s=31,o=fs,d(h))}function c(h){return h===88||h===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(h),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=C_e,d):(t.enter("characterReferenceValue"),s=7,o=Y3,d(h))}function d(h){if(h===59&&i){const f=t.exit("characterReferenceValue");return o===fs&&!IE(r.sliceSerialize(f))?n(h):(t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(h)&&i++<s?(t.consume(h),d):n(h)}}const LP={partial:!0,tokenize:qCe},NP={concrete:!0,name:"codeFenced",tokenize:jCe};function jCe(t,e,n){const r=this,i={partial:!0,tokenize:O};let s=0,o=0,a;return l;function l(S){return c(S)}function c(S){const T=r.events[r.events.length-1];return s=T&&T[1].type==="linePrefix"?T[2].sliceSerialize(T[1],!0).length:0,a=S,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),d(S)}function d(S){return S===a?(o++,t.consume(S),d):o<3?n(S):(t.exit("codeFencedFenceSequence"),wn(S)?vn(t,h,"whitespace")(S):h(S))}function h(S){return S===null||Rt(S)?(t.exit("codeFencedFence"),r.interrupt?e(S):t.check(LP,p,x)(S)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),f(S))}function f(S){return S===null||Rt(S)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),h(S)):wn(S)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),vn(t,m,"whitespace")(S)):S===96&&S===a?n(S):(t.consume(S),f)}function m(S){return S===null||Rt(S)?h(S):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),g(S))}function g(S){return S===null||Rt(S)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),h(S)):S===96&&S===a?n(S):(t.consume(S),g)}function p(S){return t.attempt(i,x,v)(S)}function v(S){return t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),b}function b(S){return s>0&&wn(S)?vn(t,y,"linePrefix",s+1)(S):y(S)}function y(S){return S===null||Rt(S)?t.check(LP,p,x)(S):(t.enter("codeFlowValue"),C(S))}function C(S){return S===null||Rt(S)?(t.exit("codeFlowValue"),y(S)):(t.consume(S),C)}function x(S){return t.exit("codeFenced"),e(S)}function O(S,T,$){let M=0;return P;function P(N){return S.enter("lineEnding"),S.consume(N),S.exit("lineEnding"),L}function L(N){return S.enter("codeFencedFence"),wn(N)?vn(S,j,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):j(N)}function j(N){return N===a?(S.enter("codeFencedFenceSequence"),te(N)):$(N)}function te(N){return N===a?(M++,S.consume(N),te):M>=o?(S.exit("codeFencedFenceSequence"),wn(N)?vn(S,U,"whitespace")(N):U(N)):$(N)}function U(N){return N===null||Rt(N)?(S.exit("codeFencedFence"),T(N)):$(N)}}}function qCe(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const DS={name:"codeIndented",tokenize:WCe},HCe={partial:!0,tokenize:XCe};function WCe(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),vn(t,s,"linePrefix",5)(c)}function s(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):Rt(c)?t.attempt(HCe,o,l)(c):(t.enter("codeFlowValue"),a(c))}function a(c){return c===null||Rt(c)?(t.exit("codeFlowValue"),o(c)):(t.consume(c),a)}function l(c){return t.exit("codeIndented"),e(c)}}function XCe(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):Rt(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):vn(t,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):Rt(o)?i(o):n(o)}}const YCe={name:"codeText",previous:ZCe,resolve:GCe,tokenize:KCe};function GCe(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function ZCe(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function KCe(t,e,n){let r=0,i,s;return o;function o(h){return t.enter("codeText"),t.enter("codeTextSequence"),a(h)}function a(h){return h===96?(t.consume(h),r++,a):(t.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===32?(t.enter("space"),t.consume(h),t.exit("space"),l):h===96?(s=t.enter("codeTextSequence"),i=0,d(h)):Rt(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(h))}function c(h){return h===null||h===32||h===96||Rt(h)?(t.exit("codeTextData"),l(h)):(t.consume(h),c)}function d(h){return h===96?(t.consume(h),i++,d):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(h)):(s.type="codeTextData",c(h))}}class JCe{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&up(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),up(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),up(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);up(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);up(this.left,n.reverse())}}}function up(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function LV(t){const e={};let n=-1,r,i,s,o,a,l,c;const d=new JCe(t);for(;++n<d.length;){for(;n in e;)n=e[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,eEe(d,n)),n=e[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=d.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},a=d.slice(i,n),a.unshift(r),d.splice(i,n-i+1,a))}}return zo(t,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function eEe(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,l=[],c={};let d,h,f=-1,m=n,g=0,p=0;const v=[p];for(;m;){for(;t.get(++i)[1]!==m;);s.push(i),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),h&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=m,m=m.next}for(m=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(p=f+1,v.push(p),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):v.pop(),f=v.length;f--;){const b=a.slice(v[f],v[f+1]),y=s.pop();l.push([y,y+b.length-1]),t.splice(y,2,b)}for(l.reverse(),f=-1;++f<l.length;)c[g+l[f][0]]=g+l[f][1],g+=l[f][1]-l[f][0]-1;return c}const tEe={resolve:rEe,tokenize:iEe},nEe={partial:!0,tokenize:sEe};function rEe(t){return LV(t),t}function iEe(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):Rt(a)?t.check(nEe,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function sEe(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),vn(t,s,"linePrefix")}function s(o){if(o===null||Rt(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function NV(t,e,n,r,i,s,o,a,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return h;function h(b){return b===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(b),t.exit(s),f):b===null||b===32||b===41||v2(b)?n(b):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),p(b))}function f(b){return b===62?(t.enter(s),t.consume(b),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),m(b))}function m(b){return b===62?(t.exit("chunkString"),t.exit(a),f(b)):b===null||b===60||Rt(b)?n(b):(t.consume(b),b===92?g:m)}function g(b){return b===60||b===62||b===92?(t.consume(b),m):m(b)}function p(b){return!d&&(b===null||b===41||cr(b))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(b)):d<c&&b===40?(t.consume(b),d++,p):b===41?(t.consume(b),d--,p):b===null||b===32||b===40||v2(b)?n(b):(t.consume(b),b===92?v:p)}function v(b){return b===40||b===41||b===92?(t.consume(b),p):p(b)}}function FV(t,e,n,r,i,s){const o=this;let a=0,l;return c;function c(m){return t.enter(r),t.enter(i),t.consume(m),t.exit(i),t.enter(s),d}function d(m){return a>999||m===null||m===91||m===93&&!l||m===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(m):m===93?(t.exit(s),t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):Rt(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),d):(t.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===null||m===91||m===93||Rt(m)||a++>999?(t.exit("chunkString"),d(m)):(t.consume(m),l||(l=!wn(m)),m===92?f:h)}function f(m){return m===91||m===92||m===93?(t.consume(m),a++,h):h(m)}}function BV(t,e,n,r,i,s){let o;return a;function a(f){return f===34||f===39||f===40?(t.enter(r),t.enter(i),t.consume(f),t.exit(i),o=f===40?41:f,l):n(f)}function l(f){return f===o?(t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):(t.enter(s),c(f))}function c(f){return f===o?(t.exit(s),l(o)):f===null?n(f):Rt(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),vn(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),d(f))}function d(f){return f===o||f===null||Rt(f)?(t.exit("chunkString"),c(f)):(t.consume(f),f===92?h:d)}function h(f){return f===o||f===92?(t.consume(f),d):d(f)}}function r0(t,e){let n;return r;function r(i){return Rt(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):wn(i)?vn(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const oEe={name:"definition",tokenize:lEe},aEe={partial:!0,tokenize:cEe};function lEe(t,e,n){const r=this;let i;return s;function s(m){return t.enter("definition"),o(m)}function o(m){return FV.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function a(m){return i=al(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(t.enter("definitionMarker"),t.consume(m),t.exit("definitionMarker"),l):n(m)}function l(m){return cr(m)?r0(t,c)(m):c(m)}function c(m){return NV(t,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return t.attempt(aEe,h,h)(m)}function h(m){return wn(m)?vn(t,f,"whitespace")(m):f(m)}function f(m){return m===null||Rt(m)?(t.exit("definition"),r.parser.defined.push(i),e(m)):n(m)}}function cEe(t,e,n){return r;function r(a){return cr(a)?r0(t,i)(a):n(a)}function i(a){return BV(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return wn(a)?vn(t,o,"whitespace")(a):o(a)}function o(a){return a===null||Rt(a)?e(a):n(a)}}const uEe={name:"hardBreakEscape",tokenize:dEe};function dEe(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return Rt(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const hEe={name:"headingAtx",resolve:fEe,tokenize:mEe};function fEe(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},zo(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function mEe(t,e,n){let r=0;return i;function i(d){return t.enter("atxHeading"),s(d)}function s(d){return t.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(t.consume(d),o):d===null||cr(d)?(t.exit("atxHeadingSequence"),a(d)):n(d)}function a(d){return d===35?(t.enter("atxHeadingSequence"),l(d)):d===null||Rt(d)?(t.exit("atxHeading"),e(d)):wn(d)?vn(t,a,"whitespace")(d):(t.enter("atxHeadingText"),c(d))}function l(d){return d===35?(t.consume(d),l):(t.exit("atxHeadingSequence"),a(d))}function c(d){return d===null||d===35||cr(d)?(t.exit("atxHeadingText"),a(d)):(t.consume(d),c)}}const gEe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],FP=["pre","script","style","textarea"],pEe={concrete:!0,name:"htmlFlow",resolveTo:yEe,tokenize:OEe},vEe={partial:!0,tokenize:kEe},bEe={partial:!0,tokenize:wEe};function yEe(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function OEe(t,e,n){const r=this;let i,s,o,a,l;return c;function c(E){return d(E)}function d(E){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(E),h}function h(E){return E===33?(t.consume(E),f):E===47?(t.consume(E),s=!0,p):E===63?(t.consume(E),i=3,r.interrupt?e:D):As(E)?(t.consume(E),o=String.fromCharCode(E),v):n(E)}function f(E){return E===45?(t.consume(E),i=2,m):E===91?(t.consume(E),i=5,a=0,g):As(E)?(t.consume(E),i=4,r.interrupt?e:D):n(E)}function m(E){return E===45?(t.consume(E),r.interrupt?e:D):n(E)}function g(E){const De="CDATA[";return E===De.charCodeAt(a++)?(t.consume(E),a===De.length?r.interrupt?e:j:g):n(E)}function p(E){return As(E)?(t.consume(E),o=String.fromCharCode(E),v):n(E)}function v(E){if(E===null||E===47||E===62||cr(E)){const De=E===47,pe=o.toLowerCase();return!De&&!s&&FP.includes(pe)?(i=1,r.interrupt?e(E):j(E)):gEe.includes(o.toLowerCase())?(i=6,De?(t.consume(E),b):r.interrupt?e(E):j(E)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(E):s?y(E):C(E))}return E===45||fs(E)?(t.consume(E),o+=String.fromCharCode(E),v):n(E)}function b(E){return E===62?(t.consume(E),r.interrupt?e:j):n(E)}function y(E){return wn(E)?(t.consume(E),y):P(E)}function C(E){return E===47?(t.consume(E),P):E===58||E===95||As(E)?(t.consume(E),x):wn(E)?(t.consume(E),C):P(E)}function x(E){return E===45||E===46||E===58||E===95||fs(E)?(t.consume(E),x):O(E)}function O(E){return E===61?(t.consume(E),S):wn(E)?(t.consume(E),O):C(E)}function S(E){return E===null||E===60||E===61||E===62||E===96?n(E):E===34||E===39?(t.consume(E),l=E,T):wn(E)?(t.consume(E),S):$(E)}function T(E){return E===l?(t.consume(E),l=null,M):E===null||Rt(E)?n(E):(t.consume(E),T)}function $(E){return E===null||E===34||E===39||E===47||E===60||E===61||E===62||E===96||cr(E)?O(E):(t.consume(E),$)}function M(E){return E===47||E===62||wn(E)?C(E):n(E)}function P(E){return E===62?(t.consume(E),L):n(E)}function L(E){return E===null||Rt(E)?j(E):wn(E)?(t.consume(E),L):n(E)}function j(E){return E===45&&i===2?(t.consume(E),z):E===60&&i===1?(t.consume(E),K):E===62&&i===4?(t.consume(E),se):E===63&&i===3?(t.consume(E),D):E===93&&i===5?(t.consume(E),Q):Rt(E)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(vEe,he,te)(E)):E===null||Rt(E)?(t.exit("htmlFlowData"),te(E)):(t.consume(E),j)}function te(E){return t.check(bEe,U,he)(E)}function U(E){return t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),N}function N(E){return E===null||Rt(E)?te(E):(t.enter("htmlFlowData"),j(E))}function z(E){return E===45?(t.consume(E),D):j(E)}function K(E){return E===47?(t.consume(E),o="",re):j(E)}function re(E){if(E===62){const De=o.toLowerCase();return FP.includes(De)?(t.consume(E),se):j(E)}return As(E)&&o.length<8?(t.consume(E),o+=String.fromCharCode(E),re):j(E)}function Q(E){return E===93?(t.consume(E),D):j(E)}function D(E){return E===62?(t.consume(E),se):E===45&&i===2?(t.consume(E),D):j(E)}function se(E){return E===null||Rt(E)?(t.exit("htmlFlowData"),he(E)):(t.consume(E),se)}function he(E){return t.exit("htmlFlow"),e(E)}}function wEe(t,e,n){const r=this;return i;function i(o){return Rt(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function kEe(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(Yv,e,n)}}const SEe={name:"htmlText",tokenize:xEe};function xEe(t,e,n){const r=this;let i,s,o;return a;function a(D){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(D),l}function l(D){return D===33?(t.consume(D),c):D===47?(t.consume(D),O):D===63?(t.consume(D),C):As(D)?(t.consume(D),$):n(D)}function c(D){return D===45?(t.consume(D),d):D===91?(t.consume(D),s=0,g):As(D)?(t.consume(D),y):n(D)}function d(D){return D===45?(t.consume(D),m):n(D)}function h(D){return D===null?n(D):D===45?(t.consume(D),f):Rt(D)?(o=h,K(D)):(t.consume(D),h)}function f(D){return D===45?(t.consume(D),m):h(D)}function m(D){return D===62?z(D):D===45?f(D):h(D)}function g(D){const se="CDATA[";return D===se.charCodeAt(s++)?(t.consume(D),s===se.length?p:g):n(D)}function p(D){return D===null?n(D):D===93?(t.consume(D),v):Rt(D)?(o=p,K(D)):(t.consume(D),p)}function v(D){return D===93?(t.consume(D),b):p(D)}function b(D){return D===62?z(D):D===93?(t.consume(D),b):p(D)}function y(D){return D===null||D===62?z(D):Rt(D)?(o=y,K(D)):(t.consume(D),y)}function C(D){return D===null?n(D):D===63?(t.consume(D),x):Rt(D)?(o=C,K(D)):(t.consume(D),C)}function x(D){return D===62?z(D):C(D)}function O(D){return As(D)?(t.consume(D),S):n(D)}function S(D){return D===45||fs(D)?(t.consume(D),S):T(D)}function T(D){return Rt(D)?(o=T,K(D)):wn(D)?(t.consume(D),T):z(D)}function $(D){return D===45||fs(D)?(t.consume(D),$):D===47||D===62||cr(D)?M(D):n(D)}function M(D){return D===47?(t.consume(D),z):D===58||D===95||As(D)?(t.consume(D),P):Rt(D)?(o=M,K(D)):wn(D)?(t.consume(D),M):z(D)}function P(D){return D===45||D===46||D===58||D===95||fs(D)?(t.consume(D),P):L(D)}function L(D){return D===61?(t.consume(D),j):Rt(D)?(o=L,K(D)):wn(D)?(t.consume(D),L):M(D)}function j(D){return D===null||D===60||D===61||D===62||D===96?n(D):D===34||D===39?(t.consume(D),i=D,te):Rt(D)?(o=j,K(D)):wn(D)?(t.consume(D),j):(t.consume(D),U)}function te(D){return D===i?(t.consume(D),i=void 0,N):D===null?n(D):Rt(D)?(o=te,K(D)):(t.consume(D),te)}function U(D){return D===null||D===34||D===39||D===60||D===61||D===96?n(D):D===47||D===62||cr(D)?M(D):(t.consume(D),U)}function N(D){return D===47||D===62||cr(D)?M(D):n(D)}function z(D){return D===62?(t.consume(D),t.exit("htmlTextData"),t.exit("htmlText"),e):n(D)}function K(D){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(D),t.exit("lineEnding"),re}function re(D){return wn(D)?vn(t,Q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):Q(D)}function Q(D){return t.enter("htmlTextData"),o(D)}}const LE={name:"labelEnd",resolveAll:TEe,resolveTo:DEe,tokenize:AEe},_Ee={tokenize:PEe},CEe={tokenize:REe},EEe={tokenize:MEe};function TEe(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&zo(t,0,t.length,n),t}function DEe(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},d={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[o-2][1].start}};return a=[["enter",l,e],["enter",c,e]],a=pa(a,t.slice(s+1,s+r+3)),a=pa(a,[["enter",d,e]]),a=pa(a,YO(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=pa(a,[["exit",d,e],t[o-2],t[o-1],["exit",c,e]]),a=pa(a,t.slice(o+1)),a=pa(a,[["exit",l,e]]),zo(t,s,t.length,a),t}function AEe(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(f){return s?s._inactive?h(f):(o=r.parser.defined.includes(al(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelEnd"),l):n(f)}function l(f){return f===40?t.attempt(_Ee,d,o?d:h)(f):f===91?t.attempt(CEe,d,o?c:h)(f):o?d(f):h(f)}function c(f){return t.attempt(EEe,d,h)(f)}function d(f){return e(f)}function h(f){return s._balanced=!0,n(f)}}function PEe(t,e,n){return r;function r(h){return t.enter("resource"),t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),i}function i(h){return cr(h)?r0(t,s)(h):s(h)}function s(h){return h===41?d(h):NV(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return cr(h)?r0(t,l)(h):d(h)}function a(h){return n(h)}function l(h){return h===34||h===39||h===40?BV(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function c(h){return cr(h)?r0(t,d)(h):d(h)}function d(h){return h===41?(t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),t.exit("resource"),e):n(h)}}function REe(t,e,n){const r=this;return i;function i(a){return FV.call(r,t,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(al(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function o(a){return n(a)}}function MEe(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const IEe={name:"labelStartImage",resolveAll:LE.resolveAll,tokenize:$Ee};function $Ee(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const LEe={name:"labelStartLink",resolveAll:LE.resolveAll,tokenize:NEe};function NEe(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const AS={name:"lineEnding",tokenize:FEe};function FEe(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),vn(t,e,"linePrefix")}}const Gb={name:"thematicBreak",tokenize:BEe};function BEe(t,e,n){let r=0,i;return s;function s(c){return t.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||Rt(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===i?(t.consume(c),r++,l):(t.exit("thematicBreakSequence"),wn(c)?vn(t,a,"whitespace")(c):a(c))}}const Gs={continuation:{tokenize:VEe},exit:qEe,name:"list",tokenize:UEe},zEe={partial:!0,tokenize:HEe},QEe={partial:!0,tokenize:jEe};function UEe(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(m){const g=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:Y3(m)){if(r.containerState.type||(r.containerState.type=g,t.enter(g,{_container:!0})),g==="listUnordered")return t.enter("listItemPrefix"),m===42||m===45?t.check(Gb,n,c)(m):c(m);if(!r.interrupt||m===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(m)}return n(m)}function l(m){return Y3(m)&&++o<10?(t.consume(m),l):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(t.exit("listItemValue"),c(m)):n(m)}function c(m){return t.enter("listItemMarker"),t.consume(m),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,t.check(Yv,r.interrupt?n:d,t.attempt(zEe,f,h))}function d(m){return r.containerState.initialBlankLine=!0,s++,f(m)}function h(m){return wn(m)?(t.enter("listItemPrefixWhitespace"),t.consume(m),t.exit("listItemPrefixWhitespace"),f):n(m)}function f(m){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(m)}}function VEe(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Yv,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,vn(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!wn(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(QEe,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,vn(t,t.attempt(Gs,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function jEe(t,e,n){const r=this;return vn(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function qEe(t){t.exit(this.containerState.type)}function HEe(t,e,n){const r=this;return vn(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!wn(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const BP={name:"setextUnderline",resolveTo:WEe,tokenize:XEe};function WEe(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function XEe(t,e,n){const r=this;let i;return s;function s(c){let d=r.events.length,h;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){h=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(t.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return t.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(t.consume(c),a):(t.exit("setextHeadingLineSequence"),wn(c)?vn(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||Rt(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const YEe={tokenize:r6e,partial:!0};function GEe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:e6e,continuation:{tokenize:t6e},exit:n6e}},text:{91:{name:"gfmFootnoteCall",tokenize:JEe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:ZEe,resolveTo:KEe}}}}function ZEe(t,e,n){const r=this;let i=r.events.length;const s=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!o||!o._balanced)return n(l);const c=al(r.sliceSerialize({start:o.end,end:r.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function KEe(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},t[t.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},a=[t[n+1],t[n+2],["enter",r,e],t[n+3],t[n+4],["enter",i,e],["exit",i,e],["enter",s,e],["enter",o,e],["exit",o,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",r,e]];return t.splice(n,t.length-n+1,...a),t}function JEe(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s=0,o;return a;function a(h){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(h),t.exit("gfmFootnoteCallLabelMarker"),l}function l(h){return h!==94?n(h):(t.enter("gfmFootnoteCallMarker"),t.consume(h),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",c)}function c(h){if(s>999||h===93&&!o||h===null||h===91||cr(h))return n(h);if(h===93){t.exit("chunkString");const f=t.exit("gfmFootnoteCallString");return i.includes(al(r.sliceSerialize(f)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(h),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(h)}return cr(h)||(o=!0),s++,t.consume(h),h===92?d:c}function d(h){return h===91||h===92||h===93?(t.consume(h),s++,c):c(h)}}function e6e(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s,o=0,a;return l;function l(g){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(g),t.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(g){return g===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(g),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",d):n(g)}function d(g){if(o>999||g===93&&!a||g===null||g===91||cr(g))return n(g);if(g===93){t.exit("chunkString");const p=t.exit("gfmFootnoteDefinitionLabelString");return s=al(r.sliceSerialize(p)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(g),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),f}return cr(g)||(a=!0),o++,t.consume(g),g===92?h:d}function h(g){return g===91||g===92||g===93?(t.consume(g),o++,d):d(g)}function f(g){return g===58?(t.enter("definitionMarker"),t.consume(g),t.exit("definitionMarker"),i.includes(s)||i.push(s),vn(t,m,"gfmFootnoteDefinitionWhitespace")):n(g)}function m(g){return e(g)}}function t6e(t,e,n){return t.check(Yv,e,t.attempt(YEe,e,n))}function n6e(t){t.exit("gfmFootnoteDefinition")}function r6e(t,e,n){const r=this;return vn(t,i,"gfmFootnoteDefinitionIndent",5);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?e(s):n(s)}}function i6e(t){let n=(t||{}).singleTilde;const r={name:"strikethrough",tokenize:s,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,a){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let c=l;for(;c--;)if(o[c][0]==="exit"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[c][1].end.offset-o[c][1].start.offset){o[l][1].type="strikethroughSequence",o[c][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},o[c][1].start),end:Object.assign({},o[l][1].end)},h={type:"strikethroughText",start:Object.assign({},o[c][1].end),end:Object.assign({},o[l][1].start)},f=[["enter",d,a],["enter",o[c][1],a],["exit",o[c][1],a],["enter",h,a]],m=a.parser.constructs.insideSpan.null;m&&zo(f,f.length,0,YO(m,o.slice(c+1,l),a)),zo(f,f.length,0,[["exit",h,a],["enter",o[l][1],a],["exit",o[l][1],a],["exit",d,a]]),zo(o,c-1,l-c+3,f),l=c+f.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function s(o,a,l){const c=this.previous,d=this.events;let h=0;return f;function f(g){return c===126&&d[d.length-1][1].type!=="characterEscape"?l(g):(o.enter("strikethroughSequenceTemporary"),m(g))}function m(g){const p=rg(c);if(g===126)return h>1?l(g):(o.consume(g),h++,m);if(h<2&&!n)return l(g);const v=o.exit("strikethroughSequenceTemporary"),b=rg(g);return v._open=!b||b===2&&!!p,v._close=!p||p===2&&!!b,a(g)}}}class s6e{constructor(){this.map=[]}add(e,n,r){o6e(this,e,n,r)}consume(e){if(this.map.sort(function(s,o){return s[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push(e.slice()),e.length=0;let i=r.pop();for(;i;){for(const s of i)e.push(s);i=r.pop()}this.map.length=0}}function o6e(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function a6e(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=r.length-1;r[s]=r[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function l6e(){return{flow:{null:{name:"table",tokenize:c6e,resolveAll:u6e}}}}function c6e(t,e,n){const r=this;let i=0,s=0,o;return a;function a(P){let L=r.events.length-1;for(;L>-1;){const U=r.events[L][1].type;if(U==="lineEnding"||U==="linePrefix")L--;else break}const j=L>-1?r.events[L][1].type:null,te=j==="tableHead"||j==="tableRow"?S:l;return te===S&&r.parser.lazy[r.now().line]?n(P):te(P)}function l(P){return t.enter("tableHead"),t.enter("tableRow"),c(P)}function c(P){return P===124||(o=!0,s+=1),d(P)}function d(P){return P===null?n(P):Rt(P)?s>1?(s=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(P),t.exit("lineEnding"),m):n(P):wn(P)?vn(t,d,"whitespace")(P):(s+=1,o&&(o=!1,i+=1),P===124?(t.enter("tableCellDivider"),t.consume(P),t.exit("tableCellDivider"),o=!0,d):(t.enter("data"),h(P)))}function h(P){return P===null||P===124||cr(P)?(t.exit("data"),d(P)):(t.consume(P),P===92?f:h)}function f(P){return P===92||P===124?(t.consume(P),h):h(P)}function m(P){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(P):(t.enter("tableDelimiterRow"),o=!1,wn(P)?vn(t,g,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):g(P))}function g(P){return P===45||P===58?v(P):P===124?(o=!0,t.enter("tableCellDivider"),t.consume(P),t.exit("tableCellDivider"),p):O(P)}function p(P){return wn(P)?vn(t,v,"whitespace")(P):v(P)}function v(P){return P===58?(s+=1,o=!0,t.enter("tableDelimiterMarker"),t.consume(P),t.exit("tableDelimiterMarker"),b):P===45?(s+=1,b(P)):P===null||Rt(P)?x(P):O(P)}function b(P){return P===45?(t.enter("tableDelimiterFiller"),y(P)):O(P)}function y(P){return P===45?(t.consume(P),y):P===58?(o=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(P),t.exit("tableDelimiterMarker"),C):(t.exit("tableDelimiterFiller"),C(P))}function C(P){return wn(P)?vn(t,x,"whitespace")(P):x(P)}function x(P){return P===124?g(P):P===null||Rt(P)?!o||i!==s?O(P):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(P)):O(P)}function O(P){return n(P)}function S(P){return t.enter("tableRow"),T(P)}function T(P){return P===124?(t.enter("tableCellDivider"),t.consume(P),t.exit("tableCellDivider"),T):P===null||Rt(P)?(t.exit("tableRow"),e(P)):wn(P)?vn(t,T,"whitespace")(P):(t.enter("data"),$(P))}function $(P){return P===null||P===124||cr(P)?(t.exit("data"),T(P)):(t.consume(P),P===92?M:$)}function M(P){return P===92||P===124?(t.consume(P),$):$(P)}}function u6e(t,e){let n=-1,r=!0,i=0,s=[0,0,0,0],o=[0,0,0,0],a=!1,l=0,c,d,h;const f=new s6e;for(;++n<t.length;){const m=t[n],g=m[1];m[0]==="enter"?g.type==="tableHead"?(a=!1,l!==0&&(zP(f,e,l,c,d),d=void 0,l=0),c={type:"table",start:Object.assign({},g.start),end:Object.assign({},g.end)},f.add(n,0,[["enter",c,e]])):g.type==="tableRow"||g.type==="tableDelimiterRow"?(r=!0,h=void 0,s=[0,0,0,0],o=[0,n+1,0,0],a&&(a=!1,d={type:"tableBody",start:Object.assign({},g.start),end:Object.assign({},g.end)},f.add(n,0,[["enter",d,e]])),i=g.type==="tableDelimiterRow"?2:d?3:1):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(s[1]!==0&&(o[0]=o[1],h=tb(f,e,s,i,void 0,h),s=[0,0,0,0]),o[2]=n)):g.type==="tableCellDivider"&&(r?r=!1:(s[1]!==0&&(o[0]=o[1],h=tb(f,e,s,i,void 0,h)),s=o,o=[s[1],n,0,0])):g.type==="tableHead"?(a=!0,l=n):g.type==="tableRow"||g.type==="tableDelimiterRow"?(l=n,s[1]!==0?(o[0]=o[1],h=tb(f,e,s,i,n,h)):o[1]!==0&&(h=tb(f,e,o,i,n,h)),i=0):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&zP(f,e,l,c,d),f.consume(e.events),n=-1;++n<e.events.length;){const m=e.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=a6e(e.events,n))}return t}function tb(t,e,n,r,i,s){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(s.end=Object.assign({},zf(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const l=zf(e.events,n[1]);if(s={type:o,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const c=zf(e.events,n[2]),d=zf(e.events,n[3]),h={type:a,start:Object.assign({},c),end:Object.assign({},d)};if(t.add(n[2],0,[["enter",h,e]]),r!==2){const f=e.events[n[2]],m=e.events[n[3]];if(f[1].end=Object.assign({},m[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const g=n[2]+1,p=n[3]-n[2]-1;t.add(g,p,[])}}t.add(n[3]+1,0,[["exit",h,e]])}return i!==void 0&&(s.end=Object.assign({},zf(e.events,i)),t.add(i,0,[["exit",s,e]]),s=void 0),s}function zP(t,e,n,r,i){const s=[],o=zf(e.events,n);i&&(i.end=Object.assign({},o),s.push(["exit",i,e])),r.end=Object.assign({},o),s.push(["exit",r,e]),t.add(n+1,0,s)}function zf(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const d6e={name:"tasklistCheck",tokenize:f6e};function h6e(){return{text:{91:d6e}}}function f6e(t,e,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),s)}function s(l){return cr(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),a):n(l)}function a(l){return Rt(l)?e(l):wn(l)?t.check({tokenize:m6e},e,n)(l):n(l)}}function m6e(t,e,n){return vn(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function g6e(t){return xV([_Ce(),GEe(),i6e(t),l6e(),h6e()])}const p6e={};function zV(t){const e=this,n=t||p6e,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(g6e(n)),s.push(yCe()),o.push(OCe(n))}function v6e(){return{enter:{mathFlow:t,mathFlowFenceMeta:e,mathText:s},exit:{mathFlow:i,mathFlowFence:r,mathFlowFenceMeta:n,mathFlowValue:a,mathText:o,mathTextData:a}};function t(l){const c={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[c]}},l)}function e(){this.buffer()}function n(){const l=this.resume(),c=this.stack[this.stack.length-1];c.type,c.meta=l}function r(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function i(l){const c=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),d=this.stack[this.stack.length-1];d.type,this.exit(l),d.value=c;const h=d.data.hChildren[0];h.type,h.tagName,h.children.push({type:"text",value:c}),this.data.mathFlowInside=void 0}function s(l){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},l),this.buffer()}function o(l){const c=this.resume(),d=this.stack[this.stack.length-1];d.type,this.exit(l),d.value=c,d.data.hChildren.push({type:"text",value:c})}function a(l){this.config.enter.data.call(this,l),this.config.exit.data.call(this,l)}}function b6e(t){let e=(t||{}).singleDollarTextMath;return e==null&&(e=!0),r.peek=i,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:e?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:n,inlineMath:r}};function n(s,o,a,l){const c=s.value||"",d=a.createTracker(l),h="$".repeat(Math.max(cV(c,"$")+1,2)),f=a.enter("mathFlow");let m=d.move(h);if(s.meta){const g=a.enter("mathFlowMeta");m+=d.move(a.safe(s.meta,{after:`
`,before:m,encode:["$"],...d.current()})),g()}return m+=d.move(`
`),c&&(m+=d.move(c+`
`)),m+=d.move(h),f(),m}function r(s,o,a){let l=s.value||"",c=1;for(e||c++;new RegExp("(^|[^$])"+"\\$".repeat(c)+"([^$]|$)").test(l);)c++;const d="$".repeat(c);/[^ \r\n]/.test(l)&&(/^[ \r\n]/.test(l)&&/[ \r\n]$/.test(l)||/^\$|\$$/.test(l))&&(l=" "+l+" ");let h=-1;for(;++h<a.unsafe.length;){const f=a.unsafe[h];if(!f.atBreak)continue;const m=a.compilePattern(f);let g;for(;g=m.exec(l);){let p=g.index;l.codePointAt(p)===10&&l.codePointAt(p-1)===13&&p--,l=l.slice(0,p)+" "+l.slice(g.index+1)}}return d+l+d}function i(){return"$"}}const y6e={tokenize:O6e,concrete:!0,name:"mathFlow"},QP={tokenize:w6e,partial:!0};function O6e(t,e,n){const r=this,i=r.events[r.events.length-1],s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0;let o=0;return a;function a(y){return t.enter("mathFlow"),t.enter("mathFlowFence"),t.enter("mathFlowFenceSequence"),l(y)}function l(y){return y===36?(t.consume(y),o++,l):o<2?n(y):(t.exit("mathFlowFenceSequence"),vn(t,c,"whitespace")(y))}function c(y){return y===null||Rt(y)?h(y):(t.enter("mathFlowFenceMeta"),t.enter("chunkString",{contentType:"string"}),d(y))}function d(y){return y===null||Rt(y)?(t.exit("chunkString"),t.exit("mathFlowFenceMeta"),h(y)):y===36?n(y):(t.consume(y),d)}function h(y){return t.exit("mathFlowFence"),r.interrupt?e(y):t.attempt(QP,f,v)(y)}function f(y){return t.attempt({tokenize:b,partial:!0},v,m)(y)}function m(y){return(s?vn(t,g,"linePrefix",s+1):g)(y)}function g(y){return y===null?v(y):Rt(y)?t.attempt(QP,f,v)(y):(t.enter("mathFlowValue"),p(y))}function p(y){return y===null||Rt(y)?(t.exit("mathFlowValue"),g(y)):(t.consume(y),p)}function v(y){return t.exit("mathFlow"),e(y)}function b(y,C,x){let O=0;return vn(y,S,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function S(M){return y.enter("mathFlowFence"),y.enter("mathFlowFenceSequence"),T(M)}function T(M){return M===36?(O++,y.consume(M),T):O<o?x(M):(y.exit("mathFlowFenceSequence"),vn(y,$,"whitespace")(M))}function $(M){return M===null||Rt(M)?(y.exit("mathFlowFence"),C(M)):x(M)}}}function w6e(t,e,n){const r=this;return i;function i(o){return o===null?e(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function k6e(t){let n=(t||{}).singleDollarTextMath;return n==null&&(n=!0),{tokenize:r,resolve:S6e,previous:x6e,name:"mathText"};function r(i,s,o){let a=0,l,c;return d;function d(p){return i.enter("mathText"),i.enter("mathTextSequence"),h(p)}function h(p){return p===36?(i.consume(p),a++,h):a<2&&!n?o(p):(i.exit("mathTextSequence"),f(p))}function f(p){return p===null?o(p):p===36?(c=i.enter("mathTextSequence"),l=0,g(p)):p===32?(i.enter("space"),i.consume(p),i.exit("space"),f):Rt(p)?(i.enter("lineEnding"),i.consume(p),i.exit("lineEnding"),f):(i.enter("mathTextData"),m(p))}function m(p){return p===null||p===32||p===36||Rt(p)?(i.exit("mathTextData"),f(p)):(i.consume(p),m)}function g(p){return p===36?(i.consume(p),l++,g):l===a?(i.exit("mathTextSequence"),i.exit("mathText"),s(p)):(c.type="mathTextData",m(p))}}}function S6e(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="mathTextData"){t[e][1].type="mathTextPadding",t[n][1].type="mathTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="mathTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function x6e(t){return t!==36||this.events[this.events.length-1][1].type==="characterEscape"}function _6e(t){return{flow:{36:y6e},text:{36:k6e(t)}}}const C6e={};function E6e(t){const e=this,n=t||C6e,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),s=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(_6e(n)),s.push(v6e()),o.push(b6e(n))}const T6e={tokenize:D6e};function D6e(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),vn(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return Rt(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const A6e={tokenize:P6e},UP={tokenize:R6e};function P6e(t){const e=this,n=[];let r=0,i,s,o;return a;function a(C){if(r<n.length){const x=n[r];return e.containerState=x[1],t.attempt(x[0].continuation,l,c)(C)}return c(C)}function l(C){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&y();const x=e.events.length;let O=x,S;for(;O--;)if(e.events[O][0]==="exit"&&e.events[O][1].type==="chunkFlow"){S=e.events[O][1].end;break}b(r);let T=x;for(;T<e.events.length;)e.events[T][1].end={...S},T++;return zo(e.events,O+1,0,e.events.slice(x)),e.events.length=T,c(C)}return a(C)}function c(C){if(r===n.length){if(!i)return f(C);if(i.currentConstruct&&i.currentConstruct.concrete)return g(C);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(UP,d,h)(C)}function d(C){return i&&y(),b(r),f(C)}function h(C){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,g(C)}function f(C){return e.containerState={},t.attempt(UP,m,g)(C)}function m(C){return r++,n.push([e.currentConstruct,e.containerState]),f(C)}function g(C){if(C===null){i&&y(),b(0),t.consume(C);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),p(C)}function p(C){if(C===null){v(t.exit("chunkFlow"),!0),b(0),t.consume(C);return}return Rt(C)?(t.consume(C),v(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(C),p)}function v(C,x){const O=e.sliceStream(C);if(x&&O.push(null),C.previous=s,s&&(s.next=C),s=C,i.defineSkip(C.start),i.write(O),e.parser.lazy[C.start.line]){let S=i.events.length;for(;S--;)if(i.events[S][1].start.offset<o&&(!i.events[S][1].end||i.events[S][1].end.offset>o))return;const T=e.events.length;let $=T,M,P;for(;$--;)if(e.events[$][0]==="exit"&&e.events[$][1].type==="chunkFlow"){if(M){P=e.events[$][1].end;break}M=!0}for(b(r),S=T;S<e.events.length;)e.events[S][1].end={...P},S++;zo(e.events,$+1,0,e.events.slice(T)),e.events.length=S}}function b(C){let x=n.length;for(;x-- >C;){const O=n[x];e.containerState=O[1],O[0].exit.call(e,t)}n.length=C}function y(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function R6e(t,e,n){return vn(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}const M6e={tokenize:I6e};function I6e(t){const e=this,n=t.attempt(Yv,r,t.attempt(this.parser.constructs.flowInitial,i,vn(t,t.attempt(this.parser.constructs.flow,i,t.attempt(tEe,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const $6e={resolveAll:UV()},L6e=QV("string"),N6e=QV("text");function QV(t){return{resolveAll:UV(t==="text"?F6e:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(d){return c(d)?s(d):a(d)}function a(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),s(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const h=i[d];let f=-1;if(h)for(;++f<h.length;){const m=h[f];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function UV(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function F6e(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)l=!0,a++;else if(c!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(a=0),a){const c={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}const B6e={42:Gs,43:Gs,45:Gs,48:Gs,49:Gs,50:Gs,51:Gs,52:Gs,53:Gs,54:Gs,55:Gs,56:Gs,57:Gs,62:MV},z6e={91:oEe},Q6e={[-2]:DS,[-1]:DS,32:DS},U6e={35:hEe,42:Gb,45:[BP,Gb],60:pEe,61:BP,95:Gb,96:NP,126:NP},V6e={38:$V,92:IV},j6e={[-5]:AS,[-4]:AS,[-3]:AS,33:IEe,38:$V,42:K3,60:[LCe,SEe],91:LEe,92:[uEe,IV],93:LE,95:K3,96:YCe},q6e={null:[K3,$6e]},H6e={null:[42,95]},W6e={null:[]},X6e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:H6e,contentInitial:z6e,disable:W6e,document:B6e,flow:U6e,flowInitial:Q6e,insideSpan:q6e,string:V6e,text:j6e},Symbol.toStringTag,{value:"Module"}));function Y6e(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:T(O),check:T(S),consume:y,enter:C,exit:x,interrupt:T(S,{interrupt:!0})},c={code:null,containerState:{},defineSkip:p,events:[],now:g,parser:t,previous:null,sliceSerialize:f,sliceStream:m,write:h};let d=e.tokenize.call(c,l);return e.resolveAll&&s.push(e),c;function h(L){return o=pa(o,L),v(),o[o.length-1]!==null?[]:($(e,0),c.events=YO(s,c.events,c),c.events)}function f(L,j){return Z6e(m(L),j)}function m(L){return G6e(o,L)}function g(){const{_bufferIndex:L,_index:j,line:te,column:U,offset:N}=r;return{_bufferIndex:L,_index:j,line:te,column:U,offset:N}}function p(L){i[L.line]=L.column,P()}function v(){let L;for(;r._index<o.length;){const j=o[r._index];if(typeof j=="string")for(L=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===L&&r._bufferIndex<j.length;)b(j.charCodeAt(r._bufferIndex));else b(j)}}function b(L){d=d(L)}function y(L){Rt(L)?(r.line++,r.column=1,r.offset+=L===-3?2:1,P()):L!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=L}function C(L,j){const te=j||{};return te.type=L,te.start=g(),c.events.push(["enter",te,c]),a.push(te),te}function x(L){const j=a.pop();return j.end=g(),c.events.push(["exit",j,c]),j}function O(L,j){$(L,j.from)}function S(L,j){j.restore()}function T(L,j){return te;function te(U,N,z){let K,re,Q,D;return Array.isArray(U)?he(U):"tokenize"in U?he([U]):se(U);function se(ct){return Mt;function Mt(At){const on=At!==null&&ct[At],Wt=At!==null&&ct.null,bn=[...Array.isArray(on)?on:on?[on]:[],...Array.isArray(Wt)?Wt:Wt?[Wt]:[]];return he(bn)(At)}}function he(ct){return K=ct,re=0,ct.length===0?z:E(ct[re])}function E(ct){return Mt;function Mt(At){return D=M(),Q=ct,ct.partial||(c.currentConstruct=ct),ct.name&&c.parser.constructs.disable.null.includes(ct.name)?pe():ct.tokenize.call(j?Object.assign(Object.create(c),j):c,l,De,pe)(At)}}function De(ct){return L(Q,D),N}function pe(ct){return D.restore(),++re<K.length?E(K[re]):z}}}function $(L,j){L.resolveAll&&!s.includes(L)&&s.push(L),L.resolve&&zo(c.events,j,c.events.length-j,L.resolve(c.events.slice(j),c)),L.resolveTo&&(c.events=L.resolveTo(c.events,c))}function M(){const L=g(),j=c.previous,te=c.currentConstruct,U=c.events.length,N=Array.from(a);return{from:U,restore:z};function z(){r=L,c.previous=j,c.currentConstruct=te,c.events.length=U,a=N,P()}}function P(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function G6e(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function Z6e(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function K6e(t){const r={constructs:xV([X6e,...(t||{}).extensions||[]]),content:i(T6e),defined:[],document:i(A6e),flow:i(M6e),lazy:{},string:i(L6e),text:i(N6e)};return r;function i(s){return o;function o(a){return Y6e(r,s,a)}}}function J6e(t){for(;!LV(t););return t}const VP=/[\0\t\n\r]/g;function eTe(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const l=[];let c,d,h,f,m;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),h=0,e="",n&&(s.charCodeAt(0)===65279&&h++,n=void 0);h<s.length;){if(VP.lastIndex=h,c=VP.exec(s),f=c&&c.index!==void 0?c.index:s.length,m=s.charCodeAt(f),!c){e=s.slice(h);break}if(m===10&&h===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<f&&(l.push(s.slice(h,f)),t+=f-h),m){case 0:{l.push(65533),t++;break}case 9:{for(d=Math.ceil(t/4)*4,l.push(-2);t++<d;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}h=f+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}function i0(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?jP(t.position):"start"in t||"end"in t?jP(t):"line"in t||"column"in t?J3(t):""}function J3(t){return qP(t&&t.line)+":"+qP(t&&t.column)}function jP(t){return J3(t&&t.start)+"-"+J3(t&&t.end)}function qP(t){return t&&typeof t=="number"?t:1}const VV={}.hasOwnProperty;function tTe(t,e,n){return typeof e!="string"&&(n=e,e=void 0),nTe(n)(J6e(K6e(n).document().write(eTe()(t,e,!0))))}function nTe(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Si),autolinkProtocol:M,autolinkEmail:M,atxHeading:s($n),blockQuote:s(Wt),characterEscape:M,characterReference:M,codeFenced:s(bn),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(bn,o),codeText:s(Or,o),codeTextData:M,data:M,codeFlowValue:M,definition:s(dr),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(ui),hardBreakEscape:s(gn),hardBreakTrailing:s(gn),htmlFlow:s(Kr,o),htmlFlowData:M,htmlText:s(Kr,o),htmlTextData:M,image:s(xt),label:o,link:s(Si),listItem:s(Mn),listItemValue:f,listOrdered:s(hr,h),listUnordered:s(hr),paragraph:s(Va),reference:E,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s($n),strong:s(Ws),thematicBreak:s(kl)},exit:{atxHeading:l(),atxHeadingSequence:O,autolink:l(),autolinkEmail:on,autolinkProtocol:At,blockQuote:l(),characterEscapeValue:P,characterReferenceMarkerHexadecimal:pe,characterReferenceMarkerNumeric:pe,characterReferenceValue:ct,characterReference:Mt,codeFenced:l(v),codeFencedFence:p,codeFencedFenceInfo:m,codeFencedFenceMeta:g,codeFlowValue:P,codeIndented:l(b),codeText:l(N),codeTextData:P,data:P,definition:l(),definitionDestinationString:x,definitionLabelString:y,definitionTitleString:C,emphasis:l(),hardBreakEscape:l(j),hardBreakTrailing:l(j),htmlFlow:l(te),htmlFlowData:P,htmlText:l(U),htmlTextData:P,image:l(K),label:Q,labelText:re,lineEnding:L,link:l(z),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:De,resourceDestinationString:D,resourceTitleString:se,resource:he,setextHeading:l($),setextHeadingLineSequence:T,setextHeadingText:S,strong:l(),thematicBreak:l()}};jV(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(oe){let Oe={type:"root",children:[]};const Ke={stack:[Oe],tokenStack:[],config:e,enter:a,exit:c,buffer:o,resume:d,data:n},gt=[];let It=-1;for(;++It<oe.length;)if(oe[It][1].type==="listOrdered"||oe[It][1].type==="listUnordered")if(oe[It][0]==="enter")gt.push(It);else{const sr=gt.pop();It=i(oe,sr,It)}for(It=-1;++It<oe.length;){const sr=e[oe[It][0]];VV.call(sr,oe[It][1].type)&&sr[oe[It][1].type].call(Object.assign({sliceSerialize:oe[It][2].sliceSerialize},Ke),oe[It][1])}if(Ke.tokenStack.length>0){const sr=Ke.tokenStack[Ke.tokenStack.length-1];(sr[1]||HP).call(Ke,void 0,sr[0])}for(Oe.position={start:Au(oe.length>0?oe[0][1].start:{line:1,column:1,offset:0}),end:Au(oe.length>0?oe[oe.length-2][1].end:{line:1,column:1,offset:0})},It=-1;++It<e.transforms.length;)Oe=e.transforms[It](Oe)||Oe;return Oe}function i(oe,Oe,Ke){let gt=Oe-1,It=-1,sr=!1,ys,os,na,ra;for(;++gt<=Ke;){const xi=oe[gt];switch(xi[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{xi[0]==="enter"?It++:It--,ra=void 0;break}case"lineEndingBlank":{xi[0]==="enter"&&(ys&&!ra&&!It&&!na&&(na=gt),ra=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ra=void 0}if(!It&&xi[0]==="enter"&&xi[1].type==="listItemPrefix"||It===-1&&xi[0]==="exit"&&(xi[1].type==="listUnordered"||xi[1].type==="listOrdered")){if(ys){let po=gt;for(os=void 0;po--;){const Xs=oe[po];if(Xs[1].type==="lineEnding"||Xs[1].type==="lineEndingBlank"){if(Xs[0]==="exit")continue;os&&(oe[os][1].type="lineEndingBlank",sr=!0),Xs[1].type="lineEnding",os=po}else if(!(Xs[1].type==="linePrefix"||Xs[1].type==="blockQuotePrefix"||Xs[1].type==="blockQuotePrefixWhitespace"||Xs[1].type==="blockQuoteMarker"||Xs[1].type==="listItemIndent"))break}na&&(!os||na<os)&&(ys._spread=!0),ys.end=Object.assign({},os?oe[os][1].start:xi[1].end),oe.splice(os||gt,0,["exit",ys,xi[2]]),gt++,Ke++}if(xi[1].type==="listItemPrefix"){const po={type:"listItem",_spread:!1,start:Object.assign({},xi[1].start),end:void 0};ys=po,oe.splice(gt,0,["enter",po,xi[2]]),gt++,Ke++,na=void 0,ra=!0}}}return oe[Oe][1]._spread=sr,Ke}function s(oe,Oe){return Ke;function Ke(gt){a.call(this,oe(gt),gt),Oe&&Oe.call(this,gt)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(oe,Oe,Ke){this.stack[this.stack.length-1].children.push(oe),this.stack.push(oe),this.tokenStack.push([Oe,Ke||void 0]),oe.position={start:Au(Oe.start),end:void 0}}function l(oe){return Oe;function Oe(Ke){oe&&oe.call(this,Ke),c.call(this,Ke)}}function c(oe,Oe){const Ke=this.stack.pop(),gt=this.tokenStack.pop();if(gt)gt[0].type!==oe.type&&(Oe?Oe.call(this,oe,gt[0]):(gt[1]||HP).call(this,oe,gt[0]));else throw new Error("Cannot close `"+oe.type+"` ("+i0({start:oe.start,end:oe.end})+"): its not open");Ke.position.end=Au(oe.end)}function d(){return PE(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function f(oe){if(this.data.expectingFirstListItemValue){const Oe=this.stack[this.stack.length-2];Oe.start=Number.parseInt(this.sliceSerialize(oe),10),this.data.expectingFirstListItemValue=void 0}}function m(){const oe=this.resume(),Oe=this.stack[this.stack.length-1];Oe.lang=oe}function g(){const oe=this.resume(),Oe=this.stack[this.stack.length-1];Oe.meta=oe}function p(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function v(){const oe=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=oe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function b(){const oe=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=oe.replace(/(\r?\n|\r)$/g,"")}function y(oe){const Oe=this.resume(),Ke=this.stack[this.stack.length-1];Ke.label=Oe,Ke.identifier=al(this.sliceSerialize(oe)).toLowerCase()}function C(){const oe=this.resume(),Oe=this.stack[this.stack.length-1];Oe.title=oe}function x(){const oe=this.resume(),Oe=this.stack[this.stack.length-1];Oe.url=oe}function O(oe){const Oe=this.stack[this.stack.length-1];if(!Oe.depth){const Ke=this.sliceSerialize(oe).length;Oe.depth=Ke}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function T(oe){const Oe=this.stack[this.stack.length-1];Oe.depth=this.sliceSerialize(oe).codePointAt(0)===61?1:2}function $(){this.data.setextHeadingSlurpLineEnding=void 0}function M(oe){const Ke=this.stack[this.stack.length-1].children;let gt=Ke[Ke.length-1];(!gt||gt.type!=="text")&&(gt=wl(),gt.position={start:Au(oe.start),end:void 0},Ke.push(gt)),this.stack.push(gt)}function P(oe){const Oe=this.stack.pop();Oe.value+=this.sliceSerialize(oe),Oe.position.end=Au(oe.end)}function L(oe){const Oe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ke=Oe.children[Oe.children.length-1];Ke.position.end=Au(oe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Oe.type)&&(M.call(this,oe),P.call(this,oe))}function j(){this.data.atHardBreak=!0}function te(){const oe=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=oe}function U(){const oe=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=oe}function N(){const oe=this.resume(),Oe=this.stack[this.stack.length-1];Oe.value=oe}function z(){const oe=this.stack[this.stack.length-1];if(this.data.inReference){const Oe=this.data.referenceType||"shortcut";oe.type+="Reference",oe.referenceType=Oe,delete oe.url,delete oe.title}else delete oe.identifier,delete oe.label;this.data.referenceType=void 0}function K(){const oe=this.stack[this.stack.length-1];if(this.data.inReference){const Oe=this.data.referenceType||"shortcut";oe.type+="Reference",oe.referenceType=Oe,delete oe.url,delete oe.title}else delete oe.identifier,delete oe.label;this.data.referenceType=void 0}function re(oe){const Oe=this.sliceSerialize(oe),Ke=this.stack[this.stack.length-2];Ke.label=SV(Oe),Ke.identifier=al(Oe).toLowerCase()}function Q(){const oe=this.stack[this.stack.length-1],Oe=this.resume(),Ke=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ke.type==="link"){const gt=oe.children;Ke.children=gt}else Ke.alt=Oe}function D(){const oe=this.resume(),Oe=this.stack[this.stack.length-1];Oe.url=oe}function se(){const oe=this.resume(),Oe=this.stack[this.stack.length-1];Oe.title=oe}function he(){this.data.inReference=void 0}function E(){this.data.referenceType="collapsed"}function De(oe){const Oe=this.resume(),Ke=this.stack[this.stack.length-1];Ke.label=Oe,Ke.identifier=al(this.sliceSerialize(oe)).toLowerCase(),this.data.referenceType="full"}function pe(oe){this.data.characterReferenceType=oe.type}function ct(oe){const Oe=this.sliceSerialize(oe),Ke=this.data.characterReferenceType;let gt;Ke?(gt=kV(Oe,Ke==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):gt=IE(Oe);const It=this.stack[this.stack.length-1];It.value+=gt}function Mt(oe){const Oe=this.stack.pop();Oe.position.end=Au(oe.end)}function At(oe){P.call(this,oe);const Oe=this.stack[this.stack.length-1];Oe.url=this.sliceSerialize(oe)}function on(oe){P.call(this,oe);const Oe=this.stack[this.stack.length-1];Oe.url="mailto:"+this.sliceSerialize(oe)}function Wt(){return{type:"blockquote",children:[]}}function bn(){return{type:"code",lang:null,meta:null,value:""}}function Or(){return{type:"inlineCode",value:""}}function dr(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ui(){return{type:"emphasis",children:[]}}function $n(){return{type:"heading",depth:0,children:[]}}function gn(){return{type:"break"}}function Kr(){return{type:"html",value:""}}function xt(){return{type:"image",title:null,url:"",alt:null}}function Si(){return{type:"link",title:null,url:"",children:[]}}function hr(oe){return{type:"list",ordered:oe.type==="listOrdered",start:null,spread:oe._spread,children:[]}}function Mn(oe){return{type:"listItem",spread:oe._spread,checked:null,children:[]}}function Va(){return{type:"paragraph",children:[]}}function Ws(){return{type:"strong",children:[]}}function wl(){return{type:"text",value:""}}function kl(){return{type:"thematicBreak"}}}function Au(t){return{line:t.line,column:t.column,offset:t.offset}}function jV(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?jV(t,r):rTe(t,r)}}function rTe(t,e){let n;for(n in e)if(VV.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function HP(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+i0({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+i0({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+i0({start:e.start,end:e.end})+") is still open")}function qV(t){const e=this;e.parser=n;function n(r){return tTe(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function iTe(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function sTe(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function oTe(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function aTe(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function lTe(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function cTe(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Tg(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let o,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=s+1,a+=1,t.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function uTe(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function dTe(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function HV(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function hTe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return HV(t,e);const i={src:Tg(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function fTe(t,e){const n={src:Tg(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function mTe(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function gTe(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return HV(t,e);const i={href:Tg(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function pTe(t,e){const n={href:Tg(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function vTe(t,e,n){const r=t.all(e),i=n?bTe(n):WV(e),s={},o=[];if(typeof e.checked=="boolean"){const d=r[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const d=r[a];(i||a!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?o.push(...d.children):o.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,c),t.applyData(e,c)}function bTe(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=WV(n[r])}return e}function WV(t){const e=t.spread;return e??t.children.length>1}function yTe(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function OTe(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function wTe(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function kTe(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const XV=GV("end"),YV=GV("start");function GV(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function STe(t){const e=YV(t),n=XV(t);if(e&&n)return{start:e,end:n}}function xTe(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=YV(e.children[1]),l=XV(e.children[e.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function _Te(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let l=-1;const c=[];for(;++l<a;){const h=e.children[l],f={},m=o?o[l]:void 0;m&&(f.align=m);let g={type:"element",tagName:s,properties:f,children:[]};h&&(g.children=t.all(h),t.patch(h,g),g=t.applyData(h,g)),c.push(g)}const d={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,d),t.applyData(e,d)}function CTe(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const WP=9,XP=32;function ETe(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push(YP(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push(YP(e.slice(i),i>0,!1)),s.join("")}function YP(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===WP||s===XP;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===WP||s===XP;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function TTe(t,e){const n={type:"text",value:ETe(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function DTe(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const ATe={blockquote:iTe,break:sTe,code:oTe,delete:aTe,emphasis:lTe,footnoteReference:cTe,heading:uTe,html:dTe,imageReference:hTe,image:fTe,inlineCode:mTe,linkReference:gTe,link:pTe,listItem:vTe,list:yTe,paragraph:OTe,root:wTe,strong:kTe,table:xTe,tableCell:CTe,tableRow:_Te,text:TTe,thematicBreak:DTe,toml:nb,yaml:nb,definition:nb,footnoteDefinition:nb};function nb(){}const ZV=-1,GO=0,s0=1,y2=2,NE=3,FE=4,BE=5,zE=6,KV=7,JV=8,GP=typeof self=="object"?self:globalThis,PTe=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case GO:case ZV:return n(o,i);case s0:{const a=n([],i);for(const l of o)a.push(r(l));return a}case y2:{const a=n({},i);for(const[l,c]of o)a[r(l)]=r(c);return a}case NE:return n(new Date(o),i);case FE:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case BE:{const a=n(new Map,i);for(const[l,c]of o)a.set(r(l),r(c));return a}case zE:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case KV:{const{name:a,message:l}=o;return n(new GP[a](l),i)}case JV:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new GP[s](o),i)};return r},ZP=t=>PTe(new Map,t)(0),xf="",{toString:RTe}={},{keys:MTe}=Object,dp=t=>{const e=typeof t;if(e!=="object"||!t)return[GO,e];const n=RTe.call(t).slice(8,-1);switch(n){case"Array":return[s0,xf];case"Object":return[y2,xf];case"Date":return[NE,xf];case"RegExp":return[FE,xf];case"Map":return[BE,xf];case"Set":return[zE,xf];case"DataView":return[s0,n]}return n.includes("Array")?[s0,n]:n.includes("Error")?[KV,n]:[y2,n]},rb=([t,e])=>t===GO&&(e==="function"||e==="symbol"),ITe=(t,e,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=dp(o);switch(a){case GO:{let d=o;switch(l){case"bigint":a=JV,d=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([ZV],o)}return i([a,d],o)}case s0:{if(l){let f=o;return l==="DataView"?f=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(f=new Uint8Array(o)),i([l,[...f]],o)}const d=[],h=i([a,d],o);for(const f of o)d.push(s(f));return h}case y2:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const d=[],h=i([a,d],o);for(const f of MTe(o))(t||!rb(dp(o[f])))&&d.push([s(f),s(o[f])]);return h}case NE:return i([a,o.toISOString()],o);case FE:{const{source:d,flags:h}=o;return i([a,{source:d,flags:h}],o)}case BE:{const d=[],h=i([a,d],o);for(const[f,m]of o)(t||!(rb(dp(f))||rb(dp(m))))&&d.push([s(f),s(m)]);return h}case zE:{const d=[],h=i([a,d],o);for(const f of o)(t||!rb(dp(f)))&&d.push(s(f));return h}}const{message:c}=o;return i([a,{name:l,message:c}],o)};return s},KP=(t,{json:e,lossy:n}={})=>{const r=[];return ITe(!(e||n),!!e,new Map,r)(t),r},O2=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?ZP(KP(t,e)):structuredClone(t):(t,e)=>ZP(KP(t,e));function $Te(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function LTe(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function NTe(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||$Te,r=t.options.footnoteBackLabel||LTe,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const d=t.all(c),h=String(c.identifier).toUpperCase(),f=Tg(h.toLowerCase());let m=0;const g=[],p=t.footnoteCounts.get(h);for(;p!==void 0&&++m<=p;){g.length>0&&g.push({type:"text",value:" "});let y=typeof n=="string"?n:n(l,m);typeof y=="string"&&(y={type:"text",value:y}),g.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+f+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(y)?y:[y]})}const v=d[d.length-1];if(v&&v.type==="element"&&v.tagName==="p"){const y=v.children[v.children.length-1];y&&y.type==="text"?y.value+=" ":v.children.push({type:"text",value:" "}),v.children.push(...g)}else d.push(...g);const b={type:"element",tagName:"li",properties:{id:e+"fn-"+f},children:t.wrap(d,!0)};t.patch(c,b),a.push(b)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...O2(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const e_={}.hasOwnProperty,FTe={};function BTe(t,e){const n=e||FTe,r=new Map,i=new Map,s=new Map,o={...ATe,...n.handlers},a={all:c,applyData:QTe,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:zTe,wrap:VTe};return yl(t,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?r:i,f=String(d.identifier).toUpperCase();h.has(f)||h.set(f,d)}}),a;function l(d,h){const f=d.type,m=a.handlers[f];if(e_.call(a.handlers,f)&&m)return m(a,d,h);if(a.options.passThrough&&a.options.passThrough.includes(f)){if("children"in d){const{children:p,...v}=d,b=O2(v);return b.children=a.all(d),b}return O2(d)}return(a.options.unknownHandler||UTe)(a,d,h)}function c(d){const h=[];if("children"in d){const f=d.children;let m=-1;for(;++m<f.length;){const g=a.one(f[m],d);if(g){if(m&&f[m-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=JP(g.value)),!Array.isArray(g)&&g.type==="element")){const p=g.children[0];p&&p.type==="text"&&(p.value=JP(p.value))}Array.isArray(g)?h.push(...g):h.push(g)}}}return h}}function zTe(t,e){t.position&&(e.position=STe(t))}function QTe(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,O2(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function UTe(t,e){const n=e.data||{},r="value"in e&&!(e_.call(n,"hProperties")||e_.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function VTe(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function JP(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function e9(t,e){const n=BTe(t,e),r=n.one(t,void 0),i=NTe(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function ej(t,e){return t&&"run"in t?async function(n,r){const i=e9(n,{file:r,...e});await t.run(i,r)}:function(n,r){return e9(n,{file:r,...t||e})}}function t9(t){if(t)throw t}var Zb=Object.prototype.hasOwnProperty,tj=Object.prototype.toString,n9=Object.defineProperty,r9=Object.getOwnPropertyDescriptor,i9=function(e){return typeof Array.isArray=="function"?Array.isArray(e):tj.call(e)==="[object Array]"},s9=function(e){if(!e||tj.call(e)!=="[object Object]")return!1;var n=Zb.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Zb.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||Zb.call(e,i)},o9=function(e,n){n9&&n.name==="__proto__"?n9(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},a9=function(e,n){if(n==="__proto__")if(Zb.call(e,n)){if(r9)return r9(e,n).value}else return;return e[n]},jTe=function t(){var e,n,r,i,s,o,a=arguments[0],l=1,c=arguments.length,d=!1;for(typeof a=="boolean"&&(d=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<c;++l)if(e=arguments[l],e!=null)for(n in e)r=a9(a,n),i=a9(e,n),a!==i&&(d&&i&&(s9(i)||(s=i9(i)))?(s?(s=!1,o=r&&i9(r)?r:[]):o=r&&s9(r)?r:{},o9(a,{name:n,newValue:t(d,o,i)})):typeof i<"u"&&o9(a,{name:n,newValue:i}));return a};const PS=Jo(jTe);function t_(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function qTe(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...c){const d=t[++s];let h=-1;if(l){o(l);return}for(;++h<i.length;)(c[h]===null||c[h]===void 0)&&(c[h]=i[h]);i=c,d?HTe(d,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function HTe(t,e){let n;return r;function r(...o){const a=t.length>o.length;let l;a&&o.push(i);try{l=t.apply(this,o)}catch(c){const d=c;if(a&&n)throw d;return i(d)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}class mo extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=i0(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}mo.prototype.file="";mo.prototype.name="";mo.prototype.reason="";mo.prototype.message="";mo.prototype.stack="";mo.prototype.column=void 0;mo.prototype.line=void 0;mo.prototype.ancestors=void 0;mo.prototype.cause=void 0;mo.prototype.fatal=void 0;mo.prototype.place=void 0;mo.prototype.ruleId=void 0;mo.prototype.source=void 0;const Rl={basename:WTe,dirname:XTe,extname:YTe,join:GTe,sep:"/"};function WTe(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Gv(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function XTe(t){if(Gv(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function YTe(t){Gv(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.codePointAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function GTe(...t){let e=-1,n;for(;++e<t.length;)Gv(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":ZTe(n)}function ZTe(t){Gv(t);const e=t.codePointAt(0)===47;let n=KTe(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function KTe(t,e){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=t.length;){if(o<t.length)a=t.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function Gv(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const JTe={cwd:e7e};function e7e(){return"/"}function n_(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function t7e(t){if(typeof t=="string")t=new URL(t);else if(!n_(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return n7e(t)}function n7e(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const RS=["history","path","basename","stem","extname","dirname"];class QE{constructor(e){let n;e?n_(e)?n={path:e}:typeof e=="string"||r7e(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":JTe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<RS.length;){const s=RS[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)RS.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Rl.basename(this.path):void 0}set basename(e){IS(e,"basename"),MS(e,"basename"),this.path=Rl.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Rl.dirname(this.path):void 0}set dirname(e){l9(this.basename,"dirname"),this.path=Rl.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Rl.extname(this.path):void 0}set extname(e){if(MS(e,"extname"),l9(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Rl.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){n_(e)&&(e=t7e(e)),IS(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Rl.basename(this.path,this.extname):void 0}set stem(e){IS(e,"stem"),MS(e,"stem"),this.path=Rl.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new mo(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function MS(t,e){if(t&&t.includes(Rl.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Rl.sep+"`")}function IS(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function l9(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function r7e(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const i7e=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},s7e={}.hasOwnProperty;class UE extends i7e{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=qTe()}copy(){const e=new UE;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(PS(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(NS("data",this.frozen),this.namespace[e]=n,this):s7e.call(this.namespace,e)&&this.namespace[e]||void 0:e?(NS("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=ib(e),r=this.parser||this.Parser;return $S("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),$S("process",this.parser||this.Parser),LS("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=ib(e),l=r.parse(a);r.run(l,a,function(d,h,f){if(d||!h||!f)return c(d);const m=h,g=r.stringify(m,f);a7e(g)?f.value=g:f.result=g,c(d,f)});function c(d,h){d||!h?o(d):s?s(h):n(void 0,h)}}}processSync(e){let n=!1,r;return this.freeze(),$S("processSync",this.parser||this.Parser),LS("processSync",this.compiler||this.Compiler),this.process(e,i),u9("processSync","process",n),r;function i(s,o){n=!0,t9(s),r=o}}run(e,n,r){c9(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=ib(n);i.run(e,l,c);function c(d,h,f){const m=h||e;d?a(d):o?o(m):r(void 0,m,f)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),u9("runSync","run",r),i;function s(o,a){t9(o),i=a,r=!0}}stringify(e,n){this.freeze();const r=ib(n),i=this.compiler||this.Compiler;return LS("stringify",i),c9(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(NS("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...h]=c;l(d,h)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=PS(!0,i.settings,c.settings))}function a(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const h=c[d];s(h)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let h=-1,f=-1;for(;++h<r.length;)if(r[h][0]===c){f=h;break}if(f===-1)r.push([c,...d]);else if(d.length>0){let[m,...g]=d;const p=r[f][1];t_(p)&&t_(m)&&(m=PS(!0,p,m)),r[f]=[c,m,...g]}}}}const nj=new UE().freeze();function $S(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function LS(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function NS(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function c9(t){if(!t_(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function u9(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function ib(t){return o7e(t)?t:new QE(t)}function o7e(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function a7e(t){return typeof t=="string"||l7e(t)}function l7e(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const rj={flexShrink:0,padding:"1px 4px",borderRadius:"var(--borderRadius-md)",color:"#c9d1d9",background:"#0d1117"},c7e=H("p",{base:{"&>code":rj},variants:{emojiSize:{small:{},medium:{"--emoji-size":"var(--emoji-size-medium)"},large:{"--emoji-size":"var(--emoji-size-large)"}}}}),ij=H("em",{base:{fontStyle:"italic"}}),sj=H("strong",{base:{fontWeight:"bold"}}),oj=H("del",{base:{textDecoration:"line-through"}}),u7e=H("h1",{base:{fontSize:"2em",fontWeight:600}}),d7e=H("h2",{base:{fontSize:"1.6em",fontWeight:600}}),h7e=H("h3",{base:{fontSize:"1.4em",fontWeight:600}}),f7e=H("h4",{base:{fontSize:"1.2em",fontWeight:600}}),m7e=H("h5",{base:{fontSize:"1em",fontWeight:600}}),g7e=H("h6",{base:{fontSize:"0.8em",fontWeight:600}}),p7e=H("li",{base:{}}),v7e=H("ul",{base:{listStylePosition:"outside",paddingLeft:"1.5em","& li":{listStyleType:"disc"},"& li li":{listStyleType:"circle"}}}),b7e=H("ol",{base:{listStylePosition:"outside",paddingLeft:"1.5em",listStyleType:"none",counterReset:"list-counter var(--start-number, 0)","& li":{display:"list-item",counterIncrement:"list-counter","&::before":{content:'counter(list-counter) ". "',fontWeight:"inherit"}}}}),y7e=H("blockquote",{base:{margin:"var(--gap-sm) 0",padding:"var(--gap-sm) var(--gap-md)",borderRadius:"var(--borderRadius-sm)",borderInlineStart:"var(--gap-sm) solid var(--border)","&, & > blockquote > blockquote":{color:"var(--md-sys-color-on-secondary-container)",background:"var(--md-sys-color-secondary-container)","--border":"var(--md-sys-color-secondary)"},"& > blockquote, & > blockquote > blockquote > blockquote":{color:"var(--md-sys-color-on-tertiary-container)",background:"var(--md-sys-color-tertiary-container)","--border":"var(--md-sys-color-tertiary)"},"& blockquote":{borderBlock:"1px solid var(--border)",borderInlineEnd:"1px solid var(--border)"}}}),O7e=H("table",{base:{borderCollapse:"collapse"}}),w7e=H("th",{base:{fontWeight:600,padding:"var(--gap-sm)",border:"1px solid var(--md-sys-color-outline)"}}),k7e=H("td",{base:{padding:"var(--gap-sm)",border:"1px solid var(--md-sys-color-outline)"}}),aj=H("code",{base:{fontFamily:"var(--fonts-monospace)"}}),VE=nn({base:rj}),lj=()=>/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uD83C[\uDFFB-\uDFFF]|\uFE0F)?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE89\uDE8F-\uDEC2\uDEC6\uDECE-\uDEDC\uDEDF-\uDEE9]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g,cj=/:([0123456789ABCDEFGHJKMNPQRSTVWXYZ]{26}):/g,wh=new RegExp(cj.source+"|[-]?(?:"+lj().source+")","g");function S7e(t){return t.replaceAll(wh,"").trim().length===0}function x7e(t,e){const n=t.content??"",r=e.children?.[0].properties;if(r&&!t.disallowBigEmoji&&S7e(n)){wh.lastIndex=0,wh.exec(n);let i="large";wh.exec(n)&&(i="medium"),r.emojiSize=i}}function _7e(t){if(t.length===1)return t.charCodeAt(0).toString(16);if(t.length>1){const e=[];for(let n=0;n<t.length;n++)t.charCodeAt(n)>=55296&&t.charCodeAt(n)<=56319?t.charCodeAt(n+1)>=56320&&t.charCodeAt(n+1)<=57343&&e.push((t.charCodeAt(n)-55296)*1024+(t.charCodeAt(n+1)-56320)+65536):(t.charCodeAt(n)<55296||t.charCodeAt(n)>57343)&&e.push(t.charCodeAt(n));return e.map(n=>n.toString(16)).join("-")}return""}const C7e=H("pre",{base:{color:"#c9d1d9",background:"#0d1117",width:"fit-content",padding:"var(--gap-md)",marginY:"var(--gap-sm)",borderRadius:"var(--borderRadius-md)",wordWrap:"break-word",whiteSpace:"pre-wrap","&> code":{color:"inherit !important",background:"transparent !important"}}});function E7e(t){return u(C7e,{get children(){return t.children}})}var T7e=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n};const D7e=Jo(T7e);function sb(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var uj={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,s){function o(c,d){if(!i[c]){if(!r[c]){var h=typeof sb=="function"&&sb;if(!d&&h)return h(c,!0);if(a)return a(c,!0);var f=new Error("Cannot find module '"+c+"'");throw f.code="MODULE_NOT_FOUND",f}var m=i[c]={exports:{}};r[c][0].call(m.exports,function(g){var p=r[c][1][g];return o(p||g)},m,m.exports,n,r,i,s)}return i[c].exports}for(var a=typeof sb=="function"&&sb,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(n,r,i){(function(s){var o=s.MutationObserver||s.WebKitMutationObserver,a;if(o){var l=0,c=new o(g),d=s.document.createTextNode("");c.observe(d,{characterData:!0}),a=function(){d.data=l=++l%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var h=new s.MessageChannel;h.port1.onmessage=g,a=function(){h.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?a=function(){var v=s.document.createElement("script");v.onreadystatechange=function(){g(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},s.document.documentElement.appendChild(v)}:a=function(){setTimeout(g,0)};var f,m=[];function g(){f=!0;for(var v,b,y=m.length;y;){for(b=m,m=[],v=-1;++v<y;)b[v]();y=m.length}f=!1}r.exports=p;function p(v){m.push(v)===1&&!f&&a()}}).call(this,typeof Zi<"u"?Zi:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var s=n(1);function o(){}var a={},l=["REJECTED"],c=["FULFILLED"],d=["PENDING"];r.exports=h;function h(O){if(typeof O!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,O!==o&&p(this,O)}h.prototype.catch=function(O){return this.then(null,O)},h.prototype.then=function(O,S){if(typeof O!="function"&&this.state===c||typeof S!="function"&&this.state===l)return this;var T=new this.constructor(o);if(this.state!==d){var $=this.state===c?O:S;m(T,$,this.outcome)}else this.queue.push(new f(T,O,S));return T};function f(O,S,T){this.promise=O,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}f.prototype.callFulfilled=function(O){a.resolve(this.promise,O)},f.prototype.otherCallFulfilled=function(O){m(this.promise,this.onFulfilled,O)},f.prototype.callRejected=function(O){a.reject(this.promise,O)},f.prototype.otherCallRejected=function(O){m(this.promise,this.onRejected,O)};function m(O,S,T){s(function(){var $;try{$=S(T)}catch(M){return a.reject(O,M)}$===O?a.reject(O,new TypeError("Cannot resolve promise with itself")):a.resolve(O,$)})}a.resolve=function(O,S){var T=v(g,S);if(T.status==="error")return a.reject(O,T.value);var $=T.value;if($)p(O,$);else{O.state=c,O.outcome=S;for(var M=-1,P=O.queue.length;++M<P;)O.queue[M].callFulfilled(S)}return O},a.reject=function(O,S){O.state=l,O.outcome=S;for(var T=-1,$=O.queue.length;++T<$;)O.queue[T].callRejected(S);return O};function g(O){var S=O&&O.then;if(O&&(typeof O=="object"||typeof O=="function")&&typeof S=="function")return function(){S.apply(O,arguments)}}function p(O,S){var T=!1;function $(j){T||(T=!0,a.reject(O,j))}function M(j){T||(T=!0,a.resolve(O,j))}function P(){S(M,$)}var L=v(P);L.status==="error"&&$(L.value)}function v(O,S){var T={};try{T.value=O(S),T.status="success"}catch($){T.status="error",T.value=$}return T}h.resolve=b;function b(O){return O instanceof this?O:a.resolve(new this(o),O)}h.reject=y;function y(O){var S=new this(o);return a.reject(S,O)}h.all=C;function C(O){var S=this;if(Object.prototype.toString.call(O)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=O.length,$=!1;if(!T)return this.resolve([]);for(var M=new Array(T),P=0,L=-1,j=new this(o);++L<T;)te(O[L],L);return j;function te(U,N){S.resolve(U).then(z,function(K){$||($=!0,a.reject(j,K))});function z(K){M[N]=K,++P===T&&!$&&($=!0,a.resolve(j,M))}}}h.race=x;function x(O){var S=this;if(Object.prototype.toString.call(O)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=O.length,$=!1;if(!T)return this.resolve([]);for(var M=-1,P=new this(o);++M<T;)L(O[M]);return P;function L(j){S.resolve(j).then(function(te){$||($=!0,a.resolve(P,te))},function(te){$||($=!0,a.reject(P,te))})}}},{1:1}],3:[function(n,r,i){(function(s){typeof s.Promise!="function"&&(s.Promise=n(2))}).call(this,typeof Zi<"u"?Zi:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B};function o(B,ne){if(!(B instanceof ne))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=a();function c(){try{if(!l||!l.open)return!1;var B=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),ne=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!B||ne)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function d(B,ne){B=B||[],ne=ne||{};try{return new Blob(B,ne)}catch(le){if(le.name!=="TypeError")throw le;for(var W=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,ue=new W,me=0;me<B.length;me+=1)ue.append(B[me]);return ue.getBlob(ne.type)}}typeof Promise>"u"&&n(3);var h=Promise;function f(B,ne){ne&&B.then(function(W){ne(null,W)},function(W){ne(W)})}function m(B,ne,W){typeof ne=="function"&&B.then(ne),typeof W=="function"&&B.catch(W)}function g(B){return typeof B!="string"&&(console.warn(B+" used as a key, but it is not a string."),B=String(B)),B}function p(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var v="local-forage-detect-blob-support",b=void 0,y={},C=Object.prototype.toString,x="readonly",O="readwrite";function S(B){for(var ne=B.length,W=new ArrayBuffer(ne),ue=new Uint8Array(W),me=0;me<ne;me++)ue[me]=B.charCodeAt(me);return W}function T(B){return new h(function(ne){var W=B.transaction(v,O),ue=d([""]);W.objectStore(v).put(ue,"key"),W.onabort=function(me){me.preventDefault(),me.stopPropagation(),ne(!1)},W.oncomplete=function(){var me=navigator.userAgent.match(/Chrome\/(\d+)/),le=navigator.userAgent.match(/Edge\//);ne(le||!me||parseInt(me[1],10)>=43)}}).catch(function(){return!1})}function $(B){return typeof b=="boolean"?h.resolve(b):T(B).then(function(ne){return b=ne,b})}function M(B){var ne=y[B.name],W={};W.promise=new h(function(ue,me){W.resolve=ue,W.reject=me}),ne.deferredOperations.push(W),ne.dbReady?ne.dbReady=ne.dbReady.then(function(){return W.promise}):ne.dbReady=W.promise}function P(B){var ne=y[B.name],W=ne.deferredOperations.pop();if(W)return W.resolve(),W.promise}function L(B,ne){var W=y[B.name],ue=W.deferredOperations.pop();if(ue)return ue.reject(ne),ue.promise}function j(B,ne){return new h(function(W,ue){if(y[B.name]=y[B.name]||he(),B.db)if(ne)M(B),B.db.close();else return W(B.db);var me=[B.name];ne&&me.push(B.version);var le=l.open.apply(l,me);ne&&(le.onupgradeneeded=function(Re){var ze=le.result;try{ze.createObjectStore(B.storeName),Re.oldVersion<=1&&ze.createObjectStore(v)}catch(qe){if(qe.name==="ConstraintError")console.warn('The database "'+B.name+'" has been upgraded from version '+Re.oldVersion+" to version "+Re.newVersion+', but the storage "'+B.storeName+'" already exists.');else throw qe}}),le.onerror=function(Re){Re.preventDefault(),ue(le.error)},le.onsuccess=function(){var Re=le.result;Re.onversionchange=function(ze){ze.target.close()},W(Re),P(B)}})}function te(B){return j(B,!1)}function U(B){return j(B,!0)}function N(B,ne){if(!B.db)return!0;var W=!B.db.objectStoreNames.contains(B.storeName),ue=B.version<B.db.version,me=B.version>B.db.version;if(ue&&(B.version!==ne&&console.warn('The database "'+B.name+`" can't be downgraded from version `+B.db.version+" to version "+B.version+"."),B.version=B.db.version),me||W){if(W){var le=B.db.version+1;le>B.version&&(B.version=le)}return!0}return!1}function z(B){return new h(function(ne,W){var ue=new FileReader;ue.onerror=W,ue.onloadend=function(me){var le=btoa(me.target.result||"");ne({__local_forage_encoded_blob:!0,data:le,type:B.type})},ue.readAsBinaryString(B)})}function K(B){var ne=S(atob(B.data));return d([ne],{type:B.type})}function re(B){return B&&B.__local_forage_encoded_blob}function Q(B){var ne=this,W=ne._initReady().then(function(){var ue=y[ne._dbInfo.name];if(ue&&ue.dbReady)return ue.dbReady});return m(W,B,B),W}function D(B){M(B);for(var ne=y[B.name],W=ne.forages,ue=0;ue<W.length;ue++){var me=W[ue];me._dbInfo.db&&(me._dbInfo.db.close(),me._dbInfo.db=null)}return B.db=null,te(B).then(function(le){return B.db=le,N(B)?U(B):le}).then(function(le){B.db=ne.db=le;for(var Re=0;Re<W.length;Re++)W[Re]._dbInfo.db=le}).catch(function(le){throw L(B,le),le})}function se(B,ne,W,ue){ue===void 0&&(ue=1);try{var me=B.db.transaction(B.storeName,ne);W(null,me)}catch(le){if(ue>0&&(!B.db||le.name==="InvalidStateError"||le.name==="NotFoundError"))return h.resolve().then(function(){if(!B.db||le.name==="NotFoundError"&&!B.db.objectStoreNames.contains(B.storeName)&&B.version<=B.db.version)return B.db&&(B.version=B.db.version+1),U(B)}).then(function(){return D(B).then(function(){se(B,ne,W,ue-1)})}).catch(W);W(le)}}function he(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function E(B){var ne=this,W={db:null};if(B)for(var ue in B)W[ue]=B[ue];var me=y[W.name];me||(me=he(),y[W.name]=me),me.forages.push(ne),ne._initReady||(ne._initReady=ne.ready,ne.ready=Q);var le=[];function Re(){return h.resolve()}for(var ze=0;ze<me.forages.length;ze++){var qe=me.forages[ze];qe!==ne&&le.push(qe._initReady().catch(Re))}var Ye=me.forages.slice(0);return h.all(le).then(function(){return W.db=me.db,te(W)}).then(function(tt){return W.db=tt,N(W,ne._defaultConfig.version)?U(W):tt}).then(function(tt){W.db=me.db=tt,ne._dbInfo=W;for(var _t=0;_t<Ye.length;_t++){var dn=Ye[_t];dn!==ne&&(dn._dbInfo.db=W.db,dn._dbInfo.version=W.version)}})}function De(B,ne){var W=this;B=g(B);var ue=new h(function(me,le){W.ready().then(function(){se(W._dbInfo,x,function(Re,ze){if(Re)return le(Re);try{var qe=ze.objectStore(W._dbInfo.storeName),Ye=qe.get(B);Ye.onsuccess=function(){var tt=Ye.result;tt===void 0&&(tt=null),re(tt)&&(tt=K(tt)),me(tt)},Ye.onerror=function(){le(Ye.error)}}catch(tt){le(tt)}})}).catch(le)});return f(ue,ne),ue}function pe(B,ne){var W=this,ue=new h(function(me,le){W.ready().then(function(){se(W._dbInfo,x,function(Re,ze){if(Re)return le(Re);try{var qe=ze.objectStore(W._dbInfo.storeName),Ye=qe.openCursor(),tt=1;Ye.onsuccess=function(){var _t=Ye.result;if(_t){var dn=_t.value;re(dn)&&(dn=K(dn));var Fn=B(dn,_t.key,tt++);Fn!==void 0?me(Fn):_t.continue()}else me()},Ye.onerror=function(){le(Ye.error)}}catch(_t){le(_t)}})}).catch(le)});return f(ue,ne),ue}function ct(B,ne,W){var ue=this;B=g(B);var me=new h(function(le,Re){var ze;ue.ready().then(function(){return ze=ue._dbInfo,C.call(ne)==="[object Blob]"?$(ze.db).then(function(qe){return qe?ne:z(ne)}):ne}).then(function(qe){se(ue._dbInfo,O,function(Ye,tt){if(Ye)return Re(Ye);try{var _t=tt.objectStore(ue._dbInfo.storeName);qe===null&&(qe=void 0);var dn=_t.put(qe,B);tt.oncomplete=function(){qe===void 0&&(qe=null),le(qe)},tt.onabort=tt.onerror=function(){var Fn=dn.error?dn.error:dn.transaction.error;Re(Fn)}}catch(Fn){Re(Fn)}})}).catch(Re)});return f(me,W),me}function Mt(B,ne){var W=this;B=g(B);var ue=new h(function(me,le){W.ready().then(function(){se(W._dbInfo,O,function(Re,ze){if(Re)return le(Re);try{var qe=ze.objectStore(W._dbInfo.storeName),Ye=qe.delete(B);ze.oncomplete=function(){me()},ze.onerror=function(){le(Ye.error)},ze.onabort=function(){var tt=Ye.error?Ye.error:Ye.transaction.error;le(tt)}}catch(tt){le(tt)}})}).catch(le)});return f(ue,ne),ue}function At(B){var ne=this,W=new h(function(ue,me){ne.ready().then(function(){se(ne._dbInfo,O,function(le,Re){if(le)return me(le);try{var ze=Re.objectStore(ne._dbInfo.storeName),qe=ze.clear();Re.oncomplete=function(){ue()},Re.onabort=Re.onerror=function(){var Ye=qe.error?qe.error:qe.transaction.error;me(Ye)}}catch(Ye){me(Ye)}})}).catch(me)});return f(W,B),W}function on(B){var ne=this,W=new h(function(ue,me){ne.ready().then(function(){se(ne._dbInfo,x,function(le,Re){if(le)return me(le);try{var ze=Re.objectStore(ne._dbInfo.storeName),qe=ze.count();qe.onsuccess=function(){ue(qe.result)},qe.onerror=function(){me(qe.error)}}catch(Ye){me(Ye)}})}).catch(me)});return f(W,B),W}function Wt(B,ne){var W=this,ue=new h(function(me,le){if(B<0){me(null);return}W.ready().then(function(){se(W._dbInfo,x,function(Re,ze){if(Re)return le(Re);try{var qe=ze.objectStore(W._dbInfo.storeName),Ye=!1,tt=qe.openKeyCursor();tt.onsuccess=function(){var _t=tt.result;if(!_t){me(null);return}B===0||Ye?me(_t.key):(Ye=!0,_t.advance(B))},tt.onerror=function(){le(tt.error)}}catch(_t){le(_t)}})}).catch(le)});return f(ue,ne),ue}function bn(B){var ne=this,W=new h(function(ue,me){ne.ready().then(function(){se(ne._dbInfo,x,function(le,Re){if(le)return me(le);try{var ze=Re.objectStore(ne._dbInfo.storeName),qe=ze.openKeyCursor(),Ye=[];qe.onsuccess=function(){var tt=qe.result;if(!tt){ue(Ye);return}Ye.push(tt.key),tt.continue()},qe.onerror=function(){me(qe.error)}}catch(tt){me(tt)}})}).catch(me)});return f(W,B),W}function Or(B,ne){ne=p.apply(this,arguments);var W=this.config();B=typeof B!="function"&&B||{},B.name||(B.name=B.name||W.name,B.storeName=B.storeName||W.storeName);var ue=this,me;if(!B.name)me=h.reject("Invalid arguments");else{var le=B.name===W.name&&ue._dbInfo.db,Re=le?h.resolve(ue._dbInfo.db):te(B).then(function(ze){var qe=y[B.name],Ye=qe.forages;qe.db=ze;for(var tt=0;tt<Ye.length;tt++)Ye[tt]._dbInfo.db=ze;return ze});B.storeName?me=Re.then(function(ze){if(ze.objectStoreNames.contains(B.storeName)){var qe=ze.version+1;M(B);var Ye=y[B.name],tt=Ye.forages;ze.close();for(var _t=0;_t<tt.length;_t++){var dn=tt[_t];dn._dbInfo.db=null,dn._dbInfo.version=qe}var Fn=new h(function(Bn,wr){var Zn=l.open(B.name,qe);Zn.onerror=function(Ys){var Nd=Zn.result;Nd.close(),wr(Ys)},Zn.onupgradeneeded=function(){var Ys=Zn.result;Ys.deleteObjectStore(B.storeName)},Zn.onsuccess=function(){var Ys=Zn.result;Ys.close(),Bn(Ys)}});return Fn.then(function(Bn){Ye.db=Bn;for(var wr=0;wr<tt.length;wr++){var Zn=tt[wr];Zn._dbInfo.db=Bn,P(Zn._dbInfo)}}).catch(function(Bn){throw(L(B,Bn)||h.resolve()).catch(function(){}),Bn})}}):me=Re.then(function(ze){M(B);var qe=y[B.name],Ye=qe.forages;ze.close();for(var tt=0;tt<Ye.length;tt++){var _t=Ye[tt];_t._dbInfo.db=null}var dn=new h(function(Fn,Bn){var wr=l.deleteDatabase(B.name);wr.onerror=function(){var Zn=wr.result;Zn&&Zn.close(),Bn(wr.error)},wr.onblocked=function(){console.warn('dropInstance blocked for database "'+B.name+'" until all open connections are closed')},wr.onsuccess=function(){var Zn=wr.result;Zn&&Zn.close(),Fn(Zn)}});return dn.then(function(Fn){qe.db=Fn;for(var Bn=0;Bn<Ye.length;Bn++){var wr=Ye[Bn];P(wr._dbInfo)}}).catch(function(Fn){throw(L(B,Fn)||h.resolve()).catch(function(){}),Fn})})}return f(me,ne),me}var dr={_driver:"asyncStorage",_initStorage:E,_support:c(),iterate:pe,getItem:De,setItem:ct,removeItem:Mt,clear:At,length:on,key:Wt,keys:bn,dropInstance:Or};function ui(){return typeof openDatabase=="function"}var $n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gn="~~local_forage_type~",Kr=/^~~local_forage_type~([^~]+)~/,xt="__lfsc__:",Si=xt.length,hr="arbf",Mn="blob",Va="si08",Ws="ui08",wl="uic8",kl="si16",oe="si32",Oe="ur16",Ke="ui32",gt="fl32",It="fl64",sr=Si+hr.length,ys=Object.prototype.toString;function os(B){var ne=B.length*.75,W=B.length,ue,me=0,le,Re,ze,qe;B[B.length-1]==="="&&(ne--,B[B.length-2]==="="&&ne--);var Ye=new ArrayBuffer(ne),tt=new Uint8Array(Ye);for(ue=0;ue<W;ue+=4)le=$n.indexOf(B[ue]),Re=$n.indexOf(B[ue+1]),ze=$n.indexOf(B[ue+2]),qe=$n.indexOf(B[ue+3]),tt[me++]=le<<2|Re>>4,tt[me++]=(Re&15)<<4|ze>>2,tt[me++]=(ze&3)<<6|qe&63;return Ye}function na(B){var ne=new Uint8Array(B),W="",ue;for(ue=0;ue<ne.length;ue+=3)W+=$n[ne[ue]>>2],W+=$n[(ne[ue]&3)<<4|ne[ue+1]>>4],W+=$n[(ne[ue+1]&15)<<2|ne[ue+2]>>6],W+=$n[ne[ue+2]&63];return ne.length%3===2?W=W.substring(0,W.length-1)+"=":ne.length%3===1&&(W=W.substring(0,W.length-2)+"=="),W}function ra(B,ne){var W="";if(B&&(W=ys.call(B)),B&&(W==="[object ArrayBuffer]"||B.buffer&&ys.call(B.buffer)==="[object ArrayBuffer]")){var ue,me=xt;B instanceof ArrayBuffer?(ue=B,me+=hr):(ue=B.buffer,W==="[object Int8Array]"?me+=Va:W==="[object Uint8Array]"?me+=Ws:W==="[object Uint8ClampedArray]"?me+=wl:W==="[object Int16Array]"?me+=kl:W==="[object Uint16Array]"?me+=Oe:W==="[object Int32Array]"?me+=oe:W==="[object Uint32Array]"?me+=Ke:W==="[object Float32Array]"?me+=gt:W==="[object Float64Array]"?me+=It:ne(new Error("Failed to get type for BinaryArray"))),ne(me+na(ue))}else if(W==="[object Blob]"){var le=new FileReader;le.onload=function(){var Re=gn+B.type+"~"+na(this.result);ne(xt+Mn+Re)},le.readAsArrayBuffer(B)}else try{ne(JSON.stringify(B))}catch(Re){console.error("Couldn't convert value into a JSON string: ",B),ne(null,Re)}}function xi(B){if(B.substring(0,Si)!==xt)return JSON.parse(B);var ne=B.substring(sr),W=B.substring(Si,sr),ue;if(W===Mn&&Kr.test(ne)){var me=ne.match(Kr);ue=me[1],ne=ne.substring(me[0].length)}var le=os(ne);switch(W){case hr:return le;case Mn:return d([le],{type:ue});case Va:return new Int8Array(le);case Ws:return new Uint8Array(le);case wl:return new Uint8ClampedArray(le);case kl:return new Int16Array(le);case Oe:return new Uint16Array(le);case oe:return new Int32Array(le);case Ke:return new Uint32Array(le);case gt:return new Float32Array(le);case It:return new Float64Array(le);default:throw new Error("Unkown type: "+W)}}var po={serialize:ra,deserialize:xi,stringToBuffer:os,bufferToString:na};function Xs(B,ne,W,ue){B.executeSql("CREATE TABLE IF NOT EXISTS "+ne.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],W,ue)}function bc(B){var ne=this,W={db:null};if(B)for(var ue in B)W[ue]=typeof B[ue]!="string"?B[ue].toString():B[ue];var me=new h(function(le,Re){try{W.db=openDatabase(W.name,String(W.version),W.description,W.size)}catch(ze){return Re(ze)}W.db.transaction(function(ze){Xs(ze,W,function(){ne._dbInfo=W,le()},function(qe,Ye){Re(Ye)})},Re)});return W.serializer=po,me}function ja(B,ne,W,ue,me,le){B.executeSql(W,ue,me,function(Re,ze){ze.code===ze.SYNTAX_ERR?Re.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[ne.storeName],function(qe,Ye){Ye.rows.length?le(qe,ze):Xs(qe,ne,function(){qe.executeSql(W,ue,me,le)},le)},le):le(Re,ze)},le)}function Qw(B,ne){var W=this;B=g(B);var ue=new h(function(me,le){W.ready().then(function(){var Re=W._dbInfo;Re.db.transaction(function(ze){ja(ze,Re,"SELECT * FROM "+Re.storeName+" WHERE key = ? LIMIT 1",[B],function(qe,Ye){var tt=Ye.rows.length?Ye.rows.item(0).value:null;tt&&(tt=Re.serializer.deserialize(tt)),me(tt)},function(qe,Ye){le(Ye)})})}).catch(le)});return f(ue,ne),ue}function Uw(B,ne){var W=this,ue=new h(function(me,le){W.ready().then(function(){var Re=W._dbInfo;Re.db.transaction(function(ze){ja(ze,Re,"SELECT * FROM "+Re.storeName,[],function(qe,Ye){for(var tt=Ye.rows,_t=tt.length,dn=0;dn<_t;dn++){var Fn=tt.item(dn),Bn=Fn.value;if(Bn&&(Bn=Re.serializer.deserialize(Bn)),Bn=B(Bn,Fn.key,dn+1),Bn!==void 0){me(Bn);return}}me()},function(qe,Ye){le(Ye)})})}).catch(le)});return f(ue,ne),ue}function vf(B,ne,W,ue){var me=this;B=g(B);var le=new h(function(Re,ze){me.ready().then(function(){ne===void 0&&(ne=null);var qe=ne,Ye=me._dbInfo;Ye.serializer.serialize(ne,function(tt,_t){_t?ze(_t):Ye.db.transaction(function(dn){ja(dn,Ye,"INSERT OR REPLACE INTO "+Ye.storeName+" (key, value) VALUES (?, ?)",[B,tt],function(){Re(qe)},function(Fn,Bn){ze(Bn)})},function(dn){if(dn.code===dn.QUOTA_ERR){if(ue>0){Re(vf.apply(me,[B,qe,W,ue-1]));return}ze(dn)}})})}).catch(ze)});return f(le,W),le}function Id(B,ne,W){return vf.apply(this,[B,ne,W,1])}function Vg(B,ne){var W=this;B=g(B);var ue=new h(function(me,le){W.ready().then(function(){var Re=W._dbInfo;Re.db.transaction(function(ze){ja(ze,Re,"DELETE FROM "+Re.storeName+" WHERE key = ?",[B],function(){me()},function(qe,Ye){le(Ye)})})}).catch(le)});return f(ue,ne),ue}function jg(B){var ne=this,W=new h(function(ue,me){ne.ready().then(function(){var le=ne._dbInfo;le.db.transaction(function(Re){ja(Re,le,"DELETE FROM "+le.storeName,[],function(){ue()},function(ze,qe){me(qe)})})}).catch(me)});return f(W,B),W}function qg(B){var ne=this,W=new h(function(ue,me){ne.ready().then(function(){var le=ne._dbInfo;le.db.transaction(function(Re){ja(Re,le,"SELECT COUNT(key) as c FROM "+le.storeName,[],function(ze,qe){var Ye=qe.rows.item(0).c;ue(Ye)},function(ze,qe){me(qe)})})}).catch(me)});return f(W,B),W}function $d(B,ne){var W=this,ue=new h(function(me,le){W.ready().then(function(){var Re=W._dbInfo;Re.db.transaction(function(ze){ja(ze,Re,"SELECT key FROM "+Re.storeName+" WHERE id = ? LIMIT 1",[B+1],function(qe,Ye){var tt=Ye.rows.length?Ye.rows.item(0).key:null;me(tt)},function(qe,Ye){le(Ye)})})}).catch(le)});return f(ue,ne),ue}function Vw(B){var ne=this,W=new h(function(ue,me){ne.ready().then(function(){var le=ne._dbInfo;le.db.transaction(function(Re){ja(Re,le,"SELECT key FROM "+le.storeName,[],function(ze,qe){for(var Ye=[],tt=0;tt<qe.rows.length;tt++)Ye.push(qe.rows.item(tt).key);ue(Ye)},function(ze,qe){me(qe)})})}).catch(me)});return f(W,B),W}function jw(B){return new h(function(ne,W){B.transaction(function(ue){ue.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(me,le){for(var Re=[],ze=0;ze<le.rows.length;ze++)Re.push(le.rows.item(ze).name);ne({db:B,storeNames:Re})},function(me,le){W(le)})},function(ue){W(ue)})})}function qw(B,ne){ne=p.apply(this,arguments);var W=this.config();B=typeof B!="function"&&B||{},B.name||(B.name=B.name||W.name,B.storeName=B.storeName||W.storeName);var ue=this,me;return B.name?me=new h(function(le){var Re;B.name===W.name?Re=ue._dbInfo.db:Re=openDatabase(B.name,"","",0),B.storeName?le({db:Re,storeNames:[B.storeName]}):le(jw(Re))}).then(function(le){return new h(function(Re,ze){le.db.transaction(function(qe){function Ye(Fn){return new h(function(Bn,wr){qe.executeSql("DROP TABLE IF EXISTS "+Fn,[],function(){Bn()},function(Zn,Ys){wr(Ys)})})}for(var tt=[],_t=0,dn=le.storeNames.length;_t<dn;_t++)tt.push(Ye(le.storeNames[_t]));h.all(tt).then(function(){Re()}).catch(function(Fn){ze(Fn)})},function(qe){ze(qe)})})}):me=h.reject("Invalid arguments"),f(me,ne),me}var Hw={_driver:"webSQLStorage",_initStorage:bc,_support:ui(),iterate:Uw,getItem:Qw,setItem:Id,removeItem:Vg,clear:jg,length:qg,key:$d,keys:Vw,dropInstance:qw};function Ww(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Hg(B,ne){var W=B.name+"/";return B.storeName!==ne.storeName&&(W+=B.storeName+"/"),W}function Wg(){var B="_localforage_support_test";try{return localStorage.setItem(B,!0),localStorage.removeItem(B),!1}catch{return!0}}function yc(){return!Wg()||localStorage.length>0}function Xw(B){var ne=this,W={};if(B)for(var ue in B)W[ue]=B[ue];return W.keyPrefix=Hg(B,ne._defaultConfig),yc()?(ne._dbInfo=W,W.serializer=po,h.resolve()):h.reject()}function Yw(B){var ne=this,W=ne.ready().then(function(){for(var ue=ne._dbInfo.keyPrefix,me=localStorage.length-1;me>=0;me--){var le=localStorage.key(me);le.indexOf(ue)===0&&localStorage.removeItem(le)}});return f(W,B),W}function Gw(B,ne){var W=this;B=g(B);var ue=W.ready().then(function(){var me=W._dbInfo,le=localStorage.getItem(me.keyPrefix+B);return le&&(le=me.serializer.deserialize(le)),le});return f(ue,ne),ue}function Zw(B,ne){var W=this,ue=W.ready().then(function(){for(var me=W._dbInfo,le=me.keyPrefix,Re=le.length,ze=localStorage.length,qe=1,Ye=0;Ye<ze;Ye++){var tt=localStorage.key(Ye);if(tt.indexOf(le)===0){var _t=localStorage.getItem(tt);if(_t&&(_t=me.serializer.deserialize(_t)),_t=B(_t,tt.substring(Re),qe++),_t!==void 0)return _t}}});return f(ue,ne),ue}function Kw(B,ne){var W=this,ue=W.ready().then(function(){var me=W._dbInfo,le;try{le=localStorage.key(B)}catch{le=null}return le&&(le=le.substring(me.keyPrefix.length)),le});return f(ue,ne),ue}function qa(B){var ne=this,W=ne.ready().then(function(){for(var ue=ne._dbInfo,me=localStorage.length,le=[],Re=0;Re<me;Re++){var ze=localStorage.key(Re);ze.indexOf(ue.keyPrefix)===0&&le.push(ze.substring(ue.keyPrefix.length))}return le});return f(W,B),W}function Jw(B){var ne=this,W=ne.keys().then(function(ue){return ue.length});return f(W,B),W}function ek(B,ne){var W=this;B=g(B);var ue=W.ready().then(function(){var me=W._dbInfo;localStorage.removeItem(me.keyPrefix+B)});return f(ue,ne),ue}function tk(B,ne,W){var ue=this;B=g(B);var me=ue.ready().then(function(){ne===void 0&&(ne=null);var le=ne;return new h(function(Re,ze){var qe=ue._dbInfo;qe.serializer.serialize(ne,function(Ye,tt){if(tt)ze(tt);else try{localStorage.setItem(qe.keyPrefix+B,Ye),Re(le)}catch(_t){(_t.name==="QuotaExceededError"||_t.name==="NS_ERROR_DOM_QUOTA_REACHED")&&ze(_t),ze(_t)}})})});return f(me,W),me}function nk(B,ne){if(ne=p.apply(this,arguments),B=typeof B!="function"&&B||{},!B.name){var W=this.config();B.name=B.name||W.name,B.storeName=B.storeName||W.storeName}var ue=this,me;return B.name?me=new h(function(le){B.storeName?le(Hg(B,ue._defaultConfig)):le(B.name+"/")}).then(function(le){for(var Re=localStorage.length-1;Re>=0;Re--){var ze=localStorage.key(Re);ze.indexOf(le)===0&&localStorage.removeItem(ze)}}):me=h.reject("Invalid arguments"),f(me,ne),me}var rk={_driver:"localStorageWrapper",_initStorage:Xw,_support:Ww(),iterate:Zw,getItem:Gw,setItem:tk,removeItem:ek,clear:Yw,length:Jw,key:Kw,keys:qa,dropInstance:nk},Oc=function(ne,W){return ne===W||typeof ne=="number"&&typeof W=="number"&&isNaN(ne)&&isNaN(W)},ik=function(ne,W){for(var ue=ne.length,me=0;me<ue;){if(Oc(ne[me],W))return!0;me++}return!1},c1=Array.isArray||function(B){return Object.prototype.toString.call(B)==="[object Array]"},Ld={},u1={},_u={INDEXEDDB:dr,WEBSQL:Hw,LOCALSTORAGE:rk},bf=[_u.INDEXEDDB._driver,_u.WEBSQL._driver,_u.LOCALSTORAGE._driver],yf=["dropInstance"],Xg=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(yf),Sl={description:"",driver:bf.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function sk(B,ne){B[ne]=function(){var W=arguments;return B.ready().then(function(){return B[ne].apply(B,W)})}}function Yg(){for(var B=1;B<arguments.length;B++){var ne=arguments[B];if(ne)for(var W in ne)ne.hasOwnProperty(W)&&(c1(ne[W])?arguments[0][W]=ne[W].slice():arguments[0][W]=ne[W])}return arguments[0]}var ok=function(){function B(ne){o(this,B);for(var W in _u)if(_u.hasOwnProperty(W)){var ue=_u[W],me=ue._driver;this[W]=me,Ld[me]||this.defineDriver(ue)}this._defaultConfig=Yg({},Sl),this._config=Yg({},this._defaultConfig,ne),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return B.prototype.config=function(W){if((typeof W>"u"?"undefined":s(W))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var ue in W){if(ue==="storeName"&&(W[ue]=W[ue].replace(/\W/g,"_")),ue==="version"&&typeof W[ue]!="number")return new Error("Database version must be a number.");this._config[ue]=W[ue]}return"driver"in W&&W.driver?this.setDriver(this._config.driver):!0}else return typeof W=="string"?this._config[W]:this._config},B.prototype.defineDriver=function(W,ue,me){var le=new h(function(Re,ze){try{var qe=W._driver,Ye=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!W._driver){ze(Ye);return}for(var tt=Xg.concat("_initStorage"),_t=0,dn=tt.length;_t<dn;_t++){var Fn=tt[_t],Bn=!ik(yf,Fn);if((Bn||W[Fn])&&typeof W[Fn]!="function"){ze(Ye);return}}var wr=function(){for(var Nd=function(ck){return function(){var uk=new Error("Method "+ck+" is not implemented by the current driver"),xl=h.reject(uk);return f(xl,arguments[arguments.length-1]),xl}},ia=0,lk=yf.length;ia<lk;ia++){var Gg=yf[ia];W[Gg]||(W[Gg]=Nd(Gg))}};wr();var Zn=function(Nd){Ld[qe]&&console.info("Redefining LocalForage driver: "+qe),Ld[qe]=W,u1[qe]=Nd,Re()};"_support"in W?W._support&&typeof W._support=="function"?W._support().then(Zn,ze):Zn(!!W._support):Zn(!0)}catch(Ys){ze(Ys)}});return m(le,ue,me),le},B.prototype.driver=function(){return this._driver||null},B.prototype.getDriver=function(W,ue,me){var le=Ld[W]?h.resolve(Ld[W]):h.reject(new Error("Driver not found."));return m(le,ue,me),le},B.prototype.getSerializer=function(W){var ue=h.resolve(po);return m(ue,W),ue},B.prototype.ready=function(W){var ue=this,me=ue._driverSet.then(function(){return ue._ready===null&&(ue._ready=ue._initDriver()),ue._ready});return m(me,W,W),me},B.prototype.setDriver=function(W,ue,me){var le=this;c1(W)||(W=[W]);var Re=this._getSupportedDrivers(W);function ze(){le._config.driver=le.driver()}function qe(_t){return le._extend(_t),ze(),le._ready=le._initStorage(le._config),le._ready}function Ye(_t){return function(){var dn=0;function Fn(){for(;dn<_t.length;){var Bn=_t[dn];return dn++,le._dbInfo=null,le._ready=null,le.getDriver(Bn).then(qe).catch(Fn)}ze();var wr=new Error("No available storage method found.");return le._driverSet=h.reject(wr),le._driverSet}return Fn()}}var tt=this._driverSet!==null?this._driverSet.catch(function(){return h.resolve()}):h.resolve();return this._driverSet=tt.then(function(){var _t=Re[0];return le._dbInfo=null,le._ready=null,le.getDriver(_t).then(function(dn){le._driver=dn._driver,ze(),le._wrapLibraryMethodsWithReady(),le._initDriver=Ye(Re)})}).catch(function(){ze();var _t=new Error("No available storage method found.");return le._driverSet=h.reject(_t),le._driverSet}),m(this._driverSet,ue,me),this._driverSet},B.prototype.supports=function(W){return!!u1[W]},B.prototype._extend=function(W){Yg(this,W)},B.prototype._getSupportedDrivers=function(W){for(var ue=[],me=0,le=W.length;me<le;me++){var Re=W[me];this.supports(Re)&&ue.push(Re)}return ue},B.prototype._wrapLibraryMethodsWithReady=function(){for(var W=0,ue=Xg.length;W<ue;W++)sk(this,Xg[W])},B.prototype.createInstance=function(W){return new B(W)},B}(),ak=new ok;r.exports=ak},{3:3}]},{},[4])(4)})})(uj);var A7e=uj.exports;const d9=Jo(A7e);class ta{_storeHint=!0;state;key;constructor(e,n){this.state=e,this.key=n}getKey(){return this.key}set=(...e)=>{this.state.set(this.key,...e)};get(){return this.state.get(this.key)}}class P7e extends ta{constructor(e){super(e,"auth")}hydrate(){}default(){return{session:void 0}}clean(e){let n;return typeof e.session=="object"&&typeof e.session._id=="string"&&typeof e.session.token=="string"&&typeof e.session.userId=="string"&&e.session.valid&&(n={_id:e.session._id,token:e.session.token,userId:e.session.userId,valid:!0}),{session:n}}getSession(){return this.get().session}setSession(e){this.set("session",e)}removeSession(){this.set("session",void 0)}markValid(){const e=this.get().session;e&&!e.valid&&this.set("session","valid",!0)}}var Qo=(t=>(t.PRIMARY_SIDEBAR="PRIMARY_SIDEBAR",t.MEMBER_SIDEBAR="MEMBER_SIDEBAR",t.MENTION_REPLY="MENTION_REPLY",t.MATURE="nsfw",t))(Qo||{});let R7e=class extends ta{constructor(e){super(e,"layout")}hydrate(){}default(){return{activeInterface:"home",activePath:{home:"/",discover:"/discover/servers"},openSections:{}}}clean(e){const n=this.default();if(typeof e.nextPath=="string"&&(n.nextPath=e.nextPath),typeof e.activeInterface=="string"&&(n.activeInterface=e.activeInterface),typeof e.activePath=="object")for(const r of Object.keys(e.activePath))typeof e.activePath[r]=="string"&&(n.activePath[r]=e.activePath[r]);if(typeof e.openSections=="object")for(const r of Object.keys(e.openSections))typeof e.openSections[r]=="boolean"&&(n.openSections[r]=e.openSections[r]);return n}popNextPath(){const e=this.get().nextPath;return this.set("nextPath",void 0),e}getLastActivePath(){const e=this.get().activeInterface;return this.get().activePath[e]??"/"}getLastActiveDiscoverPath(){return this.get().activePath.discover}getLastActiveServerPath(e){return this.get().activePath[e]??`/server/${e}`}setNextPath(e){this.set("nextPath",e)}setLastActivePath(e){if(e.startsWith("/settings")||e.startsWith("/invite"))return;const n=OO(e),r=e.startsWith("/discover")?"discover":n.serverId??"home";this.set("activeInterface",r),this.set("activePath",r,e)}getSectionState(e,n=!1){return this.get().openSections[e]??n}setSectionState(e,n,r=!1){this.set("openSections",e,n===r?void 0:n)}toggleSectionState(e,n){this.setSectionState(e,!this.getSectionState(e,n),n)}};const r_=["image/jpeg","image/png","image/gif","image/webp"];class M7e extends ta{fileCache;textSelection;_setNodeReplacement;constructor(e){super(e,"draft"),this.fileCache={},this.getFile=this.getFile.bind(this),this.setEditingMessageContent=this.setEditingMessageContent.bind(this)}hydrate(){}default(){return{drafts:{},outbox:{}}}clean(e){const n={},r={},i=a=>Array.isArray(a)&&a.length&&!a.find(l=>typeof l!="object"||typeof l.id!="string"||typeof l.mention!="boolean"),s=e.drafts;if(typeof s=="object")for(const a of Object.keys(s)){const l=s?.[a],c={};typeof l?.content=="string"&&l.content&&(c.content=l.content),i(l?.replies)&&(c.replies=l.replies),Object.keys(c).length&&(n[a]=c)}const o=e.outbox;if(typeof o=="object")for(const a of Object.keys(o)){const l=o[a],c=[];if(Array.isArray(l)){for(const d of l)if(typeof d=="object"&&["sending","unsent","failed"].includes(d.status)&&typeof d.idempotencyKey=="string"&&typeof d.content=="string"){const h={idempotencyKey:d.idempotencyKey,content:d.content,status:"unsent"};i(d.replies)&&(h.replies=d.replies),c.push(h)}}r[a]=c}return{drafts:n,outbox:r}}getDraft(e){return this.get().drafts[e]??{}}hasDraft(e){const n=this.get().drafts[e];return n&&n.content.length>0}setDraft(e,n){if(typeof n=="function"&&(n=n(this.getDraft(e))),typeof n>"u")return console.info("[draft] cleared!"),this.clearDraft(e);console.info("[draft] updated to ",n),this.set("drafts",e,n)}clearDraft(e){const n=this.getDraft(e)?.files??[];for(const r of n)delete this.fileCache[r];this.setDraft(e,{content:"",replies:[],files:[]})}async sendDraft(e,n,r){const i=r??this.popDraft(n.id);if(!i.content&&!i.files?.length)return;const s=D0();this.set("outbox",n.id,[...this.getPendingMessages(n.id),{...i,idempotencyKey:s,status:"sending"}]);const{content:o,replies:a,files:l}=i,c=[],d={content:o,replies:a,attachments:c};if(l?.length)for(const h of l){const f=new FormData,{file:m,autumnId:g,uploadProgress:p}=this.getFile(h);if(g){c.push(g);continue}f.set("file",m);const v=new XMLHttpRequest,[b,y]=await new Promise(C=>{v.upload.addEventListener("progress",S=>{S.lengthComputable&&p[1](S.loaded/S.total)}),v.addEventListener("loadend",()=>{p[1](1),C([v.readyState===4&&v.status===200,v.response])}),v.open("POST",`${e.configuration.features.autumn.url}/attachments`,!0);const[x,O]=e.authenticationHeader;v.setRequestHeader(x,O),v.responseType="json",v.send(f)});if(!b)throw"Upload Error";c.push(y.id),this.fileCache[h].autumnId=y.id}c.length||delete d.attachments;try{if(await n.sendMessage(d,s),l)for(const h of l)this.removeFile(n.id,h);this.set("outbox",n.id,this.getPendingMessages(n.id).filter(h=>h.idempotencyKey!==s))}catch{this.set("outbox",n.id,this.getPendingMessages(n.id).map(h=>h.idempotencyKey===s?{...h,status:"failed"}:h))}}popDraft(e){const{content:n,replies:r,files:i}=this.getDraft(e);return this.setDraft(e,{content:"",replies:[],files:i?.splice(Qn.MAX_ATTACHMENTS)}),{content:n,replies:r,files:i?.slice(0,Qn.MAX_ATTACHMENTS)}}retrySend(e,n,r){Nt(()=>{const i=this.get().outbox[n.id].find(s=>s.idempotencyKey===r);this.cancelSend(n,r),this.sendDraft(e,n,i)})}cancelSend(e,n){this.set("outbox",e.id,this.getPendingMessages(e.id).filter(r=>r.idempotencyKey!==n))}getPendingMessages(e){return this.get().outbox[e]??[]}setSelection(e,n,r){this.textSelection={channelId:e,start:n,end:r}}insertText(e){if(this.textSelection){const n=this.getDraft(this.textSelection.channelId).content??"",r=n.slice(0,this.textSelection.start),i=n.slice(this.textSelection.end,n.length);this.setDraft(this.textSelection.channelId,o=>({...o,content:r+e+i}));const s=r.length+e.length;this.textSelection={...this.textSelection,start:s,end:s}}}reset(){this.set("drafts",{})}addReply(e,n){if(this._setNodeReplacement?.(["_focus"]),this.getDraft(e.channelId).replies?.find(i=>i.id===e.id)||(this.getDraft(e.channelId).replies?.length??0)>=Qn.MAX_REPLIES)return;const r=e.authorId!==n&&this.state.layout.getSectionState(Qo.MENTION_REPLY);this.setDraft(e.channelId,i=>({replies:[...i.replies??[],{id:e.id,mention:r}]}))}toggleReplyMention(e,n){this.setDraft(e,r=>({replies:r.replies?.map(i=>i.id===n?(this.state.layout.setSectionState(Qo.MENTION_REPLY,!i.mention),{...i,mention:!i.mention}):i)}))}removeReply(e,n){this.setDraft(e,r=>({replies:r.replies?.filter(i=>i.id!==n)}))}async addFile(e,n){const r=Pwe();this.fileCache[r]={file:n,dataUri:r_.includes(n.type)?URL.createObjectURL(n):void 0,uploadProgress:ve(0)},this.fileCache[r].dataUri&&await new Promise((i,s)=>{const o=new Image;o.onload=()=>{this.fileCache[r].dimensions=[o.width,o.height],i(void 0)},o.onerror=s,o.src=this.fileCache[r].dataUri}).catch(()=>{}),this.setDraft(e,i=>({files:[...i.files??[],r]}))}deleteFile(e){const n=this.fileCache[e];n?.dataUri&&URL.revokeObjectURL(n.dataUri),delete this.fileCache[e]}removeFile(e,n){this.deleteFile(n),this.setDraft(e,r=>({files:r.files?.filter(i=>i!==n)}))}getFile(e){return this.fileCache[e]}hasAdditionalElements(e){const n=this.getDraft(e);return!!(n.replies?.length||n.files?.length)}popFromDraft(e){const n=this.getDraft(e);return n.replies?.length?(this.setDraft(e,{replies:n.replies.slice(0,n.replies.length-1)}),!0):n.files?.length?(this.setDraft(e,{files:n.files.slice(0,n.files.length-1)}),!0):!1}setEditingMessage(e){Nt(()=>{e instanceof Lm?this.set("editingMessageContent",e.content):this.set("editingMessageContent",void 0),this.set("editingMessageId",e instanceof Lm?e.id:e)})}setEditingMessageContent(e){this.set("editingMessageContent",e)}get editingMessageId(){return this.get().editingMessageId}get editingMessageContent(){return this.get().editingMessageContent}}const dj=["gif_picker","plugins"],I7e=[],h9={gif_picker:{title:"GIF Picker Placeholder",description:"Not available yet."},plugins:{title:"Plugins v2 Placeholder",description:"Not available yet."}};class $7e extends ta{constructor(e){super(e,"experiments"),this.toggleSafeMode=this.toggleSafeMode.bind(this)}hydrate(){}default(){return{enabled:I7e,safeMode:!1}}clean(e){const n=new Set;if(e.enabled)for(const r of e.enabled)dj.includes(r)&&n.add(r);return{enabled:[...n],safeMode:!1}}isEnabled(e){return!this.get().safeMode&&this.get().enabled.includes(e)}enable(e){this.isEnabled(e)||this.set("enabled",n=>[...n,e])}disable(e){this.isEnabled(e)&&this.set("enabled",n=>n.filter(r=>r!==e))}setEnabled(e,n){n?this.enable(e):this.disable(e)}toggleSafeMode(){this.set("safeMode",e=>!e)}reset(){this.set("enabled",[])}}class L7e extends ta{constructor(e){super(e,"keybinds")}hydrate(){}default(){return{}}clean(e){return{}}}class N7e extends ta{constructor(e){super(e,"linkSafety")}hydrate(){}default(){return{savedOrigins:[]}}clean(e){return{savedOrigins:e.savedOrigins?.filter(n=>typeof n=="string")??[]}}isTrusted(e){return this.get().savedOrigins.includes(e.origin)}trust(e){this.set("savedOrigins",[...this.get().savedOrigins,e.origin])}}const F7e="modulepreload",B7e=function(t){return"/DRKZXCHAT/"+t},f9={},R=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");i=Promise.allSettled(n.map(l=>{if(l=B7e(l),l in f9)return;f9[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":F7e,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},hj=(t,e,n)=>{const r=t[e];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((i,s)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})};var fj={},mj={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.errorMessages=t.ErrorType=void 0;var e;(function(n){n.MalformedUnicode="MALFORMED_UNICODE",n.MalformedHexadecimal="MALFORMED_HEXADECIMAL",n.CodePointLimit="CODE_POINT_LIMIT",n.OctalDeprecation="OCTAL_DEPRECATION",n.EndOfString="END_OF_STRING"})(e=t.ErrorType||(t.ErrorType={})),t.errorMessages=new Map([[e.MalformedUnicode,"malformed Unicode character escape sequence"],[e.MalformedHexadecimal,"malformed hexadecimal character escape sequence"],[e.CodePointLimit,"Unicode codepoint must not be greater than 0x10FFFF in escape sequence"],[e.OctalDeprecation,'"0"-prefixed octal literals and octal escape sequences are deprecated; for octal literals use the "0o" prefix instead'],[e.EndOfString,"malformed escape sequence at end of string"]])})(mj);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.unraw=t.errorMessages=t.ErrorType=void 0;const e=mj;Object.defineProperty(t,"ErrorType",{enumerable:!0,get:function(){return e.ErrorType}}),Object.defineProperty(t,"errorMessages",{enumerable:!0,get:function(){return e.errorMessages}});function n(m){return!m.match(/[^a-f0-9]/i)?parseInt(m,16):NaN}function r(m,g,p){const v=n(m);if(Number.isNaN(v)||p!==void 0&&p!==m.length)throw new SyntaxError(e.errorMessages.get(g));return v}function i(m){const g=r(m,e.ErrorType.MalformedHexadecimal,2);return String.fromCharCode(g)}function s(m,g){const p=r(m,e.ErrorType.MalformedUnicode,4);if(g!==void 0){const v=r(g,e.ErrorType.MalformedUnicode,4);return String.fromCharCode(p,v)}return String.fromCharCode(p)}function o(m){return m.charAt(0)==="{"&&m.charAt(m.length-1)==="}"}function a(m){if(!o(m))throw new SyntaxError(e.errorMessages.get(e.ErrorType.MalformedUnicode));const g=m.slice(1,-1),p=r(g,e.ErrorType.MalformedUnicode);try{return String.fromCodePoint(p)}catch(v){throw v instanceof RangeError?new SyntaxError(e.errorMessages.get(e.ErrorType.CodePointLimit)):v}}function l(m,g=!1){if(g)throw new SyntaxError(e.errorMessages.get(e.ErrorType.OctalDeprecation));const p=parseInt(m,8);return String.fromCharCode(p)}const c=new Map([["b","\b"],["f","\f"],["n",`
`],["r","\r"],["t","	"],["v","\v"],["0","\0"]]);function d(m){return c.get(m)||m}const h=/\\(?:(\\)|x([\s\S]{0,2})|u(\{[^}]*\}?)|u([\s\S]{4})\\u([^{][\s\S]{0,3})|u([\s\S]{0,4})|([0-3]?[0-7]{1,2})|([\s\S])|$)/g;function f(m,g=!1){return m.replace(h,function(p,v,b,y,C,x,O,S,T){if(v!==void 0)return"\\";if(b!==void 0)return i(b);if(y!==void 0)return a(y);if(C!==void 0)return s(C,x);if(O!==void 0)return s(O);if(S==="0")return"\0";if(S!==void 0)return l(S,!g);if(T!==void 0)return d(T);throw new SyntaxError(e.errorMessages.get(e.ErrorType.EndOfString))})}t.unraw=f,t.default=f})(fj);const Zu=t=>typeof t=="string",z7e=t=>typeof t=="function",m9=new Map,gj="en";function jE(t){return[...Array.isArray(t)?t:[t],gj]}function qE(t,e,n){const r=jE(t);n||(n="default");let i;if(typeof n=="string")switch(i={day:"numeric",month:"short",year:"numeric"},n){case"full":i.weekday="long";case"long":i.month="long";break;case"short":i.month="numeric";break}else i=n;return w2(()=>k2("date",r,n),()=>new Intl.DateTimeFormat(r,i)).format(Zu(e)?new Date(e):e)}function Q7e(t,e,n){let r;if(n||(n="default"),typeof n=="string")switch(r={second:"numeric",minute:"numeric",hour:"numeric"},n){case"full":case"long":r.timeZoneName="short";break;case"short":delete r.second}else r=n;return qE(t,e,r)}function i_(t,e,n){const r=jE(t);return w2(()=>k2("number",r,n),()=>new Intl.NumberFormat(r,n)).format(e)}function g9(t,e,n,{offset:r=0,...i}){const s=jE(t),o=e?w2(()=>k2("plural-ordinal",s),()=>new Intl.PluralRules(s,{type:"ordinal"})):w2(()=>k2("plural-cardinal",s),()=>new Intl.PluralRules(s,{type:"cardinal"}));return i[n]??i[o.select(n-r)]??i.other}function w2(t,e){const n=t();let r=m9.get(n);return r||(r=e(),m9.set(n,r)),r}function k2(t,e,n){const r=e.join("-");return`${t}-${r}-${JSON.stringify(n)}`}const pj=/\\u[a-fA-F0-9]{4}|\\x[a-fA-F0-9]{2}/,vj="%__lingui_octothorpe__%",U7e=(t,e,n={})=>{const r=e||t,i=o=>typeof o=="object"?o:n[o],s=(o,a)=>{const l=Object.keys(n).length?i("number"):void 0,c=i_(r,o,l);return a.replace(new RegExp(vj,"g"),c)};return{plural:(o,a)=>{const{offset:l=0}=a,c=g9(r,!1,o,a);return s(o-l,c)},selectordinal:(o,a)=>{const{offset:l=0}=a,c=g9(r,!0,o,a);return s(o-l,c)},select:V7e,number:(o,a)=>i_(r,o,i(a)||{style:a}),date:(o,a)=>qE(r,o,i(a)||a),time:(o,a)=>Q7e(r,o,i(a)||a)}},V7e=(t,e)=>e[t]??e.other;function j7e(t,e,n){return(r={},i)=>{const s=U7e(e,n,i),o=(l,c=!1)=>Array.isArray(l)?l.reduce((d,h)=>{if(h==="#"&&c)return d+vj;if(Zu(h))return d+h;const[f,m,g]=h;let p={};m==="plural"||m==="selectordinal"||m==="select"?Object.entries(g).forEach(([b,y])=>{p[b]=o(y,m==="plural"||m==="selectordinal")}):p=g;let v;if(m){const b=s[m];v=b(r[f],p)}else v=r[f];return v==null?d:d+v},""):l,a=o(t);return Zu(a)&&pj.test(a)?fj.unraw(a):Zu(a)?a:a?String(a):""}}var q7e=Object.defineProperty,H7e=(t,e,n)=>e in t?q7e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,W7e=(t,e,n)=>(H7e(t,e+"",n),n);class X7e{constructor(){W7e(this,"_events",{})}on(e,n){var r;return(r=this._events)[e]??(r[e]=[]),this._events[e].push(n),()=>this.removeListener(e,n)}removeListener(e,n){const r=this._getListeners(e);if(!r)return;const i=r.indexOf(n);~i&&r.splice(i,1)}emit(e,...n){const r=this._getListeners(e);r&&r.map(i=>i.apply(this,n))}_getListeners(e){const n=this._events[e];return Array.isArray(n)?n:!1}}var Y7e=Object.defineProperty,G7e=(t,e,n)=>e in t?Y7e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xd=(t,e,n)=>(G7e(t,typeof e!="symbol"?e+"":e,n),n);class Z7e extends X7e{constructor(e){super(),Xd(this,"_locale",""),Xd(this,"_locales"),Xd(this,"_localeData",{}),Xd(this,"_messages",{}),Xd(this,"_missing"),Xd(this,"_messageCompiler"),Xd(this,"t",this._.bind(this)),e.missing!=null&&(this._missing=e.missing),e.messages!=null&&this.load(e.messages),e.localeData!=null&&this.loadLocaleData(e.localeData),(typeof e.locale=="string"||e.locales)&&this.activate(e.locale??gj,e.locales)}get locale(){return this._locale}get locales(){return this._locales}get messages(){return this._messages[this._locale]??{}}get localeData(){return this._localeData[this._locale]??{}}_loadLocaleData(e,n){const r=this._localeData[e];r?Object.assign(r,n):this._localeData[e]=n}setMessagesCompiler(e){return this._messageCompiler=e,this}loadLocaleData(e,n){typeof e=="string"?this._loadLocaleData(e,n):Object.keys(e).forEach(r=>this._loadLocaleData(r,e[r])),this.emit("change")}_load(e,n){const r=this._messages[e];r?Object.assign(r,n):this._messages[e]=n}load(e,n){typeof e=="string"&&typeof n=="object"?this._load(e,n):Object.entries(e).forEach(([r,i])=>this._load(r,i)),this.emit("change")}loadAndActivate({locale:e,locales:n,messages:r}){this._locale=e,this._locales=n||void 0,this._messages[this._locale]=r,this.emit("change")}activate(e,n){this._locale=e,this._locales=n,this.emit("change")}_(e,n,r){if(!this.locale)throw new Error("Lingui: Attempted to call a translation function without setting a locale.\nMake sure to call `i18n.activate(locale)` before using Lingui functions.\nThis issue may also occur due to a race condition in your initialization logic.");let i=r?.message;e||(e=""),Zu(e)||(n=e.values||n,i=e.message,e=e.id);const s=this.messages[e],o=s===void 0,a=this._missing;if(a&&o)return z7e(a)?a(this._locale,e):a;o&&this.emit("missing",{id:e,locale:this._locale});let l=s||i||e;return Zu(l)&&(this._messageCompiler?l=this._messageCompiler(l):console.warn(`Uncompiled message detected! Message:

> ${l}

That means you use raw catalog or your catalog doesn't have a translation for the message and fallback was used.
ICU features such as interpolation and plurals will not work properly for that message. 

Please compile your catalog first. 
`)),Zu(l)&&pj.test(l)?JSON.parse(`"${l}"`):Zu(l)?l:j7e(l,this._locale,this._locales)(n,r?.formats)}date(e,n){return qE(this._locales||this._locale,e,n)}number(e,n){return i_(this._locales||this._locale,e,n)}}function K7e(t={}){return new Z7e(t)}const Ja=K7e();var bj=(t=>(t.ENGLISH="en",t.ENGLISH_STUPEFIED="en_US",t.ARABIC="ar",t.ASSAMESE="as",t.AZERBAIJANI="az",t.BELARUSIAN="be",t.BULGARIAN="bg",t.BENGALI="bn",t.BRETON="br",t.CATALONIAN="ca",t.CEBUANO="ceb",t.CENTRAL_KURDISH="ckb",t.CZECH="cs",t.DANISH="da",t.GERMAN="de",t.GREEK="el",t.SPANISH="es",t.SPANISH_LATIN_AMERICA="es_419",t.ESTONIAN="et",t.FINNISH="fi",t.FILIPINO="fil",t.FRENCH="fr",t.IRISH="ga",t.HINDI="hi",t.CROATIAN="hr",t.HUNGARIAN="hu",t.ARMENIAN="hy",t.INDONESIAN="id",t.ICELANDIC="is",t.ITALIAN="it",t.JAPANESE="ja",t.KOREAN="ko",t.LUXEMBOURGISH="lb",t.LITHUANIAN="lt",t.MACEDONIAN="mk",t.MALAY="ms",t.NORWEGIAN_BOKMAL="nb_NO",t.DUTCH="nl",t.PERSIAN="fa",t.POLISH="pl",t.PORTUGUESE_BRAZIL="pt_BR",t.PORTUGUESE_PORTUGAL="pt_PT",t.ROMANIAN="ro",t.RUSSIAN="ru",t.SLOVAK="sk",t.SLOVENIAN="sl",t.ALBANIAN="sq",t.SERBIAN="sr",t.SINHALESE="si",t.SWEDISH="sv",t.TAMIL="ta",t.THAI="th",t.TURKISH="tr",t.UKRANIAN="uk",t.URDU="ur",t.VENETIAN="vec",t.VIETNAMESE="vi",t.CHINESE_SIMPLIFIED="zh_Hans",t.CHINESE_TRADITIONAL="zh_Hant",t.LATVIAN="lv",t.TOKIPONA="tokipona",t.ESPERANTO="esperanto",t.OWO="owo",t.PIRATE="pr",t.BOTTOM="bottom",t.LEET="leet",t.PIGLATIN="piglatin",t.ENCHANTMENT_TABLE="enchantment",t.DEV="dev",t))(bj||{});const Kl={en:{display:"English (Traditional)",emoji:"",i18n:"en",dayjs:"en-gb"},en_US:{display:"English (Simplified)",emoji:"",i18n:"en_US",dayjs:"en"},ar:{display:"",emoji:"",i18n:"ar",localeOptions:{rtl:!0},verified:!0},as:{display:"",emoji:"",i18n:"as"},az:{display:"Azrbaycan dili",emoji:"",i18n:"az"},be:{display:"",emoji:"",i18n:"be"},bg:{display:"",emoji:"",i18n:"bg"},bn:{display:"",emoji:"",i18n:"bn"},br:{display:"Brezhoneg",emoji:"br",i18n:"br",verified:!0},ca:{display:"Catal",emoji:"",i18n:"ca"},ceb:{display:"Bisaya",emoji:"",i18n:"ceb"},ckb:{display:"",emoji:"krd",i18n:"ckb",dayjs:"ku"},cs:{display:"etina",emoji:"",i18n:"cs"},da:{display:"Dansk",emoji:"",i18n:"da"},de:{display:"Deutsch",emoji:"",i18n:"de",verified:!0},el:{display:"",emoji:"",i18n:"el"},es:{display:"Espaol",emoji:"",i18n:"es"},es_419:{display:"Espaol (Amrica Latina)",emoji:"",i18n:"es_419",dayjs:"es"},et:{display:"eesti",emoji:"",i18n:"et",verified:!0},fi:{display:"suomi",emoji:"",i18n:"fi"},fil:{display:"Filipino",emoji:"",i18n:"fil",dayjs:"tl-ph"},fr:{display:"Franais",emoji:"",i18n:"fr",verified:!0},ga:{display:"Gaeilge",emoji:"",i18n:"ga"},hi:{display:"",emoji:"",i18n:"hi"},hr:{display:"Hrvatski",emoji:"",i18n:"hr"},hu:{display:"Magyar",emoji:"",i18n:"hu",verified:!0},hy:{display:"",emoji:"",i18n:"hy"},id:{display:"Bahasa Indonesia",emoji:"",i18n:"id"},is:{display:"slenska",emoji:"",i18n:"is"},it:{display:"Italiano",emoji:"",i18n:"it"},ja:{display:"",emoji:"",i18n:"ja"},ko:{display:"",emoji:"",i18n:"ko"},lb:{display:"Ltzebuergesch",emoji:"",i18n:"lb"},lt:{display:"Lietuvi",emoji:"",i18n:"lt"},lv:{display:"Latvieu",emoji:"",i18n:"lv",verified:!0},mk:{display:"",emoji:"",i18n:"mk"},ms:{display:"Bahasa Melayu",emoji:"",i18n:"ms"},nb_NO:{display:"Norsk bokml",emoji:"",i18n:"nb_NO",dayjs:"nb"},nl:{display:"Nederlands",emoji:"",i18n:"nl"},fa:{display:"",emoji:"",i18n:"fa",verified:!0},pl:{display:"Polski",emoji:"",i18n:"pl"},pt_BR:{display:"Portugus (do Brasil)",emoji:"",i18n:"pt_BR",dayjs:"pt-br"},pt_PT:{display:"Portugus (Portugal)",emoji:"",i18n:"pt_PT",dayjs:"pt"},ro:{display:"Romn",emoji:"",i18n:"ro"},ru:{display:"",emoji:"",i18n:"ru",verified:!0},sk:{display:"Slovensky",emoji:"",i18n:"sk"},sl:{display:"Slovenina",emoji:"",i18n:"sl"},sq:{display:"Shqip",emoji:"",i18n:"sq"},sr:{display:"",emoji:"",i18n:"sr"},si:{display:"",emoji:"",i18n:"si"},sv:{display:"Svenska",emoji:"",i18n:"sv",verified:!0},ta:{display:"",emoji:"",i18n:"ta"},th:{display:"",emoji:"",i18n:"th"},tr:{display:"Trke",emoji:"",i18n:"tr"},ur:{display:"",emoji:"",i18n:"ur"},uk:{display:"",emoji:"",i18n:"uk",verified:!0},vec:{display:"Vneto",emoji:"vec",i18n:"vec",dayjs:"en-gb"},vi:{display:"Ting Vit",emoji:"",i18n:"vi"},zh_Hans:{display:"",emoji:"",i18n:"zh_Hans",dayjs:"zh"},zh_Hant:{display:"",emoji:"",i18n:"zh_Hant",dayjs:"zh"},tokipona:{display:"Toki Pona",emoji:"",i18n:"tokipona",dayjs:"en-gb",cat:"const"},esperanto:{display:"Esperanto",emoji:"EO",i18n:"eo",dayjs:"eo",cat:"const"},owo:{display:"OwO",emoji:"",i18n:"owo",dayjs:"en-gb",cat:"alt"},pr:{display:"Pirate",emoji:"",i18n:"pr",dayjs:"en-gb",cat:"alt"},bottom:{display:"Bottom",emoji:"",i18n:"bottom",dayjs:"en-gb",cat:"alt"},leet:{display:"1337",emoji:"",i18n:"leet",dayjs:"en-gb",cat:"alt"},enchantment:{display:"Enchantment Table",emoji:"",i18n:"enchantment",dayjs:"en-gb",cat:"alt"},piglatin:{display:"Pig Latin",emoji:"",i18n:"piglatin",dayjs:"en-gb",cat:"alt"},dev:{display:"Developer Test",emoji:"",i18n:"dev",dayjs:"en-gb",cat:"alt"}},HE=JSON.parse(`{"[Yesterday at] LT":["[Yesterday at] LT"],"[Today at] LT":["[Today at] LT"],"[Tomorrow at] LT":["[Tomorrow at] LT"],"[Last] dddd [at] LT":["[Last] dddd [at] LT"],"dddd [at] LT":["dddd [at] LT"],"FmOTFK":["(changes are being saved)"],"7fepVf":[["0","plural",{"one":["#"," blocked message"],"other":["#"," blocked messages"]}]],"NdK37b":[["0","plural",{"one":["#"," Member"],"other":["#"," Members"]}]],"frVWKj":[["0","plural",{"one":["Drop a file"],"other":["Drop ","#"," files"]}]],"5KHDCi":[["0"]," and ",["1"]," are typing"],"5LoIOP":[["0"]," changed the channel description"],"0S+a+/":[["0"]," changed the channel icon"],"maCbpW":[["0"]," emoji slots remaining"],"V2TE3y":[["0"]," files exceed the maximum size limit of ",["maxSizeFormatted"]," and were not uploaded."],"Mj6oCJ":[["0"]," is typing"],"3H/s4T":[["0"]," joined"],"6MIiOI":[["0"]," left"],"WkGwgJ":[["0"]," made ",["1"]," the new group owner"],"CyRtEa":[["0"]," pinned a message"],"OFYCau":[["0"]," renamed the channel"],"H4IzoH":[["0"]," unpinned a message"],"GVSvRw":[["0"]," was added by ",["1"]],"OeE+Fx":[["0"]," was banned"],"BOsWyI":[["0"]," was kicked"],"/JJAEu":[["0"]," was removed by ",["1"]],"cY7gFi":[["0"],"-",["1"]," of ",["2"]],"DtwpxX":[["0"],"'s roles"],"sRgRiT":[["unknown"]," reacted"],"1MjXH/":[["usernames"]," and ",["unknown"]," others reacted"],"9PefQY":[["usernames"]," reacted"],"NexPDe":["<0/> has been added by <1/>"],"IcMmvx":["<0/> has been banned from the server"],"iZjytO":["<0/> has been kicked from the server"],"q0DiwX":["<0/> has been removed by <1/>"],"1S+lXN":["<0/> joined the server"],"O8cm2i":["<0/> left the group"],"Hz0fNl":["<0/> left the server"],"yd5o8J":["<0/> pinned <1/>"],"Nwo3hz":["<0/> started a call"],"Wwa7qY":["<0/> started a call that lasted "],"SynpeZ":["<0/> transferred group ownership to <1/>"],"oJOfyZ":["<0/> unpinned <1/>"],"7CtNua":["<0/> updated the group description"],"FgK7kh":["<0/> updated the group icon "],"lavCXh":["<0/> updated the group name to <1>",["0"],"</1>"],"K4wEpA":["<0>Be careful!</0><1/>This is not the same as the link that was displayed:"],"rsnDOl":["1 person reacted"],"8gE33P":["12 hours"],"VaA9mu":["24 hours"],"WAv+Jj":["Able to access channels on this server"],"3l/6lF":["Able to access this channel"],"G0jqRb":["Able to speak in voice call"],"uyJsf6":["About"],"g3UF2V":["Accept"],"xzQnGO":["Accept friend request"],"dDoHhx":["Acknowledge"],"m16xKo":["Add"],"hzQo5U":["Add a new friend"],"lICjHG":["Add friend"],"GWDMZY":["Add friends to group"],"Cvctq3":["Add new members to the group"],"uW1Vm6":["Add status text"],"U3pytU":["Admin"],"g1in8j":["Admin Panel"],"sxkWRg":["Advanced"],"4hAIF+":["Affects all roles and users"],"N40H+G":["All"],"rimT/D":["All Messages"],"2cZEKe":["Allow members to change name and avatar per-message"],"Ihqqm5":["Allow others to add your bot to their servers from Discover"],"3SvY3I":["Already friends with this user."],"Btd5Px":["American (MM/DD/YYYY)"],"XyOToQ":["An error occurred."],"nmJMeQ":["An internal error occurred. (",["0"],")"],"aAIQg2":["Appearance"],"Zn6Tz8":["Are you sure you want to clear your sessions?"],"HrhuFQ":["Are you sure you want to delete this?"],"ByG9SL":["Are you sure you want to go to "],"MxbyFq":["Are you sure you want to go to <0>",["0"],"</0>?"],"bajtZU":["Assign lower-ranked roles to lower-ranking members"],"gRkJUI":["Assign Roles"],"YZWcQL":["Authenticator App"],"kfcRb0":["Avatar"],"iH8pgl":["Back"],"+YFgJi":["Badges"],"9kwf8d":["Ban"],"zR1hDe":["Ban evasion"],"FuoLq+":["Ban lower-ranking members from the server"],"cOyir8":["Ban member"],"FmwES3":["Ban Member"],"oB4OOq":["Ban Members"],"6DBrcH":["Ban user"],"I6bw/h":["Ban User"],"KSSL9f":["Banner"],"xWHwwQ":["Bans"],"tdTuUv":["Block user"],"32TndD":["Blocked"],"tpPP64":["Blocked User"],"ixkTse":["Bot"],"MtknRQ":["Browser Echo Cancellation"],"gVGZxt":["Browser Noise Supression"],"RriyZ+":["Bug Tracker"],"kVHATU":["Busy"],"HSPrFO":["By creating this bot, you agree to the <0>Acceptable Use Policy</0>."],"J/BJve":["By creating this server, you agree to the <0>Acceptable Use Policy</0>."],"dEgA5A":["Cancel"],"gJJMuU":["Cancel friend request"],"Tr3jPK":["Cancel message"],"Ixp6O/":["Cannot delete account until servers are deleted or transferred"],"xNX5ts":["Cannot edit this message."],"o+XJ9D":["Change"],"Uz/xvR":["Change Avatar"],"EojDHM":["Change identity on ",["0"]],"ONcudw":["Change login email"],"O/hGeo":["Change login password"],"5bgUxY":["Change Nickname"],"cNHZ0d":["Change other members' nicknames"],"kdktF9":["Change own avatar"],"KETz5m":["Change own nickname"],"zAENri":["Change username"],"06wLxz":["Change your profile per-server"],"CWe7wB":["Changelog"],"CS7QO7":["Channel Description"],"qqRS2V":["Channel Info"],"A9Rhec":["Channel Name"],"LsDQt2":["Channel Settings"],"lfFsZ4":["Channels"],"W7oIej":["Chat Input"],"QqoBlW":["Check your mail!"],"khEQ02":["Choose a username"],"c3OXEp":["Choose username"],"CK7kdd":["Clear status"],"TJjaBp":["Click on the items below to learn more about different changes!"],"qbqToq":["Click to show full description"],"ne6Rj8":["Click to show spoiler"],"XUe4cu":["Client Settings"],"yz7wBu":["Close"],"pqZJT2":["Close chat"],"sl/syq":["Close conversation with ",["0"],"?"],"EWPtMO":["Code"],"tr+x7S":["Configure a way to get back into your account in case your 2FA is lost"],"sA/iAz":["Configure one-time password authentication"],"7VpPHA":["Confirm"],"JCzHqi":["Confirm action"],"iSLIjg":["Connect"],"SbiE6f":["Connect to voice channel"],"QHcLEN":["Connected"],"9zb2WA":["Connecting"],"KQ8CVu":["Content breaks one or more laws"],"xGVfLh":["Continue"],"aYjP9k":["Continue to app"],"3U2WPd":["Contribute a language"],"EnJuK0":["Conversations"],"Q7hk79":["Copy category ID"],"G744eD":["Copy channel ID"],"S3bIKF":["Copy ID"],"DUHw+c":["Copy Invite URL"],"y1eoq1":["Copy link"],"ENCIQz":["Copy Link"],"2AgUnk":["Copy message ID"],"h5+K3A":["Copy role ID"],"7SU2U9":["Copy server ID"],"VsHxv+":["Copy text"],"IW5PBo":["Copy Token"],"9D85wC":["Copy user ID"],"hMZucv":["Copy webhook URL"],"1e699+":["Could not find what you requested."],"hYgDIe":["Create"],"OVDb+J":["Create a channel before inviting others!"],"A1AdWg":["Create a group"],"GUw7IE":["Create a group or server"],"dLRg2w":["Create a new bot"],"zrca+u":["Create a new category"],"luDs4g":["Create a new group"],"/7l3Ud":["Create a new role"],"qaH0rj":["Create a webhook"],"3T8ziB":["Create an account"],"D/FMH3":["Create and edit server roles"],"9dDhA/":["Create and edit webhooks"],"O4tIqG":["Create Bot"],"EwoMtl":["Create category"],"gkBHk/":["Create channel"],"fTMMeD":["Create invite"],"nx4Nps":["Create Invite"],"mj8Zmd":["Create invites for others to use"],"RoyYUE":["Create Role"],"r4iPB9":["Create server"],"Q3ryt9":["Create server emoji"],"dkAPxi":["Create Webhook"],"PchgXN":["Created <0/>"],"DCKkhU":["Current Password"],"/4K7+A":["Current Session"],"mujyHj":["Custom status"],"nCvhD0":["Custom window frame"],"8aTiea":["Customisation"],"pvnfJD":["Dark"],"s3Lr9i":["Database error, please contact support. (",["0"],")"],"DlxO+8":["Deafen lower-ranking members in voice call"],"VlmvOd":["Deafen Members"],"ovBPCi":["Default"],"wQMpfT":["Default Permissions"],"cnGeoo":["Delete"],"Tf88pC":["Delete ",["0"],"?"],"vzX5FB":["Delete Account"],"V53lUY":["Delete and pin messages sent by other members"],"VskHIx":["Delete category"],"hH3f+k":["Delete channel"],"WAakm9":["Delete Channel"],"xglsJ0":["Delete Invite"],"KDfTdX":["Delete message"],"uc3jjU":["Delete Role"],"IIeRiI":["Delete Server"],"tne1qE":["Description provided by ",["0"]],"BBqGS9":["Desktop"],"RFMfX/":["Developer Documentation"],"b0ScFs":["Disable Account"],"iqOVmX":["Disable one-time password authenticator"],"E/QGRL":["Disabled"],"ZYnwzF":["Disconnected"],"fzaZuT":["Discord RPC"],"ElnSyM":["Discover Stoat"],"Hq0bRw":["Display & Text"],"0gS7M5":["Display Name"],"rxaY+5":["Do Not Disturb"],"LD81I0":["Don't ask me again for "],"5h+qLB":["Don't ask me again for <0>",["0"],"</0>"],"MlE0za":["Don't notify others that you've left"],"Ng063n":["Donate"],"sH0Ycr":["Donate to Stoat"],"wvaz2C":["Donated to Stoat"],"DPfwMq":["Done"],"IVSi8w":["Drugs or illegal goods"],"5gqEFg":["Edit ",["0"],"'s roles"],"C0JYiF":["Edit and delete channel"],"/cPXPW":["Edit any permissions on the server"],"Oa/lY3":["Edit channel-specific role and default permissions"],"ryNfOF":["Edit Global Profile"],"jEmntx":["Edit group name and description"],"vTzsKy":["Edit identity"],"KVzYER":["Edit Identity"],"QjH+ZX":["Edit message"],"V3XhEA":["Edit roles"],"NEmwgu":["Edit the server's information and settings"],"mVr4m2":["Edit your identity"],"MRZxAn":["Edited"],"XnpLAI":["Effective <0/> (<1/>)"],"O3oNi5":["Email"],"To5L7V":["Emoji Name"],"4ri7rI":["Emoji Pack (affects your messages only)"],"etgedT":["Emojis"],"rDzECn":["Enable Authenticator"],"8FE4JE":["Enable authenticator app"],"FluZmp":["Enable Desktop Notifications"],"ojptRu":["Enable transparency glass/blur effects (slow on older machines)"],"uu2ow3":["Enter a new name for this session"],"ALmSzh":["Enter a new password."],"wJp20b":["Enter Channel"],"nbzz1A":["Enter Code"],"H/BGLa":["Enter your current password."],"NbRKyS":["Enter your current password..."],"8u3L/H":["Enter your preferred username."],"WnhbOj":["External links can be dangerous!"],"WSSlyk":["Extortion or blackmail"],"5LQm/a":["Extreme violence, gore or animal cruelty"],"y2Agdb":["Failed to process the image you provided."],"lDjxmT":["Failed to send"],"YlFpiA":["Failed to verify!"],"YirHq7":["Feedback"],"5/6/hB":["Find a community based on your hobbies or interests."],"ohmwVN":["Find your com<0/>munity,<1/>connect with the world."],"Fsd1Wl":["Focus"],"k2oY8L":["For 1 hour"],"FgSBCL":["For 15 minutes"],"57aFOk":["For 24 hours"],"kFyXAW":["For 3 hours"],"74QJjm":["For 8 hours"],"tBmnPU":["Friends"],"IC4qe8":["Fruit Salad"],"/FwtWh":["Generate a new token if it gets lost or compromised"],"8VGnad":["Generate Recovery Codes"],"/qQDwm":["Generating invite"],"5UlsjU":["Get a new set of recovery codes"],"m2qesm":["Get active recovery codes"],"kUz4ev":["Give feedback on Stoat"],"1v5otA":["Give us some detail"],"jZUk0D":["Go back to login"],"nsca6t":["Go to account settings to edit your username"],"BusuTg":["Go to the Stoat Lounge"],"txDnh8":["Go to the testers server"],"OEEQKT":["Good"],"ENTWKu":["Grants ",["0"]," permissions and denies ",["1"]," permissions"],"m6X3ro":["Group Name"],"1LvYFz":["Harassment or cyberbullying"],"m48LOH":["Hardware Acceleration"],"JNzhsW":["Hear other people and see their video"],"mAYvqA":["Hello!"],"rTmMQe":["Help contribute to an existing or new language"],"eMIuqg":["Helped translate Stoat"],"GMy0r8":["Here is your new invite code: <0>",["0"],"</0>"],"zQK0ao":["High Contrast"],"i0qMbr":["Home"],"y6uLO1":["I confirm that I am at least 18 years old."],"uAOcxa":["I understand the consequences"],"QSzGDE":["Idle"],"yc8XoJ":["Illegal hacking or cracking"],"Z7f8Lz":["Image by @fakurian"],"gFoGWm":["Impersonation"],"B7ik4i":["Instead of closing, Stoat will hide in your tray."],"QRuWK2":["Interface Font"],"edZkJt":["Invisible"],"U6eaI7":["Invite all of your friends, some cool bots, and throw a big party."],"aEnPeu":["Invite Bot"],"DDpDsO":["Invite Code"],"e4CAB7":["Invite Others"],"cj+X1c":["Inviter"],"BHsrDx":["Invites"],"GrnHKn":["irrelevant joke badge 1"],"v/QmhM":["irrelevant joke badge 2"],"Wvdt8W":["ISO Standard (YYYY-MM-DD)"],"0wdd7X":["Join"],"ZCcTyH":["Join a server"],"KyzmqC":["Join call"],"03Y3fJ":["Join the Stoat Lounge"],"QSdio+":["Join the voice channel"],"2gMuHR":["Joined"],"QOF7H+":["Jump to present"],"pySJVB":["Jump to the beginning"],"FgAQOk":["Keep as is"],"EY4XVW":["Kick"],"NG98W1":["Kick lower-ranking members from the server"],"uKBxNr":["Kick member"],"3y+d4K":["Kick Member"],"ofmnM6":["Kick Members"],"vXIe7J":["Language"],"ma6q0V":["Last sync <0/>"],"wL3cK8":["Latest"],"xcs1iQ":["Launch Stoat when you log into your computer."],"3ZJgwc":["Learn more about how to create bots on Stoat."],"Mv8CyJ":["Leave"],"Tbe8DB":["Leave ",["0"],"?"],"2gC56n":["Leave group"],"gkmjYT":["Leave server"],"O95Dg8":["Let Stoat use its own custom titlebar."],"NdQG5C":["Let us know how we can improve our app by giving us feedback."],"1njn7W":["Light"],"/LDg0A":["Listen"],"ilSVdI":["Load file (",["0"],")"],"ADVQ46":["Log In"],"paehRh":["Log Out"],"/QRdA3":["Log out of all other sessions"],"3ZWPSn":["Log Out Other Sessions"],"z0t9bb":["Login"],"G3nfo8":["Logs you out of all sessions except this device."],"jMiuH3":["Malware or phishing"],"2AKdMl":["Manage Channel"],"fMGfRR":["Manage Customisation"],"TctyuA":["Manage Messages"],"F1uGNS":["Manage Nicknames"],"cVbFyD":["Manage Permissions"],"TjyEoA":["Manage Roles"],"8AY507":["Manage Server"],"tW3S/e":["Manage Webhooks"],"cxb4R/":["Mark as mature"],"oyr8HG":["Mark as Mature"],"+s1J8k":["Mark as read"],"5GPcf9":["Mark as unread"],"bUgYf5":["Mark this channel as mature?"],"x2cCA3":["Masquerade"],"wlQNTg":["Members"],"iaM74K":["Mention"],"rC7uyF":["Mention Everyone"],"GAaBUQ":["Mention everyone and online members inside the server"],"I/D357":["Mention Roles"],"2KKpX0":["Mention specific roles"],"/bZzdR":["Mentions"],"PWOA0E":["Mentions Only"],"xDAtGP":["Message"],"pqr+oY":["Message ",["0"]],"qBQAYq":["Message Group Spacing"],"Dvbuou":["Message not loaded, click to jump"],"YcVBkL":["Message Received"],"V7DYWd":["Message Sent"],"DgDwdJ":["Message Size"],"Bgk5D1":["Message was sent on another platform"],"vtZ0lQ":["Messaging"],"Zwfzke":["Minimise to Tray"],"Nar+Yz":["Missing permission"],"VvdC4u":["Monochrome"],"JPDHTs":["Monospace Font"],"wD0+LG":["More Contrast"],"IkN4uI":["Move Members"],"geho5+":["Move members between voice channels"],"vbiLHC":["Multi-factor authentication is already enabled for this account."],"R7SsBE":["Mute"],"bwRYCn":["Mute Channel"],"PB9oxZ":["Mute lower-ranking members in voice call"],"CkIs/i":["Mute Members"],"WTx+eB":["Mute Server"],"+IJm1Z":["Muted"],"eAyeR8":["Muted until <0/>"],"nSqogE":["Mutual Friends"],"GXKMbZ":["Mutual Groups"],"qhwV2C":["My Account"],"xpgPPI":["My Bots"],"6YtxFj":["Name"],"proQUv":["Neutral"],"p6NueD":["NEW"],"VTzM7q":["New messages since ",["0"]],"7vhWI8":["New Password"],"NcHUaT":["New to Stoat"],"CQKBqI":["New to the server"],"4hfTrB":["Nickname"],"1FQ/C2":["No permissions set yet"],"JnlnD5":["Nobody here right now!"],"EdQY6l":["None"],"CsekCi":["Normal"],"7BiB6a":["Not of minimum age to use the platform"],"iDNBZe":["Notifications"],"az8lvo":["Off"],"DIqs2u":["Official Communication"],"L+22AW":["Official Server"],"6Aih4U":["Offline"],"zga9sT":["OK"],"zsJUbn":["Oldest"],"Z5HWHd":["On"],"GhCPk1":["Once it's deleted, there's no going back."],"zxB685":["One of the first 1000 users!"],"oXOSPE":["Online"],"sqKUvS":["Only mentions will notify you"],"1TNIig":["Open"],"HWAICJ":["Open ",["0"]],"3QywKw":["Open channel settings"],"9npOH9":["Open file"],"X8nARN":["Open server settings"],"Yp+Hi/":["Open settings"],"/IX/7x":["Other"],"QCNGi7":["Output Volume"],"6/dCYd":["Overview"],"CXs+oi":["Pardon User"],"8ZsakT":["Password"],"UbRKMZ":["Pending"],"9cDpsw":["Permissions"],"/ovEwK":["Pick a username that you want people to be able to find you by. This can be changed later in your user settings."],"Ab4Bao":["Pin message"],"kvNfhr":["Platform Moderator"],"JUJmXm":["Please confirm this action using the selected method."],"hV+cYN":["Please enter your email."],"uKsCnO":["Please log in again."],"ve7z/g":["Please save these to a safe location."],"SAGRK3":["Please scan or use the token below in your authenticator app."],"H7/Osf":["Please select a method to authenticate your request."],"h7+4yF":["Please select a reason"],"LcET2C":["Privacy Policy"],"xJH2T8":["Private Channel"],"vERlcd":["Profile"],"MD2O7X":["Profile Bio"],"oY64tV":["Promotes harm"],"QeVmvt":["Provided email or password is wrong."],"1hG1IQ":["Raid or spam attack"],"UDb2YD":["React"],"zwlCOi":["React to messages with emoji"],"c9JRcC":["Read Message History"],"IvkbIT":["Read More"],"IZQ1Nc":["Read past messages sent in channel"],"4hyK2W":["Read past messages sent in channels"],"VJScHU":["Reason"],"EwnHnJ":["Receive notifications while the app is open and in the background."],"BakXLg":["Reconnecting"],"jpJ5AL":["Recovery Code"],"QgQV6q":["Recovery Codes"],"b/KwEM":["Reduced"],"fgLNSM":["Register"],"Jfmexf":["Registered since <0/>"],"PNsAfL":["Reject friend request"],"7dZnmw":["Relevance"],"DF+Ypt":["Remove all reactions"],"SvSQsF":["Remove Authenticator"],"FgKhxB":["Remove Avatars"],"LZlsoq":["Remove friend"],"X1985n":["Remove other members' avatars"],"OrpsFP":["Remove reaction"],"2wxgft":["Rename"],"G3zom+":["Rename Session"],"f+rzzY":["Rep Stoat using Discord rich presence."],"ImOQa9":["Reply"],"VKsaTi":["Replying to"],"gjpdaf":["Report"],"0lcpCZ":["Report message"],"t43mBk":["Report server"],"572q5a":["Report user"],"MyjAbr":["Resend"],"HT2UjS":["Resend verification"],"OfhWJH":["Reset"],"kaXbCq":["Reset ",["0"],"'s token?"],"RfwZxd":["Reset password"],"FKU8Yv":["Reset Recovery Codes"],"9PqD/J":["Reset Token"],"iTf46S":["Responsibly disclosed security issues"],"8XsV2J":["Retry sending"],"jARVSc":["Revenge or underage pornography"],"wpLdYk":["Review policy changes"],"/gaSVU":["Roadmap"],"PSP1MZ":["Role Name"],"5dJK4M":["Roles"],"tfDRzk":["Save"],"ncDewQ":["Save file"],"JW8mxK":["Save to your notes"],"HPEWo/":["Saved Notes"],"CWFzr4":["Scams or fraud"],"rnESNP":["Search for groups..."],"ofKdY9":["Search for users..."],"MfK0xw":["See what we're currently working on."],"fnH1fe":["Select audio input"],"SuSAW1":["Select audio output"],"xI4nbx":["Select members to add"],"4q8P59":["Select your language"],"OUh/U1":["Send attachments to chat"],"65dxv8":["Send email"],"mn5eKP":["Send embedded content such as link embeds or custom embeds"],"PkFCdv":["Send Embeds"],"CeIodI":["Send Messages"],"DNLekL":["Send messages in channel"],"cKymxU":["Send messages in channels"],"wIPxjh":["Send Request"],"IoAuJG":["Sending..."],"h69WC6":["Sent"],"sWvnBI":["Sent ",["0"]," attachments"],"EqWYax":["Sent an attachment"],"ItAGEw":["Sent multiple attachments"],"bPoVPN":["Server Avatar"],"HJGZCZ":["Server Banner"],"Vh21HH":["Server Default"],"v13sNt":["Server Description"],"8Vns2b":["Server Icon"],"nwzesb":["Server Identities"],"MXw7Fr":["Server Name"],"pJZDVV":["Server Roles"],"4cEClj":["Sessions"],"DrJ0Om":["Set your status"],"Tz0i8g":["Settings"],"wtxSXD":["Setup one-time password authenticator"],"P25zlZ":["Setup recovery codes"],"3QuNUr":["Several people are typing"],"0y3xb0":["Share camera or screen in voice call"],"LUzmzU":["Show corrections and suggestions as you type."],"xuqzv2":["Show send message button"],"+au1ux":["Sign into Stoat"],"mErq7F":["Sign Up"],"i2CkSD":["Silent"],"a1+Vx8":["someone@example.com"],"1QyHvD":["Something cool about me..."],"xgBgdK":["Something is wrong with your request, ",["0"],"."],"eXlbBv":["Something went wrong! Try again later."],"KtYF+t":["Sounds"],"PnzsrT":["Source Code"],"I1V8ji":["Spam or similar platform abuse"],"yIBLq8":["Speak"],"gMvV24":["Spellchecker"],"ss8736":["Start the call"],"M1Ywzz":["Start with Computer"],"uAQUqI":["Status"],"XzhDzo":["Stoat Desktop"],"j0nE0x":["Stoat Developer"],"SWs9bI":["Stoat for Desktop"],"ggOh4M":["Stoat Founder"],"+bdmu3":["Stoat is one of the best ways to stay connected with your friends and community, anywhere, anytime."],"E9SV2w":["Submit feature suggestion"],"1m41/U":["Submit feedback"],"m0CPQM":["Submit to Discover"],"P6F38F":["Subscriptions"],"7z6mLt":["Suggest new Stoat features on GitHub discussions."],"vJum3e":["Support the project by donating - thank you!"],"TBK3Ey":["Switch to this voice channel"],"8ZmOn9":["Sync appearance options, such as chosen emoji pack and message density."],"1pIupL":["Sync your chosen theme, colours, and any custom CSS."],"obqpwG":["Sync your currently chosen language."],"D+NlUC":["System"],"gx8H8Z":["System message channels"],"MDnT0x":["Tell us what's wrong with this message"],"pfWVYe":["Tell us what's wrong with this server"],"uH/42m":["Tell us what's wrong with this user"],"v44WYm":["Temporarily prevent lower-ranking members from interacting"],"xowcRf":["Terms of Service"],"AU7IRi":["Text Channel"],"hPfTol":["That action had no effect."],"cPdGoI":["The file \\"",["0"],"\\" (",["fileSize"],") exceeds the maximum size limit of ",["maxSizeFormatted"],"."],"zp5Vve":["The password is too short."],"FEr96N":["Theme"],"inDEkK":["This account is not activated! Please check your account's inbox and try again."],"29CYN+":["This bot is private and can only be added by the creator."],"Dbhas/":["This channel is about..."],"TOZ5f+":["This channel is marked as mature."],"tT69xn":["This channel is not available in your region while we review options on legal compliance."],"jviGAq":["This content is not available in your region."],"5oopXz":["This feature is currently disabled."],"sbEQ1t":["This file type is not allowed."],"CLcA06":["This group is too large, you can have up to ",["0"]," users."],"MKFJJj":["This has already been sent."],"zqaa5E":["This is the start of your conversation."],"nzMeNW":["This is the start of your notes."],"+YLOgs":["This message is already pinned."],"J8MJJ1":["This message is empty and has not been sent."],"KQTmt7":["This password has previously appeared in security leaks, please use another password."],"0vCLzN":["This server is about..."],"go1IWB":["This user has blocked you."],"1m23cy":["This user is not part of the server and may already be banned"],"iONOLk":["This username is already taken."],"rsj13C":["This username is not allowed."],"psIkL7":["This will invalidate the current token and stop any existing instances of the bot from running."],"utrCh2":["Timeout Members"],"fTN7JI":["Toggle main sidebar"],"hXtAtx":["Tonal Spot"],"De3gk3":["Traditional (DD/MM/YYYY)"],"Nqw9Fh":["Trending GIFs"],"9wZI9E":["Unblock user"],"X6noYz":["Unknown Server"],"jtH9mh":["Unmark as mature"],"e+D9LC":["Unmark as Mature"],"IDeApW":["Unmark this channel as mature?"],"Q7zdlb":["Unmute Channel"],"at1WI0":["Unmute Server"],"2LD8h0":["Unpin message"],"bPl6q3":["Unsent message"],"yMVe+Q":["Unsolicited advertising or spam"],"+YvyYS":["Until I turn it back on"],"HAKBY9":["Upload Files"],"HmsJGM":["Use a code or invite link"],"vz2Mv5":["Use the graphics card to improve performance."],"7PzzBU":["User"],"I6KMzG":["User Banned"],"5thgFk":["User broke a certain rule"],"y5kWr1":["User Joined"],"lSGjX7":["User Joined Call"],"tny/yk":["User Kicked"],"s8kB2v":["User Left"],"qT9yXc":["User Left Call"],"yDOdwQ":["User Management"],"ekfzWq":["User Settings"],"ob334e":["User's profile has inappropriate content"],"7sNhEz":["Username"],"mcKU3V":["username#1234"],"Bf272I":["Users will be asked to confirm their age before joining this channel."],"Tb2euV":["Users will be asked to confirm their age before opening this channel."],"Kgh8vb":["Users will no longer be asked to confirm their age before joining this channel.<0/> Please ensure the content is appropriate for all ages."],"vSpLqj":["Using default microphone"],"Ka0XKu":["Using default speaker"],"QDEWii":["Verified"],"W5gWH3":["Verifying your account"],"csCoda":["Version:"],"vSJd18":["Video"],"CBd8nH":["View Channel"],"NG6+qd":["View currently active bug reports here."],"PuK7a+":["View members"],"JQGQUd":["View older updates"],"vCKKdA":["View pinned messages"],"z0hW8A":["View Recovery Codes"],"9nffag":["Viewing older messages"],"KAXSwC":["Voice"],"BGw+Qc":["Voice Channel"],"ofG8w+":["Voice Processing"],"/cF7Rs":["Volume"],"vniHOS":["Want to change username?"],"MHFv7m":["We've sent you a verification email. Please allow up to 10 minutes for it to arrive."],"TRDppN":["Webhook"],"pQ0/u5":["Webhook Icon"],"0/BoBb":["Webhook Name"],"v1kQyJ":["Webhooks"],"Jt1WNL":["Welcome to"],"klH6ct":["Welcome!"],"OcdmE9":["Whether other users can edit these settings"],"uJTQKq":["With ",["0"]],"NFe4b1":["Would you like to create a new group or server?"],"dHHNJ6":["Would you like to create a new server or join an existing one?"],"lz6ngN":["You agree that your bot is subject to the Acceptable Usage Policy."],"vOW6wG":["You are about to ban ",["0"]],"6qWjm5":["You are about to kick ",["0"]],"BdNgHC":["You are banned from this server."],"4nVJo5":["You can also click the gear icon in the bottom left."],"K26Q16":["You can also right-click the user icon in the top left, or left click it if you're already home."],"knjY+b":["You can re-open it later, but it will disappear on both sides."],"2v8IKv":["You can report issues and discuss improvements with us directly here."],"S6nbNv":["You can't be in more than ",["0"]," servers, please leave one and try again."],"DZW4ic":["You can't have more than ",["0"]," channels on this server."],"K1Tm4u":["You can't have more than ",["0"]," emojis on this server."],"Iv8J9I":["You cannot give yourself missing permissions."],"cmPDVh":["You cannot join this call."],"LW1RJD":["You cannot remove yourself."],"bhyRbj":["You cannot report yourself."],"WJC869":["You cannot timeout yourself."],"aIXp8m":["You cannot undo this action."],"1Xl18j":["You clicked on \\"",["0"],"\\""],"RGaLS9":["You do not have permission to do this."],"OX0KxY":["You don't have permission to send messages in this channel."],"0Omj69":["You have been locked out for entering a wrong password multiple times. Please wait a couple minutes and try again."],"FHt0ec":["You have this user blocked."],"mD1zO3":["You muted this user."],"fhYw6u":["You were logged out!"],"648NC4":["You will not receive any notifications"],"mffBQe":["You won't be able to access your account unless you contact support - however, your data will not be deleted."],"3QeDnN":["You won't be able to rejoin unless you are re-invited."],"n98CaP":["You're already part of this group."],"oZwna+":["You're already part of this server."],"6SbL0M":["You've already sent a request to this user."],"DEPqYw":["You've been invited to join this server.<0/>Would you like to join?"],"CaQg4F":["You've been signed out of Stoat!"],"a5WQGl":["You've reached your personal bot limit."],"mIIVsO":["You've sent too many friend requests, the maximum is ",["0"]],"pW8Hyv":["Your account and all of your data (including your messages and friends list) will be queued for deletion. A confirmation email will be sent - you can cancel this within 7 days by contacting support."],"O/gffD":["Your account has been verified!"],"5E4aaY":["Your discriminator change has been ratelimited, please try again later."],"Ka7c9y":["Your message is too long, please remove some characters and try again."],"a8e0AU":["Your recovery codes"],"B5Ha0r":["Your role ranking is too low to take this action."],"9aXylH":["Your user has already been created? Try logging in again or refreshing the app."]}`),J7e=Object.freeze(Object.defineProperty({__proto__:null,messages:HE},Symbol.toStringTag,{value:"Module"}));var yj={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Zi,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",c="day",d="week",h="month",f="quarter",m="year",g="date",p="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(U){var N=["th","st","nd","rd"],z=U%100;return"["+U+(N[(z-20)%10]||N[z]||N[0])+"]"}},C=function(U,N,z){var K=String(U);return!K||K.length>=N?U:""+Array(N+1-K.length).join(z)+U},x={s:C,z:function(U){var N=-U.utcOffset(),z=Math.abs(N),K=Math.floor(z/60),re=z%60;return(N<=0?"+":"-")+C(K,2,"0")+":"+C(re,2,"0")},m:function U(N,z){if(N.date()<z.date())return-U(z,N);var K=12*(z.year()-N.year())+(z.month()-N.month()),re=N.clone().add(K,h),Q=z-re<0,D=N.clone().add(K+(Q?-1:1),h);return+(-(K+(z-re)/(Q?re-D:D-re))||0)},a:function(U){return U<0?Math.ceil(U)||0:Math.floor(U)},p:function(U){return{M:h,y:m,w:d,d:c,D:g,h:l,m:a,s:o,ms:s,Q:f}[U]||String(U||"").toLowerCase().replace(/s$/,"")},u:function(U){return U===void 0}},O="en",S={};S[O]=y;var T="$isDayjsObject",$=function(U){return U instanceof j||!(!U||!U[T])},M=function U(N,z,K){var re;if(!N)return O;if(typeof N=="string"){var Q=N.toLowerCase();S[Q]&&(re=Q),z&&(S[Q]=z,re=Q);var D=N.split("-");if(!re&&D.length>1)return U(D[0])}else{var se=N.name;S[se]=N,re=se}return!K&&re&&(O=re),re||!K&&O},P=function(U,N){if($(U))return U.clone();var z=typeof N=="object"?N:{};return z.date=U,z.args=arguments,new j(z)},L=x;L.l=M,L.i=$,L.w=function(U,N){return P(U,{locale:N.$L,utc:N.$u,x:N.$x,$offset:N.$offset})};var j=function(){function U(z){this.$L=M(z.locale,null,!0),this.parse(z),this.$x=this.$x||z.x||{},this[T]=!0}var N=U.prototype;return N.parse=function(z){this.$d=function(K){var re=K.date,Q=K.utc;if(re===null)return new Date(NaN);if(L.u(re))return new Date;if(re instanceof Date)return new Date(re);if(typeof re=="string"&&!/Z$/i.test(re)){var D=re.match(v);if(D){var se=D[2]-1||0,he=(D[7]||"0").substring(0,3);return Q?new Date(Date.UTC(D[1],se,D[3]||1,D[4]||0,D[5]||0,D[6]||0,he)):new Date(D[1],se,D[3]||1,D[4]||0,D[5]||0,D[6]||0,he)}}return new Date(re)}(z),this.init()},N.init=function(){var z=this.$d;this.$y=z.getFullYear(),this.$M=z.getMonth(),this.$D=z.getDate(),this.$W=z.getDay(),this.$H=z.getHours(),this.$m=z.getMinutes(),this.$s=z.getSeconds(),this.$ms=z.getMilliseconds()},N.$utils=function(){return L},N.isValid=function(){return this.$d.toString()!==p},N.isSame=function(z,K){var re=P(z);return this.startOf(K)<=re&&re<=this.endOf(K)},N.isAfter=function(z,K){return P(z)<this.startOf(K)},N.isBefore=function(z,K){return this.endOf(K)<P(z)},N.$g=function(z,K,re){return L.u(z)?this[K]:this.set(re,z)},N.unix=function(){return Math.floor(this.valueOf()/1e3)},N.valueOf=function(){return this.$d.getTime()},N.startOf=function(z,K){var re=this,Q=!!L.u(K)||K,D=L.p(z),se=function(on,Wt){var bn=L.w(re.$u?Date.UTC(re.$y,Wt,on):new Date(re.$y,Wt,on),re);return Q?bn:bn.endOf(c)},he=function(on,Wt){return L.w(re.toDate()[on].apply(re.toDate("s"),(Q?[0,0,0,0]:[23,59,59,999]).slice(Wt)),re)},E=this.$W,De=this.$M,pe=this.$D,ct="set"+(this.$u?"UTC":"");switch(D){case m:return Q?se(1,0):se(31,11);case h:return Q?se(1,De):se(0,De+1);case d:var Mt=this.$locale().weekStart||0,At=(E<Mt?E+7:E)-Mt;return se(Q?pe-At:pe+(6-At),De);case c:case g:return he(ct+"Hours",0);case l:return he(ct+"Minutes",1);case a:return he(ct+"Seconds",2);case o:return he(ct+"Milliseconds",3);default:return this.clone()}},N.endOf=function(z){return this.startOf(z,!1)},N.$set=function(z,K){var re,Q=L.p(z),D="set"+(this.$u?"UTC":""),se=(re={},re[c]=D+"Date",re[g]=D+"Date",re[h]=D+"Month",re[m]=D+"FullYear",re[l]=D+"Hours",re[a]=D+"Minutes",re[o]=D+"Seconds",re[s]=D+"Milliseconds",re)[Q],he=Q===c?this.$D+(K-this.$W):K;if(Q===h||Q===m){var E=this.clone().set(g,1);E.$d[se](he),E.init(),this.$d=E.set(g,Math.min(this.$D,E.daysInMonth())).$d}else se&&this.$d[se](he);return this.init(),this},N.set=function(z,K){return this.clone().$set(z,K)},N.get=function(z){return this[L.p(z)]()},N.add=function(z,K){var re,Q=this;z=Number(z);var D=L.p(K),se=function(De){var pe=P(Q);return L.w(pe.date(pe.date()+Math.round(De*z)),Q)};if(D===h)return this.set(h,this.$M+z);if(D===m)return this.set(m,this.$y+z);if(D===c)return se(1);if(D===d)return se(7);var he=(re={},re[a]=r,re[l]=i,re[o]=n,re)[D]||1,E=this.$d.getTime()+z*he;return L.w(E,this)},N.subtract=function(z,K){return this.add(-1*z,K)},N.format=function(z){var K=this,re=this.$locale();if(!this.isValid())return re.invalidDate||p;var Q=z||"YYYY-MM-DDTHH:mm:ssZ",D=L.z(this),se=this.$H,he=this.$m,E=this.$M,De=re.weekdays,pe=re.months,ct=re.meridiem,Mt=function(Wt,bn,Or,dr){return Wt&&(Wt[bn]||Wt(K,Q))||Or[bn].slice(0,dr)},At=function(Wt){return L.s(se%12||12,Wt,"0")},on=ct||function(Wt,bn,Or){var dr=Wt<12?"AM":"PM";return Or?dr.toLowerCase():dr};return Q.replace(b,function(Wt,bn){return bn||function(Or){switch(Or){case"YY":return String(K.$y).slice(-2);case"YYYY":return L.s(K.$y,4,"0");case"M":return E+1;case"MM":return L.s(E+1,2,"0");case"MMM":return Mt(re.monthsShort,E,pe,3);case"MMMM":return Mt(pe,E);case"D":return K.$D;case"DD":return L.s(K.$D,2,"0");case"d":return String(K.$W);case"dd":return Mt(re.weekdaysMin,K.$W,De,2);case"ddd":return Mt(re.weekdaysShort,K.$W,De,3);case"dddd":return De[K.$W];case"H":return String(se);case"HH":return L.s(se,2,"0");case"h":return At(1);case"hh":return At(2);case"a":return on(se,he,!0);case"A":return on(se,he,!1);case"m":return String(he);case"mm":return L.s(he,2,"0");case"s":return String(K.$s);case"ss":return L.s(K.$s,2,"0");case"SSS":return L.s(K.$ms,3,"0");case"Z":return D}return null}(Wt)||D.replace(":","")})},N.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},N.diff=function(z,K,re){var Q,D=this,se=L.p(K),he=P(z),E=(he.utcOffset()-this.utcOffset())*r,De=this-he,pe=function(){return L.m(D,he)};switch(se){case m:Q=pe()/12;break;case h:Q=pe();break;case f:Q=pe()/3;break;case d:Q=(De-E)/6048e5;break;case c:Q=(De-E)/864e5;break;case l:Q=De/i;break;case a:Q=De/r;break;case o:Q=De/n;break;default:Q=De}return re?Q:L.a(Q)},N.daysInMonth=function(){return this.endOf(h).$D},N.$locale=function(){return S[this.$L]},N.locale=function(z,K){if(!z)return this.$L;var re=this.clone(),Q=M(z,K,!0);return Q&&(re.$L=Q),re},N.clone=function(){return L.w(this.$d,this)},N.toDate=function(){return new Date(this.valueOf())},N.toJSON=function(){return this.isValid()?this.toISOString():null},N.toISOString=function(){return this.$d.toISOString()},N.toString=function(){return this.$d.toUTCString()},U}(),te=j.prototype;return P.prototype=te,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",c],["$M",h],["$y",m],["$D",g]].forEach(function(U){te[U[1]]=function(N){return this.$g(N,U[0],U[1])}}),P.extend=function(U,N){return U.$i||(U(N,j,P),U.$i=!0),P},P.locale=M,P.isDayjs=$,P.unix=function(U){return P(1e3*U)},P.en=S[O],P.Ls=S,P.p={},P})})(yj);var e8e=yj.exports;const vu=Jo(e8e);var Oj=60,wj=Oj*60,kj=wj*24,t8e=kj*7,ig=1e3,FS=Oj*ig,p9=wj*ig,n8e=kj*ig,r8e=t8e*ig,WE="millisecond",Zf="second",Kf="minute",Jf="hour",Fu="day",Kb="week",Ya="month",Sj="quarter",Bu="year",em="date",i8e="YYYY-MM-DDTHH:mm:ssZ",v9="Invalid Date",s8e=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,o8e=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g;const xj={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var n=["th","st","nd","rd"],r=e%100;return"["+e+(n[(r-20)%10]||n[r]||n[0])+"]"}},a8e=Object.freeze(Object.defineProperty({__proto__:null,default:xj},Symbol.toStringTag,{value:"Module"}));var s_=function(e,n,r){var i=String(e);return!i||i.length>=n?e:""+Array(n+1-i.length).join(r)+e},l8e=function(e){var n=-e.utcOffset(),r=Math.abs(n),i=Math.floor(r/60),s=r%60;return(n<=0?"+":"-")+s_(i,2,"0")+":"+s_(s,2,"0")},c8e=function t(e,n){if(e.date()<n.date())return-t(n,e);var r=(n.year()-e.year())*12+(n.month()-e.month()),i=e.clone().add(r,Ya),s=n-i<0,o=e.clone().add(r+(s?-1:1),Ya);return+(-(r+(n-i)/(s?i-o:o-i))||0)},u8e=function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},d8e=function(e){var n={M:Ya,y:Bu,w:Kb,d:Fu,D:em,h:Jf,m:Kf,s:Zf,ms:WE,Q:Sj};return n[e]||String(e||"").toLowerCase().replace(/s$/,"")},h8e=function(e){return e===void 0};const f8e={s:s_,z:l8e,m:c8e,a:u8e,p:d8e,u:h8e};var o0="en",kh={};kh[o0]=xj;var _j="$isDayjsObject",XE=function(e){return e instanceof ZO||!!(e&&e[_j])},S2=function t(e,n,r){var i;if(!e)return o0;if(typeof e=="string"){var s=e.toLowerCase();kh[s]&&(i=s),n&&(kh[s]=n,i=s);var o=e.split("-");if(!i&&o.length>1)return t(o[0])}else{var a=e.name;kh[a]=e,i=a}return!r&&i&&(o0=i),i||!r&&o0},$i=function(e,n){if(XE(e))return e.clone();var r=typeof n=="object"?n:{};return r.date=e,r.args=arguments,new ZO(r)},m8e=function(e,n){return $i(e,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})},Kn=f8e;Kn.l=S2;Kn.i=XE;Kn.w=m8e;var g8e=function(e){var n=e.date,r=e.utc;if(n===null)return new Date(NaN);if(Kn.u(n))return new Date;if(n instanceof Date)return new Date(n);if(typeof n=="string"&&!/Z$/i.test(n)){var i=n.match(s8e);if(i){var s=i[2]-1||0,o=(i[7]||"0").substring(0,3);return r?new Date(Date.UTC(i[1],s,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)):new Date(i[1],s,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)}}return new Date(n)},ZO=function(){function t(n){this.$L=S2(n.locale,null,!0),this.parse(n),this.$x=this.$x||n.x||{},this[_j]=!0}var e=t.prototype;return e.parse=function(r){this.$d=g8e(r),this.init()},e.init=function(){var r=this.$d;this.$y=r.getFullYear(),this.$M=r.getMonth(),this.$D=r.getDate(),this.$W=r.getDay(),this.$H=r.getHours(),this.$m=r.getMinutes(),this.$s=r.getSeconds(),this.$ms=r.getMilliseconds()},e.$utils=function(){return Kn},e.isValid=function(){return this.$d.toString()!==v9},e.isSame=function(r,i){var s=$i(r);return this.startOf(i)<=s&&s<=this.endOf(i)},e.isAfter=function(r,i){return $i(r)<this.startOf(i)},e.isBefore=function(r,i){return this.endOf(i)<$i(r)},e.$g=function(r,i,s){return Kn.u(r)?this[i]:this.set(s,r)},e.unix=function(){return Math.floor(this.valueOf()/1e3)},e.valueOf=function(){return this.$d.getTime()},e.startOf=function(r,i){var s=this,o=Kn.u(i)?!0:i,a=Kn.p(r),l=function(b,y){var C=Kn.w(s.$u?Date.UTC(s.$y,y,b):new Date(s.$y,y,b),s);return o?C:C.endOf(Fu)},c=function(b,y){var C=[0,0,0,0],x=[23,59,59,999];return Kn.w(s.toDate()[b].apply(s.toDate("s"),(o?C:x).slice(y)),s)},d=this.$W,h=this.$M,f=this.$D,m="set"+(this.$u?"UTC":"");switch(a){case Bu:return o?l(1,0):l(31,11);case Ya:return o?l(1,h):l(0,h+1);case Kb:{var g=this.$locale().weekStart||0,p=(d<g?d+7:d)-g;return l(o?f-p:f+(6-p),h)}case Fu:case em:return c(m+"Hours",0);case Jf:return c(m+"Minutes",1);case Kf:return c(m+"Seconds",2);case Zf:return c(m+"Milliseconds",3);default:return this.clone()}},e.endOf=function(r){return this.startOf(r,!1)},e.$set=function(r,i){var s,o=Kn.p(r),a="set"+(this.$u?"UTC":""),l=(s={},s[Fu]=a+"Date",s[em]=a+"Date",s[Ya]=a+"Month",s[Bu]=a+"FullYear",s[Jf]=a+"Hours",s[Kf]=a+"Minutes",s[Zf]=a+"Seconds",s[WE]=a+"Milliseconds",s)[o],c=o===Fu?this.$D+(i-this.$W):i;if(o===Ya||o===Bu){var d=this.clone().set(em,1);d.$d[l](c),d.init(),this.$d=d.set(em,Math.min(this.$D,d.daysInMonth())).$d}else l&&this.$d[l](c);return this.init(),this},e.set=function(r,i){return this.clone().$set(r,i)},e.get=function(r){return this[Kn.p(r)]()},e.add=function(r,i){var s=this,o;r=Number(r);var a=Kn.p(i),l=function(f){var m=$i(s);return Kn.w(m.date(m.date()+Math.round(f*r)),s)};if(a===Ya)return this.set(Ya,this.$M+r);if(a===Bu)return this.set(Bu,this.$y+r);if(a===Fu)return l(1);if(a===Kb)return l(7);var c=(o={},o[Kf]=FS,o[Jf]=p9,o[Zf]=ig,o)[a]||1,d=this.$d.getTime()+r*c;return Kn.w(d,this)},e.subtract=function(r,i){return this.add(r*-1,i)},e.format=function(r){var i=this,s=this.$locale();if(!this.isValid())return s.invalidDate||v9;var o=r||i8e,a=Kn.z(this),l=this.$H,c=this.$m,d=this.$M,h=s.weekdays,f=s.months,m=s.meridiem,g=function(C,x,O,S){return C&&(C[x]||C(i,o))||O[x].slice(0,S)},p=function(C){return Kn.s(l%12||12,C,"0")},v=m||function(y,C,x){var O=y<12?"AM":"PM";return x?O.toLowerCase():O},b=function(C){switch(C){case"YY":return String(i.$y).slice(-2);case"YYYY":return Kn.s(i.$y,4,"0");case"M":return d+1;case"MM":return Kn.s(d+1,2,"0");case"MMM":return g(s.monthsShort,d,f,3);case"MMMM":return g(f,d);case"D":return i.$D;case"DD":return Kn.s(i.$D,2,"0");case"d":return String(i.$W);case"dd":return g(s.weekdaysMin,i.$W,h,2);case"ddd":return g(s.weekdaysShort,i.$W,h,3);case"dddd":return h[i.$W];case"H":return String(l);case"HH":return Kn.s(l,2,"0");case"h":return p(1);case"hh":return p(2);case"a":return v(l,c,!0);case"A":return v(l,c,!1);case"m":return String(c);case"mm":return Kn.s(c,2,"0");case"s":return String(i.$s);case"ss":return Kn.s(i.$s,2,"0");case"SSS":return Kn.s(i.$ms,3,"0");case"Z":return a}return null};return o.replace(o8e,function(y,C){return C||b(y)||a.replace(":","")})},e.utcOffset=function(){return-Math.round(this.$d.getTimezoneOffset()/15)*15},e.diff=function(r,i,s){var o=this,a=Kn.p(i),l=$i(r),c=(l.utcOffset()-this.utcOffset())*FS,d=this-l,h=function(){return Kn.m(o,l)},f;switch(a){case Bu:f=h()/12;break;case Ya:f=h();break;case Sj:f=h()/3;break;case Kb:f=(d-c)/r8e;break;case Fu:f=(d-c)/n8e;break;case Jf:f=d/p9;break;case Kf:f=d/FS;break;case Zf:f=d/ig;break;default:f=d;break}return s?f:Kn.a(f)},e.daysInMonth=function(){return this.endOf(Ya).$D},e.$locale=function(){return kh[this.$L]},e.locale=function(r,i){if(!r)return this.$L;var s=this.clone(),o=S2(r,i,!0);return o&&(s.$L=o),s},e.clone=function(){return Kn.w(this.$d,this)},e.toDate=function(){return new Date(this.valueOf())},e.toJSON=function(){return this.isValid()?this.toISOString():null},e.toISOString=function(){return this.$d.toISOString()},e.toString=function(){return this.$d.toUTCString()},t}(),Cj=ZO.prototype;$i.prototype=Cj;[["$ms",WE],["$s",Zf],["$m",Kf],["$H",Jf],["$W",Fu],["$M",Ya],["$y",Bu],["$D",em]].forEach(function(t){Cj[t[1]]=function(e){return this.$g(e,t[0],t[1])}});$i.extend=function(t,e){return t.$i||(t(e,ZO,$i),t.$i=!0),$i};$i.locale=S2;$i.isDayjs=XE;$i.unix=function(t){return $i(t*1e3)};$i.en=kh[o0];$i.Ls=kh;$i.p={};var xo={name:"en-gb",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekStart:1,yearStart:4,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},ordinal:function(e){var n=["th","st","nd","rd"],r=e%100;return"["+e+(n[(r-20)%10]||n[r]||n[0])+"]"}};$i.locale(xo,null,!0);const p8e=Object.freeze(Object.defineProperty({__proto__:null,default:xo},Symbol.toStringTag,{value:"Module"}));var Ej={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Zi,function(){return function(n,r){var i=r.prototype,s=i.format;i.format=function(o){var a=this,l=this.$locale();if(!this.isValid())return s.bind(this)(o);var c=this.$utils(),d=(o||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(h){switch(h){case"Q":return Math.ceil((a.$M+1)/3);case"Do":return l.ordinal(a.$D);case"gggg":return a.weekYear();case"GGGG":return a.isoWeekYear();case"wo":return l.ordinal(a.week(),"W");case"w":case"ww":return c.s(a.week(),h==="w"?1:2,"0");case"W":case"WW":return c.s(a.isoWeek(),h==="W"?1:2,"0");case"k":case"kk":return c.s(String(a.$H===0?24:a.$H),h==="k"?1:2,"0");case"X":return Math.floor(a.$d.getTime()/1e3);case"x":return a.$d.getTime();case"z":return"["+a.offsetName()+"]";case"zzz":return"["+a.offsetName("long")+"]";default:return h}});return s.bind(this)(d)}}})})(Ej);var v8e=Ej.exports;const b8e=Jo(v8e);var Tj={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Zi,function(){return function(n,r,i){var s="h:mm A",o={lastDay:"[Yesterday at] "+s,sameDay:"[Today at] "+s,nextDay:"[Tomorrow at] "+s,nextWeek:"dddd [at] "+s,lastWeek:"[Last] dddd [at] "+s,sameElse:"MM/DD/YYYY"};r.prototype.calendar=function(a,l){var c=l||this.$locale().calendar||o,d=i(a||void 0).startOf("d"),h=this.diff(d,"d",!0),f="sameElse",m=h<-6?f:h<-1?"lastWeek":h<0?"lastDay":h<1?"sameDay":h<2?"nextDay":h<7?"nextWeek":f,g=c[m]||o[m];return typeof g=="function"?g.call(this,i()):this.format(g)}}})})(Tj);var y8e=Tj.exports;const O8e=Jo(y8e);var Dj={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Zi,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,i,s){var o=i.prototype,a=o.format;s.en.formats=n,o.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,d=function(h,f){return h.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(m,g,p){var v=p&&p.toUpperCase();return g||f[p]||n[p]||f[v].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(b,y,C){return y||C.slice(1)})})}(l,c===void 0?{}:c);return a.call(this,d)}}})})(Dj);var w8e=Dj.exports;const k8e=Jo(w8e);var Aj={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Zi,function(){return function(n,r,i){n=n||{};var s=r.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(c,d,h,f){return s.fromToBase(c,d,h,f)}i.en.relativeTime=o,s.fromToBase=function(c,d,h,f,m){for(var g,p,v,b=h.$locale().relativeTime||o,y=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],C=y.length,x=0;x<C;x+=1){var O=y[x];O.d&&(g=f?i(c).diff(h,O.d,!0):h.diff(c,O.d,!0));var S=(n.rounding||Math.round)(Math.abs(g));if(v=g>0,S<=O.r||!O.r){S<=1&&x>0&&(O=y[x-1]);var T=b[O.l];m&&(S=m(""+S)),p=typeof T=="string"?T.replace("%d",S):T(S,d,O.l,v);break}}if(d)return p;var $=v?b.future:b.past;return typeof $=="function"?$(p):$.replace("%s",p)},s.to=function(c,d){return a(c,d,this,!0)},s.from=function(c,d){return a(c,d,this)};var l=function(c){return c.$u?i.utc():i()};s.toNow=function(c){return this.to(l(this),c)},s.fromNow=function(c){return this.from(l(this),c)}}})})(Aj);var S8e=Aj.exports;const x8e=Jo(S8e);var Pj={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Zi,function(){return function(n,r,i){i.updateLocale=function(s,o){var a=i.Ls[s];if(a)return(o?Object.keys(o):[]).forEach(function(l){a[l]=o[l]}),a}}})})(Pj);var _8e=Pj.exports;const C8e=Jo(_8e);vu.extend(O8e);vu.extend(k8e);vu.extend(x8e);vu.extend(b8e);vu.extend(C8e);const[Zv,E8e]=ve([null,null]);async function Rj(t,e,n){const r=t.dayjs??t.i18n,i=n??A8e[r]??await hj(Object.assign({"../../node_modules/dayjs/esm/locale/af.js":()=>R(()=>import("./af-DxDjZ8-U.js"),[]),"../../node_modules/dayjs/esm/locale/am.js":()=>R(()=>import("./am-DOjvhu2A.js"),[]),"../../node_modules/dayjs/esm/locale/ar-dz.js":()=>R(()=>import("./ar-dz-M6OullfV.js"),[]),"../../node_modules/dayjs/esm/locale/ar-iq.js":()=>R(()=>import("./ar-iq-BQTWyiGZ.js"),[]),"../../node_modules/dayjs/esm/locale/ar-kw.js":()=>R(()=>import("./ar-kw-iPhg9OU_.js"),[]),"../../node_modules/dayjs/esm/locale/ar-ly.js":()=>R(()=>import("./ar-ly-BxlslHNe.js"),[]),"../../node_modules/dayjs/esm/locale/ar-ma.js":()=>R(()=>import("./ar-ma-COy-ds49.js"),[]),"../../node_modules/dayjs/esm/locale/ar-sa.js":()=>R(()=>import("./ar-sa-D2mHpnfH.js"),[]),"../../node_modules/dayjs/esm/locale/ar-tn.js":()=>R(()=>import("./ar-tn-Cg7SzzEE.js"),[]),"../../node_modules/dayjs/esm/locale/ar.js":()=>R(()=>import("./ar-CH-tDRfV.js"),[]),"../../node_modules/dayjs/esm/locale/az.js":()=>R(()=>import("./az-COGJiCAt.js"),[]),"../../node_modules/dayjs/esm/locale/be.js":()=>R(()=>import("./be-mD7C0GIg.js"),[]),"../../node_modules/dayjs/esm/locale/bg.js":()=>R(()=>import("./bg-CmnraWwK.js"),[]),"../../node_modules/dayjs/esm/locale/bi.js":()=>R(()=>import("./bi-thCQFBiU.js"),[]),"../../node_modules/dayjs/esm/locale/bm.js":()=>R(()=>import("./bm-DURUuWT4.js"),[]),"../../node_modules/dayjs/esm/locale/bn-bd.js":()=>R(()=>import("./bn-bd-B-ZoQxUu.js"),[]),"../../node_modules/dayjs/esm/locale/bn.js":()=>R(()=>import("./bn-iRagTPkR.js"),[]),"../../node_modules/dayjs/esm/locale/bo.js":()=>R(()=>import("./bo-5DaMMHqQ.js"),[]),"../../node_modules/dayjs/esm/locale/br.js":()=>R(()=>import("./br-Wv1ry8ZE.js"),[]),"../../node_modules/dayjs/esm/locale/bs.js":()=>R(()=>import("./bs-ogylYlPE.js"),[]),"../../node_modules/dayjs/esm/locale/ca.js":()=>R(()=>import("./ca-C3XQYmFG.js"),[]),"../../node_modules/dayjs/esm/locale/cs.js":()=>R(()=>import("./cs-Ci0t1oIH.js"),[]),"../../node_modules/dayjs/esm/locale/cv.js":()=>R(()=>import("./cv-IYWyv3BH.js"),[]),"../../node_modules/dayjs/esm/locale/cy.js":()=>R(()=>import("./cy-1Ft-b7uX.js"),[]),"../../node_modules/dayjs/esm/locale/da.js":()=>R(()=>import("./da-D_n-O1zX.js"),[]),"../../node_modules/dayjs/esm/locale/de-at.js":()=>R(()=>import("./de-at-C-4ti6lC.js"),[]),"../../node_modules/dayjs/esm/locale/de-ch.js":()=>R(()=>import("./de-ch-CGLGNqXf.js"),[]),"../../node_modules/dayjs/esm/locale/de.js":()=>R(()=>import("./de-B1MYMeLH.js"),[]),"../../node_modules/dayjs/esm/locale/dv.js":()=>R(()=>import("./dv-BcBABg0Y.js"),[]),"../../node_modules/dayjs/esm/locale/el.js":()=>R(()=>import("./el-Dp_rj8lw.js"),[]),"../../node_modules/dayjs/esm/locale/en-au.js":()=>R(()=>import("./en-au-VD7bZY_J.js"),[]),"../../node_modules/dayjs/esm/locale/en-ca.js":()=>R(()=>import("./en-ca-CbCZ0uyx.js"),[]),"../../node_modules/dayjs/esm/locale/en-gb.js":()=>R(()=>Promise.resolve().then(()=>p8e),void 0),"../../node_modules/dayjs/esm/locale/en-ie.js":()=>R(()=>import("./en-ie-ReswH14Y.js"),[]),"../../node_modules/dayjs/esm/locale/en-il.js":()=>R(()=>import("./en-il-D5qdFbXi.js"),[]),"../../node_modules/dayjs/esm/locale/en-in.js":()=>R(()=>import("./en-in-DlqXTgyc.js"),[]),"../../node_modules/dayjs/esm/locale/en-nz.js":()=>R(()=>import("./en-nz-e2oJtAId.js"),[]),"../../node_modules/dayjs/esm/locale/en-sg.js":()=>R(()=>import("./en-sg-CyenATrN.js"),[]),"../../node_modules/dayjs/esm/locale/en-tt.js":()=>R(()=>import("./en-tt-CTu5PMqJ.js"),[]),"../../node_modules/dayjs/esm/locale/en.js":()=>R(()=>Promise.resolve().then(()=>a8e),void 0),"../../node_modules/dayjs/esm/locale/eo.js":()=>R(()=>import("./eo-K3DZ3WAH.js"),[]),"../../node_modules/dayjs/esm/locale/es-do.js":()=>R(()=>import("./es-do-CZolNC8K.js"),[]),"../../node_modules/dayjs/esm/locale/es-mx.js":()=>R(()=>import("./es-mx-ChWesAFL.js"),[]),"../../node_modules/dayjs/esm/locale/es-pr.js":()=>R(()=>import("./es-pr-D0hrrugM.js"),[]),"../../node_modules/dayjs/esm/locale/es-us.js":()=>R(()=>import("./es-us-Cti6AD4U.js"),[]),"../../node_modules/dayjs/esm/locale/es.js":()=>R(()=>import("./es-C3irU2Gn.js"),[]),"../../node_modules/dayjs/esm/locale/et.js":()=>R(()=>import("./et-C1--XR78.js"),[]),"../../node_modules/dayjs/esm/locale/eu.js":()=>R(()=>import("./eu-m4NJEWNt.js"),[]),"../../node_modules/dayjs/esm/locale/fa.js":()=>R(()=>import("./fa-BGGSaBUl.js"),[]),"../../node_modules/dayjs/esm/locale/fi.js":()=>R(()=>import("./fi-BkDOyIO2.js"),[]),"../../node_modules/dayjs/esm/locale/fo.js":()=>R(()=>import("./fo-CxbjE3wi.js"),[]),"../../node_modules/dayjs/esm/locale/fr-ca.js":()=>R(()=>import("./fr-ca-CD8eilKK.js"),[]),"../../node_modules/dayjs/esm/locale/fr-ch.js":()=>R(()=>import("./fr-ch-KYidW9vb.js"),[]),"../../node_modules/dayjs/esm/locale/fr.js":()=>R(()=>import("./fr-yAyuFxIZ.js"),[]),"../../node_modules/dayjs/esm/locale/fy.js":()=>R(()=>import("./fy-DVDC78dG.js"),[]),"../../node_modules/dayjs/esm/locale/ga.js":()=>R(()=>import("./ga-CY34tHj_.js"),[]),"../../node_modules/dayjs/esm/locale/gd.js":()=>R(()=>import("./gd-BW-guzxU.js"),[]),"../../node_modules/dayjs/esm/locale/gl.js":()=>R(()=>import("./gl-CIDgLHPy.js"),[]),"../../node_modules/dayjs/esm/locale/gom-latn.js":()=>R(()=>import("./gom-latn-8E_aUPag.js"),[]),"../../node_modules/dayjs/esm/locale/gu.js":()=>R(()=>import("./gu-DDt4q2PL.js"),[]),"../../node_modules/dayjs/esm/locale/he.js":()=>R(()=>import("./he-BNHB4n7B.js"),[]),"../../node_modules/dayjs/esm/locale/hi.js":()=>R(()=>import("./hi-jxrYuUgL.js"),[]),"../../node_modules/dayjs/esm/locale/hr.js":()=>R(()=>import("./hr-MUT4r-Cs.js"),[]),"../../node_modules/dayjs/esm/locale/ht.js":()=>R(()=>import("./ht-BZ8N6SHc.js"),[]),"../../node_modules/dayjs/esm/locale/hu.js":()=>R(()=>import("./hu-BSIq8kCD.js"),[]),"../../node_modules/dayjs/esm/locale/hy-am.js":()=>R(()=>import("./hy-am-DI6n2HdT.js"),[]),"../../node_modules/dayjs/esm/locale/id.js":()=>R(()=>import("./id-B6mAwKkA.js"),[]),"../../node_modules/dayjs/esm/locale/is.js":()=>R(()=>import("./is-DjCLOCJz.js"),[]),"../../node_modules/dayjs/esm/locale/it-ch.js":()=>R(()=>import("./it-ch-Bas_MrPh.js"),[]),"../../node_modules/dayjs/esm/locale/it.js":()=>R(()=>import("./it-BuhV8YjT.js"),[]),"../../node_modules/dayjs/esm/locale/ja.js":()=>R(()=>import("./ja-CeWdUSPa.js"),[]),"../../node_modules/dayjs/esm/locale/jv.js":()=>R(()=>import("./jv-Frn58kMn.js"),[]),"../../node_modules/dayjs/esm/locale/ka.js":()=>R(()=>import("./ka-B78s3HxX.js"),[]),"../../node_modules/dayjs/esm/locale/kk.js":()=>R(()=>import("./kk-CZIzijOV.js"),[]),"../../node_modules/dayjs/esm/locale/km.js":()=>R(()=>import("./km-DxqH4DRW.js"),[]),"../../node_modules/dayjs/esm/locale/kn.js":()=>R(()=>import("./kn-B8n6Pe8l.js"),[]),"../../node_modules/dayjs/esm/locale/ko.js":()=>R(()=>import("./ko-J3m-Qakc.js"),[]),"../../node_modules/dayjs/esm/locale/ku.js":()=>R(()=>import("./ku-D1X13uRw.js"),[]),"../../node_modules/dayjs/esm/locale/ky.js":()=>R(()=>import("./ky-xIwGLim4.js"),[]),"../../node_modules/dayjs/esm/locale/lb.js":()=>R(()=>import("./lb-UXqc2vb1.js"),[]),"../../node_modules/dayjs/esm/locale/lo.js":()=>R(()=>import("./lo-CXOjgHsr.js"),[]),"../../node_modules/dayjs/esm/locale/lt.js":()=>R(()=>import("./lt-BfhglA7C.js"),[]),"../../node_modules/dayjs/esm/locale/lv.js":()=>R(()=>import("./lv-3LJ-dlj8.js"),[]),"../../node_modules/dayjs/esm/locale/me.js":()=>R(()=>import("./me-Dt5D90LI.js"),[]),"../../node_modules/dayjs/esm/locale/mi.js":()=>R(()=>import("./mi-OH9T-Wuu.js"),[]),"../../node_modules/dayjs/esm/locale/mk.js":()=>R(()=>import("./mk-D5BMnsCj.js"),[]),"../../node_modules/dayjs/esm/locale/ml.js":()=>R(()=>import("./ml-pgAjZ7MN.js"),[]),"../../node_modules/dayjs/esm/locale/mn.js":()=>R(()=>import("./mn-DBwW6di4.js"),[]),"../../node_modules/dayjs/esm/locale/mr.js":()=>R(()=>import("./mr-CqWqEeDS.js"),[]),"../../node_modules/dayjs/esm/locale/ms-my.js":()=>R(()=>import("./ms-my-CvCraaxL.js"),[]),"../../node_modules/dayjs/esm/locale/ms.js":()=>R(()=>import("./ms-OK6asDgQ.js"),[]),"../../node_modules/dayjs/esm/locale/mt.js":()=>R(()=>import("./mt-DAe7Y0bb.js"),[]),"../../node_modules/dayjs/esm/locale/my.js":()=>R(()=>import("./my-Nr4ftuYJ.js"),[]),"../../node_modules/dayjs/esm/locale/nb.js":()=>R(()=>import("./nb--o0TLFnp.js"),[]),"../../node_modules/dayjs/esm/locale/ne.js":()=>R(()=>import("./ne-qg5grKcA.js"),[]),"../../node_modules/dayjs/esm/locale/nl-be.js":()=>R(()=>import("./nl-be-CaIkM1yi.js"),[]),"../../node_modules/dayjs/esm/locale/nl.js":()=>R(()=>import("./nl-Bzfwv84t.js"),[]),"../../node_modules/dayjs/esm/locale/nn.js":()=>R(()=>import("./nn-C960oqnu.js"),[]),"../../node_modules/dayjs/esm/locale/oc-lnc.js":()=>R(()=>import("./oc-lnc-CXWTwEeI.js"),[]),"../../node_modules/dayjs/esm/locale/pa-in.js":()=>R(()=>import("./pa-in-CPbFMPGj.js"),[]),"../../node_modules/dayjs/esm/locale/pl.js":()=>R(()=>import("./pl-DC8JIVSt.js"),[]),"../../node_modules/dayjs/esm/locale/pt-br.js":()=>R(()=>import("./pt-br-Bcrpkk9M.js"),[]),"../../node_modules/dayjs/esm/locale/pt.js":()=>R(()=>import("./pt-BEYWt_XC.js"),[]),"../../node_modules/dayjs/esm/locale/rn.js":()=>R(()=>import("./rn-DCPcA-jt.js"),[]),"../../node_modules/dayjs/esm/locale/ro.js":()=>R(()=>import("./ro-CAQpCQs3.js"),[]),"../../node_modules/dayjs/esm/locale/ru.js":()=>R(()=>import("./ru-B2zbA-4r.js"),[]),"../../node_modules/dayjs/esm/locale/rw.js":()=>R(()=>import("./rw-B9TWter3.js"),[]),"../../node_modules/dayjs/esm/locale/sd.js":()=>R(()=>import("./sd-BL-lfPw0.js"),[]),"../../node_modules/dayjs/esm/locale/se.js":()=>R(()=>import("./se-BKTVBjit.js"),[]),"../../node_modules/dayjs/esm/locale/si.js":()=>R(()=>import("./si-FNP__r8w.js"),[]),"../../node_modules/dayjs/esm/locale/sk.js":()=>R(()=>import("./sk-T2qBAKg7.js"),[]),"../../node_modules/dayjs/esm/locale/sl.js":()=>R(()=>import("./sl-CjZlJPOw.js"),[]),"../../node_modules/dayjs/esm/locale/sq.js":()=>R(()=>import("./sq-BuWUGB_5.js"),[]),"../../node_modules/dayjs/esm/locale/sr-cyrl.js":()=>R(()=>import("./sr-cyrl-DVjJJ_k2.js"),[]),"../../node_modules/dayjs/esm/locale/sr.js":()=>R(()=>import("./sr-BBQNGUiu.js"),[]),"../../node_modules/dayjs/esm/locale/ss.js":()=>R(()=>import("./ss-C_gBH-hS.js"),[]),"../../node_modules/dayjs/esm/locale/sv-fi.js":()=>R(()=>import("./sv-fi-QRSwKY4q.js"),[]),"../../node_modules/dayjs/esm/locale/sv.js":()=>R(()=>import("./sv-BcBhfDZM.js"),[]),"../../node_modules/dayjs/esm/locale/sw.js":()=>R(()=>import("./sw-DxKl6Zdz.js"),[]),"../../node_modules/dayjs/esm/locale/ta.js":()=>R(()=>import("./ta-PL-y-W8o.js"),[]),"../../node_modules/dayjs/esm/locale/te.js":()=>R(()=>import("./te-5QhwlhIh.js"),[]),"../../node_modules/dayjs/esm/locale/tet.js":()=>R(()=>import("./tet-DnOMqsw0.js"),[]),"../../node_modules/dayjs/esm/locale/tg.js":()=>R(()=>import("./tg-B0M1XSo6.js"),[]),"../../node_modules/dayjs/esm/locale/th.js":()=>R(()=>import("./th-CUL9Veq1.js"),[]),"../../node_modules/dayjs/esm/locale/tk.js":()=>R(()=>import("./tk-LR09bKRo.js"),[]),"../../node_modules/dayjs/esm/locale/tl-ph.js":()=>R(()=>import("./tl-ph-CPPQGI1J.js"),[]),"../../node_modules/dayjs/esm/locale/tlh.js":()=>R(()=>import("./tlh-BZcnsEq5.js"),[]),"../../node_modules/dayjs/esm/locale/tr.js":()=>R(()=>import("./tr-Lnm33RXQ.js"),[]),"../../node_modules/dayjs/esm/locale/tzl.js":()=>R(()=>import("./tzl-D3RhFubu.js"),[]),"../../node_modules/dayjs/esm/locale/tzm-latn.js":()=>R(()=>import("./tzm-latn-Bk0pvoq-.js"),[]),"../../node_modules/dayjs/esm/locale/tzm.js":()=>R(()=>import("./tzm-CUH6Gg3W.js"),[]),"../../node_modules/dayjs/esm/locale/ug-cn.js":()=>R(()=>import("./ug-cn-C_K_YLl_.js"),[]),"../../node_modules/dayjs/esm/locale/uk.js":()=>R(()=>import("./uk-Bu3Ljl5c.js"),[]),"../../node_modules/dayjs/esm/locale/ur.js":()=>R(()=>import("./ur-B4caP4rR.js"),[]),"../../node_modules/dayjs/esm/locale/uz-latn.js":()=>R(()=>import("./uz-latn-CzITY1RZ.js"),[]),"../../node_modules/dayjs/esm/locale/uz.js":()=>R(()=>import("./uz-zbAy1m-_.js"),[]),"../../node_modules/dayjs/esm/locale/vi.js":()=>R(()=>import("./vi-h5xzeeRN.js"),[]),"../../node_modules/dayjs/esm/locale/x-pseudo.js":()=>R(()=>import("./x-pseudo-DpO3n0WK.js"),[]),"../../node_modules/dayjs/esm/locale/yo.js":()=>R(()=>import("./yo-CfvnX6T2.js"),[]),"../../node_modules/dayjs/esm/locale/zh-cn.js":()=>R(()=>import("./zh-cn-OW4sVWIP.js"),[]),"../../node_modules/dayjs/esm/locale/zh-hk.js":()=>R(()=>import("./zh-hk-DwpzQASF.js"),[]),"../../node_modules/dayjs/esm/locale/zh-tw.js":()=>R(()=>import("./zh-tw-Bcb3hRAK.js"),[]),"../../node_modules/dayjs/esm/locale/zh.js":()=>R(()=>import("./zh-CE_Q22gj.js"),[])}),`../../node_modules/dayjs/esm/locale/${r}.js`,7).then(o=>o.default);i.calendar={lastDay:Ja._("[Yesterday at] LT"),sameDay:Ja._("[Today at] LT"),nextDay:Ja._("[Tomorrow at] LT"),lastWeek:Ja._("[Last] dddd [at] LT"),nextWeek:Ja._("dddd [at] LT"),sameElse:"L"};const s={...t.localeOptions,...e};o_(s,r,i)}function o_(t,e,n){const[r,i]=Zv();e=e??r,n=n??i;const s={...n,formats:{...n.formats,L:t.dateFormat??n.formats.L,LT:t.timeFormat??n.formats.LT}};E8e([e,s])}function T8e(){Rj(Kl.en,{},xo)}function Ad(){return t=>vu(t).locale(...Zv())}const D8e={name:"en",weekdays:xo.weekdays,weekdaysShort:xo.weekdaysShort,weekdaysMin:xo.weekdaysMin,months:xo.months,monthsShort:xo.monthsShort,weekStart:xo.weekStart,yearStart:xo.yearStart,relativeTime:xo.relativeTime,formats:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},ordinal:xo.ordinal},A8e={"en-gb":xo,en:D8e};function YE(){const{_:t}=Dt();return e=>{if(e?.type&&typeof e.type=="string"){const n=e;switch(n.type){case"AlreadyFriends":return t({id:"3SvY3I"});case"AlreadyInGroup":return t({id:"n98CaP"});case"AlreadyInServer":return t({id:"oZwna+"});case"AlreadyOnboarded":return t({id:"9aXylH"});case"AlreadyPinned":return t({id:"+YLOgs"});case"AlreadySentRequest":return t({id:"6SbL0M"});case"Banned":return t({id:"BdNgHC"});case"Blocked":return t({id:"FHt0ec"});case"BlockedByOther":return t({id:"go1IWB"});case"BotIsPrivate":return t({id:"29CYN+"});case"CannotEditMessage":return t({id:"xNX5ts"});case"CannotGiveMissingPermissions":return t({id:"Iv8J9I"});case"CannotJoinCall":return t({id:"cmPDVh"});case"CannotRemoveYourself":return t({id:"LW1RJD"});case"CannotReportYourself":return t({id:"bhyRbj"});case"CannotTimeoutYourself":return t({id:"WJC869"});case"DatabaseError":return t({id:"s3Lr9i",values:{0:n.location}});case"DiscriminatorChangeRatelimited":return t({id:"5E4aaY"});case"DuplicateNonce":return t({id:"MKFJJj"});case"EmptyMessage":return t({id:"J8MJJ1"});case"FailedValidation":return t({id:"xgBgdK",values:{0:n.error}});case"FeatureDisabled":return t({id:"5oopXz"});case"FileTypeNotAllowed":return t({id:"sbEQ1t"});case"GroupTooLarge":return t({id:"CLcA06",values:{0:n.max}});case"ImageProcessingFailed":return t({id:"y2Agdb"});case"InternalError":return t({id:"nmJMeQ",values:{0:n.location}});case"InvalidCredentials":return t({id:"QeVmvt"});case"InvalidSession":return t({id:"uKsCnO"});case"InvalidUsername":return t({id:"rsj13C"});case"MissingPermission":case"MissingUserPermission":return t({id:"RGaLS9"});case"NoEffect":return t({id:"hPfTol"});case"NotElevated":return t({id:"B5Ha0r"});case"NotFound":return t({id:"1e699+"});case"ReachedMaximumBots":return t({id:"a5WQGl"});case"UsernameTaken":return t({id:"iONOLk"});case"TooManyEmoji":return t({id:"K1Tm4u",values:{0:n.max}});case"TooManyChannels":return t({id:"DZW4ic",values:{0:n.max}});case"TooManyServers":return t({id:"S6nbNv",values:{0:n.max}});case"TooManyPendingFriendRequests":return t({id:"mIIVsO",values:{0:n.max}});case"PayloadTooLarge":return t({id:"Ka7c9y"});case"ShortPassword":return t({id:"zp5Vve"});case"LockedOut":return t({id:"0Omj69"});case"CompromisedPassword":return t({id:"KQTmt7"});case"UnverifiedAccount":return t({id:"inDEkK"});case"TotpAlreadyEnabled":return t({id:"vbiLHC"});case"FileTooLarge":case"FileTooSmall":case"InvalidFlagValue":case"InvalidOperation":case"InvalidProperty":case"InvalidRole":case"IsBot":case"IsNotBot":case"LabelMe":case"NoEmbedData":case"NotAuthenticated":case"NotFriends":case"NotInGroup":case"NotOwner":case"NotPinned":case"NotPrivileged":case"ProxyError":case"TooManyAttachments":case"TooManyEmbeds":case"TooManyReplies":case"TooManyRoles":case"UnknownAttachment":case"UnknownChannel":case"UnknownMessage":case"UnknownServer":case"UnknownUser":case"VosoUnavailable":return n.type+" "+n.location}}if(e?.message&&typeof e.message=="string"){const n=e.message.trim();if(n)return n}return t({id:"eXlbBv"})}}function P8e(t){return u(Pee,{i18n:Ja,get children(){return t.children}})}async function R8e(t,e){if(t!==Ja.locale){const n=Kl[t].i18n==="en"?HE:(await hj(Object.assign({"./catalogs/ar/messages.ts":()=>R(()=>import("./messages-tvE5Aw4N.js"),[]),"./catalogs/as/messages.ts":()=>R(()=>import("./messages-CimUR87n.js"),[]),"./catalogs/az/messages.ts":()=>R(()=>import("./messages-CO7ykXqZ.js"),[]),"./catalogs/be/messages.ts":()=>R(()=>import("./messages-bR8AHGJg.js"),[]),"./catalogs/bg/messages.ts":()=>R(()=>import("./messages-CIYjH1j8.js"),[]),"./catalogs/bn/messages.ts":()=>R(()=>import("./messages-DAXqmX9d.js"),[]),"./catalogs/bottom/messages.ts":()=>R(()=>import("./messages-BMd1xQY3.js"),[]),"./catalogs/br/messages.ts":()=>R(()=>import("./messages-DI4fO1pv.js"),[]),"./catalogs/ca/messages.ts":()=>R(()=>import("./messages-DJeojITC.js"),[]),"./catalogs/ceb/messages.ts":()=>R(()=>import("./messages-Cf_6-8nK.js"),[]),"./catalogs/ckb/messages.ts":()=>R(()=>import("./messages-fWr-UmP0.js"),[]),"./catalogs/cs/messages.ts":()=>R(()=>import("./messages-P7g_eVD3.js"),[]),"./catalogs/da/messages.ts":()=>R(()=>import("./messages-0vCO1ffw.js"),[]),"./catalogs/de/messages.ts":()=>R(()=>import("./messages-DnwdxsTH.js"),[]),"./catalogs/dev/messages.ts":()=>R(()=>import("./messages-BiK-vs73.js"),[]),"./catalogs/el/messages.ts":()=>R(()=>import("./messages-DsnG6res.js"),[]),"./catalogs/en/messages.ts":()=>R(()=>Promise.resolve().then(()=>J7e),void 0),"./catalogs/en_US/messages.ts":()=>R(()=>import("./messages-B4palfHl.js"),[]),"./catalogs/enchantment/messages.ts":()=>R(()=>import("./messages-CophjGcF.js"),[]),"./catalogs/eo/messages.ts":()=>R(()=>import("./messages-D1PZXrue.js"),[]),"./catalogs/es/messages.ts":()=>R(()=>import("./messages-DvEWpVnK.js"),[]),"./catalogs/es_419/messages.ts":()=>R(()=>import("./messages-C7aKPZ_s.js"),[]),"./catalogs/et/messages.ts":()=>R(()=>import("./messages-C5e1yTVM.js"),[]),"./catalogs/fa/messages.ts":()=>R(()=>import("./messages-DlIrJcJz.js"),[]),"./catalogs/fi/messages.ts":()=>R(()=>import("./messages-Przp4_5l.js"),[]),"./catalogs/fil/messages.ts":()=>R(()=>import("./messages-BqDXGXTq.js"),[]),"./catalogs/fr/messages.ts":()=>R(()=>import("./messages-VGvjIThg.js"),[]),"./catalogs/ga/messages.ts":()=>R(()=>import("./messages-BMszF1wl.js"),[]),"./catalogs/hi/messages.ts":()=>R(()=>import("./messages-BwNRzY1Y.js"),[]),"./catalogs/hr/messages.ts":()=>R(()=>import("./messages-GXQwqF-S.js"),[]),"./catalogs/hu/messages.ts":()=>R(()=>import("./messages-CcnN16sp.js"),[]),"./catalogs/hy/messages.ts":()=>R(()=>import("./messages-DZqmVZbP.js"),[]),"./catalogs/id/messages.ts":()=>R(()=>import("./messages-BNawOrzB.js"),[]),"./catalogs/is/messages.ts":()=>R(()=>import("./messages-CifSTAr2.js"),[]),"./catalogs/it/messages.ts":()=>R(()=>import("./messages-CX5ya2-D.js"),[]),"./catalogs/ja/messages.ts":()=>R(()=>import("./messages-C-FBNfRo.js"),[]),"./catalogs/ko/messages.ts":()=>R(()=>import("./messages-ZAznM_Kx.js"),[]),"./catalogs/lb/messages.ts":()=>R(()=>import("./messages-CCaGLCkl.js"),[]),"./catalogs/leet/messages.ts":()=>R(()=>import("./messages-DxsAnBwE.js"),[]),"./catalogs/lt/messages.ts":()=>R(()=>import("./messages-5OZEbV0z.js"),[]),"./catalogs/lv/messages.ts":()=>R(()=>import("./messages-Bmup2FH5.js"),[]),"./catalogs/mk/messages.ts":()=>R(()=>import("./messages-CwrEzUI_.js"),[]),"./catalogs/ms/messages.ts":()=>R(()=>import("./messages-BVt-9REc.js"),[]),"./catalogs/nb_NO/messages.ts":()=>R(()=>import("./messages-CjtYmtWq.js"),[]),"./catalogs/nl/messages.ts":()=>R(()=>import("./messages-C-iJ7lxG.js"),[]),"./catalogs/owo/messages.ts":()=>R(()=>import("./messages-Dxh9Y2D_.js"),[]),"./catalogs/piglatin/messages.ts":()=>R(()=>import("./messages-DVmlV6Mc.js"),[]),"./catalogs/pl/messages.ts":()=>R(()=>import("./messages-BPt1g2Nm.js"),[]),"./catalogs/pr/messages.ts":()=>R(()=>import("./messages-Df_7WBQw.js"),[]),"./catalogs/pt_BR/messages.ts":()=>R(()=>import("./messages-CkuMn5Af.js"),[]),"./catalogs/pt_PT/messages.ts":()=>R(()=>import("./messages-CwhEiM-u.js"),[]),"./catalogs/ro/messages.ts":()=>R(()=>import("./messages-Dtgv6O3M.js"),[]),"./catalogs/ru/messages.ts":()=>R(()=>import("./messages-FhR0dVuz.js"),[]),"./catalogs/si/messages.ts":()=>R(()=>import("./messages-BNGpQkMw.js"),[]),"./catalogs/sk/messages.ts":()=>R(()=>import("./messages-Bk_QfVWi.js"),[]),"./catalogs/sl/messages.ts":()=>R(()=>import("./messages-cWoj5bgw.js"),[]),"./catalogs/sq/messages.ts":()=>R(()=>import("./messages-BYjPfKbU.js"),[]),"./catalogs/sr/messages.ts":()=>R(()=>import("./messages-B1Hi6LS0.js"),[]),"./catalogs/sv/messages.ts":()=>R(()=>import("./messages-mfPjNko2.js"),[]),"./catalogs/ta/messages.ts":()=>R(()=>import("./messages-BIfwQ67Q.js"),[]),"./catalogs/th/messages.ts":()=>R(()=>import("./messages-DO-H67nk.js"),[]),"./catalogs/tokipona/messages.ts":()=>R(()=>import("./messages-DFm58OSp.js"),[]),"./catalogs/tr/messages.ts":()=>R(()=>import("./messages-4dnKFfCP.js"),[]),"./catalogs/uk/messages.ts":()=>R(()=>import("./messages-DG160jUM.js"),[]),"./catalogs/ur/messages.ts":()=>R(()=>import("./messages-BzY39Rgi.js"),[]),"./catalogs/vec/messages.ts":()=>R(()=>import("./messages-B9aVNPpj.js"),[]),"./catalogs/vi/messages.ts":()=>R(()=>import("./messages-C6ms40PI.js"),[]),"./catalogs/zh_Hans/messages.ts":()=>R(()=>import("./messages-M63jQTCl.js"),[]),"./catalogs/zh_Hant/messages.ts":()=>R(()=>import("./messages-DHsq5_Rn.js"),[])}),`./catalogs/${Kl[t].i18n}/messages.ts`,4)).messages;Ja.load({[t]:n}),Ja.activate(t),Rj(Kl[t],e)}}function Mj(){const t=Object.keys(Kl).map(e=>[e,Kl[e]]);return navigator.languages.map(e=>t.find(n=>n[0].replace(/_/g,"-")==e)).filter(e=>e)[0]?.[0]??navigator.languages.map(e=>e.split("-")[0]).map(e=>t.find(n=>n[0]==e)).filter(e=>e)[0]?.[0]??bj.ENGLISH}function M8e(){Ja.load({en:HE}),Ja.activate("en"),T8e()}M8e();class I8e extends ta{constructor(e){super(e,"locale")}hydrate(){const{lang:e,options:n}=this.get();R8e(e,n)}default(){return{lang:Mj(),options:{}}}clean(e){let n=e.lang;n in Kl||(n=this.default().lang);const r={};return typeof e.options?.dateFormat=="string"&&(r.dateFormat=e.options.dateFormat),typeof e.options?.timeFormat=="string"&&(r.timeFormat=e.options.timeFormat),typeof e.options?.rtl=="boolean"&&(r.rtl=e.options.rtl),{lang:n,options:r}}switch(e){this.set("lang",e),this.hydrate()}setDateFormat(e){this.set("options","dateFormat",e),o_({dateFormat:e})}setTimeFormat(e){this.set("options","timeFormat",e),o_({timeFormat:e})}}const b9=["all","mention","none"],$8e={SavedMessages:"all",DirectMessage:"all",Group:"all",TextChannel:void 0},L8e="mention";class N8e extends ta{activeNotifications={};#e;constructor(e){super(e,"notifications");const[n,r]=ve(+new Date);this.#e=n,setInterval(()=>r(+new Date),6e3)}hydrate(){}default(){return{server:{},channel:{},server_mutes:{},channel_mutes:{}}}clean(e){const n={},r={},i={},s={};if(typeof e.server=="object")for(const a of Object.keys(e.server)){const l=e.server[a];l==="muted"&&(i[a]={}),l&&b9.includes(l)&&(n[a]=l)}if(typeof e.channel=="object")for(const a of Object.keys(e.channel)){const l=e.channel[a];l==="muted"&&(s[a]={}),l&&b9.includes(l)&&(r[a]=l)}const o=+new Date;if(typeof e.server_mutes=="object")for(const a of Object.keys(e.server_mutes)){const l=e.server_mutes[a];l&&(typeof l.until>"u"||typeof l.until=="number"&&l.until>o)&&(i[a]={until:l.until})}if(typeof e.channel_mutes=="object")for(const a of Object.keys(e.channel_mutes)){const l=e.channel_mutes[a];l&&(typeof l.until>"u"||typeof l.until=="number"&&l.until>o)&&(s[a]={until:l.until})}return{server:n,channel:r,server_mutes:i,channel_mutes:s}}computeForServer(e){return e?this.get().server[e.id]??L8e:void 0}computeForChannel(e){return this.get().channel[e.id]??this.computeForServer(e.server)??$8e[e.type]}setServer(e,n){this.set("server",e.id,n)}setServerMute(e,n){this.set("server_mutes",e.id,n)}getServerMute(e){return this.get().server_mutes[e.id]}setChannel(e,n){this.set("channel",e.id,n)}setChannelMute(e,n){this.set("channel_mutes",e.id,n)}getChannel(e){return this.get().channel[e.id]}getChannelMute(e){return this.get().channel_mutes[e.id]}isMuted(e){let n;if(e instanceof Nm){if(this.isMuted(e.server))return!0;n=this.get().channel_mutes[e.id]}else e instanceof oo&&(n=this.get().server_mutes[e.id]);return!!n&&(!n.until||n.until>this.#e())}isChannelMuted(e){const n=this.get().channel_mutes[e.id];return!!n&&(!n.until||n.until>this.#e())}}class F8e extends ta{constructor(e){super(e,"ordering"),this.setServerOrder=this.setServerOrder.bind(this)}hydrate(){}default(){return{servers:[]}}clean(e){const n=this.default();if(Array.isArray(e.servers))for(const r of e.servers)typeof r=="string"&&n.servers.push(r);return n}orderedServers(e){const n=new Set(e?.servers.keys()??[]),r=[...this.get().servers],i=[];for(const s of r)n.delete(s)&&i.push(e.servers.get(s));for(const s of n)i.push(e.servers.get(s));return i}setServerOrder(e){this.set("servers",e)}orderedConversations(e){return e.channels.toList().filter(n=>n.type==="DirectMessage"&&n.active||n.type==="Group").sort((n,r)=>+r.updatedAt-+n.updatedAt)??[]}}function Kv(t){const[e,n]=sn(t,["id"]),r=pt(),i=()=>`${r()?.configuration?.features.autumn.url}/emojis/${e.id}`;return u(Ij,ge(n,{loading:"lazy",class:"emoji",draggable:!1,get src(){return i()},get alt(){return`:${e.id}:`}}))}const Ij=H("img",{base:{objectFit:"contain",display:"inline-block",width:"var(--emoji-size)",height:"var(--emoji-size)",margin:"0 0.05em 0 0.1em",verticalAlign:"-0.3em",color:"transparent","&:before":{content:"' '",display:"block",position:"absolute",height:"50px",width:"50px",backgroundImage:"url(ishere.jpg)"}}});function a_(t){return u(Me,{get fallback(){return u(va,{get emoji(){return t.emoji}})},get children(){return u(Z,{get when(){return t.emoji.length===26},get children(){return u(Kv,{get id(){return t.emoji}})}})}})}const $j=["fluent-3d","fluent-color","fluent-flat","mutant","noto","openmoji","twemoji"],Lj={"fluent-flat":"",mutant:"",noto:"",openmoji:"",twemoji:""},Nj=new RegExp("([-]?(?:"+lj().source+"))","g"),B8e="".codePointAt(0),z8e="".codePointAt(0),Q8e={"":"fluent-3d","":"fluent-3d","":"fluent-flat","":"mutant","":"noto","":"openmoji","":"twemoji"},Fj=t=>t.startsWith(":")?!1:!!t.slice(0,1).match("[-]");function GE(t="fluent-3d",e){return`https://static.stoat.chat/emoji/${t}/${_7e(e)}.svg?v=1`}function va(t){const[e,n]=sn(t,["emoji"]);return u(Ij,ge(n,{loading:"lazy",class:"emoji",get alt(){return e.emoji},draggable:!1,get src(){return GE(t.pack,t.emoji)}}))}const U8e={"appearance:unicode_emoji":"string","appearance:show_send_button":"boolean","appearance:compact_mode":"boolean","advanced:copy_id":"boolean","advanced:admin_panel":"boolean","changelog:last_index":"number"},V8e={};let j8e=class extends ta{constructor(e){super(e,"settings")}hydrate(){}default(){return{"appearance:unicode_emoji":"fluent-3d","appearance:show_send_button":!0,"appearance:compact_mode":!1,"advanced:copy_id":!1,"advanced:admin_panel":!1}}clean(e){const n=this.default();for(const r of Object.keys(e)){const i=U8e[r];if(typeof i=="function"){const s=i(e[r]);s&&(n[r]=s)}else r==="appearance:unicode_emoji"?$j.includes(e[r])&&(n[r]=e[r]):typeof e[r]===i&&(n[r]=e[r])}return n}setValue(e,n){this.set(e,n)}getValue(e){return this.get()[e]??V8e[e]}};const ob=["ordering","notifications"];class q8e extends ta{#e;#t;constructor(e){super(e,"sync"),this.#e=new Set,this.#t=new ba}hydrate(){}default(){return{revision:{ordering:0,notifications:0}}}clean(e){return{revision:Object.keys(e.revision??{}).filter(n=>ob.includes(n)).filter(n=>e.revision?.[n]).reduce((n,r)=>({...n,[r]:e.revision?.[r]}),{})}}async initialSync(e){const n=await e.api.post("/sync/settings/fetch",{keys:ob});for(const r in n){const[i,s]=n[r];this.merge(i,r,s)}}async save(e){const n=this.#t.keys().toArray(),r=+new Date,i=n.reduce((s,o)=>({...s,[o]:JSON.stringify(this.state.get(o))}),{timestamp:r});Nt(()=>n.forEach(s=>{this.set("revision",s,r),this.#t.delete(s)})),await e.api.post("/sync/settings/set",i)}ts(e){return this.get().revision[e]}touch(e){if(this.#e.has(e)){this.#e.delete(e);return}this.set("revision",e,+new Date),this.#t.add(e)}touchIfSyncable(e){ob.includes(e)&&this.touch(e)}merge(e,n,r){if(e>this.ts(n)){const i=this.state[n].clean(JSON.parse(r));this.set("revision",n,e),this.#e.add(n),this.state.set(n,i)}else e!==this.ts(n)&&this.touch(n)}consumeEvent(e){for(const n in e)if(ob.includes(n)){const[r,i]=e[n];this.merge(r,n,i)}}get shouldSync(){return this.#t.values().next().done===!1}}class H8e extends ta{prefersDark;constructor(e){super(e,"theme");const[n,r]=ve(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches);this.prefersDark=n,window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",i=>r(i.matches)),this.toggleBlur=this.toggleBlur.bind(this)}hydrate(){}default(){return{preset:"you",mode:"system",m3Accent:"#5470ec",m3Contrast:0,m3Variant:"tonal_spot",interfaceFont:"Inter",monospaceFont:"Fira Code",blur:!0,messageSize:14,messageGroupSpacing:12}}clean(e){const n=this.default();return["light","dark","system"].includes(e.mode)&&(n.mode=e.mode),["you","neutral"].includes(e.preset)&&(n.preset=e.preset),typeof e.m3Contrast=="number"&&(n.m3Contrast=e.m3Contrast),e.m3Accent&&e.m3Accent.match(/#(?:[0-9a-fA-F]{3}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})/)&&(n.m3Accent=e.m3Accent),["monochrome","neutral","tonal_spot","vibrant","expressive","fidelity","content","rainbow","fruit_salad"].includes(e.m3Variant)&&(n.m3Variant=e.m3Variant),typeof e.blur=="boolean"&&(n.blur=e.blur),typeof e.messageSize=="number"&&(n.messageSize=e.messageSize),typeof e.messageGroupSpacing=="number"&&(n.messageGroupSpacing=e.messageGroupSpacing),n}get activeTheme(){const e=this.get();switch(e.preset){case"you":return{blur:e.blur,interfaceFont:e.interfaceFont,monospaceFont:e.monospaceFont,messageSize:e.messageSize,messageGroupSpacing:e.messageGroupSpacing,preset:"you",darkMode:e.mode==="dark"||e.mode==="system"&&this.prefersDark(),accent:e.m3Accent,contrast:e.m3Contrast,variant:e.m3Variant}}}get mode(){return this.get().mode}setMode(e){this.set("mode",e)}get preset(){return this.get().preset}setPreset(e){this.set("preset",e)}get m3Accent(){return this.get().m3Accent}setM3Accent(e){this.set("m3Accent",e)}get m3Contrast(){return this.get().m3Contrast}setM3Contrast(e){this.set("m3Contrast",e)}get m3Variant(){return this.get().m3Variant}setM3Variant(e){this.set("m3Variant",e)}get blur(){return this.get().blur}toggleBlur(){this.set("blur",!this.blur)}get interfaceFont(){return this.get().interfaceFont}setInterfaceFont(e){return this.set("interfaceFont",e)}get monospaceFont(){return this.get().monospaceFont}setMonospaceFont(e){return this.set("monospaceFont",e)}get messageSize(){return this.get().messageSize}set messageSize(e){this.set("messageSize",e)}get messageGroupSpacing(){return this.get().messageGroupSpacing}set messageGroupSpacing(e){this.set("messageGroupSpacing",e)}}let W8e=class extends ta{constructor(e){super(e,"voice")}hydrate(){}default(){return{echoCancellation:!0,noiseSupression:!0,inputVolume:1,outputVolume:1,userVolumes:{},userMutes:{}}}clean(e){const n=this.default();return typeof e.preferredAudioInputDevice=="string"&&(n.preferredAudioInputDevice=e.preferredAudioInputDevice),typeof e.preferredAudioOutputDevice=="string"&&(n.preferredAudioOutputDevice=e.preferredAudioOutputDevice),typeof e.echoCancellation=="boolean"&&(n.echoCancellation=e.echoCancellation),typeof e.noiseSupression=="boolean"&&(n.noiseSupression=e.noiseSupression),typeof e.inputVolume=="number"&&(n.inputVolume=e.inputVolume),typeof e.outputVolume=="number"&&(n.outputVolume=e.outputVolume),typeof e.userVolumes=="object"&&Object.entries(e.userVolumes).filter(([r,i])=>typeof r=="string"&&typeof i=="number").forEach(([r,i])=>n.userVolumes[r]=i),typeof e.userMutes=="object"&&Object.entries(e.userMutes).filter(([r,i])=>typeof r=="string"&&i===!0).forEach(([r,i])=>n.userMutes[r]=i),n}setUserVolume(e,n){this.set("userVolumes",e,n)}getUserVolume(e){return this.get().userVolumes[e]||1}setUserMuted(e,n){this.set("userMutes",e,n)}getUserMuted(e){return this.get().userMutes[e]||!1}set preferredAudioInputDevice(e){this.set("preferredAudioInputDevice",e)}set preferredAudioOutputDevice(e){this.set("preferredAudioOutputDevice",e)}set echoCancellation(e){this.set("echoCancellation",e)}set noiseSupression(e){this.set("noiseSupression",e)}set inputVolume(e){this.set("inputVolume",e)}set outputVolume(e){this.set("outputVolume",e)}get preferredAudioInputDevice(){return this.get().preferredAudioInputDevice}get preferredAudioOutputDevice(){return this.get().preferredAudioInputDevice}get echoCancellation(){return this.get().echoCancellation}get noiseSupression(){return this.get().noiseSupression}get inputVolume(){return this.get().inputVolume}get outputVolume(){return this.get().outputVolume}};function X8e(){const t=Ht(),e=pt();function n(r){r.type==="UserSettingsUpdate"&&t.sync.consumeEvent(r.update)}return dt(Zt(()=>e(),r=>{r&&(t.sync.initialSync(r),r.events.addListener("event",n),wt(()=>r.events.removeListener("event",n)))})),dt(Zt(()=>t.sync.shouldSync,r=>r&&t.sync.save(e()))),null}const Y8e=1200,G8e=["auth"];let Z8e=class{store;setStore;writeQueue;auth=new P7e(this);draft=new M7e(this);experiments=new $7e(this);keybinds=new L7e(this);layout=new R7e(this);linkSafety=new N7e(this);locale=new I8e(this);notifications=new N8e(this);ordering=new F8e(this);settings=new j8e(this);sync=new q8e(this);theme=new H8e(this);voice=new W8e(this);iterStores(){return Object.keys(this).filter(e=>this[e]?._storeHint).map(e=>this[e])}defaults(){const e={};for(const n of this.iterStores())e[n.getKey()]=n.default();return e}constructor(){const[e,n]=$a(this.defaults());this.store=e,this.setStore=n,this.writeQueue={}}write=(...e)=>{this.setStore(...e);const n=e[0];this.sync.touchIfSyncable(n),this.writeQueue[n]&&clearTimeout(this.writeQueue[n]),this.writeQueue[n]=setTimeout(()=>{delete this.writeQueue[n],d9.setItem(n,JSON.parse(JSON.stringify(this.store[n])))},G8e.includes(n)?0:Y8e)};set=(...e)=>{this.write(...e)};get(e){return this.store[e]}async hydrate(){for(const e of this.iterStores()){const n=await d9.getItem(e.getKey());if(n){const r=e.clean(n);D7e(n,r)?this.setStore(e.getKey(),n):this.write(e.getKey(),r)}}for(const e of this.iterStores())e.hydrate()}};const Bj=yr(null);function K8e(t){const e=new Z8e,[n,r]=ve(!1);return Tn(()=>e.hydrate().then(()=>r(!0))),u(Bj.Provider,{value:e,get children(){return u(X,{get when(){return n()},get children(){return t.children}})}})}function Ht(){return Nn(Bj)}const Ae=H("div",{base:{display:"flex",flexDirection:"column",flexGrow:"initial",margin:"0",alignItems:"initial",justifyContent:"initial"},variants:{grow:{true:{flexGrow:1}},group:{true:{margin:"16px 0"}},align:{true:{alignItems:"center"},stretch:{alignItems:"stretch"}},justify:{true:{justifyContent:"center"},stretch:{justifyContent:"stretch"}},gap:{xs:{gap:"var(--gap-xs)"},s:{gap:"var(--gap-s)"},sm:{gap:"var(--gap-sm)"},md:{gap:"var(--gap-md)"},lg:{gap:"var(--gap-lg)"},xl:{gap:"var(--gap-xl)"},none:{}}},defaultVariants:{gap:"md"}}),nv=H("div",{base:{gap:"10px",flex:"0 auto",display:"flex",flexShrink:0,padding:"0 16px",alignItems:"center",fontWeight:600,userSelect:"none",overflow:"hidden",height:"48px",borderRadius:"var(--borderRadius-lg)",color:"var(--md-sys-color-on-surface)",fill:"var(--md-sys-color-on-surface)",backgroundSize:"cover !important",backgroundPosition:"center !important","& svg":{flexShrink:0}},variants:{placement:{primary:{margin:"var(--gap-md) var(--gap-md) var(--gap-md) 0"},secondary:{margin:"var(--gap-md)",backgroundColor:"var(--md-sys-color-surface-variant)"}},image:{true:{color:"white",fill:"white",padding:0,alignItems:"flex-end",justifyContent:"stretch",textShadow:"0px 0px 1px var(--md-sys-color-shadow)",height:"120px","& > div":{flexGrow:1,padding:"6px 14px",background:"linear-gradient(0deg, black, transparent)"}},false:{}},transparent:{true:{width:"calc(100% - var(--gap-md))",zIndex:"10"},false:{}}},defaultVariants:{placement:"primary",image:!1,transparent:!1}}),J8e=H("div",{base:{position:"relative",zIndex:"10","& > div > div":{width:"100%",position:"absolute",top:"var(--gap-md)"}}}),ZE=nn({base:{flexGrow:1,minWidth:0,minHeight:0,display:"flex",overflow:"hidden",flexDirection:"column",paddingInline:"var(--gap-md)",marginInline:"var(--gap-md)",marginBlockEnd:"var(--gap-md)",borderRadius:"var(--borderRadius-xl)",background:"var(--md-sys-color-surface-container-lowest)"}}),kt=H("div",{base:{display:"flex",flexDirection:"row",flexGrow:"initial",flexWrap:"initial",gap:"var(--gap-md)",alignItems:"initial",justifyContent:"initial"},variants:{grow:{true:{flexGrow:1}},wrap:{true:{flexWrap:"wrap"}},align:{true:{alignItems:"center"},stretch:{alignItems:"stretch"}},justify:{true:{justifyContent:"center"},stretch:{"& *":{flex:1}}},gap:{xs:{gap:"var(--gap-xs)"},sm:{gap:"var(--gap-sm)"},md:{gap:"var(--gap-md)"},lg:{gap:"var(--gap-lg)"},xl:{gap:"var(--gap-xl)"},none:{gap:"unset"}},minWidth:{0:{minWidth:0}}}});function eDe(t){const e=pt(),n=Dr(),{showError:r}=Ne(),i=Ho(()=>({queryKey:["invite",t.code],queryFn:()=>e().api.get(`/invites/${t.code}`).then(o=>Cd.from(e(),o)),refetchInterval:!1,refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1})),s=ss(()=>({mutationFn:()=>i.data.join(),onSuccess(o){n(o.path)},onError:r}));return u(tDe,{get children(){return u(Ev,{get fallback(){return u(Zr,{})},get children(){return[u(zt,{size:42,get src(){return i.data instanceof sh?i.data.serverIcon?.previewUrl:void 0},get fallback(){return i.data instanceof sh?i.data.serverName:void 0}}),u(Ae,{gap:"none",grow:!0,get children(){return[u(Le,{class:"title",size:"small",get children(){return i.data instanceof sh?i.data.serverName:void 0}}),u(Le,{class:"label",get children(){return[Ce(()=>i.data instanceof sh?i.data.memberCount:void 0)," ","members"]}})]}}),u(Me,{get fallback(){return u(ot,{onPress:()=>s.mutate(),children:"Join"})},get children(){return u(Z,{get when(){return Ce(()=>i.data instanceof sh)()&&e().servers?.has(i.data.serverId)},get children(){return u(ot,{isDisabled:!0,get children(){return u(k,{id:"2gMuHR"})}})}})}})]}})}})}const tDe=H("div",{base:{display:"flex",alignItems:"center",width:"320px",height:"64px",gap:"var(--gap-md)",padding:"var(--gap-md)",borderRadius:"var(--borderRadius-md)",color:"var(--md-sys-color-on-secondary-container)",background:"var(--md-sys-color-secondary-container)"}});function yt(t){const[e,n]=sn(t,["fill","fontSize","grade","opticalSize","weight","type","size"]),[r,i]=Tte(n),s=ke(()=>hn({fontSize:e.fontSize??"inherit",fontWeight:`${e.weight} !important`,fontOpticalSizing:e.opticalSize==="auto"?"auto":void 0},r)),o=ke(()=>`"FILL" ${e.fill?1:0}, "wght" 400, "GRAD" ${e.grade??0}${(e.opticalSize??"auto")==="auto"?"":`, "opsz" ${e.opticalSize}`}`);return u(H.span,ge({get class(){return`material-symbols-${e.type??"outlined"} ${s()}`},get style(){return{display:"block","font-variation-settings":o(),"font-size":e.size?`${e.size}px`:void 0}},"aria-hidden":"true"},i,{get"use:floating"(){return n["use:floating"]}}))}var nDe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M4 4h16v12H5.17L4 17.17zm0-2c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm2 10h8v2H6zm0-3h12v2H6zm0-3h12v2H6z">');const zj=(t={})=>(()=>{var e=nDe();return Se(e,t,!0,!0),e})();var rDe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z">');const KO=(t={})=>(()=>{var e=rDe();return Se(e,t,!0,!0),e})();var iDe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M9 13.75c-2.34 0-7 1.17-7 3.5V19h14v-1.75c0-2.33-4.66-3.5-7-3.5M4.34 17c.84-.58 2.87-1.25 4.66-1.25s3.82.67 4.66 1.25zM9 12c1.93 0 3.5-1.57 3.5-3.5S10.93 5 9 5 5.5 6.57 5.5 8.5 7.07 12 9 12m0-5c.83 0 1.5.67 1.5 1.5S9.83 10 9 10s-1.5-.67-1.5-1.5S8.17 7 9 7m7.04 6.81c1.16.84 1.96 1.96 1.96 3.44V19h4v-1.75c0-2.02-3.5-3.17-5.96-3.44M15 12c1.93 0 3.5-1.57 3.5-3.5S16.93 5 15 5c-.54 0-1.04.13-1.5.35.63.89 1 1.98 1 3.15s-.37 2.26-1 3.15c.46.22.96.35 1.5.35">');const sDe=(t={})=>(()=>{var e=iDe();return Se(e,t,!0,!0),e})();var Bp=I("<span>"),oDe=I("<a>");const BS=nn({base:{cursor:"pointer",color:"var(--md-sys-color-primary) !important"}}),ab=nn({base:{verticalAlign:"bottom",gap:"4px",paddingLeft:"2px",paddingRight:"6px",alignItems:"center",display:"inline-flex",textDecoration:"none !important",cursor:"pointer",fontWeight:600,borderRadius:"var(--borderRadius-lg)",fill:"var(--md-sys-color-on-primary)",color:"var(--md-sys-color-on-primary)",background:"var(--md-sys-color-primary)"}});function rv(t){const[e,n]=sn(t,["href","target","disabled"]);if(!e.href)return(()=>{var r=Bp();return V(r,()=>n.children),r})();try{let r=function(a){(a.button===0||a.button===1)&&(a.preventDefault(),a.stopPropagation(),o({type:"link_warning",url:i,display:a.currentTarget.innerText}))},i=new URL(e.href);if((i.origin==="https://rvlt.gg"||i.origin==="https://stt.gg")&&(/^\/[\w\d]+$/.test(i.pathname)?i=new URL(`/invite${i.pathname}`,location.origin):i.pathname.startsWith("/discover")&&(i=new URL(i.pathname,location.origin))),[location.origin,"https://app.revolt.chat","https://revolt.chat","https://stoat.chat"].includes(i.origin)){const a=pt(),l=OO(i.pathname);if(l.exactChannel){const c=()=>a().channels.get(l.channelId),d=()=>new URL(c().serverId?`/server/${c().serverId}/channel/${c().id}`:`/channel/${c().id}`,location.origin).toString();return u(Me,{get fallback(){return(()=>{var h=Bp();return V(h,u(yt,{children:"tag"}),null),V(h,u(k,{id:"xJH2T8"}),null),Te(()=>ut(h,ab())),h})()},get children(){return u(Z,{get when(){return c()},get children(){return u(hp,{get class(){return ab()},get disabled(){return e.disabled},get href(){return d()},get children(){return[u(yt,{children:"tag"}),Ce(()=>c().name),Ce(()=>Ce(()=>!!l.exactMessage)()&&[u(KO,ge(()=>at("1em"))),u(zj,ge(()=>at("1em")))])]}})}})}})}else if(l.exactServer){const c=()=>a().servers.get(l.serverId),d=()=>new URL(`/server/${c().id}`,location.origin).toString();return u(Me,{get fallback(){return(()=>{var h=Bp();return V(h,u(sDe,ge(()=>at("1em"))),null),V(h,u(k,{id:"X6noYz"}),null),Te(()=>ut(h,ab())),h})()},get children(){return u(Z,{get when(){return c()},get children(){return u(hp,{get class(){return ab()},get disabled(){return e.disabled},get href(){return d()},get children(){return[u(zt,{size:16,get src(){return c()?.iconURL}})," ",Ce(()=>c()?.name)]}})}})}})}else{if(l.inviteId&&Array.isArray(n.children)&&n.children[0]===e.href&&!e.disabled)return u(eDe,{get code(){return l.inviteId}});{const c=()=>new URL(i.pathname,location.origin).toString();return u(hp,ge(n,{get class(){return BS()},get disabled(){return e.disabled},get href(){return c()}}))}}}const s=Ht(),{openModal:o}=Ne();return u(X,{get when(){return s.linkSafety.isTrusted(i)},get fallback(){return u(hp,ge(n,{get class(){return BS()},get disabled(){return e.disabled},onClick:r,onAuxClick:r}))},get children(){return u(hp,ge(n,{get class(){return BS()},get disabled(){return e.disabled},get href(){return e.href},target:"_blank",rel:"noreferrer"}))}})}catch{return(()=>{var i=Bp();return V(i,()=>t.children),i})()}}function hp(t){const[e,n]=sn(t,["disabled"]);return e.disabled?(()=>{var r=Bp();return V(r,()=>n.children),Te(()=>ut(r,n.class)),r})():(()=>{var r=oDe();return Se(r,n,!1,!1),r})()}const aDe=/<#([A-z0-9]{26})>/g,lDe=()=>t=>{yl(t,"text",(e,n,r)=>{const i=e.value.split(aDe);if(i.length===1)return;const s=i.map((o,a)=>a%2?{type:"link",url:`${location.origin}/channel/${o}`}:{type:"text",value:o});return r.children.splice(n,1,...s),n+s.length})};var cDe=I("<div>"),zS=I("<span>");function Qj(t){const[e,n]=ve(!0),r=pt(),i=()=>r().emojis.get(t.id),s=()=>r().servers.get(i().parent.id);return u(Me,{get fallback(){return(()=>{var o=zS();return V(o,()=>`:${i()?.name??t.id}:`),o})()},get children(){return u(Z,{get when(){return e()},get children(){var o=cDe();return Fe(Xt,o,()=>({tooltip:{placement:"top",content:()=>u(kt,{align:!0,gap:"lg",get children(){return[(()=>{var a=zS();return a.style.setProperty("--emoji-size","3em"),V(a,u(a_,{get emoji(){return t.id}})),a})(),u(Me,{get fallback(){return["Unknown emote",u(dDe,{get id(){return t.id}})]},get children(){return u(Z,{get when(){return i()?.parent.type==="Server"},get children(){return u(Ae,{align:!0,get children(){return[(()=>{var a=zS();return V(a,()=>`:${i().name}:`),a})(),u(Me,{fallback:"Private Server",get children(){return u(Z,{get when(){return s()},get children(){return u(kt,{align:!0,get children(){return[u(zt,{size:14,get src(){return s().animatedIconURL}}),Ce(()=>s().name)]}})}})}})]}})}})}})]}}),aria:i()?.parent.type==="Server"?`:${i().name}: from ${s()?.name??"Private Server"}`:"Unknown emote"}})),V(o,u(Kv,{get id(){return t.id},onError:()=>n(!1)})),Te(()=>ut(o,uDe())),o}})}})}const uDe=nn({base:{display:"inline-block"}});function dDe(t){const e=pt();return Tn(()=>e().emojis.fetch(t.id)),null}const Uj=()=>t=>{yl(t,"text",(e,n,r)=>{const i=e.value.split(cj);if(i.length===1)return;const s=[{type:"text",value:i.shift()}];for(let o=0;o<i.length/2;o++)s.push({type:"customEmoji",id:i[o*2]}),s.push({type:"text",value:i[o*2+1]});return r.children.splice(n,1,...s),n+s.length})},Vj=(t,e)=>({type:"element",tagName:"customEmoji",children:[],properties:{id:e.id}}),hDe=()=>t=>{yl(t,"html",e=>{e.type="text"})};function JO(t,e){return{username:e?.nickname??t?.displayName??"Unknown User",avatar:e?.animatedAvatarURL??t?.animatedAvatarURL,colour:e?.roleColour,user:t,member:e}}function ew(t,e){const n=pt(),r=du();return ke(()=>{const i=n(),s=(typeof t=="function"?t():t).map(o=>{const a=i.users.get(o);if(a)return JO(a,r().serverId?i.serverMembers.getByKey({server:r().serverId,user:a.id}):void 0)});return e?s.filter(o=>o):s})}function Dg(t){const e=ew(typeof t=="function"?()=>[t()]:[t]);return()=>e()[0]??{username:"Unknown User"}}var fDe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z">');const tw=(t={})=>(()=>{var e=fDe();return Se(e,t,!0,!0),e})();var mDe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M16 9v10H8V9zm-1.5-6h-5l-1 1H5v2h14V4h-3.5zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2z">');const Ol=(t={})=>(()=>{var e=mDe();return Se(e,t,!0,!0),e})();var gDe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M17.65 6.35A7.96 7.96 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z">');const pDe=(t={})=>(()=>{var e=gDe();return Se(e,t,!0,!0),e})(),x2=Math.min,Sh=Math.max,_2=Math.round,lb=Math.floor,Jl=t=>({x:t,y:t}),vDe={left:"right",right:"left",bottom:"top",top:"bottom"},bDe={start:"end",end:"start"};function y9(t,e,n){return Sh(t,x2(e,n))}function nw(t,e){return typeof t=="function"?t(e):t}function zh(t){return t.split("-")[0]}function rw(t){return t.split("-")[1]}function jj(t){return t==="x"?"y":"x"}function qj(t){return t==="y"?"height":"width"}function xh(t){return["top","bottom"].includes(zh(t))?"y":"x"}function Hj(t){return jj(xh(t))}function yDe(t,e,n){n===void 0&&(n=!1);const r=rw(t),i=Hj(t),s=qj(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=C2(o)),[o,C2(o)]}function ODe(t){const e=C2(t);return[l_(t),e,l_(e)]}function l_(t){return t.replace(/start|end/g,e=>bDe[e])}function wDe(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function kDe(t,e,n,r){const i=rw(t);let s=wDe(zh(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(l_)))),s}function C2(t){return t.replace(/left|right|bottom|top/g,e=>vDe[e])}function SDe(t){return{top:0,right:0,bottom:0,left:0,...t}}function xDe(t){return typeof t!="number"?SDe(t):{top:t,right:t,bottom:t,left:t}}function E2(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function O9(t,e,n){let{reference:r,floating:i}=t;const s=xh(e),o=Hj(e),a=qj(o),l=zh(e),c=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(rw(e)){case"start":m[o]-=f*(n&&c?-1:1);break;case"end":m[o]+=f*(n&&c?-1:1);break}return m}const _De=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=O9(c,r,l),f=r,m={},g=0;for(let p=0;p<a.length;p++){const{name:v,fn:b}=a[p],{x:y,y:C,data:x,reset:O}=await b({x:d,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});d=y??d,h=C??h,m={...m,[v]:{...m[v],...x}},O&&g<=50&&(g++,typeof O=="object"&&(O.placement&&(f=O.placement),O.rects&&(c=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):O.rects),{x:d,y:h}=O9(c,f,l)),p=-1)}return{x:d,y:h,placement:f,strategy:i,middlewareData:m}};async function Wj(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:m=0}=nw(e,t),g=xDe(m),v=a[f?h==="floating"?"reference":"floating":h],b=E2(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(v)))==null||n?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),y=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),x=await(s.isElement==null?void 0:s.isElement(C))?await(s.getScale==null?void 0:s.getScale(C))||{x:1,y:1}:{x:1,y:1},O=E2(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:C,strategy:l}):y);return{top:(b.top-O.top+g.top)/x.y,bottom:(O.bottom-b.bottom+g.bottom)/x.y,left:(b.left-O.left+g.left)/x.x,right:(O.right-b.right+g.right)/x.x}}const CDe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...v}=nw(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const b=zh(i),y=xh(a),C=zh(a)===a,x=await(l.isRTL==null?void 0:l.isRTL(c.floating)),O=f||(C||!p?[C2(a)]:ODe(a)),S=g!=="none";!f&&S&&O.push(...kDe(a,p,g,x));const T=[a,...O],$=await Wj(e,v),M=[];let P=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&M.push($[b]),h){const N=yDe(i,o,x);M.push($[N[0]],$[N[1]])}if(P=[...P,{placement:i,overflows:M}],!M.every(N=>N<=0)){var L,j;const N=(((L=s.flip)==null?void 0:L.index)||0)+1,z=T[N];if(z){var te;const re=h==="alignment"?y!==xh(z):!1,Q=((te=P[0])==null?void 0:te.overflows[0])>0;if(!re||Q)return{data:{index:N,overflows:P},reset:{placement:z}}}let K=(j=P.filter(re=>re.overflows[0]<=0).sort((re,Q)=>re.overflows[1]-Q.overflows[1])[0])==null?void 0:j.placement;if(!K)switch(m){case"bestFit":{var U;const re=(U=P.filter(Q=>{if(S){const D=xh(Q.placement);return D===y||D==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(D=>D>0).reduce((D,se)=>D+se,0)]).sort((Q,D)=>Q[1]-D[1])[0])==null?void 0:U[0];re&&(K=re);break}case"initialPlacement":K=a;break}if(i!==K)return{reset:{placement:K}}}return{}}}};async function EDe(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=zh(n),a=rw(n),l=xh(n)==="y",c=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,h=nw(e,t);let{mainAxis:f,crossAxis:m,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof g=="number"&&(m=a==="end"?g*-1:g),l?{x:m*d,y:f*c}:{x:f*c,y:m*d}}const TDe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await EDe(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},DDe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:v=>{let{x:b,y}=v;return{x:b,y}}},...l}=nw(t,e),c={x:n,y:r},d=await Wj(e,l),h=xh(zh(i)),f=jj(h);let m=c[f],g=c[h];if(s){const v=f==="y"?"top":"left",b=f==="y"?"bottom":"right",y=m+d[v],C=m-d[b];m=y9(y,m,C)}if(o){const v=h==="y"?"top":"left",b=h==="y"?"bottom":"right",y=g+d[v],C=g-d[b];g=y9(y,g,C)}const p=a.fn({...e,[f]:m,[h]:g});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[f]:s,[h]:o}}}}}};function iw(){return typeof window<"u"}function Ag(t){return Xj(t)?(t.nodeName||"").toLowerCase():"#document"}function Uo(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function mc(t){var e;return(e=(Xj(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Xj(t){return iw()?t instanceof Node||t instanceof Uo(t).Node:!1}function fl(t){return iw()?t instanceof Element||t instanceof Uo(t).Element:!1}function ic(t){return iw()?t instanceof HTMLElement||t instanceof Uo(t).HTMLElement:!1}function w9(t){return!iw()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Uo(t).ShadowRoot}function Jv(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=ml(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function ADe(t){return["table","td","th"].includes(Ag(t))}function sw(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function KE(t){const e=JE(),n=fl(t)?ml(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function PDe(t){let e=wd(t);for(;ic(e)&&!sg(e);){if(KE(e))return e;if(sw(e))return null;e=wd(e)}return null}function JE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function sg(t){return["html","body","#document"].includes(Ag(t))}function ml(t){return Uo(t).getComputedStyle(t)}function ow(t){return fl(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function wd(t){if(Ag(t)==="html")return t;const e=t.assignedSlot||t.parentNode||w9(t)&&t.host||mc(t);return w9(e)?e.host:e}function Yj(t){const e=wd(t);return sg(e)?t.ownerDocument?t.ownerDocument.body:t.body:ic(e)&&Jv(e)?e:Yj(e)}function og(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Yj(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Uo(i);if(s){const a=c_(o);return e.concat(o,o.visualViewport||[],Jv(i)?i:[],a&&n?og(a):[])}return e.concat(i,og(i,[],n))}function c_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Gj(t){const e=ml(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ic(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=_2(n)!==s||_2(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function e6(t){return fl(t)?t:t.contextElement}function wm(t){const e=e6(t);if(!ic(e))return Jl(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=Gj(e);let o=(s?_2(n.width):n.width)/r,a=(s?_2(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const RDe=Jl(0);function Zj(t){const e=Uo(t);return!JE()||!e.visualViewport?RDe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function MDe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Uo(t)?!1:e}function Qh(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=e6(t);let o=Jl(1);e&&(r?fl(r)&&(o=wm(r)):o=wm(t));const a=MDe(s,n,r)?Zj(s):Jl(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const f=Uo(s),m=r&&fl(r)?Uo(r):r;let g=f,p=c_(g);for(;p&&r&&m!==g;){const v=wm(p),b=p.getBoundingClientRect(),y=ml(p),C=b.left+(p.clientLeft+parseFloat(y.paddingLeft))*v.x,x=b.top+(p.clientTop+parseFloat(y.paddingTop))*v.y;l*=v.x,c*=v.y,d*=v.x,h*=v.y,l+=C,c+=x,g=Uo(p),p=c_(g)}}return E2({width:d,height:h,x:l,y:c})}function t6(t,e){const n=ow(t).scrollLeft;return e?e.left+n:Qh(mc(t)).left+n}function Kj(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:t6(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function IDe(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=mc(r),a=e?sw(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Jl(1);const d=Jl(0),h=ic(r);if((h||!h&&!s)&&((Ag(r)!=="body"||Jv(o))&&(l=ow(r)),ic(r))){const m=Qh(r);c=wm(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const f=o&&!h&&!s?Kj(o,l,!0):Jl(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+f.x,y:n.y*c.y-l.scrollTop*c.y+d.y+f.y}}function $De(t){return Array.from(t.getClientRects())}function LDe(t){const e=mc(t),n=ow(t),r=t.ownerDocument.body,i=Sh(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Sh(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+t6(t);const a=-n.scrollTop;return ml(r).direction==="rtl"&&(o+=Sh(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function NDe(t,e){const n=Uo(t),r=mc(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=JE();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function FDe(t,e){const n=Qh(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=ic(t)?wm(t):Jl(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function k9(t,e,n){let r;if(e==="viewport")r=NDe(t,n);else if(e==="document")r=LDe(mc(t));else if(fl(e))r=FDe(e,n);else{const i=Zj(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return E2(r)}function Jj(t,e){const n=wd(t);return n===e||!fl(n)||sg(n)?!1:ml(n).position==="fixed"||Jj(n,e)}function BDe(t,e){const n=e.get(t);if(n)return n;let r=og(t,[],!1).filter(a=>fl(a)&&Ag(a)!=="body"),i=null;const s=ml(t).position==="fixed";let o=s?wd(t):t;for(;fl(o)&&!sg(o);){const a=ml(o),l=KE(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Jv(o)&&!l&&Jj(t,o))?r=r.filter(d=>d!==o):i=a,o=wd(o)}return e.set(t,r),r}function zDe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?sw(e)?[]:BDe(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const h=k9(e,d,i);return c.top=Sh(h.top,c.top),c.right=x2(h.right,c.right),c.bottom=x2(h.bottom,c.bottom),c.left=Sh(h.left,c.left),c},k9(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function QDe(t){const{width:e,height:n}=Gj(t);return{width:e,height:n}}function UDe(t,e,n){const r=ic(e),i=mc(e),s=n==="fixed",o=Qh(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Jl(0);function c(){l.x=t6(i)}if(r||!r&&!s)if((Ag(e)!=="body"||Jv(i))&&(a=ow(e)),r){const m=Qh(e,!0,s,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else i&&c();s&&!r&&i&&c();const d=i&&!r&&!s?Kj(i,a):Jl(0),h=o.left+a.scrollLeft-l.x-d.x,f=o.top+a.scrollTop-l.y-d.y;return{x:h,y:f,width:o.width,height:o.height}}function QS(t){return ml(t).position==="static"}function S9(t,e){if(!ic(t)||ml(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return mc(t)===n&&(n=n.ownerDocument.body),n}function eq(t,e){const n=Uo(t);if(sw(t))return n;if(!ic(t)){let i=wd(t);for(;i&&!sg(i);){if(fl(i)&&!QS(i))return i;i=wd(i)}return n}let r=S9(t,e);for(;r&&ADe(r)&&QS(r);)r=S9(r,e);return r&&sg(r)&&QS(r)&&!KE(r)?n:r||PDe(t)||n}const VDe=async function(t){const e=this.getOffsetParent||eq,n=this.getDimensions,r=await n(t.floating);return{reference:UDe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function jDe(t){return ml(t).direction==="rtl"}const qDe={convertOffsetParentRelativeRectToViewportRelativeRect:IDe,getDocumentElement:mc,getClippingRect:zDe,getOffsetParent:eq,getElementRects:VDe,getClientRects:$De,getDimensions:QDe,getScale:wm,isElement:fl,isRTL:jDe};function tq(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function HDe(t,e){let n=null,r;const i=mc(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:d,top:h,width:f,height:m}=c;if(a||e(),!f||!m)return;const g=lb(h),p=lb(i.clientWidth-(d+f)),v=lb(i.clientHeight-(h+m)),b=lb(d),C={rootMargin:-g+"px "+-p+"px "+-v+"px "+-b+"px",threshold:Sh(0,x2(1,l))||1};let x=!0;function O(S){const T=S[0].intersectionRatio;if(T!==l){if(!x)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!tq(c,t.getBoundingClientRect())&&o(),x=!1}try{n=new IntersectionObserver(O,{...C,root:i.ownerDocument})}catch{n=new IntersectionObserver(O,C)}n.observe(t)}return o(!0),s}function n6(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=e6(t),d=i||s?[...c?og(c):[],...og(e)]:[];d.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),s&&b.addEventListener("resize",n)});const h=c&&a?HDe(c,n):null;let f=-1,m=null;o&&(m=new ResizeObserver(b=>{let[y]=b;y&&y.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var C;(C=m)==null||C.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let g,p=l?Qh(t):null;l&&v();function v(){const b=Qh(t);p&&!tq(p,b)&&n(),p=b,g=requestAnimationFrame(v)}return n(),()=>{var b;d.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),h?.(),(b=m)==null||b.disconnect(),m=null,l&&cancelAnimationFrame(g)}}const aw=TDe,lw=DDe,nq=CDe,WDe=(t,e,n)=>{const r=new Map,i={platform:qDe,...n},s={...i.platform,_c:r};return _De(t,e,{...i,platform:s})};function cw(t,e,n){let r=()=>{var h;return(h=n?.placement)!=null?h:"bottom"},i=()=>{var h;return(h=n?.strategy)!=null?h:"absolute"},[s,o]=ve({x:null,y:null,placement:r(),strategy:i(),middlewareData:{}}),[a,l]=ve();dt(()=>{let h=a();if(h)throw h.value});let c=ke(()=>(t(),e(),{}));function d(){let h=t(),f=e();if(h&&f){let m=c();WDe(h,f,{middleware:n?.middleware,placement:r(),strategy:i()}).then(g=>{m===c()&&o(g)},g=>{l(g)})}}return dt(()=>{let h=t(),f=e();if(n?.middleware,r(),i(),h&&f)if(n!=null&&n.whileElementsMounted){let m=n.whileElementsMounted(h,f,d);m&&wt(m)}else d()}),{get x(){return s().x},get y(){return s().y},get placement(){return s().placement},get strategy(){return s().strategy},get middlewareData(){return s().middlewareData},update:d}}const XDe=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g;function x9(t){const e={};let n;for(;n=XDe.exec(t);)e[n[1]]=n[2];return e}function YDe(t,e){if(typeof t=="string"){if(typeof e=="string")return`${t};${e}`;t=x9(t)}else typeof e=="string"&&(e=x9(e));return{...t,...e}}function rq(t,e){t.indexOf(e)===-1&&t.push(e)}function GDe(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const iq=(t,e,n)=>Math.min(Math.max(n,t),e),el={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},iv=t=>typeof t=="number",km=t=>Array.isArray(t)&&!iv(t[0]),ZDe=(t,e,n)=>{const r=e-t;return((n-t)%r+r)%r+t};function KDe(t,e){return km(t)?t[ZDe(0,t.length,e)]:t}const sq=(t,e,n)=>-n*t+n*e+t,oq=()=>{},nd=t=>t,r6=(t,e,n)=>e-t===0?1:(n-t)/(e-t);function aq(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=r6(0,e,r);t.push(sq(n,1,i))}}function JDe(t){const e=[0];return aq(e,t-1),e}function eAe(t,e=JDe(t.length),n=nd){const r=t.length,i=r-e.length;return i>0&&aq(e,i),s=>{let o=0;for(;o<r-2&&!(s<e[o+1]);o++);let a=iq(0,1,r6(e[o],e[o+1],s));return a=KDe(n,o)(a),sq(t[o],t[o+1],a)}}const lq=t=>Array.isArray(t)&&iv(t[0]),u_=t=>typeof t=="object"&&!!t.createAnimation,sv=t=>typeof t=="function",tAe=t=>typeof t=="string",US={ms:t=>t*1e3,s:t=>t/1e3},cq=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,nAe=1e-7,rAe=12;function iAe(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=cq(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>nAe&&++a<rAe);return o}function zp(t,e,n,r){if(t===e&&n===r)return nd;const i=s=>iAe(s,0,1,t,n);return s=>s===0||s===1?s:cq(i(s),e,r)}const sAe=(t,e="end")=>n=>{n=e==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*t,i=e==="end"?Math.floor(r):Math.ceil(r);return iq(0,1,i/t)},oAe={ease:zp(.25,.1,.25,1),"ease-in":zp(.42,0,1,1),"ease-in-out":zp(.42,0,.58,1),"ease-out":zp(0,0,.58,1)},aAe=/\((.*?)\)/;function _9(t){if(sv(t))return t;if(lq(t))return zp(...t);const e=oAe[t];if(e)return e;if(t.startsWith("steps")){const n=aAe.exec(t);if(n){const r=n[1].split(",");return sAe(parseFloat(r[0]),r[1].trim())}}return nd}class lAe{constructor(e,n=[0,1],{easing:r,duration:i=el.duration,delay:s=el.delay,endDelay:o=el.endDelay,repeat:a=el.repeat,offset:l,direction:c="normal",autoplay:d=!0}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=nd,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((f,m)=>{this.resolve=f,this.reject=m}),r=r||el.easing,u_(r)){const f=r.createAnimation(n);r=f.easing,n=f.keyframes||n,i=f.duration||i}this.repeat=a,this.easing=km(r)?nd:_9(r),this.updateDuration(i);const h=eAe(n,l,km(r)?r.map(_9):nd);this.tick=f=>{var m;s=s;let g=0;this.pauseTime!==void 0?g=this.pauseTime:g=(f-this.startTime)*this.rate,this.t=g,g/=1e3,g=Math.max(g-s,0),this.playState==="finished"&&this.pauseTime===void 0&&(g=this.totalDuration);const p=g/this.duration;let v=Math.floor(p),b=p%1;!b&&p>=1&&(b=1),b===1&&v--;const y=v%2;(c==="reverse"||c==="alternate"&&y||c==="alternate-reverse"&&!y)&&(b=1-b);const C=g>=this.totalDuration?1:Math.min(b,1),x=h(this.easing(C));e(x),this.pauseTime===void 0&&(this.playState==="finished"||g>=this.totalDuration+o)?(this.playState="finished",(m=this.resolve)===null||m===void 0||m.call(this,x)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},d&&this.play()}play(){const e=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=e-this.pauseTime:this.startTime||(this.startTime=e),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var e;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(e=this.reject)===null||e===void 0||e.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(e){this.duration=e,this.totalDuration=e*(this.repeat+1)}get currentTime(){return this.t}set currentTime(e){this.pauseTime!==void 0||this.rate===0?this.pauseTime=e:this.startTime=performance.now()-e/this.rate}get playbackRate(){return this.rate}set playbackRate(e){this.rate=e}}class cAe{setAnimation(e){this.animation=e,e?.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}const VS=new WeakMap;function uq(t){return VS.has(t)||VS.set(t,{transforms:[],values:new Map}),VS.get(t)}function uAe(t,e){return t.has(e)||t.set(e,new cAe),t.get(e)}const dAe=["","X","Y","Z"],hAe=["translate","scale","rotate","skew"],ag={x:"translateX",y:"translateY",z:"translateZ"},C9={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:t=>t+"deg"},fAe={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:t=>t+"px"},rotate:C9,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:nd},skew:C9},lg=new Map,uw=t=>`--motion-${t}`,T2=["x","y","z"];hAe.forEach(t=>{dAe.forEach(e=>{T2.push(t+e),lg.set(uw(t+e),fAe[t])})});const mAe=(t,e)=>T2.indexOf(t)-T2.indexOf(e),gAe=new Set(T2),i6=t=>gAe.has(t),pAe=(t,e)=>{ag[e]&&(e=ag[e]);const{transforms:n}=uq(t);rq(n,e),t.style.transform=dq(n)},dq=t=>t.sort(mAe).reduce(vAe,"").trim(),vAe=(t,e)=>`${t} ${e}(var(${uw(e)}))`,d_=t=>t.startsWith("--"),E9=new Set;function bAe(t){if(!E9.has(t)){E9.add(t);try{const{syntax:e,initialValue:n}=lg.has(t)?lg.get(t):{};CSS.registerProperty({name:t,inherits:!1,syntax:e,initialValue:n})}catch{}}}const jS=(t,e)=>document.createElement("div").animate(t,e),T9={cssRegisterProperty:()=>typeof CSS<"u"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{jS({opacity:[1]})}catch{return!1}return!0},finished:()=>!!jS({opacity:[0,1]},{duration:.001}).finished,linearEasing:()=>{try{jS({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0}},qS={},tm={};for(const t in T9)tm[t]=()=>(qS[t]===void 0&&(qS[t]=T9[t]()),qS[t]);const yAe=.015,OAe=(t,e)=>{let n="";const r=Math.round(e/yAe);for(let i=0;i<r;i++)n+=t(r6(0,r-1,i))+", ";return n.substring(0,n.length-2)},D9=(t,e)=>sv(t)?tm.linearEasing()?`linear(${OAe(t,e)})`:el.easing:lq(t)?wAe(t):t,wAe=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`;function kAe(t,e){for(let n=0;n<t.length;n++)t[n]===null&&(t[n]=n?t[n-1]:e());return t}const SAe=t=>Array.isArray(t)?t:[t];function h_(t){return ag[t]&&(t=ag[t]),i6(t)?uw(t):t}const Qp={get:(t,e)=>{e=h_(e);let n=d_(e)?t.style.getPropertyValue(e):getComputedStyle(t)[e];if(!n&&n!==0){const r=lg.get(e);r&&(n=r.initialValue)}return n},set:(t,e,n)=>{e=h_(e),d_(e)?t.style.setProperty(e,n):t.style[e]=n}};function xAe(t,e=!0){if(!(!t||t.playState==="finished"))try{t.stop?t.stop():(e&&t.commitStyles(),t.cancel())}catch{}}function _Ae(t,e){var n;let r=e?.toDefaultUnit||nd;const i=t[t.length-1];if(tAe(i)){const s=((n=i.match(/(-?[\d.]+)([a-z%]*)/))===null||n===void 0?void 0:n[2])||"";s&&(r=o=>o+s)}return r}function CAe(){return window.__MOTION_DEV_TOOLS_RECORD}function EAe(t,e,n,r={},i){const s=CAe(),o=r.record!==!1&&s;let a,{duration:l=el.duration,delay:c=el.delay,endDelay:d=el.endDelay,repeat:h=el.repeat,easing:f=el.easing,persist:m=!1,direction:g,offset:p,allowWebkitAcceleration:v=!1,autoplay:b=!0}=r;const y=uq(t),C=i6(e);let x=tm.waapi();C&&pAe(t,e);const O=h_(e),S=uAe(y.values,O),T=lg.get(O);return xAe(S.animation,!(u_(f)&&S.generator)&&r.record!==!1),()=>{const $=()=>{var L,j;return(j=(L=Qp.get(t,O))!==null&&L!==void 0?L:T?.initialValue)!==null&&j!==void 0?j:0};let M=kAe(SAe(n),$);const P=_Ae(M,T);if(u_(f)){const L=f.createAnimation(M,e!=="opacity",$,O,S);f=L.easing,M=L.keyframes||M,l=L.duration||l}if(d_(O)&&(tm.cssRegisterProperty()?bAe(O):x=!1),C&&!tm.linearEasing()&&(sv(f)||km(f)&&f.some(sv))&&(x=!1),x){T&&(M=M.map(te=>iv(te)?T.toDefaultUnit(te):te)),M.length===1&&(!tm.partialKeyframes()||o)&&M.unshift($());const L={delay:US.ms(c),duration:US.ms(l),endDelay:US.ms(d),easing:km(f)?void 0:D9(f,l),direction:g,iterations:h+1,fill:"both"};a=t.animate({[O]:M,offset:p,easing:km(f)?f.map(te=>D9(te,l)):void 0},L),a.finished||(a.finished=new Promise((te,U)=>{a.onfinish=te,a.oncancel=U}));const j=M[M.length-1];a.finished.then(()=>{m||(Qp.set(t,O,j),a.cancel())}).catch(oq),v||(a.playbackRate=1.000001)}else if(i&&C)M=M.map(L=>typeof L=="string"?parseFloat(L):L),M.length===1&&M.unshift(parseFloat($())),a=new i(L=>{Qp.set(t,O,P?P(L):L)},M,Object.assign(Object.assign({},r),{duration:l,easing:f}));else{const L=M[M.length-1];Qp.set(t,O,T&&iv(L)?T.toDefaultUnit(L):L)}return o&&s(t,e,M,{duration:l,delay:c,easing:f,repeat:h,offset:p},"motion-one"),S.setAnimation(a),a&&!b&&a.pause(),a}}const TAe=(t,e)=>t[e]?Object.assign(Object.assign({},t),t[e]):Object.assign({},t);function DAe(t,e){return typeof t=="string"?t=document.querySelectorAll(t):t instanceof Element&&(t=[t]),Array.from(t||[])}var f_=function(t,e){return f_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},f_(t,e)};function Pg(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");f_(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function hq(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function q(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function AAe(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function fq(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(d){return l([c,d])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(d){c=[6,d],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function cg(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function m_(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function g_(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Sm(t){return this instanceof Sm?(this.v=t,this):new Sm(t)}function PAe(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(m){return function(g){return Promise.resolve(g).then(m,h)}}function a(m,g){r[m]&&(i[m]=function(p){return new Promise(function(v,b){s.push([m,p,v,b])>1||l(m,p)})},g&&(i[m]=g(i[m])))}function l(m,g){try{c(r[m](g))}catch(p){f(s[0][3],p)}}function c(m){m.value instanceof Sm?Promise.resolve(m.value.v).then(d,h):f(s[0][2],m)}function d(m){l("next",m)}function h(m){l("throw",m)}function f(m,g){m(g),s.shift(),s.length&&l(s[0][0],s[0][1])}}function RAe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof cg=="function"?cg(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}const MAe={any:0,all:1};function IAe(t,e,{root:n,margin:r,amount:i="any"}={}){if(typeof IntersectionObserver>"u")return()=>{};const s=DAe(t),o=new WeakMap,a=c=>{c.forEach(d=>{const h=o.get(d.target);if(d.isIntersecting!==!!h)if(d.isIntersecting){const f=e(d);sv(f)?o.set(d.target,f):l.unobserve(d.target)}else h&&(h(d),o.delete(d.target))})},l=new IntersectionObserver(a,{root:n,rootMargin:r,threshold:typeof i=="number"?i:MAe[i]});return s.forEach(c=>l.observe(c)),()=>l.disconnect()}function $Ae(t,e){return typeof t!=typeof e?!0:Array.isArray(t)&&Array.isArray(e)?!LAe(t,e):t!==e}function LAe(t,e){const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function NAe(t){return typeof t=="object"}function A9(t,e){if(NAe(t))return t;if(t&&e)return e[t]}let rd;function FAe(){if(!rd)return;const t=rd.sort(zAe).map(QAe);t.forEach(P9),t.forEach(P9),rd=void 0}function HS(t){rd?rq(rd,t):(rd=[t],requestAnimationFrame(FAe))}function BAe(t){rd&&GDe(rd,t)}const zAe=(t,e)=>t.getDepth()-e.getDepth(),QAe=t=>t.animateUpdates(),P9=t=>t.next(),R9=(t,e)=>new CustomEvent(t,{detail:{target:e}});function p_(t,e,n){t.dispatchEvent(new CustomEvent(e,{detail:{originalEvent:n}}))}function M9(t,e,n){t.dispatchEvent(new CustomEvent(e,{detail:{originalEntry:n}}))}const UAe={isActive:t=>!!t.inView,subscribe:(t,{enable:e,disable:n},{inViewOptions:r={}})=>{const{once:i}=r,s=hq(r,["once"]);return IAe(t,o=>{if(e(),M9(t,"viewenter",o),!i)return a=>{n(),M9(t,"viewleave",a)}},s)}},I9=(t,e,n)=>r=>{r.pointerType&&r.pointerType!=="mouse"||(n(),p_(t,e,r))},VAe={isActive:t=>!!t.hover,subscribe:(t,{enable:e,disable:n})=>{const r=I9(t,"hoverstart",e),i=I9(t,"hoverend",n);return t.addEventListener("pointerenter",r),t.addEventListener("pointerleave",i),()=>{t.removeEventListener("pointerenter",r),t.removeEventListener("pointerleave",i)}}},jAe={isActive:t=>!!t.press,subscribe:(t,{enable:e,disable:n})=>{const r=s=>{n(),p_(t,"pressend",s),window.removeEventListener("pointerup",r)},i=s=>{e(),p_(t,"pressstart",s),window.addEventListener("pointerup",r)};return t.addEventListener("pointerdown",i),()=>{t.removeEventListener("pointerdown",i),window.removeEventListener("pointerup",r)}}},Jb={inView:UAe,hover:VAe,press:jAe},$9=["initial","animate",...Object.keys(Jb),"exit"],v_=new WeakMap;function qAe(t={},e){let n,r=e?e.getDepth()+1:0;const i={initial:!0,animate:!0},s={},o={};for(const p of $9)o[p]=typeof t[p]=="string"?t[p]:e?.getContext()[p];const a=t.initial===!1?"animate":"initial";let l=A9(t[a]||o[a],t.variants)||{},c=hq(l,["transition"]);const d=Object.assign({},c);function*h(){var p,v;const b=c;c={};const y={};for(const T of $9){if(!i[T])continue;const $=A9(t[T]);if($)for(const M in $)M!=="transition"&&(c[M]=$[M],y[M]=TAe((v=(p=$.transition)!==null&&p!==void 0?p:t.transition)!==null&&v!==void 0?v:{},M))}const C=new Set([...Object.keys(c),...Object.keys(b)]),x=[];C.forEach(T=>{var $;c[T]===void 0&&(c[T]=d[T]),$Ae(b[T],c[T])&&(($=d[T])!==null&&$!==void 0||(d[T]=Qp.get(n,T)),x.push(EAe(n,T,c[T],y[T],lAe)))}),yield;const O=x.map(T=>T()).filter(Boolean);if(!O.length)return;const S=c;n.dispatchEvent(R9("motionstart",S)),Promise.all(O.map(T=>T.finished)).then(()=>{n.dispatchEvent(R9("motioncomplete",S))}).catch(oq)}const f=(p,v)=>()=>{i[p]=v,HS(g)},m=()=>{for(const p in Jb){const v=Jb[p].isActive(t),b=s[p];v&&!b?s[p]=Jb[p].subscribe(n,{enable:f(p,!0),disable:f(p,!1)},t):!v&&b&&(b(),delete s[p])}},g={update:p=>{n&&(t=p,m(),HS(g))},setActive:(p,v)=>{n&&(i[p]=v,HS(g))},animateUpdates:h,getDepth:()=>r,getTarget:()=>c,getOptions:()=>t,getContext:()=>o,mount:p=>(n=p,v_.set(n,g),m(),()=>{v_.delete(n),BAe(g);for(const v in s)s[v]()}),isMounted:()=>!!n};return g}function HAe(t){const e={},n=[];for(let r in t){const i=t[r];i6(r)&&(ag[r]&&(r=ag[r]),n.push(r),r=uw(r));let s=Array.isArray(i)?i[0]:i;const o=lg.get(r);o&&(s=iv(i)?o.toDefaultUnit(i):i),e[r]=s}return n.length&&(e.transform=dq(n)),e}const L9=t=>t instanceof Element;function b_(t,e){if(e(t))return t;if(typeof t=="function"&&!t.length)return b_(t(),e);if(Array.isArray(t))for(const n of t){const r=b_(n,e);if(r)return r}return null}function WAe(t,e=L9,n=L9){const r=ke(t);return ke(()=>b_(r(),e))}const XAe=()=>{},N9=(t,e)=>e();function YAe(t,e){const n=Gn(t),r=n?[n]:[],{onEnter:i=N9,onExit:s=N9}=e,[o,a]=ve(e.appear?[]:r),[l]=lZ();let c,d=!1;function h(g,p){if(!g)return p&&p();d=!0,s(g,()=>{Nt(()=>{d=!1,a(v=>v.filter(b=>b!==g)),p&&p()})})}function f(g){const p=c;if(!p)return g&&g();c=void 0,a(v=>[p,...v]),i(p,g??XAe)}const m=e.mode==="out-in"?g=>d||h(g,f):e.mode==="in-out"?g=>f(()=>h(g)):g=>{h(g),f()};return Ji(g=>{const p=t();return Gn(l)?(l(),g):(p!==g&&(c=p,Nt(()=>Gn(()=>m(g)))),p)},e.appear?void 0:n),o}var mq=yr(),bu=t=>{const[e,n]=ve(!0),r={initial:t.initial??!0,mount:e},i=u(mq.Provider,{value:r,get children(){return YAe(WAe(()=>t.children),{appear:r.initial,mode:t.exitBeforeEnter?"out-in":"parallel",onExit(s,o){Nt(()=>{n(!1),v_.get(s)?.getOptions()?.exit?s.addEventListener("motioncomplete",o):o()})},onEnter(s,o){Nt(()=>{n(!0),o()})}})}});return r.initial=!0,i};function GAe(t,e,n,r){const i=qAe(n?.initial===!1?{...e(),initial:!1}:e(),r);return dt(()=>{if(n&&!n.mount())return;const s=t(),o=i.mount(s);dt(()=>i.update(e())),wt(()=>{n&&e().exit?(i.setActive("exit",!0),s.addEventListener("motioncomplete",o)):o()})}),[i,HAe(i.getTarget())]}var ZAe=["initial","animate","inView","inViewOptions","hover","press","variants","transition","exit"],KAe=["tag"],F9=yr(),B9=t=>{const[e,,n]=sn(t,ZAe,KAe),[r,i]=GAe(()=>s,()=>({...e}),Nn(mq),Nn(F9));let s;return u(F9.Provider,{value:r,get children(){return u(pO,ge(n,{ref:o=>{s=o,t.ref?.(o)},get component(){return t.tag||"div"},get style(){return YDe(t.style,i)}}))}})},gc=new Proxy(B9,{get:(t,e)=>n=>u(B9,ge(n,{tag:e}))}),JAe=I("<div>");const ePe=H("div",{base:{display:"flex",flexDirection:"column",padding:"var(--gap-md) 0",overflow:"hidden",borderRadius:"var(--borderRadius-xs)",background:"var(--md-sys-color-surface-container)",color:"var(--md-sys-color-on-surface)",fill:"var(--md-sys-color-on-surface)",boxShadow:"0 0 3px var(--md-sys-color-shadow)",userSelect:"none"}});function yu(t){return u(ePe,ge({onMouseDown:e=>e.stopImmediatePropagation()},t))}const Fi=H("div",{base:{height:"1px",margin:"var(--gap-sm) 0",background:"var(--md-sys-color-outline-variant)"}}),gq=H("a",{base:{display:"flex",gap:"var(--gap-md)",alignItems:"center",padding:"var(--gap-md) var(--gap-lg)","&:hover":{background:"color-mix(in srgb, var(--md-sys-color-on-surface) 8%, transparent)"},"& span":{flexGrow:1}},variants:{selected:{true:{background:"color-mix(in srgb, var(--md-sys-color-on-surface) 8%, transparent)"},false:{}},action:{true:{cursor:"pointer"}},button:{true:{cursor:"pointer",display:"flex",alignItems:"center",gap:"var(--gap-md)","& span":{marginTop:"1px"}}},_titleCase:{true:{},false:{}},destructive:{true:{fill:"var(--md-sys-color-error)",color:"var(--md-sys-color-error)"}}},defaultVariants:{_titleCase:!0,selected:!1},compoundVariants:[{_titleCase:!0,button:!0,css:{textTransform:"capitalize"}}]});function st(t){const[e,n]=sn(t,["icon","symbol","actionIcon","actionSymbol","children"]);return u(gq,ge({button:!0},n,{get children(){return[Ce(()=>Ce(()=>typeof e.icon=="function")()?e.icon?.(at(16)):e.icon),Ce(()=>e.symbol?.(ju(16))),u(Le,{get children(){return e.children}}),Ce(()=>Ce(()=>typeof e.actionIcon=="function")()?e.actionIcon?.(at(20)):e.actionIcon),Ce(()=>e.actionSymbol?.(ju(20)))]}}))}function ov(t){const[e,n]=ve(),[r,i]=ve(),[s,o]=ve(!1),[a,l]=sn(t,["children","buttonContent","onClick"]);function c(){return s()===!0||s()==="show"}const d=cw(e,r,{placement:"right-start",whileElementsMounted:n6,middleware:[aw(5),lw()]});return[u(st,ge({ref:n,get selected(){return c()},actionIcon:KO,onMouseDown:h=>{h.stopImmediatePropagation()},onClick:h=>{a.onClick?a.onClick():(h.stopImmediatePropagation(),o(c()?!1:"show"))},onMouseEnter:()=>o(h=>h==="hide"?h:!0)},l,{get children(){return a.buttonContent}})),u(uu,{get mount(){return document.getElementById("floating")},get children(){return u(bu,{get children(){return u(X,{get when(){return c()},get children(){return u(gc,{ref:i,get style(){return{position:d.strategy,top:`${d.y??0}px`,left:`${d.x??0}px`,"z-index":1e3}},initial:{opacity:0,x:-24},animate:{opacity:1,x:0},exit:{opacity:0},transition:{duration:.2,easing:[.87,0,.13,1]},onMouseLeave:()=>o(h=>h===!0?!1:h),onMouseDown:h=>h.stopImmediatePropagation(),get children(){return[(()=>{var h=JAe();return h.$$click=f=>{a.onClick?a.onClick():(f.stopImmediatePropagation(),o(m=>m?"hide":!0))},h.style.setProperty("position","fixed"),h.style.setProperty("top","0"),h.style.setProperty("cursor","pointer"),Te(f=>{var m=`-${(e()?.clientWidth??0)+5}px`,g=`${(e()?.clientWidth??0)+5}px`,p=`${e()?.clientHeight??0}px`;return m!==f.e&&((f.e=m)!=null?h.style.setProperty("left",m):h.style.removeProperty("left")),g!==f.t&&((f.t=g)!=null?h.style.setProperty("width",g):h.style.removeProperty("width")),p!==f.a&&((f.a=p)!=null?h.style.setProperty("height",p):h.style.removeProperty("height")),f},{e:void 0,t:void 0,a:void 0}),h})(),u(yu,{get children(){return a.children}})]}})}})}})}})]}Tr(["click"]);function tPe(t){const e=Ht(),n=pt();function r(){e.draft.retrySend(n(),t.channel,t.draft.idempotencyKey)}function i(){e.draft.cancelSend(t.channel,t.draft.idempotencyKey)}return u(X,{get when(){return t.draft.status!=="sending"},get children(){return u(yu,{get children(){return[u(X,{when:!1,get children(){return u(st,{icon:tw,onClick:i,destructive:!0,get children(){return u(k,{id:"Tr3jPK"})}})}}),u(X,{get when(){return t.draft.status==="failed"||t.draft.status==="unsent"},get children(){return[u(st,{icon:pDe,onClick:r,get children(){return u(k,{id:"8XsV2J"})}}),u(st,{icon:Ol,onClick:i,destructive:!0,get children(){return u(k,{id:"KDfTdX"})}})]}})]}})}})}var nPe=I("<img>");function z9(t){const e=ff(),n=Ht(),r=pt(),i=()=>JO(e(),t.channel.server?.member);return u(cO,{get tail(){return t.tail&&(!t.draft.replies||t.draft.replies.length===0)},get avatar(){return u(zt,{get src(){return i().avatar},size:36})},get timestamp(){return Ce(()=>t.draft.status==="sending")()?u(k,{id:"IoAuJG"}):Ce(()=>t.draft.status==="failed")()?u(k,{id:"lDjxmT"}):u(k,{id:"bPl6q3"})},get sendStatus(){return t.draft.status==="sending"?"sending":"failed"},get username(){return u(Fw,{get username(){return i().username}})},get header(){return u(rt,{get each(){return t.draft.replies},children:s=>u(RT,{get message(){return r().messages.get(s.id)},get mention(){return s.mention}})})},contextMenu:()=>u(tPe,{get draft(){return t.draft},get channel(){return t.channel}}),get compact(){return n.settings.getValue("appearance:compact_mode")},get children(){return[u(rPe,{get children(){return u(Md,{get content(){return t.draft.content}})}}),u(rt,{get each(){return t.draft.files},children:s=>{const o=n.draft.getFile(s);return[u(Le,{class:"label",get children(){return["Uploading file `",Ce(()=>o.file.name),"`..."," ",Ce(()=>(o.uploadProgress[0]()*100).toFixed()),"%"]}}),u(Me,{get children(){return u(Z,{get when(){return o.dimensions},get children(){return u(Xl,{get width(){return o.dimensions[0]},get height(){return o.dimensions[1]},get children(){var a=nPe();return Te(()=>$t(a,"src",o.dataUri)),a}})}})}})]}})]}})}const rPe=H("div",{base:{wordBreak:"break-word","& .math":{overflowX:"auto",overflowY:"hidden",maxHeight:"100vh"}}});function iPe(t){const e=Ht(),n=()=>e.draft.getPendingMessages(t.channel.id).filter(i=>i.status==="sending").filter(i=>!t.sentIds.includes(i.idempotencyKey)),r=()=>e.draft.getPendingMessages(t.channel.id).filter(i=>i.status!=="sending");return[u(rt,{get each(){return n()},children:(i,s)=>u(z9,{draft:i,get channel(){return t.channel},get tail(){return s()!==0||t.tail}})}),u(rt,{get each(){return r()},children:i=>u(z9,{draft:i,get channel(){return t.channel}})})]}var sPe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M14 12h4v1.5h-4zm0 3h4v1.5h-4z"></path><path d="M20 7h-5V4c0-1.1-.9-2-2-2h-2c-1.1 0-2 .9-2 2v3H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2m-9 0V4h2v5h-2zm9 13H4V9h5c0 1.1.9 2 2 2h2c1.1 0 2-.9 2-2h5z"></path><circle cx=9 cy=13.5 r=1.5></circle><path d="M11.08 16.18c-.64-.28-1.34-.43-2.08-.43s-1.44.15-2.08.43c-.56.24-.92.78-.92 1.39V18h6v-.43c0-.61-.36-1.15-.92-1.39">');const e1=(t={})=>(()=>{var e=sPe();return Se(e,t,!0,!0),e})();var oPe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z">');const t1=(t={})=>(()=>{var e=oPe();return Se(e,t,!0,!0),e})();var aPe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M15 16h4v2h-4zm0-8h7v2h-7zm0 4h6v2h-6zM3 18c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V8H3zm2-8h6v8H5zm5-6H6L5 5H2v2h12V5h-3z">');const lPe=(t={})=>(()=>{var e=aPe();return Se(e,t,!0,!0),e})();var cPe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M19 9h-4V3H9v6H5l7 7zm-8 2V5h2v6h1.17L12 13.17 9.83 11zm-6 7h14v2H5z">');const uPe=(t={})=>(()=>{var e=cPe();return Se(e,t,!0,!0),e})();var dPe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83a.996.996 0 0 0 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z">');const s6=(t={})=>(()=>{var e=dPe();return Se(e,t,!0,!0),e})();var hPe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M17 7h-4v2h4c1.65 0 3 1.35 3 3s-1.35 3-3 3h-4v2h4c2.76 0 5-2.24 5-5s-2.24-5-5-5m-6 8H7c-1.65 0-3-1.35-3-3s1.35-3 3-3h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4zm-3-4h8v2H8z">');const pq=(t={})=>(()=>{var e=hPe();return Se(e,t,!0,!0),e})();var fPe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M22 6.98V16c0 1.1-.9 2-2 2H6l-4 4V4c0-1.1.9-2 2-2h10.1c-.06.32-.1.66-.1 1s.04.68.1 1H4v12h16V7.9c.74-.15 1.42-.48 2-.92M16 3c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3">');const mPe=(t={})=>(()=>{var e=fPe();return Se(e,t,!0,!0),e})();var gPe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M19 19H5V5h7V3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2v-7h-2zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3z">');const vq=(t={})=>(()=>{var e=gPe();return Se(e,t,!0,!0),e})();var pPe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M22 12v6c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2h10v2H4v12h16v-6zm0-5c0-1.66-1.34-3-3-3s-3 1.34-3 3 1.34 3 3 3 3-1.34 3-3M9.34 12h2.24l-2.95 2.95 1.41 1.41L13 13.42v2.24h2V10H9.34z">');const vPe=(t={})=>(()=>{var e=pPe();return Se(e,t,!0,!0),e})();var bPe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11">');const bq=(t={})=>(()=>{var e=bPe();return Se(e,t,!0,!0),e})();var yPe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M15.73 3H8.27L3 8.27v7.46L8.27 21h7.46L21 15.73V8.27zM19 14.9 14.9 19H9.1L5 14.9V9.1L9.1 5h5.8L19 9.1z"></path><circle cx=12 cy=16 r=1></circle><path d="M11 7h2v7h-2z">');const o6=(t={})=>(()=>{var e=yPe();return Se(e,t,!0,!0),e})();var OPe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92M18 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1M6 13c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m12 7.02c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1">');const yq=(t={})=>(()=>{var e=OPe();return Se(e,t,!0,!0),e})();var wPe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M12 2 4 5v6.09c0 5.05 3.41 9.76 8 10.91 4.59-1.15 8-5.86 8-10.91V5zm6 9.09c0 4-2.55 7.7-6 8.83-3.45-1.13-6-4.82-6-8.83v-4.7l6-2.25 6 2.25z">');const a6=(t={})=>(()=>{var e=wPe();return Se(e,t,!0,!0),e})();var kPe=I('<svg xmlns=http://www.w3.org/2000/svg width=48 height=48 viewBox="0 -960 960 960"><path d="M360-340h240v-60H360zm-20-280q-32 0-59.5 18T235-556l50 33q10-15 24-25.5t31-10.5 31 10.5 24 24.5l50-33q-18-27-45.5-45T340-620m280 0q-32 0-59.5 18T515-556l50 33q10-14 24-24.5t31-10.5 31.5 10 23.5 25l50-33q-18-28-45.5-46T620-620M480-80q-83 0-156-31.5T197-197t-85.5-127T80-480t31.5-156T197-763t127-85.5T480-880t156 31.5T763-763t85.5 127T880-480t-31.5 156T763-197t-127 85.5T480-80m0-60q142.38 0 241.19-98.81Q820-337.63 820-480q0-142.38-98.81-241.19T480-820q-142.37 0-241.19 98.81Q140-622.38 140-480q0 142.37 98.81 241.19Q337.63-140 480-140">');const SPe=(t={})=>(()=>{var e=kPe();return Se(e,t,!0,!0),e})();var xPe=I("<a target=_blank>");function a0(t){const e=ff(),n=Ht(),r=pt(),{openModal:i,showError:s}=Ne();function o(){n.draft.addReply(t.message,e().id)}function a(){t.message.ack(!0,!1,!0)}function l(){navigator.clipboard.writeText(t.message.content)}function c(){i({type:"report_content",target:t.message,client:r()})}function d(v){v.shiftKey?t.message.delete():i({type:"delete_message",message:t.message})}function h(){window.open(`https://old-admin.stoatinternal.com/panel/inspect/message/${t.message.id}`,"_blank")}function f(){navigator.clipboard.writeText(`${location.origin}${t.message.server?`/server/${t.message.server?.id}`:""}/channel/${t.message.channelId}/${t.message.id}`)}function m(){navigator.clipboard.writeText(t.message.id)}function g(){window.open(t.file?.originalUrl,"_blank")}function p(){navigator.clipboard.writeText(t.file?.originalUrl??"")}return u(yu,{get children(){return[u(X,{get when(){return t.file},get children(){return[u(st,{icon:vq,onClick:g,get children(){return u(k,{id:"9npOH9"})}}),u(st,{icon:pq,onClick:p,get children(){return u(k,{id:"y1eoq1"})}}),(()=>{var v=xPe();return V(v,u(st,{icon:uPe,get children(){return u(k,{id:"ncDewQ"})}})),Te(b=>{var y=t.file?.filename,C=t.file?.originalUrl;return y!==b.e&&$t(v,"download",b.e=y),C!==b.t&&$t(v,"href",b.t=C),b},{e:void 0,t:void 0}),v})(),u(Fi,{})]}}),u(X,{get when(){return t.message},get children(){return[u(X,{get when(){return t.message.channel?.havePermission("SendMessage")},get children(){return u(st,{icon:bq,onClick:o,get children(){return u(k,{id:"ImOQa9"})}})}}),u(st,{icon:mPe,onClick:a,get children(){return u(k,{id:"5GPcf9"})}}),u(st,{icon:t1,onClick:l,get children(){return u(k,{id:"VsHxv+"})}}),u(Fi,{}),u(X,{get when(){return Ce(()=>!!t.message.author?.self)()&&t.message.channel?.havePermission("SendMessage")},get children(){return u(st,{icon:s6,onClick:()=>n.draft.setEditingMessage(t.message),get children(){return u(k,{id:"QjH+ZX"})}})}}),u(X,{get when(){return t.message.channel?.type==="DirectMessage"||t.message.channel?.havePermission("ManageMessages")},get children(){return u(st,{icon:vPe,onClick:()=>{t.message.pinned?t.message.unpin().catch(s):t.message.pin().catch(s)},get children(){return u(Me,{get fallback(){return u(k,{id:"Ab4Bao"})},get children(){return u(Z,{get when(){return t.message.pinned},get children(){return u(k,{id:"2LD8h0"})}})}})}})}}),u(X,{get when(){return Ce(()=>!!t.message.reactions.size)()&&t.message.channel?.havePermission("ManageMessages")},get children(){return u(ov,{icon:lPe,onClick:()=>t.message.clearReactions(),destructive:!0,get buttonContent(){return u(k,{id:"OrpsFP"})},get children(){return u(rt,{get each(){return[...t.message.reactions.keys()]},children:v=>u(st,{onClick:()=>t.message.unreact(v,!0),get children(){return u(Me,{get fallback(){return u(va,{emoji:v})},get children(){return u(Z,{get when(){return v.length===26},get children(){return u(Kv,{id:v})}})}})}})})}})}}),u(X,{get when(){return t.message.reactions.size},get children(){return u(st,{symbol:SPe,onClick:()=>t.message.clearReactions(),destructive:!0,get children(){return u(k,{id:"DF+Ypt"})}})}}),u(X,{get when(){return t.message.author?.self||t.message.channel?.havePermission("ManageMessages")},get children(){return u(st,{icon:Ol,onClick:d,destructive:!0,get children(){return u(k,{id:"KDfTdX"})}})}}),u(X,{get when(){return!t.message.author?.self},get children(){return u(st,{icon:o6,onClick:c,destructive:!0,get children(){return u(k,{id:"0lcpCZ"})}})}}),u(Fi,{}),u(X,{get when(){return n.settings.getValue("advanced:admin_panel")},get children(){return u(st,{icon:a6,onClick:h,get children(){return u(k,{id:"g1in8j"})}})}}),u(st,{icon:yq,onClick:f,get children(){return u(k,{id:"y1eoq1"})}}),u(X,{get when(){return n.settings.getValue("advanced:copy_id")},get children(){return u(st,{icon:e1,onClick:m,get children(){return u(k,{id:"2AgUnk"})}})}})]}})]}})}var _Pe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8">');const CPe=(t={})=>(()=>{var e=_Pe();return Se(e,t,!0,!0),e})();var EPe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><g fill-rule=evenodd><circle cx=17 cy=15.5 r=1.12></circle><path d="M17 17.5c-.73 0-2.19.36-2.24 1.08.5.71 1.32 1.17 2.24 1.17s1.74-.46 2.24-1.17c-.05-.72-1.51-1.08-2.24-1.08"></path><path d="M18 11.09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55A5.97 5.97 0 0 0 17 23c3.31 0 6-2.69 6-6 0-2.97-2.16-5.43-5-5.91M11 17c0 .56.08 1.11.23 1.62-.24.11-.48.22-.73.3-3.17-1-5.5-4.24-5.5-7.74v-3.6l5.5-2.4 5.5 2.4v3.51c-2.84.48-5 2.94-5 5.91m6 4c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4">');const TPe=(t={})=>(()=>{var e=EPe();return Se(e,t,!0,!0),e})();var DPe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M12 1.95c-5.52 0-10 4.48-10 10s4.48 10 10 10h5v-2h-5c-4.34 0-8-3.66-8-8s3.66-8 8-8 8 3.66 8 8v1.43c0 .79-.71 1.57-1.5 1.57s-1.5-.78-1.5-1.57v-1.43c0-2.76-2.24-5-5-5s-5 2.24-5 5 2.24 5 5 5c1.38 0 2.64-.56 3.54-1.47.65.89 1.77 1.47 2.96 1.47 1.97 0 3.5-1.6 3.5-3.57v-1.43c0-5.52-4.48-10-10-10m0 13c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3">');const dw=(t={})=>(()=>{var e=DPe();return Se(e,t,!0,!0),e})();var APe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7-.25c.22 0 .41.1.55.25.12.13.2.31.2.5 0 .41-.34.75-.75.75s-.75-.34-.75-.75c0-.19.08-.37.2-.5.14-.15.33-.25.55-.25M19 19H5V5h14zM12 6c-1.65 0-3 1.35-3 3s1.35 3 3 3 3-1.35 3-3-1.35-3-3-3m0 4c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1m-6 6.47V18h12v-1.53c0-2.5-3.97-3.58-6-3.58s-6 1.07-6 3.58M8.31 16c.69-.56 2.38-1.12 3.69-1.12s3.01.56 3.69 1.12z">');const PPe=(t={})=>(()=>{var e=APe();return Se(e,t,!0,!0),e})();var RPe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2M4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9A7.9 7.9 0 0 1 4 12m8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1A7.9 7.9 0 0 1 20 12c0 4.42-3.58 8-8 8">');const Oq=(t={})=>(()=>{var e=RPe();return Se(e,t,!0,!0),e})();var MPe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z">');const y_=(t={})=>(()=>{var e=MPe();return Se(e,t,!0,!0),e})();var IPe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M7 11v2h10v-2zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8">');const Q9=(t={})=>(()=>{var e=IPe();return Se(e,t,!0,!0),e})();var $Pe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M10.25 13a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0M15 11.75a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5m7 .25c0 5.52-4.48 10-10 10S2 17.52 2 12 6.48 2 12 2s10 4.48 10 10M10.66 4.12C12.06 6.44 14.6 8 17.5 8c.46 0 .91-.05 1.34-.12C17.44 5.56 14.9 4 12 4c-.46 0-.91.05-1.34.12M4.42 9.47a8.05 8.05 0 0 0 3.66-4.44 8.05 8.05 0 0 0-3.66 4.44M20 12c0-.78-.12-1.53-.33-2.24-.7.15-1.42.24-2.17.24a10 10 0 0 1-7.76-3.69A10.02 10.02 0 0 1 4 11.86c.01.04 0 .09 0 .14 0 4.41 3.59 8 8 8s8-3.59 8-8">');const wq=(t={})=>(()=>{var e=$Pe();return Se(e,t,!0,!0),e})();var LPe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M10.8 4.9c0-.66.54-1.2 1.2-1.2s1.2.54 1.2 1.2l-.01 3.91L15 10.6V5c0-1.66-1.34-3-3-3-1.54 0-2.79 1.16-2.96 2.65l1.76 1.76zM19 11h-1.7c0 .58-.1 1.13-.27 1.64l1.27 1.27c.44-.88.7-1.87.7-2.91M4.41 2.86 3 4.27l6 6V11c0 1.66 1.34 3 3 3 .23 0 .44-.03.65-.08l1.66 1.66c-.71.33-1.5.52-2.31.52-2.76 0-5.3-2.1-5.3-5.1H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28a7.1 7.1 0 0 0 2.55-.9l4.2 4.2 1.41-1.41z">');const NPe=(t={})=>(()=>{var e=LPe();return Se(e,t,!0,!0),e})();var FPe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M20 9V6h-2v3h-3v2h3v3h2v-3h3V9zM9 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m6.39 8.56C13.71 13.7 11.53 13 9 13s-4.71.7-6.39 1.56A2.97 2.97 0 0 0 1 17.22V20h16v-2.78c0-1.12-.61-2.15-1.61-2.66M15 18H3v-.78c0-.38.2-.72.52-.88C4.71 15.73 6.63 15 9 15s4.29.73 5.48 1.34c.32.16.52.5.52.88z">');const U9=(t={})=>(()=>{var e=FPe();return Se(e,t,!0,!0),e})();var BPe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M14 8c0-2.21-1.79-4-4-4S6 5.79 6 8s1.79 4 4 4 4-1.79 4-4m-2 0c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2M2 18v2h16v-2c0-2.66-5.33-4-8-4s-8 1.34-8 4m2 0c.2-.71 3.3-2 6-2 2.69 0 5.77 1.28 6 2zm13-8h6v2h-6z">');const V9=(t={})=>(()=>{var e=BPe();return Se(e,t,!0,!0),e})();var zPe=I('<svg xmlns=http://www.w3.org/2000/svg width=48 height=48 viewBox="0 -960 960 960"><path d="m419-321 289-289-43-43-246 246-119-119-43 43zM180-120q-24 0-42-18t-18-42v-600q0-24 18-42t42-18h600q24 0 42 18t18 42v600q0 24-18 42t-42 18zm0-60h600v-600H180zm0-600v600z">');const QPe=(t={})=>(()=>{var e=zPe();return Se(e,t,!0,!0),e})();var UPe=I('<svg xmlns=http://www.w3.org/2000/svg width=48 height=48 viewBox="0 -960 960 960"><path d="M180-120q-24 0-42-18t-18-42v-600q0-24 18-42t42-18h600q24 0 42 18t18 42v600q0 24-18 42t-42 18zm0-60h600v-600H180z">');const VPe=(t={})=>(()=>{var e=UPe();return Se(e,t,!0,!0),e})();var jPe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2m6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5zM7.58 4.08 6.15 2.65C3.75 4.48 2.17 7.3 2.03 10.5h2a8.45 8.45 0 0 1 3.55-6.42m12.39 6.42h2c-.15-3.2-1.73-6.02-4.12-7.85l-1.42 1.43a8.5 8.5 0 0 1 3.54 6.42">');const kq=(t={})=>(()=>{var e=jPe();return Se(e,t,!0,!0),e})();var qPe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2m0-15.5c2.49 0 4 2.02 4 4.5v.1l2 2V11c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68c-.24.06-.47.15-.69.23l1.64 1.64c.18-.02.36-.05.55-.05M5.41 3.35 4 4.76l2.81 2.81C6.29 8.57 6 9.74 6 11v5l-2 2v1h14.24l1.74 1.74 1.41-1.41zM16 17H8v-6c0-.68.12-1.32.34-1.9L16 16.76z">');const l6=(t={})=>(()=>{var e=qPe();return Se(e,t,!0,!0),e})();var HPe=I('<svg xmlns=http://www.w3.org/2000/svg width=48 height=48 viewBox="0 -960 960 960"><path d="m593-453-60-60h147v60zm-172-60v60H280v-60zM833-41 718-156q-50 36-110 56T480-80q-85 0-158-30.5T195-195t-84.5-127T80-480q0-68 20-128t56-110L26-848l43-43L876-84zm-353-99q54.64 0 103.82-15.5T675-199L199-675q-28 42-43.5 91.18T140-480q0 145 97.5 242.5T480-140m324-102-43-43q28.16-42.39 43.58-91.44Q820-425.5 820-480q0-145-97.5-242.5T480-820q-54.5 0-103.56 15.42Q327.39-789.16 285-761l-43-43q50-36 110-56t128-20q84 0 157 31t127 85 85 127 31 157q0 68-20 128t-56 110M437-437">');const Sq=(t={})=>(()=>{var e=HPe();return Se(e,t,!0,!0),e})();var WPe=I('<svg xmlns=http://www.w3.org/2000/svg width=48 height=48 viewBox="0 -960 960 960"><path d="M280-453h400v-60H280zM480-80q-82 0-155-31.5t-127.5-86-86-127.5T80-480q0-83 31.5-156t86-127T325-848.5 480-880q83 0 156 31.5T763-763t85.5 127T880-480q0 82-31.5 155T763-197.5t-127 86T480-80m0-60q142 0 241-99.5T820-480q0-142-99-241t-241-99q-141 0-240.5 99T140-480q0 141 99.5 240.5T480-140m0-340">');const xq=(t={})=>(()=>{var e=WPe();return Se(e,t,!0,!0),e})();var XPe=I('<svg xmlns=http://www.w3.org/2000/svg width=48 height=48 viewBox="0 -960 960 960"><path d="M480-80q-33 0-56.5-23.5T400-160h160q0 33-23.5 56.5T480-80M160-200v-60h80v-304q0-94 60.5-165T459-803q-8 15-13.5 31t-9.5 33q-59 15-97.5 63.5T300-564v304h360v-165q15 2 30 2t30-2v165h80v60zm500-286-5-48q-21-6-40-17t-35-26l-42 20-35-54 38-30q-6-20-6-41.5t6-41.5l-38-30 35-55 42 20q17-14 35.5-25t39.5-17l5-49h60l6 49q21 6 39.5 17t35.5 25l42-20 35 55-38 30q6 20 6 41.5t-6 41.5l38 30-35 54-42-20q-16 15-35 26t-40 17l-6 48zm30-95q42 0 72-30t30-72-30-72-72-30-72 30-30 72 30 72 72 30">');const _q=(t={})=>(()=>{var e=XPe();return Se(e,t,!0,!0),e})();var YPe=I('<svg xmlns=http://www.w3.org/2000/svg width=48 height=48 viewBox="0 -960 960 960"><path d="M480-294q78 0 132-54t54-132-54-132-132-54-132 54-54 132 54 132 132 54m0 214q-82 0-155-31.5t-127.5-86-86-127.5T80-480q0-83 31.5-156t86-127T325-848.5 480-880q83 0 156 31.5T763-763t85.5 127T880-480q0 82-31.5 155T763-197.5t-127 86T480-80m0-60q142 0 241-99.5T820-480q0-142-99-241t-241-99q-141 0-240.5 99T140-480q0 141 99.5 240.5T480-140">');const uh=(t={})=>(()=>{var e=YPe();return Se(e,t,!0,!0),e})();var GPe=I('<svg xmlns=http://www.w3.org/2000/svg width=48 height=48 viewBox="0 -960 960 960"><path d="M480-80q-82 0-155-31.5t-127.5-86-86-127.5T80-480q0-83 31.5-156t86-127T325-848.5 480-880q83 0 156 31.5T763-763t85.5 127T880-480q0 82-31.5 155T763-197.5t-127 86T480-80m0-60q142 0 241-99.5T820-480q0-142-99-241t-241-99q-141 0-240.5 99T140-480q0 141 99.5 240.5T480-140">');const dh=(t={})=>(()=>{var e=GPe();return Se(e,t,!0,!0),e})();function Cq(t){const e=Ht();return[u(X,{get when(){return!e.notifications.isChannelMuted(t.channel)},get fallback(){return u(st,{onClick:()=>e.notifications.setChannelMute(t.channel,void 0),symbol:Sq,_titleCase:!1,get children(){return u(Ae,{gap:"none",get children(){return[u(k,{id:"Q7zdlb"}),u(X,{get when(){return e.notifications.getChannelMute(t.channel)?.until},get children(){return u(Le,{class:"label",size:"small",get children(){return u(k,{id:"eAyeR8",components:{0:u($r,{format:"datetime",get value(){return e.notifications.getChannelMute(t.channel).until}})}})}})}})]}})}})},get children(){return u(ov,{onClick:()=>e.notifications.setChannelMute(t.channel,{}),get buttonContent(){return u(k,{id:"bwRYCn"})},symbol:xq,get children(){return u(rt,{get each(){return[[15,u(k,{id:"FgSBCL"})],[60,u(k,{id:"k2oY8L"})],[180,u(k,{id:"kFyXAW"})],[480,u(k,{id:"74QJjm"})],[1440,u(k,{id:"57aFOk"})],[void 0,u(k,{id:"+YvyYS"})]]},children:([n,r])=>u(st,{onClick:()=>e.notifications.setChannelMute(t.channel,{until:n?+vu().add(n,"minutes"):void 0}),_titleCase:!1,children:r})})}})}}),u(ov,{symbol:_q,get buttonContent(){return u(k,{id:"iDNBZe"})},get children(){return[u(st,{onClick:()=>e.notifications.setChannel(t.channel,void 0),get actionSymbol(){return typeof e.notifications.getChannel(t.channel)>"u"?uh:dh},get children(){return u(Ae,{gap:"none",get children(){return[u(X,{get when(){return t.channel.server},get fallback(){return u(k,{id:"ovBPCi"})},get children(){return u(k,{id:"Vh21HH"})}}),u(Le,{class:"label",size:"small",get children(){return u(Me,{get fallback(){return u(k,{id:"EdQY6l"})},get children(){return[u(Z,{get when(){return Ce(()=>!!t.channel.server)()?e.notifications.computeForServer(t.channel.server)==="all":!0},get children(){return u(k,{id:"rimT/D"})}}),u(Z,{get when(){return Ce(()=>!!t.channel.server)()&&e.notifications.computeForServer(t.channel.server)==="mention"},get children(){return u(k,{id:"PWOA0E"})}})]}})}})]}})}}),u(st,{icon:kq,onClick:()=>e.notifications.setChannel(t.channel,"all"),get actionSymbol(){return e.notifications.getChannel(t.channel)==="all"?uh:dh},get children(){return u(k,{id:"rimT/D"})}}),u(st,{icon:dw,onClick:()=>e.notifications.setChannel(t.channel,"mention"),get actionSymbol(){return e.notifications.getChannel(t.channel)==="mention"?uh:dh},get children(){return u(k,{id:"PWOA0E"})}}),u(st,{icon:l6,onClick:()=>e.notifications.setChannel(t.channel,"none"),get actionSymbol(){return e.notifications.getChannel(t.channel)==="none"?uh:dh},get children(){return u(k,{id:"EdQY6l"})}})]}})]}function cf(t){const e=Ht(),n=pt(),r=Dr(),{openModal:i}=Ne(),s=du();function o(){t.user.openDM().then(O=>r(O.url))}function a(){i({type:"delete_channel",channel:t.channel})}function l(){e.draft._setNodeReplacement&&e.draft._setNodeReplacement([t.user.toString()])}function c(){i({type:"server_identity",member:t.member})}function d(){i({type:"report_content",target:t.user,client:n(),contextMessage:t.contextMessage})}function h(){i({type:"user_profile_roles",member:t.member})}function f(){i({type:"kick_member",member:t.member})}function m(){i({type:"ban_member",member:t.member})}function g(){i({type:"ban_non_member",user:t.user,server:n().servers.get(s().serverId)})}function p(){t.user.addFriend()}function v(){t.user.removeFriend()}function b(){t.user.blockUser()}function y(){t.user.unblockUser()}function C(){window.open(`https://old-admin.stoatinternal.com/panel/inspect/user/${t.user.id}`,"_blank")}function x(){navigator.clipboard.writeText(t.user.id)}return u(yu,{class:"UserContextMenu",get children(){return[u(X,{get when(){return t.inVoice&&!t.user.self},get children(){return[u(st,{onMouseDown:O=>O.stopImmediatePropagation(),onClick:O=>O.stopImmediatePropagation(),get children(){return[u(Le,{class:"label",get children(){return u(k,{id:"/cF7Rs"})}}),u(tO,{min:0,max:3,step:.1,get value(){return e.voice.getUserVolume(t.user.id)},onInput:O=>e.voice.setUserVolume(t.user.id,O.currentTarget.value),labelFormatter:O=>(O*100).toFixed(0)+"%"})]}}),u(st,{icon:NPe,onClick:()=>e.voice.setUserMuted(t.user.id,!e.voice.getUserMuted(t.user.id)),get actionSymbol(){return e.voice.getUserMuted(t.user.id)?QPe:VPe},get children(){return u(k,{id:"R7SsBE"})}}),u(Fi,{})]}}),u(X,{get when(){return t.channel?.type==="DirectMessage"},get children(){return u(st,{icon:tw,onClick:a,get children(){return u(k,{id:"pqZJT2"})}})}}),u(X,{get when(){return t.channel?.type==="TextChannel"},get children(){return u(st,{icon:dw,onClick:l,get children(){return u(k,{id:"iaM74K"})}})}}),u(X,{get when(){return t.user.relationship==="Friend"},get children(){return u(st,{icon:zj,onClick:o,get children(){return u(k,{id:"xDAtGP"})}})}}),u(X,{get when(){return t.user.relationship==="Friend"||t.channel&&(t.channel.type==="DirectMessage"||t.channel.type==="TextChannel")},get children(){return u(Fi,{})}}),u(X,{get when(){return t.channel?.type==="DirectMessage"},get children(){return[u(Cq,{get channel(){return t.channel}}),u(Fi,{})]}}),u(X,{get when(){return Ce(()=>!!t.member)()&&(t.user.self?t.member.server.havePermission("ChangeNickname")||t.member.server.havePermission("ChangeAvatar"):(t.member.server.havePermission("ManageNicknames")||t.member.server.havePermission("RemoveAvatars"))&&t.member.inferiorTo(t.member.server.member))},get children(){return u(st,{icon:wq,onClick:c,get children(){return u(Me,{get fallback(){return u(k,{id:"vTzsKy"})},get children(){return u(Z,{get when(){return t.user.self},get children(){return u(k,{id:"mVr4m2"})}})}})}})}}),u(X,{get when(){return t.member},get children(){return[u(X,{get when(){return t.member?.server?.owner?.self||t.member?.server?.havePermission("AssignRoles")&&t.member.inferiorTo(t.member.server.member)},get children(){return u(st,{icon:PPe,onClick:h,get children(){return u(k,{id:"V3XhEA"})}})}}),u(X,{get when(){return Ce(()=>!!(!t.user.self&&t.member?.server?.havePermission("KickMembers")))()&&t.member.inferiorTo(t.member.server.member)},get children(){return u(st,{icon:V9,onClick:f,destructive:!0,get children(){return u(k,{id:"uKBxNr"})}})}}),u(X,{get when(){return Ce(()=>!!(!t.user.self&&t.member?.server?.havePermission("BanMembers")))()&&t.member.inferiorTo(t.member.server.member)},get children(){return u(st,{icon:Q9,onClick:m,destructive:!0,get children(){return u(k,{id:"cOyir8"})}})}})]}}),u(X,{get when(){return!t.user.self&&t.member?.server?.havePermission("BanMembers")&&s().serverId&&!t.member},get children(){return u(st,{icon:Q9,onClick:g,destructive:!0,get children(){return u(k,{id:"6DBrcH"})}})}}),u(X,{get when(){return!t.user.self},get children(){return[u(st,{icon:o6,onClick:d,destructive:!0,get children(){return u(k,{id:"572q5a"})}}),u(X,{get when(){return t.user.relationship==="None"&&!t.user.bot},get children(){return u(st,{icon:U9,onClick:p,get children(){return u(k,{id:"lICjHG"})}})}}),u(X,{get when(){return t.user.relationship==="Friend"},get children(){return u(st,{icon:V9,onClick:v,get children(){return u(k,{id:"LZlsoq"})}})}}),u(X,{get when(){return t.user.relationship==="Incoming"},get children(){return u(st,{icon:U9,onClick:p,get children(){return u(k,{id:"xzQnGO"})}})}}),u(X,{get when(){return t.user.relationship==="Incoming"},get children(){return u(st,{icon:y_,onClick:v,get children(){return u(k,{id:"PNsAfL"})}})}}),u(X,{get when(){return t.user.relationship==="Outgoing"},get children(){return u(st,{icon:y_,onClick:v,get children(){return u(k,{id:"gJJMuU"})}})}}),u(X,{get when(){return t.user.relationship!=="Blocked"},get children(){return u(st,{icon:Oq,onClick:b,get children(){return u(k,{id:"tdTuUv"})}})}}),u(X,{get when(){return t.user.relationship==="Blocked"},get children(){return u(st,{icon:CPe,onClick:y,get children(){return u(k,{id:"9wZI9E"})}})}})]}}),u(X,{get when(){return e.settings.getValue("advanced:admin_panel")||e.settings.getValue("advanced:copy_id")},get children(){return u(Fi,{})}}),u(X,{get when(){return e.settings.getValue("advanced:admin_panel")},get children(){return u(st,{icon:TPe,onClick:C,get children(){return u(k,{id:"g1in8j"})}})}}),u(X,{get when(){return e.settings.getValue("advanced:copy_id")},get children(){return u(st,{icon:e1,onClick:x,get children(){return u(k,{id:"9D85wC"})}})}})]}})}function c6(t,e,n){return{userCard:{user:t,member:e},contextMenu(){return u(cf,{user:t,member:e,contextMessage:n,get channel(){return n?.channel}})}}}function O_(t){return t.author?c6(t.author,t.member,t):{}}function w_(t,e){if(t instanceof Lm){if(t.channel)return w_(t.channel,e)}else if(t instanceof Nm){if(t.server)return w_(t.server,e);if(t.type==="Group")return{users:t.recipients}}else if(t instanceof oo)return{members:e.serverMembers.filter(n=>n.id.server===t.id),channels:t.channels,roles:[...t.roles.values()]};return{}}function Eq(t,e){return ke(()=>w_(t(),e()))}function ZPe(t){const e=Ht(),n=pt(),{openModal:r,isOpen:i,pop:s}=Ne(),o=[e.draft.editingMessageContent||""],a=ss(()=>({mutationFn:d=>t.message.edit({content:d}),onSuccess(){e.draft.setEditingMessage(void 0)},onError(d){r({type:"error2",error:d})}}));function l(){const d=e.draft.editingMessageContent;d?.length?(e.draft._setNodeReplacement?.(["_focus"]),a.mutate(d)):i("delete_message")?(t.message.delete(),s()):r({type:"delete_message",message:t.message})}pd(_n.CHAT_CANCEL_EDITING,()=>{e.draft.setEditingMessage(void 0),e.draft._setNodeReplacement?.(["_focus"])});const c=Eq(()=>t.message,n);return[u(KPe,{get class(){return hn({flexGrow:1})},get children(){return u(dT,{autoFocus:!0,onComplete:l,get onChange(){return e.draft.setEditingMessageContent},initialValue:o,autoCompleteSearchSpace:c})}}),u(Me,{get fallback(){return u(Le,{size:"small",get children(){return["escape to"," ",u(j9,{onClick:()=>e.draft.setEditingMessage(void 0),children:"cancel"})," "," enter to ",u(j9,{onClick:l,children:"save"})]}})},get children(){return u(Z,{get when(){return a.isPending},get children(){return u(Le,{size:"small",children:"Saving message..."})}})}})]}const KPe=H("div",{base:{background:"var(--md-sys-color-surface-container-highest)",color:"var(--md-sys-color-on-surface-container)",borderRadius:"var(--borderRadius-sm)",padding:"var(--gap-md)"}}),j9=H("span",{base:{fontWeight:600,cursor:"pointer",color:"var(--md-sys-color-primary)"}});var WS=I("<div>");const JPe=/[(http(s)?)://(www.)?a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_+.~#?&//=]*)/;function u6(t){const e=Ad(),n=Ht(),{_:r}=Dt(),i=pt(),[s,o]=ve(!1),a=()=>t.message.embeds&&t.message.embeds.length===1&&t.message.embeds[0].type==="Website"&&(t.message.embeds[0].specialContent?.type==="GIF"||t.message.embeds[0].originalUrl?.startsWith("https://tenor.com"))&&t.message.content&&!t.message.content.replace(JPe,"").length,l=d=>t.message.react(d),c=d=>t.message.unreact(d);return u(cO,{get message(){return t.message},onHover:o,get username(){return(()=>{var d=WS();return Fe(Xt,d,()=>O_(t.message)),V(d,u(Fw,{get username(){return t.message.member?.nickname??t.message.author?.displayName??t.message.author?.username??t.message.username},get colour(){return t.message.roleColour}})),d})()},get avatar(){return(()=>{var d=WS();return Fe(Xt,d,()=>O_(t.message)),V(d,u(zt,{size:36,get src(){return s()?t.message.animatedAvatarURL:t.message.avatarURL}})),Te(()=>ut(d,e9e())),d})()},contextMenu:()=>u(a0,{get message(){return t.message}}),get timestamp(){return t.message.createdAt},get edited(){return t.message.editedAt},get mentioned(){return t.message.mentioned},get highlight(){return t.highlight},get editing(){return t.editing},get isLink(){return t.isLink},get tail(){return t.tail||n.settings.getValue("appearance:compact_mode")},get header(){return u(X,{get when(){return t.message.replyIds},get children(){return u(rt,{get each(){return t.message.replyIds},children:d=>{const h=()=>i().messages.get(d);return Tn(()=>{h()||t.message.channel.fetchMessage(d)}),u(RT,{get mention(){return t.message.mentionIds?.includes(h().authorId)},get message(){return h()}})}})}})},get info(){return u(Me,{get fallback(){return WS()},get children(){return[u(Z,{get when(){return t.message.masquerade&&t.message.authorId==="01FHGJ3NPP7XANQQH8C2BE44ZY"},get children(){return u(vi,{get content(){return r({id:"Bgk5D1"})},placement:"top",get children(){return u(yt,{size:16,children:"link"})}})}}),u(Z,{get when(){return t.message.author?.privileged},get children(){return u(vi,{get content(){return r({id:"DIqs2u"})},placement:"top",get children(){return u(yt,{size:16,children:"brightness_alert"})}})}}),u(Z,{get when(){return t.message.author?.bot},get children(){return u(vi,{get content(){return r({id:"ixkTse"})},placement:"top",get children(){return u(yt,{size:16,fill:!0,children:"smart_toy"})}})}}),u(Z,{get when(){return t.message.webhook},get children(){return u(vi,{get content(){return r({id:"TRDppN"})},placement:"top",get children(){return u(yt,{size:16,fill:!0,children:"cloud"})}})}}),u(Z,{get when(){return t.message.isSuppressed},get children(){return u(vi,{get content(){return r({id:"i2CkSD"})},placement:"top",get children(){return u(yt,{size:16,fill:!0,children:"notifications_off"})}})}}),u(Z,{get when(){return Ce(()=>!!t.message.authorId)()&&e().diff(Wo(t.message.authorId),"day")<1},get children(){return u(q9,{get children(){return u(vi,{get content(){return r({id:"NcHUaT"})},placement:"top",get children(){return u(yt,{size:16,fill:!0,children:"spa"})}})}})}}),u(Z,{get when(){return Ce(()=>!!t.message.member)()&&e().diff(t.message.member.joinedAt,"day")<1},get children(){return u(q9,{get children(){return u(vi,{get content(){return r({id:"CQKBqI"})},placement:"top",get children(){return u(yt,{size:16,children:"spa"})}})}})}})]}})},get compact(){return!!t.message.systemMessage||n.settings.getValue("appearance:compact_mode")},get infoMatch(){return u(Z,{get when(){return t.message.systemMessage},get children(){return u(cJe,{get systemMessage(){return t.message.systemMessage},get createdAt(){return t.message.createdAt},get isServer(){return!!t.message.server}})}})},get children(){return[u(X,{get when(){return t.message.systemMessage},get children(){return u(aJe,{get systemMessage(){return t.message.systemMessage},menuGenerator:d=>d?c6(d,t.message.server?.getMember(d.id)):{},get isServer(){return!!t.message.server}})}}),u(Me,{get children(){return[u(Z,{get when(){return t.editing},get children(){return u(ZPe,{get message(){return t.message}})}}),u(Z,{get when(){return Ce(()=>!!t.message.content)()&&!a()},get children(){return u(t9e,{get children(){return u(Md,{get content(){return t.message.content}})}})}})]}}),u(X,{get when(){return t.message.attachments},get children(){return u(rt,{get each(){return t.message.attachments},children:d=>u(OG,{get message(){return t.message},file:d})})}}),u(X,{get when(){return t.message.embeds},get children(){return u(rt,{get each(){return t.message.embeds},children:d=>u(IKe,{embed:d})})}}),u(eJe,{get reactions(){return t.message.reactions},get interactions(){return t.message.interactions},get userId(){return i().user.id},addReaction:l,removeReaction:c,sendGIF:d=>t.message?.channel?.sendMessage({content:d,replies:[{id:t.message.id,mention:!0}]})})]}})}const q9=H("div",{base:{fill:"var(--md-sys-color-primary)"}}),e9e=nn({base:{height:"fit-content",borderRadius:"var(--borderRadius-circle)"}}),t9e=H("div",{base:{wordBreak:"break-word","& .math":{overflowX:"auto",overflowY:"hidden",maxHeight:"100vh"}}});var D2={exports:{}};D2.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,a="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",d="[object Boolean]",h="[object Date]",f="[object Error]",m="[object Function]",g="[object GeneratorFunction]",p="[object Map]",v="[object Number]",b="[object Null]",y="[object Object]",C="[object Promise]",x="[object Proxy]",O="[object RegExp]",S="[object Set]",T="[object String]",$="[object Symbol]",M="[object Undefined]",P="[object WeakMap]",L="[object ArrayBuffer]",j="[object DataView]",te="[object Float32Array]",U="[object Float64Array]",N="[object Int8Array]",z="[object Int16Array]",K="[object Int32Array]",re="[object Uint8Array]",Q="[object Uint8ClampedArray]",D="[object Uint16Array]",se="[object Uint32Array]",he=/[\\^$.*+?()[\]{}|]/g,E=/^\[object .+?Constructor\]$/,De=/^(?:0|[1-9]\d*)$/,pe={};pe[te]=pe[U]=pe[N]=pe[z]=pe[K]=pe[re]=pe[Q]=pe[D]=pe[se]=!0,pe[a]=pe[l]=pe[L]=pe[d]=pe[j]=pe[h]=pe[f]=pe[m]=pe[p]=pe[v]=pe[y]=pe[O]=pe[S]=pe[T]=pe[P]=!1;var ct=typeof Zi=="object"&&Zi&&Zi.Object===Object&&Zi,Mt=typeof self=="object"&&self&&self.Object===Object&&self,At=ct||Mt||Function("return this")(),on=e&&!e.nodeType&&e,Wt=on&&!0&&t&&!t.nodeType&&t,bn=Wt&&Wt.exports===on,Or=bn&&ct.process,dr=function(){try{return Or&&Or.binding&&Or.binding("util")}catch{}}(),ui=dr&&dr.isTypedArray;function $n(Y,fe){for(var $e=-1,Ot=Y==null?0:Y.length,kr=0,an=[];++$e<Ot;){var Fr=Y[$e];fe(Fr,$e,Y)&&(an[kr++]=Fr)}return an}function gn(Y,fe){for(var $e=-1,Ot=fe.length,kr=Y.length;++$e<Ot;)Y[kr+$e]=fe[$e];return Y}function Kr(Y,fe){for(var $e=-1,Ot=Y==null?0:Y.length;++$e<Ot;)if(fe(Y[$e],$e,Y))return!0;return!1}function xt(Y,fe){for(var $e=-1,Ot=Array(Y);++$e<Y;)Ot[$e]=fe($e);return Ot}function Si(Y){return function(fe){return Y(fe)}}function hr(Y,fe){return Y.has(fe)}function Mn(Y,fe){return Y?.[fe]}function Va(Y){var fe=-1,$e=Array(Y.size);return Y.forEach(function(Ot,kr){$e[++fe]=[kr,Ot]}),$e}function Ws(Y,fe){return function($e){return Y(fe($e))}}function wl(Y){var fe=-1,$e=Array(Y.size);return Y.forEach(function(Ot){$e[++fe]=Ot}),$e}var kl=Array.prototype,oe=Function.prototype,Oe=Object.prototype,Ke=At["__core-js_shared__"],gt=oe.toString,It=Oe.hasOwnProperty,sr=function(){var Y=/[^.]+$/.exec(Ke&&Ke.keys&&Ke.keys.IE_PROTO||"");return Y?"Symbol(src)_1."+Y:""}(),ys=Oe.toString,os=RegExp("^"+gt.call(It).replace(he,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),na=bn?At.Buffer:void 0,ra=At.Symbol,xi=At.Uint8Array,po=Oe.propertyIsEnumerable,Xs=kl.splice,bc=ra?ra.toStringTag:void 0,ja=Object.getOwnPropertySymbols,Qw=na?na.isBuffer:void 0,Uw=Ws(Object.keys,Object),vf=Zn(At,"DataView"),Id=Zn(At,"Map"),Vg=Zn(At,"Promise"),jg=Zn(At,"Set"),qg=Zn(At,"WeakMap"),$d=Zn(Object,"create"),Vw=xl(vf),jw=xl(Id),qw=xl(Vg),Hw=xl(jg),Ww=xl(qg),Hg=ra?ra.prototype:void 0,Wg=Hg?Hg.valueOf:void 0;function yc(Y){var fe=-1,$e=Y==null?0:Y.length;for(this.clear();++fe<$e;){var Ot=Y[fe];this.set(Ot[0],Ot[1])}}function Xw(){this.__data__=$d?$d(null):{},this.size=0}function Yw(Y){var fe=this.has(Y)&&delete this.__data__[Y];return this.size-=fe?1:0,fe}function Gw(Y){var fe=this.__data__;if($d){var $e=fe[Y];return $e===r?void 0:$e}return It.call(fe,Y)?fe[Y]:void 0}function Zw(Y){var fe=this.__data__;return $d?fe[Y]!==void 0:It.call(fe,Y)}function Kw(Y,fe){var $e=this.__data__;return this.size+=this.has(Y)?0:1,$e[Y]=$d&&fe===void 0?r:fe,this}yc.prototype.clear=Xw,yc.prototype.delete=Yw,yc.prototype.get=Gw,yc.prototype.has=Zw,yc.prototype.set=Kw;function qa(Y){var fe=-1,$e=Y==null?0:Y.length;for(this.clear();++fe<$e;){var Ot=Y[fe];this.set(Ot[0],Ot[1])}}function Jw(){this.__data__=[],this.size=0}function ek(Y){var fe=this.__data__,$e=W(fe,Y);if($e<0)return!1;var Ot=fe.length-1;return $e==Ot?fe.pop():Xs.call(fe,$e,1),--this.size,!0}function tk(Y){var fe=this.__data__,$e=W(fe,Y);return $e<0?void 0:fe[$e][1]}function nk(Y){return W(this.__data__,Y)>-1}function rk(Y,fe){var $e=this.__data__,Ot=W($e,Y);return Ot<0?(++this.size,$e.push([Y,fe])):$e[Ot][1]=fe,this}qa.prototype.clear=Jw,qa.prototype.delete=ek,qa.prototype.get=tk,qa.prototype.has=nk,qa.prototype.set=rk;function Oc(Y){var fe=-1,$e=Y==null?0:Y.length;for(this.clear();++fe<$e;){var Ot=Y[fe];this.set(Ot[0],Ot[1])}}function ik(){this.size=0,this.__data__={hash:new yc,map:new(Id||qa),string:new yc}}function c1(Y){var fe=wr(this,Y).delete(Y);return this.size-=fe?1:0,fe}function Ld(Y){return wr(this,Y).get(Y)}function u1(Y){return wr(this,Y).has(Y)}function _u(Y,fe){var $e=wr(this,Y),Ot=$e.size;return $e.set(Y,fe),this.size+=$e.size==Ot?0:1,this}Oc.prototype.clear=ik,Oc.prototype.delete=c1,Oc.prototype.get=Ld,Oc.prototype.has=u1,Oc.prototype.set=_u;function bf(Y){var fe=-1,$e=Y==null?0:Y.length;for(this.__data__=new Oc;++fe<$e;)this.add(Y[fe])}function yf(Y){return this.__data__.set(Y,r),this}function Xg(Y){return this.__data__.has(Y)}bf.prototype.add=bf.prototype.push=yf,bf.prototype.has=Xg;function Sl(Y){var fe=this.__data__=new qa(Y);this.size=fe.size}function sk(){this.__data__=new qa,this.size=0}function Yg(Y){var fe=this.__data__,$e=fe.delete(Y);return this.size=fe.size,$e}function ok(Y){return this.__data__.get(Y)}function ak(Y){return this.__data__.has(Y)}function B(Y,fe){var $e=this.__data__;if($e instanceof qa){var Ot=$e.__data__;if(!Id||Ot.length<n-1)return Ot.push([Y,fe]),this.size=++$e.size,this;$e=this.__data__=new Oc(Ot)}return $e.set(Y,fe),this.size=$e.size,this}Sl.prototype.clear=sk,Sl.prototype.delete=Yg,Sl.prototype.get=ok,Sl.prototype.has=ak,Sl.prototype.set=B;function ne(Y,fe){var $e=d1(Y),Ot=!$e&&YG(Y),kr=!$e&&!Ot&&dk(Y),an=!$e&&!Ot&&!kr&&WT(Y),Fr=$e||Ot||kr||an,_i=Fr?xt(Y.length,String):[],Vi=_i.length;for(var Pr in Y)It.call(Y,Pr)&&!(Fr&&(Pr=="length"||kr&&(Pr=="offset"||Pr=="parent")||an&&(Pr=="buffer"||Pr=="byteLength"||Pr=="byteOffset")||lk(Pr,Vi)))&&_i.push(Pr);return _i}function W(Y,fe){for(var $e=Y.length;$e--;)if(VT(Y[$e][0],fe))return $e;return-1}function ue(Y,fe,$e){var Ot=fe(Y);return d1(Y)?Ot:gn(Ot,$e(Y))}function me(Y){return Y==null?Y===void 0?M:b:bc&&bc in Object(Y)?Ys(Y):uk(Y)}function le(Y){return Zg(Y)&&me(Y)==a}function Re(Y,fe,$e,Ot,kr){return Y===fe?!0:Y==null||fe==null||!Zg(Y)&&!Zg(fe)?Y!==Y&&fe!==fe:ze(Y,fe,$e,Ot,Re,kr)}function ze(Y,fe,$e,Ot,kr,an){var Fr=d1(Y),_i=d1(fe),Vi=Fr?l:ia(Y),Pr=_i?l:ia(fe);Vi=Vi==a?y:Vi,Pr=Pr==a?y:Pr;var vo=Vi==y,Ha=Pr==y,as=Vi==Pr;if(as&&dk(Y)){if(!dk(fe))return!1;Fr=!0,vo=!1}if(as&&!vo)return an||(an=new Sl),Fr||WT(Y)?_t(Y,fe,$e,Ot,kr,an):dn(Y,fe,Vi,$e,Ot,kr,an);if(!($e&i)){var sa=vo&&It.call(Y,"__wrapped__"),oa=Ha&&It.call(fe,"__wrapped__");if(sa||oa){var Cu=sa?Y.value():Y,wc=oa?fe.value():fe;return an||(an=new Sl),kr(Cu,wc,$e,Ot,an)}}return as?(an||(an=new Sl),Fn(Y,fe,$e,Ot,kr,an)):!1}function qe(Y){if(!HT(Y)||UT(Y))return!1;var fe=jT(Y)?os:E;return fe.test(xl(Y))}function Ye(Y){return Zg(Y)&&qT(Y.length)&&!!pe[me(Y)]}function tt(Y){if(!ck(Y))return Uw(Y);var fe=[];for(var $e in Object(Y))It.call(Y,$e)&&$e!="constructor"&&fe.push($e);return fe}function _t(Y,fe,$e,Ot,kr,an){var Fr=$e&i,_i=Y.length,Vi=fe.length;if(_i!=Vi&&!(Fr&&Vi>_i))return!1;var Pr=an.get(Y);if(Pr&&an.get(fe))return Pr==fe;var vo=-1,Ha=!0,as=$e&s?new bf:void 0;for(an.set(Y,fe),an.set(fe,Y);++vo<_i;){var sa=Y[vo],oa=fe[vo];if(Ot)var Cu=Fr?Ot(oa,sa,vo,fe,Y,an):Ot(sa,oa,vo,Y,fe,an);if(Cu!==void 0){if(Cu)continue;Ha=!1;break}if(as){if(!Kr(fe,function(wc,Fd){if(!hr(as,Fd)&&(sa===wc||kr(sa,wc,$e,Ot,an)))return as.push(Fd)})){Ha=!1;break}}else if(!(sa===oa||kr(sa,oa,$e,Ot,an))){Ha=!1;break}}return an.delete(Y),an.delete(fe),Ha}function dn(Y,fe,$e,Ot,kr,an,Fr){switch($e){case j:if(Y.byteLength!=fe.byteLength||Y.byteOffset!=fe.byteOffset)return!1;Y=Y.buffer,fe=fe.buffer;case L:return!(Y.byteLength!=fe.byteLength||!an(new xi(Y),new xi(fe)));case d:case h:case v:return VT(+Y,+fe);case f:return Y.name==fe.name&&Y.message==fe.message;case O:case T:return Y==fe+"";case p:var _i=Va;case S:var Vi=Ot&i;if(_i||(_i=wl),Y.size!=fe.size&&!Vi)return!1;var Pr=Fr.get(Y);if(Pr)return Pr==fe;Ot|=s,Fr.set(Y,fe);var vo=_t(_i(Y),_i(fe),Ot,kr,an,Fr);return Fr.delete(Y),vo;case $:if(Wg)return Wg.call(Y)==Wg.call(fe)}return!1}function Fn(Y,fe,$e,Ot,kr,an){var Fr=$e&i,_i=Bn(Y),Vi=_i.length,Pr=Bn(fe),vo=Pr.length;if(Vi!=vo&&!Fr)return!1;for(var Ha=Vi;Ha--;){var as=_i[Ha];if(!(Fr?as in fe:It.call(fe,as)))return!1}var sa=an.get(Y);if(sa&&an.get(fe))return sa==fe;var oa=!0;an.set(Y,fe),an.set(fe,Y);for(var Cu=Fr;++Ha<Vi;){as=_i[Ha];var wc=Y[as],Fd=fe[as];if(Ot)var XT=Fr?Ot(Fd,wc,as,fe,Y,an):Ot(wc,Fd,as,Y,fe,an);if(!(XT===void 0?wc===Fd||kr(wc,Fd,$e,Ot,an):XT)){oa=!1;break}Cu||(Cu=as=="constructor")}if(oa&&!Cu){var h1=Y.constructor,f1=fe.constructor;h1!=f1&&"constructor"in Y&&"constructor"in fe&&!(typeof h1=="function"&&h1 instanceof h1&&typeof f1=="function"&&f1 instanceof f1)&&(oa=!1)}return an.delete(Y),an.delete(fe),oa}function Bn(Y){return ue(Y,KG,Nd)}function wr(Y,fe){var $e=Y.__data__;return Gg(fe)?$e[typeof fe=="string"?"string":"hash"]:$e.map}function Zn(Y,fe){var $e=Mn(Y,fe);return qe($e)?$e:void 0}function Ys(Y){var fe=It.call(Y,bc),$e=Y[bc];try{Y[bc]=void 0;var Ot=!0}catch{}var kr=ys.call(Y);return Ot&&(fe?Y[bc]=$e:delete Y[bc]),kr}var Nd=ja?function(Y){return Y==null?[]:(Y=Object(Y),$n(ja(Y),function(fe){return po.call(Y,fe)}))}:JG,ia=me;(vf&&ia(new vf(new ArrayBuffer(1)))!=j||Id&&ia(new Id)!=p||Vg&&ia(Vg.resolve())!=C||jg&&ia(new jg)!=S||qg&&ia(new qg)!=P)&&(ia=function(Y){var fe=me(Y),$e=fe==y?Y.constructor:void 0,Ot=$e?xl($e):"";if(Ot)switch(Ot){case Vw:return j;case jw:return p;case qw:return C;case Hw:return S;case Ww:return P}return fe});function lk(Y,fe){return fe=fe??o,!!fe&&(typeof Y=="number"||De.test(Y))&&Y>-1&&Y%1==0&&Y<fe}function Gg(Y){var fe=typeof Y;return fe=="string"||fe=="number"||fe=="symbol"||fe=="boolean"?Y!=="__proto__":Y===null}function UT(Y){return!!sr&&sr in Y}function ck(Y){var fe=Y&&Y.constructor,$e=typeof fe=="function"&&fe.prototype||Oe;return Y===$e}function uk(Y){return ys.call(Y)}function xl(Y){if(Y!=null){try{return gt.call(Y)}catch{}try{return Y+""}catch{}}return""}function VT(Y,fe){return Y===fe||Y!==Y&&fe!==fe}var YG=le(function(){return arguments}())?le:function(Y){return Zg(Y)&&It.call(Y,"callee")&&!po.call(Y,"callee")},d1=Array.isArray;function GG(Y){return Y!=null&&qT(Y.length)&&!jT(Y)}var dk=Qw||eZ;function ZG(Y,fe){return Re(Y,fe)}function jT(Y){if(!HT(Y))return!1;var fe=me(Y);return fe==m||fe==g||fe==c||fe==x}function qT(Y){return typeof Y=="number"&&Y>-1&&Y%1==0&&Y<=o}function HT(Y){var fe=typeof Y;return Y!=null&&(fe=="object"||fe=="function")}function Zg(Y){return Y!=null&&typeof Y=="object"}var WT=ui?Si(ui):Ye;function KG(Y){return GG(Y)?ne(Y):tt(Y)}function JG(){return[]}function eZ(){return!1}t.exports=ZG})(D2,D2.exports);var n9e=D2.exports;const r9e=Jo(n9e);var H9=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},i9e=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),s9e=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),o9e=function(){function t(e,n,r,i){this.name=e,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return t}(),a9e=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),l9e=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),c9e=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,u9e=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,W9=3,d9e=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",c9e]],X9=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function h9e(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new l9e:typeof navigator<"u"?m9e(navigator.userAgent):p9e()}function f9e(t){return t!==""&&d9e.reduce(function(e,n){var r=n[0],i=n[1];if(e)return e;var s=i.exec(t);return!!s&&[r,s]},!1)}function m9e(t){var e=f9e(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new a9e;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<W9&&(i=H9(H9([],i,!0),v9e(W9-i.length),!0)):i=[];var s=i.join("."),o=g9e(t),a=u9e.exec(t);return a&&a[1]?new o9e(n,s,o,a[1]):new i9e(n,s,o)}function g9e(t){for(var e=0,n=X9.length;e<n;e++){var r=X9[e],i=r[0],s=r[1],o=s.exec(t);if(o)return i}return null}function p9e(){var t=typeof process<"u"&&process.version;return t?new s9e(process.version.slice(1)):null}function v9e(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var Ti=(t=>(t.Ready="Ready",t.LoggingIn="Logging In",t.Onboarding="Onboarding",t.Error="Error",t.Dispose="Dispose",t.Connecting="Connecting",t.Connected="Connected",t.Disconnected="Disconnected",t.Reconnecting="Reconnecting",t.Offline="Offline",t))(Ti||{}),av=(t=>(t.LoginUncached="uncached login",t.LoginCached="cached login",t.SocketConnected="socket connected",t.DeviceOffline="device offline",t.DeviceOnline="device online",t.PermanentFailure="permanent failure",t.TemporaryFailure="temporary failure",t.UserCreated="user created",t.NoUser="no user",t.Cancel="cancel",t.Dispose="dispose",t.DisposeOnly="dispose only",t.Dismiss="dismiss",t.Ready="ready",t.Retry="retry",t.Logout="logout",t))(av||{});class b9e{#e;state;#t;loadedOnce;#n;policyAttentionRequired;#r;client;#i=0;#o;#a;constructor(e){this.#e=e,this.onState=this.onState.bind(this),this.onReady=this.onReady.bind(this),this.onPolicyChanges=this.onPolicyChanges.bind(this);const[n,r]=ve("Ready");this.state=n,this.#t=r;const[i,s]=ve(!1);this.loadedOnce=i,this.#n=s;const[o,a]=ve(void 0);this.policyAttentionRequired=o,this.#r=a,this.client=null,this.dispose()}dispose(){this.client&&(this.client.events.removeAllListeners(),this.client.removeAllListeners(),this.client.events.disconnect()),this.client=new ree({baseURL:Qn.DEFAULT_API_URL,autoReconnect:!1,syncUnreads:!0,debug:!1,channelIsMuted:e=>this.#e.state.notifications.isMuted(e),channelExclusiveMuted:e=>this.#e.state.notifications.isChannelMuted(e)}),this.client.configuration={revolt:"",app:"",build:{},features:{autumn:{enabled:!0,url:Qn.DEFAULT_MEDIA_URL},january:{enabled:!0,url:Qn.DEFAULT_PROXY_URL},captcha:{},email:!0,invite_only:!1,livekit:{enabled:!1,nodes:[]}},vapid:"",ws:Qn.DEFAULT_WS_URL},this.client.events.on("state",this.onState),this.client.on("ready",this.onReady),this.client.on("policyChanges",this.onPolicyChanges)}#s(e){switch(this.#t(e),this.#a&&(clearTimeout(this.#a),this.#a=void 0),e){case"Logging In":this.client.api.get("/onboard/hello").then(({onboarding:n})=>{n?this.transition({type:"no user"}):this.client.connect()});break;case"Connecting":case"Reconnecting":this.client.connect();break;case"Connected":this.#e.state.auth.markValid(),this.#n(!0),this.#i=0;break;case"Dispose":this.dispose(),this.transition({type:"ready"}),this.#n(!1);break;case"Disconnected":if(this.#i++,!navigator.onLine)this.transition({type:"device offline"});else{const n=(Math.pow(2,this.#i)-1)*(.8+Math.random()*.4);console.info("Will try to reconnect in",n.toFixed(2),"seconds!"),this.#a=setTimeout(()=>{this.#a=void 0,this.transition({type:"retry"})},n*1e3)}break}}transition(e){if(console.debug("Received transition",e.type),e.type==="dispose only"){this.dispose();return}const n=this.state();switch(n){case"Ready":e.type==="uncached login"?(this.client.useExistingSession({...e.session,user_id:e.session.userId}),this.#s("Logging In")):e.type==="cached login"&&(this.client.useExistingSession({...e.session,user_id:e.session.userId}),this.#s("Connecting"));break;case"Logging In":switch(e.type){case"socket connected":this.#s("Connected");break;case"no user":this.#s("Onboarding");break;case"permanent failure":case"temporary failure":this.#s("Error");break}break;case"Onboarding":e.type==="user created"?this.#s("Connecting"):e.type==="cancel"&&this.#s("Dispose");break;case"Error":e.type==="dismiss"&&this.#s("Dispose");break;case"Dispose":e.type==="ready"&&this.#s("Ready");break;case"Connecting":switch(e.type){case"socket connected":this.#s("Connected");break;case"temporary failure":this.#s("Disconnected");break;case"permanent failure":this.#o=e.error,this.#s("Error");break;case"logout":this.#s("Dispose");break}break;case"Connected":switch(e.type){case"temporary failure":this.#s("Disconnected");break;case"logout":this.#s("Dispose");break}break;case"Disconnected":switch(e.type){case"device offline":this.#s("Offline");break;case"retry":this.#s("Reconnecting");break;case"logout":this.#s("Dispose");break}break;case"Reconnecting":switch(e.type){case"socket connected":this.#s("Connected");break;case"temporary failure":this.#s("Disconnected");break;case"permanent failure":this.#s("Error");break;case"logout":this.#s("Dispose");break}break;case"Offline":switch(e.type){case"device online":this.#s("Reconnecting");break;case"retry":this.#s("Reconnecting");break;case"logout":this.#s("Dispose");break}break}n===this.state()&&console.error("An unhandled transition occurred!",e,"was received on",n)}onReady(){this.transition({type:"socket connected"})}onPolicyChanges(e,n){this.#r([e,()=>n().then(()=>this.#r(void 0))])}onState(e){switch(e){case ma.Disconnected:if(this.client.events.lastError&&this.client.events.lastError.type==="revolt"){this.transition({type:"permanent failure",error:this.client.events.lastError.data.type});break}this.transition({type:"temporary failure"});break}}get permanentError(){return this.#o}}class y9e{api;lifecycle;state;constructor(e){this.state=e,this.api=new ux({baseURL:Qn.DEFAULT_API_URL}),this.lifecycle=new b9e(this),this.login=this.login.bind(this),this.logout=this.logout.bind(this),this.selectUsername=this.selectUsername.bind(this),this.isLoggedIn=this.isLoggedIn.bind(this),this.isError=this.isError.bind(this);const n=e.auth.getSession();n&&this.lifecycle.transition({type:"cached login",session:n})}getCurrentClient(){return this.lifecycle.client}isLoggedIn(){return["Connecting","Connected","Disconnected","Offline","Reconnecting"].includes(this.lifecycle.state())}isError(){return this.lifecycle.state()==="Error"}async login(e,n){const r=h9e();let i;if(r){let{name:a,os:l}=r;a==="ios"?a="safari":a==="fxios"?a="firefox":a==="crios"?a="chrome":l==="Mac OS"&&navigator.maxTouchPoints>0&&(l="iPadOS"),i=`Stoat for Web (${a} on ${l})`}else i="Stoat for Web (Unknown Device)";let s=await this.api.post("/auth/session/login",{...e,friendly_name:i});if(s.result==="MFA"){const{allowed_methods:a}=s;for(;s.result==="MFA";){const l=await new Promise(c=>n.openModal({type:"mfa_flow",state:"unknown",available_methods:a,callback:c}));if(typeof l>"u")break;try{s=await this.api.post("/auth/session/login",{mfa_response:l,mfa_ticket:s.ticket,friendly_name:i})}catch(c){console.error("Failed login:",c)}}if(s.result==="MFA")throw"Cancelled"}if(s.result==="Disabled"){alert("Account is disabled, run special logic here.");return}const o={_id:s._id,token:s.token,userId:s.user_id,valid:!1};this.state.auth.setSession(o),this.lifecycle.transition({type:"uncached login",session:o})}async selectUsername(e){await this.lifecycle.client.api.post("/onboard/complete",{username:e}),this.lifecycle.transition({type:"user created"})}logout(){this.state.auth.removeSession(),this.lifecycle.transition({type:"logout"})}dispose(){this.lifecycle.transition({type:"dispose only"})}}var O9e=I("<div><div><div>");function w9e(t){let e;function n(s){if(!s)return;const o=s.scrollAnchorId?document.getElementById(s.scrollAnchorId)?.getBoundingClientRect():null;Nt(()=>{s.commitToDOM()}),o&&queueMicrotask(()=>{const a=s.scrollAnchorId?document.getElementById(s.scrollAnchorId)?.getBoundingClientRect():null;a&&e?.scrollTo({top:e.scrollTop+(a.top-o.top)})})}async function r(){n(await t.fetchTop())}async function i(){n(await t.fetchBottom())}return(()=>{var s=O9e(),o=s.firstChild,a=o.firstChild;Fe(hu,s,()=>({direction:"y",class:G9({parent:!0})}));var l=e;return typeof l=="function"?Fe(l,s):e=s,V(a,u(X,{get when(){return!t.atStart()},get children(){return u(Y9,{align:"end",onVisible:r,containerRef:e,get permitFetching(){return t.permitFetching}})}}),null),V(a,()=>t.children,null),V(a,u(X,{get when(){return!t.atEnd()},get children(){return u(Y9,{align:"start",onVisible:i,containerRef:e,get permitFetching(){return t.permitFetching}})}}),null),Te(()=>ut(o,G9())),s})()}function Y9(t){let e;function n([r]){r&&r.isIntersecting&&t.onVisible()}return dt(Zt(()=>[e,t.containerRef,t.permitFetching()],([r,i,s])=>{if(r&&i&&s){const o=new IntersectionObserver(n,{root:i});o.observe(r),wt(()=>o.disconnect())}})),u(k9e,{ref(r){var i=e;typeof i=="function"?i(r):e=r},get align(){return t.align},get children(){return u(rt,{get each(){return new Array(30).fill(0)},children:()=>u(Ae,{gap:"none",get children(){return u(kt,{get children(){return[u(S9e,{get children(){return u(XS,{shape:"avatar"})}}),u(Ae,{gap:"sm",get children(){return[u(XS,{shape:"username",get style(){return{width:`${Math.floor(Math.random()*5+5)}em`}}}),u(rt,{get each(){return new Array(Math.ceil(Math.random()*3)).fill(0)},children:()=>u(XS,{shape:"content",get style(){return{width:`${Math.floor(Math.random()*10+15)}em`}}})})]}})]}})}})})}})}const k9e=H("div",{base:{display:"flex",flexDirection:"column",gap:"var(--message-group-spacing)",height:"100rem",overflow:"hidden",pointerEvents:"none"},variants:{align:{start:{justifyContent:"start"},end:{justifyContent:"end"}}}}),S9e=H("div",{base:{width:"52px",alignSelf:"start",display:"flex",justifyContent:"end",paddingInline:"var(--gap-sm)"}}),XS=H("div",{base:{background:"linear-gradient(90deg, var(--md-sys-color-surface-container-highest) 25%, var(--md-sys-color-surface-container-high) 50%, var(--md-sys-color-surface-container-highest) 75%)",backgroundSize:"200% 100%",backgroundAttachment:"fixed",animation:"skeletonShimmer 1.5s infinite"},variants:{shape:{avatar:{width:"36px",height:"36px",borderRadius:"var(--borderRadius-full)"},username:{height:"0.8em",borderRadius:"var(--borderRadius-sm)"},content:{height:"var(--message-size)",marginTop:"var(--gap-sm)",borderRadius:"var(--borderRadius-sm)"}}}}),G9=nn({base:{display:"flex",flexDirection:"column-reverse"},variants:{parent:{true:{height:"100%",flexGrow:1}}}}),Tq=yr();function x9e(t){const e=wu(),n={};function r(s){const o=n[s.channelId];o?.atEnd&&(o.messages=[s,...o.messages].slice(0,50))}function i(s){const o=n[s.channelId];o&&(o.messages=o.messages.filter(a=>a.id!==s.id))}return Tn(()=>{t.client.addListener("messageCreate",r),t.client.addListener("messageDelete",i)}),wt(()=>{t.client.removeListener("messageCreate",r),t.client.removeListener("messageDelete",i)}),dt(Zt(()=>e.lifecycle.state(),s=>{if(s===Ti.Connected)for(const o of Object.keys(n))delete n[o]},{defer:!0})),u(Tq.Provider,{value:{manage(s,o){n[s.id]=o},unmanage(s){if(n[s.id]){const o=n[s.id];return delete n[s.id],o}}},get children(){return t.children}})}function _9e(){return Nn(Tq)}var C9e=I("<div><div>");const Z9=30,Yd=50,K9=150;function E9e(t){const e=_9e(),n=wu(),r=pt(),i=Ht(),s=Ad(),[o,a]=ve([]),[l,c]=ve(!1),[d,h]=ve(!0),[f,m]=ve(),[g,p]=ve(!1);let v,b,y;function C(){return!f()||g()}function x(){Nt(()=>{m(),p(!1),b?.()})}function O(){let Q=!1;return b=()=>{Q=!0},()=>Q}function S(...Q){a(Q.flat().toSorted((D,se)=>se.id.localeCompare(D.id)))}async function T(Q){x(),m("initial");const D=O();a([]),c(!1),h(!0),v=[];try{let se;const he=e.unmanage(t.channel),E=he&&!Q;if(E?se=he.messages:se=await t.channel.fetchMessagesWithUsers({limit:Z9,nearby:Q}).then(({messages:De})=>De),D())return;if(typeof Q=="string"?h(se.findIndex(De=>De.id===t.channel.lastMessageId)!==-1):!E&&se.length<Z9?c(!0):he&&(c(he.atStart),h(he.atEnd)),d()){const De=new Set(v.map(pe=>pe.id));S(v,se.filter(pe=>!De.has(pe.id)))}else a(se);v=[],m(),he&&!he.atEnd?setTimeout(()=>y.scrollTo({top:he.scrollTop,behavior:"instant"})):d()&&setTimeout(()=>y.scrollTo({top:9999999,behavior:"instant"}))}catch{p(!0),m()}}async function $(){if(l()||!C())return;m("upwards");const Q=O();try{const D=await t.channel.fetchMessagesWithUsers({limit:Yd,before:o().slice(-1)[0].id});if(Q())return;if(D.messages.length<Yd&&c(!0),D.messages.length){const se=Math.max(0,D.messages.length+o().length-K9);se>0&&h(!1);const he=o();return{scrollAnchorId:he[he.length-1].id,commitToDOM(){S(o(),D.messages),se&&a(E=>E.slice(se)),m()}}}else m()}catch{p(!0),m()}}async function M(){if(d()||!C())return;m("downwards");const Q=O();try{const D=await t.channel.fetchMessagesWithUsers({limit:Yd,after:o()[0].id,sort:"Oldest"});if(Q())return;if(D.messages.length<Yd&&h(!0),D.messages.length){const se=Math.max(0,D.messages.length+o().length-K9);return se>0&&c(!1),{scrollAnchorId:o()[0].id,commitToDOM(){a(()=>[...D.messages.reverse(),...o()]),se&&a(he=>he.slice(0,-se)),m()}}}else m()}catch{p(!0),m()}}async function P(){function Q(D){return D?getComputedStyle(D).overflowY==="scroll"?D:D.parentElement:null}if(d())Q(y).children[0].scrollIntoView({behavior:"smooth",block:"end"});else{x(),m("jump_end");const D=O();v=[];try{const{messages:se}=await t.channel.fetchMessagesWithUsers({limit:Yd});if(D())return;se.length<Yd?c(!0):c(!1),h(!0);const he=new Set(v.map(E=>E.id));S(v,se.filter(E=>!he.has(E.id))),v=[],setTimeout(()=>{const E=Q(y).children[0];E.scrollIntoView({behavior:"instant",block:"start"}),setTimeout(()=>{E.scrollIntoView({behavior:"smooth",block:"end"}),m()})})}catch{p(!0),m()}}}async function L(Q){const D=()=>{const he=N().findIndex(E=>E.t===0&&E.message.id===Q);y.children[he+(l()?1:0)].scrollIntoView({behavior:"smooth",block:"center"})};if(o().find(he=>he.id===Q)){D();return}x(),m("jump_msg");const se=O();try{const{messages:he}=await t.channel.fetchMessagesWithUsers({limit:Yd,nearby:Q});if(se())return;c(!1),h(!1),S(he),setTimeout(()=>{D(),setTimeout(()=>{m()},300)})}catch{p(!0),m()}}Tn(()=>{t.jumpToBottomRef?.(z),t.atEndRef?.(d)}),dt(Zt(()=>t.channel,Q=>{T(t.highlightedMessageId()),wt(()=>{f()!=="initial"&&e.manage(Q,{messages:o(),atStart:l(),atEnd:d(),scrollTop:y?.scrollTop})})})),dt(Zt(()=>t.highlightedMessageId(),Q=>{Q&&o()&&L(Q)}));function j(Q){Q.channelId===t.channel.id&&d()&&a([Q,...o()])}function te(Q){Q.channelId===t.channel.id&&o().find(D=>D.id===Q.id)&&a(D=>D.filter(se=>se.id!==Q.id))}Tn(()=>{const Q=r();Q.addListener("messageCreate",j),Q.addListener("messageDelete",te)}),wt(()=>{const Q=r();Q.removeListener("messageCreate",j),Q.removeListener("messageDelete",te)}),dt(Zt(()=>n.lifecycle.state(),Q=>{Q===Ti.Connected&&d()&&!t.highlightedMessageId&&T()},{defer:!0}));const U=new Map,N=ke(()=>{const Q=[],D=t.lastReadId()??"0";let se=0,he=!1;const E=()=>{se&&(Q.push({t:2,count:se}),se=0)},De=o();De.forEach((pe,ct)=>{const Mt=De[ct+1];let At=!0,on=null;if(Mt){const Wt=pe.createdAt,bn=Mt.createdAt,Or=+Wt,dr=+bn;(Wt.getFullYear()!==bn.getFullYear()||Wt.getMonth()!==bn.getMonth()||Wt.getDate()!==bn.getDate())&&(on=Wt),(pe.authorId!==Mt.authorId||Math.abs(dr-Or)>=42e4||!r9e(pe.masquerade,Mt.masquerade)||pe.systemMessage||Mt.systemMessage||pe.replyIds?.length||Mt.id.localeCompare(D)===-1&&!he)&&(At=!1)}else At=!1;!he&&pe.id.localeCompare(D)===-1&&(he=!0,Q.push(U.get(!0)??{t:1,unread:!0})),pe.author?.relationship==="Blocked"?se++:(E(),Q.push(U.get(`${pe.id}:${At}`)??{t:0,message:pe,tail:At})),on&&Q.push(U.get(on)??{t:1,date:s(on).format("LL")})}),E(),Q[0]?.t===1&&Q.shift(),U.clear();for(const pe of Q)pe.t===0?U.set(`${pe.message.id}:${pe.tail}`,pe):pe.t===1&&U.set(pe.unread??pe.date,pe);return Q.reverse()});function z(){P(),t.highlightedMessageId()&&t.clearHighlightedMessage()}dt(Zt(()=>i.draft.editingMessageId,Q=>Q===!0&&i.draft.setEditingMessage(o().find(D=>D.author?.self))));function K(){const Q=N(),D=Q[Q.length-1];return!!(D&&D.t===0&&D.message.author?.self&&Math.abs(+new Date-+D.message.createdAt)<42e4)}function re(){return o().map(Q=>Q.nonce)}return[u(w9e,{fetchTop:$,fetchBottom:M,atStart:l,atEnd:d,permitFetching:()=>typeof f()!="string",get children(){return u(Pv,{get children(){var Q=C9e(),D=Q.firstChild,se=y;return typeof se=="function"?Fe(se,D):y=D,V(D,u(X,{get when(){return l()},get children(){return u(_Ze,{get channel(){return t.channel}})}}),null),V(D,u(rt,{get each(){return N()},children:he=>u(A9e,ge(he,{get highlightedMessageId(){return t.highlightedMessageId},get editingMessageId(){return typeof i.draft.editingMessageId=="string"?i.draft.editingMessageId:void 0}}))}),null),V(D,u(X,{get when(){return d()},get children(){return[Ce(()=>t.pendingMessages?.({tail:K(),ids:re()})),Ce(()=>t.typingIndicator??u(D9e,{}))]}}),null),Q}})}}),u(X,{get when(){return!d()},get children(){return u(T9e,{get children(){return u(MZe,{onClick:z})}})}})]}const T9e=H("div",{base:{zIndex:30,position:"relative","& > div":{width:"100%",position:"absolute",bottom:"var(--gap-md)"}}}),D9e=H("div",{base:{height:"24px"}});function A9e(t){const[e,n]=sn(t,["t","highlightedMessageId","editingMessageId"]);return u(Me,{get children(){return[u(Z,{get when(){return e.t===0},get children(){return u(u6,ge(n,{get highlight(){return n.message.id===e.highlightedMessageId()},get editing(){return n.message.id===e.editingMessageId}}))}}),u(Z,{get when(){return e.t===1},get children(){return u(AZe,n)}}),u(Z,{get when(){return e.t===2},get children(){return u(xZe,{get count(){return n.count}})}})]}})}var P9e=I("<svg stroke-width=0>");function en(t,e){const n=ge(t.a,e),[r,i]=sn(n,["src"]),[s,o]=ve(""),a=ke(()=>e.title?`${t.c}<title>${e.title}</title>`:t.c);return dt(()=>o(a())),wt(()=>{o("")}),(()=>{var l=P9e();return Se(l,ge({get stroke(){return t.a?.stroke},get color(){return e.color||"currentColor"},get fill(){return e.color||"currentColor"},get style(){return{...e.style,overflow:"visible"}}},i,{get height(){return e.size||"1em"},get width(){return e.size||"1em"},xmlns:"http://www.w3.org/2000/svg",get innerHTML(){return s()}}),!0,!0),V(l,()=>D$),l})()}function R9e(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="M18.344 8.71c-.707 0-1.279.572-1.279 1.278v4.53a1.278 1.278 0 1 0 2.558 0v-4.53c0-.706-.572-1.278-1.279-1.278zm-12.688 0c-.707 0-1.279.572-1.279 1.278v4.53a1.278 1.278 0 1 0 2.558 0v-4.53A1.277 1.277 0 0 0 5.656 8.71zm8.889-3.809.768-1.388a.343.343 0 0 0-.133-.47.344.344 0 0 0-.471.135l-.789 1.42c-.588-.235-1.236-.368-1.92-.368s-1.332.132-1.92.367l-.789-1.418a.344.344 0 0 0-.471-.135.345.345 0 0 0-.133.47l.768 1.388C8.072 5.69 7.148 7.099 7.148 8.71c0 .011 0 .021.002.034-.002.006-.002.013-.002.019v.001h9.703V8.71c.001-1.611-.923-3.019-2.306-3.809zM9.76 6.869a.346.346 0 1 1 .005-.693.346.346 0 0 1-.005.693zm4.48 0a.347.347 0 0 1 0-.692.346.346 0 0 1 0 .692zM7.148 16.12c0 .646.525 1.171 1.174 1.171h.586v2.401a1.279 1.279 0 0 0 2.558 0v-2.401h1.066v2.401c0 .707.572 1.278 1.277 1.278.709 0 1.281-.571 1.281-1.278v-2.401h.586c.648 0 1.174-.524 1.174-1.171V9.028H7.148v7.092z"/>'},t)}function M9e(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="M19.665 16.811a10.316 10.316 0 0 1-1.021 1.837c-.537.767-.978 1.297-1.316 1.592-.525.482-1.089.73-1.692.744-.432 0-.954-.123-1.562-.373-.61-.249-1.17-.371-1.683-.371-.537 0-1.113.122-1.73.371-.616.25-1.114.381-1.495.393-.577.025-1.154-.229-1.729-.764-.367-.32-.826-.87-1.377-1.648-.59-.829-1.075-1.794-1.455-2.891-.407-1.187-.611-2.335-.611-3.447 0-1.273.275-2.372.826-3.292a4.857 4.857 0 0 1 1.73-1.751 4.65 4.65 0 0 1 2.34-.662c.46 0 1.063.142 1.81.422s1.227.422 1.436.422c.158 0 .689-.167 1.593-.498.853-.307 1.573-.434 2.163-.384 1.6.129 2.801.759 3.6 1.895-1.43.867-2.137 2.08-2.123 3.637.012 1.213.453 2.222 1.317 3.023a4.33 4.33 0 0 0 1.315.863c-.106.307-.218.6-.336.882zM15.998 2.38c0 .95-.348 1.838-1.039 2.659-.836.976-1.846 1.541-2.941 1.452a2.955 2.955 0 0 1-.021-.36c0-.913.396-1.889 1.103-2.688.352-.404.8-.741 1.343-1.009.542-.264 1.054-.41 1.536-.435.013.128.019.255.019.381z"/>'},t)}function I9e(t){return en({a:{viewBox:"0 0 24 24"},c:'<path fill-rule="evenodd" d="M12.026 2c-5.509 0-9.974 4.465-9.974 9.974 0 4.406 2.857 8.145 6.821 9.465.499.09.679-.217.679-.481 0-.237-.008-.865-.011-1.696-2.775.602-3.361-1.338-3.361-1.338-.452-1.152-1.107-1.459-1.107-1.459-.905-.619.069-.605.069-.605 1.002.07 1.527 1.028 1.527 1.028.89 1.524 2.336 1.084 2.902.829.091-.645.351-1.085.635-1.334-2.214-.251-4.542-1.107-4.542-4.93 0-1.087.389-1.979 1.024-2.675-.101-.253-.446-1.268.099-2.64 0 0 .837-.269 2.742 1.021a9.582 9.582 0 0 1 2.496-.336 9.554 9.554 0 0 1 2.496.336c1.906-1.291 2.742-1.021 2.742-1.021.545 1.372.203 2.387.099 2.64.64.696 1.024 1.587 1.024 2.675 0 3.833-2.33 4.675-4.552 4.922.355.308.675.916.675 1.846 0 1.334-.012 2.41-.012 2.737 0 .267.178.577.687.479C19.146 20.115 22 16.379 22 11.974 22 6.465 17.535 2 12.026 2z" clip-rule="evenodd"/>'},t)}function $9e(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="m3 5.557 7.357-1.002.004 7.097-7.354.042L3 5.557zm7.354 6.913.006 7.103-7.354-1.011v-6.14l7.348.048zm.892-8.046L21.001 3v8.562l-9.755.077V4.424zm9.758 8.113-.003 8.523-9.755-1.378-.014-7.161 9.772.016z"/>'},t)}function L9e(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="M4 19h16v2H4zm0-4h11v2H4zm0-4h16v2H4zm0-8h16v2H4zm0 4h11v2H4z"/>'},t)}function N9e(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="m21.706 5.291-2.999-2.998A.996.996 0 0 0 18 2H6a.996.996 0 0 0-.707.293L2.294 5.291A.994.994 0 0 0 2 5.999V19c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V5.999a.994.994 0 0 0-.294-.708zM6.414 4h11.172l.999.999H5.415L6.414 4zM4 19V6.999h16L20.002 19H4z"/><path d="M15 12H9v-2H7v4h10v-4h-2z"/>'},t)}function F9e(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zM4 12c0-1.846.634-3.542 1.688-4.897l11.209 11.209A7.946 7.946 0 0 1 12 20c-4.411 0-8-3.589-8-8zm14.312 4.897L7.103 5.688A7.948 7.948 0 0 1 12 4c4.411 0 8 3.589 8 8a7.954 7.954 0 0 1-1.688 4.897z"/>'},t)}function B9e(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8 8 3.589 8 8-3.589 8-8 8z"/><path d="M9.999 13.587 7.7 11.292l-1.412 1.416 3.713 3.705 6.706-6.706-1.414-1.414z"/>'},t)}function z9e(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="m10 15.586-3.293-3.293-1.414 1.414L10 18.414l9.707-9.707-1.414-1.414z"/>'},t)}function Q9e(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="M13.293 6.293 7.586 12l5.707 5.707 1.414-1.414L10.414 12l4.293-4.293z"/>'},t)}function U9e(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="M10.707 17.707 16.414 12l-5.707-5.707-1.414 1.414L13.586 12l-4.293 4.293z"/>'},t)}function V9e(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="M20 12v-1.707c0-4.442-3.479-8.161-7.755-8.29-2.204-.051-4.251.736-5.816 2.256A7.933 7.933 0 0 0 4 10v2c-1.103 0-2 .897-2 2v4c0 1.103.897 2 2 2h2V10a5.95 5.95 0 0 1 1.821-4.306 5.977 5.977 0 0 1 4.363-1.691C15.392 4.099 18 6.921 18 10.293V20h2c1.103 0 2-.897 2-2v-4c0-1.103-.897-2-2-2z"/><path d="M7 12h2v8H7zm8 0h2v8h-2z"/>'},t)}function j9e(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="M12.707 17.293 8.414 13H18v-2H8.414l4.293-4.293-1.414-1.414L4.586 12l6.707 6.707z"/>'},t)}function Dq(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="M4 6h2v2H4zm0 5h2v2H4zm0 5h2v2H4zm16-8V6H8.023v2H18.8zM8 11h12v2H8zm0 5h12v2H8z"/>'},t)}function q9e(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="M5 11h14v2H5z"/>'},t)}function H9e(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="M17.707 12.293a.999.999 0 0 0-1.414 0l-1.594 1.594c-.739-.22-2.118-.72-2.992-1.594s-1.374-2.253-1.594-2.992l1.594-1.594a.999.999 0 0 0 0-1.414l-4-4a.999.999 0 0 0-1.414 0L3.581 5.005c-.38.38-.594.902-.586 1.435.023 1.424.4 6.37 4.298 10.268s8.844 4.274 10.269 4.298h.028c.528 0 1.027-.208 1.405-.586l2.712-2.712a.999.999 0 0 0 0-1.414l-4-4.001zm-.127 6.712c-1.248-.021-5.518-.356-8.873-3.712-3.366-3.366-3.692-7.651-3.712-8.874L7 4.414 9.586 7 8.293 8.293a1 1 0 0 0-.272.912c.024.115.611 2.842 2.271 4.502s4.387 2.247 4.502 2.271a.991.991 0 0 0 .912-.271L17 14.414 19.586 17l-2.006 2.005z"/>'},t)}function W9e(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="m12 22 1-2v-3h5a1 1 0 0 0 1-1v-1.586c0-.526-.214-1.042-.586-1.414L17 11.586V8a1 1 0 0 0 1-1V4c0-1.103-.897-2-2-2H8c-1.103 0-2 .897-2 2v3a1 1 0 0 0 1 1v3.586L5.586 13A2.01 2.01 0 0 0 5 14.414V16a1 1 0 0 0 1 1h5v3l1 2zM8 4h8v2H8V4zM7 14.414l1.707-1.707A.996.996 0 0 0 9 12V8h6v4c0 .266.105.52.293.707L17 14.414V15H7v-.586z"/>'},t)}function X9e(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="M19 11h-6V5h-2v6H5v2h6v6h2v-6h6z"/>'},t)}function Y9e(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="M12 4C9.243 4 7 6.243 7 9h2c0-1.654 1.346-3 3-3s3 1.346 3 3c0 1.069-.454 1.465-1.481 2.255-.382.294-.813.626-1.226 1.038C10.981 13.604 10.995 14.897 11 15v2h2v-2.009c0-.024.023-.601.707-1.284.32-.32.682-.598 1.031-.867C15.798 12.024 17 11.1 17 9c0-2.757-2.243-5-5-5zm-1 14h2v2h-2z"/>'},t)}function G9e(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="m11.293 17.293 1.414 1.414L19.414 12l-6.707-6.707-1.414 1.414L15.586 11H6v2h9.586z"/>'},t)}function Aq(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="m16.192 6.344-4.243 4.242-4.242-4.242-1.414 1.414L10.535 12l-4.242 4.242 1.414 1.414 4.242-4.242 4.243 4.242 1.414-1.414L13.364 12l4.242-4.242z"/>'},t)}function Z9e(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm-1.999 14.413-3.713-3.705L7.7 11.292l2.299 2.295 5.294-5.294 1.414 1.414-6.706 6.706z"/>'},t)}function K9e(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="M10.061 19.061 17.121 12l-7.06-7.061-2.122 2.122L12.879 12l-4.94 4.939z"/>'},t)}function Pq(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="M18.944 11.112C18.507 7.67 15.56 5 12 5 9.244 5 6.85 6.611 5.757 9.15 3.609 9.792 2 11.82 2 14c0 2.757 2.243 5 5 5h11c2.206 0 4-1.794 4-4a4.01 4.01 0 0 0-3.056-3.888z"/>'},t)}function J9e(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm0 4.7-8 5.334L4 8.7V6.297l8 5.333 8-5.333V8.7z"/>'},t)}function eRe(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="M6 22h12a2 2 0 0 0 2-2V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2zm7-18 5 5h-5V4zm-4.5 7a1.5 1.5 0 1 1-.001 3.001A1.5 1.5 0 0 1 8.5 11zm.5 5 1.597 1.363L13 13l4 6H7l2-3z"/>'},t)}function Rq(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zM9.998 14.768H8.895v3.274h-.917v-3.274H6.893V14h3.105v.768zm2.725 3.274-.365-.731c-.15-.282-.246-.492-.359-.726h-.013c-.083.233-.185.443-.312.726l-.335.731h-1.045l1.171-2.045L10.336 14h1.05l.354.738c.121.245.21.443.306.671h.013c.096-.258.174-.438.276-.671l.341-.738h1.043l-1.139 1.973 1.198 2.069h-1.055zm4.384-3.274h-1.104v3.274h-.917v-3.274h-1.085V14h3.105v.768zM14 9h-1V4l5 5h-4z"/>'},t)}function d6(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="M18 22a2 2 0 0 0 2-2V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12zM13 4l5 5h-5V4zM7 8h3v2H7V8zm0 4h10v2H7v-2zm0 4h10v2H7v-2z"/>'},t)}function tRe(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="m14.303 6-3-2H6V2H4v20h2v-8h4.697l3 2H20V6z"/>'},t)}function nRe(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="M9.5 12c2.206 0 4-1.794 4-4s-1.794-4-4-4-4 1.794-4 4 1.794 4 4 4zm1.5 1H8c-3.309 0-6 2.691-6 6v1h15v-1c0-3.309-2.691-6-6-6z"/><path d="M16.604 11.048a5.67 5.67 0 0 0 .751-3.44c-.179-1.784-1.175-3.361-2.803-4.44l-1.105 1.666c1.119.742 1.8 1.799 1.918 2.974a3.693 3.693 0 0 1-1.072 2.986l-1.192 1.192 1.618.475C18.951 13.701 19 17.957 19 18h2c0-1.789-.956-5.285-4.396-6.952z"/>'},t)}function rRe(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zM8 9c2.201 0 3 1.794 3 3H9c-.012-.45-.194-1-1-1s-.988.55-1 1.012L5 12c0-1.206.799-3 3-3zm4 9c-4 0-5-4-5-4h10s-1 4-5 4zm5-6c-.012-.45-.194-1-1-1s-.988.55-1 1.012L13 12c0-1.206.799-3 3-3s3 1.794 3 3h-2z"/>'},t)}function Mq(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="M19.999 4h-16c-1.103 0-2 .897-2 2v12c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V6c0-1.103-.897-2-2-2zm-13.5 3a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm5.5 10h-7l4-5 1.5 2 3-4 5.5 7h-7z"/>'},t)}function h6(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/>'},t)}function Iq(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="M3.433 17.325 3.079 19.8a1 1 0 0 0 1.131 1.131l2.475-.354C7.06 20.524 8 18 8 18s.472.405.665.466c.412.13.813-.274.948-.684L10 16.01s.577.292.786.335c.266.055.524-.109.707-.293a.988.988 0 0 0 .241-.391L12 14.01s.675.187.906.214c.263.03.519-.104.707-.293l1.138-1.137a5.502 5.502 0 0 0 5.581-1.338 5.507 5.507 0 0 0 0-7.778 5.507 5.507 0 0 0-7.778 0 5.5 5.5 0 0 0-1.338 5.581l-7.501 7.5a.994.994 0 0 0-.282.566zM18.504 5.506a2.919 2.919 0 0 1 0 4.122l-4.122-4.122a2.919 2.919 0 0 1 4.122 0z"/>'},t)}function iRe(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="M21 5H3a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2zm-8 2h2v2h-2V7zm0 4h2v2h-2v-2zM9 7h2v2H9V7zm0 4h2v2H9v-2zM5 7h2v2H5V7zm0 4h2v2H5v-2zm12 6H7v-2h10v2zm2-4h-2v-2h2v2zm0-4h-2V7h2v2z"/>'},t)}function sRe(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="M9.38 21.646A9.985 9.985 0 0 0 12 22l.141-.001a2.998 2.998 0 0 0 2.515-1.425c.542-.876.6-1.953.153-2.88l-.198-.415c-.453-.942-.097-1.796.388-2.281.485-.485 1.341-.841 2.28-.388h.001l.413.199a2.99 2.99 0 0 0 2.881-.153A2.997 2.997 0 0 0 22 12.141a9.926 9.926 0 0 0-.353-2.76c-1.038-3.827-4.353-6.754-8.246-7.285-3.149-.427-6.241.602-8.471 2.833S1.666 10.247 2.096 13.4c.53 3.894 3.458 7.208 7.284 8.246zM15.5 6a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zm-5-1a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3zM9 15.506a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm-2.5-6.5a1.5 1.5 0 1 1-.001 3.001A1.5 1.5 0 0 1 6.5 9.006z"/>'},t)}function oRe(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8 8a2 2 0 0 0 2.828 0l7.172-7.172a2 2 0 0 0 0-2.828l-8-8zM7 9a2 2 0 1 1 .001-4.001A2 2 0 0 1 7 9z"/>'},t)}function aRe(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="M11.492 21.771c.294.157.663.157.957-.001 8.012-4.304 8.581-12.713 8.574-15.104a.988.988 0 0 0-.596-.903l-8.051-3.565a1.005 1.005 0 0 0-.813.001L3.57 5.765a.988.988 0 0 0-.592.891c-.034 2.379.445 10.806 8.514 15.115zM8.293 9.707l1.414-1.414L12 10.586l2.293-2.293 1.414 1.414L13.414 12l2.293 2.293-1.414 1.414L12 13.414l-2.293 2.293-1.414-1.414L10.586 12 8.293 9.707z"/>'},t)}function lRe(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="m20.496 6.106-7.973-4a.997.997 0 0 0-.895-.002l-8.027 4c-.297.15-.502.437-.544.767-.013.097-1.145 9.741 8.541 15.008a.995.995 0 0 0 .969-.009c9.307-5.259 8.514-14.573 8.476-14.967a1 1 0 0 0-.547-.797z"/>'},t)}function cRe(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="M12 12A3 3 0 1 0 12 18 3 3 0 1 0 12 12z"/><path d="M18 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zm-6 2a2 2 0 1 1-2 2 2 2 0 0 1 2-2zm0 16a5 5 0 1 1 5-5 5 5 0 0 1-5 5z"/>'},t)}function $q(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="M6 7H5v13a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V7H6zm4 12H8v-9h2v9zm6 0h-2v-9h2v9zm.618-15L15 2H9L7.382 4H3v2h18V4z"/>'},t)}function uRe(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="M8 12.052c1.995 0 3.5-1.505 3.5-3.5s-1.505-3.5-3.5-3.5-3.5 1.505-3.5 3.5 1.505 3.5 3.5 3.5zM9 13H7c-2.757 0-5 2.243-5 5v1h12v-1c0-2.757-2.243-5-5-5zm11.293-4.707L18 10.586l-2.293-2.293-1.414 1.414 2.292 2.292-2.293 2.293 1.414 1.414 2.293-2.293 2.294 2.294 1.414-1.414L19.414 12l2.293-2.293z"/>'},t)}function dRe(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="M18 9c0-1.103-.897-2-2-2h-1.434l-2.418-4.029A2.008 2.008 0 0 0 10.434 2H5v2h5.434l1.8 3H4c-1.103 0-2 .897-2 2v9c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2v-3l4 2v-7l-4 2V9zm-7 8H5v-2h6v2z"/>'},t)}function hRe(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="M18 7c0-1.103-.897-2-2-2H4c-1.103 0-2 .897-2 2v10c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2v-3.333L22 17V7l-4 3.333V7z"/>'},t)}function fRe(t){return en({a:{viewBox:"0 0 24 24"},c:'<path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm4.207 12.793-1.414 1.414L12 13.414l-2.793 2.793-1.414-1.414L10.586 12 7.793 9.207l1.414-1.414L12 10.586l2.793-2.793 1.414 1.414L13.414 12l2.793 2.793z"/>'},t)}var mRe=I("<form>"),gRe=I("<div>");function pRe(t){const{_:e}=Dt(),n=pt(),{openModal:r}=Ne(),i=Hn({name:Lt(t.channel.name),description:Lt(t.channel.description||""),icon:Lt(t.channel.animatedIconURL)});function s(){i.controls.name.setValue(t.channel.name),i.controls.description.setValue(t.channel.description||""),i.controls.icon.setValue(t.channel.animatedIconURL??null)}async function o(){const l={remove:[]};if(i.controls.name.isDirty&&(l.name=i.controls.name.value.trim()),i.controls.description.isDirty){const c=i.controls.description.value.trim();c?l.description=c:l.remove.push("Description")}if(i.controls.icon.isDirty){if(!i.controls.icon.value)l.remove.push("Icon");else if(Array.isArray(i.controls.icon.value)){const c=new FormData;c.append("file",i.controls.icon.value[0]);const[d,h]=n().authenticationHeader,f=await fetch(`${Qn.DEFAULT_MEDIA_URL}/icons`,{method:"POST",body:c,headers:{[d]:h}}).then(m=>m.json());l.icon=f.id}}await t.channel.edit(l)}const a=Pe.useSubmitHandler(i,o,s);return u(Ae,{gap:"xl",get children(){return[(()=>{var l=mRe();return Dn(l,"submit",a),V(l,u(Ae,{get children(){return[u(Le,{class:"label",get children(){return u(k,{id:"qqRS2V"})}}),u(Pe.FileInput,{get control(){return i.controls.icon},accept:"image/*"}),u(Pe.TextField,{name:"name",get control(){return i.controls.name},get label(){return e({id:"A9Rhec"})}}),u(Pe.TextField,{autosize:!0,"min-rows":2,name:"description",get control(){return i.controls.description},get label(){return e({id:"CS7QO7"})},get placeholder(){return e({id:"Dbhas/"})}}),u(kt,{get children(){return[u(Pe.Reset,{group:i,onReset:s}),u(Pe.Submit,{group:i,requireDirty:!0,get children(){return u(k,{id:"tfDRzk"})}}),u(X,{get when(){return i.isPending},get children(){return u(Zr,{})}})]}})]}})),l})(),u(Ae,{get children(){return[u(Le,{class:"label",get children(){return u(k,{id:"oyr8HG"})}}),u(Le,{get children(){return u(k,{id:"Tb2euV"})}}),(()=>{var l=gRe();return V(l,u(ot,{onPress:()=>r({type:"channel_toggle_mature",channel:t.channel}),get children(){return u(Me,{get fallback(){return u(k,{id:"oyr8HG"})},get children(){return u(Z,{get when(){return t.channel.mature},get children(){return u(k,{id:"e+D9LC"})}})}})}})),l})()]}})]}})}var Lq=I("<div>"),vRe=I("<span>"),bRe=I("<div><div>");function l0(t){const{_:e}=Dt(),n=t.context instanceof oo?"Server":t.context.type;function r(){switch(t.type){case"server_default":return[BigInt(t.context.defaultPermissions),BigInt(0)];case"server_role":return[BigInt(t.context.roles?.get(t.roleId)?.permissions.a||0),BigInt(t.context.roles?.get(t.roleId)?.permissions.d||0)];case"channel_default":return[BigInt(t.context.defaultPermissions?.a||0),BigInt(t.context.defaultPermissions?.d||0)];case"channel_role":return[BigInt(t.context.rolePermissions?.[t.roleId]?.a||0),BigInt(t.context.rolePermissions?.[t.roleId]?.d||0)];case"group":return[BigInt(t.context.permissions??vx),BigInt(0)]}}const[i,s]=ve(r());function o(){const[h,f]=r(),[m,g]=i();return h!==m||f!==g}function a(){s(r())}function l(){switch(t.type){case"server_default":t.context.setPermissions(void 0,Number(i()[0]));break;case"server_role":t.context.setPermissions(t.roleId,{allow:Number(i()[0]),deny:Number(i()[1])});break;case"channel_default":t.context.setPermissions(void 0,{allow:Number(i()[0]),deny:Number(i()[1])});break;case"channel_role":t.context.setPermissions(t.roleId,{allow:Number(i()[0]),deny:Number(i()[1])});break;case"group":t.context.setPermissions(void 0,Number(i()[0]));break}}const c=[{heading:e({id:"U3pytU"}),key:"ManageChannel",value:1n**0n,title:e({id:"2AKdMl"}),description:{Group:e({id:"jEmntx"}),Any:e({id:"C0JYiF"})}},{key:"ManageServer",value:2n**1n,title:e({id:"8AY507"}),description:{Server:e({id:"NEmwgu"})}},{key:"ManagePermissions",value:2n**2n,title:e({id:"cVbFyD"}),description:{Group:e({id:"OcdmE9"}),TextChannel:e({id:"Oa/lY3"}),Server:e({id:"/cPXPW"})}},{key:"ManageRole",value:2n**3n,title:e({id:"TjyEoA"}),description:{Server:e({id:"D/FMH3"})}},{key:"ManageCustomisation",value:2n**4n,title:e({id:"fMGfRR"}),description:{Server:e({id:"Q3ryt9"})}},{heading:e({id:"wlQNTg"}),key:"KickMembers",value:2n**6n,title:e({id:"ofmnM6"}),description:{Server:e({id:"NG98W1"})}},{key:"BanMembers",value:2n**7n,title:e({id:"oB4OOq"}),description:{Server:e({id:"FuoLq+"})}},{key:"TimeoutMembers",value:2n**8n,title:e({id:"utrCh2"}),description:{Server:e({id:"v44WYm"})}},{key:"AssignRoles",value:2n**9n,title:e({id:"gRkJUI"}),description:{Server:e({id:"bajtZU"})}},{key:"ChangeNickname",value:2n**10n,title:e({id:"5bgUxY"}),description:{Server:e({id:"KETz5m"})}},{key:"ManageNicknames",value:2n**11n,title:e({id:"F1uGNS"}),description:{Server:e({id:"cNHZ0d"})}},{key:"ChangeAvavar",value:2n**12n,title:e({id:"Uz/xvR"}),description:{Server:e({id:"kdktF9"})}},{key:"RemoveAvatars",value:2n**13n,title:e({id:"FgKhxB"}),description:{Server:e({id:"X1985n"})}},{heading:e({id:"lfFsZ4"}),key:"ViewChannel",value:2n**20n,title:e({id:"CBd8nH"}),description:{TextChannel:e({id:"3l/6lF"}),Server:e({id:"WAv+Jj"})}},{key:"ReadMessageHistory",value:2n**21n,title:e({id:"c9JRcC"}),description:{TextChannel:e({id:"IZQ1Nc"}),Server:e({id:"4hyK2W"})}},{key:"SendMessage",value:2n**22n,title:e({id:"CeIodI"}),description:{Group:e({id:"DNLekL"}),TextChannel:e({id:"DNLekL"}),Server:e({id:"cKymxU"})}},{key:"ManageMessages",value:2n**23n,title:e({id:"TctyuA"}),description:{Group:e({id:"V53lUY"}),TextChannel:e({id:"V53lUY"}),Server:e({id:"V53lUY"})}},{key:"ManageWebhooks",value:2n**24n,title:e({id:"tW3S/e"}),description:{Group:e({id:"9dDhA/"}),TextChannel:e({id:"9dDhA/"}),Server:e({id:"9dDhA/"})}},{key:"InviteOthers",value:2n**25n,title:e({id:"e4CAB7"}),description:{Group:e({id:"Cvctq3"}),Any:e({id:"mj8Zmd"})}},{heading:e({id:"vtZ0lQ"}),key:"SendEmbeds",value:2n**26n,title:e({id:"PkFCdv"}),description:{Any:e({id:"mn5eKP"})}},{key:"UploadFiles",value:2n**27n,title:e({id:"HAKBY9"}),description:{Any:e({id:"OUh/U1"})}},{key:"Masquerade",value:2n**28n,title:e({id:"x2cCA3"}),description:{Any:e({id:"2cZEKe"})}},{key:"React",value:2n**29n,title:e({id:"UDb2YD"}),description:{Any:e({id:"zwlCOi"})}},{heading:e({id:"KAXSwC"}),key:"Connect",value:2n**30n,title:e({id:"iSLIjg"}),description:{TextChannel:e({id:"SbiE6f"}),Server:e({id:"SbiE6f"})}},{key:"Speak",value:2n**31n,title:e({id:"yIBLq8"}),description:{TextChannel:e({id:"G0jqRb"}),Server:e({id:"G0jqRb"})}},{key:"Video",value:2n**32n,title:e({id:"vSJd18"}),description:{TextChannel:e({id:"0y3xb0"}),Server:e({id:"0y3xb0"})}},{key:"MuteMembers",value:2n**33n,title:e({id:"CkIs/i"}),description:{TextChannel:e({id:"PB9oxZ"}),Server:e({id:"PB9oxZ"})}},{key:"DeafenMembers",value:2n**34n,title:e({id:"VlmvOd"}),description:{TextChannel:e({id:"DlxO+8"}),Server:e({id:"DlxO+8"})}},{key:"MoveMembers",value:2n**35n,title:e({id:"IkN4uI"}),description:{TextChannel:e({id:"geho5+"}),Server:e({id:"geho5+"})}},{key:"Listen",value:2n**36n,title:e({id:"/LDg0A"}),description:{TextChannel:e({id:"JNzhsW"}),Server:e({id:"JNzhsW"})}},{heading:e({id:"/bZzdR"}),key:"MentionEveryone",value:2n**37n,title:e({id:"rC7uyF"}),description:{Any:e({id:"GAaBUQ"})}},{key:"MentionRoles",value:2n**38n,title:e({id:"I/D357"}),description:{Any:e({id:"2KKpX0"})}}];function d(h){const f=h.description;return f[n]??f.Any}return(()=>{var h=Lq();return V(h,u(rt,{each:c,children:f=>u(X,{get when(){return d(f)},get children(){return[u(X,{get when(){return f.heading},get children(){var m=vRe();return V(m,u(Le,{class:"label",get children(){return f.heading}})),Te(()=>ut(m,hn({marginTop:"var(--gap-md)"}))),m}}),u(Me,{get fallback(){return u(ORe,{get key(){return f.key},get title(){return f.title},get description(){return d(f)},get value(){return(i()[0]&f.value)==f.value},onChange:()=>s(m=>[m[0]^BigInt(f.value),m[1]]),get havePermission(){return(t.context.permission&f.value)===f.value}})},get children(){return u(Z,{get when(){return t.type.startsWith("channel_")},get children(){return u(wRe,{get key(){return f.key},get title(){return f.title},get description(){return d(f)},get value(){return Ce(()=>(i()[0]&f.value)==f.value)()?"allow":(i()[1]&f.value)==f.value?"deny":"neutral"},onChange:m=>{let g=i()[0]&~f.value,p=i()[1]&~f.value;m==="allow"&&(g|=f.value),m==="deny"&&(p|=f.value),s([g,p])},get havePermission(){return(t.context.permission&f.value)===f.value}})}})}})]}})}),null),V(h,u(yRe,{get children(){return u(kt,{get children(){return[u(ot,{get isDisabled(){return!o()},variant:"text",get size(){return o()?"md":"sm"},onPress:a,children:"Reset"}),u(ot,{get isDisabled(){return!o()},get size(){return o()?"md":"sm"},onPress:l,children:"Save permissions"})]}})}}),null),Te(()=>ut(h,hn({display:"flex",flexDirection:"column"}))),h})()}const yRe=H("div",{base:{position:"sticky",width:"fit-content",padding:"var(--gap-md)",bottom:"var(--gap-lg)",borderRadius:"var(--borderRadius-xl)",background:"var(--md-sys-color-surface)"}});function ORe(t){return u(vG,{get name(){return t.key},get checked(){return t.value},onChange:e=>t.onChange(e.currentTarget.checked),get disabled(){return!t.havePermission},get children(){var e=Lq();return V(e,u(Le,{size:"large",get children(){return t.title}}),null),V(e,u(Le,{get children(){return t.description}}),null),Te(()=>ut(e,hn({marginStart:"var(--gap-md)",display:"flex",flexDirection:"column"}))),e}})}function wRe(t){return(()=>{var e=bRe(),n=e.firstChild;return V(n,u(Le,{size:"large",get children(){return t.title}}),null),V(n,u(Le,{get children(){return t.description}}),null),V(e,u(kZe,{get disabled(){return!t.havePermission},get value(){return t.value},get onChange(){return t.onChange}}),null),Te(r=>{var i=hn({gap:"var(--gap-md)",display:"flex"}),s=hn({flexGrow:1,display:"flex",flexDirection:"column"});return i!==r.e&&ut(e,r.e=i),s!==r.t&&ut(n,r.t=s),r},{e:void 0,t:void 0}),e})()}const YS=Symbol("fallback");function J9(t){for(const e of t)e.dispose()}function kRe(t,e,n,r={}){const i=new Map;return wt(()=>J9(i.values())),()=>{const o=t()||[];return o[x0],Gn(()=>{if(!o.length)return J9(i.values()),i.clear(),r.fallback?[ol(h=>(i.set(YS,{dispose:h}),r.fallback()))]:[];const a=new Array(o.length),l=i.get(YS);if(!i.size||l){l?.dispose(),i.delete(YS);for(let d=0;d<o.length;d++){const h=o[d],f=e(h,d);s(a,h,d,f)}return a}const c=new Set(i.keys());for(let d=0;d<o.length;d++){const h=o[d],f=e(h,d);c.delete(f);const m=i.get(f);m?(a[d]=m.mapped,m.setIndex?.(d),m.setItem(()=>h)):s(a,h,d,f)}for(const d of c)i.get(d)?.dispose(),i.delete(d);return a})};function s(o,a,l,c){ol(d=>{const[h,f]=ve(a),m={setItem:f,dispose:d};if(n.length>1){const[g,p]=ve(l);m.setIndex=p,m.mapped=n(h,g)}else m.mapped=n(h);i.set(c,m),o[l]=m.mapped})}}function Nq(t){const{by:e}=t;return ke(kRe(()=>t.each,typeof e=="function"?e:n=>n[e],t.children,"fallback"in t?{fallback:()=>t.fallback}:void 0))}function SRe(t){const e=typeof t.on=="function"||Array.isArray(t.on)?t.on:()=>t.on;return ke(Zt(e,(n,r)=>{const i=t.children;return typeof i=="function"&&i.length>0?i(n,r):i}))}var eR=I("<div>");function xRe(t){const{navigate:e}=za();return(()=>{var n=eR();return Fe(hu,n,()=>({class:_Re()})),V(n,u(X,{get when(){return t.page()},get children(){return u(CRe,{get children(){return u(ERe,{get children(){return[u(Le,{class:"title",size:"large",get children(){return u(iZe,{get elements(){return t.page().split("/")},renderElement:r=>t.title(t.list(),r),navigate:r=>e(r.join("/"))})}}),Ce(()=>t.children),(()=>{var r=eR();return Te(()=>ut(r,hn({minHeight:"80px"}))),r})()]}})}})}}),null),V(n,u(X,{get when(){return t.onClose},get children(){return u(TRe,{get children(){return u(On,{variant:"tonal",get onPress(){return t.onClose},get children(){return u(tw,{})}})}})}}),null),n})()}const _Re=nn({base:{minWidth:0,flex:"1 1 800px",flexDirection:"row",display:"flex",background:"var(--md-sys-color-surface-container-low)",borderStartStartRadius:"30px",borderEndStartRadius:"30px","& > a":{textDecoration:"none"}}}),CRe=H("div",{base:{gap:"13px",minWidth:0,width:"100%",display:"flex",maxWidth:"740px",padding:"80px 32px",justifyContent:"stretch",zIndex:1}}),ERe=H("div",{base:{width:"100%",gap:"var(--gap-md)",display:"flex",flexDirection:"column",marginBlockEnd:"80px"}}),TRe=H("div",{base:{flexGrow:1,flexShrink:0,padding:"80px 8px",visibility:"visible",position:"sticky",top:0,"&:after":{content:'"ESC"',marginTop:"4px",display:"flex",justifyContent:"center",width:"36px",fontWeight:600,color:"var(--md-sys-color-on-surface)",fontSize:"0.75rem"}}}),Fq=H("a",{base:{position:"relative",minWidth:0,display:"flex",alignItems:"center",padding:"6px 8px",borderRadius:"8px",fontWeight:500,marginInlineEnd:"12px",fontSize:"15px",userSelect:"none",transition:"background-color 0.1s ease-in-out",color:"var(--md-sys-color-on-surface)",fill:"var(--md-sys-color-on-surface)",background:"unset","& svg":{flexShrink:0}},variants:{"aria-selected":{true:{background:"var(--md-sys-color-primary-container)"}}}}),Bq=H("div",{base:{display:"flex",alignItems:"center",gap:"8px",flexGrow:1,minWidth:0,paddingInlineEnd:"8px"}}),zq=H("div",{base:{minWidth:0,display:"flex",flexDirection:"column"}});H("div",{base:{display:"flex",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flexShrink:0,gap:"2px"}});var DRe=I("<div>");function ARe(t){const{navigate:e}=za();return Tn(()=>{t.page()||t.setPage(t.list().entries[0].entries[0].id)}),u(PRe,{get children(){var n=DRe();return Fe(nc,n,()=>!0),V(n,u(RRe,{get children(){return u(Ae,{gap:"lg",get children(){return[Ce(()=>t.list().prepend),u(rt,{get each(){return t.list().entries},children:r=>u(X,{get when(){return!r.hidden},get children(){return u(Ae,{get children(){return[u(X,{get when(){return r.title},get children(){return u(MRe,{get children(){return r.title}})}}),u(Ae,{gap:"s",get children(){return u(rt,{get each(){return r.entries},children:i=>u(X,{get when(){return!i.hidden},get children(){return u(Fq,{onClick:()=>e(i),get"aria-selected"(){return t.page()?.split("/")[0]===i.id?.split("/")[0]},get children(){return[u(En,{}),u(Bq,{get children(){return[Ce(()=>i.icon),u(zq,{get children(){return u(jr,{get children(){return i.title}})}})]}})]}})}})})}})]}})}})}),Ce(()=>t.list().append)]}})}})),n}})}const PRe=H("div",{base:{display:"flex",flex:"1 0 218px",paddingLeft:"8px",justifyContent:"flex-end"}}),RRe=H("div",{base:{minWidth:"230px",maxWidth:"300px",padding:"74px 0 8px",display:"flex",gap:"2px",flexDirection:"column","& a > div":{margin:0}}}),MRe=H("span",{base:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",textTransform:"uppercase",fontSize:"0.75rem",fontWeight:700,margin:"0 8px",marginInlineEnd:"20px",color:"var(--md-sys-color-outline)"}}),Qq=yr();function IRe(t){const[e,n]=ve(t.context?.page),[r,i]=ve("normal");function s(o){let a;if(typeof o=="object"?o.onClick?o.onClick():o.href?window.open(o.href,"_blank"):o.id&&(a=o.id):a=o,!a)return;const l=e();l?.startsWith(a)?i("to-parent"):l&&a.startsWith(l)?i("to-child"):i("normal"),n(a)}return u(Qq.Provider,{value:{page:e,navigate:s},get children(){return u($Re,{get context(){return t.context},get list(){return t.list},children:o=>[u(ARe,{list:o,page:e,setPage:n}),u(xRe,{page:e,list:o,get title(){return t.title},get onClose(){return t.onClose},get children(){return u(bu,{exitBeforeEnter:!0,get children(){return u(SRe,{on:e,get children(){return u(gc.div,{get style(){return Gn(r)==="normal"?{}:{visibility:"hidden"}},ref:a=>Gn(r)!=="normal"&&setTimeout(()=>a.style.visibility="visible",250),get initial(){return Ce(()=>r()==="normal")()?{opacity:0,y:50}:r()==="to-child"?{x:"100vw"}:{x:"-100vw"}},animate:{opacity:1,x:0,y:0},get exit(){return Ce(()=>r()==="normal")()?void 0:r()==="to-child"?{x:"-100vw"}:{x:"100vw"}},transition:{duration:.2,easing:[.17,.67,.58,.98]},get children(){return t.render({page:e},t.context)}})}})}})}})]})}})}function $Re(t){const e=ke(()=>t.list(t.context));return Ce(()=>t.children(e))}const za=()=>Nn(Qq);function _f(t){let e=0;for(let n=0n;n<52n;n++)(1n<<n&t)===1n<<n&&e++;return e}function LRe(t){const{navigate:e}=za(),n=ke(()=>{const r=t.context.server?.orderedRoles;return{active:r?.filter(i=>_f(t.context.rolePermissions?.[i.id]?.a||0n)>0||_f(t.context.rolePermissions?.[i.id]?.d||0n)>0),unused:r?.filter(i=>_f(t.context.rolePermissions?.[i.id]?.a||0n)===0&&_f(t.context.rolePermissions?.[i.id]?.d||0n)===0)}});return u(Ae,{gap:"lg",get children(){return[u(Xe,{icon:"blank",action:"chevron",get description(){return u(k,{id:"4hAIF+"})},onClick:()=>e("permissions/default"),get children(){return u(k,{id:"wQMpfT"})}}),u(Ae,{gap:"sm",get children(){return[u(Le,{class:"label",children:"Role Permissions"}),u(rt,{get each(){return n().active},children:r=>u(Xe,{get icon(){return u(tR,{get style(){return{background:r.colour??"var(--md-sys-color-outline-variant)"}}})},action:"chevron",onClick:()=>e(`permissions/${r.id}`),get description(){return u(k,ge(()=>({id:"ENTWKu",values:{0:_f(t.context.rolePermissions[r.id].a),1:_f(t.context.rolePermissions[r.id].d)}})))},get children(){return r.name}})})]}}),u(Ae,{gap:"sm",get children(){return[u(Le,{class:"label",children:"Unused Roles"}),u(rt,{get each(){return n().unused},children:r=>u(Xe,{get icon(){return u(tR,{get style(){return{background:r.colour??"var(--md-sys-color-outline-variant)"}}})},action:"chevron",onClick:()=>e(`permissions/${r.id}`),get description(){return u(k,{id:"1FQ/C2"})},get children(){return r.name}})})]}})]}})}const tR=H("div",{base:{width:"100%",height:"100%",aspectRatio:"1/1",borderRadius:"100%"}});var NRe=I("<form>");function FRe(t){const{_:e}=Dt(),n=pt(),{showError:r}=Ne(),{navigate:i}=za(),s=Hn({name:Lt(t.webhook.name),avatar:Lt(t.webhook.avatarURL)}),o=ss(()=>({mutationFn:()=>t.webhook.delete(),onSuccess(){i("webhooks")},onError:r}));async function a(){const d={remove:[]};if(s.controls.name.isDirty&&(d.name=s.controls.name.value.trim()),s.controls.avatar.isDirty){if(!s.controls.avatar.value)d.remove.push("Avatar");else if(Array.isArray(s.controls.avatar.value)){const h=new FormData;h.append("file",s.controls.avatar.value[0]);const[f,m]=n().authenticationHeader,g=await fetch(`${Qn.DEFAULT_MEDIA_URL}/avatars`,{method:"POST",body:h,headers:{[f]:m}}).then(p=>p.json());d.avatar=g.id}}await t.webhook.edit(d)}function l(){s.controls.name.setValue(t.webhook.name),s.controls.avatar.setValue(t.webhook.avatarURL??null)}const c=Pe.useSubmitHandler(s,a,l);return u(Ae,{gap:"xl",get children(){return[(()=>{var d=NRe();return Dn(d,"submit",c),V(d,u(Ae,{get children(){return[u(Pe.FileInput,{get control(){return s.controls.avatar},accept:"image/*",get label(){return e({id:"pQ0/u5"})},imageJustify:!1}),u(Pe.TextField,{name:"name",get control(){return s.controls.name},get label(){return e({id:"0/BoBb"})}}),u(kt,{get children(){return[u(Pe.Reset,{group:s,onReset:l}),u(Pe.Submit,{group:s,get children(){return u(k,{id:"tfDRzk"})}}),u(X,{get when(){return s.isPending},get children(){return u(Zr,{})}})]}})]}})),d})(),u(Ae,{get children(){return[u(Xe,{action:"chevron",get icon(){return u(t1,{})},onClick:()=>navigator.clipboard.writeText(`${Qn.DEFAULT_API_URL}/webhooks/${t.webhook.id}/${t.webhook.token}`),get children(){return u(k,{id:"hMZucv"})}}),u(Xe,{action:"chevron",get icon(){return u(Ol,{})},get disabled(){return o.isPending},onClick:()=>o.mutate(),children:"Delete webhook"})]}})]}})}function BRe(t){const e=pt(),{openModal:n}=Ne(),{navigate:r}=za(),i=ke(()=>e().channelWebhooks.filter(s=>s.channelId===t.channel.id));return Tn(()=>{i.length||t.channel.fetchWebhooks()}),u(Ae,{gap:"lg",get children(){return[u(Xe,{action:"chevron",get icon(){return u(Pq,{size:24})},onClick:()=>n({type:"create_webhook",channel:t.channel,callback(s){r(`webhooks/${s}`)}}),get children(){return u(k,{id:"dkAPxi"})}}),u(X,{get when(){return!i()||i().length!==0},get children(){return u(Ae,{get children(){return u(Me,{get fallback(){return u(Zr,{})},get children(){return u(Z,{get when(){return i()?.length},get children(){return u(rt,{get each(){return i()},children:s=>u(Xe,{get icon(){return u(zt,{get src(){return s.avatarURL},get fallback(){return s.name},size:24})},get description(){return s.id},onClick:()=>r(`webhooks/${s.id}`),action:"chevron",get children(){return s.name}})})}})}})}})}})]}})}const zRe={title(t,e){const n=pt(),{_:r}=Dt();if(e.startsWith("webhooks/")){const i=n().channelWebhooks.get(e.substring(9));if(i)return i.name}return e.startsWith("permissions/")?e==="permissions/default"?r({id:"wQMpfT"}):t.context.server?.roles.get(e.substring(12))?.name??"":t.entries.flatMap(i=>i.entries).find(i=>i.id===e)?.title},render(t,e){const n=t.page(),r=pt();if(n?.startsWith("webhooks/")){const i=r().channelWebhooks.get(n.substring(9));return u(FRe,{webhook:i})}if(n?.startsWith("permissions/"))return n==="permissions/default"?u(l0,{type:"channel_default",context:e}):u(l0,{type:"channel_role",context:e,get roleId(){return n.substring(12)}});switch(n){case"overview":return u(pRe,{channel:e});case"permissions":switch(e.type){case"Group":return u(l0,{type:"group",context:e});case"TextChannel":return u(LRe,{context:e});default:return null}case"webhooks":return u(BRe,{channel:e});default:return null}},list(t){const{openModal:e}=Ne();return{context:t,entries:[{title:u(Ta,{get content(){return t.name}}),entries:[{id:"overview",icon:u(h6,{size:20}),title:u(k,{id:"6/dCYd"})},{hidden:t.type==="SavedMessages"||!t.havePermission("ManagePermissions"),id:"permissions",icon:u(Dq,{size:20}),title:u(k,{id:"9cDpsw"})},{hidden:!t.havePermission("ManageWebhooks")&&!1,id:"webhooks",icon:u(Pq,{size:20}),title:u(k,{id:"v1kQyJ"})}]},{hidden:!(t.type!=="Group"&&t.havePermission("ManageChannel")),entries:[{icon:u($q,{size:20,color:"var(--md-sys-color-error)"}),title:u(tf,{colour:"var(--md-sys-color-error)",get children(){return u(k,{id:"WAakm9"})}}),onClick(){e({type:"delete_channel",channel:t})}}]}]}}};var QRe=I("<form>");function URe(t){const{_:e}=Dt(),n=pt(),r=Hn({name:Lt(t.server.name),description:Lt(t.server.description||""),icon:Lt(t.server.animatedIconURL),banner:Lt(t.server.bannerURL),sys_user_joined:Lt(t.server.systemMessages?.user_joined??"none"),sys_user_left:Lt(t.server.systemMessages?.user_left??"none"),sys_user_kicked:Lt(t.server.systemMessages?.user_kicked??"none"),sys_user_banned:Lt(t.server.systemMessages?.user_banned??"none")}),i=()=>t.server.channels.map(l=>({item:l,value:l.id}));dt(Zt(()=>t.server.name,l=>!r.controls.name.isDirty&&r.controls.name.setValue(l),{defer:!0})),dt(Zt(()=>t.server.description,l=>l&&!r.controls.description.isDirty&&r.controls.description.setValue(l),{defer:!0})),dt(Zt(()=>t.server.animatedIconURL,l=>!r.controls.icon.isDirty&&r.controls.icon.setValue(l??null),{defer:!0})),dt(Zt(()=>t.server.bannerURL,l=>!r.controls.banner.isDirty&&r.controls.banner.setValue(l??null),{defer:!0}));function s(){r.controls.name.setValue(t.server.name),r.controls.description.setValue(t.server.description||""),r.controls.icon.setValue(t.server.animatedIconURL??null),r.controls.banner.setValue(t.server.bannerURL??null),r.controls.sys_user_joined.setValue(t.server.systemMessages?.user_joined??"none"),r.controls.sys_user_left.setValue(t.server.systemMessages?.user_left??"none"),r.controls.sys_user_kicked.setValue(t.server.systemMessages?.user_kicked??"none"),r.controls.sys_user_banned.setValue(t.server.systemMessages?.user_banned??"none")}async function o(){const l={remove:[],system_messages:{...t.server.systemMessages??{}}};if(r.controls.name.isDirty&&(l.name=r.controls.name.value.trim()),r.controls.description.isDirty){const c=r.controls.description.value.trim();c?l.description=c:l.remove.push("Description")}r.controls.icon.isDirty&&(r.controls.icon.value?Array.isArray(r.controls.icon.value)&&(l.icon=await n().uploadFile("icons",r.controls.icon.value[0],Qn.DEFAULT_MEDIA_URL)):l.remove.push("Icon")),r.controls.banner.isDirty&&(r.controls.banner.value?Array.isArray(r.controls.banner.value)&&(l.banner=await n().uploadFile("banners",r.controls.banner.value[0],Qn.DEFAULT_MEDIA_URL)):l.remove.push("Banner")),r.controls.sys_user_joined.isDirty&&(r.controls.sys_user_joined.value=="none"&&l.system_messages?.user_joined?delete l.system_messages.user_joined:l.system_messages.user_joined=r.controls.sys_user_joined.value),r.controls.sys_user_left.isDirty&&(r.controls.sys_user_left.value=="none"&&l.system_messages?.user_left?delete l.system_messages.user_left:l.system_messages.user_left=r.controls.sys_user_left.value),r.controls.sys_user_kicked.isDirty&&(r.controls.sys_user_kicked.value=="none"&&l.system_messages?.user_kicked?delete l.system_messages.user_kicked:l.system_messages.user_kicked=r.controls.sys_user_kicked.value),r.controls.sys_user_banned.isDirty&&(r.controls.sys_user_banned.value=="none"&&l.system_messages?.user_banned?delete l.system_messages.user_banned:l.system_messages.user_banned=r.controls.sys_user_banned.value),await t.server.edit(l)}const a=Pe.useSubmitHandler(r,o,s);return u(Ae,{gap:"xl",get children(){var l=QRe();return Dn(l,"submit",a),V(l,u(Ae,{get children(){return[u(Pe.FileInput,{get control(){return r.controls.icon},accept:"image/*",get label(){return e({id:"8Vns2b"})},imageJustify:!1}),u(Pe.FileInput,{get control(){return r.controls.banner},accept:"image/*",get label(){return e({id:"HJGZCZ"})},imageAspect:"232/100",imageRounded:!1,imageJustify:!1}),u(Pe.TextField,{name:"name",get control(){return r.controls.name},get label(){return e({id:"MXw7Fr"})}}),u(Pe.TextField,{autosize:!0,"min-rows":2,name:"description",get control(){return r.controls.description},get label(){return e({id:"v13sNt"})},get placeholder(){return e({id:"0vCLzN"})}}),u(Le,{class:"title",size:"small",get children(){return u(k,{id:"gx8H8Z"})}}),u(Ae,{get children(){return[u(Le,{class:"label",get children(){return u(k,{id:"y5kWr1"})}}),u(Pe.TextField.Select,{get control(){return r.controls.sys_user_joined},get children(){return[u(Co,{value:"none",get children(){return u(k,{id:"E/QGRL"})}}),u(rt,{get each(){return i()},children:c=>u(Co,{get value(){return c.value},get children(){return c.item.name}})})]}})]}}),u(Ae,{get children(){return[u(Le,{class:"label",get children(){return u(k,{id:"s8kB2v"})}}),u(Pe.TextField.Select,{get control(){return r.controls.sys_user_left},get children(){return[u(Co,{value:"none",get children(){return u(k,{id:"E/QGRL"})}}),u(rt,{get each(){return i()},children:c=>u(Co,{get value(){return c.value},get children(){return c.item.name}})})]}})]}}),u(Ae,{get children(){return[u(Le,{class:"label",get children(){return u(k,{id:"tny/yk"})}}),u(Pe.TextField.Select,{get control(){return r.controls.sys_user_kicked},get children(){return[u(Co,{value:"none",get children(){return u(k,{id:"E/QGRL"})}}),u(rt,{get each(){return i()},children:c=>u(Co,{get value(){return c.value},get children(){return c.item.name}})})]}})]}}),u(Ae,{get children(){return[u(Le,{class:"label",get children(){return u(k,{id:"I6KMzG"})}}),u(Pe.TextField.Select,{get control(){return r.controls.sys_user_banned},get children(){return[u(Co,{value:"none",get children(){return u(k,{id:"E/QGRL"})}}),u(rt,{get each(){return i()},children:c=>u(Co,{get value(){return c.value},get children(){return c.item.name}})})]}})]}}),u(kt,{get children(){return[u(Pe.Reset,{group:r,onReset:s}),u(Pe.Submit,{group:r,requireDirty:!0,get children(){return u(k,{id:"tfDRzk"})}}),u(X,{get when(){return r.isPending},get children(){return u(Zr,{})}})]}})]}})),l}})}var VRe=I("<span>#");function jRe(t){const{_:e}=Dt(),n=Tv(),{showError:r}=Ne(),i=Ho(()=>({queryKey:["bans",t.server.id],queryFn:()=>t.server.fetchBans()}));async function s(h){try{await h.pardon(),n.setQueryData(["bans",t.server.id],i.data.filter(f=>f.id.user!==h.id.user))}catch(f){r(f)}}const[o,a]=ve(""),[l,c]=ve(""),d=ke(()=>{if(i.data){const h=o().toLowerCase(),f=l().toLowerCase();return h||f?i.data.filter(m=>(m.user?.username??"").toLowerCase().includes(h)&&(m.reason??"").toLowerCase().includes(f)):i.data}});return u(Hr,{get columns(){return[u(es,{get label(){return e({id:"7PzzBU"})},get value(){return o()},onChange:h=>a(h.currentTarget.value)}),u(es,{get label(){return e({id:"VJScHU"})},get value(){return l()},onChange:h=>c(h.currentTarget.value)}),[]]},get itemCount(){return i.data?.length},children:(h,f)=>u(Me,{get children(){return[u(Z,{get when(){return i.isLoading},get children(){return u(Hr.Row,{get children(){return u(Hr.Cell,{colspan:3,get children(){return u(Zr,{})}})}})}}),u(Z,{get when(){return i.data},get children(){return u(rt,{get each(){return d().slice(h*f,h*f+f)},children:m=>u(Hr.Row,{get children(){return[u(Hr.Cell,{get children(){return u(kt,{align:!0,get children(){return[u(zt,{get src(){return m.user?.avatar?.previewUrl},get fallback(){return m.user?.username},size:32}),(()=>{var g=VRe(),p=g.firstChild;return V(g,()=>m.user?.username,p),V(g,()=>m.user?.discriminator,null),g})()]}})}}),u(Hr.Cell,{get children(){return m.reason}}),u(Hr.Cell,{width:"40px",get children(){return u(ot,{size:"icon",variant:"filled",get"use:floating"(){return{tooltip:{placement:"bottom",content:e({id:"CXs+oi"})}}},onPress:()=>s(m),get children(){return u(Ol,{})}})}})]}})})}})]}})})}var qRe=I("<form>"),HRe=I("<span>:<!>:"),WRe=I("<span>");function XRe(t){const e=YE(),{_:n}=Dt(),r=pt(),{openModal:i}=Ne();function s(){return t.server.emojis.length>=Qn.MAX_EMOJI}const o=Hn({name:Lt("",{required:!0}),file:Lt(null,{required:!0})},{disabled:s()});async function a(){const d=new FormData;d.append("file",o.controls.file.value[0]);const[h,f]=r().authenticationHeader,m=await fetch(`${Qn.DEFAULT_MEDIA_URL}/emojis`,{method:"POST",body:d,headers:{[h]:f}}).then(g=>g.json());await t.server.createEmoji(m.id,{name:o.controls.name.value})}function l(){o.controls.name.setValue(""),o.controls.file.setValue(null)}const c=Pe.useSubmitHandler(o,a,l);return u(Ae,{gap:"lg",get children(){return[(()=>{var d=qRe();return Dn(d,"submit",c),V(d,u(Ae,{get children(){return u(kt,{align:!0,get children(){return[u(Ae,{get children(){return u(Pe.FileInput,{get control(){return o.controls.file},accept:"image/*",imageJustify:!1,allowRemoval:!1})}}),u(Ae,{grow:!0,get children(){return[u(Pe.TextField,{name:"name",get control(){return o.controls.name},get label(){return n({id:"To5L7V"})}}),u(kt,{align:!0,get children(){return[u(Pe.Submit,{group:o,get children(){return u(k,{id:"hYgDIe"})}}),u(Me,{get fallback(){return u(k,ge(()=>({id:"maCbpW",values:{0:Qn.MAX_EMOJI-t.server.emojis.length}})))},get children(){return[u(Z,{get when(){return o.errors?.error},get children(){return e(o.errors.error)}}),u(Z,{get when(){return o.isPending},get children(){return u(Zr,{})}})]}})]}})]}})]}})}})),d})(),u(Ae,{gap:"sm",get children(){return u(rt,{get each(){return t.server.emojis.toSorted((d,h)=>h.id.localeCompare(d.id))},children:d=>u(Xe,{roundedIcon:!1,get icon(){return u(zt,{get src(){return d.url},shape:"rounded-square"})},onClick:()=>i({type:"emoji_preview",emoji:d}),get children(){return u(Ae,{gap:"none",get children(){return[(()=>{var h=HRe(),f=h.firstChild,m=f.nextSibling;return m.nextSibling,V(h,()=>d.name,m),Te(()=>ut(h,hn({flex:1}))),h})(),(()=>{var h=WRe();return V(h,u(zt,{size:12,get fallback(){return d.creator?.displayName},get src(){return d.creator?.animatedAvatarURL}}),null),V(h,u(Le,{class:"label",get children(){return d.creator?.displayName}}),null),Te(()=>ut(h,hn({flex:1,display:"flex",alignItems:"center",gap:"var(--gap-sm)"}))),h})()]}})}})})}})]}})}var YRe=I("<span>");function GRe(t){const{_:e}=Dt(),n=Tv(),{showError:r,openModal:i}=Ne(),s=Ho(()=>({queryKey:["invites",t.server.id],queryFn:()=>t.server.fetchInvites()})),o=()=>!t.server.defaultChannel||t.server.channels.length==0;async function a(c){try{await c.delete(),n.setQueryData(["invites",t.server.id],s.data.filter(d=>d.id!==d.id))}catch(d){r(d)}}async function l(){const c=t.server.defaultChannel||t.server.channels[0]||null;c&&i({type:"create_invite",channel:c})}return u(Ae,{get children(){return[u(ot,{group:"standard",onPress:l,get isDisabled(){return o()},get"use:floating"(){return{tooltip:o()?{content:e({id:"OVDb+J"}),placement:"bottom"}:void 0}},get children(){return u(k,{id:"fTMMeD"})}}),u(Hr,{get columns(){return[u(k,{id:"cj+X1c"}),u(k,{id:"DDpDsO"}),[]]},get itemCount(){return s.data?.length},children:(c,d)=>u(Me,{get children(){return[u(Z,{get when(){return s.isLoading},get children(){return u(Hr.Row,{get children(){return u(Hr.Cell,{colspan:3,get children(){return u(Zr,{})}})}})}}),u(Z,{get when(){return s.data},get children(){return u(rt,{get each(){return s.data.slice(c*d,c*d+d)},children:h=>u(Hr.Row,{get children(){return[u(Hr.Cell,{get children(){return u(kt,{align:!0,get children(){return[u(zt,{get src(){return h.creator?.animatedAvatarURL},size:32}),u(Ae,{gap:"none",get children(){return[(()=>{var f=YRe();return V(f,()=>h.creator?.displayName??"Unknown User"),f})(),u(Le,{class:"label",get children(){return["#",Ce(()=>h.channel?.name)]}})]}})]}})}}),u(Hr.Cell,{get children(){return h.id}}),u(Hr.Cell,{width:"40px",get children(){return u(ot,{size:"icon",variant:"filled",get"use:floating"(){return{tooltip:{placement:"bottom",content:e({id:"xglsJ0"})}}},onPress:()=>a(h),get children(){return u(Ol,{})}})}})]}})})}})]}})})]}})}var ZRe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M12 22C6.49 22 2 17.51 2 12S6.49 2 12 2s10 4.04 10 9c0 3.31-2.69 6-6 6h-1.77c-.28 0-.5.22-.5.5 0 .12.05.23.13.33.41.47.64 1.06.64 1.67A2.5 2.5 0 0 1 12 22m0-18c-4.41 0-8 3.59-8 8s3.59 8 8 8c.28 0 .5-.22.5-.5a.54.54 0 0 0-.14-.35c-.41-.46-.63-1.05-.63-1.65a2.5 2.5 0 0 1 2.5-2.5H16c2.21 0 4-1.79 4-4 0-3.86-3.59-7-8-7"></path><circle cx=6.5 cy=11.5 r=1.5></circle><circle cx=9.5 cy=7.5 r=1.5></circle><circle cx=14.5 cy=7.5 r=1.5></circle><circle cx=17.5 cy=11.5 r=1.5>');const f6=(t={})=>(()=>{var e=ZRe();return Se(e,t,!0,!0),e})();var KRe=I("<input type=color>"),JRe=I("<form>");function eMe(t){const{_:e}=Dt(),{openModal:n}=Ne(),{navigate:r}=za(),i=ke(()=>t.context.orderedRoles.find(h=>h.id==t.roleId)),s=Hn({name:Lt(i()?.name||""),colour:Lt(i()?.colour||null),hoist:Lt(i()?.hoist==!0)}),[o,a]=ve();async function l(){const h={};s.controls.name.isDirty&&(h.name=s.controls.name.value.trim()),s.controls.hoist.isDirty&&(h.hoist=s.controls.hoist.value),s.controls.colour.isDirty&&(h.colour=s.controls.colour.value??null),await t.context.editRole(t.roleId,h)}function c(){s.controls.name.setValue(i()?.name||""),s.controls.hoist.setValue(i()?.hoist||!1),s.controls.colour.setValue(i()?.colour||null)}const d=Pe.useSubmitHandler(s,l,c);return u(Ae,{get children(){return[(()=>{var h=JRe();return Dn(h,"submit",d),V(h,u(Ae,{gap:"lg",get children(){return[u(Ae,{get children(){return u(Pe.TextField,{name:"name",get control(){return s.controls.name},get label(){return e({id:"PSP1MZ"})}})}}),u(Ae,{get children(){return u(kt,{align:!0,get children(){return[u(On,{ref:a,variant:"filled",shape:"square",size:"lg",onPress:()=>o()?.click(),get children(){return u(f6,{})}}),(()=>{var f=KRe();return f.$$input=m=>{const g=m.currentTarget.value;s.controls.colour.setValue(g),s.controls.colour.markDirty(!0)},Fe(a,f),f.style.setProperty("position","absolute"),f.style.setProperty("opacity","0"),f.style.setProperty("width","0px"),f.style.setProperty("height","0px"),f.style.setProperty("padding","0"),f.style.setProperty("border","none"),Te(()=>f.value=s.controls.colour.value??"#ffffff"),f})(),u(Ae,{gap:"lg",get children(){return[u(kt,{justify:!0,get children(){return u(rt,{each:["#7B68EE","#3498DB","#1ABC9C","#F1C40F","#FF7F50","#FD6671","#E91E63","#D468EE"],children:f=>u(ot,{size:"sm",bg:f,group:"standard",get groupActive(){return s.controls.colour.value===f},onPress:()=>{s.controls.colour.setValue(f),s.controls.colour.markDirty(!0)}})})}}),u(kt,{justify:!0,get children(){return u(rt,{each:["#594CAD","#206694","#11806A","#C27C0E","#CD5B45","#FF424F","#AD1457","#954AA8"],children:f=>u(ot,{size:"sm",bg:f,group:"standard",get groupActive(){return s.controls.colour.value===f},onPress:()=>{s.controls.colour.setValue(f),s.controls.colour.markDirty(!0)}})})}})]}})]}})}}),u(Ae,{get children(){return[u(Le,{class:"label",children:"Hoist Role"}),u(Pe.Checkbox,{get control(){return s.controls.hoist},children:"Display this role above others"})]}}),u(Ae,{get children(){return u(kt,{get children(){return[u(Pe.Reset,{group:s,onReset:c}),u(Pe.Submit,{group:s,requireDirty:!0,get children(){return u(k,{id:"tfDRzk"})}}),u(X,{get when(){return s.isPending},get children(){return u(Zr,{})}})]}})}})]}})),h})(),u(tMe,{}),u(l0,{type:"server_role",get context(){return t.context},get roleId(){return t.roleId}}),u(Ae,{get children(){return[u(Xe,{action:"chevron",get icon(){return u(t1,{})},onClick:()=>navigator.clipboard.writeText(`${t.roleId}`),get children(){return u(k,{id:"h5+K3A"})}}),u(Xe,{action:"chevron",get icon(){return u(Ol,{})},onClick:()=>n({type:"delete_role",role:i(),cb:()=>r("roles")}),get children(){return u(k,{id:"uc3jjU"})}})]}})]}})}const tMe=H("div",{base:{height:"1px",margin:"var(--gap-sm) 0",background:"var(--md-sys-color-outline-variant)"}});Tr(["input"]);var nMe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2">');const rMe=(t={})=>(()=>{var e=nMe();return Se(e,t,!0,!0),e})();var iMe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M22 9V7h-2v2h-2v2h2v2h2v-2h2V9zM8 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 7c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4m6 5H2v-.99C2.2 16.29 5.3 15 8 15s5.8 1.29 6 2zM12.51 4.05C13.43 5.11 14 6.49 14 8s-.57 2.89-1.49 3.95C14.47 11.7 16 10.04 16 8s-1.53-3.7-3.49-3.95m4.02 9.78C17.42 14.66 18 15.7 18 17v3h2v-3c0-1.45-1.59-2.51-3.47-3.17">');const Uq=(t={})=>(()=>{var e=iMe();return Se(e,t,!0,!0),e})();function sMe(t){const{navigate:e}=za(),{openModal:n,showError:r}=Ne(),i=ss(()=>({mutationFn:o=>t.context.setRoleOrdering(o),onError:r}));function s(){n({type:"create_role",server:t.context,callback(o){e(`roles/${o}`)}})}return u(Ae,{gap:"lg",get children(){return[u(Ae,{gap:"sm",get children(){return[u(Xe,{get icon(){return u(Dq,{size:20})},action:"chevron",get description(){return u(k,{id:"4hAIF+"})},onClick:()=>e("roles/default"),get children(){return u(k,{id:"wQMpfT"})}}),u(Xe,{get icon(){return u(Uq,ge(()=>at(20)))},action:"chevron",get description(){return u(k,{id:"/7l3Ud"})},onClick:s,get children(){return u(k,{id:"RoyYUE"})}})]}}),u(Ae,{gap:"sm",get children(){return[u(Le,{class:"label",get children(){return[u(k,{id:"pJZDVV"}),u(X,{get when(){return i.isPending},get children(){return[" ",u(k,{id:"FmOTFK"})]}})]}}),u(EO,{dragHandles:!0,get items(){return t.context.orderedRoles},get onChange(){return i.mutate},children:o=>u(aMe,{get children(){return[u(rMe,ge(()=>eN(o.dragDisabled,o.setDragDisabled))),u(Xe,{get icon(){return u(oMe,{get style(){return{background:o.item.colour??"var(--md-sys-color-outline-variant)"}}})},action:"chevron",onClick:()=>e(`roles/${o.item.id}`),get children(){return o.item.name}})]}})})]}})]}})}const oMe=H("div",{base:{width:"100%",height:"100%",aspectRatio:"1/1",borderRadius:"100%"}}),aMe=H("div",{base:{display:"flex",alignItems:"center",gap:"var(--gap-md)",paddingBottom:"var(--gap-md)","& > :nth-child(2)":{flexGrow:1}}}),lMe={title(t,e){const{_:n}=Dt();return e.startsWith("roles/")?e==="roles/default"?n({id:"wQMpfT"}):t.context.roles.get(e.substring(6))?.name??"":t.entries.flatMap(r=>r.entries).find(r=>r.id===e)?.title},render(t,e){const n=t.page();if(!e.$exists)return Ne().pop(),null;if(n?.startsWith("roles/"))return n==="roles/default"?u(l0,{type:"server_default",context:e}):u(eMe,{context:e,get roleId(){return n.substring(6)}});switch(n){case"overview":return u(URe,{server:e});case"emojis":return u(XRe,{server:e});case"roles":return u(sMe,{context:e});case"invites":return u(GRe,{server:e});case"bans":return u(jRe,{server:e});default:return null}},list(t){const e=ff(),{openModal:n}=Ne();return{context:t,entries:[{title:u(Ta,{get content(){return t.name}}),entries:[{id:"overview",icon:u(h6,{size:20}),title:u(k,{id:"6/dCYd"})}]},{hidden:!t.havePermission("ManageCustomisation"),title:u(k,{id:"8aTiea"}),entries:[{id:"emojis",icon:u(rRe,{size:20}),title:u(k,{id:"etgedT"})}]},{hidden:!t.havePermission("ManageServer")&&!t.havePermission("BanMembers"),title:u(k,{id:"yDOdwQ"}),entries:[{hidden:!0,id:"members",icon:u(nRe,{size:20}),title:u(k,{id:"wlQNTg"})},{hidden:!(t.havePermission("ManageRole")||t.havePermission("ManagePermissions")),id:"roles",icon:u(tRe,{size:20}),title:u(k,{id:"5dJK4M"})},{hidden:!t.havePermission("ManageServer"),id:"invites",icon:u(J9e,{size:20}),title:u(k,{id:"BHsrDx"})},{hidden:!t.havePermission("BanMembers"),id:"bans",icon:u(uRe,{size:20}),title:u(k,{id:"xWHwwQ"})}]},{hidden:t.ownerId!==e()?.id,entries:[{icon:u($q,{size:20,color:"var(--md-sys-color-error)"}),title:u(tf,{colour:"var(--md-sys-color-error)",get children(){return u(k,{id:"IIeRiI"})}}),onClick(){n({type:"delete_server",server:t})}}]}]}}};var cMe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2M7.35 18.5C8.66 17.56 10.26 17 12 17s3.34.56 4.65 1.5c-1.31.94-2.91 1.5-4.65 1.5s-3.34-.56-4.65-1.5m10.79-1.38a9.95 9.95 0 0 0-12.28 0A7.96 7.96 0 0 1 4 12c0-4.42 3.58-8 8-8s8 3.58 8 8c0 1.95-.7 3.73-1.86 5.12"></path><path d="M12 6c-1.93 0-3.5 1.57-3.5 3.5S10.07 13 12 13s3.5-1.57 3.5-3.5S13.93 6 12 6m0 5c-.83 0-1.5-.67-1.5-1.5S11.17 8 12 8s1.5.67 1.5 1.5S12.83 11 12 11">');const uMe=(t={})=>(()=>{var e=cMe();return Se(e,t,!0,!0),e})();var dMe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M18.5 3H6c-1.1 0-2 .9-2 2v5.71c0 3.83 2.95 7.18 6.78 7.29 3.96.12 7.22-3.06 7.22-7v-1h.5c1.93 0 3.5-1.57 3.5-3.5S20.43 3 18.5 3M16 5v3H6V5zm0 5v1c0 2.76-2.24 5-5 5s-5-2.24-5-5v-1m12.5-2H18V5h.5c.83 0 1.5.67 1.5 1.5S19.33 8 18.5 8M4 19h16v2H4z">');const hMe=(t={})=>(()=>{var e=dMe();return Se(e,t,!0,!0),e})();var fMe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2m6.93 6h-2.95a15.7 15.7 0 0 0-1.38-3.56A8.03 8.03 0 0 1 18.92 8M12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96M4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56A8 8 0 0 1 5.08 16m2.95-8H5.08a8 8 0 0 1 4.33-3.56A15.7 15.7 0 0 0 8.03 8M12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96M14.34 14H9.66c-.09-.66-.16-1.32-.16-2s.07-1.35.16-2h4.68c.09.65.16 1.32.16 2s-.07 1.34-.16 2m.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56M16.36 14c.08-.66.14-1.32.14-2s-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2z">');const Vq=(t={})=>(()=>{var e=fMe();return Se(e,t,!0,!0),e})();var mMe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="m17 8-1.41 1.41L17.17 11H9v2h8.17l-1.58 1.58L17 16l4-4zM5 5h7V3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h7v-2H5z">');const hw=(t={})=>(()=>{var e=mMe();return Se(e,t,!0,!0),e})();var gMe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M15 9H9v6h6zm-2 4h-2v-2h2zm8-2V9h-2V7c0-1.1-.9-2-2-2h-2V3h-2v2h-2V3H9v2H7c-1.1 0-2 .9-2 2v2H3v2h2v2H3v2h2v2c0 1.1.9 2 2 2h2v2h2v-2h2v2h2v-2h2c1.1 0 2-.9 2-2v-2h2v-2h-2v-2zm-4 6H7V7h10z">');const pMe=(t={})=>(()=>{var e=gMe();return Se(e,t,!0,!0),e})();var vMe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3"></path><path d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92z">');const bMe=(t={})=>(()=>{var e=vMe();return Se(e,t,!0,!0),e})();var yMe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m0 14H5.17l-.59.59-.58.58V4h16zm-9.5-2H18v-2h-5.5zm3.86-5.87c.2-.2.2-.51 0-.71l-1.77-1.77c-.2-.2-.51-.2-.71 0L6 11.53V14h2.47z">');const OMe=(t={})=>(()=>{var e=yMe();return Se(e,t,!0,!0),e})();var wMe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M13 11.33 18 18H6l5-6.67V6h2m2.96-2H8.04c-.42 0-.65.48-.39.81L9 6.5v4.17L3.2 18.4c-.49.66-.02 1.6.8 1.6h16c.82 0 1.29-.94.8-1.6L15 10.67V6.5l1.35-1.69c.26-.33.03-.81-.39-.81">');const kMe=(t={})=>(()=>{var e=wMe();return Se(e,t,!0,!0),e})();var SMe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M20 9V7c0-1.1-.9-2-2-2h-3c0-1.66-1.34-3-3-3S9 3.34 9 5H6c-1.1 0-2 .9-2 2v2c-1.66 0-3 1.34-3 3s1.34 3 3 3v4c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-4c1.66 0 3-1.34 3-3s-1.34-3-3-3m-2 10H6V7h12zm-9-6c-.83 0-1.5-.67-1.5-1.5S8.17 10 9 10s1.5.67 1.5 1.5S9.83 13 9 13m7.5-1.5c0 .83-.67 1.5-1.5 1.5s-1.5-.67-1.5-1.5.67-1.5 1.5-1.5 1.5.67 1.5 1.5M8 15h8v2H8z">');const jq=(t={})=>(()=>{var e=SMe();return Se(e,t,!0,!0),e})();var xMe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm7 10c0 4.52-2.98 8.69-7 9.93-4.02-1.24-7-5.41-7-9.93V6.3l7-3.11 7 3.11zm-11.59.59L6 13l4 4 8-8-1.41-1.42L10 14.17z">');const qq=(t={})=>(()=>{var e=xMe();return Se(e,t,!0,!0),e})();var _Me=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M9.68 13.69 12 11.93l2.31 1.76-.88-2.85L15.75 9h-2.84L12 6.19 11.09 9H8.25l2.31 1.84zM20 10c0-4.42-3.58-8-8-8s-8 3.58-8 8c0 2.03.76 3.87 2 5.28V23l6-2 6 2v-7.72A7.96 7.96 0 0 0 20 10m-8-6c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6 2.69-6 6-6m0 15-4 1.02v-3.1c1.18.68 2.54 1.08 4 1.08s2.82-.4 4-1.08v3.1z">');const CMe=(t={})=>(()=>{var e=_Me();return Se(e,t,!0,!0),e})();function Hq(){const t=pt();return X5(()=>({queryKey:["mfa",t().user.id],queryFn:()=>t().account.mfa(),throwOnError:!0}))}function Wq(t){return X5(()=>({queryKey:["profile",t.id],queryFn:()=>t.fetchProfile(),throwOnError:!0}))}function Xq(){const t=pt();return Wq(t().user)}function EMe(){const t=pt();return X5(()=>({queryKey:["bots",t().user.id],queryFn:()=>t().bots.fetchOwned(),throwOnError:!0}))}var TMe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2M9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9zm9 14H6V10h12zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2">');const DMe=(t={})=>(()=>{var e=TMe();return Se(e,t,!0,!0),e})();var AMe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2zm-2 0-8 4.99L4 6zm0 12H4V8l8 5 8-5z">');const PMe=(t={})=>(()=>{var e=AMe();return Se(e,t,!0,!0),e})();var RMe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M2 17h20v2H2zm1.15-4.05L4 11.47l.85 1.48 1.3-.75-.85-1.48H7v-1.5H5.3l.85-1.47L4.85 7 4 8.47 3.15 7l-1.3.75.85 1.47H1v1.5h1.7l-.85 1.48zm6.7-.75 1.3.75.85-1.48.85 1.48 1.3-.75-.85-1.48H15v-1.5h-1.7l.85-1.47-1.3-.75L12 8.47 11.15 7l-1.3.75.85 1.47H9v1.5h1.7zM23 9.22h-1.7l.85-1.47-1.3-.75L20 8.47 19.15 7l-1.3.75.85 1.47H17v1.5h1.7l-.85 1.48 1.3.75.85-1.48.85 1.48 1.3-.75-.85-1.48H23z">');const MMe=(t={})=>(()=>{var e=RMe();return Se(e,t,!0,!0),e})();var IMe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M12 6a2 2 0 0 0 2-2c0-.38-.1-.73-.29-1.03L12 0l-1.71 2.97c-.19.3-.29.65-.29 1.03 0 1.1.9 2 2 2m4.6 9.99-1.07-1.07-1.08 1.07c-1.3 1.3-3.58 1.31-4.89 0l-1.07-1.07-1.09 1.07C6.75 16.64 5.88 17 4.96 17c-.73 0-1.4-.23-1.96-.61V21c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-4.61c-.56.38-1.23.61-1.96.61-.92 0-1.79-.36-2.44-1.01M18 9h-5V7h-2v2H6c-1.66 0-3 1.34-3 3v1.54c0 1.08.88 1.96 1.96 1.96.52 0 1.02-.2 1.38-.57l2.14-2.13 2.13 2.13c.74.74 2.03.74 2.77 0l2.14-2.13 2.13 2.13c.37.37.86.57 1.38.57 1.08 0 1.96-.88 1.96-1.96V12C21 10.34 19.66 9 18 9">');const $Me=(t={})=>(()=>{var e=IMe();return Se(e,t,!0,!0),e})();var nR=I("<span>"),LMe=I("<span>#");function m6(t){const e=Ad(),n=()=>t.bannerUrl?{"background-image":`linear-gradient(color-mix(in srgb, var(--md-sys-color-surface-container-low) 70%, transparent), color-mix(in srgb, var(--md-sys-color-surface-container-low) 70%, transparent)), url("${t.bannerUrl}")`,color:"black"}:{background:"var(--md-sys-color-primary-container)",color:"var(--md-sys-color-on-primary)"};return u(Xe.Group,{get children(){return u(NMe,{get style(){return n()},get children(){return[u(FMe,{get children(){return[u(zt,{get src(){return t.user.animatedAvatarURL},size:58}),u(BMe,{get children(){return[(()=>{var r=nR();return V(r,()=>t.user.displayName),r})(),(()=>{var r=LMe(),i=r.firstChild;return V(r,()=>t.user.username,i),V(r,()=>t.user.discriminator,null),r})()]}}),u(X,{get when(){return t.onEdit},get children(){return u(On,{variant:"filled",shape:"square",get onPress(){return t.onEdit},get children(){return u(s6,{})}})}})]}}),u(X,{get when(){return t.showBadges},get children(){return u(zMe,{get children(){return[u(QMe,{}),u(UMe,{get children(){var r=nR();return Fe(Xt,r,()=>({tooltip:{placement:"top",content:e(t.user.createdAt).format("[Account created] Do MMMM YYYY [at] HH:mm")}})),V(r,u($Me,ge(()=>at(14)))),r}})]}})}})]}})}})}const NMe=H("div",{base:{display:"flex",padding:"var(--gap-lg)",flexDirection:"column",backgroundSize:"cover",backgroundPosition:"center"}}),FMe=H("div",{base:{display:"flex",gap:"var(--gap-lg)",alignItems:"center"}}),BMe=H("div",{base:{flexGrow:1,display:"flex",flexDirection:"column",color:"var(--md-sys-color-on-secondary-container)","& :nth-child(1)":{fontSize:"18px",fontWeight:600},"& :nth-child(2)":{fontSize:"14px",fontWeight:400}}}),zMe=H("div",{base:{display:"flex"}}),QMe=H("div",{base:{flexShrink:0,width:"58px",marginInlineEnd:"var(--gap-lg)"}}),UMe=H("div",{base:{display:"flex",gap:"var(--gap-sm)",width:"fit-content",padding:"var(--gap-md)",borderRadius:"var(--borderRadius-md)",fill:"var(--md-sys-color-on-secondary)",background:"var(--md-sys-color-secondary)"}});var VMe=I("<a>Reveal");function jMe(){const t=pt(),e=Xq(),{navigate:n}=za();return u(Ae,{gap:"lg",get children(){return[u(m6,{get user(){return t().user},get bannerUrl(){return e.data?.animatedBannerURL},onEdit:()=>n("profile"),showBadges:!0}),u(qMe,{}),u(HMe,{}),u(WMe,{})]}})}function qMe(){const t=pt(),{openModal:e}=Ne(),[n,r]=ve("@");return u(Xe.Group,{get children(){return[u(Xe,{action:"chevron",onClick:()=>e({type:"edit_username",client:t()}),get icon(){return u(dw,ge(()=>at(22)))},get description(){return t().user?.username},get children(){return u(k,{id:"7sNhEz"})}}),u(Xe,{action:"chevron",onClick:()=>e({type:"edit_email",client:t()}),get icon(){return u(PMe,ge(()=>at(22)))},get description(){return u(kt,{get children(){return[Ce(()=>n())," ",u(X,{get when(){return n().startsWith("")},get children(){var i=VMe();return i.$$click=s=>{s.stopPropagation(),t().account.fetchEmail().then(r)},i}})]}})},get children(){return u(k,{id:"O3oNi5"})}}),u(Xe,{action:"chevron",onClick:()=>e({type:"edit_password",client:t()}),get icon(){return u(MMe,ge(()=>at(22)))},description:"",get children(){return u(k,{id:"8ZsakT"})}})]}})}function HMe(){const t=pt(),e=Hq(),{openModal:n,mfaFlow:r,mfaEnableTOTP:i,showError:s}=Ne();async function o(){(await r(e.data)).fetchRecoveryCodes().then(h=>n({type:"mfa_recovery",mfa:e.data,codes:h}))}async function a(){(await r(e.data)).generateRecoveryCodes().then(h=>n({type:"mfa_recovery",mfa:e.data,codes:h}))}async function l(){const h=await(await r(e.data)).generateAuthenticatorSecret();let f;for(;!f;)try{const m=await i(h,t().user.username);m&&(await e.data.enableAuthenticator(m),f=!0)}catch(m){s(m)}}function c(){r(e.data).then(d=>d.disableAuthenticator())}return u(Xe.Group,{get children(){return[u(Xe.Collapse,{get icon(){return u(qq,ge(()=>at(22)))},get title(){return u(k,{id:"QgQV6q"})},get description(){return u(k,{id:"tr+x7S"})},get children(){return u(Me,{get fallback(){return u(Xe,{icon:"blank",get disabled(){return e.isLoading},onClick:a,get description(){return u(k,{id:"P25zlZ"})},get children(){return u(k,{id:"8VGnad"})}})},get children(){return u(Z,{get when(){return!e.isLoading&&e.data?.recoveryEnabled},get children(){return[u(Xe,{icon:"blank",get description(){return u(k,{id:"m2qesm"})},onClick:o,get children(){return u(k,{id:"z0hW8A"})}}),u(Xe,{icon:"blank",get description(){return u(k,{id:"5UlsjU"})},onClick:a,get children(){return u(k,{id:"FKU8Yv"})}})]}})}})}}),u(Xe.Collapse,{get icon(){return u(DMe,ge(()=>at(22)))},get title(){return u(k,{id:"YZWcQL"})},get description(){return u(k,{id:"sA/iAz"})},get children(){return u(Me,{get fallback(){return u(Xe,{icon:"blank",get disabled(){return e.isLoading},onClick:l,get description(){return u(k,{id:"wtxSXD"})},get children(){return u(k,{id:"rDzECn"})}})},get children(){return u(Z,{get when(){return!e.isLoading&&e.data?.authenticatorEnabled},get children(){return u(Xe,{icon:"blank",get description(){return u(k,{id:"iqOVmX"})},onClick:c,get children(){return u(k,{id:"SvSQsF"})}})}})}})}})]}})}function WMe(){const t=pt(),e=Hq(),{mfaFlow:n}=Ne(),{logout:r}=wu(),i=ke(()=>t().servers.filter(a=>a.owner?.self||!1).length>0);function s(){n(e.data).then(a=>a.disableAccount().then(()=>r()))}function o(){n(e.data).then(a=>a.deleteAccount().then(()=>r()))}return u(Xe.Group,{get children(){return[u(Xe,{action:"chevron",get disabled(){return e.isLoading},onClick:s,get icon(){return u(Oq,ge(()=>at(22),{fill:"var(--md-sys-color-error)"}))},get description(){return u(k,{id:"mffBQe"})},get children(){return u(k,{id:"b0ScFs"})}}),u(Xe,{get action(){return i()?void 0:"chevron"},get disabled(){return e.isLoading||i()},onClick:o,get icon(){return u(Ol,ge(()=>at(22),{fill:"var(--md-sys-color-error)"}))},get description(){return u(k,{id:"pW8Hyv"})},get children(){return u(Me,{get fallback(){return u(k,{id:"vzX5FB"})},get children(){return u(Z,{get when(){return i()},get children(){return u(k,{id:"Ixp6O/"})}})}})}})]}})}Tr(["click"]);function XMe(){const t=Ht();return u(Ae,{gap:"xl",get children(){return[u(Ae,{get children(){return[u(pr,{get checked(){return t.settings.getValue("appearance:compact_mode")},onChange:e=>t.settings.setValue("appearance:compact_mode",e.currentTarget.checked),children:"Compact mode"}),u(pr,{get checked(){return t.settings.getValue("advanced:copy_id")},onChange:e=>t.settings.setValue("advanced:copy_id",e.currentTarget.checked),children:"Show 'copy ID' in context menus"}),u(pr,{get checked(){return t.settings.getValue("advanced:admin_panel")},onChange:e=>t.settings.setValue("advanced:admin_panel",e.currentTarget.checked),children:"Show admin panel shortcuts in context menus"})]}}),u(Kc,{get children(){return u(rt,{each:dj,children:e=>u(Xe,{get action(){return u(pr,{get checked(){return t.experiments.isEnabled(e)},onChange:n=>t.experiments.setEnabled(e,n.currentTarget.checked)})},get description(){return h9[e].description},onClick:()=>{},get children(){return h9[e].title}})})}})]}})}var YMe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M16.24 13.65c-1.17-.52-2.61-.9-4.24-.9s-3.07.39-4.24.9A2.99 2.99 0 0 0 6 16.39V18h12v-1.61c0-1.18-.68-2.26-1.76-2.74m-15.02.93A2.01 2.01 0 0 0 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58m21.56 0A6.95 6.95 0 0 0 20 14c-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24v-1.57c0-.81-.48-1.53-1.22-1.85M12 12c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3M1.497 11 4 8.497 6.503 11 4 13.503zM20 9l-2.5 4h5z">');const A2=(t={})=>(()=>{var e=YMe();return Se(e,t,!0,!0),e})();var GMe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M20 8h-2.81a6 6 0 0 0-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5s-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20zm-4 4v3c0 .22-.03.47-.07.7l-.1.65-.37.65c-.72 1.24-2.04 2-3.46 2s-2.74-.77-3.46-2l-.37-.64-.1-.65A4.3 4.3 0 0 1 8 15v-4c0-.23.03-.48.07-.7l.1-.65.37-.65c.3-.52.72-.97 1.21-1.31l.57-.39.74-.18a3.8 3.8 0 0 1 1.89 0l.68.16.61.42c.5.34.91.78 1.21 1.31l.38.65.1.65c.04.22.07.47.07.69zm-6 2h4v2h-4zm0-4h4v2h-4z">');const ZMe=(t={})=>(()=>{var e=GMe();return Se(e,t,!0,!0),e})();var KMe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2zm1-9h1V4H2v1h1zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2zm5-6v2h14V5zm0 14h14v-2H7zm0-6h14v-2H7z">');const JMe=(t={})=>(()=>{var e=KMe();return Se(e,t,!0,!0),e})();var eIe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="m22 9.24-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28z">');const tIe=(t={})=>(()=>{var e=eIe();return Se(e,t,!0,!0),e})();function nIe(){const{openModal:t,pop:e}=Ne(),n=Dr(),r=pt(),i=Qn.IS_STOAT,s=r().servers.get("01F7ZSBSFHQ8TA81725KQCSDDP")!==void 0;return u(Ae,{gap:"lg",get children(){return u(Kc,{get children(){return[u(GS,{href:"https://github.com/orgs/stoatchat/discussions/categories/feature-suggestions",target:"_blank",get children(){return u(Xe,{action:"external",get icon(){return u(tIe,ge(()=>at(22)))},onClick:()=>{},get description(){return u(k,{id:"7z6mLt"})},get children(){return u(k,{id:"E9SV2w"})}})}}),u(GS,{href:"https://github.com/orgs/stoatchat/discussions/categories/feedback",target:"_blank",get children(){return u(Xe,{action:"external",get icon(){return u(JMe,ge(()=>at(22)))},onClick:()=>{},get description(){return u(k,{id:"1m41/U"})},get children(){return u(k,{id:"YirHq7"})}})}}),u(GS,{href:"https://github.com/stoatchat/for-web/issues?q=is%3Aissue%20state%3Aopen%20type%3ABug",target:"_blank",get children(){return u(Xe,{action:"external",get icon(){return u(ZMe,ge(()=>at(22)))},onClick:()=>{},get description(){return u(k,{id:"NG6+qd"})},get children(){return u(k,{id:"RriyZ+"})}})}}),u(Me,{fallback:null,get children(){return[u(Z,{when:i&&s,get children(){return u(Xe,{onClick:()=>{n("/server/01F7ZSBSFHQ8TA81725KQCSDDP"),e()},get description(){return u(k,{id:"2v8IKv"})},get icon(){return u(A2,{})},get children(){return u(k,{id:"BusuTg"})}})}}),u(Z,{when:i&&!s,get children(){return u(Xe,{onClick:()=>{r().api.get("/invites/Testers").then(o=>Cd.from(r(),o)).then(o=>t({type:"invite",invite:o}))},get description(){return u(k,{id:"2v8IKv"})},get icon(){return u(A2,{})},get children(){return u(k,{id:"03Y3fJ"})}})}})]}})]}})}})}const GS=H("a",{base:{textDecoration:"none"}});var rIe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z">');const iIe=(t={})=>(()=>{var e=rIe();return Se(e,t,!0,!0),e})();var sIe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48z">');const oIe=(t={})=>(()=>{var e=sIe();return Se(e,t,!0,!0),e})();var aIe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V10h14zm0-12H5V6h14zM9 14H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2zm-8 4H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2z">');const lIe=(t={})=>(()=>{var e=aIe();return Se(e,t,!0,!0),e})();var cIe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z">');const uIe=(t={})=>(()=>{var e=cIe();return Se(e,t,!0,!0),e})();var dIe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z">');const hIe=(t={})=>(()=>{var e=dIe();return Se(e,t,!0,!0),e})();var fIe=I("<a href=https://weblate.insrt.uk/engage/revolt/ target=_blank>");function mIe(){return u(Ae,{gap:"lg",get children(){return[u(Kc,{get children(){return u(gIe,{})}}),u(Kc,{get children(){return[u(pIe,{}),u(vIe,{})]}}),u(Kc,{get children(){return u(bIe,{})}})]}})}function gIe(){const t=Ht(),{i18n:e}=Dt(),n=()=>Kl[e().locale],r=ke(()=>{const i=Object.keys(Kl).map(o=>[o,Kl[o]]),s=Mj();if(s){const o=i.find(a=>a[0].replace(/_/g,"-")==s);o&&i.splice(0,0,i.splice(i.indexOf(o),1)[0])}return i});return u(Qg,{get icon(){return u(Vq,ge(()=>at(22)))},get title(){return u(k,{id:"4q8P59"})},get description(){return n().display},scrollable:!0,get children(){return u(rt,{get each(){return r()},children:([i,s])=>u(Xe,{get icon(){return u(va,{get emoji(){return s.emoji}})},get action(){return u(pr,{get checked(){return i===e().locale}})},onClick:()=>t.locale.switch(i),get children(){return u(kt,{get children(){return[Ce(()=>s.display)," ",Ce(()=>Ce(()=>!!s.verified)()&&u(oIe,ge(()=>at(18),{fill:"var(--md-sys-color-on-surface)"})))," ",Ce(()=>Ce(()=>!!s.incomplete)()&&u(iIe,ge(()=>at(18),{fill:"var(--md-sys-color-on-surface)"})))]}})}})})}})}function pIe(){const t=Ht(),{_:e}=Dt(),n=()=>Zv()[1].formats.L,r=new Date;return r.setDate(r.getDate()-7),u(Qg,{get icon(){return u(lIe,ge(()=>at(22)))},title:"Select date format",get description(){return Ce(()=>n()==="DD/MM/YYYY")()?e({id:"De3gk3"}):Ce(()=>n()==="MM/DD/YYYY")()?e({id:"Btd5Px"}):Ce(()=>n()==="YYYY-MM-DD")()?e({id:"Wvdt8W"}):n()},get children(){return[u(Xe,{icon:"blank",onClick:()=>t.locale.setDateFormat("DD/MM/YYYY"),get action(){return u(pr,{get checked(){return n()==="DD/MM/YYYY"}})},get description(){return u($r,{format:"date",value:r})},get children(){return u(k,{id:"De3gk3"})}}),u(Xe,{icon:"blank",onClick:()=>t.locale.setDateFormat("MM/DD/YYYY"),get action(){return u(pr,{get checked(){return n()==="MM/DD/YYYY"}})},get description(){return u($r,{format:"dateAmerican",value:r})},get children(){return u(k,{id:"Btd5Px"})}}),u(Xe,{icon:"blank",onClick:()=>t.locale.setDateFormat("YYYY-MM-DD"),get action(){return u(pr,{get checked(){return n()==="YYYY-MM-DD"}})},get description(){return u($r,{format:"iso8601",value:r})},get children(){return u(k,{id:"Wvdt8W"})}})]}})}function vIe(){const t=Ht(),{_:e}=Dt(),n=()=>Zv()[1].formats.LT;return u(Qg,{get icon(){return u(uIe,ge(()=>at(22)))},title:"Select time format",get description(){return Ce(()=>n()==="HH:mm")()?e({id:"VaA9mu"}):e({id:"8gE33P"})},get children(){return[u(Xe,{icon:"blank",onClick:()=>t.locale.setTimeFormat("HH:mm"),get action(){return u(pr,{get checked(){return n()==="HH:mm"}})},get description(){return u($r,{format:"time24",value:new Date})},get children(){return u(k,{id:"VaA9mu"})}}),u(Xe,{icon:"blank",onClick:()=>t.locale.setTimeFormat("h:mm A"),get action(){return u(pr,{get checked(){return n()==="h:mm A"}})},get description(){return u($r,{format:"time12",value:new Date})},get children(){return u(k,{id:"8gE33P"})}})]}})}function bIe(){return(()=>{var t=fIe();return V(t,u(Xe,{action:"external",get icon(){return u(hIe,ge(()=>at(22)))},onClick:()=>{},get description(){return u(k,{id:"rTmMQe"})},get children(){return u(k,{id:"3U2WPd"})}})),t})()}function yIe(){const{_:t}=Dt(),[e,n]=ve(!1),[r,i]=ve(window.desktopConfig.get());function s(c){window.desktopConfig.set(c),i(d=>({...d,...c}))}Tn(async()=>{const c=await window.desktopConfig.getAutostart();n(c)});async function o(){const c=!e(),d=await window.desktopConfig.setAutostart(c);n(d)}const a={minimiseToTray:()=>s({minimiseToTray:!r().minimiseToTray}),customFrame:()=>s({customFrame:!r().customFrame}),discordRpc:()=>s({discordRpc:!r().discordRpc}),spellchecker:()=>s({spellchecker:!r().spellchecker}),hardwareAcceleration:()=>s({hardwareAcceleration:!r().hardwareAcceleration})};function l(c,d,h,f){return u(Xe,{get action(){return u(pr,{get checked(){return r()[c]},onClick:m=>m.stopPropagation(),onChange:m=>{m.stopPropagation(),a[c]()}})},get onClick(){return a[c]},get icon(){return u(yt,{children:d})},description:f,children:h})}return u(Ae,{gap:"lg",get children(){return[u(Xe.Group,{get children(){return[u(Xe,{get action(){return u(pr,{get checked(){return e()},onClick:c=>c.stopPropagation(),onChange:o})},onClick:o,get icon(){return u(yt,{children:"exit_to_app"})},get description(){return u(k,{id:"xcs1iQ"})},get children(){return u(k,{id:"M1Ywzz"})}}),Ce(()=>l("minimiseToTray","cancel_presentation",t({id:"Zwfzke"}),t({id:"B7ik4i"}))),Ce(()=>l("customFrame","web_asset",t({id:"nCvhD0"}),t({id:"O95Dg8"})))]}}),u(Xe.Group,{get children(){return[Ce(()=>l("discordRpc","groups_2",t({id:"fzaZuT"}),t({id:"f+rzzY"}))),Ce(()=>l("spellchecker","spellcheck",t({id:"gMvV24"}),t({id:"LUzmzU"}))),Ce(()=>l("hardwareAcceleration","speed",t({id:"m48LOH"}),t({id:"vz2Mv5"})))]}}),u(Xe.Group,{get children(){return u(Xe,{get icon(){return u(yt,{children:"desktop_windows"})},get description(){return[u(k,{id:"csCoda"})," ",Ce(()=>window.native.versions.desktop())]},get children(){return u(k,{id:"SWs9bI"})}})}})]}})}function OIe(t){return en({a:{viewBox:"0 0 448 512"},c:'<path d="M220.8 123.3c1 .5 1.8 1.7 3 1.7 1.1 0 2.8-.4 2.9-1.5.2-1.4-1.9-2.3-3.2-2.9-1.7-.7-3.9-1-5.5-.1-.4.2-.8.7-.6 1.1.3 1.3 2.3 1.1 3.4 1.7zm-21.9 1.7c1.2 0 2-1.2 3-1.7 1.1-.6 3.1-.4 3.5-1.6.2-.4-.2-.9-.6-1.1-1.6-.9-3.8-.6-5.5.1-1.3.6-3.4 1.5-3.2 2.9.1 1 1.8 1.5 2.8 1.4zM420 403.8c-3.6-4-5.3-11.6-7.2-19.7-1.8-8.1-3.9-16.8-10.5-22.4-1.3-1.1-2.6-2.1-4-2.9-1.3-.8-2.7-1.5-4.1-2 9.2-27.3 5.6-54.5-3.7-79.1-11.4-30.1-31.3-56.4-46.5-74.4-17.1-21.5-33.7-41.9-33.4-72C311.1 85.4 315.7.1 234.8 0 132.4-.2 158 103.4 156.9 135.2c-1.7 23.4-6.4 41.8-22.5 64.7-18.9 22.5-45.5 58.8-58.1 96.7-6 17.9-8.8 36.1-6.2 53.3-6.5 5.8-11.4 14.7-16.6 20.2-4.2 4.3-10.3 5.9-17 8.3s-14 6-18.5 14.5c-2.1 3.9-2.8 8.1-2.8 12.4 0 3.9.6 7.9 1.2 11.8 1.2 8.1 2.5 15.7.8 20.8-5.2 14.4-5.9 24.4-2.2 31.7 3.8 7.3 11.4 10.5 20.1 12.3 17.3 3.6 40.8 2.7 59.3 12.5 19.8 10.4 39.9 14.1 55.9 10.4 11.6-2.6 21.1-9.6 25.9-20.2 12.5-.1 26.3-5.4 48.3-6.6 14.9-1.2 33.6 5.3 55.1 4.1.6 2.3 1.4 4.6 2.5 6.7v.1c8.3 16.7 23.8 24.3 40.3 23 16.6-1.3 34.1-11 48.3-27.9 13.6-16.4 36-23.2 50.9-32.2 7.4-4.5 13.4-10.1 13.9-18.3.4-8.2-4.4-17.3-15.5-29.7zM223.7 87.3c9.8-22.2 34.2-21.8 44-.4 6.5 14.2 3.6 30.9-4.3 40.4-1.6-.8-5.9-2.6-12.6-4.9 1.1-1.2 3.1-2.7 3.9-4.6 4.8-11.8-.2-27-9.1-27.3-7.3-.5-13.9 10.8-11.8 23-4.1-2-9.4-3.5-13-4.4-1-6.9-.3-14.6 2.9-21.8zM183 75.8c10.1 0 20.8 14.2 19.1 33.5-3.5 1-7.1 2.5-10.2 4.6 1.2-8.9-3.3-20.1-9.6-19.6-8.4.7-9.8 21.2-1.8 28.1 1 .8 1.9-.2-5.9 5.5-15.6-14.6-10.5-52.1 8.4-52.1zm-13.6 60.7c6.2-4.6 13.6-10 14.1-10.5 4.7-4.4 13.5-14.2 27.9-14.2 7.1 0 15.6 2.3 25.9 8.9 6.3 4.1 11.3 4.4 22.6 9.3 8.4 3.5 13.7 9.7 10.5 18.2-2.6 7.1-11 14.4-22.7 18.1-11.1 3.6-19.8 16-38.2 14.9-3.9-.2-7-1-9.6-2.1-8-3.5-12.2-10.4-20-15-8.6-4.8-13.2-10.4-14.7-15.3-1.4-4.9 0-9 4.2-12.3zm3.3 334c-2.7 35.1-43.9 34.4-75.3 18-29.9-15.8-68.6-6.5-76.5-21.9-2.4-4.7-2.4-12.7 2.6-26.4v-.2c2.4-7.6.6-16-.6-23.9-1.2-7.8-1.8-15 .9-20 3.5-6.7 8.5-9.1 14.8-11.3 10.3-3.7 11.8-3.4 19.6-9.9 5.5-5.7 9.5-12.9 14.3-18 5.1-5.5 10-8.1 17.7-6.9 8.1 1.2 15.1 6.8 21.9 16l19.6 35.6c9.5 19.9 43.1 48.4 41 68.9zm-1.4-25.9c-4.1-6.6-9.6-13.6-14.4-19.6 7.1 0 14.2-2.2 16.7-8.9 2.3-6.2 0-14.9-7.4-24.9-13.5-18.2-38.3-32.5-38.3-32.5-13.5-8.4-21.1-18.7-24.6-29.9s-3-23.3-.3-35.2c5.2-22.9 18.6-45.2 27.2-59.2 2.3-1.7.8 3.2-8.7 20.8-8.5 16.1-24.4 53.3-2.6 82.4.6-20.7 5.5-41.8 13.8-61.5 12-27.4 37.3-74.9 39.3-112.7 1.1.8 4.6 3.2 6.2 4.1 4.6 2.7 8.1 6.7 12.6 10.3 12.4 10 28.5 9.2 42.4 1.2 6.2-3.5 11.2-7.5 15.9-9 9.9-3.1 17.8-8.6 22.3-15 7.7 30.4 25.7 74.3 37.2 95.7 6.1 11.4 18.3 35.5 23.6 64.6 3.3-.1 7 .4 10.9 1.4 13.8-35.7-11.7-74.2-23.3-84.9-4.7-4.6-4.9-6.6-2.6-6.5 12.6 11.2 29.2 33.7 35.2 59 2.8 11.6 3.3 23.7.4 35.7 16.4 6.8 35.9 17.9 30.7 34.8-2.2-.1-3.2 0-4.2 0 3.2-10.1-3.9-17.6-22.8-26.1-19.6-8.6-36-8.6-38.3 12.5-12.1 4.2-18.3 14.7-21.4 27.3-2.8 11.2-3.6 24.7-4.4 39.9-.5 7.7-3.6 18-6.8 29-32.1 22.9-76.7 32.9-114.3 7.2zm257.4-11.5c-.9 16.8-41.2 19.9-63.2 46.5-13.2 15.7-29.4 24.4-43.6 25.5s-26.5-4.8-33.7-19.3c-4.7-11.1-2.4-23.1 1.1-36.3 3.7-14.2 9.2-28.8 9.9-40.6.8-15.2 1.7-28.5 4.2-38.7 2.6-10.3 6.6-17.2 13.7-21.1.3-.2.7-.3 1-.5.8 13.2 7.3 26.6 18.8 29.5 12.6 3.3 30.7-7.5 38.4-16.3 9-.3 15.7-.9 22.6 5.1 9.9 8.5 7.1 30.3 17.1 41.6 10.6 11.6 14 19.5 13.7 24.6zM173.3 148.7c2 1.9 4.7 4.5 8 7.1 6.6 5.2 15.8 10.6 27.3 10.6 11.6 0 22.5-5.9 31.8-10.8 4.9-2.6 10.9-7 14.8-10.4s5.9-6.3 3.1-6.6-2.6 2.6-6 5.1c-4.4 3.2-9.7 7.4-13.9 9.8-7.4 4.2-19.5 10.2-29.9 10.2s-18.7-4.8-24.9-9.7c-3.1-2.5-5.7-5-7.7-6.9-1.5-1.4-1.9-4.6-4.3-4.9-1.4-.1-1.8 3.7 1.7 6.5z"/>'},t)}function wIe(){const t=pt();Tn(()=>t().sessions.fetch());const e=ke(()=>t().sessions.filter(n=>!n.current).sort((n,r)=>+r.createdAt-+n.createdAt));return u(Ae,{gap:"lg",get children(){return u(Me,{get fallback(){return u(Zr,{})},get children(){return u(Z,{get when(){return t().sessions.size()},get children(){return[u(kIe,{otherSessions:e}),u(SIe,{otherSessions:e})]}})}})}})}function kIe(t){const e=pt(),{openModal:n}=Ne(),r=()=>e().sessions.get(e().sessionId);return u(Kc,{get children(){return[u(Qg,{get title(){return u(k,{id:"/4K7+A"})},get description(){return r()?.name},get icon(){return u(Yq,{get session(){return r()}})},get children(){return u(Xe,{icon:"blank",action:"chevron",onClick:()=>r()&&n({type:"rename_session",session:r()}),get children(){return u(k,{id:"2wxgft"})}})}}),u(X,{get when(){return t.otherSessions().length},get children(){return u(Xe,{action:"chevron",onClick:()=>n({type:"sign_out_sessions",client:e()}),get icon(){return u(hw,ge(()=>at(24),{fill:"var(--md-sys-color-error)"}))},get description(){return u(k,{id:"G3nfo8"})},get children(){return u(k,{id:"3ZWPSn"})}})}})]}})}function SIe(t){const{openModal:e}=Ne();return u(X,{get when(){return t.otherSessions().length},get children(){return u(Ae,{get children(){return u(Kc,{get children(){return u(rt,{get each(){return t.otherSessions()},children:n=>u(Qg,{get icon(){return u(Yq,{session:n})},get title(){return u(xIe,{get children(){return n.name}})},get description(){return u(k,{id:"PchgXN",components:{0:u($r,{get value(){return n.createdAt},format:"relative"})}})},get children(){return[u(Xe,{icon:"blank",action:"chevron",onClick:()=>e({type:"rename_session",session:n}),get children(){return u(k,{id:"2wxgft"})}}),u(Xe,{icon:"blank",action:"chevron",onClick:()=>n.delete(),get children(){return u(k,{id:"paehRh"})}})]}})})}})}})}})}const xIe=H("div",{base:{textTransform:"capitalize"}});function Yq(t){return u(Me,{get fallback(){return u(Y9e,{size:22})},get children(){return[u(Z,{get when(){return/linux/i.test(t.session?.name??"")},get children(){return u(OIe,{size:22})}}),u(Z,{get when(){return/windows/i.test(t.session?.name??"")},get children(){return u($9e,{size:22})}}),u(Z,{get when(){return/android/i.test(t.session?.name??"")},get children(){return u(R9e,{size:22})}}),u(Z,{get when(){return/mac.*os|i(Pad)?os/i.test(t.session?.name??"")},get children(){return u(M9e,{size:22})}})]}})}function _Ie(){const t=pt(),{page:e,navigate:n}=za();return u(Fq,{onClick:()=>n("account"),get"aria-selected"(){return e()==="account"},get children(){return[u(En,{}),u(Bq,{get children(){return[u(zt,{size:36,get src(){return t().user.animatedAvatarURL}}),u(zq,{get children(){return[u(jr,{get class(){return An({class:"label",size:"small"})},get children(){return t().user.displayName}}),u(k,{id:"qhwV2C"})]}})]}})]}})}const Gq={Inter:{load:async()=>{}},"Open Sans":{load:async()=>{await R(()=>Promise.resolve({}),__vite__mapDeps([0])),await R(()=>Promise.resolve({}),__vite__mapDeps([1])),await R(()=>Promise.resolve({}),__vite__mapDeps([2])),await R(()=>Promise.resolve({}),__vite__mapDeps([3])),await R(()=>Promise.resolve({}),__vite__mapDeps([4])),await R(()=>Promise.resolve({}),__vite__mapDeps([5]))}},OpenDyslexic:{load:async()=>{await R(()=>Promise.resolve({}),__vite__mapDeps([6])),await R(()=>Promise.resolve({}),__vite__mapDeps([7])),await R(()=>Promise.resolve({}),__vite__mapDeps([8]))}},"Atkinson Hyperlegible":{load:async()=>{await R(()=>Promise.resolve({}),__vite__mapDeps([9])),await R(()=>Promise.resolve({}),__vite__mapDeps([10])),await R(()=>Promise.resolve({}),__vite__mapDeps([11]))}},Roboto:{load:async()=>{await R(()=>Promise.resolve({}),__vite__mapDeps([12])),await R(()=>Promise.resolve({}),__vite__mapDeps([13])),await R(()=>Promise.resolve({}),__vite__mapDeps([14]))}},"Noto Sans":{load:async()=>{await R(()=>Promise.resolve({}),__vite__mapDeps([15])),await R(()=>Promise.resolve({}),__vite__mapDeps([16])),await R(()=>Promise.resolve({}),__vite__mapDeps([17]))}},Bitter:{load:async()=>{await R(()=>Promise.resolve({}),__vite__mapDeps([18])),await R(()=>Promise.resolve({}),__vite__mapDeps([19])),await R(()=>Promise.resolve({}),__vite__mapDeps([20])),await R(()=>Promise.resolve({}),__vite__mapDeps([21]))}},Lato:{load:async()=>{await R(()=>Promise.resolve({}),__vite__mapDeps([22])),await R(()=>Promise.resolve({}),__vite__mapDeps([23])),await R(()=>Promise.resolve({}),__vite__mapDeps([24])),await R(()=>Promise.resolve({}),__vite__mapDeps([25]))}},Lexend:{load:async()=>{await R(()=>Promise.resolve({}),__vite__mapDeps([26])),await R(()=>Promise.resolve({}),__vite__mapDeps([27])),await R(()=>Promise.resolve({}),__vite__mapDeps([28]))}},Montserrat:{load:async()=>{await R(()=>Promise.resolve({}),__vite__mapDeps([29])),await R(()=>Promise.resolve({}),__vite__mapDeps([30])),await R(()=>Promise.resolve({}),__vite__mapDeps([31])),await R(()=>Promise.resolve({}),__vite__mapDeps([32])),await R(()=>Promise.resolve({}),__vite__mapDeps([33]))}},Poppins:{load:async()=>{await R(()=>Promise.resolve({}),__vite__mapDeps([34])),await R(()=>Promise.resolve({}),__vite__mapDeps([35])),await R(()=>Promise.resolve({}),__vite__mapDeps([36])),await R(()=>Promise.resolve({}),__vite__mapDeps([37])),await R(()=>Promise.resolve({}),__vite__mapDeps([38]))}},Raleway:{load:async()=>{await R(()=>Promise.resolve({}),__vite__mapDeps([39])),await R(()=>Promise.resolve({}),__vite__mapDeps([40])),await R(()=>Promise.resolve({}),__vite__mapDeps([41])),await R(()=>Promise.resolve({}),__vite__mapDeps([42])),await R(()=>Promise.resolve({}),__vite__mapDeps([43]))}},Ubuntu:{load:async()=>{await R(()=>Promise.resolve({}),__vite__mapDeps([44])),await R(()=>Promise.resolve({}),__vite__mapDeps([45])),await R(()=>Promise.resolve({}),__vite__mapDeps([46])),await R(()=>Promise.resolve({}),__vite__mapDeps([47])),await R(()=>Promise.resolve({}),__vite__mapDeps([48]))}},"Comic Neue":{load:async()=>{await R(()=>Promise.resolve({}),__vite__mapDeps([49])),await R(()=>Promise.resolve({}),__vite__mapDeps([50])),await R(()=>Promise.resolve({}),__vite__mapDeps([51])),await R(()=>Promise.resolve({}),__vite__mapDeps([52]))}},"IBM Plex Sans Variable":{load:async()=>{await R(()=>Promise.resolve({}),__vite__mapDeps([53]))}},"Plus Jakarta Sans Variable":{load:async()=>{await R(()=>Promise.resolve({}),__vite__mapDeps([54]))}}},Zq={"JetBrains Mono":{load:()=>{}},"Fira Code":{load:()=>R(()=>Promise.resolve({}),__vite__mapDeps([55]))},"Roboto Mono":{load:()=>R(()=>Promise.resolve({}),__vite__mapDeps([56]))},"Source Code Pro":{load:()=>R(()=>Promise.resolve({}),__vite__mapDeps([57]))},"Space Mono":{load:()=>R(()=>Promise.resolve({}),__vite__mapDeps([58]))},"Ubuntu Mono":{load:()=>R(()=>Promise.resolve({}),__vite__mapDeps([59]))},"IBM Plex Mono":{load:()=>R(()=>Promise.resolve({}),__vite__mapDeps([60]))}},CIe=Object.keys(Gq).sort(),EIe=Object.keys(Zq).sort();var TIe=I("<input type=color>"),DIe=I("<code>The quick brown fox jumped over the lazy dog");function AIe(){const t=ff(),e=Ht(),[n,r]=ve();return u(Ae,{gap:"lg",get children(){return[u(rR,{get children(){return u(Le,{children:"Welcome to the new appearance menu, custom themes are not available just yet but we are looking for feedback on how to best implement them!"})}}),u(Ae,{get children(){return[u(Le,{class:"title",size:"small",children:"Colours"}),u(kt,{justify:"stretch",get children(){return[u(ot,{group:"connected-start",get groupActive(){return e.theme.mode==="light"},onPress:()=>e.theme.setMode("light"),get children(){return u(k,{id:"1njn7W"})}}),u(ot,{group:"connected",get groupActive(){return e.theme.mode==="dark"},onPress:()=>e.theme.setMode("dark"),get children(){return u(k,{id:"pvnfJD"})}}),u(ot,{group:"connected-end",get groupActive(){return e.theme.mode==="system"},onPress:()=>e.theme.setMode("system"),get children(){return u(k,{id:"D+NlUC"})}})]}}),u(X,{get when(){return e.theme.preset==="you"},get children(){return[u(kt,{align:!0,justify:!0,get children(){return[u(On,{ref:r,variant:"filled",shape:"square",size:"md",onPress:()=>n()?.click(),get children(){return u(f6,{})}}),(()=>{var i=TIe();return i.$$input=s=>{const o=s.currentTarget.value;e.theme.setM3Accent(o)},Fe(r,i),i.style.setProperty("position","absolute"),i.style.setProperty("opacity","0"),i.style.setProperty("width","0px"),i.style.setProperty("height","0px"),i.style.setProperty("padding","0"),i.style.setProperty("border","none"),Te(()=>i.value=e.theme.m3Accent??"#ffffff"),i})(),u(rt,{each:["#FF5733","#ffdc2f","#9bf088","#54ecc1","#549bec","#5470ec","#8C5FD3"],children:i=>u(ot,{size:"md",bg:i,group:"standard",get groupActive(){return e.theme.m3Accent===i},onPress:()=>e.theme.setM3Accent(i)})})]}}),u(kt,{justify:"stretch",get children(){return[u(ot,{size:"xs",group:"connected-start",get groupActive(){return e.theme.m3Contrast.toFixed(1)==="-1.0"},onPress:()=>e.theme.setM3Contrast(-1),get children(){return u(k,{id:"b/KwEM"})}}),u(ot,{size:"xs",group:"connected",get groupActive(){return e.theme.m3Contrast.toFixed(1)==="0.0"},onPress:()=>e.theme.setM3Contrast(0),get children(){return u(k,{id:"CsekCi"})}}),u(ot,{size:"xs",group:"connected",get groupActive(){return e.theme.m3Contrast.toFixed(1)==="0.5"},onPress:()=>e.theme.setM3Contrast(.5),get children(){return u(k,{id:"wD0+LG"})}}),u(ot,{size:"xs",group:"connected-end",get groupActive(){return e.theme.m3Contrast.toFixed(1)==="1.0"},onPress:()=>e.theme.setM3Contrast(1),get children(){return u(k,{id:"zQK0ao"})}})]}}),u(kt,{justify:"stretch",get children(){return[u(ot,{size:"xs",group:"connected-start",get groupActive(){return e.theme.m3Variant==="monochrome"},onPress:()=>e.theme.setM3Variant("monochrome"),get children(){return u(k,{id:"VvdC4u"})}}),u(ot,{size:"xs",group:"connected",get groupActive(){return e.theme.m3Variant==="neutral"},onPress:()=>e.theme.setM3Variant("neutral"),get children(){return u(k,{id:"proQUv"})}}),u(ot,{size:"xs",group:"connected",get groupActive(){return e.theme.m3Variant==="tonal_spot"},onPress:()=>e.theme.setM3Variant("tonal_spot"),get children(){return u(k,{id:"hXtAtx"})}}),u(ot,{size:"xs",group:"connected-end",get groupActive(){return e.theme.m3Variant==="fruit_salad"},onPress:()=>e.theme.setM3Variant("fruit_salad"),get children(){return u(k,{id:"IC4qe8"})}})]}})]}})]}}),u(Ae,{get children(){return[u(Le,{class:"title",size:"small",get children(){return u(k,{id:"Hq0bRw"})}}),u(pr,{get checked(){return e.theme.blur},get onChange(){return e.theme.toggleBlur},get children(){return u(k,{id:"ojptRu"})}}),u(RIe,{get children(){return u(rR,{get children(){return[u(cO,{get avatar(){return u(zt,{size:36,get src(){return t()?.animatedAvatarURL},get fallback(){return t()?.displayName}})},timestamp:new Date,get username(){return t()?.displayName},isLink:"hide",children:"Sphinx of black quartz, judge my vow"}),u(cO,{get avatar(){return u(zt,{size:36,fallback:"M"})},timestamp:new Date,username:"MysticPixie",isLink:"hide",get children(){var i=DIe();return Te(()=>ut(i,hn({fontFamily:"var(--fonts-monospace)"}))),i}})]}})}}),u(Le,{class:"label",get children(){return u(k,{id:"DgDwdJ"})}}),u(tO,{min:12,max:24,get value(){return e.theme.messageSize},onInput:i=>e.theme.messageSize=i.currentTarget.value})]}}),u(Le,{class:"label",get children(){return u(k,{id:"qBQAYq"})}}),u(tO,{min:0,max:16,get value(){return e.theme.messageGroupSpacing},onInput:i=>e.theme.messageGroupSpacing=i.currentTarget.value}),u(Le,{class:"label",get children(){return u(k,{id:"QRuWK2"})}}),u(es.Select,{title:"Interface Font",get value(){return e.theme.interfaceFont},onChange:i=>e.theme.setInterfaceFont(i.currentTarget.value),get children(){return u(rt,{each:CIe,children:i=>u(Co,{value:i,children:i})})}}),u(Le,{class:"label",get children(){return u(k,{id:"JPDHTs"})}}),u(es.Select,{title:"Monospace Font",get value(){return e.theme.monospaceFont},onChange:i=>e.theme.setMonospaceFont(i.currentTarget.value),get children(){return u(rt,{each:EIe,children:i=>u(Co,{value:i,children:i})})}}),u(Ae,{get children(){return[u(Le,{class:"title",size:"small",get children(){return u(k,{id:"W7oIej"})}}),u(pr,{get checked(){return e.settings.getValue("appearance:show_send_button")},onChange:i=>e.settings.setValue("appearance:show_send_button",i.currentTarget.checked),get children(){return u(k,{id:"xuqzv2"})}}),u(Le,{class:"label",get children(){return u(k,{id:"4ri7rI"})}}),u(es.Select,{get value(){return e.settings.getValue("appearance:unicode_emoji")},onChange:i=>e.settings.setValue("appearance:unicode_emoji",i.currentTarget.value),get children(){return u(rt,{each:$j,children:i=>u(PIe,{pack:i})})}})]}})]}})}function PIe(t){return u(Co,{get value(){return t.pack},get children(){return u(kt,{get children(){return[u(va,{emoji:"",get pack(){return t.pack}}),u(va,{emoji:"",get pack(){return t.pack}}),u(va,{emoji:"",get pack(){return t.pack}}),u(va,{emoji:"",get pack(){return t.pack}}),u(va,{emoji:"",get pack(){return t.pack}}),u(Me,{get children(){return[u(Z,{get when(){return t.pack==="fluent-3d"},children:"Fluent 3D"}),u(Z,{get when(){return t.pack==="fluent-color"},children:"Fluent Color"}),u(Z,{get when(){return t.pack==="fluent-flat"},children:"Fluent Flat"}),u(Z,{get when(){return t.pack==="mutant"},children:"Mutant Remix"}),u(Z,{get when(){return t.pack==="noto"},children:"Noto"}),u(Z,{get when(){return t.pack==="openmoji"},children:"OpenMoji"}),u(Z,{get when(){return t.pack==="twemoji"},children:"Twemoji"})]}})]}})}})}const RIe=H("div",{base:{height:"126px",overflow:"hidden",borderRadius:"var(--borderRadius-lg)",background:"var(--md-sys-color-surface-container-highest)"}}),rR=H("div",{base:{display:"flex",flexDirection:"column",padding:"var(--gap-md)",gap:"var(--message-group-spacing)"}});Tr(["input"]);var MIe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m0 14H8V4h12zM10 9h8v2h-8zm0 3h4v2h-4zm0-6h8v2h-8z">');const IIe=(t={})=>(()=>{var e=MIe();return Se(e,t,!0,!0),e})();function $Ie(){return u(Ae,{gap:"lg",get children(){return[u(LIe,{}),u(NIe,{})]}})}function LIe(){const t=pt(),{openModal:e}=Ne(),{navigate:n}=za();return u(Kc,{get children(){return[u(Xe,{action:"chevron",get icon(){return u(jq,ge(()=>at(22)))},onClick:()=>e({type:"create_bot",client:t(),onCreate(r){n(`bots/${r.id}`)}}),get description(){return u(k,{id:"lz6ngN"})},get children(){return u(k,{id:"O4tIqG"})}}),u(Xe,{action:"external",get icon(){return u(IIe,ge(()=>at(22)))},onClick:()=>window.open("https://developers.stoat.chat","_blank"),get description(){return u(k,{id:"3ZJgwc"})},get children(){return u(k,{id:"RFMfX/"})}})]}})}function NIe(){const{navigate:t}=za(),e=EMe();return u(bZ,{fallback:"Failed to load bots...",get children(){return u(Ev,{get fallback(){return u(Zr,{})},get children(){return u(Kc,{get children(){return u(rt,{get each(){return e.data},children:n=>u(Xe,{get icon(){return u(zt,{get src(){return n.user.animatedAvatarURL},size:24,get fallback(){return n.user.displayName}})},onClick:()=>t(`bots/${n.id}`),action:"chevron",get children(){return n.user.displayName}})})}})}})}})}var FIe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M21 10h-8.35A5.99 5.99 0 0 0 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6a5.99 5.99 0 0 0 5.65-4H13l2 2 2-2 2 2 4-4.04zM7 15c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3">');const BIe=(t={})=>(()=>{var e=FIe();return Se(e,t,!0,!0),e})();var zIe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 8c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4m-6 4c.22-.72 3.31-2 6-2 2.7 0 5.8 1.29 6 2zm-3-3v-3h3v-2H6V7H4v3H1v2h3v3z">');const g6=(t={})=>(()=>{var e=zIe();return Se(e,t,!0,!0),e})();var QIe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2M4 12c0-.61.08-1.21.21-1.78L8.99 15v1c0 1.1.9 2 2 2v1.93C7.06 19.43 4 16.07 4 12m13.89 5.4c-.26-.81-1-1.4-1.9-1.4h-1v-3c0-.55-.45-1-1-1h-6v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41C17.92 5.77 20 8.65 20 12c0 2.08-.81 3.98-2.11 5.4">');const UIe=(t={})=>(()=>{var e=QIe();return Se(e,t,!0,!0),e})();var VIe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="m21 7-9-5-9 5v10l9 5 9-5zm-9-2.71 5.91 3.28-3.01 1.67C14.17 8.48 13.14 8 12 8s-2.17.48-2.9 1.24L6.09 7.57zm-1 14.87-6-3.33V9.26L8.13 11c-.09.31-.13.65-.13 1 0 1.86 1.27 3.43 3 3.87zM10 12c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2m3 7.16v-3.28c1.73-.44 3-2.01 3-3.87 0-.35-.04-.69-.13-1.01L19 9.26v6.57z">');const jIe=(t={})=>(()=>{var e=VIe();return Se(e,t,!0,!0),e})();var qIe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M20 7h-5V4c0-1.1-.9-2-2-2h-2c-1.1 0-2 .9-2 2v3H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2M9 12c.83 0 1.5.67 1.5 1.5S9.83 15 9 15s-1.5-.67-1.5-1.5S8.17 12 9 12m3 6H6v-.75c0-1 2-1.5 3-1.5s3 .5 3 1.5zm1-9h-2V4h2zm5 7.5h-4V15h4zm0-3h-4V12h4z">');const HIe=(t={})=>(()=>{var e=qIe();return Se(e,t,!0,!0),e})();var WIe=I("<form>");function Kq(t){const{_:e}=Dt(),n=pt(),r=Tv(),i=Ho(()=>({queryKey:["profile",t.user.id],queryFn:()=>t.user.fetchProfile(),refetchOnReconnect:!1,refetchOnWindowFocus:!1})),{navigate:s}=za(),o=Hn({displayName:Lt(t.user.displayName),avatar:Lt(t.user.animatedAvatarURL),banner:Lt(null),bio:Lt("")}),[a,l]=ve();dt(Zt(()=>i.data,f=>{f&&(o.controls.banner.setValue(f.animatedBannerURL||null),o.controls.bio.setValue(f.content||""),l([f.content||""]))}));function c(){o.controls.displayName.setValue(t.user.displayName),o.controls.avatar.setValue(t.user.animatedAvatarURL),i.data&&(o.controls.banner.setValue(i.data.animatedBannerURL||null),o.controls.bio.setValue(i.data.content||""),l([i.data.content||""]))}async function d(){const f={remove:[]};o.controls.displayName.isDirty&&(f.display_name=o.controls.displayName.value.trim()),o.controls.avatar.isDirty&&(o.controls.avatar.value?Array.isArray(o.controls.avatar.value)&&(f.avatar=await n().uploadFile("avatars",o.controls.avatar.value[0],Qn.DEFAULT_MEDIA_URL)):f.remove.push("Avatar")),o.controls.bio.isDirty&&(o.controls.bio.value?(f.profile??={},f.profile.content=o.controls.bio.value):f.remove.push("ProfileContent"));let m=null;o.controls.banner.isDirty&&(o.controls.banner.value?Array.isArray(o.controls.banner.value)?(f.profile??={},f.profile.background=await n().uploadFile("backgrounds",o.controls.banner.value[0],Qn.DEFAULT_MEDIA_URL),m=`${Qn.DEFAULT_MEDIA_URL}/backgrounds/${f.profile.background}`):m=o.controls.banner.value:f.remove.push("ProfileBackground")),await t.user.edit(f),o.controls.banner.isDirty&&i.data&&r.setQueryData(["profile",t.user.id],{...i.data,animatedBannerURL:m,bannerURL:m})}const h=Pe.useSubmitHandler(o,d,c);return(()=>{var f=WIe();return Dn(f,"submit",h),V(f,u(Ae,{get children(){return[u(Pe.FileInput,{get control(){return o.controls.avatar},accept:"image/*",get label(){return e({id:"kfcRb0"})},imageJustify:!1}),u(Pe.FileInput,{get control(){return o.controls.banner},accept:"image/*",get label(){return e({id:"KSSL9f"})},imageAspect:"232/100",imageRounded:!1,imageJustify:!1}),u(Pe.TextField,{name:"displayName",get control(){return o.controls.displayName},get label(){return e({id:"0gS7M5"})}}),u(X,{get when(){return!t.user.bot},get children(){return u(Xe,{get icon(){return u(HIe,{})},action:"chevron",get description(){return u(k,{id:"nsca6t"})},onClick:()=>s("account"),get children(){return u(k,{id:"vniHOS"})}})}}),u(Le,{class:"label",get children(){return u(k,{id:"MD2O7X"})}}),u(Pe.TextEditor,{get initialValue(){return a()},get control(){return o.controls.bio},get placeholder(){return e({id:"1QyHvD"})}}),u(kt,{get children(){return[u(Pe.Reset,{group:o,onReset:c}),u(Pe.Submit,{group:o,requireDirty:!0,get children(){return u(k,{id:"tfDRzk"})}}),u(X,{get when(){return o.isPending},get children(){return u(Zr,{})}})]}})]}})),f})()}function XIe(t){const e=Wq(t.bot.user),{openModal:n}=Ne();return u(Ae,{gap:"lg",get children(){return[u(m6,{get user(){return t.bot.user},showBadges:!0,get bannerUrl(){return e.data?.animatedBannerURL}}),u(Kq,{get user(){return t.bot.user}}),u(Xe.Group,{get children(){return[u(Xe,{get description(){return u(k,{id:"/FwtWh"})},get icon(){return u(jIe,ge(()=>at(22)))},action:"chevron",onClick:()=>n({type:"reset_bot_token",bot:t.bot}),get children(){return u(k,{id:"9PqD/J"})}}),u(Xe,{get description(){return u(k,{id:"Ihqqm5"})},get icon(){return u(UIe,ge(()=>at(22)))},action:"chevron",get children(){return u(k,{id:"m0CPQM"})}})]}}),u(Xe.Group,{get children(){return[u(Xe,{get icon(){return u(g6,ge(()=>at(22)))},action:"chevron",onClick:()=>n({type:"add_bot",invite:t.bot.publicBot}),get children(){return u(k,{id:"aEnPeu"})}}),u(Xe,{get icon(){return u(pq,ge(()=>at(22)))},action:"copy",onClick:()=>navigator.clipboard.writeText(new URL(`/bot/${t.bot.id}`,window.origin).toString()),get children(){return u(k,{id:"DUHw+c"})}}),u(Xe,{get icon(){return u(t1,ge(()=>at(22)))},action:"copy",onClick:()=>navigator.clipboard.writeText(t.bot.id),get children(){return u(k,{id:"S3bIKF"})}}),u(Xe,{get icon(){return u(BIe,ge(()=>at(22)))},action:"copy",onClick:()=>navigator.clipboard.writeText(t.bot.token),get children(){return u(k,{id:"IW5PBo"})}})]}})]}})}var YIe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M4 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m1.13 1.1c-.37-.06-.74-.1-1.13-.1-.99 0-1.93.21-2.78.58A2.01 2.01 0 0 0 0 16.43V18h4.5v-1.61c0-.83.23-1.61.63-2.29M20 13c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m4 3.43c0-.81-.48-1.53-1.22-1.85A6.95 6.95 0 0 0 20 14c-.39 0-.76.04-1.13.1.4.68.63 1.46.63 2.29V18H24zm-7.76-2.78c-1.17-.52-2.61-.9-4.24-.9s-3.07.39-4.24.9A2.99 2.99 0 0 0 6 16.39V18h12v-1.61c0-1.18-.68-2.26-1.76-2.74M8.07 16c.09-.23.13-.39.91-.69.97-.38 1.99-.56 3.02-.56s2.05.18 3.02.56c.77.3.81.46.91.69zM12 8c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m0-2c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3">');const GIe=(t={})=>(()=>{var e=YIe();return Se(e,t,!0,!0),e})();function ZIe(){const t=pt(),{openModal:e}=Ne(),n=Xq();return u(Ae,{gap:"lg",get children(){return[u(m6,{get user(){return t().user},get bannerUrl(){return n.data?.animatedBannerURL}}),u(Xe.Group,{get children(){return u(Xe.Collapse,{get icon(){return u(GIe,ge(()=>at(22)))},get title(){return u(k,{id:"nwzesb"})},get description(){return u(k,{id:"06wLxz"})},scrollable:!0,get children(){return u(rt,{get each(){return t().servers.toList()},children:r=>u(Xe,{get icon(){return u(zt,{get src(){return r.animatedIconURL},size:24,get fallback(){return r.name}})},onClick:()=>e({type:"server_identity",member:r.member}),get children(){return r.name}})})}})}}),u(Ae,{get children(){return[u(Le,{class:"title",size:"large",get children(){return u(k,{id:"ryNfOF"})}}),u(Kq,{get user(){return t().user}})]}})]}})}var KIe=I("<div>"),p6=yr(null),Jq=(t,e)=>{if(!t)throw new Error(`Could not find Elements context; You need to wrap the part of your app that ${e} in an <Elements> provider.`);return t},JIe=t=>{const[e,n]=ve(null);Ji(()=>{if(t.stripe&&!e()){const s=t.stripe.elements(t.options);n(s)}}),dt(Zt(()=>{const{clientSecret:s,fonts:o,...a}=t.options??{};return a},s=>{e()?.update(s)},{defer:!0}));const i={stripe:()=>t.stripe||null,elements:e};return u(p6.Provider,{value:i,get children(){return t.children}})},e$e=t=>{const e=Nn(p6);return Jq(e,t)};function t$e(){const{elements:t}=e$e("calls useElements()");return t}var n$e=yr(null),r$e=(t,e)=>{if(!t)throw new Error(`Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ${e} in an <CustomCheckoutProvider> provider.`);return t};function eH(t){const e=Nn(n$e),n=Nn(p6);if(e&&n)throw new Error(`You cannot wrap the part of your app that ${t} in both <CustomCheckoutProvider> and <Elements> providers.`);return e?r$e(e,t):Jq(n,t)}var i$e=t=>t.charAt(0).toUpperCase()+t.slice(1),ki=({type:t})=>{const e=`${i$e(t)}Element`,n=r=>{const i=eH(`mounts <${e}>`),s="elements"in i?i.elements:null,o="customCheckoutSdk"in i?i.customCheckoutSdk:null,[a,l]=ve(null),[c,d]=ve(null);Ji(()=>{if(a()===null&&c()!==null&&(s?.()||o?.())){let f=null;o?.()?f=o().createElement(t,r.options):s?.()&&(f=s().create(t,r.options)),l(f),f&&f.mount(c())}}),dt(Zt(()=>r.options,f=>{!a()||!f||a().update(f)},{defer:!0})),wo(a,"blur",r.onBlur),wo(a,"focus",r.onFocus),wo(a,"escape",r.onEscape),wo(a,"click",r.onClick),wo(a,"loaderror",r.onLoadError),wo(a,"loaderstart",r.onLoaderStart),wo(a,"networkschange",r.onNetworksChange),wo(a,"confirm",r.onConfirm),wo(a,"cancel",r.onCancel),wo(a,"shippingaddresschange",r.onShippingAddressChange),wo(a,"shippingratechange",r.onShippingRateChange),wo(a,"change",r.onChange);let h;return r.onReady&&(t==="expressCheckout"?h=r.onReady:h=()=>{r.onReady?.(a())}),wo(a,"ready",h),wt(()=>{typeof a()?.destroy=="function"&&a().destroy()}),(()=>{var f=KIe();return Fe(d,f),Te(m=>{var g=r.id,p=r.class;return g!==m.e&&$t(f,"id",m.e=g),p!==m.t&&ut(f,m.t=p),m},{e:void 0,t:void 0}),f})()};return n.__elementType=t,n},wo=(t,e,n)=>{dt(()=>{!t()||!n||(t().on(e,n),wt(()=>{t().off(e,n)}))})};function s$e(){const{stripe:t}=eH("calls useStripe()");return t}ki({type:"auBankAccount"});ki({type:"card"});ki({type:"cardNumber"});ki({type:"cardExpiry"});ki({type:"cardCvc"});ki({type:"fpxBank"});ki({type:"iban"});ki({type:"idealBank"});ki({type:"p24Bank"});ki({type:"epsBank"});var o$e=ki({type:"payment"});ki({type:"expressCheckout"});ki({type:"paymentRequestButton"});ki({type:"linkAuthentication"});ki({type:"address"});ki({type:"shippingAddress"});ki({type:"paymentMethodMessaging"});ki({type:"affirmMessage"});ki({type:"afterpayClearpayMessage"});function ey(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ey=function(e){return typeof e}:ey=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ey(t)}var tH="basil",a$e=function(e){return e===3?"v3":e},nH="https://js.stripe.com",l$e="".concat(nH,"/").concat(tH,"/stripe.js"),c$e=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,u$e=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,iR="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",d$e=function(e){return c$e.test(e)||u$e.test(e)},h$e=function(){for(var e=document.querySelectorAll('script[src^="'.concat(nH,'"]')),n=0;n<e.length;n++){var r=e[n];if(d$e(r.src))return r}return null},sR=function(e){var n=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(l$e).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},f$e=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.3.1",startTime:n})},fp=null,cb=null,ub=null,m$e=function(e){return function(n){e(new Error("Failed to load Stripe.js",{cause:n}))}},g$e=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},p$e=function(e){return fp!==null?fp:(fp=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&e&&console.warn(iR),window.Stripe){n(window.Stripe);return}try{var i=h$e();if(i&&e)console.warn(iR);else if(!i)i=sR(e);else if(i&&ub!==null&&cb!==null){var s;i.removeEventListener("load",ub),i.removeEventListener("error",cb),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=sR(e)}ub=g$e(n,r),cb=m$e(r),i.addEventListener("load",ub),i.addEventListener("error",cb)}catch(o){r(o);return}}),fp.catch(function(n){return fp=null,Promise.reject(n)}))},v$e=function(e,n,r){if(e===null)return null;var i=n[0],s=i.match(/^pk_test/),o=a$e(e.version),a=tH;s&&o!==a&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("7.3.1"," expected Stripe.js@").concat(a,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var l=e.apply(void 0,n);return f$e(l,r),l},oR=function(e){var n=`invalid load parameters; expected object of shape

    {advancedFraudSignals: boolean}

but received

    `.concat(JSON.stringify(e),`
`);if(e===null||ey(e)!=="object")throw new Error(n);if(Object.keys(e).length===1&&typeof e.advancedFraudSignals=="boolean")return e;throw new Error(n)},ty,k_=!1,rH=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];k_=!0;var i=Date.now();return p$e(ty).then(function(s){return v$e(s,n,i)})};rH.setLoadParameters=function(t){if(k_&&ty){var e=oR(t),n=Object.keys(e),r=n.reduce(function(i,s){var o;return i&&t[s]===((o=ty)===null||o===void 0?void 0:o[s])},!0);if(r)return}if(k_)throw new Error("You cannot change load parameters after calling loadStripe");ty=oR(t)};var b$e=I("<form><button type=submit>Pay");function y$e(){const t=s$e(),e=t$e();return(()=>{var n=b$e(),r=n.firstChild;return V(n,u(o$e,{}),r),Te(()=>r.disabled=!t()||!e()),n})()}function O$e(t){const[e,n]=ve(null);Tn(async()=>{const i=await rH("pk_test_51QeG4NQS9UmC2GH3zIQp8F8hpOtSiq1Cix94Xjf0giCm6MW5qj0Wtdf4RY5HpvtG2Z8CmlR1W5ELLAqjSxgZjTAn00899Z6cfd");n(i)});const r=window.getComputedStyle(document.body);return u(JIe,{get stripe(){return e()},get options(){return{mode:"payment",amount:1099,currency:"gbp",appearance:{variables:{colorPrimary:r.getPropertyValue("--md-sys-color-tertiary"),colorText:r.getPropertyValue("--md-sys-color-on-surface"),colorBackground:r.getPropertyValue("--md-sys-color-surface"),colorDanger:r.getPropertyValue("--md-sys-color-error")}}}},get children(){return t.children}})}function w$e(){return u(O$e,{get children(){return u(y$e,{})}})}var aR={};function k$e(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}var S$e=Object.defineProperty,x$e=(t,e,n)=>e in t?S$e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lR=(t,e,n)=>x$e(t,typeof e!="symbol"?e+"":e,n);let lo=class{constructor(){lR(this,"_locking"),lR(this,"_locks"),this._locking=Promise.resolve(),this._locks=0}isLocked(){return this._locks>0}lock(){this._locks+=1;let e;const n=new Promise(i=>e=()=>{this._locks-=1,i()}),r=this._locking.then(()=>e);return this._locking=this._locking.then(()=>n),r}};function Qr(t,e){if(!t)throw new Error(e)}const _$e=34028234663852886e22,C$e=-34028234663852886e22,E$e=4294967295,T$e=2147483647,D$e=-2147483648;function ny(t){if(typeof t!="number")throw new Error("invalid int 32: "+typeof t);if(!Number.isInteger(t)||t>T$e||t<D$e)throw new Error("invalid int 32: "+t)}function S_(t){if(typeof t!="number")throw new Error("invalid uint 32: "+typeof t);if(!Number.isInteger(t)||t>E$e||t<0)throw new Error("invalid uint 32: "+t)}function iH(t){if(typeof t!="number")throw new Error("invalid float 32: "+typeof t);if(Number.isFinite(t)&&(t>_$e||t<C$e))throw new Error("invalid float 32: "+t)}const sH=Symbol("@bufbuild/protobuf/enum-type");function A$e(t){const e=t[sH];return Qr(e,"missing enum type on enum object"),e}function oH(t,e,n,r){t[sH]=aH(e,n.map(i=>({no:i.no,name:i.name,localName:t[i.no]})))}function aH(t,e,n){const r=Object.create(null),i=Object.create(null),s=[];for(const o of e){const a=lH(o);s.push(a),r[o.name]=a,i[o.no]=a}return{typeName:t,values:s,findName(o){return r[o]},findNumber(o){return i[o]}}}function P$e(t,e,n){const r={};for(const i of e){const s=lH(i);r[s.localName]=s.no,r[s.no]=s.localName}return oH(r,t,e),r}function lH(t){return"localName"in t?t:Object.assign(Object.assign({},t),{localName:t.name})}class v6{equals(e){return this.getType().runtime.util.equals(this.getType(),this,e)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(e,n){const r=this.getType(),i=r.runtime.bin,s=i.makeReadOptions(n);return i.readMessage(this,s.readerFactory(e),e.byteLength,s),this}fromJson(e,n){const r=this.getType(),i=r.runtime.json,s=i.makeReadOptions(n);return i.readMessage(r,e,s,this),this}fromJsonString(e,n){let r;try{r=JSON.parse(e)}catch(i){throw new Error("cannot decode ".concat(this.getType().typeName," from JSON: ").concat(i instanceof Error?i.message:String(i)))}return this.fromJson(r,n)}toBinary(e){const n=this.getType(),r=n.runtime.bin,i=r.makeWriteOptions(e),s=i.writerFactory();return r.writeMessage(this,s,i),s.finish()}toJson(e){const n=this.getType(),r=n.runtime.json,i=r.makeWriteOptions(e);return r.writeMessage(this,i)}toJsonString(e){var n;const r=this.toJson(e);return JSON.stringify(r,null,(n=e?.prettySpaces)!==null&&n!==void 0?n:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}}function R$e(t,e,n,r){var i;const s=(i=r?.localName)!==null&&i!==void 0?i:e.substring(e.lastIndexOf(".")+1),o={[s]:function(a){t.util.initFields(this),t.util.initPartial(a,this)}}[s];return Object.setPrototypeOf(o.prototype,new v6),Object.assign(o,{runtime:t,typeName:e,fields:t.util.newFieldList(n),fromBinary(a,l){return new o().fromBinary(a,l)},fromJson(a,l){return new o().fromJson(a,l)},fromJsonString(a,l){return new o().fromJsonString(a,l)},equals(a,l){return t.util.equals(o,a,l)}}),o}function M$e(){let t=0,e=0;for(let r=0;r<28;r+=7){let i=this.buf[this.pos++];if(t|=(i&127)<<r,!(i&128))return this.assertBounds(),[t,e]}let n=this.buf[this.pos++];if(t|=(n&15)<<28,e=(n&112)>>4,!(n&128))return this.assertBounds(),[t,e];for(let r=3;r<=31;r+=7){let i=this.buf[this.pos++];if(e|=(i&127)<<r,!(i&128))return this.assertBounds(),[t,e]}throw new Error("invalid varint")}function ZS(t,e,n){for(let s=0;s<28;s=s+7){const o=t>>>s,a=!(!(o>>>7)&&e==0),l=(a?o|128:o)&255;if(n.push(l),!a)return}const r=t>>>28&15|(e&7)<<4,i=!!(e>>3);if(n.push((i?r|128:r)&255),!!i){for(let s=3;s<31;s=s+7){const o=e>>>s,a=!!(o>>>7),l=(a?o|128:o)&255;if(n.push(l),!a)return}n.push(e>>>31&1)}}const ry=4294967296;function cR(t){const e=t[0]==="-";e&&(t=t.slice(1));const n=1e6;let r=0,i=0;function s(o,a){const l=Number(t.slice(o,a));i*=n,r=r*n+l,r>=ry&&(i=i+(r/ry|0),r=r%ry)}return s(-24,-18),s(-18,-12),s(-12,-6),s(-6),e?uH(r,i):b6(r,i)}function I$e(t,e){let n=b6(t,e);const r=n.hi&2147483648;r&&(n=uH(n.lo,n.hi));const i=cH(n.lo,n.hi);return r?"-"+i:i}function cH(t,e){if({lo:t,hi:e}=$$e(t,e),e<=2097151)return String(ry*e+t);const n=t&16777215,r=(t>>>24|e<<8)&16777215,i=e>>16&65535;let s=n+r*6777216+i*6710656,o=r+i*8147497,a=i*2;const l=1e7;return s>=l&&(o+=Math.floor(s/l),s%=l),o>=l&&(a+=Math.floor(o/l),o%=l),a.toString()+uR(o)+uR(s)}function $$e(t,e){return{lo:t>>>0,hi:e>>>0}}function b6(t,e){return{lo:t|0,hi:e|0}}function uH(t,e){return e=~e,t?t=~t+1:e+=1,b6(t,e)}const uR=t=>{const e=String(t);return"0000000".slice(e.length)+e};function dR(t,e){if(t>=0){for(;t>127;)e.push(t&127|128),t=t>>>7;e.push(t)}else{for(let n=0;n<9;n++)e.push(t&127|128),t=t>>7;e.push(1)}}function L$e(){let t=this.buf[this.pos++],e=t&127;if(!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<7,!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<14,!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<21,!(t&128))return this.assertBounds(),e;t=this.buf[this.pos++],e|=(t&15)<<28;for(let n=5;t&128&&n<10;n++)t=this.buf[this.pos++];if(t&128)throw new Error("invalid varint");return this.assertBounds(),e>>>0}function N$e(){const t=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof t.getBigInt64=="function"&&typeof t.getBigUint64=="function"&&typeof t.setBigInt64=="function"&&typeof t.setBigUint64=="function"&&(typeof process!="object"||typeof aR!="object"||aR.BUF_BIGINT_DISABLE!=="1")){const i=BigInt("-9223372036854775808"),s=BigInt("9223372036854775807"),o=BigInt("0"),a=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(l){const c=typeof l=="bigint"?l:BigInt(l);if(c>s||c<i)throw new Error("int64 invalid: ".concat(l));return c},uParse(l){const c=typeof l=="bigint"?l:BigInt(l);if(c>a||c<o)throw new Error("uint64 invalid: ".concat(l));return c},enc(l){return t.setBigInt64(0,this.parse(l),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},uEnc(l){return t.setBigInt64(0,this.uParse(l),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},dec(l,c){return t.setInt32(0,l,!0),t.setInt32(4,c,!0),t.getBigInt64(0,!0)},uDec(l,c){return t.setInt32(0,l,!0),t.setInt32(4,c,!0),t.getBigUint64(0,!0)}}}const n=i=>Qr(/^-?[0-9]+$/.test(i),"int64 invalid: ".concat(i)),r=i=>Qr(/^[0-9]+$/.test(i),"uint64 invalid: ".concat(i));return{zero:"0",supported:!1,parse(i){return typeof i!="string"&&(i=i.toString()),n(i),i},uParse(i){return typeof i!="string"&&(i=i.toString()),r(i),i},enc(i){return typeof i!="string"&&(i=i.toString()),n(i),cR(i)},uEnc(i){return typeof i!="string"&&(i=i.toString()),r(i),cR(i)},dec(i,s){return I$e(i,s)},uDec(i,s){return cH(i,s)}}}const Cr=N$e();var Ie;(function(t){t[t.DOUBLE=1]="DOUBLE",t[t.FLOAT=2]="FLOAT",t[t.INT64=3]="INT64",t[t.UINT64=4]="UINT64",t[t.INT32=5]="INT32",t[t.FIXED64=6]="FIXED64",t[t.FIXED32=7]="FIXED32",t[t.BOOL=8]="BOOL",t[t.STRING=9]="STRING",t[t.BYTES=12]="BYTES",t[t.UINT32=13]="UINT32",t[t.SFIXED32=15]="SFIXED32",t[t.SFIXED64=16]="SFIXED64",t[t.SINT32=17]="SINT32",t[t.SINT64=18]="SINT64"})(Ie||(Ie={}));var kd;(function(t){t[t.BIGINT=0]="BIGINT",t[t.STRING=1]="STRING"})(kd||(kd={}));function Pu(t,e,n){if(e===n)return!0;if(t==Ie.BYTES){if(!(e instanceof Uint8Array)||!(n instanceof Uint8Array)||e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==n[r])return!1;return!0}switch(t){case Ie.UINT64:case Ie.FIXED64:case Ie.INT64:case Ie.SFIXED64:case Ie.SINT64:return e==n}return!1}function ug(t,e){switch(t){case Ie.BOOL:return!1;case Ie.UINT64:case Ie.FIXED64:case Ie.INT64:case Ie.SFIXED64:case Ie.SINT64:return e==0?Cr.zero:"0";case Ie.DOUBLE:case Ie.FLOAT:return 0;case Ie.BYTES:return new Uint8Array(0);case Ie.STRING:return"";default:return 0}}function dH(t,e){switch(t){case Ie.BOOL:return e===!1;case Ie.STRING:return e==="";case Ie.BYTES:return e instanceof Uint8Array&&!e.byteLength;default:return e==0}}var Xr;(function(t){t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32"})(Xr||(Xr={}));class F$e{constructor(e){this.stack=[],this.textEncoder=e??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let i=0;i<this.chunks.length;i++)e+=this.chunks[i].length;let n=new Uint8Array(e),r=0;for(let i=0;i<this.chunks.length;i++)n.set(this.chunks[i],r),r+=this.chunks[i].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,n){return this.uint32((e<<3|n)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(S_(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return ny(e),dR(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let n=this.textEncoder.encode(e);return this.uint32(n.byteLength),this.raw(n)}float(e){iH(e);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,e,!0),this.raw(n)}double(e){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,e,!0),this.raw(n)}fixed32(e){S_(e);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e,!0),this.raw(n)}sfixed32(e){ny(e);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,e,!0),this.raw(n)}sint32(e){return ny(e),e=(e<<1^e>>31)>>>0,dR(e,this.buf),this}sfixed64(e){let n=new Uint8Array(8),r=new DataView(n.buffer),i=Cr.enc(e);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(n)}fixed64(e){let n=new Uint8Array(8),r=new DataView(n.buffer),i=Cr.uEnc(e);return r.setInt32(0,i.lo,!0),r.setInt32(4,i.hi,!0),this.raw(n)}int64(e){let n=Cr.enc(e);return ZS(n.lo,n.hi,this.buf),this}sint64(e){let n=Cr.enc(e),r=n.hi>>31,i=n.lo<<1^r,s=(n.hi<<1|n.lo>>>31)^r;return ZS(i,s,this.buf),this}uint64(e){let n=Cr.uEnc(e);return ZS(n.lo,n.hi,this.buf),this}}class B$e{constructor(e,n){this.varint64=M$e,this.uint32=L$e,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=n??new TextDecoder}tag(){let e=this.uint32(),n=e>>>3,r=e&7;if(n<=0||r<0||r>5)throw new Error("illegal tag: field no "+n+" wire type "+r);return[n,r]}skip(e,n){let r=this.pos;switch(e){case Xr.Varint:for(;this.buf[this.pos++]&128;);break;case Xr.Bit64:this.pos+=4;case Xr.Bit32:this.pos+=4;break;case Xr.LengthDelimited:let i=this.uint32();this.pos+=i;break;case Xr.StartGroup:for(;;){const[s,o]=this.tag();if(o===Xr.EndGroup){if(n!==void 0&&s!==n)throw new Error("invalid end group tag");break}this.skip(o,s)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(r,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return Cr.dec(...this.varint64())}uint64(){return Cr.uDec(...this.varint64())}sint64(){let[e,n]=this.varint64(),r=-(e&1);return e=(e>>>1|(n&1)<<31)^r,n=n>>>1^r,Cr.dec(e,n)}bool(){let[e,n]=this.varint64();return e!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Cr.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Cr.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),n=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(n,n+e)}string(){return this.textDecoder.decode(this.bytes())}}function z$e(t,e,n,r){let i;return{typeName:e,extendee:n,get field(){if(!i){const s=typeof r=="function"?r():r;s.name=e.split(".").pop(),s.jsonName="[".concat(e,"]"),i=t.util.newFieldList([s]).list()[0]}return i},runtime:t}}function hH(t){const e=t.field.localName,n=Object.create(null);return n[e]=Q$e(t),[n,()=>n[e]]}function Q$e(t){const e=t.field;if(e.repeated)return[];if(e.default!==void 0)return e.default;switch(e.kind){case"enum":return e.T.values[0].no;case"scalar":return ug(e.T,e.L);case"message":const n=e.T,r=new n;return n.fieldWrapper?n.fieldWrapper.unwrapField(r):r;case"map":throw"map fields are not allowed to be extensions"}}function U$e(t,e){if(!e.repeated&&(e.kind=="enum"||e.kind=="scalar")){for(let n=t.length-1;n>=0;--n)if(t[n].no==e.no)return[t[n]];return[]}return t.filter(n=>n.no===e.no)}let Bc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),fw=[];for(let t=0;t<Bc.length;t++)fw[Bc[t].charCodeAt(0)]=t;fw[45]=Bc.indexOf("+");fw[95]=Bc.indexOf("/");const fH={dec(t){let e=t.length*3/4;t[t.length-2]=="="?e-=2:t[t.length-1]=="="&&(e-=1);let n=new Uint8Array(e),r=0,i=0,s,o=0;for(let a=0;a<t.length;a++){if(s=fw[t.charCodeAt(a)],s===void 0)switch(t[a]){case"=":i=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(i){case 0:o=s,i=1;break;case 1:n[r++]=o<<2|(s&48)>>4,o=s,i=2;break;case 2:n[r++]=(o&15)<<4|(s&60)>>2,o=s,i=3;break;case 3:n[r++]=(o&3)<<6|s,i=0;break}}if(i==1)throw Error("invalid base64 string.");return n.subarray(0,r)},enc(t){let e="",n=0,r,i=0;for(let s=0;s<t.length;s++)switch(r=t[s],n){case 0:e+=Bc[r>>2],i=(r&3)<<4,n=1;break;case 1:e+=Bc[i|r>>4],i=(r&15)<<2,n=2;break;case 2:e+=Bc[i|r>>6],e+=Bc[r&63],n=0;break}return n&&(e+=Bc[i],e+="=",n==1&&(e+="=")),e}};function V$e(t,e,n){gH(e,t);const r=e.runtime.bin.makeReadOptions(n),i=U$e(t.getType().runtime.bin.listUnknownFields(t),e.field),[s,o]=hH(e);for(const a of i)e.runtime.bin.readField(s,r.readerFactory(a.data),e.field,a.wireType,r);return o()}function j$e(t,e,n,r){gH(e,t);const i=e.runtime.bin.makeReadOptions(r),s=e.runtime.bin.makeWriteOptions(r);if(mH(t,e)){const c=t.getType().runtime.bin.listUnknownFields(t).filter(d=>d.no!=e.field.no);t.getType().runtime.bin.discardUnknownFields(t);for(const d of c)t.getType().runtime.bin.onUnknownField(t,d.no,d.wireType,d.data)}const o=s.writerFactory();let a=e.field;!a.opt&&!a.repeated&&(a.kind=="enum"||a.kind=="scalar")&&(a=Object.assign(Object.assign({},e.field),{opt:!0})),e.runtime.bin.writeField(a,n,o,s);const l=i.readerFactory(o.finish());for(;l.pos<l.len;){const[c,d]=l.tag(),h=l.skip(d,c);t.getType().runtime.bin.onUnknownField(t,c,d,h)}}function mH(t,e){const n=t.getType();return e.extendee.typeName===n.typeName&&!!n.runtime.bin.listUnknownFields(t).find(r=>r.no==e.field.no)}function gH(t,e){Qr(t.extendee.typeName==e.getType().typeName,"extension ".concat(t.typeName," can only be applied to message ").concat(t.extendee.typeName))}function pH(t,e){const n=t.localName;if(t.repeated)return e[n].length>0;if(t.oneof)return e[t.oneof.localName].case===n;switch(t.kind){case"enum":case"scalar":return t.opt||t.req?e[n]!==void 0:t.kind=="enum"?e[n]!==t.T.values[0].no:!dH(t.T,e[n]);case"message":return e[n]!==void 0;case"map":return Object.keys(e[n]).length>0}}function hR(t,e){const n=t.localName,r=!t.opt&&!t.req;if(t.repeated)e[n]=[];else if(t.oneof)e[t.oneof.localName]={case:void 0};else switch(t.kind){case"map":e[n]={};break;case"enum":e[n]=r?t.T.values[0].no:void 0;break;case"scalar":e[n]=r?ug(t.T,t.L):void 0;break;case"message":e[n]=void 0;break}}function zc(t,e){if(t===null||typeof t!="object"||!Object.getOwnPropertyNames(v6.prototype).every(r=>r in t&&typeof t[r]=="function"))return!1;const n=t.getType();return n===null||typeof n!="function"||!("typeName"in n)||typeof n.typeName!="string"?!1:e===void 0?!0:n.typeName==e.typeName}function vH(t,e){return zc(e)||!t.fieldWrapper?e:t.fieldWrapper.wrapField(e)}Ie.DOUBLE,Ie.FLOAT,Ie.INT64,Ie.UINT64,Ie.INT32,Ie.UINT32,Ie.BOOL,Ie.STRING,Ie.BYTES;const fR={ignoreUnknownFields:!1},mR={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function q$e(t){return t?Object.assign(Object.assign({},fR),t):fR}function H$e(t){return t?Object.assign(Object.assign({},mR),t):mR}const P2=Symbol(),iy=Symbol();function W$e(){return{makeReadOptions:q$e,makeWriteOptions:H$e,readMessage(t,e,n,r){if(e==null||Array.isArray(e)||typeof e!="object")throw new Error("cannot decode message ".concat(t.typeName," from JSON: ").concat(Il(e)));r=r??new t;const i=new Map,s=n.typeRegistry;for(const[o,a]of Object.entries(e)){const l=t.fields.findJsonName(o);if(l){if(l.oneof){if(a===null&&l.kind=="scalar")continue;const c=i.get(l.oneof);if(c!==void 0)throw new Error("cannot decode message ".concat(t.typeName,' from JSON: multiple keys for oneof "').concat(l.oneof.name,'" present: "').concat(c,'", "').concat(o,'"'));i.set(l.oneof,o)}gR(r,a,l,n,t)}else{let c=!1;if(s?.findExtension&&o.startsWith("[")&&o.endsWith("]")){const d=s.findExtension(o.substring(1,o.length-1));if(d&&d.extendee.typeName==t.typeName){c=!0;const[h,f]=hH(d);gR(h,a,d.field,n,d),j$e(r,d,f(),n)}}if(!c&&!n.ignoreUnknownFields)throw new Error("cannot decode message ".concat(t.typeName,' from JSON: key "').concat(o,'" is unknown'))}}return r},writeMessage(t,e){const n=t.getType(),r={};let i;try{for(i of n.fields.byNumber()){if(!pH(i,t)){if(i.req)throw"required field not set";if(!e.emitDefaultValues||!Y$e(i))continue}const o=i.oneof?t[i.oneof.localName].value:t[i.localName],a=pR(i,o,e);a!==void 0&&(r[e.useProtoFieldName?i.name:i.jsonName]=a)}const s=e.typeRegistry;if(s?.findExtensionFor)for(const o of n.runtime.bin.listUnknownFields(t)){const a=s.findExtensionFor(n.typeName,o.no);if(a&&mH(t,a)){const l=V$e(t,a,e),c=pR(a.field,l,e);c!==void 0&&(r[a.field.jsonName]=c)}}}catch(s){const o=i?"cannot encode field ".concat(n.typeName,".").concat(i.name," to JSON"):"cannot encode message ".concat(n.typeName," to JSON"),a=s instanceof Error?s.message:String(s);throw new Error(o+(a.length>0?": ".concat(a):""))}return r},readScalar(t,e,n){return c0(t,e,n??kd.BIGINT,!0)},writeScalar(t,e,n){if(e!==void 0&&(n||dH(t,e)))return sy(t,e)},debug:Il}}function Il(t){if(t===null)return"null";switch(typeof t){case"object":return Array.isArray(t)?"array":"object";case"string":return t.length>100?"string":'"'.concat(t.split('"').join('\\"'),'"');default:return String(t)}}function gR(t,e,n,r,i){let s=n.localName;if(n.repeated){if(Qr(n.kind!="map"),e===null)return;if(!Array.isArray(e))throw new Error("cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(Il(e)));const o=t[s];for(const a of e){if(a===null)throw new Error("cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(Il(a)));switch(n.kind){case"message":o.push(n.T.fromJson(a,r));break;case"enum":const l=KS(n.T,a,r.ignoreUnknownFields,!0);l!==iy&&o.push(l);break;case"scalar":try{o.push(c0(n.T,a,n.L,!0))}catch(c){let d="cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(Il(a));throw c instanceof Error&&c.message.length>0&&(d+=": ".concat(c.message)),new Error(d)}break}}}else if(n.kind=="map"){if(e===null)return;if(typeof e!="object"||Array.isArray(e))throw new Error("cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(Il(e)));const o=t[s];for(const[a,l]of Object.entries(e)){if(l===null)throw new Error("cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: map value null"));let c;try{c=X$e(n.K,a)}catch(d){let h="cannot decode map key for field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(Il(e));throw d instanceof Error&&d.message.length>0&&(h+=": ".concat(d.message)),new Error(h)}switch(n.V.kind){case"message":o[c]=n.V.T.fromJson(l,r);break;case"enum":const d=KS(n.V.T,l,r.ignoreUnknownFields,!0);d!==iy&&(o[c]=d);break;case"scalar":try{o[c]=c0(n.V.T,l,kd.BIGINT,!0)}catch(h){let f="cannot decode map value for field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(Il(e));throw h instanceof Error&&h.message.length>0&&(f+=": ".concat(h.message)),new Error(f)}break}}}else switch(n.oneof&&(t=t[n.oneof.localName]={case:s},s="value"),n.kind){case"message":const o=n.T;if(e===null&&o.typeName!="google.protobuf.Value")return;let a=t[s];zc(a)?a.fromJson(e,r):(t[s]=a=o.fromJson(e,r),o.fieldWrapper&&!n.oneof&&(t[s]=o.fieldWrapper.unwrapField(a)));break;case"enum":const l=KS(n.T,e,r.ignoreUnknownFields,!1);switch(l){case P2:hR(n,t);break;case iy:break;default:t[s]=l;break}break;case"scalar":try{const c=c0(n.T,e,n.L,!1);switch(c){case P2:hR(n,t);break;default:t[s]=c;break}}catch(c){let d="cannot decode field ".concat(i.typeName,".").concat(n.name," from JSON: ").concat(Il(e));throw c instanceof Error&&c.message.length>0&&(d+=": ".concat(c.message)),new Error(d)}break}}function X$e(t,e){if(t===Ie.BOOL)switch(e){case"true":e=!0;break;case"false":e=!1;break}return c0(t,e,kd.BIGINT,!0).toString()}function c0(t,e,n,r){if(e===null)return r?ug(t,n):P2;switch(t){case Ie.DOUBLE:case Ie.FLOAT:if(e==="NaN")return Number.NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(e===""||typeof e=="string"&&e.trim().length!==e.length||typeof e!="string"&&typeof e!="number")break;const i=Number(e);if(Number.isNaN(i)||!Number.isFinite(i))break;return t==Ie.FLOAT&&iH(i),i;case Ie.INT32:case Ie.FIXED32:case Ie.SFIXED32:case Ie.SINT32:case Ie.UINT32:let s;if(typeof e=="number"?s=e:typeof e=="string"&&e.length>0&&e.trim().length===e.length&&(s=Number(e)),s===void 0)break;return t==Ie.UINT32||t==Ie.FIXED32?S_(s):ny(s),s;case Ie.INT64:case Ie.SFIXED64:case Ie.SINT64:if(typeof e!="number"&&typeof e!="string")break;const o=Cr.parse(e);return n?o.toString():o;case Ie.FIXED64:case Ie.UINT64:if(typeof e!="number"&&typeof e!="string")break;const a=Cr.uParse(e);return n?a.toString():a;case Ie.BOOL:if(typeof e!="boolean")break;return e;case Ie.STRING:if(typeof e!="string")break;try{encodeURIComponent(e)}catch{throw new Error("invalid UTF8")}return e;case Ie.BYTES:if(e==="")return new Uint8Array(0);if(typeof e!="string")break;return fH.dec(e)}throw new Error}function KS(t,e,n,r){if(e===null)return t.typeName=="google.protobuf.NullValue"?0:r?t.values[0].no:P2;switch(typeof e){case"number":if(Number.isInteger(e))return e;break;case"string":const i=t.findName(e);if(i!==void 0)return i.no;if(n)return iy;break}throw new Error("cannot decode enum ".concat(t.typeName," from JSON: ").concat(Il(e)))}function Y$e(t){return t.repeated||t.kind=="map"?!0:!(t.oneof||t.kind=="message"||t.opt||t.req)}function pR(t,e,n){if(t.kind=="map"){Qr(typeof e=="object"&&e!=null);const r={},i=Object.entries(e);switch(t.V.kind){case"scalar":for(const[o,a]of i)r[o.toString()]=sy(t.V.T,a);break;case"message":for(const[o,a]of i)r[o.toString()]=a.toJson(n);break;case"enum":const s=t.V.T;for(const[o,a]of i)r[o.toString()]=JS(s,a,n.enumAsInteger);break}return n.emitDefaultValues||i.length>0?r:void 0}if(t.repeated){Qr(Array.isArray(e));const r=[];switch(t.kind){case"scalar":for(let i=0;i<e.length;i++)r.push(sy(t.T,e[i]));break;case"enum":for(let i=0;i<e.length;i++)r.push(JS(t.T,e[i],n.enumAsInteger));break;case"message":for(let i=0;i<e.length;i++)r.push(e[i].toJson(n));break}return n.emitDefaultValues||r.length>0?r:void 0}switch(t.kind){case"scalar":return sy(t.T,e);case"enum":return JS(t.T,e,n.enumAsInteger);case"message":return vH(t.T,e).toJson(n)}}function JS(t,e,n){var r;if(Qr(typeof e=="number"),t.typeName=="google.protobuf.NullValue")return null;if(n)return e;const i=t.findNumber(e);return(r=i?.name)!==null&&r!==void 0?r:e}function sy(t,e){switch(t){case Ie.INT32:case Ie.SFIXED32:case Ie.SINT32:case Ie.FIXED32:case Ie.UINT32:return Qr(typeof e=="number"),e;case Ie.FLOAT:case Ie.DOUBLE:return Qr(typeof e=="number"),Number.isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e;case Ie.STRING:return Qr(typeof e=="string"),e;case Ie.BOOL:return Qr(typeof e=="boolean"),e;case Ie.UINT64:case Ie.FIXED64:case Ie.INT64:case Ie.SFIXED64:case Ie.SINT64:return Qr(typeof e=="bigint"||typeof e=="string"||typeof e=="number"),e.toString();case Ie.BYTES:return Qr(e instanceof Uint8Array),fH.enc(e)}}const Cf=Symbol("@bufbuild/protobuf/unknown-fields"),vR={readUnknownFields:!0,readerFactory:t=>new B$e(t)},bR={writeUnknownFields:!0,writerFactory:()=>new F$e};function G$e(t){return t?Object.assign(Object.assign({},vR),t):vR}function Z$e(t){return t?Object.assign(Object.assign({},bR),t):bR}function K$e(){return{makeReadOptions:G$e,makeWriteOptions:Z$e,listUnknownFields(t){var e;return(e=t[Cf])!==null&&e!==void 0?e:[]},discardUnknownFields(t){delete t[Cf]},writeUnknownFields(t,e){const r=t[Cf];if(r)for(const i of r)e.tag(i.no,i.wireType).raw(i.data)},onUnknownField(t,e,n,r){const i=t;Array.isArray(i[Cf])||(i[Cf]=[]),i[Cf].push({no:e,wireType:n,data:r})},readMessage(t,e,n,r,i){const s=t.getType(),o=i?e.len:e.pos+n;let a,l;for(;e.pos<o&&([a,l]=e.tag(),!(i===!0&&l==Xr.EndGroup));){const c=s.fields.find(a);if(!c){const d=e.skip(l,a);r.readUnknownFields&&this.onUnknownField(t,a,l,d);continue}yR(t,e,c,l,r)}if(i&&(l!=Xr.EndGroup||a!==n))throw new Error("invalid end group tag")},readField:yR,writeMessage(t,e,n){const r=t.getType();for(const i of r.fields.byNumber()){if(!pH(i,t)){if(i.req)throw new Error("cannot encode field ".concat(r.typeName,".").concat(i.name," to binary: required field not set"));continue}const s=i.oneof?t[i.oneof.localName].value:t[i.localName];OR(i,s,e,n)}return n.writeUnknownFields&&this.writeUnknownFields(t,e),e},writeField(t,e,n,r){e!==void 0&&OR(t,e,n,r)}}}function yR(t,e,n,r,i){let{repeated:s,localName:o}=n;switch(n.oneof&&(t=t[n.oneof.localName],t.case!=o&&delete t.value,t.case=o,o="value"),n.kind){case"scalar":case"enum":const a=n.kind=="enum"?Ie.INT32:n.T;let l=R2;if(n.kind=="scalar"&&n.L>0&&(l=eLe),s){let f=t[o];if(r==Xr.LengthDelimited&&a!=Ie.STRING&&a!=Ie.BYTES){let g=e.uint32()+e.pos;for(;e.pos<g;)f.push(l(e,a))}else f.push(l(e,a))}else t[o]=l(e,a);break;case"message":const c=n.T;s?t[o].push(oy(e,new c,i,n)):zc(t[o])?oy(e,t[o],i,n):(t[o]=oy(e,new c,i,n),c.fieldWrapper&&!n.oneof&&!n.repeated&&(t[o]=c.fieldWrapper.unwrapField(t[o])));break;case"map":let[d,h]=J$e(n,e,i);t[o][d]=h;break}}function oy(t,e,n,r){const i=e.getType().runtime.bin,s=r?.delimited;return i.readMessage(e,t,s?r.no:t.uint32(),n,s),e}function J$e(t,e,n){const r=e.uint32(),i=e.pos+r;let s,o;for(;e.pos<i;){const[a]=e.tag();switch(a){case 1:s=R2(e,t.K);break;case 2:switch(t.V.kind){case"scalar":o=R2(e,t.V.T);break;case"enum":o=e.int32();break;case"message":o=oy(e,new t.V.T,n,void 0);break}break}}if(s===void 0&&(s=ug(t.K,kd.BIGINT)),typeof s!="string"&&typeof s!="number"&&(s=s.toString()),o===void 0)switch(t.V.kind){case"scalar":o=ug(t.V.T,kd.BIGINT);break;case"enum":o=t.V.T.values[0].no;break;case"message":o=new t.V.T;break}return[s,o]}function eLe(t,e){const n=R2(t,e);return typeof n=="bigint"?n.toString():n}function R2(t,e){switch(e){case Ie.STRING:return t.string();case Ie.BOOL:return t.bool();case Ie.DOUBLE:return t.double();case Ie.FLOAT:return t.float();case Ie.INT32:return t.int32();case Ie.INT64:return t.int64();case Ie.UINT64:return t.uint64();case Ie.FIXED64:return t.fixed64();case Ie.BYTES:return t.bytes();case Ie.FIXED32:return t.fixed32();case Ie.SFIXED32:return t.sfixed32();case Ie.SFIXED64:return t.sfixed64();case Ie.SINT64:return t.sint64();case Ie.UINT32:return t.uint32();case Ie.SINT32:return t.sint32()}}function OR(t,e,n,r){Qr(e!==void 0);const i=t.repeated;switch(t.kind){case"scalar":case"enum":let s=t.kind=="enum"?Ie.INT32:t.T;if(i)if(Qr(Array.isArray(e)),t.packed)nLe(n,s,t.no,e);else for(const o of e)u0(n,s,t.no,o);else u0(n,s,t.no,e);break;case"message":if(i){Qr(Array.isArray(e));for(const o of e)wR(n,r,t,o)}else wR(n,r,t,e);break;case"map":Qr(typeof e=="object"&&e!=null);for(const[o,a]of Object.entries(e))tLe(n,r,t,o,a);break}}function tLe(t,e,n,r,i){t.tag(n.no,Xr.LengthDelimited),t.fork();let s=r;switch(n.K){case Ie.INT32:case Ie.FIXED32:case Ie.UINT32:case Ie.SFIXED32:case Ie.SINT32:s=Number.parseInt(r);break;case Ie.BOOL:Qr(r=="true"||r=="false"),s=r=="true";break}switch(u0(t,n.K,1,s),n.V.kind){case"scalar":u0(t,n.V.T,2,i);break;case"enum":u0(t,Ie.INT32,2,i);break;case"message":Qr(i!==void 0),t.tag(2,Xr.LengthDelimited).bytes(i.toBinary(e));break}t.join()}function wR(t,e,n,r){const i=vH(n.T,r);n.delimited?t.tag(n.no,Xr.StartGroup).raw(i.toBinary(e)).tag(n.no,Xr.EndGroup):t.tag(n.no,Xr.LengthDelimited).bytes(i.toBinary(e))}function u0(t,e,n,r){Qr(r!==void 0);let[i,s]=bH(e);t.tag(n,i)[s](r)}function nLe(t,e,n,r){if(!r.length)return;t.tag(n,Xr.LengthDelimited).fork();let[,i]=bH(e);for(let s=0;s<r.length;s++)t[i](r[s]);t.join()}function bH(t){let e=Xr.Varint;switch(t){case Ie.BYTES:case Ie.STRING:e=Xr.LengthDelimited;break;case Ie.DOUBLE:case Ie.FIXED64:case Ie.SFIXED64:e=Xr.Bit64;break;case Ie.FIXED32:case Ie.SFIXED32:case Ie.FLOAT:e=Xr.Bit32;break}const n=Ie[t].toLowerCase();return[e,n]}function rLe(){return{setEnumType:oH,initPartial(t,e){if(t===void 0)return;const n=e.getType();for(const r of n.fields.byMember()){const i=r.localName,s=e,o=t;if(o[i]!=null)switch(r.kind){case"oneof":const a=o[i].case;if(a===void 0)continue;const l=r.findField(a);let c=o[i].value;l&&l.kind=="message"&&!zc(c,l.T)?c=new l.T(c):l&&l.kind==="scalar"&&l.T===Ie.BYTES&&(c=mp(c)),s[i]={case:a,value:c};break;case"scalar":case"enum":let d=o[i];r.T===Ie.BYTES&&(d=r.repeated?d.map(mp):mp(d)),s[i]=d;break;case"map":switch(r.V.kind){case"scalar":case"enum":if(r.V.T===Ie.BYTES)for(const[m,g]of Object.entries(o[i]))s[i][m]=mp(g);else Object.assign(s[i],o[i]);break;case"message":const f=r.V.T;for(const m of Object.keys(o[i])){let g=o[i][m];f.fieldWrapper||(g=new f(g)),s[i][m]=g}break}break;case"message":const h=r.T;if(r.repeated)s[i]=o[i].map(f=>zc(f,h)?f:new h(f));else{const f=o[i];h.fieldWrapper?h.typeName==="google.protobuf.BytesValue"?s[i]=mp(f):s[i]=f:s[i]=zc(f,h)?f:new h(f)}break}}},equals(t,e,n){return e===n?!0:!e||!n?!1:t.fields.byMember().every(r=>{const i=e[r.localName],s=n[r.localName];if(r.repeated){if(i.length!==s.length)return!1;switch(r.kind){case"message":return i.every((o,a)=>r.T.equals(o,s[a]));case"scalar":return i.every((o,a)=>Pu(r.T,o,s[a]));case"enum":return i.every((o,a)=>Pu(Ie.INT32,o,s[a]))}throw new Error("repeated cannot contain ".concat(r.kind))}switch(r.kind){case"message":let o=i,a=s;return r.T.fieldWrapper&&(o!==void 0&&!zc(o)&&(o=r.T.fieldWrapper.wrapField(o)),a!==void 0&&!zc(a)&&(a=r.T.fieldWrapper.wrapField(a))),r.T.equals(o,a);case"enum":return Pu(Ie.INT32,i,s);case"scalar":return Pu(r.T,i,s);case"oneof":if(i.case!==s.case)return!1;const l=r.findField(i.case);if(l===void 0)return!0;switch(l.kind){case"message":return l.T.equals(i.value,s.value);case"enum":return Pu(Ie.INT32,i.value,s.value);case"scalar":return Pu(l.T,i.value,s.value)}throw new Error("oneof cannot contain ".concat(l.kind));case"map":const c=Object.keys(i).concat(Object.keys(s));switch(r.V.kind){case"message":const d=r.V.T;return c.every(f=>d.equals(i[f],s[f]));case"enum":return c.every(f=>Pu(Ie.INT32,i[f],s[f]));case"scalar":const h=r.V.T;return c.every(f=>Pu(h,i[f],s[f]))}break}})},clone(t){const e=t.getType(),n=new e,r=n;for(const i of e.fields.byMember()){const s=t[i.localName];let o;if(i.repeated)o=s.map(db);else if(i.kind=="map"){o=r[i.localName];for(const[a,l]of Object.entries(s))o[a]=db(l)}else i.kind=="oneof"?o=i.findField(s.case)?{case:s.case,value:db(s.value)}:{case:void 0}:o=db(s);r[i.localName]=o}for(const i of e.runtime.bin.listUnknownFields(t))e.runtime.bin.onUnknownField(r,i.no,i.wireType,i.data);return n}}}function db(t){if(t===void 0)return t;if(zc(t))return t.clone();if(t instanceof Uint8Array){const e=new Uint8Array(t.byteLength);return e.set(t),e}return t}function mp(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function iLe(t,e,n){return{syntax:t,json:W$e(),bin:K$e(),util:Object.assign(Object.assign({},rLe()),{newFieldList:e,initFields:n}),makeMessageType(r,i,s){return R$e(this,r,i,s)},makeEnum:P$e,makeEnumType:aH,getEnumType:A$e,makeExtension(r,i,s){return z$e(this,r,i,s)}}}class sLe{constructor(e,n){this._fields=e,this._normalizer=n}findJsonName(e){if(!this.jsonNames){const n={};for(const r of this.list())n[r.jsonName]=n[r.name]=r;this.jsonNames=n}return this.jsonNames[e]}find(e){if(!this.numbers){const n={};for(const r of this.list())n[r.no]=r;this.numbers=n}return this.numbers[e]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((e,n)=>e.no-n.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];const e=this.members;let n;for(const r of this.list())r.oneof?r.oneof!==n&&(n=r.oneof,e.push(n)):e.push(r)}return this.members}}function yH(t,e){const n=OH(t);return e?n:dLe(uLe(n))}function oLe(t){return yH(t,!1)}const aLe=OH;function OH(t){let e=!1;const n=[];for(let r=0;r<t.length;r++){let i=t.charAt(r);switch(i){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(i),e=!1;break;default:e&&(e=!1,i=i.toUpperCase()),n.push(i);break}}return n.join("")}const lLe=new Set(["constructor","toString","toJSON","valueOf"]),cLe=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),wH=t=>"".concat(t,"$"),uLe=t=>cLe.has(t)?wH(t):t,dLe=t=>lLe.has(t)?wH(t):t;class hLe{constructor(e){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.req=!1,this.default=void 0,this.fields=[],this.name=e,this.localName=oLe(e)}addField(e){Qr(e.oneof===this,"field ".concat(e.name," not one of ").concat(this.name)),this.fields.push(e)}findField(e){if(!this._lookup){this._lookup=Object.create(null);for(let n=0;n<this.fields.length;n++)this._lookup[this.fields[n].localName]=this.fields[n]}return this._lookup[e]}}function fLe(t,e){var n,r,i,s,o,a;const l=[];let c;for(const d of typeof t=="function"?t():t){const h=d;if(h.localName=yH(d.name,d.oneof!==void 0),h.jsonName=(n=d.jsonName)!==null&&n!==void 0?n:aLe(d.name),h.repeated=(r=d.repeated)!==null&&r!==void 0?r:!1,d.kind=="scalar"&&(h.L=(i=d.L)!==null&&i!==void 0?i:kd.BIGINT),h.delimited=(s=d.delimited)!==null&&s!==void 0?s:!1,h.req=(o=d.req)!==null&&o!==void 0?o:!1,h.opt=(a=d.opt)!==null&&a!==void 0?a:!1,d.packed===void 0&&(h.packed=d.kind=="enum"||d.kind=="scalar"&&d.T!=Ie.BYTES&&d.T!=Ie.STRING),d.oneof!==void 0){const f=typeof d.oneof=="string"?d.oneof:d.oneof.name;(!c||c.name!=f)&&(c=new hLe(f)),h.oneof=c,c.addField(h)}l.push(h)}return l}const ye=iLe("proto3",t=>new sLe(t,e=>fLe(e)),t=>{for(const e of t.getType().fields.byMember()){if(e.opt)continue;const n=e.localName,r=t;if(e.repeated){r[n]=[];continue}switch(e.kind){case"oneof":r[n]={case:void 0};break;case"enum":r[n]=0;break;case"map":r[n]={};break;case"scalar":r[n]=ug(e.T,e.L);break}}});class ro extends v6{constructor(e){super(),this.seconds=Cr.zero,this.nanos=0,ye.util.initPartial(e,this)}fromJson(e,n){if(typeof e!="string")throw new Error("cannot decode google.protobuf.Timestamp from JSON: ".concat(ye.json.debug(e)));const r=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!r)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");const i=Date.parse(r[1]+"-"+r[2]+"-"+r[3]+"T"+r[4]+":"+r[5]+":"+r[6]+(r[8]?r[8]:"Z"));if(Number.isNaN(i))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(i<Date.parse("0001-01-01T00:00:00Z")||i>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=Cr.parse(i/1e3),this.nanos=0,r[7]&&(this.nanos=parseInt("1"+r[7]+"0".repeat(9-r[7].length))-1e9),this}toJson(e){const n=Number(this.seconds)*1e3;if(n<Date.parse("0001-01-01T00:00:00Z")||n>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let r="Z";if(this.nanos>0){const i=(this.nanos+1e9).toString().substring(1);i.substring(3)==="000000"?r="."+i.substring(0,3)+"Z":i.substring(6)==="000"?r="."+i.substring(0,6)+"Z":r="."+i+"Z"}return new Date(n).toISOString().replace(".000Z",r)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return ro.fromDate(new Date)}static fromDate(e){const n=e.getTime();return new ro({seconds:Cr.parse(Math.floor(n/1e3)),nanos:n%1e3*1e6})}static fromBinary(e,n){return new ro().fromBinary(e,n)}static fromJson(e,n){return new ro().fromJson(e,n)}static fromJsonString(e,n){return new ro().fromJsonString(e,n)}static equals(e,n){return ye.util.equals(ro,e,n)}}ro.runtime=ye;ro.typeName="google.protobuf.Timestamp";ro.fields=ye.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);const mLe=ye.makeMessageType("livekit.MetricsBatch",()=>[{no:1,name:"timestamp_ms",kind:"scalar",T:3},{no:2,name:"normalized_timestamp",kind:"message",T:ro},{no:3,name:"str_data",kind:"scalar",T:9,repeated:!0},{no:4,name:"time_series",kind:"message",T:gLe,repeated:!0},{no:5,name:"events",kind:"message",T:vLe,repeated:!0}]),gLe=ye.makeMessageType("livekit.TimeSeriesMetric",()=>[{no:1,name:"label",kind:"scalar",T:13},{no:2,name:"participant_identity",kind:"scalar",T:13},{no:3,name:"track_sid",kind:"scalar",T:13},{no:4,name:"samples",kind:"message",T:pLe,repeated:!0},{no:5,name:"rid",kind:"scalar",T:13}]),pLe=ye.makeMessageType("livekit.MetricSample",()=>[{no:1,name:"timestamp_ms",kind:"scalar",T:3},{no:2,name:"normalized_timestamp",kind:"message",T:ro},{no:3,name:"value",kind:"scalar",T:2}]),vLe=ye.makeMessageType("livekit.EventMetric",()=>[{no:1,name:"label",kind:"scalar",T:13},{no:2,name:"participant_identity",kind:"scalar",T:13},{no:3,name:"track_sid",kind:"scalar",T:13},{no:4,name:"start_timestamp_ms",kind:"scalar",T:3},{no:5,name:"end_timestamp_ms",kind:"scalar",T:3,opt:!0},{no:6,name:"normalized_start_timestamp",kind:"message",T:ro},{no:7,name:"normalized_end_timestamp",kind:"message",T:ro,opt:!0},{no:8,name:"metadata",kind:"scalar",T:9},{no:9,name:"rid",kind:"scalar",T:13}]),kH=ye.makeEnum("livekit.BackupCodecPolicy",[{no:0,name:"PREFER_REGRESSION"},{no:1,name:"SIMULCAST"},{no:2,name:"REGRESSION"}]),tl=ye.makeEnum("livekit.TrackType",[{no:0,name:"AUDIO"},{no:1,name:"VIDEO"},{no:2,name:"DATA"}]),ni=ye.makeEnum("livekit.TrackSource",[{no:0,name:"UNKNOWN"},{no:1,name:"CAMERA"},{no:2,name:"MICROPHONE"},{no:3,name:"SCREEN_SHARE"},{no:4,name:"SCREEN_SHARE_AUDIO"}]),y6=ye.makeEnum("livekit.VideoQuality",[{no:0,name:"LOW"},{no:1,name:"MEDIUM"},{no:2,name:"HIGH"},{no:3,name:"OFF"}]),Up=ye.makeEnum("livekit.ConnectionQuality",[{no:0,name:"POOR"},{no:1,name:"GOOD"},{no:2,name:"EXCELLENT"},{no:3,name:"LOST"}]),lv=ye.makeEnum("livekit.ClientConfigSetting",[{no:0,name:"UNSET"},{no:1,name:"DISABLED"},{no:2,name:"ENABLED"}]),il=ye.makeEnum("livekit.DisconnectReason",[{no:0,name:"UNKNOWN_REASON"},{no:1,name:"CLIENT_INITIATED"},{no:2,name:"DUPLICATE_IDENTITY"},{no:3,name:"SERVER_SHUTDOWN"},{no:4,name:"PARTICIPANT_REMOVED"},{no:5,name:"ROOM_DELETED"},{no:6,name:"STATE_MISMATCH"},{no:7,name:"JOIN_FAILURE"},{no:8,name:"MIGRATION"},{no:9,name:"SIGNAL_CLOSE"},{no:10,name:"ROOM_CLOSED"},{no:11,name:"USER_UNAVAILABLE"},{no:12,name:"USER_REJECTED"},{no:13,name:"SIP_TRUNK_FAILURE"},{no:14,name:"CONNECTION_TIMEOUT"},{no:15,name:"MEDIA_FAILURE"}]),nh=ye.makeEnum("livekit.ReconnectReason",[{no:0,name:"RR_UNKNOWN"},{no:1,name:"RR_SIGNAL_DISCONNECTED"},{no:2,name:"RR_PUBLISHER_FAILED"},{no:3,name:"RR_SUBSCRIBER_FAILED"},{no:4,name:"RR_SWITCH_CANDIDATE"}]),bLe=ye.makeEnum("livekit.SubscriptionError",[{no:0,name:"SE_UNKNOWN"},{no:1,name:"SE_CODEC_UNSUPPORTED"},{no:2,name:"SE_TRACK_NOTFOUND"}]),Ai=ye.makeEnum("livekit.AudioTrackFeature",[{no:0,name:"TF_STEREO"},{no:1,name:"TF_NO_DTX"},{no:2,name:"TF_AUTO_GAIN_CONTROL"},{no:3,name:"TF_ECHO_CANCELLATION"},{no:4,name:"TF_NOISE_SUPPRESSION"},{no:5,name:"TF_ENHANCED_NOISE_CANCELLATION"},{no:6,name:"TF_PRECONNECT_BUFFER"}]),mw=ye.makeMessageType("livekit.Room",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"empty_timeout",kind:"scalar",T:13},{no:14,name:"departure_timeout",kind:"scalar",T:13},{no:4,name:"max_participants",kind:"scalar",T:13},{no:5,name:"creation_time",kind:"scalar",T:3},{no:15,name:"creation_time_ms",kind:"scalar",T:3},{no:6,name:"turn_password",kind:"scalar",T:9},{no:7,name:"enabled_codecs",kind:"message",T:M2,repeated:!0},{no:8,name:"metadata",kind:"scalar",T:9},{no:9,name:"num_participants",kind:"scalar",T:13},{no:11,name:"num_publishers",kind:"scalar",T:13},{no:10,name:"active_recording",kind:"scalar",T:8},{no:13,name:"version",kind:"message",T:$H}]),M2=ye.makeMessageType("livekit.Codec",()=>[{no:1,name:"mime",kind:"scalar",T:9},{no:2,name:"fmtp_line",kind:"scalar",T:9}]),yLe=ye.makeMessageType("livekit.ParticipantPermission",()=>[{no:1,name:"can_subscribe",kind:"scalar",T:8},{no:2,name:"can_publish",kind:"scalar",T:8},{no:3,name:"can_publish_data",kind:"scalar",T:8},{no:9,name:"can_publish_sources",kind:"enum",T:ye.getEnumType(ni),repeated:!0},{no:7,name:"hidden",kind:"scalar",T:8},{no:8,name:"recorder",kind:"scalar",T:8},{no:10,name:"can_update_metadata",kind:"scalar",T:8},{no:11,name:"agent",kind:"scalar",T:8},{no:12,name:"can_subscribe_metrics",kind:"scalar",T:8}]),Uh=ye.makeMessageType("livekit.ParticipantInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"identity",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:ye.getEnumType(xm)},{no:4,name:"tracks",kind:"message",T:nm,repeated:!0},{no:5,name:"metadata",kind:"scalar",T:9},{no:6,name:"joined_at",kind:"scalar",T:3},{no:17,name:"joined_at_ms",kind:"scalar",T:3},{no:9,name:"name",kind:"scalar",T:9},{no:10,name:"version",kind:"scalar",T:13},{no:11,name:"permission",kind:"message",T:yLe},{no:12,name:"region",kind:"scalar",T:9},{no:13,name:"is_publisher",kind:"scalar",T:8},{no:14,name:"kind",kind:"enum",T:ye.getEnumType(cv)},{no:15,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:16,name:"disconnect_reason",kind:"enum",T:ye.getEnumType(il)},{no:18,name:"kind_details",kind:"enum",T:ye.getEnumType(OLe),repeated:!0}]),xm=ye.makeEnum("livekit.ParticipantInfo.State",[{no:0,name:"JOINING"},{no:1,name:"JOINED"},{no:2,name:"ACTIVE"},{no:3,name:"DISCONNECTED"}]),cv=ye.makeEnum("livekit.ParticipantInfo.Kind",[{no:0,name:"STANDARD"},{no:1,name:"INGRESS"},{no:2,name:"EGRESS"},{no:3,name:"SIP"},{no:4,name:"AGENT"},{no:7,name:"CONNECTOR"}]),OLe=ye.makeEnum("livekit.ParticipantInfo.KindDetail",[{no:0,name:"CLOUD_AGENT"},{no:1,name:"FORWARDED"}]),bi=ye.makeEnum("livekit.Encryption.Type",[{no:0,name:"NONE"},{no:1,name:"GCM"},{no:2,name:"CUSTOM"}]),wLe=ye.makeMessageType("livekit.SimulcastCodecInfo",()=>[{no:1,name:"mime_type",kind:"scalar",T:9},{no:2,name:"mid",kind:"scalar",T:9},{no:3,name:"cid",kind:"scalar",T:9},{no:4,name:"layers",kind:"message",T:id,repeated:!0},{no:5,name:"video_layer_mode",kind:"enum",T:ye.getEnumType(SH)},{no:6,name:"sdp_cid",kind:"scalar",T:9}]),nm=ye.makeMessageType("livekit.TrackInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"type",kind:"enum",T:ye.getEnumType(tl)},{no:3,name:"name",kind:"scalar",T:9},{no:4,name:"muted",kind:"scalar",T:8},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"simulcast",kind:"scalar",T:8},{no:8,name:"disable_dtx",kind:"scalar",T:8},{no:9,name:"source",kind:"enum",T:ye.getEnumType(ni)},{no:10,name:"layers",kind:"message",T:id,repeated:!0},{no:11,name:"mime_type",kind:"scalar",T:9},{no:12,name:"mid",kind:"scalar",T:9},{no:13,name:"codecs",kind:"message",T:wLe,repeated:!0},{no:14,name:"stereo",kind:"scalar",T:8},{no:15,name:"disable_red",kind:"scalar",T:8},{no:16,name:"encryption",kind:"enum",T:ye.getEnumType(bi)},{no:17,name:"stream",kind:"scalar",T:9},{no:18,name:"version",kind:"message",T:$H},{no:19,name:"audio_features",kind:"enum",T:ye.getEnumType(Ai),repeated:!0},{no:20,name:"backup_codec_policy",kind:"enum",T:ye.getEnumType(kH)}]),id=ye.makeMessageType("livekit.VideoLayer",()=>[{no:1,name:"quality",kind:"enum",T:ye.getEnumType(y6)},{no:2,name:"width",kind:"scalar",T:13},{no:3,name:"height",kind:"scalar",T:13},{no:4,name:"bitrate",kind:"scalar",T:13},{no:5,name:"ssrc",kind:"scalar",T:13},{no:6,name:"spatial_layer",kind:"scalar",T:5},{no:7,name:"rid",kind:"scalar",T:9}]),SH=ye.makeEnum("livekit.VideoLayer.Mode",[{no:0,name:"MODE_UNUSED"},{no:1,name:"ONE_SPATIAL_LAYER_PER_STREAM"},{no:2,name:"MULTIPLE_SPATIAL_LAYERS_PER_STREAM"},{no:3,name:"ONE_SPATIAL_LAYER_PER_STREAM_INCOMPLETE_RTCP_SR"}]),Ts=ye.makeMessageType("livekit.DataPacket",()=>[{no:1,name:"kind",kind:"enum",T:ye.getEnumType(fn)},{no:4,name:"participant_identity",kind:"scalar",T:9},{no:5,name:"destination_identities",kind:"scalar",T:9,repeated:!0},{no:2,name:"user",kind:"message",T:O6,oneof:"value"},{no:3,name:"speaker",kind:"message",T:kLe,oneof:"value"},{no:6,name:"sip_dtmf",kind:"message",T:EH,oneof:"value"},{no:7,name:"transcription",kind:"message",T:SLe,oneof:"value"},{no:8,name:"metrics",kind:"message",T:mLe,oneof:"value"},{no:9,name:"chat_message",kind:"message",T:I2,oneof:"value"},{no:10,name:"rpc_request",kind:"message",T:w6,oneof:"value"},{no:11,name:"rpc_ack",kind:"message",T:k6,oneof:"value"},{no:12,name:"rpc_response",kind:"message",T:S6,oneof:"value"},{no:13,name:"stream_header",kind:"message",T:$2,oneof:"value"},{no:14,name:"stream_chunk",kind:"message",T:L2,oneof:"value"},{no:15,name:"stream_trailer",kind:"message",T:N2,oneof:"value"},{no:18,name:"encrypted_packet",kind:"message",T:xH,oneof:"value"},{no:16,name:"sequence",kind:"scalar",T:13},{no:17,name:"participant_sid",kind:"scalar",T:9}]),fn=ye.makeEnum("livekit.DataPacket.Kind",[{no:0,name:"RELIABLE"},{no:1,name:"LOSSY"}]),xH=ye.makeMessageType("livekit.EncryptedPacket",()=>[{no:1,name:"encryption_type",kind:"enum",T:ye.getEnumType(bi)},{no:2,name:"iv",kind:"scalar",T:12},{no:3,name:"key_index",kind:"scalar",T:13},{no:4,name:"encrypted_value",kind:"scalar",T:12}]),_H=ye.makeMessageType("livekit.EncryptedPacketPayload",()=>[{no:1,name:"user",kind:"message",T:O6,oneof:"value"},{no:3,name:"chat_message",kind:"message",T:I2,oneof:"value"},{no:4,name:"rpc_request",kind:"message",T:w6,oneof:"value"},{no:5,name:"rpc_ack",kind:"message",T:k6,oneof:"value"},{no:6,name:"rpc_response",kind:"message",T:S6,oneof:"value"},{no:7,name:"stream_header",kind:"message",T:$2,oneof:"value"},{no:8,name:"stream_chunk",kind:"message",T:L2,oneof:"value"},{no:9,name:"stream_trailer",kind:"message",T:N2,oneof:"value"}]),kLe=ye.makeMessageType("livekit.ActiveSpeakerUpdate",()=>[{no:1,name:"speakers",kind:"message",T:CH,repeated:!0}]),CH=ye.makeMessageType("livekit.SpeakerInfo",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"level",kind:"scalar",T:2},{no:3,name:"active",kind:"scalar",T:8}]),O6=ye.makeMessageType("livekit.UserPacket",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:5,name:"participant_identity",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:12},{no:3,name:"destination_sids",kind:"scalar",T:9,repeated:!0},{no:6,name:"destination_identities",kind:"scalar",T:9,repeated:!0},{no:4,name:"topic",kind:"scalar",T:9,opt:!0},{no:8,name:"id",kind:"scalar",T:9,opt:!0},{no:9,name:"start_time",kind:"scalar",T:4,opt:!0},{no:10,name:"end_time",kind:"scalar",T:4,opt:!0},{no:11,name:"nonce",kind:"scalar",T:12}]),EH=ye.makeMessageType("livekit.SipDTMF",()=>[{no:3,name:"code",kind:"scalar",T:13},{no:4,name:"digit",kind:"scalar",T:9}]),SLe=ye.makeMessageType("livekit.Transcription",()=>[{no:2,name:"transcribed_participant_identity",kind:"scalar",T:9},{no:3,name:"track_id",kind:"scalar",T:9},{no:4,name:"segments",kind:"message",T:xLe,repeated:!0}]),xLe=ye.makeMessageType("livekit.TranscriptionSegment",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"text",kind:"scalar",T:9},{no:3,name:"start_time",kind:"scalar",T:4},{no:4,name:"end_time",kind:"scalar",T:4},{no:5,name:"final",kind:"scalar",T:8},{no:6,name:"language",kind:"scalar",T:9}]),I2=ye.makeMessageType("livekit.ChatMessage",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"timestamp",kind:"scalar",T:3},{no:3,name:"edit_timestamp",kind:"scalar",T:3,opt:!0},{no:4,name:"message",kind:"scalar",T:9},{no:5,name:"deleted",kind:"scalar",T:8},{no:6,name:"generated",kind:"scalar",T:8}]),w6=ye.makeMessageType("livekit.RpcRequest",()=>[{no:1,name:"id",kind:"scalar",T:9},{no:2,name:"method",kind:"scalar",T:9},{no:3,name:"payload",kind:"scalar",T:9},{no:4,name:"response_timeout_ms",kind:"scalar",T:13},{no:5,name:"version",kind:"scalar",T:13}]),k6=ye.makeMessageType("livekit.RpcAck",()=>[{no:1,name:"request_id",kind:"scalar",T:9}]),S6=ye.makeMessageType("livekit.RpcResponse",()=>[{no:1,name:"request_id",kind:"scalar",T:9},{no:2,name:"payload",kind:"scalar",T:9,oneof:"value"},{no:3,name:"error",kind:"message",T:TH,oneof:"value"}]),TH=ye.makeMessageType("livekit.RpcError",()=>[{no:1,name:"code",kind:"scalar",T:13},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"data",kind:"scalar",T:9}]),DH=ye.makeMessageType("livekit.ParticipantTracks",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sids",kind:"scalar",T:9,repeated:!0}]),AH=ye.makeMessageType("livekit.ServerInfo",()=>[{no:1,name:"edition",kind:"enum",T:ye.getEnumType(PH)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"region",kind:"scalar",T:9},{no:5,name:"node_id",kind:"scalar",T:9},{no:6,name:"debug_info",kind:"scalar",T:9},{no:7,name:"agent_protocol",kind:"scalar",T:5}]),PH=ye.makeEnum("livekit.ServerInfo.Edition",[{no:0,name:"Standard"},{no:1,name:"Cloud"}]),RH=ye.makeMessageType("livekit.ClientInfo",()=>[{no:1,name:"sdk",kind:"enum",T:ye.getEnumType(MH)},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"protocol",kind:"scalar",T:5},{no:4,name:"os",kind:"scalar",T:9},{no:5,name:"os_version",kind:"scalar",T:9},{no:6,name:"device_model",kind:"scalar",T:9},{no:7,name:"browser",kind:"scalar",T:9},{no:8,name:"browser_version",kind:"scalar",T:9},{no:9,name:"address",kind:"scalar",T:9},{no:10,name:"network",kind:"scalar",T:9},{no:11,name:"other_sdks",kind:"scalar",T:9}]),MH=ye.makeEnum("livekit.ClientInfo.SDK",[{no:0,name:"UNKNOWN"},{no:1,name:"JS"},{no:2,name:"SWIFT"},{no:3,name:"ANDROID"},{no:4,name:"FLUTTER"},{no:5,name:"GO"},{no:6,name:"UNITY"},{no:7,name:"REACT_NATIVE"},{no:8,name:"RUST"},{no:9,name:"PYTHON"},{no:10,name:"CPP"},{no:11,name:"UNITY_WEB"},{no:12,name:"NODE"},{no:13,name:"UNREAL"},{no:14,name:"ESP32"}]),IH=ye.makeMessageType("livekit.ClientConfiguration",()=>[{no:1,name:"video",kind:"message",T:kR},{no:2,name:"screen",kind:"message",T:kR},{no:3,name:"resume_connection",kind:"enum",T:ye.getEnumType(lv)},{no:4,name:"disabled_codecs",kind:"message",T:_Le},{no:5,name:"force_relay",kind:"enum",T:ye.getEnumType(lv)}]),kR=ye.makeMessageType("livekit.VideoConfiguration",()=>[{no:1,name:"hardware_encoder",kind:"enum",T:ye.getEnumType(lv)}]),_Le=ye.makeMessageType("livekit.DisabledCodecs",()=>[{no:1,name:"codecs",kind:"message",T:M2,repeated:!0},{no:2,name:"publish",kind:"message",T:M2,repeated:!0}]),$H=ye.makeMessageType("livekit.TimedVersion",()=>[{no:1,name:"unix_micro",kind:"scalar",T:3},{no:2,name:"ticks",kind:"scalar",T:5}]),x_=ye.makeEnum("livekit.DataStream.OperationType",[{no:0,name:"CREATE"},{no:1,name:"UPDATE"},{no:2,name:"DELETE"},{no:3,name:"REACTION"}]),LH=ye.makeMessageType("livekit.DataStream.TextHeader",()=>[{no:1,name:"operation_type",kind:"enum",T:ye.getEnumType(x_)},{no:2,name:"version",kind:"scalar",T:5},{no:3,name:"reply_to_stream_id",kind:"scalar",T:9},{no:4,name:"attached_stream_ids",kind:"scalar",T:9,repeated:!0},{no:5,name:"generated",kind:"scalar",T:8}],{localName:"DataStream_TextHeader"}),NH=ye.makeMessageType("livekit.DataStream.ByteHeader",()=>[{no:1,name:"name",kind:"scalar",T:9}],{localName:"DataStream_ByteHeader"}),$2=ye.makeMessageType("livekit.DataStream.Header",()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"timestamp",kind:"scalar",T:3},{no:3,name:"topic",kind:"scalar",T:9},{no:4,name:"mime_type",kind:"scalar",T:9},{no:5,name:"total_length",kind:"scalar",T:4,opt:!0},{no:7,name:"encryption_type",kind:"enum",T:ye.getEnumType(bi)},{no:8,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:9,name:"text_header",kind:"message",T:LH,oneof:"content_header"},{no:10,name:"byte_header",kind:"message",T:NH,oneof:"content_header"}],{localName:"DataStream_Header"}),L2=ye.makeMessageType("livekit.DataStream.Chunk",()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"chunk_index",kind:"scalar",T:4},{no:3,name:"content",kind:"scalar",T:12},{no:4,name:"version",kind:"scalar",T:5},{no:5,name:"iv",kind:"scalar",T:12,opt:!0}],{localName:"DataStream_Chunk"}),N2=ye.makeMessageType("livekit.DataStream.Trailer",()=>[{no:1,name:"stream_id",kind:"scalar",T:9},{no:2,name:"reason",kind:"scalar",T:9},{no:3,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}}],{localName:"DataStream_Trailer"}),CLe=ye.makeMessageType("livekit.SubscribedAudioCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"enabled",kind:"scalar",T:8}]),nl=ye.makeEnum("livekit.SignalTarget",[{no:0,name:"PUBLISHER"},{no:1,name:"SUBSCRIBER"}]),__=ye.makeEnum("livekit.StreamState",[{no:0,name:"ACTIVE"},{no:1,name:"PAUSED"}]),ELe=ye.makeEnum("livekit.CandidateProtocol",[{no:0,name:"UDP"},{no:1,name:"TCP"},{no:2,name:"TLS"}]),TLe=ye.makeMessageType("livekit.SignalRequest",()=>[{no:1,name:"offer",kind:"message",T:Sd,oneof:"message"},{no:2,name:"answer",kind:"message",T:Sd,oneof:"message"},{no:3,name:"trickle",kind:"message",T:gw,oneof:"message"},{no:4,name:"add_track",kind:"message",T:uv,oneof:"message"},{no:5,name:"mute",kind:"message",T:pw,oneof:"message"},{no:6,name:"subscription",kind:"message",T:vw,oneof:"message"},{no:7,name:"track_setting",kind:"message",T:FH,oneof:"message"},{no:8,name:"leave",kind:"message",T:bw,oneof:"message"},{no:10,name:"update_layers",kind:"message",T:zH,oneof:"message"},{no:11,name:"subscription_permission",kind:"message",T:VH,oneof:"message"},{no:12,name:"sync_state",kind:"message",T:T6,oneof:"message"},{no:13,name:"simulate",kind:"message",T:Pl,oneof:"message"},{no:14,name:"ping",kind:"scalar",T:3,oneof:"message"},{no:15,name:"update_metadata",kind:"message",T:C6,oneof:"message"},{no:16,name:"ping_req",kind:"message",T:HH,oneof:"message"},{no:17,name:"update_audio_track",kind:"message",T:_6,oneof:"message"},{no:18,name:"update_video_track",kind:"message",T:BH,oneof:"message"}]),SR=ye.makeMessageType("livekit.SignalResponse",()=>[{no:1,name:"join",kind:"message",T:DLe,oneof:"message"},{no:2,name:"answer",kind:"message",T:Sd,oneof:"message"},{no:3,name:"offer",kind:"message",T:Sd,oneof:"message"},{no:4,name:"trickle",kind:"message",T:gw,oneof:"message"},{no:5,name:"update",kind:"message",T:RLe,oneof:"message"},{no:6,name:"track_published",kind:"message",T:x6,oneof:"message"},{no:8,name:"leave",kind:"message",T:bw,oneof:"message"},{no:9,name:"mute",kind:"message",T:pw,oneof:"message"},{no:10,name:"speakers_changed",kind:"message",T:MLe,oneof:"message"},{no:11,name:"room_update",kind:"message",T:ILe,oneof:"message"},{no:12,name:"connection_quality",kind:"message",T:LLe,oneof:"message"},{no:13,name:"stream_state_update",kind:"message",T:FLe,oneof:"message"},{no:14,name:"subscribed_quality_update",kind:"message",T:zLe,oneof:"message"},{no:15,name:"subscription_permission_update",kind:"message",T:ULe,oneof:"message"},{no:16,name:"refresh_token",kind:"scalar",T:9,oneof:"message"},{no:17,name:"track_unpublished",kind:"message",T:PLe,oneof:"message"},{no:18,name:"pong",kind:"scalar",T:3,oneof:"message"},{no:19,name:"reconnect",kind:"message",T:ALe,oneof:"message"},{no:20,name:"pong_resp",kind:"message",T:jLe,oneof:"message"},{no:21,name:"subscription_response",kind:"message",T:WLe,oneof:"message"},{no:22,name:"request_response",kind:"message",T:XLe,oneof:"message"},{no:23,name:"track_subscribed",kind:"message",T:YLe,oneof:"message"},{no:24,name:"room_moved",kind:"message",T:VLe,oneof:"message"},{no:25,name:"media_sections_requirement",kind:"message",T:JLe,oneof:"message"},{no:26,name:"subscribed_audio_codec_update",kind:"message",T:QLe,oneof:"message"}]),C_=ye.makeMessageType("livekit.SimulcastCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"cid",kind:"scalar",T:9},{no:4,name:"layers",kind:"message",T:id,repeated:!0},{no:5,name:"video_layer_mode",kind:"enum",T:ye.getEnumType(SH)}]),uv=ye.makeMessageType("livekit.AddTrackRequest",()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:ye.getEnumType(tl)},{no:4,name:"width",kind:"scalar",T:13},{no:5,name:"height",kind:"scalar",T:13},{no:6,name:"muted",kind:"scalar",T:8},{no:7,name:"disable_dtx",kind:"scalar",T:8},{no:8,name:"source",kind:"enum",T:ye.getEnumType(ni)},{no:9,name:"layers",kind:"message",T:id,repeated:!0},{no:10,name:"simulcast_codecs",kind:"message",T:C_,repeated:!0},{no:11,name:"sid",kind:"scalar",T:9},{no:12,name:"stereo",kind:"scalar",T:8},{no:13,name:"disable_red",kind:"scalar",T:8},{no:14,name:"encryption",kind:"enum",T:ye.getEnumType(bi)},{no:15,name:"stream",kind:"scalar",T:9},{no:16,name:"backup_codec_policy",kind:"enum",T:ye.getEnumType(kH)},{no:17,name:"audio_features",kind:"enum",T:ye.getEnumType(Ai),repeated:!0}]),gw=ye.makeMessageType("livekit.TrickleRequest",()=>[{no:1,name:"candidateInit",kind:"scalar",T:9},{no:2,name:"target",kind:"enum",T:ye.getEnumType(nl)},{no:3,name:"final",kind:"scalar",T:8}]),pw=ye.makeMessageType("livekit.MuteTrackRequest",()=>[{no:1,name:"sid",kind:"scalar",T:9},{no:2,name:"muted",kind:"scalar",T:8}]),DLe=ye.makeMessageType("livekit.JoinResponse",()=>[{no:1,name:"room",kind:"message",T:mw},{no:2,name:"participant",kind:"message",T:Uh},{no:3,name:"other_participants",kind:"message",T:Uh,repeated:!0},{no:4,name:"server_version",kind:"scalar",T:9},{no:5,name:"ice_servers",kind:"message",T:QH,repeated:!0},{no:6,name:"subscriber_primary",kind:"scalar",T:8},{no:7,name:"alternative_url",kind:"scalar",T:9},{no:8,name:"client_configuration",kind:"message",T:IH},{no:9,name:"server_region",kind:"scalar",T:9},{no:10,name:"ping_timeout",kind:"scalar",T:5},{no:11,name:"ping_interval",kind:"scalar",T:5},{no:12,name:"server_info",kind:"message",T:AH},{no:13,name:"sif_trailer",kind:"scalar",T:12},{no:14,name:"enabled_publish_codecs",kind:"message",T:M2,repeated:!0},{no:15,name:"fast_publish",kind:"scalar",T:8}]),ALe=ye.makeMessageType("livekit.ReconnectResponse",()=>[{no:1,name:"ice_servers",kind:"message",T:QH,repeated:!0},{no:2,name:"client_configuration",kind:"message",T:IH},{no:3,name:"server_info",kind:"message",T:AH},{no:4,name:"last_message_seq",kind:"scalar",T:13}]),x6=ye.makeMessageType("livekit.TrackPublishedResponse",()=>[{no:1,name:"cid",kind:"scalar",T:9},{no:2,name:"track",kind:"message",T:nm}]),PLe=ye.makeMessageType("livekit.TrackUnpublishedResponse",()=>[{no:1,name:"track_sid",kind:"scalar",T:9}]),Sd=ye.makeMessageType("livekit.SessionDescription",()=>[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"sdp",kind:"scalar",T:9},{no:3,name:"id",kind:"scalar",T:13},{no:4,name:"mid_to_track_id",kind:"map",K:9,V:{kind:"scalar",T:9}}]),RLe=ye.makeMessageType("livekit.ParticipantUpdate",()=>[{no:1,name:"participants",kind:"message",T:Uh,repeated:!0}]),vw=ye.makeMessageType("livekit.UpdateSubscription",()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:2,name:"subscribe",kind:"scalar",T:8},{no:3,name:"participant_tracks",kind:"message",T:DH,repeated:!0}]),FH=ye.makeMessageType("livekit.UpdateTrackSettings",()=>[{no:1,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:3,name:"disabled",kind:"scalar",T:8},{no:4,name:"quality",kind:"enum",T:ye.getEnumType(y6)},{no:5,name:"width",kind:"scalar",T:13},{no:6,name:"height",kind:"scalar",T:13},{no:7,name:"fps",kind:"scalar",T:13},{no:8,name:"priority",kind:"scalar",T:13}]),_6=ye.makeMessageType("livekit.UpdateLocalAudioTrack",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"features",kind:"enum",T:ye.getEnumType(Ai),repeated:!0}]),BH=ye.makeMessageType("livekit.UpdateLocalVideoTrack",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"width",kind:"scalar",T:13},{no:3,name:"height",kind:"scalar",T:13}]),bw=ye.makeMessageType("livekit.LeaveRequest",()=>[{no:1,name:"can_reconnect",kind:"scalar",T:8},{no:2,name:"reason",kind:"enum",T:ye.getEnumType(il)},{no:3,name:"action",kind:"enum",T:ye.getEnumType(_m)},{no:4,name:"regions",kind:"message",T:qLe}]),_m=ye.makeEnum("livekit.LeaveRequest.Action",[{no:0,name:"DISCONNECT"},{no:1,name:"RESUME"},{no:2,name:"RECONNECT"}]),zH=ye.makeMessageType("livekit.UpdateVideoLayers",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"layers",kind:"message",T:id,repeated:!0}]),C6=ye.makeMessageType("livekit.UpdateParticipantMetadata",()=>[{no:1,name:"metadata",kind:"scalar",T:9},{no:2,name:"name",kind:"scalar",T:9},{no:3,name:"attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:4,name:"request_id",kind:"scalar",T:13}]),QH=ye.makeMessageType("livekit.ICEServer",()=>[{no:1,name:"urls",kind:"scalar",T:9,repeated:!0},{no:2,name:"username",kind:"scalar",T:9},{no:3,name:"credential",kind:"scalar",T:9}]),MLe=ye.makeMessageType("livekit.SpeakersChanged",()=>[{no:1,name:"speakers",kind:"message",T:CH,repeated:!0}]),ILe=ye.makeMessageType("livekit.RoomUpdate",()=>[{no:1,name:"room",kind:"message",T:mw}]),$Le=ye.makeMessageType("livekit.ConnectionQualityInfo",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"quality",kind:"enum",T:ye.getEnumType(Up)},{no:3,name:"score",kind:"scalar",T:2}]),LLe=ye.makeMessageType("livekit.ConnectionQualityUpdate",()=>[{no:1,name:"updates",kind:"message",T:$Le,repeated:!0}]),NLe=ye.makeMessageType("livekit.StreamStateInfo",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"state",kind:"enum",T:ye.getEnumType(__)}]),FLe=ye.makeMessageType("livekit.StreamStateUpdate",()=>[{no:1,name:"stream_states",kind:"message",T:NLe,repeated:!0}]),E6=ye.makeMessageType("livekit.SubscribedQuality",()=>[{no:1,name:"quality",kind:"enum",T:ye.getEnumType(y6)},{no:2,name:"enabled",kind:"scalar",T:8}]),BLe=ye.makeMessageType("livekit.SubscribedCodec",()=>[{no:1,name:"codec",kind:"scalar",T:9},{no:2,name:"qualities",kind:"message",T:E6,repeated:!0}]),zLe=ye.makeMessageType("livekit.SubscribedQualityUpdate",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"subscribed_qualities",kind:"message",T:E6,repeated:!0},{no:3,name:"subscribed_codecs",kind:"message",T:BLe,repeated:!0}]),QLe=ye.makeMessageType("livekit.SubscribedAudioCodecUpdate",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"subscribed_audio_codecs",kind:"message",T:CLe,repeated:!0}]),UH=ye.makeMessageType("livekit.TrackPermission",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"all_tracks",kind:"scalar",T:8},{no:3,name:"track_sids",kind:"scalar",T:9,repeated:!0},{no:4,name:"participant_identity",kind:"scalar",T:9}]),VH=ye.makeMessageType("livekit.SubscriptionPermission",()=>[{no:1,name:"all_participants",kind:"scalar",T:8},{no:2,name:"track_permissions",kind:"message",T:UH,repeated:!0}]),ULe=ye.makeMessageType("livekit.SubscriptionPermissionUpdate",()=>[{no:1,name:"participant_sid",kind:"scalar",T:9},{no:2,name:"track_sid",kind:"scalar",T:9},{no:3,name:"allowed",kind:"scalar",T:8}]),VLe=ye.makeMessageType("livekit.RoomMovedResponse",()=>[{no:1,name:"room",kind:"message",T:mw},{no:2,name:"token",kind:"scalar",T:9},{no:3,name:"participant",kind:"message",T:Uh},{no:4,name:"other_participants",kind:"message",T:Uh,repeated:!0}]),T6=ye.makeMessageType("livekit.SyncState",()=>[{no:1,name:"answer",kind:"message",T:Sd},{no:2,name:"subscription",kind:"message",T:vw},{no:3,name:"publish_tracks",kind:"message",T:x6,repeated:!0},{no:4,name:"data_channels",kind:"message",T:qH,repeated:!0},{no:5,name:"offer",kind:"message",T:Sd},{no:6,name:"track_sids_disabled",kind:"scalar",T:9,repeated:!0},{no:7,name:"datachannel_receive_states",kind:"message",T:jH,repeated:!0}]),jH=ye.makeMessageType("livekit.DataChannelReceiveState",()=>[{no:1,name:"publisher_sid",kind:"scalar",T:9},{no:2,name:"last_seq",kind:"scalar",T:13}]),qH=ye.makeMessageType("livekit.DataChannelInfo",()=>[{no:1,name:"label",kind:"scalar",T:9},{no:2,name:"id",kind:"scalar",T:13},{no:3,name:"target",kind:"enum",T:ye.getEnumType(nl)}]),Pl=ye.makeMessageType("livekit.SimulateScenario",()=>[{no:1,name:"speaker_update",kind:"scalar",T:5,oneof:"scenario"},{no:2,name:"node_failure",kind:"scalar",T:8,oneof:"scenario"},{no:3,name:"migration",kind:"scalar",T:8,oneof:"scenario"},{no:4,name:"server_leave",kind:"scalar",T:8,oneof:"scenario"},{no:5,name:"switch_candidate_protocol",kind:"enum",T:ye.getEnumType(ELe),oneof:"scenario"},{no:6,name:"subscriber_bandwidth",kind:"scalar",T:3,oneof:"scenario"},{no:7,name:"disconnect_signal_on_resume",kind:"scalar",T:8,oneof:"scenario"},{no:8,name:"disconnect_signal_on_resume_no_messages",kind:"scalar",T:8,oneof:"scenario"},{no:9,name:"leave_request_full_reconnect",kind:"scalar",T:8,oneof:"scenario"}]),HH=ye.makeMessageType("livekit.Ping",()=>[{no:1,name:"timestamp",kind:"scalar",T:3},{no:2,name:"rtt",kind:"scalar",T:3}]),jLe=ye.makeMessageType("livekit.Pong",()=>[{no:1,name:"last_ping_timestamp",kind:"scalar",T:3},{no:2,name:"timestamp",kind:"scalar",T:3}]),qLe=ye.makeMessageType("livekit.RegionSettings",()=>[{no:1,name:"regions",kind:"message",T:HLe,repeated:!0}]),HLe=ye.makeMessageType("livekit.RegionInfo",()=>[{no:1,name:"region",kind:"scalar",T:9},{no:2,name:"url",kind:"scalar",T:9},{no:3,name:"distance",kind:"scalar",T:3}]),WLe=ye.makeMessageType("livekit.SubscriptionResponse",()=>[{no:1,name:"track_sid",kind:"scalar",T:9},{no:2,name:"err",kind:"enum",T:ye.getEnumType(bLe)}]),XLe=ye.makeMessageType("livekit.RequestResponse",()=>[{no:1,name:"request_id",kind:"scalar",T:13},{no:2,name:"reason",kind:"enum",T:ye.getEnumType(D6)},{no:3,name:"message",kind:"scalar",T:9},{no:4,name:"trickle",kind:"message",T:gw,oneof:"request"},{no:5,name:"add_track",kind:"message",T:uv,oneof:"request"},{no:6,name:"mute",kind:"message",T:pw,oneof:"request"},{no:7,name:"update_metadata",kind:"message",T:C6,oneof:"request"},{no:8,name:"update_audio_track",kind:"message",T:_6,oneof:"request"},{no:9,name:"update_video_track",kind:"message",T:BH,oneof:"request"}]),D6=ye.makeEnum("livekit.RequestResponse.Reason",[{no:0,name:"OK"},{no:1,name:"NOT_FOUND"},{no:2,name:"NOT_ALLOWED"},{no:3,name:"LIMIT_EXCEEDED"},{no:4,name:"QUEUED"},{no:5,name:"UNSUPPORTED_TYPE"},{no:6,name:"UNCLASSIFIED_ERROR"}]),YLe=ye.makeMessageType("livekit.TrackSubscribed",()=>[{no:1,name:"track_sid",kind:"scalar",T:9}]),WH=ye.makeMessageType("livekit.ConnectionSettings",()=>[{no:1,name:"auto_subscribe",kind:"scalar",T:8},{no:2,name:"adaptive_stream",kind:"scalar",T:8},{no:3,name:"subscriber_allow_pause",kind:"scalar",T:8,opt:!0},{no:4,name:"disable_ice_lite",kind:"scalar",T:8}]),GLe=ye.makeMessageType("livekit.JoinRequest",()=>[{no:1,name:"client_info",kind:"message",T:RH},{no:2,name:"connection_settings",kind:"message",T:WH},{no:3,name:"metadata",kind:"scalar",T:9},{no:4,name:"participant_attributes",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"add_track_requests",kind:"message",T:uv,repeated:!0},{no:6,name:"publisher_offer",kind:"message",T:Sd},{no:7,name:"reconnect",kind:"scalar",T:8},{no:8,name:"reconnect_reason",kind:"enum",T:ye.getEnumType(nh)},{no:9,name:"participant_sid",kind:"scalar",T:9},{no:10,name:"sync_state",kind:"message",T:T6}]),ZLe=ye.makeMessageType("livekit.WrappedJoinRequest",()=>[{no:1,name:"compression",kind:"enum",T:ye.getEnumType(KLe)},{no:2,name:"join_request",kind:"scalar",T:12}]),KLe=ye.makeEnum("livekit.WrappedJoinRequest.Compression",[{no:0,name:"NONE"},{no:1,name:"GZIP"}]),JLe=ye.makeMessageType("livekit.MediaSectionsRequirement",()=>[{no:1,name:"num_audios",kind:"scalar",T:13},{no:2,name:"num_videos",kind:"scalar",T:13}]);function eNe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ay={exports:{}},tNe=ay.exports,xR;function nNe(){return xR||(xR=1,function(t){(function(e,n){t.exports?t.exports=n():e.log=n()})(tNe,function(){var e=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],s={},o=null;function a(p,v){var b=p[v];if(typeof b.bind=="function")return b.bind(p);try{return Function.prototype.bind.call(b,p)}catch{return function(){return Function.prototype.apply.apply(b,[p,arguments])}}}function l(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function c(p){return p==="debug"&&(p="log"),typeof console===n?!1:p==="trace"&&r?l:console[p]!==void 0?a(console,p):console.log!==void 0?a(console,"log"):e}function d(){for(var p=this.getLevel(),v=0;v<i.length;v++){var b=i[v];this[b]=v<p?e:this.methodFactory(b,p,this.name)}if(this.log=this.debug,typeof console===n&&p<this.levels.SILENT)return"No console available for logging"}function h(p){return function(){typeof console!==n&&(d.call(this),this[p].apply(this,arguments))}}function f(p,v,b){return c(p)||h.apply(this,arguments)}function m(p,v){var b=this,y,C,x,O="loglevel";typeof p=="string"?O+=":"+p:typeof p=="symbol"&&(O=void 0);function S(L){var j=(i[L]||"silent").toUpperCase();if(!(typeof window===n||!O)){try{window.localStorage[O]=j;return}catch{}try{window.document.cookie=encodeURIComponent(O)+"="+j+";"}catch{}}}function T(){var L;if(!(typeof window===n||!O)){try{L=window.localStorage[O]}catch{}if(typeof L===n)try{var j=window.document.cookie,te=encodeURIComponent(O),U=j.indexOf(te+"=");U!==-1&&(L=/^([^;]+)/.exec(j.slice(U+te.length+1))[1])}catch{}return b.levels[L]===void 0&&(L=void 0),L}}function $(){if(!(typeof window===n||!O)){try{window.localStorage.removeItem(O)}catch{}try{window.document.cookie=encodeURIComponent(O)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function M(L){var j=L;if(typeof j=="string"&&b.levels[j.toUpperCase()]!==void 0&&(j=b.levels[j.toUpperCase()]),typeof j=="number"&&j>=0&&j<=b.levels.SILENT)return j;throw new TypeError("log.setLevel() called with invalid level: "+L)}b.name=p,b.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},b.methodFactory=v||f,b.getLevel=function(){return x??C??y},b.setLevel=function(L,j){return x=M(L),j!==!1&&S(x),d.call(b)},b.setDefaultLevel=function(L){C=M(L),T()||b.setLevel(L,!1)},b.resetLevel=function(){x=null,$(),d.call(b)},b.enableAll=function(L){b.setLevel(b.levels.TRACE,L)},b.disableAll=function(L){b.setLevel(b.levels.SILENT,L)},b.rebuild=function(){if(o!==b&&(y=M(o.getLevel())),d.call(b),o===b)for(var L in s)s[L].rebuild()},y=M(o?o.getLevel():"WARN");var P=T();P!=null&&(x=M(P)),d.call(b)}o=new m,o.getLogger=function(v){if(typeof v!="symbol"&&typeof v!="string"||v==="")throw new TypeError("You must supply a name when creating a logger.");var b=s[v];return b||(b=s[v]=new m(v,o.methodFactory)),b};var g=typeof window!==n?window.log:void 0;return o.noConflict=function(){return typeof window!==n&&window.log===o&&(window.log=g),o},o.getLoggers=function(){return s},o.default=o,o})}(ay)),ay.exports}var yw=nNe(),E_;(function(t){t[t.trace=0]="trace",t[t.debug=1]="debug",t[t.info=2]="info",t[t.warn=3]="warn",t[t.error=4]="error",t[t.silent=5]="silent"})(E_||(E_={}));var gl;(function(t){t.Default="livekit",t.Room="livekit-room",t.TokenSource="livekit-token-source",t.Participant="livekit-participant",t.Track="livekit-track",t.Publication="livekit-track-publication",t.Engine="livekit-engine",t.Signal="livekit-signal",t.PCManager="livekit-pc-manager",t.PCTransport="livekit-pc-transport",t.E2EE="lk-e2ee"})(gl||(gl={}));let pn=yw.getLogger("livekit");Object.values(gl).map(t=>yw.getLogger(t));pn.setDefaultLevel(E_.info);function ou(t){const e=yw.getLogger(t);return e.setDefaultLevel(pn.getLevel()),e}const rNe=yw.getLogger("lk-e2ee"),gp=7e3,iNe=[0,300,2*2*300,3*3*300,4*4*300,gp,gp,gp,gp,gp];class sNe{constructor(e){this._retryDelays=e!==void 0?[...e]:iNe}nextRetryDelayInMs(e){if(e.retryCount>=this._retryDelays.length)return null;const n=this._retryDelays[e.retryCount];return e.retryCount<=1?n:n+Math.random()*1e3}}function oNe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function J(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function _R(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qc(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof _R=="function"?_R(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}var hb={exports:{}},CR;function aNe(){if(CR)return hb.exports;CR=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(O,S,T){return Function.prototype.apply.call(O,S,T)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(O){return Object.getOwnPropertyNames(O).concat(Object.getOwnPropertySymbols(O))}:n=function(O){return Object.getOwnPropertyNames(O)};function r(x){console&&console.warn&&console.warn(x)}var i=Number.isNaN||function(O){return O!==O};function s(){s.init.call(this)}hb.exports=s,hb.exports.once=b,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(x){if(typeof x!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof x)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(x){if(typeof x!="number"||x<0||i(x))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+x+".");o=x}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(O){if(typeof O!="number"||O<0||i(O))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+O+".");return this._maxListeners=O,this};function l(x){return x._maxListeners===void 0?s.defaultMaxListeners:x._maxListeners}s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(O){for(var S=[],T=1;T<arguments.length;T++)S.push(arguments[T]);var $=O==="error",M=this._events;if(M!==void 0)$=$&&M.error===void 0;else if(!$)return!1;if($){var P;if(S.length>0&&(P=S[0]),P instanceof Error)throw P;var L=new Error("Unhandled error."+(P?" ("+P.message+")":""));throw L.context=P,L}var j=M[O];if(j===void 0)return!1;if(typeof j=="function")e(j,this,S);else for(var te=j.length,U=g(j,te),T=0;T<te;++T)e(U[T],this,S);return!0};function c(x,O,S,T){var $,M,P;if(a(S),M=x._events,M===void 0?(M=x._events=Object.create(null),x._eventsCount=0):(M.newListener!==void 0&&(x.emit("newListener",O,S.listener?S.listener:S),M=x._events),P=M[O]),P===void 0)P=M[O]=S,++x._eventsCount;else if(typeof P=="function"?P=M[O]=T?[S,P]:[P,S]:T?P.unshift(S):P.push(S),$=l(x),$>0&&P.length>$&&!P.warned){P.warned=!0;var L=new Error("Possible EventEmitter memory leak detected. "+P.length+" "+String(O)+" listeners added. Use emitter.setMaxListeners() to increase limit");L.name="MaxListenersExceededWarning",L.emitter=x,L.type=O,L.count=P.length,r(L)}return x}s.prototype.addListener=function(O,S){return c(this,O,S,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(O,S){return c(this,O,S,!0)};function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(x,O,S){var T={fired:!1,wrapFn:void 0,target:x,type:O,listener:S},$=d.bind(T);return $.listener=S,T.wrapFn=$,$}s.prototype.once=function(O,S){return a(S),this.on(O,h(this,O,S)),this},s.prototype.prependOnceListener=function(O,S){return a(S),this.prependListener(O,h(this,O,S)),this},s.prototype.removeListener=function(O,S){var T,$,M,P,L;if(a(S),$=this._events,$===void 0)return this;if(T=$[O],T===void 0)return this;if(T===S||T.listener===S)--this._eventsCount===0?this._events=Object.create(null):(delete $[O],$.removeListener&&this.emit("removeListener",O,T.listener||S));else if(typeof T!="function"){for(M=-1,P=T.length-1;P>=0;P--)if(T[P]===S||T[P].listener===S){L=T[P].listener,M=P;break}if(M<0)return this;M===0?T.shift():p(T,M),T.length===1&&($[O]=T[0]),$.removeListener!==void 0&&this.emit("removeListener",O,L||S)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(O){var S,T,$;if(T=this._events,T===void 0)return this;if(T.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):T[O]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete T[O]),this;if(arguments.length===0){var M=Object.keys(T),P;for($=0;$<M.length;++$)P=M[$],P!=="removeListener"&&this.removeAllListeners(P);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(S=T[O],typeof S=="function")this.removeListener(O,S);else if(S!==void 0)for($=S.length-1;$>=0;$--)this.removeListener(O,S[$]);return this};function f(x,O,S){var T=x._events;if(T===void 0)return[];var $=T[O];return $===void 0?[]:typeof $=="function"?S?[$.listener||$]:[$]:S?v($):g($,$.length)}s.prototype.listeners=function(O){return f(this,O,!0)},s.prototype.rawListeners=function(O){return f(this,O,!1)},s.listenerCount=function(x,O){return typeof x.listenerCount=="function"?x.listenerCount(O):m.call(x,O)},s.prototype.listenerCount=m;function m(x){var O=this._events;if(O!==void 0){var S=O[x];if(typeof S=="function")return 1;if(S!==void 0)return S.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function g(x,O){for(var S=new Array(O),T=0;T<O;++T)S[T]=x[T];return S}function p(x,O){for(;O+1<x.length;O++)x[O]=x[O+1];x.pop()}function v(x){for(var O=new Array(x.length),S=0;S<O.length;++S)O[S]=x[S].listener||x[S];return O}function b(x,O){return new Promise(function(S,T){function $(P){x.removeListener(O,M),T(P)}function M(){typeof x.removeListener=="function"&&x.removeListener("error",$),S([].slice.call(arguments))}C(x,O,M,{once:!0}),O!=="error"&&y(x,$,{once:!0})})}function y(x,O,S){typeof x.on=="function"&&C(x,"error",O,S)}function C(x,O,S,T){if(typeof x.on=="function")T.once?x.once(O,S):x.on(O,S);else if(typeof x.addEventListener=="function")x.addEventListener(O,function $(M){T.once&&x.removeEventListener(O,$),S(M)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof x)}return hb.exports}var pc=aNe();let XH=!0,YH=!0;function Vp(t,e,n){const r=t.match(e);return r&&r.length>=n&&parseFloat(r[n],10)}function uf(t,e,n){if(!t.RTCPeerConnection)return;const r=t.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(o,a){if(o!==e)return i.apply(this,arguments);const l=c=>{const d=n(c);d&&(a.handleEvent?a.handleEvent(d):a(d))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(a,l),i.apply(this,[o,l])};const s=r.removeEventListener;r.removeEventListener=function(o,a){if(o!==e||!this._eventMap||!this._eventMap[e])return s.apply(this,arguments);if(!this._eventMap[e].has(a))return s.apply(this,arguments);const l=this._eventMap[e].get(a);return this._eventMap[e].delete(a),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,s.apply(this,[o,l])},Object.defineProperty(r,"on"+e,{get(){return this["_on"+e]},set(o){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),o&&this.addEventListener(e,this["_on"+e]=o)},enumerable:!0,configurable:!0})}function lNe(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(XH=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function cNe(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(YH=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function GH(){if(typeof window=="object"){if(XH)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function A6(t,e){YH&&console.warn(t+" is deprecated, please use "+e+" instead.")}function uNe(t){const e={browser:null,version:null};if(typeof t>"u"||!t.navigator||!t.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:n}=t;if(n.userAgentData&&n.userAgentData.brands){const r=n.userAgentData.brands.find(i=>i.brand==="Chromium");if(r)return{browser:"chrome",version:parseInt(r.version,10)}}if(n.mozGetUserMedia)e.browser="firefox",e.version=parseInt(Vp(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection)e.browser="chrome",e.version=parseInt(Vp(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(t.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=parseInt(Vp(n.userAgent,/AppleWebKit\/(\d+)\./,1)),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype,e._safariVersion=Vp(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return e.browser="Not a supported browser.",e;return e}function ER(t){return Object.prototype.toString.call(t)==="[object Object]"}function ZH(t){return ER(t)?Object.keys(t).reduce(function(e,n){const r=ER(t[n]),i=r?ZH(t[n]):t[n],s=r&&!Object.keys(i).length;return i===void 0||s?e:Object.assign(e,{[n]:i})},{}):t}function T_(t,e,n){!e||n.has(e.id)||(n.set(e.id,e),Object.keys(e).forEach(r=>{r.endsWith("Id")?T_(t,t.get(e[r]),n):r.endsWith("Ids")&&e[r].forEach(i=>{T_(t,t.get(i),n)})}))}function TR(t,e,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(e===null)return i;const s=[];return t.forEach(o=>{o.type==="track"&&o.trackIdentifier===e.id&&s.push(o)}),s.forEach(o=>{t.forEach(a=>{a.type===r&&a.trackId===o.id&&T_(t,a,i)})}),i}const DR=GH;function KH(t,e){const n=t&&t.navigator;if(!n.mediaDevices)return;const r=function(a){if(typeof a!="object"||a.mandatory||a.optional)return a;const l={};return Object.keys(a).forEach(c=>{if(c==="require"||c==="advanced"||c==="mediaSource")return;const d=typeof a[c]=="object"?a[c]:{ideal:a[c]};d.exact!==void 0&&typeof d.exact=="number"&&(d.min=d.max=d.exact);const h=function(f,m){return f?f+m.charAt(0).toUpperCase()+m.slice(1):m==="deviceId"?"sourceId":m};if(d.ideal!==void 0){l.optional=l.optional||[];let f={};typeof d.ideal=="number"?(f[h("min",c)]=d.ideal,l.optional.push(f),f={},f[h("max",c)]=d.ideal,l.optional.push(f)):(f[h("",c)]=d.ideal,l.optional.push(f))}d.exact!==void 0&&typeof d.exact!="number"?(l.mandatory=l.mandatory||{},l.mandatory[h("",c)]=d.exact):["min","max"].forEach(f=>{d[f]!==void 0&&(l.mandatory=l.mandatory||{},l.mandatory[h(f,c)]=d[f])})}),a.advanced&&(l.optional=(l.optional||[]).concat(a.advanced)),l},i=function(a,l){if(e.version>=61)return l(a);if(a=JSON.parse(JSON.stringify(a)),a&&typeof a.audio=="object"){const c=function(d,h,f){h in d&&!(f in d)&&(d[f]=d[h],delete d[h])};a=JSON.parse(JSON.stringify(a)),c(a.audio,"autoGainControl","googAutoGainControl"),c(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=r(a.audio)}if(a&&typeof a.video=="object"){let c=a.video.facingMode;c=c&&(typeof c=="object"?c:{ideal:c});const d=e.version<66;if(c&&(c.exact==="user"||c.exact==="environment"||c.ideal==="user"||c.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!d)){delete a.video.facingMode;let h;if(c.exact==="environment"||c.ideal==="environment"?h=["back","rear"]:(c.exact==="user"||c.ideal==="user")&&(h=["front"]),h)return n.mediaDevices.enumerateDevices().then(f=>{f=f.filter(g=>g.kind==="videoinput");let m=f.find(g=>h.some(p=>g.label.toLowerCase().includes(p)));return!m&&f.length&&h.includes("back")&&(m=f[f.length-1]),m&&(a.video.deviceId=c.exact?{exact:m.deviceId}:{ideal:m.deviceId}),a.video=r(a.video),DR("chrome: "+JSON.stringify(a)),l(a)})}a.video=r(a.video)}return DR("chrome: "+JSON.stringify(a)),l(a)},s=function(a){return e.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},o=function(a,l,c){i(a,d=>{n.webkitGetUserMedia(d,l,h=>{c&&c(s(h))})})};if(n.getUserMedia=o.bind(n),n.mediaDevices.getUserMedia){const a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(l){return i(l,c=>a(c).then(d=>{if(c.audio&&!d.getAudioTracks().length||c.video&&!d.getVideoTracks().length)throw d.getTracks().forEach(h=>{h.stop()}),new DOMException("","NotFoundError");return d},d=>Promise.reject(s(d))))}}}function JH(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function eW(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",i=>{let s;t.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(a=>a.track&&a.track.id===i.track.id):s={track:i.track};const o=new Event("track");o.track=i.track,o.receiver=s,o.transceiver={receiver:s},o.streams=[r.stream],this.dispatchEvent(o)}),r.stream.getTracks().forEach(i=>{let s;t.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(a=>a.track&&a.track.id===i.id):s={track:i};const o=new Event("track");o.track=i,o.receiver=s,o.transceiver={receiver:s},o.streams=[r.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else uf(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function tW(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(i,s){return{track:s,get dtmf(){return this._dtmf===void 0&&(s.kind==="audio"?this._dtmf=i.createDTMFSender(s):this._dtmf=null),this._dtmf},_pc:i}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(a,l){let c=i.apply(this,arguments);return c||(c=e(this,a),this._senders.push(c)),c};const s=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(a){s.apply(this,arguments);const l=this._senders.indexOf(a);l!==-1&&this._senders.splice(l,1)}}const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(s){this._senders=this._senders||[],n.apply(this,[s]),s.getTracks().forEach(o=>{this._senders.push(e(this,o))})};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(s){this._senders=this._senders||[],r.apply(this,[s]),s.getTracks().forEach(o=>{const a=this._senders.find(l=>l.track===o);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const r=e.apply(this,[]);return r.forEach(i=>i._pc=this),r},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function nW(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const n=t.RTCPeerConnection.prototype.getSenders;n&&(t.RTCPeerConnection.prototype.getSenders=function(){const s=n.apply(this,[]);return s.forEach(o=>o._pc=this),s});const r=t.RTCPeerConnection.prototype.addTrack;r&&(t.RTCPeerConnection.prototype.addTrack=function(){const s=r.apply(this,arguments);return s._pc=this,s}),t.RTCRtpSender.prototype.getStats=function(){const s=this;return this._pc.getStats().then(o=>TR(o,s.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const n=t.RTCPeerConnection.prototype.getReceivers;n&&(t.RTCPeerConnection.prototype.getReceivers=function(){const i=n.apply(this,[]);return i.forEach(s=>s._pc=this),i}),uf(t,"track",r=>(r.receiver._pc=r.srcElement,r)),t.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(s=>TR(s,i.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const r=arguments[0];let i,s,o;return this.getSenders().forEach(a=>{a.track===r&&(i?o=!0:i=a)}),this.getReceivers().forEach(a=>(a.track===r&&(s?o=!0:s=a),a.track===r)),o||i&&s?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():s?s.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function rW(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(o=>this._shimmedLocalStreams[o][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(o,a){if(!a)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const l=e.apply(this,arguments);return this._shimmedLocalStreams[a.id]?this._shimmedLocalStreams[a.id].indexOf(l)===-1&&this._shimmedLocalStreams[a.id].push(l):this._shimmedLocalStreams[a.id]=[a,l],l};const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(o){this._shimmedLocalStreams=this._shimmedLocalStreams||{},o.getTracks().forEach(c=>{if(this.getSenders().find(h=>h.track===c))throw new DOMException("Track already exists.","InvalidAccessError")});const a=this.getSenders();n.apply(this,arguments);const l=this.getSenders().filter(c=>a.indexOf(c)===-1);this._shimmedLocalStreams[o.id]=[o].concat(l)};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[o.id],r.apply(this,arguments)};const i=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},o&&Object.keys(this._shimmedLocalStreams).forEach(a=>{const l=this._shimmedLocalStreams[a].indexOf(o);l!==-1&&this._shimmedLocalStreams[a].splice(l,1),this._shimmedLocalStreams[a].length===1&&delete this._shimmedLocalStreams[a]}),i.apply(this,arguments)}}function iW(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return rW(t);const n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const d=n.apply(this);return this._reverseStreams=this._reverseStreams||{},d.map(h=>this._reverseStreams[h.id])};const r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(d){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},d.getTracks().forEach(h=>{if(this.getSenders().find(m=>m.track===h))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[d.id]){const h=new t.MediaStream(d.getTracks());this._streams[d.id]=h,this._reverseStreams[h.id]=d,d=h}r.apply(this,[d])};const i=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(d){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[d.id]||d]),delete this._reverseStreams[this._streams[d.id]?this._streams[d.id].id:d.id],delete this._streams[d.id]},t.RTCPeerConnection.prototype.addTrack=function(d,h){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const f=[].slice.call(arguments,1);if(f.length!==1||!f[0].getTracks().find(p=>p===d))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(p=>p.track===d))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const g=this._streams[h.id];if(g)g.addTrack(d),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const p=new t.MediaStream([d]);this._streams[h.id]=p,this._reverseStreams[p.id]=h,this.addStream(p)}return this.getSenders().find(p=>p.track===d)};function s(c,d){let h=d.sdp;return Object.keys(c._reverseStreams||[]).forEach(f=>{const m=c._reverseStreams[f],g=c._streams[m.id];h=h.replace(new RegExp(g.id,"g"),m.id)}),new RTCSessionDescription({type:d.type,sdp:h})}function o(c,d){let h=d.sdp;return Object.keys(c._reverseStreams||[]).forEach(f=>{const m=c._reverseStreams[f],g=c._streams[m.id];h=h.replace(new RegExp(m.id,"g"),g.id)}),new RTCSessionDescription({type:d.type,sdp:h})}["createOffer","createAnswer"].forEach(function(c){const d=t.RTCPeerConnection.prototype[c],h={[c](){const f=arguments;return arguments.length&&typeof arguments[0]=="function"?d.apply(this,[g=>{const p=s(this,g);f[0].apply(null,[p])},g=>{f[1]&&f[1].apply(null,g)},arguments[2]]):d.apply(this,arguments).then(g=>s(this,g))}};t.RTCPeerConnection.prototype[c]=h[c]});const a=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?a.apply(this,arguments):(arguments[0]=o(this,arguments[0]),a.apply(this,arguments))};const l=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const c=l.get.apply(this);return c.type===""?c:s(this,c)}}),t.RTCPeerConnection.prototype.removeTrack=function(d){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!d._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(d._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let f;Object.keys(this._streams).forEach(m=>{this._streams[m].getTracks().find(p=>d.track===p)&&(f=this._streams[m])}),f&&(f.getTracks().length===1?this.removeStream(this._reverseStreams[f.id]):f.removeTrack(d.track),this.dispatchEvent(new Event("negotiationneeded")))}}function D_(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=t.RTCPeerConnection.prototype[n],i={[n](){return arguments[0]=new(n==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};t.RTCPeerConnection.prototype[n]=i[n]})}function sW(t,e){uf(t,"negotiationneeded",n=>{const r=n.target;if(!((e.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}var AR=Object.freeze({__proto__:null,fixNegotiationNeeded:sW,shimAddTrackRemoveTrack:iW,shimAddTrackRemoveTrackWithNative:rW,shimGetSendersWithDtmf:tW,shimGetUserMedia:KH,shimMediaStream:JH,shimOnTrack:eW,shimPeerConnection:D_,shimSenderReceiverGetStats:nW});function oW(t,e){const n=t&&t.navigator,r=t&&t.MediaStreamTrack;if(n.getUserMedia=function(i,s,o){A6("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(i).then(s,o)},!(e.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const i=function(o,a,l){a in o&&!(l in o)&&(o[l]=o[a],delete o[a])},s=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(o){return typeof o=="object"&&typeof o.audio=="object"&&(o=JSON.parse(JSON.stringify(o)),i(o.audio,"autoGainControl","mozAutoGainControl"),i(o.audio,"noiseSuppression","mozNoiseSuppression")),s(o)},r&&r.prototype.getSettings){const o=r.prototype.getSettings;r.prototype.getSettings=function(){const a=o.apply(this,arguments);return i(a,"mozAutoGainControl","autoGainControl"),i(a,"mozNoiseSuppression","noiseSuppression"),a}}if(r&&r.prototype.applyConstraints){const o=r.prototype.applyConstraints;r.prototype.applyConstraints=function(a){return this.kind==="audio"&&typeof a=="object"&&(a=JSON.parse(JSON.stringify(a)),i(a,"autoGainControl","mozAutoGainControl"),i(a,"noiseSuppression","mozNoiseSuppression")),o.apply(this,[a])}}}}function dNe(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return r.video===!0?r.video={mediaSource:e}:r.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(r)})}function aW(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function A_(t,e){if(typeof t!="object"||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const s=t.RTCPeerConnection.prototype[i],o={[i](){return arguments[0]=new(i==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};t.RTCPeerConnection.prototype[i]=o[i]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[s,o,a]=arguments;return r.apply(this,[s||null]).then(l=>{if(e.version<53&&!o)try{l.forEach(c=>{c.type=n[c.type]||c.type})}catch(c){if(c.name!=="TypeError")throw c;l.forEach((d,h)=>{l.set(h,Object.assign({},d,{type:n[d.type]||d.type}))})}return l}).then(o,a)}}function lW(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const i=e.apply(this,[]);return i.forEach(s=>s._pc=this),i});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const i=n.apply(this,arguments);return i._pc=this,i}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function cW(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const r=e.apply(this,[]);return r.forEach(i=>i._pc=this),r}),uf(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function uW(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){A6("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function dW(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function hW(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const i=r.length>0;i&&r.forEach(o=>{if("rid"in o&&!/^[a-z0-9]{0,16}$/i.test(o.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in o&&!(parseFloat(o.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in o&&!(parseFloat(o.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const s=e.apply(this,arguments);if(i){const{sender:o}=s,a=o.getParameters();(!("encodings"in a)||a.encodings.length===1&&Object.keys(a.encodings[0]).length===0)&&(a.encodings=r,o.sendEncodings=r,this.setParametersPromises.push(o.setParameters(a).then(()=>{delete o.sendEncodings}).catch(()=>{delete o.sendEncodings})))}return s})}function fW(t){if(!(typeof t=="object"&&t.RTCRtpSender))return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const r=e.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function mW(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function gW(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}var PR=Object.freeze({__proto__:null,shimAddTransceiver:hW,shimCreateAnswer:gW,shimCreateOffer:mW,shimGetDisplayMedia:dNe,shimGetParameters:fW,shimGetUserMedia:oW,shimOnTrack:aW,shimPeerConnection:A_,shimRTCDataChannel:dW,shimReceiverGetStats:cW,shimRemoveStream:uW,shimSenderGetStats:lW});function pW(t){if(!(typeof t!="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(i=>e.call(this,i,r)),r.getVideoTracks().forEach(i=>e.call(this,i,r))},t.RTCPeerConnection.prototype.addTrack=function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return s&&s.forEach(a=>{this._localStreams?this._localStreams.includes(a)||this._localStreams.push(a):this._localStreams=[a]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const i=n.getTracks();this.getSenders().forEach(s=>{i.includes(s.track)&&this.removeTrack(s)})})}}function vW(t){if(!(typeof t!="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const s=new Event("addstream");s.stream=i,this.dispatchEvent(s)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(s=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(s)>=0)return;r._remoteStreams.push(s);const o=new Event("addstream");o.stream=s,r.dispatchEvent(o)})}),e.apply(r,arguments)}}}function bW(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,n=e.createOffer,r=e.createAnswer,i=e.setLocalDescription,s=e.setRemoteDescription,o=e.addIceCandidate;e.createOffer=function(c,d){const h=arguments.length>=2?arguments[2]:arguments[0],f=n.apply(this,[h]);return d?(f.then(c,d),Promise.resolve()):f},e.createAnswer=function(c,d){const h=arguments.length>=2?arguments[2]:arguments[0],f=r.apply(this,[h]);return d?(f.then(c,d),Promise.resolve()):f};let a=function(l,c,d){const h=i.apply(this,[l]);return d?(h.then(c,d),Promise.resolve()):h};e.setLocalDescription=a,a=function(l,c,d){const h=s.apply(this,[l]);return d?(h.then(c,d),Promise.resolve()):h},e.setRemoteDescription=a,a=function(l,c,d){const h=o.apply(this,[l]);return d?(h.then(c,d),Promise.resolve()):h},e.addIceCandidate=a}function yW(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const n=e.mediaDevices,r=n.getUserMedia.bind(n);e.mediaDevices.getUserMedia=i=>r(OW(i))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=function(r,i,s){e.mediaDevices.getUserMedia(r).then(i,s)}.bind(e))}function OW(t){return t&&t.video!==void 0?Object.assign({},t,{video:ZH(t.video)}):t}function wW(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(r,i){if(r&&r.iceServers){const s=[];for(let o=0;o<r.iceServers.length;o++){let a=r.iceServers[o];a.urls===void 0&&a.url?(A6("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,s.push(a)):s.push(r.iceServers[o])}r.iceServers=s}return new e(r,i)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function kW(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function SW(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const i=this.getTransceivers().find(o=>o.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const s=this.getTransceivers().find(o=>o.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):r.offerToReceiveVideo===!0&&!s&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function xW(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}var RR=Object.freeze({__proto__:null,shimAudioContext:xW,shimCallbacksAPI:bW,shimConstraints:OW,shimCreateOfferLegacy:SW,shimGetUserMedia:yW,shimLocalStreamsAPI:pW,shimRTCIceServerUrls:wW,shimRemoteStreamsAPI:vW,shimTrackEventTransceiver:kW}),e4={exports:{}},MR;function hNe(){return MR||(MR=1,function(t){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},e.splitSections=function(n){return n.split(`
m=`).map((i,s)=>(s>0?"m="+i:i).trim()+`\r
`)},e.getDescription=function(n){const r=e.splitSections(n);return r&&r[0]},e.getMediaSections=function(n){const r=e.splitSections(n);return r.shift(),r},e.matchPrefix=function(n,r){return e.splitLines(n).filter(i=>i.indexOf(r)===0)},e.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const i={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let s=8;s<r.length;s+=2)switch(r[s]){case"raddr":i.relatedAddress=r[s+1];break;case"rport":i.relatedPort=parseInt(r[s+1],10);break;case"tcptype":i.tcpType=r[s+1];break;case"ufrag":i.ufrag=r[s+1],i.usernameFragment=r[s+1];break;default:i[r[s]]===void 0&&(i[r[s]]=r[s+1]);break}return i},e.writeCandidate=function(n){const r=[];r.push(n.foundation);const i=n.component;i==="rtp"?r.push(1):i==="rtcp"?r.push(2):r.push(i),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const s=n.type;return r.push("typ"),r.push(s),s!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},e.parseIceOptions=function(n){return n.substring(14).split(" ")},e.parseRtpMap=function(n){let r=n.substring(9).split(" ");const i={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),i.name=r[0],i.clockRate=parseInt(r[1],10),i.channels=r.length===3?parseInt(r[2],10):1,i.numChannels=i.channels,i},e.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const i=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(i!==1?"/"+i:"")+`\r
`},e.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},e.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},e.parseFmtp=function(n){const r={};let i;const s=n.substring(n.indexOf(" ")+1).split(";");for(let o=0;o<s.length;o++)i=s[o].trim().split("="),r[i[0].trim()]=i[1];return r},e.writeFmtp=function(n){let r="",i=n.payloadType;if(n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const s=[];Object.keys(n.parameters).forEach(o=>{n.parameters[o]!==void 0?s.push(o+"="+n.parameters[o]):s.push(o)}),r+="a=fmtp:"+i+" "+s.join(";")+`\r
`}return r},e.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},e.writeRtcpFb=function(n){let r="",i=n.payloadType;return n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(s=>{r+="a=rtcp-fb:"+i+" "+s.type+(s.parameter&&s.parameter.length?" "+s.parameter:"")+`\r
`}),r},e.parseSsrcMedia=function(n){const r=n.indexOf(" "),i={ssrc:parseInt(n.substring(7,r),10)},s=n.indexOf(":",r);return s>-1?(i.attribute=n.substring(r+1,s),i.value=n.substring(s+1)):i.attribute=n.substring(r+1),i},e.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(i=>parseInt(i,10))}},e.getMid=function(n){const r=e.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},e.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},e.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:e.matchPrefix(n+r,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(n,r){let i="a=setup:"+r+`\r
`;return n.fingerprints.forEach(s=>{i+="a=fingerprint:"+s.algorithm+" "+s.value+`\r
`}),i},e.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},e.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?e.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},e.getCryptoParameters=function(n,r){return e.matchPrefix(n+r,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(n,r){const i=e.matchPrefix(n+r,"a=ice-ufrag:")[0],s=e.matchPrefix(n+r,"a=ice-pwd:")[0];return i&&s?{usernameFragment:i.substring(12),password:s.substring(10)}:null},e.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},e.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},s=e.splitLines(n)[0].split(" ");r.profile=s[2];for(let a=3;a<s.length;a++){const l=s[a],c=e.matchPrefix(n,"a=rtpmap:"+l+" ")[0];if(c){const d=e.parseRtpMap(c),h=e.matchPrefix(n,"a=fmtp:"+l+" ");switch(d.parameters=h.length?e.parseFmtp(h[0]):{},d.rtcpFeedback=e.matchPrefix(n,"a=rtcp-fb:"+l+" ").map(e.parseRtcpFb),r.codecs.push(d),d.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(d.name.toUpperCase());break}}}e.matchPrefix(n,"a=extmap:").forEach(a=>{r.headerExtensions.push(e.parseExtmap(a))});const o=e.matchPrefix(n,"a=rtcp-fb:* ").map(e.parseRtcpFb);return r.codecs.forEach(a=>{o.forEach(l=>{a.rtcpFeedback.find(d=>d.type===l.type&&d.parameter===l.parameter)||a.rtcpFeedback.push(l)})}),r},e.writeRtpDescription=function(n,r){let i="";i+="m="+n+" ",i+=r.codecs.length>0?"9":"0",i+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",i+=r.codecs.map(o=>o.preferredPayloadType!==void 0?o.preferredPayloadType:o.payloadType).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(o=>{i+=e.writeRtpMap(o),i+=e.writeFmtp(o),i+=e.writeRtcpFb(o)});let s=0;return r.codecs.forEach(o=>{o.maxptime>s&&(s=o.maxptime)}),s>0&&(i+="a=maxptime:"+s+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(o=>{i+=e.writeExtmap(o)}),i},e.parseRtpEncodingParameters=function(n){const r=[],i=e.parseRtpParameters(n),s=i.fecMechanisms.indexOf("RED")!==-1,o=i.fecMechanisms.indexOf("ULPFEC")!==-1,a=e.matchPrefix(n,"a=ssrc:").map(f=>e.parseSsrcMedia(f)).filter(f=>f.attribute==="cname"),l=a.length>0&&a[0].ssrc;let c;const d=e.matchPrefix(n,"a=ssrc-group:FID").map(f=>f.substring(17).split(" ").map(g=>parseInt(g,10)));d.length>0&&d[0].length>1&&d[0][0]===l&&(c=d[0][1]),i.codecs.forEach(f=>{if(f.name.toUpperCase()==="RTX"&&f.parameters.apt){let m={ssrc:l,codecPayloadType:parseInt(f.parameters.apt,10)};l&&c&&(m.rtx={ssrc:c}),r.push(m),s&&(m=JSON.parse(JSON.stringify(m)),m.fec={ssrc:l,mechanism:o?"red+ulpfec":"red"},r.push(m))}}),r.length===0&&l&&r.push({ssrc:l});let h=e.matchPrefix(n,"b=");return h.length&&(h[0].indexOf("b=TIAS:")===0?h=parseInt(h[0].substring(7),10):h[0].indexOf("b=AS:")===0?h=parseInt(h[0].substring(5),10)*1e3*.95-50*40*8:h=void 0,r.forEach(f=>{f.maxBitrate=h})),r},e.parseRtcpParameters=function(n){const r={},i=e.matchPrefix(n,"a=ssrc:").map(a=>e.parseSsrcMedia(a)).filter(a=>a.attribute==="cname")[0];i&&(r.cname=i.value,r.ssrc=i.ssrc);const s=e.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=s.length>0,r.compound=s.length===0;const o=e.matchPrefix(n,"a=rtcp-mux");return r.mux=o.length>0,r},e.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},e.parseMsid=function(n){let r;const i=e.matchPrefix(n,"a=msid:");if(i.length===1)return r=i[0].substring(7).split(" "),{stream:r[0],track:r[1]};const s=e.matchPrefix(n,"a=ssrc:").map(o=>e.parseSsrcMedia(o)).filter(o=>o.attribute==="msid");if(s.length>0)return r=s[0].value.split(" "),{stream:r[0],track:r[1]}},e.parseSctpDescription=function(n){const r=e.parseMLine(n),i=e.matchPrefix(n,"a=max-message-size:");let s;i.length>0&&(s=parseInt(i[0].substring(19),10)),isNaN(s)&&(s=65536);const o=e.matchPrefix(n,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:r.fmt,maxMessageSize:s};const a=e.matchPrefix(n,"a=sctpmap:");if(a.length>0){const l=a[0].substring(10).split(" ");return{port:parseInt(l[0],10),protocol:l[1],maxMessageSize:s}}},e.writeSctpDescription=function(n,r){let i=[];return n.protocol!=="DTLS/SCTP"?i=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:i=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&i.push("a=max-message-size:"+r.maxMessageSize+`\r
`),i.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(n,r,i){let s;const o=r!==void 0?r:2;return n?s=n:s=e.generateSessionId(),`v=0\r
o=`+(i||"thisisadapterortc")+" "+s+" "+o+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(n,r){const i=e.splitLines(n);for(let s=0;s<i.length;s++)switch(i[s]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[s].substring(2)}return r?e.getDirection(r):"sendrecv"},e.getKind=function(n){return e.splitLines(n)[0].split(" ")[0].substring(2)},e.isRejected=function(n){return n.split(" ",2)[1]==="0"},e.parseMLine=function(n){const i=e.splitLines(n)[0].substring(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},e.parseOLine=function(n){const i=e.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},e.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=e.splitLines(n);for(let i=0;i<r.length;i++)if(r[i].length<2||r[i].charAt(1)!=="=")return!1;return!0},t.exports=e}(e4)),e4.exports}var _W=hNe(),Cm=eNe(_W),fNe=k$e({__proto__:null,default:Cm},[_W]);function ly(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const i=new e(r),s=Cm.parseCandidate(r.candidate);for(const o in s)o in i||Object.defineProperty(i,o,{value:s[o]});return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new e(r)},t.RTCIceCandidate.prototype=e.prototype,uf(t,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new t.RTCIceCandidate(n.candidate),writable:"false"}),n))}function P_(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||uf(t,"icecandidate",e=>{if(e.candidate){const n=Cm.parseCandidate(e.candidate.candidate);n.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return e})}function cy(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(a){if(!a||!a.sdp)return!1;const l=Cm.splitSections(a.sdp);return l.shift(),l.some(c=>{const d=Cm.parseMLine(c);return d&&d.kind==="application"&&d.protocol.indexOf("SCTP")!==-1})},r=function(a){const l=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(l===null||l.length<2)return-1;const c=parseInt(l[1],10);return c!==c?-1:c},i=function(a){let l=65536;return e.browser==="firefox"&&(e.version<57?a===-1?l=16384:l=2147483637:e.version<60?l=e.version===57?65535:65536:l=2147483637),l},s=function(a,l){let c=65536;e.browser==="firefox"&&e.version===57&&(c=65535);const d=Cm.matchPrefix(a.sdp,"a=max-message-size:");return d.length>0?c=parseInt(d[0].substring(19),10):e.browser==="firefox"&&l!==-1&&(c=2147483637),c},o=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:l}=this.getConfiguration();l==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const l=r(arguments[0]),c=i(l),d=s(arguments[0],l);let h;c===0&&d===0?h=Number.POSITIVE_INFINITY:c===0||d===0?h=Math.max(c,d):h=Math.min(c,d);const f={};Object.defineProperty(f,"maxMessageSize",{get(){return h}}),this._sctp=f}return o.apply(this,arguments)}}function uy(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function e(r,i){const s=r.send;r.send=function(){const a=arguments[0],l=a.length||a.size||a.byteLength;if(r.readyState==="open"&&i.sctp&&l>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return s.apply(r,arguments)}}const n=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const i=n.apply(this,arguments);return e(i,this),i},uf(t,"datachannel",r=>(e(r.channel,r.target),r))}function R_(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=e[n];e[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const s=i.target;if(s._lastConnectionState!==s.connectionState){s._lastConnectionState=s.connectionState;const o=new Event("connectionstatechange",i);s.dispatchEvent(o)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function M_(t,e){if(!t.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e._safariVersion>=13.1)return;const n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const s=i.sdp.split(`
`).filter(o=>o.trim()!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&i instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:i.type,sdp:s}):i.sdp=s}return n.apply(this,arguments)}}function dy(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function hy(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(t.RTCPeerConnection.prototype.setLocalDescription=function(){let i=arguments[0]||{};if(typeof i!="object"||i.type&&i.sdp)return n.apply(this,arguments);if(i={type:i.type,sdp:i.sdp},!i.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":i.type="offer";break;default:i.type="answer";break}return i.sdp||i.type!=="offer"&&i.type!=="answer"?n.apply(this,[i]):(i.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(o=>n.apply(this,[o]))})}var mNe=Object.freeze({__proto__:null,removeExtmapAllowMixed:M_,shimAddIceCandidateNullOrEmpty:dy,shimConnectionState:R_,shimMaxMessageSize:cy,shimParameterlessSetLocalDescription:hy,shimRTCIceCandidate:ly,shimRTCIceCandidateRelayProtocol:P_,shimSendThrowTypeError:uy});function gNe(){let{window:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0};const n=GH,r=uNe(t),i={browserDetails:r,commonShim:mNe,extractVersion:Vp,disableLog:lNe,disableWarnings:cNe,sdp:fNe};switch(r.browser){case"chrome":if(!AR||!D_||!e.shimChrome)return n("Chrome shim is not included in this adapter release."),i;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),i;n("adapter.js shimming chrome."),i.browserShim=AR,dy(t,r),hy(t),KH(t,r),JH(t),D_(t,r),eW(t),iW(t,r),tW(t),nW(t),sW(t,r),ly(t),P_(t),R_(t),cy(t,r),uy(t),M_(t,r);break;case"firefox":if(!PR||!A_||!e.shimFirefox)return n("Firefox shim is not included in this adapter release."),i;n("adapter.js shimming firefox."),i.browserShim=PR,dy(t,r),hy(t),oW(t,r),A_(t,r),aW(t),uW(t),lW(t),cW(t),dW(t),hW(t),fW(t),mW(t),gW(t),ly(t),R_(t),cy(t,r),uy(t);break;case"safari":if(!RR||!e.shimSafari)return n("Safari shim is not included in this adapter release."),i;n("adapter.js shimming safari."),i.browserShim=RR,dy(t,r),hy(t),wW(t),SW(t),bW(t),pW(t),vW(t),kW(t),yW(t),xW(t),ly(t),P_(t),cy(t,r),uy(t),M_(t,r);break;default:n("Unsupported browser!");break}return i}gNe({window:typeof window>"u"?void 0:window});const pNe=10,pp="lk_e2ee",vNe="LKFrameEncryptionKey",bNe={sharedKey:!1,ratchetSalt:vNe,ratchetWindowSize:8,failureTolerance:pNe,keyringSize:16};var sd;(function(t){t.SetKey="setKey",t.RatchetRequest="ratchetRequest",t.KeyRatcheted="keyRatcheted"})(sd||(sd={}));var IR;(function(t){t.KeyRatcheted="keyRatcheted"})(IR||(IR={}));var Ku;(function(t){t.ParticipantEncryptionStatusChanged="participantEncryptionStatusChanged",t.EncryptionError="encryptionError"})(Ku||(Ku={}));var $R;(function(t){t.Error="cryptorError"})($R||($R={}));function yNe(){return ONe()||I_()}function I_(){return typeof window.RTCRtpScriptTransform<"u"}function ONe(){return typeof window.RTCRtpSender<"u"&&typeof window.RTCRtpSender.prototype.createEncodedStreams<"u"}function wNe(t){var e,n,r,i,s;if(((e=t.value)===null||e===void 0?void 0:e.case)!=="sipDtmf"&&((n=t.value)===null||n===void 0?void 0:n.case)!=="metrics"&&((r=t.value)===null||r===void 0?void 0:r.case)!=="speaker"&&((i=t.value)===null||i===void 0?void 0:i.case)!=="transcription"&&((s=t.value)===null||s===void 0?void 0:s.case)!=="encryptedPacket")return new _H({value:t.value})}class Kst extends pc.EventEmitter{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this.onKeyRatcheted=(n,r,i)=>{pn.debug("key ratcheted event received",{ratchetResult:n,participantId:r,keyIndex:i})},this.keyInfoMap=new Map,this.options=Object.assign(Object.assign({},bNe),e),this.on(sd.KeyRatcheted,this.onKeyRatcheted)}onSetEncryptionKey(e,n,r){const i={key:e,participantIdentity:n,keyIndex:r};if(!this.options.sharedKey&&!n)throw new Error("participant identity needs to be passed for encryption key if sharedKey option is false");this.keyInfoMap.set("".concat(n??"shared","-").concat(r??0),i),this.emit(sd.SetKey,i)}getKeys(){return Array.from(this.keyInfoMap.values())}getOptions(){return this.options}ratchetKey(e,n){this.emit(sd.RatchetRequest,e,n)}}class Ou extends Error{constructor(e,n){super(n||"an error has occured"),this.name="LiveKitError",this.code=e}}var Cn;(function(t){t[t.NotAllowed=0]="NotAllowed",t[t.ServerUnreachable=1]="ServerUnreachable",t[t.InternalError=2]="InternalError",t[t.Cancelled=3]="Cancelled",t[t.LeaveRequest=4]="LeaveRequest",t[t.Timeout=5]="Timeout"})(Cn||(Cn={}));class Vn extends Ou{constructor(e,n,r,i){super(1,e),this.name="ConnectionError",this.status=r,this.reason=n,this.context=i,this.reasonName=Cn[n]}}class P6 extends Ou{constructor(e){super(21,e??"device is unsupported"),this.name="DeviceUnsupportedError"}}class Uc extends Ou{constructor(e){super(20,e??"track is invalid"),this.name="TrackInvalidError"}}class kNe extends Ou{constructor(e){super(10,e??"unsupported server"),this.name="UnsupportedServer"}}class fi extends Ou{constructor(e){super(12,e??"unexpected connection state"),this.name="UnexpectedConnectionState"}}class $_ extends Ou{constructor(e){super(13,e??"unable to negotiate"),this.name="NegotiationError"}}class LR extends Ou{constructor(e,n){super(15,e),this.name="PublishTrackError",this.status=n}}class NR extends Ou{constructor(e,n){super(15,e),this.reason=n,this.reasonName=typeof n=="string"?n:D6[n]}}var _s;(function(t){t[t.AlreadyOpened=0]="AlreadyOpened",t[t.AbnormalEnd=1]="AbnormalEnd",t[t.DecodeFailed=2]="DecodeFailed",t[t.LengthExceeded=3]="LengthExceeded",t[t.Incomplete=4]="Incomplete",t[t.HandlerAlreadyRegistered=7]="HandlerAlreadyRegistered",t[t.EncryptionTypeMismatch=8]="EncryptionTypeMismatch"})(_s||(_s={}));class ca extends Ou{constructor(e,n){super(16,e),this.name="DataStreamError",this.reason=n,this.reasonName=_s[n]}}var F2;(function(t){t.PermissionDenied="PermissionDenied",t.NotFound="NotFound",t.DeviceInUse="DeviceInUse",t.Other="Other"})(F2||(F2={}));(function(t){function e(n){if(n&&"name"in n)return n.name==="NotFoundError"||n.name==="DevicesNotFoundError"?t.NotFound:n.name==="NotAllowedError"||n.name==="PermissionDeniedError"?t.PermissionDenied:n.name==="NotReadableError"||n.name==="TrackStartError"?t.DeviceInUse:t.Other}t.getFailure=e})(F2||(F2={}));var FR;(function(t){t[t.InvalidKey=0]="InvalidKey",t[t.MissingKey=1]="MissingKey",t[t.InternalError=2]="InternalError"})(FR||(FR={}));var xe;(function(t){t.Connected="connected",t.Reconnecting="reconnecting",t.SignalReconnecting="signalReconnecting",t.Reconnected="reconnected",t.Disconnected="disconnected",t.ConnectionStateChanged="connectionStateChanged",t.Moved="moved",t.MediaDevicesChanged="mediaDevicesChanged",t.ParticipantConnected="participantConnected",t.ParticipantDisconnected="participantDisconnected",t.TrackPublished="trackPublished",t.TrackSubscribed="trackSubscribed",t.TrackSubscriptionFailed="trackSubscriptionFailed",t.TrackUnpublished="trackUnpublished",t.TrackUnsubscribed="trackUnsubscribed",t.TrackMuted="trackMuted",t.TrackUnmuted="trackUnmuted",t.LocalTrackPublished="localTrackPublished",t.LocalTrackUnpublished="localTrackUnpublished",t.LocalAudioSilenceDetected="localAudioSilenceDetected",t.ActiveSpeakersChanged="activeSpeakersChanged",t.ParticipantMetadataChanged="participantMetadataChanged",t.ParticipantNameChanged="participantNameChanged",t.ParticipantAttributesChanged="participantAttributesChanged",t.ParticipantActive="participantActive",t.RoomMetadataChanged="roomMetadataChanged",t.DataReceived="dataReceived",t.SipDTMFReceived="sipDTMFReceived",t.TranscriptionReceived="transcriptionReceived",t.ConnectionQualityChanged="connectionQualityChanged",t.TrackStreamStateChanged="trackStreamStateChanged",t.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",t.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",t.AudioPlaybackStatusChanged="audioPlaybackChanged",t.VideoPlaybackStatusChanged="videoPlaybackChanged",t.MediaDevicesError="mediaDevicesError",t.ParticipantPermissionsChanged="participantPermissionsChanged",t.SignalConnected="signalConnected",t.RecordingStatusChanged="recordingStatusChanged",t.ParticipantEncryptionStatusChanged="participantEncryptionStatusChanged",t.EncryptionError="encryptionError",t.DCBufferStatusChanged="dcBufferStatusChanged",t.ActiveDeviceChanged="activeDeviceChanged",t.ChatMessage="chatMessage",t.LocalTrackSubscribed="localTrackSubscribed",t.MetricsReceived="metricsReceived"})(xe||(xe={}));var we;(function(t){t.TrackPublished="trackPublished",t.TrackSubscribed="trackSubscribed",t.TrackSubscriptionFailed="trackSubscriptionFailed",t.TrackUnpublished="trackUnpublished",t.TrackUnsubscribed="trackUnsubscribed",t.TrackMuted="trackMuted",t.TrackUnmuted="trackUnmuted",t.LocalTrackPublished="localTrackPublished",t.LocalTrackUnpublished="localTrackUnpublished",t.LocalTrackCpuConstrained="localTrackCpuConstrained",t.LocalSenderCreated="localSenderCreated",t.ParticipantMetadataChanged="participantMetadataChanged",t.ParticipantNameChanged="participantNameChanged",t.DataReceived="dataReceived",t.SipDTMFReceived="sipDTMFReceived",t.TranscriptionReceived="transcriptionReceived",t.IsSpeakingChanged="isSpeakingChanged",t.ConnectionQualityChanged="connectionQualityChanged",t.TrackStreamStateChanged="trackStreamStateChanged",t.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",t.TrackSubscriptionStatusChanged="trackSubscriptionStatusChanged",t.TrackCpuConstrained="trackCpuConstrained",t.MediaDevicesError="mediaDevicesError",t.AudioStreamAcquired="audioStreamAcquired",t.ParticipantPermissionsChanged="participantPermissionsChanged",t.PCTrackAdded="pcTrackAdded",t.AttributesChanged="attributesChanged",t.LocalTrackSubscribed="localTrackSubscribed",t.ChatMessage="chatMessage",t.Active="active"})(we||(we={}));var it;(function(t){t.TransportsCreated="transportsCreated",t.Connected="connected",t.Disconnected="disconnected",t.Resuming="resuming",t.Resumed="resumed",t.Restarting="restarting",t.Restarted="restarted",t.SignalResumed="signalResumed",t.SignalRestarted="signalRestarted",t.Closing="closing",t.MediaTrackAdded="mediaTrackAdded",t.ActiveSpeakersUpdate="activeSpeakersUpdate",t.DataPacketReceived="dataPacketReceived",t.RTPVideoMapUpdate="rtpVideoMapUpdate",t.DCBufferStatusChanged="dcBufferStatusChanged",t.ParticipantUpdate="participantUpdate",t.RoomUpdate="roomUpdate",t.SpeakersChanged="speakersChanged",t.StreamStateChanged="streamStateChanged",t.ConnectionQualityUpdate="connectionQualityUpdate",t.SubscriptionError="subscriptionError",t.SubscriptionPermissionUpdate="subscriptionPermissionUpdate",t.RemoteMute="remoteMute",t.SubscribedQualityUpdate="subscribedQualityUpdate",t.LocalTrackUnpublished="localTrackUnpublished",t.LocalTrackSubscribed="localTrackSubscribed",t.Offline="offline",t.SignalRequestResponse="signalRequestResponse",t.SignalConnected="signalConnected",t.RoomMoved="roomMoved"})(it||(it={}));var Je;(function(t){t.Message="message",t.Muted="muted",t.Unmuted="unmuted",t.Restarted="restarted",t.Ended="ended",t.Subscribed="subscribed",t.Unsubscribed="unsubscribed",t.CpuConstrained="cpuConstrained",t.UpdateSettings="updateSettings",t.UpdateSubscription="updateSubscription",t.AudioPlaybackStarted="audioPlaybackStarted",t.AudioPlaybackFailed="audioPlaybackFailed",t.AudioSilenceDetected="audioSilenceDetected",t.VisibilityChanged="visibilityChanged",t.VideoDimensionsChanged="videoDimensionsChanged",t.VideoPlaybackStarted="videoPlaybackStarted",t.VideoPlaybackFailed="videoPlaybackFailed",t.ElementAttached="elementAttached",t.ElementDetached="elementDetached",t.UpstreamPaused="upstreamPaused",t.UpstreamResumed="upstreamResumed",t.SubscriptionPermissionChanged="subscriptionPermissionChanged",t.SubscriptionStatusChanged="subscriptionStatusChanged",t.SubscriptionFailed="subscriptionFailed",t.TrackProcessorUpdate="trackProcessorUpdate",t.AudioTrackFeatureUpdate="audioTrackFeatureUpdate",t.TranscriptionReceived="transcriptionReceived",t.TimeSyncUpdate="timeSyncUpdate",t.PreConnectBufferFlushed="preConnectBufferFlushed"})(Je||(Je={}));function SNe(t){return typeof t>"u"?t:typeof structuredClone=="function"?typeof t=="object"&&t!==null?structuredClone(Object.assign({},t)):structuredClone(t):JSON.parse(JSON.stringify(t))}const xNe=/version\/(\d+(\.?_?\d+)+)/i;let t4;function Ns(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(typeof navigator>"u")return;const n=navigator.userAgent.toLowerCase();if(t4===void 0||e){const r=_Ne.find(i=>{let{test:s}=i;return s.test(n)});t4=r?.describe(n)}return t4}const _Ne=[{test:/firefox|iceweasel|fxios/i,describe(t){return{name:"Firefox",version:fy(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t),os:t.toLowerCase().includes("fxios")?"iOS":void 0,osVersion:n4(t)}}},{test:/chrom|crios|crmo/i,describe(t){return{name:"Chrome",version:fy(/(?:chrome|chromium|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t),os:t.toLowerCase().includes("crios")?"iOS":void 0,osVersion:n4(t)}}},{test:/safari|applewebkit/i,describe(t){return{name:"Safari",version:fy(xNe,t),os:t.includes("mobile/")?"iOS":"macOS",osVersion:n4(t)}}}];function fy(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const r=e.match(t);return r&&r.length>=n&&r[n]||""}function n4(t){return t.includes("mac os")?fy(/\(.+?(\d+_\d+(:?_\d+)?)/,t,1).replace(/_/g,"."):void 0}var CNe="2.15.13";const ENe=CNe,TNe=16;class Ki{}Ki.setTimeout=function(){return setTimeout(...arguments)};Ki.setInterval=function(){return setInterval(...arguments)};Ki.clearTimeout=function(){return clearTimeout(...arguments)};Ki.clearInterval=function(){return clearInterval(...arguments)};const DNe=5e3,vp=[];var Lo;(function(t){t[t.LOW=0]="LOW",t[t.MEDIUM=1]="MEDIUM",t[t.HIGH=2]="HIGH"})(Lo||(Lo={}));class Ee extends pc.EventEmitter{get streamState(){return this._streamState}setStreamState(e){this._streamState=e}constructor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var i;super(),this.attachedElements=[],this.isMuted=!1,this._streamState=Ee.StreamState.Active,this.isInBackground=!1,this._currentBitrate=0,this.log=pn,this.appVisibilityChangedListener=()=>{this.backgroundTimeout&&clearTimeout(this.backgroundTimeout),document.visibilityState==="hidden"?this.backgroundTimeout=setTimeout(()=>this.handleAppVisibilityChanged(),DNe):this.handleAppVisibilityChanged()},this.log=ou((i=r.loggerName)!==null&&i!==void 0?i:gl.Track),this.loggerContextCb=r.loggerContextCb,this.setMaxListeners(100),this.kind=n,this._mediaStreamTrack=e,this._mediaStreamID=e.id,this.source=Ee.Source.Unknown}get logContext(){var e;return Object.assign(Object.assign({},(e=this.loggerContextCb)===null||e===void 0?void 0:e.call(this)),yn(this))}get currentBitrate(){return this._currentBitrate}get mediaStreamTrack(){return this._mediaStreamTrack}get mediaStreamID(){return this._mediaStreamID}attach(e){let n="audio";this.kind===Ee.Kind.Video&&(n="video"),this.attachedElements.length===0&&this.kind===Ee.Kind.Video&&this.addAppVisibilityListener(),e||(n==="audio"&&(vp.forEach(s=>{s.parentElement===null&&!e&&(e=s)}),e&&vp.splice(vp.indexOf(e),1)),e||(e=document.createElement(n))),this.attachedElements.includes(e)||this.attachedElements.push(e),rm(this.mediaStreamTrack,e);const r=e.srcObject.getTracks(),i=r.some(s=>s.kind==="audio");return e.play().then(()=>{this.emit(i?Je.AudioPlaybackStarted:Je.VideoPlaybackStarted)}).catch(s=>{s.name==="NotAllowedError"?this.emit(i?Je.AudioPlaybackFailed:Je.VideoPlaybackFailed,s):s.name==="AbortError"?pn.debug("".concat(i?"audio":"video"," playback aborted, likely due to new play request")):pn.warn("could not playback ".concat(i?"audio":"video"),s),i&&e&&r.some(o=>o.kind==="video")&&s.name==="NotAllowedError"&&(e.muted=!0,e.play().catch(()=>{}))}),this.emit(Je.ElementAttached,e),e}detach(e){try{if(e){Em(this.mediaStreamTrack,e);const r=this.attachedElements.indexOf(e);return r>=0&&(this.attachedElements.splice(r,1),this.recycleElement(e),this.emit(Je.ElementDetached,e)),e}const n=[];return this.attachedElements.forEach(r=>{Em(this.mediaStreamTrack,r),n.push(r),this.recycleElement(r),this.emit(Je.ElementDetached,r)}),this.attachedElements=[],n}finally{this.attachedElements.length===0&&this.removeAppVisibilityListener()}}stop(){this.stopMonitor(),this._mediaStreamTrack.stop()}enable(){this._mediaStreamTrack.enabled=!0}disable(){this._mediaStreamTrack.enabled=!1}stopMonitor(){this.monitorInterval&&clearInterval(this.monitorInterval),this.timeSyncHandle&&cancelAnimationFrame(this.timeSyncHandle)}updateLoggerOptions(e){e.loggerName&&(this.log=ou(e.loggerName)),e.loggerContextCb&&(this.loggerContextCb=e.loggerContextCb)}recycleElement(e){if(e instanceof HTMLAudioElement){let n=!0;e.pause(),vp.forEach(r=>{r.parentElement||(n=!1)}),n&&vp.push(e)}}handleAppVisibilityChanged(){return J(this,void 0,void 0,function*(){this.isInBackground=document.visibilityState==="hidden",!this.isInBackground&&this.kind===Ee.Kind.Video&&setTimeout(()=>this.attachedElements.forEach(e=>e.play().catch(()=>{})),0)})}addAppVisibilityListener(){so()?(this.isInBackground=document.visibilityState==="hidden",document.addEventListener("visibilitychange",this.appVisibilityChangedListener)):this.isInBackground=!1}removeAppVisibilityListener(){so()&&document.removeEventListener("visibilitychange",this.appVisibilityChangedListener)}}function rm(t,e){let n;e.srcObject instanceof MediaStream?n=e.srcObject:n=new MediaStream;let r;t.kind==="audio"?r=n.getAudioTracks():r=n.getVideoTracks(),r.includes(t)||(r.forEach(i=>{n.removeTrack(i)}),n.addTrack(t)),(!jh()||!(e instanceof HTMLVideoElement))&&(e.autoplay=!0),e.muted=n.getAudioTracks().length===0,e instanceof HTMLVideoElement&&(e.playsInline=!0),e.srcObject!==n&&(e.srcObject=n,(jh()||Vh())&&e instanceof HTMLVideoElement&&setTimeout(()=>{e.srcObject=n,e.play().catch(()=>{})},0))}function Em(t,e){if(e.srcObject instanceof MediaStream){const n=e.srcObject;n.removeTrack(t),n.getTracks().length>0?e.srcObject=n:e.srcObject=null}}(function(t){let e;(function(c){c.Audio="audio",c.Video="video",c.Unknown="unknown"})(e=t.Kind||(t.Kind={}));let n;(function(c){c.Camera="camera",c.Microphone="microphone",c.ScreenShare="screen_share",c.ScreenShareAudio="screen_share_audio",c.Unknown="unknown"})(n=t.Source||(t.Source={}));let r;(function(c){c.Active="active",c.Paused="paused",c.Unknown="unknown"})(r=t.StreamState||(t.StreamState={}));function i(c){switch(c){case e.Audio:return tl.AUDIO;case e.Video:return tl.VIDEO;default:return tl.DATA}}t.kindToProto=i;function s(c){switch(c){case tl.AUDIO:return e.Audio;case tl.VIDEO:return e.Video;default:return e.Unknown}}t.kindFromProto=s;function o(c){switch(c){case n.Camera:return ni.CAMERA;case n.Microphone:return ni.MICROPHONE;case n.ScreenShare:return ni.SCREEN_SHARE;case n.ScreenShareAudio:return ni.SCREEN_SHARE_AUDIO;default:return ni.UNKNOWN}}t.sourceToProto=o;function a(c){switch(c){case ni.CAMERA:return n.Camera;case ni.MICROPHONE:return n.Microphone;case ni.SCREEN_SHARE:return n.ScreenShare;case ni.SCREEN_SHARE_AUDIO:return n.ScreenShareAudio;default:return n.Unknown}}t.sourceFromProto=a;function l(c){switch(c){case __.ACTIVE:return r.Active;case __.PAUSED:return r.Paused;default:return r.Unknown}}t.streamStateFromProto=l})(Ee||(Ee={}));class tr{constructor(e,n,r,i,s){if(typeof e=="object")this.width=e.width,this.height=e.height,this.aspectRatio=e.aspectRatio,this.encoding={maxBitrate:e.maxBitrate,maxFramerate:e.maxFramerate,priority:e.priority};else if(n!==void 0&&r!==void 0)this.width=e,this.height=n,this.aspectRatio=e/n,this.encoding={maxBitrate:r,maxFramerate:i,priority:s};else throw new TypeError("Unsupported options: provide at least width, height and maxBitrate")}get resolution(){return{width:this.width,height:this.height,frameRate:this.encoding.maxFramerate,aspectRatio:this.aspectRatio}}}const ANe=["vp8","h264"],PNe=["vp8","h264","vp9","av1","h265"];function RNe(t){return!!ANe.find(e=>e===t)}const MNe=RNe;var BR;(function(t){t[t.PREFER_REGRESSION=0]="PREFER_REGRESSION",t[t.SIMULCAST=1]="SIMULCAST",t[t.REGRESSION=2]="REGRESSION"})(BR||(BR={}));var L_;(function(t){t.telephone={maxBitrate:12e3},t.speech={maxBitrate:24e3},t.music={maxBitrate:48e3},t.musicStereo={maxBitrate:64e3},t.musicHighQuality={maxBitrate:96e3},t.musicHighQualityStereo={maxBitrate:128e3}})(L_||(L_={}));const dv={h90:new tr(160,90,9e4,20),h180:new tr(320,180,16e4,20),h216:new tr(384,216,18e4,20),h360:new tr(640,360,45e4,20),h540:new tr(960,540,8e5,25),h720:new tr(1280,720,17e5,30),h1080:new tr(1920,1080,3e6,30),h1440:new tr(2560,1440,5e6,30),h2160:new tr(3840,2160,8e6,30)},N_={h120:new tr(160,120,7e4,20),h180:new tr(240,180,125e3,20),h240:new tr(320,240,14e4,20),h360:new tr(480,360,33e4,20),h480:new tr(640,480,5e5,20),h540:new tr(720,540,6e5,25),h720:new tr(960,720,13e5,30),h1080:new tr(1440,1080,23e5,30),h1440:new tr(1920,1440,38e5,30)},R6={h360fps3:new tr(640,360,2e5,3,"medium"),h360fps15:new tr(640,360,4e5,15,"medium"),h720fps5:new tr(1280,720,8e5,5,"medium"),h720fps15:new tr(1280,720,15e5,15,"medium"),h720fps30:new tr(1280,720,2e6,30,"medium"),h1080fps15:new tr(1920,1080,25e5,15,"medium"),h1080fps30:new tr(1920,1080,5e6,30,"medium"),original:new tr(0,0,7e6,30,"medium")},INe="|",zR="https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension";function $Ne(t){const e=t.split(INe);return e.length>1?[e[0],t.substr(e[0].length+1)]:[t,""]}function Fs(t){return J(this,void 0,void 0,function*(){return new Promise(e=>Ki.setTimeout(e,t))})}function F_(){return"addTransceiver"in RTCPeerConnection.prototype}function B_(){return"addTrack"in RTCPeerConnection.prototype}function LNe(){if(!("getCapabilities"in RTCRtpSender)||jh()||Vh())return!1;const t=RTCRtpSender.getCapabilities("video");let e=!1;if(t){for(const n of t.codecs)if(n.mimeType.toLowerCase()==="video/av1"){e=!0;break}}return e}function NNe(){if(!("getCapabilities"in RTCRtpSender)||Vh())return!1;if(jh()){const n=Ns();if(n?.version&&oc(n.version,"16")<0||n?.os==="iOS"&&n?.osVersion&&oc(n.osVersion,"16")<0)return!1}const t=RTCRtpSender.getCapabilities("video");let e=!1;if(t){for(const n of t.codecs)if(n.mimeType.toLowerCase()==="video/vp9"){e=!0;break}}return e}function Ql(t){return t==="av1"||t==="vp9"}function z_(t){return!document||hv()?!1:(t||(t=document.createElement("audio")),"setSinkId"in t)}function FNe(){return typeof RTCPeerConnection>"u"?!1:F_()||B_()}function Vh(){var t;return((t=Ns())===null||t===void 0?void 0:t.name)==="Firefox"}function QR(){const t=Ns();return!!t&&t.name==="Chrome"&&t.os!=="iOS"}function jh(){var t;return((t=Ns())===null||t===void 0?void 0:t.name)==="Safari"}function hv(){const t=Ns();return t?.name==="Safari"||t?.os==="iOS"}function BNe(){const t=Ns();return t?.name==="Safari"&&t.version.startsWith("17.")||t?.os==="iOS"&&!!t?.osVersion&&oc(t.osVersion,"17")>=0}function zNe(t){return t||(t=Ns()),t?.name==="Safari"&&oc(t.version,"18.3")>0||t?.os==="iOS"&&!!t?.osVersion&&oc(t.osVersion,"18.3")>0}function CW(){var t,e;return so()?(e=(t=navigator.userAgentData)===null||t===void 0?void 0:t.mobile)!==null&&e!==void 0?e:/Tablet|iPad|Mobile|Android|BlackBerry/.test(navigator.userAgent):!1}function QNe(){const t=Ns(),e="17.2";if(t)return t.name!=="Safari"&&t.os!=="iOS"||t.os==="iOS"&&t.osVersion&&oc(t.osVersion,e)>=0?!0:t.name==="Safari"&&oc(t.version,e)>=0}function so(){return typeof document<"u"}function sc(){return navigator.product=="ReactNative"}function Q_(t){return t.hostname.endsWith(".livekit.cloud")||t.hostname.endsWith(".livekit.run")}function EW(){if(global&&global.LiveKitReactNativeGlobal)return global.LiveKitReactNativeGlobal}function TW(){if(!sc())return;let t=EW();if(t)return t.platform}function UR(){if(so())return window.devicePixelRatio;if(sc()){let t=EW();if(t)return t.devicePixelRatio}return 1}function oc(t,e){const n=t.split("."),r=e.split("."),i=Math.min(n.length,r.length);for(let s=0;s<i;++s){const o=parseInt(n[s],10),a=parseInt(r[s],10);if(o>a)return 1;if(o<a)return-1;if(s===i-1&&o===a)return 0}return t===""&&e!==""?-1:e===""?1:n.length==r.length?0:n.length<r.length?-1:1}function UNe(t){for(const e of t)e.target.handleResize(e)}function VNe(t){for(const e of t)e.target.handleVisibilityChanged(e)}let r4=null;const VR=()=>(r4||(r4=new ResizeObserver(UNe)),r4);let i4=null;const jR=()=>(i4||(i4=new IntersectionObserver(VNe,{root:null,rootMargin:"0px"})),i4);function jNe(){var t;const e=new RH({sdk:MH.JS,protocol:TNe,version:ENe});return sc()&&(e.os=(t=TW())!==null&&t!==void 0?t:""),e}function qR(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:16,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const i=document.createElement("canvas");i.width=t,i.height=e;const s=i.getContext("2d");s?.fillRect(0,0,i.width,i.height),r&&s&&(s.beginPath(),s.arc(t/2,e/2,50,0,Math.PI*2,!0),s.closePath(),s.fillStyle="grey",s.fill());const o=i.captureStream(),[a]=o.getTracks();if(!a)throw Error("Could not get empty media stream video track");return a.enabled=n,a}let bp;function s4(){if(!bp){const t=new AudioContext,e=t.createOscillator(),n=t.createGain();n.gain.setValueAtTime(0,0);const r=t.createMediaStreamDestination();if(e.connect(n),n.connect(r),e.start(),[bp]=r.stream.getAudioTracks(),!bp)throw Error("Could not get empty media stream audio track");bp.enabled=!1}return bp.clone()}class Sa{get isResolved(){return this._isResolved}constructor(e,n){this._isResolved=!1,this.onFinally=n,this.promise=new Promise((r,i)=>J(this,void 0,void 0,function*(){this.resolve=r,this.reject=i,e&&(yield e(r,i))})).finally(()=>{var r;this._isResolved=!0,(r=this.onFinally)===null||r===void 0||r.call(this)})}}function qNe(t){return PNe.includes(t)}function od(t){if(typeof t=="string"||typeof t=="number")return t;if(Array.isArray(t))return t[0];if(t.exact!==void 0)return Array.isArray(t.exact)?t.exact[0]:t.exact;if(t.ideal!==void 0)return Array.isArray(t.ideal)?t.ideal[0]:t.ideal;throw Error("could not unwrap constraint")}function HNe(t){return t.startsWith("http")?t.replace(/^(http)/,"ws"):t}function U_(t){return t.startsWith("ws")?t.replace(/^(ws)/,"http"):t}function WNe(t,e){return t.segments.map(n=>{let{id:r,text:i,language:s,startTime:o,endTime:a,final:l}=n;var c;const d=(c=e.get(r))!==null&&c!==void 0?c:Date.now(),h=Date.now();return l?e.delete(r):e.set(r,d),{id:r,text:i,startTime:Number.parseInt(o.toString()),endTime:Number.parseInt(a.toString()),final:l,language:s,firstReceivedTime:d,lastReceivedTime:h}})}function XNe(t){const{id:e,timestamp:n,message:r,editTimestamp:i}=t;return{id:e,timestamp:Number.parseInt(n.toString()),editTimestamp:i?Number.parseInt(i.toString()):void 0,message:r}}function HR(t){switch(t.reason){case Cn.LeaveRequest:return t.context;case Cn.Cancelled:return il.CLIENT_INITIATED;case Cn.NotAllowed:return il.USER_REJECTED;case Cn.ServerUnreachable:return il.JOIN_FAILURE;default:return il.UNKNOWN_REASON}}function my(t){return t!==void 0?Number(t):void 0}function rh(t){return t!==void 0?BigInt(t):void 0}function Tm(t){return!!t&&!(t instanceof MediaStreamTrack)&&t.isLocal}function ec(t){return!!t&&t.kind==Ee.Kind.Audio}function Pd(t){return!!t&&t.kind==Ee.Kind.Video}function Ru(t){return Tm(t)&&Pd(t)}function Tc(t){return Tm(t)&&ec(t)}function V_(t){return!!t&&!t.isLocal}function YNe(t){return!!t&&!t.isLocal}function o4(t){return V_(t)&&Pd(t)}function GNe(t){return t.isLocal}function ZNe(t,e){const n=[];let r=new TextEncoder().encode(t);for(;r.length>e;){let i=e;for(;i>0;){const s=r[i];if(s!==void 0&&(s&192)!==128)break;i--}n.push(r.slice(0,i)),r=r.slice(i)}return r.length>0&&n.push(r),n}function DW(t,e,n){var r,i,s,o;const{optionsWithoutProcessor:a,audioProcessor:l,videoProcessor:c}=RW(t??{}),d=e?.processor,h=n?.processor,f=a??{};return f.audio===!0&&(f.audio={}),f.video===!0&&(f.video={}),f.audio&&(j_(f.audio,e),(r=(s=f.audio).deviceId)!==null&&r!==void 0||(s.deviceId={ideal:"default"}),(l||d)&&(f.audio.processor=l??d)),f.video&&(j_(f.video,n),(i=(o=f.video).deviceId)!==null&&i!==void 0||(o.deviceId={ideal:"default"}),(c||h)&&(f.video.processor=c??h)),f}function j_(t,e){return Object.keys(e).forEach(n=>{t[n]===void 0&&(t[n]=e[n])}),t}function M6(t){var e,n,r,i;const s={};if(t.video)if(typeof t.video=="object"){const o={},a=o,l=t.video;Object.keys(l).forEach(c=>{switch(c){case"resolution":j_(a,l.resolution);break;default:a[c]=l[c]}}),s.video=o,(e=(r=s.video).deviceId)!==null&&e!==void 0||(r.deviceId={ideal:"default"})}else s.video=t.video?{deviceId:{ideal:"default"}}:!1;else s.video=!1;return t.audio?typeof t.audio=="object"?(s.audio=t.audio,(n=(i=s.audio).deviceId)!==null&&n!==void 0||(i.deviceId={ideal:"default"})):s.audio={deviceId:{ideal:"default"}}:s.audio=!1,s}function AW(t){return J(this,arguments,void 0,function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:200;return function*(){const r=PW();if(r){const i=r.createAnalyser();i.fftSize=2048;const s=i.frequencyBinCount,o=new Uint8Array(s);r.createMediaStreamSource(new MediaStream([e.mediaStreamTrack])).connect(i),yield Fs(n),i.getByteTimeDomainData(o);const l=o.some(c=>c!==128&&c!==0);return r.close(),!l}return!1}()})}function PW(){var t;const e=typeof window<"u"&&(window.AudioContext||window.webkitAudioContext);if(e){const n=new e({latencyHint:"interactive"});if(n.state==="suspended"&&typeof window<"u"&&(!((t=window.document)===null||t===void 0)&&t.body)){const r=()=>J(this,void 0,void 0,function*(){var i;try{n.state==="suspended"&&(yield n.resume())}catch(s){console.warn("Error trying to auto-resume audio context",s)}finally{(i=window.document.body)===null||i===void 0||i.removeEventListener("click",r)}});n.addEventListener("statechange",()=>{var i;n.state==="closed"&&((i=window.document.body)===null||i===void 0||i.removeEventListener("click",r))}),window.document.body.addEventListener("click",r)}return n}}function KNe(t){return t==="audioinput"?Ee.Source.Microphone:t==="videoinput"?Ee.Source.Camera:Ee.Source.Unknown}function q_(t){return t===Ee.Source.Microphone?"audioinput":t===Ee.Source.Camera?"videoinput":void 0}function JNe(t){var e,n;let r=(e=t.video)!==null&&e!==void 0?e:!0;return t.resolution&&t.resolution.width>0&&t.resolution.height>0&&(r=typeof r=="boolean"?{}:r,jh()?r=Object.assign(Object.assign({},r),{width:{max:t.resolution.width},height:{max:t.resolution.height},frameRate:t.resolution.frameRate}):r=Object.assign(Object.assign({},r),{width:{ideal:t.resolution.width},height:{ideal:t.resolution.height},frameRate:t.resolution.frameRate})),{audio:(n=t.audio)!==null&&n!==void 0?n:!1,video:r,controller:t.controller,selfBrowserSurface:t.selfBrowserSurface,surfaceSwitching:t.surfaceSwitching,systemAudio:t.systemAudio,preferCurrentTab:t.preferCurrentTab}}function d0(t){return t.split("/")[1].toLowerCase()}function eFe(t){const e=[];return t.forEach(n=>{n.track!==void 0&&e.push(new x6({cid:n.track.mediaStreamID,track:n.trackInfo}))}),e}function yn(t){return"mediaStreamTrack"in t?{trackID:t.sid,source:t.source,muted:t.isMuted,enabled:t.mediaStreamTrack.enabled,kind:t.kind,streamID:t.mediaStreamID,streamTrackID:t.mediaStreamTrack.id}:{trackID:t.trackSid,enabled:t.isEnabled,muted:t.isMuted,trackInfo:Object.assign({mimeType:t.mimeType,name:t.trackName,encrypted:t.isEncrypted,kind:t.kind,source:t.source},t.track?yn(t.track):{})}}function tFe(){return typeof RTCRtpReceiver<"u"&&"getSynchronizationSources"in RTCRtpReceiver}function nFe(t,e){var n;t===void 0&&(t={}),e===void 0&&(e={});const r=[...Object.keys(e),...Object.keys(t)],i={};for(const s of r)t[s]!==e[s]&&(i[s]=(n=e[s])!==null&&n!==void 0?n:"");return i}function RW(t){const e=Object.assign({},t);let n,r;return typeof e.audio=="object"&&e.audio.processor&&(n=e.audio.processor,e.audio=Object.assign(Object.assign({},e.audio),{processor:void 0})),typeof e.video=="object"&&e.video.processor&&(r=e.video.processor,e.video=Object.assign(Object.assign({},e.video),{processor:void 0})),{audioProcessor:n,videoProcessor:r,optionsWithoutProcessor:SNe(e)}}function rFe(t){switch(t){case ni.CAMERA:return Ee.Source.Camera;case ni.MICROPHONE:return Ee.Source.Microphone;case ni.SCREEN_SHARE:return Ee.Source.ScreenShare;case ni.SCREEN_SHARE_AUDIO:return Ee.Source.ScreenShareAudio;default:return Ee.Source.Unknown}}function WR(t,e){return t.width*t.height<e.width*e.height}function iFe(t,e){var n;return(n=t.layers)===null||n===void 0?void 0:n.find(r=>r.quality===e)}class sFe extends pc.EventEmitter{constructor(e,n){super(),this.decryptDataRequests=new Map,this.encryptDataRequests=new Map,this.onWorkerMessage=r=>{var i,s;const{kind:o,data:a}=r.data;switch(o){case"error":pn.error(a.error.message),this.emit(Ku.EncryptionError,a.error);break;case"initAck":a.enabled&&this.keyProvider.getKeys().forEach(d=>{this.postKey(d)});break;case"enable":if(a.enabled&&this.keyProvider.getKeys().forEach(d=>{this.postKey(d)}),this.encryptionEnabled!==a.enabled&&a.participantIdentity===((i=this.room)===null||i===void 0?void 0:i.localParticipant.identity))this.emit(Ku.ParticipantEncryptionStatusChanged,a.enabled,this.room.localParticipant),this.encryptionEnabled=a.enabled;else if(a.participantIdentity){const d=(s=this.room)===null||s===void 0?void 0:s.getParticipantByIdentity(a.participantIdentity);if(!d)throw TypeError("couldn't set encryption status, participant not found".concat(a.participantIdentity));this.emit(Ku.ParticipantEncryptionStatusChanged,a.enabled,d)}break;case"ratchetKey":this.keyProvider.emit(sd.KeyRatcheted,a.ratchetResult,a.participantIdentity,a.keyIndex);break;case"decryptDataResponse":const l=this.decryptDataRequests.get(a.uuid);l?.resolve&&l.resolve(a);break;case"encryptDataResponse":const c=this.encryptDataRequests.get(a.uuid);c?.resolve&&c.resolve(a);break}},this.onWorkerError=r=>{pn.error("e2ee worker encountered an error:",{error:r.error}),this.emit(Ku.EncryptionError,r.error)},this.keyProvider=e.keyProvider,this.worker=e.worker,this.encryptionEnabled=!1,this.dataChannelEncryptionEnabled=n}get isEnabled(){return this.encryptionEnabled}get isDataChannelEncryptionEnabled(){return this.isEnabled&&this.dataChannelEncryptionEnabled}setup(e){if(!yNe())throw new P6("tried to setup end-to-end encryption on an unsupported browser");if(pn.info("setting up e2ee"),e!==this.room){this.room=e,this.setupEventListeners(e,this.keyProvider);const n={kind:"init",data:{keyProviderOptions:this.keyProvider.getOptions(),loglevel:rNe.getLevel()}};this.worker&&(pn.info("initializing worker",{worker:this.worker}),this.worker.onmessage=this.onWorkerMessage,this.worker.onerror=this.onWorkerError,this.worker.postMessage(n))}}setParticipantCryptorEnabled(e,n){pn.debug("set e2ee to ".concat(e," for participant ").concat(n)),this.postEnable(e,n)}setSifTrailer(e){!e||e.length===0?pn.warn("ignoring server sent trailer as it's empty"):this.postSifTrailer(e)}setupEngine(e){e.on(it.RTPVideoMapUpdate,n=>{this.postRTPMap(n)})}setupEventListeners(e,n){e.on(xe.TrackPublished,(r,i)=>this.setParticipantCryptorEnabled(r.trackInfo.encryption!==bi.NONE,i.identity)),e.on(xe.ConnectionStateChanged,r=>{r===Un.Connected&&e.remoteParticipants.forEach(i=>{i.trackPublications.forEach(s=>{this.setParticipantCryptorEnabled(s.trackInfo.encryption!==bi.NONE,i.identity)})})}).on(xe.TrackUnsubscribed,(r,i,s)=>{var o;const a={kind:"removeTransform",data:{participantIdentity:s.identity,trackId:r.mediaStreamID}};(o=this.worker)===null||o===void 0||o.postMessage(a)}).on(xe.TrackSubscribed,(r,i,s)=>{this.setupE2EEReceiver(r,s.identity,i.trackInfo)}).on(xe.SignalConnected,()=>{if(!this.room)throw new TypeError("expected room to be present on signal connect");n.getKeys().forEach(r=>{this.postKey(r)}),this.setParticipantCryptorEnabled(this.room.localParticipant.isE2EEEnabled,this.room.localParticipant.identity)}),e.localParticipant.on(we.LocalSenderCreated,(r,i)=>J(this,void 0,void 0,function*(){this.setupE2EESender(i,r)})),e.localParticipant.on(we.LocalTrackPublished,r=>{if(!Pd(r.track)||!hv())return;const i={kind:"updateCodec",data:{trackId:r.track.mediaStreamID,codec:d0(r.trackInfo.codecs[0].mimeType),participantIdentity:this.room.localParticipant.identity}};this.worker.postMessage(i)}),n.on(sd.SetKey,r=>this.postKey(r)).on(sd.RatchetRequest,(r,i)=>this.postRatchetRequest(r,i))}encryptData(e){return J(this,void 0,void 0,function*(){if(!this.worker)throw Error("could not encrypt data, worker is missing");const n=crypto.randomUUID(),r={kind:"encryptDataRequest",data:{uuid:n,payload:e,participantIdentity:this.room.localParticipant.identity}},i=new Sa;return i.onFinally=()=>{this.encryptDataRequests.delete(n)},this.encryptDataRequests.set(n,i),this.worker.postMessage(r),i.promise})}handleEncryptedData(e,n,r,i){if(!this.worker)throw Error("could not handle encrypted data, worker is missing");const s=crypto.randomUUID(),o={kind:"decryptDataRequest",data:{uuid:s,payload:e,iv:n,participantIdentity:r,keyIndex:i}},a=new Sa;return a.onFinally=()=>{this.decryptDataRequests.delete(s)},this.decryptDataRequests.set(s,a),this.worker.postMessage(o),a.promise}postRatchetRequest(e,n){if(!this.worker)throw Error("could not ratchet key, worker is missing");const r={kind:"ratchetRequest",data:{participantIdentity:e,keyIndex:n}};this.worker.postMessage(r)}postKey(e){let{key:n,participantIdentity:r,keyIndex:i}=e;var s;if(!this.worker)throw Error("could not set key, worker is missing");const o={kind:"setKey",data:{participantIdentity:r,isPublisher:r===((s=this.room)===null||s===void 0?void 0:s.localParticipant.identity),key:n,keyIndex:i}};this.worker.postMessage(o)}postEnable(e,n){if(this.worker){const r={kind:"enable",data:{enabled:e,participantIdentity:n}};this.worker.postMessage(r)}else throw new ReferenceError("failed to enable e2ee, worker is not ready")}postRTPMap(e){var n;if(!this.worker)throw TypeError("could not post rtp map, worker is missing");if(!(!((n=this.room)===null||n===void 0)&&n.localParticipant.identity))throw TypeError("could not post rtp map, local participant identity is missing");const r={kind:"setRTPMap",data:{map:e,participantIdentity:this.room.localParticipant.identity}};this.worker.postMessage(r)}postSifTrailer(e){if(!this.worker)throw Error("could not post SIF trailer, worker is missing");const n={kind:"setSifTrailer",data:{trailer:e}};this.worker.postMessage(n)}setupE2EEReceiver(e,n,r){if(e.receiver){if(!r?.mimeType||r.mimeType==="")throw new TypeError("MimeType missing from trackInfo, cannot set up E2EE cryptor");this.handleReceiver(e.receiver,e.mediaStreamID,n,e.kind==="video"?d0(r.mimeType):void 0)}}setupE2EESender(e,n){if(!Tm(e)||!n){n||pn.warn("early return because sender is not ready");return}this.handleSender(n,e.mediaStreamID,void 0)}handleReceiver(e,n,r,i){return J(this,void 0,void 0,function*(){if(this.worker){if(I_()&&!QR()){const s={kind:"decode",participantIdentity:r,trackId:n,codec:i};e.transform=new RTCRtpScriptTransform(this.worker,s)}else{if(pp in e&&i){const l={kind:"updateCodec",data:{trackId:n,codec:i,participantIdentity:r}};this.worker.postMessage(l);return}let s=e.writableStream,o=e.readableStream;if(!s||!o){const l=e.createEncodedStreams();e.writableStream=l.writable,s=l.writable,e.readableStream=l.readable,o=l.readable}const a={kind:"decode",data:{readableStream:o,writableStream:s,trackId:n,codec:i,participantIdentity:r,isReuse:pp in e}};this.worker.postMessage(a,[o,s])}e[pp]=!0}})}handleSender(e,n,r){var i;if(!(pp in e||!this.worker)){if(!(!((i=this.room)===null||i===void 0)&&i.localParticipant.identity)||this.room.localParticipant.identity==="")throw TypeError("local identity needs to be known in order to set up encrypted sender");if(I_()&&!QR()){pn.info("initialize script transform");const s={kind:"encode",participantIdentity:this.room.localParticipant.identity,trackId:n,codec:r};e.transform=new RTCRtpScriptTransform(this.worker,s)}else{pn.info("initialize encoded streams");const s=e.createEncodedStreams(),o={kind:"encode",data:{readableStream:s.readable,writableStream:s.writable,codec:r,trackId:n,participantIdentity:this.room.localParticipant.identity,isReuse:!1}};this.worker.postMessage(o,[s.readable,s.writable])}e[pp]=!0}}}const a4="default";class Mi{constructor(){this._previousDevices=[]}static getInstance(){return this.instance===void 0&&(this.instance=new Mi),this.instance}get previousDevices(){return this._previousDevices}getDevices(e){return J(this,arguments,void 0,function(n){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return function*(){var s;if(((s=Mi.userMediaPromiseMap)===null||s===void 0?void 0:s.size)>0){pn.debug("awaiting getUserMedia promise");try{n?yield Mi.userMediaPromiseMap.get(n):yield Promise.all(Mi.userMediaPromiseMap.values())}catch{pn.warn("error waiting for media permissons")}}let o=yield navigator.mediaDevices.enumerateDevices();if(i&&!(jh()&&r.hasDeviceInUse(n))&&(o.filter(l=>l.kind===n).length===0||o.some(l=>{const c=l.label==="",d=n?l.kind===n:!0;return c&&d}))){const l={video:n!=="audioinput"&&n!=="audiooutput",audio:n!=="videoinput"&&{deviceId:{ideal:"default"}}},c=yield navigator.mediaDevices.getUserMedia(l);o=yield navigator.mediaDevices.enumerateDevices(),c.getTracks().forEach(d=>{d.stop()})}return r._previousDevices=o,n&&(o=o.filter(a=>a.kind===n)),o}()})}normalizeDeviceId(e,n,r){return J(this,void 0,void 0,function*(){if(n!==a4)return n;const i=yield this.getDevices(e),s=i.find(a=>a.deviceId===a4);if(!s){pn.warn("could not reliably determine default device");return}const o=i.find(a=>a.deviceId!==a4&&a.groupId===(r??s.groupId));if(!o){pn.warn("could not reliably determine default device");return}return o?.deviceId})}hasDeviceInUse(e){return e?Mi.userMediaPromiseMap.has(e):Mi.userMediaPromiseMap.size>0}}Mi.mediaDeviceKinds=["audioinput","audiooutput","videoinput"];Mi.userMediaPromiseMap=new Map;var h0;(function(t){t[t.WAITING=0]="WAITING",t[t.RUNNING=1]="RUNNING",t[t.COMPLETED=2]="COMPLETED"})(h0||(h0={}));class oFe{constructor(){this.pendingTasks=new Map,this.taskMutex=new lo,this.nextTaskIndex=0}run(e){return J(this,void 0,void 0,function*(){const n={id:this.nextTaskIndex++,enqueuedAt:Date.now(),status:h0.WAITING};this.pendingTasks.set(n.id,n);const r=yield this.taskMutex.lock();try{return n.executedAt=Date.now(),n.status=h0.RUNNING,yield e()}finally{n.status=h0.COMPLETED,this.pendingTasks.delete(n.id),r()}})}flush(){return J(this,void 0,void 0,function*(){return this.run(()=>J(this,void 0,void 0,function*(){}))})}snapshot(){return Array.from(this.pendingTasks.values())}}class aFe{get readyState(){return this.ws.readyState}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var r,i;if(!((r=n.signal)===null||r===void 0)&&r.aborted)throw new DOMException("This operation was aborted","AbortError");this.url=e;const s=new WebSocket(e,(i=n.protocols)!==null&&i!==void 0?i:[]);s.binaryType="arraybuffer",this.ws=s;const o=function(){let{closeCode:a,reason:l}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return s.close(a,l)};this.opened=new Promise((a,l)=>{s.onopen=()=>{a({readable:new ReadableStream({start(c){s.onmessage=d=>{let{data:h}=d;return c.enqueue(h)},s.onerror=d=>c.error(d)},cancel:o}),writable:new WritableStream({write(c){s.send(c)},abort(){s.close()},close:o}),protocol:s.protocol,extensions:s.extensions}),s.removeEventListener("error",l)},s.addEventListener("error",l)}),this.closed=new Promise((a,l)=>{const c=()=>J(this,void 0,void 0,function*(){const d=new Promise(f=>{s.readyState!==WebSocket.CLOSED&&s.addEventListener("close",m=>{f(m)},{once:!0})}),h=yield Promise.race([Fs(250),d]);h?a(h):l(new Error("Encountered unspecified websocket error without a timely close event"))});s.onclose=d=>{let{code:h,reason:f}=d;a({closeCode:h,reason:f}),s.removeEventListener("error",c)},s.addEventListener("error",c)}),n.signal&&(n.signal.onabort=()=>s.close()),this.close=o}}function lFe(t,e){const n=new URL(HNe(t));return e.forEach((r,i)=>{n.searchParams.set(i,r)}),MW(n,"rtc")}function cFe(t){const e=new URL(U_(t));return MW(e,"validate")}function uFe(t){return t.endsWith("/")?t:"".concat(t,"/")}function MW(t,e){return t.pathname="".concat(uFe(t.pathname)).concat(e),t.toString()}function XR(t){if(typeof t=="string")return SR.fromJson(JSON.parse(t),{ignoreUnknownFields:!0});if(t instanceof ArrayBuffer)return SR.fromBinary(new Uint8Array(t));throw new Error("could not decode websocket message: ".concat(typeof t))}function dFe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Unknown reason";if(!(t instanceof AbortSignal))return e;const n=t.reason;switch(typeof n){case"string":return n;case"object":return n instanceof Error?n.message:e;default:return"toString"in n?n.toString():e}}const hFe=["syncState","trickle","offer","answer","simulate","leave"];function fFe(t){const e=hFe.indexOf(t.case)>=0;return pn.trace("request allowed to bypass queue:",{canPass:e,req:t}),e}var Ir;(function(t){t[t.CONNECTING=0]="CONNECTING",t[t.CONNECTED=1]="CONNECTED",t[t.RECONNECTING=2]="RECONNECTING",t[t.DISCONNECTING=3]="DISCONNECTING",t[t.DISCONNECTED=4]="DISCONNECTED"})(Ir||(Ir={}));const mFe=250;class I6{get currentState(){return this.state}get isDisconnected(){return this.state===Ir.DISCONNECTING||this.state===Ir.DISCONNECTED}get isEstablishingConnection(){return this.state===Ir.CONNECTING||this.state===Ir.RECONNECTING}getNextRequestId(){return this._requestId+=1,this._requestId}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var r;this.rtt=0,this.state=Ir.DISCONNECTED,this.log=pn,this._requestId=0,this.resetCallbacks=()=>{this.onAnswer=void 0,this.onLeave=void 0,this.onLocalTrackPublished=void 0,this.onLocalTrackUnpublished=void 0,this.onNegotiateRequested=void 0,this.onOffer=void 0,this.onRemoteMuteChanged=void 0,this.onSubscribedQualityUpdate=void 0,this.onTokenRefresh=void 0,this.onTrickle=void 0,this.onClose=void 0,this.onMediaSectionsRequirement=void 0},this.log=ou((r=n.loggerName)!==null&&r!==void 0?r:gl.Signal),this.loggerContextCb=n.loggerContextCb,this.useJSON=e,this.requestQueue=new oFe,this.queuedRequests=[],this.closingLock=new lo,this.connectionLock=new lo,this.state=Ir.DISCONNECTED}get logContext(){var e,n;return(n=(e=this.loggerContextCb)===null||e===void 0?void 0:e.call(this))!==null&&n!==void 0?n:{}}join(e,n,r,i){return J(this,void 0,void 0,function*(){return this.state=Ir.CONNECTING,this.options=r,yield this.connect(e,n,r,i)})}reconnect(e,n,r,i){return J(this,void 0,void 0,function*(){if(!this.options){this.log.warn("attempted to reconnect without signal options being set, ignoring",this.logContext);return}return this.state=Ir.RECONNECTING,this.clearPingInterval(),yield this.connect(e,n,Object.assign(Object.assign({},this.options),{reconnect:!0,sid:r,reconnectReason:i}))})}connect(e,n,r,i){return J(this,void 0,void 0,function*(){const s=yield this.connectionLock.lock();this.connectOptions=r;const o=jNe(),a=r.singlePeerConnection?pFe(n,o,r):gFe(n,o,r),l=lFe(e,a),c=cFe(l);return new Promise((d,h)=>J(this,void 0,void 0,function*(){var f,m;try{let g=!1;const p=x=>J(this,void 0,void 0,function*(){if(g)return;g=!0;const O=x instanceof Event?x.currentTarget:x,S=dFe(O,"Abort handler called");this.streamWriter&&!this.isDisconnected?this.sendLeave().then(()=>this.close(S)).catch(T=>{this.log.error(T),this.close()}):this.close(),v(),h(O instanceof AbortSignal?O.reason:O)});i?.addEventListener("abort",p);const v=()=>{clearTimeout(b),i?.removeEventListener("abort",p)},b=setTimeout(()=>{p(new Vn("room connection has timed out (signal)",Cn.ServerUnreachable))},r.websocketTimeout),y=(x,O)=>{this.handleSignalConnected(x,b,O)},C=new URL(l);C.searchParams.has("access_token")&&C.searchParams.set("access_token","<redacted>"),this.log.debug("connecting to ".concat(C),Object.assign({reconnect:r.reconnect,reconnectReason:r.reconnectReason},this.logContext)),this.ws&&(yield this.close(!1)),this.ws=new aFe(l);try{this.ws.closed.then(P=>{this.isEstablishingConnection&&h(new Vn("Websocket got closed during a (re)connection attempt: ".concat(P.reason),Cn.InternalError)),P.closeCode!==1e3&&this.log.warn("websocket closed",Object.assign(Object.assign({},this.logContext),{reason:P.reason,code:P.closeCode,wasClean:P.closeCode===1e3,state:this.state}))}).catch(P=>{this.isEstablishingConnection&&h(new Vn("Websocket error during a (re)connection attempt: ".concat(P),Cn.InternalError))});const x=yield this.ws.opened.catch(P=>J(this,void 0,void 0,function*(){if(this.state!==Ir.CONNECTED){this.state=Ir.DISCONNECTED,clearTimeout(b);const L=yield this.handleConnectionError(P,c);h(L);return}this.handleWSError(P),h(P)}));if(clearTimeout(b),!x)return;const O=x.readable.getReader();this.streamWriter=x.writable.getWriter();const S=yield O.read();if(O.releaseLock(),!S.value)throw new Vn("no message received as first message",Cn.InternalError);const T=XR(S.value),$=this.validateFirstMessage(T,(f=r.reconnect)!==null&&f!==void 0?f:!1);if(!$.isValid){h($.error);return}((m=T.message)===null||m===void 0?void 0:m.case)==="join"&&(this.pingTimeoutDuration=T.message.value.pingTimeout,this.pingIntervalDuration=T.message.value.pingInterval,this.pingTimeoutDuration&&this.pingTimeoutDuration>0&&this.log.debug("ping config",Object.assign(Object.assign({},this.logContext),{timeout:this.pingTimeoutDuration,interval:this.pingIntervalDuration})));const M=$.shouldProcessFirstMessage?T:void 0;y(x,M),d($.response)}catch(x){h(x)}finally{v()}}finally{s()}}))})}startReadingLoop(e,n){return J(this,void 0,void 0,function*(){for(n&&this.handleSignalResponse(n);;){this.signalLatency&&(yield Fs(this.signalLatency));const{done:r,value:i}=yield e.read();if(r)break;const s=XR(i);this.handleSignalResponse(s)}})}close(){return J(this,arguments,void 0,function(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Close method called on signal client";return function*(){const i=yield e.closingLock.lock();try{if(e.clearPingInterval(),n&&(e.state=Ir.DISCONNECTING),e.ws){e.ws.close({closeCode:1e3,reason:r});const s=e.ws.closed;e.ws=void 0,e.streamWriter=void 0,yield Promise.race([s,Fs(mFe)])}}catch(s){e.log.debug("websocket error while closing",Object.assign(Object.assign({},e.logContext),{error:s}))}finally{n&&(e.state=Ir.DISCONNECTED),i()}}()})}sendOffer(e,n){this.log.debug("sending offer",Object.assign(Object.assign({},this.logContext),{offerSdp:e.sdp})),this.sendRequest({case:"offer",value:im(e,n)})}sendAnswer(e,n){return this.log.debug("sending answer",Object.assign(Object.assign({},this.logContext),{answerSdp:e.sdp})),this.sendRequest({case:"answer",value:im(e,n)})}sendIceCandidate(e,n){return this.log.debug("sending ice candidate",Object.assign(Object.assign({},this.logContext),{candidate:e})),this.sendRequest({case:"trickle",value:new gw({candidateInit:JSON.stringify(e),target:n})})}sendMuteTrack(e,n){return this.sendRequest({case:"mute",value:new pw({sid:e,muted:n})})}sendAddTrack(e){return this.sendRequest({case:"addTrack",value:e})}sendUpdateLocalMetadata(e,n){return J(this,arguments,void 0,function(r,i){var s=this;let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){const a=s.getNextRequestId();return yield s.sendRequest({case:"updateMetadata",value:new C6({requestId:a,metadata:r,name:i,attributes:o})}),a}()})}sendUpdateTrackSettings(e){this.sendRequest({case:"trackSetting",value:e})}sendUpdateSubscription(e){return this.sendRequest({case:"subscription",value:e})}sendSyncState(e){return this.sendRequest({case:"syncState",value:e})}sendUpdateVideoLayers(e,n){return this.sendRequest({case:"updateLayers",value:new zH({trackSid:e,layers:n})})}sendUpdateSubscriptionPermissions(e,n){return this.sendRequest({case:"subscriptionPermission",value:new VH({allParticipants:e,trackPermissions:n})})}sendSimulateScenario(e){return this.sendRequest({case:"simulate",value:e})}sendPing(){return Promise.all([this.sendRequest({case:"ping",value:Cr.parse(Date.now())}),this.sendRequest({case:"pingReq",value:new HH({timestamp:Cr.parse(Date.now()),rtt:Cr.parse(this.rtt)})})])}sendUpdateLocalAudioTrack(e,n){return this.sendRequest({case:"updateAudioTrack",value:new _6({trackSid:e,features:n})})}sendLeave(){return this.sendRequest({case:"leave",value:new bw({reason:il.CLIENT_INITIATED,action:_m.DISCONNECT})})}sendRequest(e){return J(this,arguments,void 0,function(n){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return function*(){if(!i&&!fFe(n)&&r.state===Ir.RECONNECTING){r.queuedRequests.push(()=>J(r,void 0,void 0,function*(){yield this.sendRequest(n,!0)}));return}if(i||(yield r.requestQueue.flush()),r.signalLatency&&(yield Fs(r.signalLatency)),r.isDisconnected){r.log.debug("skipping signal request (type: ".concat(n.case,") - SignalClient disconnected"));return}if(!r.streamWriter){r.log.error("cannot send signal request before connected, type: ".concat(n?.case),r.logContext);return}const o=new TLe({message:n});try{r.useJSON?yield r.streamWriter.write(o.toJsonString()):yield r.streamWriter.write(o.toBinary())}catch(a){r.log.error("error sending signal message",Object.assign(Object.assign({},r.logContext),{error:a}))}}()})}handleSignalResponse(e){var n,r;const i=e.message;if(i==null){this.log.debug("received unsupported message",this.logContext);return}let s=!1;if(i.case==="answer"){const o=YR(i.value);this.onAnswer&&this.onAnswer(o,i.value.id,i.value.midToTrackId)}else if(i.case==="offer"){const o=YR(i.value);this.onOffer&&this.onOffer(o,i.value.id,i.value.midToTrackId)}else if(i.case==="trickle"){const o=JSON.parse(i.value.candidateInit);this.onTrickle&&this.onTrickle(o,i.value.target)}else i.case==="update"?this.onParticipantUpdate&&this.onParticipantUpdate((n=i.value.participants)!==null&&n!==void 0?n:[]):i.case==="trackPublished"?this.onLocalTrackPublished&&this.onLocalTrackPublished(i.value):i.case==="speakersChanged"?this.onSpeakersChanged&&this.onSpeakersChanged((r=i.value.speakers)!==null&&r!==void 0?r:[]):i.case==="leave"?this.onLeave&&this.onLeave(i.value):i.case==="mute"?this.onRemoteMuteChanged&&this.onRemoteMuteChanged(i.value.sid,i.value.muted):i.case==="roomUpdate"?this.onRoomUpdate&&i.value.room&&this.onRoomUpdate(i.value.room):i.case==="connectionQuality"?this.onConnectionQuality&&this.onConnectionQuality(i.value):i.case==="streamStateUpdate"?this.onStreamStateUpdate&&this.onStreamStateUpdate(i.value):i.case==="subscribedQualityUpdate"?this.onSubscribedQualityUpdate&&this.onSubscribedQualityUpdate(i.value):i.case==="subscriptionPermissionUpdate"?this.onSubscriptionPermissionUpdate&&this.onSubscriptionPermissionUpdate(i.value):i.case==="refreshToken"?this.onTokenRefresh&&this.onTokenRefresh(i.value):i.case==="trackUnpublished"?this.onLocalTrackUnpublished&&this.onLocalTrackUnpublished(i.value):i.case==="subscriptionResponse"?this.onSubscriptionError&&this.onSubscriptionError(i.value):i.case==="pong"||(i.case==="pongResp"?(this.rtt=Date.now()-Number.parseInt(i.value.lastPingTimestamp.toString()),this.resetPingTimeout(),s=!0):i.case==="requestResponse"?this.onRequestResponse&&this.onRequestResponse(i.value):i.case==="trackSubscribed"?this.onLocalTrackSubscribed&&this.onLocalTrackSubscribed(i.value.trackSid):i.case==="roomMoved"?(this.onTokenRefresh&&this.onTokenRefresh(i.value.token),this.onRoomMoved&&this.onRoomMoved(i.value)):i.case==="mediaSectionsRequirement"?this.onMediaSectionsRequirement&&this.onMediaSectionsRequirement(i.value):this.log.debug("unsupported message",Object.assign(Object.assign({},this.logContext),{msgCase:i.case})));s||this.resetPingTimeout()}setReconnected(){for(;this.queuedRequests.length>0;){const e=this.queuedRequests.shift();e&&this.requestQueue.run(e)}}handleOnClose(e){return J(this,void 0,void 0,function*(){if(this.state===Ir.DISCONNECTED)return;const n=this.onClose;yield this.close(void 0,e),this.log.debug("websocket connection closed: ".concat(e),Object.assign(Object.assign({},this.logContext),{reason:e})),n&&n(e)})}handleWSError(e){this.log.error("websocket error",Object.assign(Object.assign({},this.logContext),{error:e}))}resetPingTimeout(){if(this.clearPingTimeout(),!this.pingTimeoutDuration){this.log.warn("ping timeout duration not set",this.logContext);return}this.pingTimeout=Ki.setTimeout(()=>{this.log.warn("ping timeout triggered. last pong received at: ".concat(new Date(Date.now()-this.pingTimeoutDuration*1e3).toUTCString()),this.logContext),this.handleOnClose("ping timeout")},this.pingTimeoutDuration*1e3)}clearPingTimeout(){this.pingTimeout&&Ki.clearTimeout(this.pingTimeout)}startPingInterval(){if(this.clearPingInterval(),this.resetPingTimeout(),!this.pingIntervalDuration){this.log.warn("ping interval duration not set",this.logContext);return}this.log.debug("start ping interval",this.logContext),this.pingInterval=Ki.setInterval(()=>{this.sendPing()},this.pingIntervalDuration*1e3)}clearPingInterval(){this.log.debug("clearing ping interval",this.logContext),this.clearPingTimeout(),this.pingInterval&&Ki.clearInterval(this.pingInterval)}handleSignalConnected(e,n,r){this.state=Ir.CONNECTED,clearTimeout(n),this.startPingInterval(),this.startReadingLoop(e.readable.getReader(),r)}validateFirstMessage(e,n){var r,i,s,o,a;return((r=e.message)===null||r===void 0?void 0:r.case)==="join"?{isValid:!0,response:e.message.value}:this.state===Ir.RECONNECTING&&((i=e.message)===null||i===void 0?void 0:i.case)!=="leave"?((s=e.message)===null||s===void 0?void 0:s.case)==="reconnect"?{isValid:!0,response:e.message.value}:(this.log.debug("declaring signal reconnected without reconnect response received",this.logContext),{isValid:!0,response:void 0,shouldProcessFirstMessage:!0}):this.isEstablishingConnection&&((o=e.message)===null||o===void 0?void 0:o.case)==="leave"?{isValid:!1,error:new Vn("Received leave request while trying to (re)connect",Cn.LeaveRequest,void 0,e.message.value.reason)}:n?{isValid:!1,error:new Vn("Unexpected first message",Cn.InternalError)}:{isValid:!1,error:new Vn("did not receive join response, got ".concat((a=e.message)===null||a===void 0?void 0:a.case," instead"),Cn.InternalError)}}handleConnectionError(e,n){return J(this,void 0,void 0,function*(){try{const r=yield fetch(n);if(r.status.toFixed(0).startsWith("4")){const i=yield r.text();return new Vn(i,Cn.NotAllowed,r.status)}else return e instanceof Vn?e:new Vn("Encountered unknown websocket error during connection: ".concat(e),Cn.InternalError,r.status)}catch(r){return r instanceof Vn?r:new Vn(r instanceof Error?r.message:"server was not reachable",Cn.ServerUnreachable)}})}}function YR(t){const e={type:"offer",sdp:t.sdp};switch(t.type){case"answer":case"offer":case"pranswer":case"rollback":e.type=t.type;break}return e}function im(t,e){return new Sd({sdp:t.sdp,type:t.type,id:e})}function gFe(t,e,n){var r;const i=new URLSearchParams;return i.set("access_token",t),n.reconnect&&(i.set("reconnect","1"),n.sid&&i.set("sid",n.sid)),i.set("auto_subscribe",n.autoSubscribe?"1":"0"),i.set("sdk",sc()?"reactnative":"js"),i.set("version",e.version),i.set("protocol",e.protocol.toString()),e.deviceModel&&i.set("device_model",e.deviceModel),e.os&&i.set("os",e.os),e.osVersion&&i.set("os_version",e.osVersion),e.browser&&i.set("browser",e.browser),e.browserVersion&&i.set("browser_version",e.browserVersion),n.adaptiveStream&&i.set("adaptive_stream","1"),n.reconnectReason&&i.set("reconnect_reason",n.reconnectReason.toString()),!((r=navigator.connection)===null||r===void 0)&&r.type&&i.set("network",navigator.connection.type),i}function pFe(t,e,n){const r=new URLSearchParams;r.set("access_token",t);const i=new GLe({clientInfo:e,connectionSettings:new WH({autoSubscribe:!!n.autoSubscribe,adaptiveStream:!!n.adaptiveStream}),reconnect:!!n.reconnect,participantSid:n.sid?n.sid:void 0});n.reconnectReason&&(i.reconnectReason=n.reconnectReason);const s=new ZLe({joinRequest:i.toBinary()});return r.set("join_request",btoa(new TextDecoder("utf-8").decode(s.toBinary()))),r}class GR{constructor(){this.buffer=[],this._totalSize=0}push(e){this.buffer.push(e),this._totalSize+=e.data.byteLength}pop(){const e=this.buffer.shift();return e&&(this._totalSize-=e.data.byteLength),e}getAll(){return this.buffer.slice()}popToSequence(e){for(;this.buffer.length>0&&this.buffer[0].sequence<=e;)this.pop()}alignBufferedAmount(e){for(;this.buffer.length>0;){const n=this.buffer[0];if(this._totalSize-n.data.byteLength<=e)break;this.pop()}}get length(){return this.buffer.length}}class vFe{constructor(e){this._map=new Map,this._lastCleanup=0,this.ttl=e}set(e,n){const r=Date.now();r-this._lastCleanup>this.ttl/2&&this.cleanup();const i=r+this.ttl;return this._map.set(e,{value:n,expiresAt:i}),this}get(e){const n=this._map.get(e);if(n){if(n.expiresAt<Date.now()){this._map.delete(e);return}return n.value}}has(e){const n=this._map.get(e);return n?n.expiresAt<Date.now()?(this._map.delete(e),!1):!0:!1}delete(e){return this._map.delete(e)}clear(){this._map.clear()}cleanup(){const e=Date.now();for(const[n,r]of this._map.entries())r.expiresAt<e&&this._map.delete(n);this._lastCleanup=e}get size(){return this.cleanup(),this._map.size}forEach(e){this.cleanup();for(const[n,r]of this._map.entries())r.expiresAt>=Date.now()&&e(r.value,n,this.asValueMap())}map(e){this.cleanup();const n=[],r=this.asValueMap();for(const[i,s]of r.entries())n.push(e(s,i,r));return n}asValueMap(){const e=new Map;for(const[n,r]of this._map.entries())r.expiresAt>=Date.now()&&e.set(n,r.value);return e}}var Wa={},l4={},c4={exports:{}},ZR;function $6(){if(ZR)return c4.exports;ZR=1;var t=c4.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return e.address!=null?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return e.subtype!=null?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return e.sessionConfig!=null?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var n="candidate:%s %d %s %d %s %d typ %s";return n+=e.raddr!=null?" raddr %s rport %d":"%v%v",n+=e.tcptype!=null?" tcptype %s":"%v",e.generation!=null&&(n+=" generation %d"),n+=e["network-id"]!=null?" network-id %d":"%v",n+=e["network-cost"]!=null?" network-cost %d":"%v",n}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var n="ssrc:%d";return e.attribute!=null&&(n+=" %s",e.value!=null&&(n+=":%s")),n}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return e.maxMessageSize!=null?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(e.clksrcExt!=null?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var n="mediaclk:";return n+=e.id!=null?"id=%s %s":"%v%s",n+=e.mediaClockValue!=null?"=%s":"",n+=e.rateNumerator!=null?" rate=%s":"",n+=e.rateDenominator!=null?"/%s":"",n}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};return Object.keys(t).forEach(function(e){var n=t[e];n.forEach(function(r){r.reg||(r.reg=/(.*)/),r.format||(r.format="%s")})}),c4.exports}var KR;function bFe(){return KR||(KR=1,function(t){var e=function(a){return String(Number(a))===a?Number(a):a},n=function(a,l,c,d){if(d&&!c)l[d]=e(a[1]);else for(var h=0;h<c.length;h+=1)a[h+1]!=null&&(l[c[h]]=e(a[h+1]))},r=function(a,l,c){var d=a.name&&a.names;a.push&&!l[a.push]?l[a.push]=[]:d&&!l[a.name]&&(l[a.name]={});var h=a.push?{}:d?l[a.name]:l;n(c.match(a.reg),h,a.names,a.name),a.push&&l[a.push].push(h)},i=$6(),s=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(a){var l={},c=[],d=l;return a.split(/(\r\n|\r|\n)/).filter(s).forEach(function(h){var f=h[0],m=h.slice(2);f==="m"&&(c.push({rtp:[],fmtp:[]}),d=c[c.length-1]);for(var g=0;g<(i[f]||[]).length;g+=1){var p=i[f][g];if(p.reg.test(m))return r(p,d,m)}}),l.media=c,l};var o=function(a,l){var c=l.split(/=(.+)/,2);return c.length===2?a[c[0]]=e(c[1]):c.length===1&&l.length>1&&(a[c[0]]=void 0),a};t.parseParams=function(a){return a.split(/;\s?/).reduce(o,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(a){return a.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(a){for(var l=[],c=a.split(" ").map(e),d=0;d<c.length;d+=3)l.push({component:c[d],ip:c[d+1],port:c[d+2]});return l},t.parseImageAttributes=function(a){return a.split(" ").map(function(l){return l.substring(1,l.length-1).split(",").reduce(o,{})})},t.parseSimulcastStreamList=function(a){return a.split(";").map(function(l){return l.split(",").map(function(c){var d,h=!1;return c[0]!=="~"?d=e(c):(d=e(c.substring(1,c.length)),h=!0),{scid:d,paused:h}})})}}(l4)),l4}var u4,JR;function yFe(){if(JR)return u4;JR=1;var t=$6(),e=/%[sdv%]/g,n=function(o){var a=1,l=arguments,c=l.length;return o.replace(e,function(d){if(a>=c)return d;var h=l[a];switch(a+=1,d){case"%%":return"%";case"%s":return String(h);case"%d":return Number(h);case"%v":return""}})},r=function(o,a,l){var c=a.format instanceof Function?a.format(a.push?l:l[a.name]):a.format,d=[o+"="+c];if(a.names)for(var h=0;h<a.names.length;h+=1){var f=a.names[h];a.name?d.push(l[a.name][f]):d.push(l[a.names[h]])}else d.push(l[a.name]);return n.apply(null,d)},i=["v","o","s","i","u","e","p","c","b","t","r","z","a"],s=["i","c","b","a"];return u4=function(o,a){a=a||{},o.version==null&&(o.version=0),o.name==null&&(o.name=" "),o.media.forEach(function(h){h.payloads==null&&(h.payloads="")});var l=a.outerOrder||i,c=a.innerOrder||s,d=[];return l.forEach(function(h){t[h].forEach(function(f){f.name in o&&o[f.name]!=null?d.push(r(h,f,o)):f.push in o&&o[f.push]!=null&&o[f.push].forEach(function(m){d.push(r(h,f,m))})})}),o.media.forEach(function(h){d.push(r("m",t.m[0],h)),c.forEach(function(f){t[f].forEach(function(m){m.name in h&&h[m.name]!=null?d.push(r(f,m,h)):m.push in h&&h[m.push]!=null&&h[m.push].forEach(function(g){d.push(r(f,m,g))})})})}),d.join(`\r
`)+`\r
`},u4}var eM;function OFe(){if(eM)return Wa;eM=1;var t=bFe(),e=yFe(),n=$6();return Wa.grammar=n,Wa.write=e,Wa.parse=t.parse,Wa.parseParams=t.parseParams,Wa.parseFmtpConfig=t.parseFmtpConfig,Wa.parsePayloads=t.parsePayloads,Wa.parseRemoteCandidates=t.parseRemoteCandidates,Wa.parseImageAttributes=t.parseImageAttributes,Wa.parseSimulcastStreamList=t.parseSimulcastStreamList,Wa}var $u=OFe();function L6(t,e,n){var r,i,s;e===void 0&&(e=50),n===void 0&&(n={});var o=(r=n.isImmediate)!=null&&r,a=(i=n.callback)!=null&&i,l=n.maxWait,c=Date.now(),d=[];function h(){if(l!==void 0){var m=Date.now()-c;if(m+e>=l)return l-m}return e}var f=function(){var m=[].slice.call(arguments),g=this;return new Promise(function(p,v){var b=o&&s===void 0;if(s!==void 0&&clearTimeout(s),s=setTimeout(function(){if(s=void 0,c=Date.now(),!o){var C=t.apply(g,m);a&&a(C),d.forEach(function(x){return(0,x.resolve)(C)}),d=[]}},h()),b){var y=t.apply(g,m);return a&&a(y),p(y)}d.push({resolve:p,reject:v})})};return f.cancel=function(m){s!==void 0&&clearTimeout(s),d.forEach(function(g){return(0,g.reject)(m)}),d=[]},f}const wFe=.7,kFe=20,Dm={NegotiationStarted:"negotiationStarted",NegotiationComplete:"negotiationComplete",RTPVideoPayloadTypes:"rtpVideoPayloadTypes"};class tM extends pc.EventEmitter{get pc(){return this._pc||(this._pc=this.createPC()),this._pc}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var r;super(),this.log=pn,this.ddExtID=0,this.latestOfferId=0,this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate=!1,this.trackBitrates=[],this.remoteStereoMids=[],this.remoteNackMids=[],this.negotiate=L6(i=>J(this,void 0,void 0,function*(){this.emit(Dm.NegotiationStarted);try{yield this.createAndSendOffer()}catch(s){if(i)i(s);else throw s}}),kFe),this.close=()=>{this._pc&&(this._pc.close(),this._pc.onconnectionstatechange=null,this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.ondatachannel=null,this._pc.onnegotiationneeded=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ondatachannel=null,this._pc.ontrack=null,this._pc.onconnectionstatechange=null,this._pc.oniceconnectionstatechange=null,this._pc=null)},this.log=ou((r=n.loggerName)!==null&&r!==void 0?r:gl.PCTransport),this.loggerOptions=n,this.config=e,this._pc=this.createPC(),this.offerLock=new lo}createPC(){const e=new RTCPeerConnection(this.config);return e.onicecandidate=n=>{var r;n.candidate&&((r=this.onIceCandidate)===null||r===void 0||r.call(this,n.candidate))},e.onicecandidateerror=n=>{var r;(r=this.onIceCandidateError)===null||r===void 0||r.call(this,n)},e.oniceconnectionstatechange=()=>{var n;(n=this.onIceConnectionStateChange)===null||n===void 0||n.call(this,e.iceConnectionState)},e.onsignalingstatechange=()=>{var n;(n=this.onSignalingStatechange)===null||n===void 0||n.call(this,e.signalingState)},e.onconnectionstatechange=()=>{var n;(n=this.onConnectionStateChange)===null||n===void 0||n.call(this,e.connectionState)},e.ondatachannel=n=>{var r;(r=this.onDataChannel)===null||r===void 0||r.call(this,n)},e.ontrack=n=>{var r;(r=this.onTrack)===null||r===void 0||r.call(this,n)},e}get logContext(){var e,n;return Object.assign({},(n=(e=this.loggerOptions).loggerContextCb)===null||n===void 0?void 0:n.call(e))}get isICEConnected(){return this._pc!==null&&(this.pc.iceConnectionState==="connected"||this.pc.iceConnectionState==="completed")}addIceCandidate(e){return J(this,void 0,void 0,function*(){if(this.pc.remoteDescription&&!this.restartingIce)return this.pc.addIceCandidate(e);this.pendingCandidates.push(e)})}setRemoteDescription(e,n){return J(this,void 0,void 0,function*(){var r;if(e.type==="answer"&&this.latestOfferId>0&&n>0&&n!==this.latestOfferId)return this.log.warn("ignoring answer for old offer",Object.assign(Object.assign({},this.logContext),{offerId:n,latestOfferId:this.latestOfferId})),!1;let i;if(e.type==="offer"){let{stereoMids:s,nackMids:o}=SFe(e);this.remoteStereoMids=s,this.remoteNackMids=o}else if(e.type==="answer"){const s=$u.parse((r=e.sdp)!==null&&r!==void 0?r:"");s.media.forEach(o=>{const a=N6(o.mid);o.type==="audio"&&this.trackBitrates.some(l=>{if(!l.transceiver||a!=l.transceiver.mid)return!1;let c=0;if(o.rtp.some(h=>h.codec.toUpperCase()===l.codec.toUpperCase()?(c=h.payload,!0):!1),c===0)return!0;let d=!1;for(const h of o.fmtp)if(h.payload===c){h.config=h.config.split(";").filter(f=>!f.includes("maxaveragebitrate")).join(";"),l.maxbr>0&&(h.config+=";maxaveragebitrate=".concat(l.maxbr*1e3)),d=!0;break}return d||l.maxbr>0&&o.fmtp.push({payload:c,config:"maxaveragebitrate=".concat(l.maxbr*1e3)}),!0})}),i=$u.write(s)}return yield this.setMungedSDP(e,i,!0),this.pendingCandidates.forEach(s=>{this.pc.addIceCandidate(s)}),this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate?(this.renegotiate=!1,yield this.createAndSendOffer()):e.type==="answer"&&(this.emit(Dm.NegotiationComplete),e.sdp&&$u.parse(e.sdp).media.forEach(o=>{o.type==="video"&&this.emit(Dm.RTPVideoPayloadTypes,o.rtp)})),!0})}createAndSendOffer(e){return J(this,void 0,void 0,function*(){var n;const r=yield this.offerLock.lock();try{if(this.onOffer===void 0)return;if(e?.iceRestart&&(this.log.debug("restarting ICE",this.logContext),this.restartingIce=!0),this._pc&&this._pc.signalingState==="have-local-offer"){const a=this._pc.remoteDescription;if(e?.iceRestart&&a)yield this._pc.setRemoteDescription(a);else{this.renegotiate=!0;return}}else if(!this._pc||this._pc.signalingState==="closed"){this.log.warn("could not createOffer with closed peer connection",this.logContext);return}this.log.debug("starting to negotiate",this.logContext);const i=this.latestOfferId+1;this.latestOfferId=i;const s=yield this.pc.createOffer(e);this.log.debug("original offer",Object.assign({sdp:s.sdp},this.logContext));const o=$u.parse((n=s.sdp)!==null&&n!==void 0?n:"");if(o.media.forEach(a=>{rM(a),a.type==="audio"?nM(a,["all"],[]):a.type==="video"&&this.trackBitrates.some(l=>{if(!a.msid||!l.cid||!a.msid.includes(l.cid))return!1;let c=0;if(a.rtp.some(h=>h.codec.toUpperCase()===l.codec.toUpperCase()?(c=h.payload,!0):!1),c===0||(Ql(l.codec)&&!jh()&&this.ensureVideoDDExtensionForSVC(a,o),l.codec!=="av1"))return!0;const d=Math.round(l.maxbr*wFe);for(const h of a.fmtp)if(h.payload===c){h.config.includes("x-google-start-bitrate")||(h.config+=";x-google-start-bitrate=".concat(d));break}return!0})}),this.latestOfferId>i){this.log.warn("latestOfferId mismatch",Object.assign(Object.assign({},this.logContext),{latestOfferId:this.latestOfferId,offerId:i}));return}yield this.setMungedSDP(s,$u.write(o)),this.onOffer(s,this.latestOfferId)}finally{r()}})}createAndSetAnswer(){return J(this,void 0,void 0,function*(){var e;const n=yield this.pc.createAnswer(),r=$u.parse((e=n.sdp)!==null&&e!==void 0?e:"");return r.media.forEach(i=>{rM(i),i.type==="audio"&&nM(i,this.remoteStereoMids,this.remoteNackMids)}),yield this.setMungedSDP(n,$u.write(r)),n})}createDataChannel(e,n){return this.pc.createDataChannel(e,n)}addTransceiver(e,n){return this.pc.addTransceiver(e,n)}addTransceiverOfKind(e,n){return this.pc.addTransceiver(e,n)}addTrack(e){if(!this._pc)throw new fi("PC closed, cannot add track");return this._pc.addTrack(e)}setTrackCodecBitrate(e){this.trackBitrates.push(e)}setConfiguration(e){var n;if(!this._pc)throw new fi("PC closed, cannot configure");return(n=this._pc)===null||n===void 0?void 0:n.setConfiguration(e)}canRemoveTrack(){var e;return!!(!((e=this._pc)===null||e===void 0)&&e.removeTrack)}removeTrack(e){var n;return(n=this._pc)===null||n===void 0?void 0:n.removeTrack(e)}getConnectionState(){var e,n;return(n=(e=this._pc)===null||e===void 0?void 0:e.connectionState)!==null&&n!==void 0?n:"closed"}getICEConnectionState(){var e,n;return(n=(e=this._pc)===null||e===void 0?void 0:e.iceConnectionState)!==null&&n!==void 0?n:"closed"}getSignallingState(){var e,n;return(n=(e=this._pc)===null||e===void 0?void 0:e.signalingState)!==null&&n!==void 0?n:"closed"}getTransceivers(){var e,n;return(n=(e=this._pc)===null||e===void 0?void 0:e.getTransceivers())!==null&&n!==void 0?n:[]}getSenders(){var e,n;return(n=(e=this._pc)===null||e===void 0?void 0:e.getSenders())!==null&&n!==void 0?n:[]}getLocalDescription(){var e;return(e=this._pc)===null||e===void 0?void 0:e.localDescription}getRemoteDescription(){var e;return(e=this.pc)===null||e===void 0?void 0:e.remoteDescription}getStats(){return this.pc.getStats()}getConnectedAddress(){return J(this,void 0,void 0,function*(){var e;if(!this._pc)return;let n="";const r=new Map,i=new Map;if((yield this._pc.getStats()).forEach(a=>{switch(a.type){case"transport":n=a.selectedCandidatePairId;break;case"candidate-pair":n===""&&a.selected&&(n=a.id),r.set(a.id,a);break;case"remote-candidate":i.set(a.id,"".concat(a.address,":").concat(a.port));break}}),n==="")return;const o=(e=r.get(n))===null||e===void 0?void 0:e.remoteCandidateId;if(o!==void 0)return i.get(o)})}setMungedSDP(e,n,r){return J(this,void 0,void 0,function*(){if(n){const i=e.sdp;e.sdp=n;try{this.log.debug("setting munged ".concat(r?"remote":"local"," description"),this.logContext),r?yield this.pc.setRemoteDescription(e):yield this.pc.setLocalDescription(e);return}catch(s){this.log.warn("not able to set ".concat(e.type,", falling back to unmodified sdp"),Object.assign(Object.assign({},this.logContext),{error:s,sdp:n})),e.sdp=i}}try{r?yield this.pc.setRemoteDescription(e):yield this.pc.setLocalDescription(e)}catch(i){let s="unknown error";i instanceof Error?s=i.message:typeof i=="string"&&(s=i);const o={error:s,sdp:e.sdp};throw!r&&this.pc.remoteDescription&&(o.remoteSdp=this.pc.remoteDescription),this.log.error("unable to set ".concat(e.type),Object.assign(Object.assign({},this.logContext),{fields:o})),new $_(s)}})}ensureVideoDDExtensionForSVC(e,n){var r,i;if(!((r=e.ext)===null||r===void 0?void 0:r.some(o=>o.uri===zR))){if(this.ddExtID===0){let o=0;n.media.forEach(a=>{var l;a.type==="video"&&((l=a.ext)===null||l===void 0||l.forEach(c=>{c.value>o&&(o=c.value)}))}),this.ddExtID=o+1}(i=e.ext)===null||i===void 0||i.push({value:this.ddExtID,uri:zR})}}}function nM(t,e,n){const r=N6(t.mid);let i=0;t.rtp.some(s=>s.codec==="opus"?(i=s.payload,!0):!1),i>0&&(t.rtcpFb||(t.rtcpFb=[]),n.includes(r)&&!t.rtcpFb.some(s=>s.payload===i&&s.type==="nack")&&t.rtcpFb.push({payload:i,type:"nack"}),(e.includes(r)||e.length===1&&e[0]==="all")&&t.fmtp.some(s=>s.payload===i?(s.config.includes("stereo=1")||(s.config+=";stereo=1"),!0):!1))}function SFe(t){var e;const n=[],r=[],i=$u.parse((e=t.sdp)!==null&&e!==void 0?e:"");let s=0;return i.media.forEach(o=>{var a;const l=N6(o.mid);o.type==="audio"&&(o.rtp.some(c=>c.codec==="opus"?(s=c.payload,!0):!1),!((a=o.rtcpFb)===null||a===void 0)&&a.some(c=>c.payload===s&&c.type==="nack")&&r.push(l),o.fmtp.some(c=>c.payload===s?(c.config.includes("sprop-stereo=1")&&n.push(l),!0):!1))}),{stereoMids:n,nackMids:r}}function rM(t){if(t.connection){const e=t.connection.ip.indexOf(":")>=0;(t.connection.version===4&&e||t.connection.version===6&&!e)&&(t.connection.ip="0.0.0.0",t.connection.version=4)}}function N6(t){return typeof t=="number"?t.toFixed(0):t}const H_="vp8",xFe={audioPreset:L_.music,dtx:!0,red:!0,forceStereo:!1,simulcast:!0,screenShareEncoding:R6.h1080fps15.encoding,stopMicTrackOnMute:!1,videoCodec:H_,backupCodec:!0,preConnectBuffer:!1},IW={deviceId:{ideal:"default"},autoGainControl:!0,echoCancellation:!0,noiseSuppression:!0,voiceIsolation:!0},$W={deviceId:{ideal:"default"},resolution:dv.h720.resolution},_Fe={adaptiveStream:!1,dynacast:!1,stopLocalTrackOnUnpublish:!0,reconnectPolicy:new sNe,disconnectOnPageLeave:!0,webAudioMix:!1,singlePeerConnection:!1},F6={autoSubscribe:!0,maxRetries:1,peerConnectionTimeout:15e3,websocketTimeout:15e3};var zr;(function(t){t[t.NEW=0]="NEW",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED",t[t.FAILED=3]="FAILED",t[t.CLOSING=4]="CLOSING",t[t.CLOSED=5]="CLOSED"})(zr||(zr={}));class CFe{get needsPublisher(){return this.isPublisherConnectionRequired}get needsSubscriber(){return this.isSubscriberConnectionRequired}get currentState(){return this.state}constructor(e,n,r){var i;this.peerConnectionTimeout=F6.peerConnectionTimeout,this.log=pn,this.updateState=()=>{var s,o;const a=this.state,l=this.requiredTransports.map(c=>c.getConnectionState());l.every(c=>c==="connected")?this.state=zr.CONNECTED:l.some(c=>c==="failed")?this.state=zr.FAILED:l.some(c=>c==="connecting")?this.state=zr.CONNECTING:l.every(c=>c==="closed")?this.state=zr.CLOSED:l.some(c=>c==="closed")?this.state=zr.CLOSING:l.every(c=>c==="new")&&(this.state=zr.NEW),a!==this.state&&(this.log.debug("pc state change: from ".concat(zr[a]," to ").concat(zr[this.state]),this.logContext),(s=this.onStateChange)===null||s===void 0||s.call(this,this.state,this.publisher.getConnectionState(),(o=this.subscriber)===null||o===void 0?void 0:o.getConnectionState()))},this.log=ou((i=r.loggerName)!==null&&i!==void 0?i:gl.PCManager),this.loggerOptions=r,this.isPublisherConnectionRequired=n!=="subscriber-primary",this.isSubscriberConnectionRequired=n==="subscriber-primary",this.publisher=new tM(e,r),n!=="publisher-only"&&(this.subscriber=new tM(e,r),this.subscriber.onConnectionStateChange=this.updateState,this.subscriber.onIceConnectionStateChange=this.updateState,this.subscriber.onSignalingStatechange=this.updateState,this.subscriber.onIceCandidate=s=>{var o;(o=this.onIceCandidate)===null||o===void 0||o.call(this,s,nl.SUBSCRIBER)},this.subscriber.onDataChannel=s=>{var o;(o=this.onDataChannel)===null||o===void 0||o.call(this,s)},this.subscriber.onTrack=s=>{var o;(o=this.onTrack)===null||o===void 0||o.call(this,s)}),this.publisher.onConnectionStateChange=this.updateState,this.publisher.onIceConnectionStateChange=this.updateState,this.publisher.onSignalingStatechange=this.updateState,this.publisher.onIceCandidate=s=>{var o;(o=this.onIceCandidate)===null||o===void 0||o.call(this,s,nl.PUBLISHER)},this.publisher.onTrack=s=>{var o;(o=this.onTrack)===null||o===void 0||o.call(this,s)},this.publisher.onOffer=(s,o)=>{var a;(a=this.onPublisherOffer)===null||a===void 0||a.call(this,s,o)},this.state=zr.NEW,this.connectionLock=new lo,this.remoteOfferLock=new lo}get logContext(){var e,n;return Object.assign({},(n=(e=this.loggerOptions).loggerContextCb)===null||n===void 0?void 0:n.call(e))}requirePublisher(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isPublisherConnectionRequired=e,this.updateState()}createAndSendPublisherOffer(e){return this.publisher.createAndSendOffer(e)}setPublisherAnswer(e,n){return this.publisher.setRemoteDescription(e,n)}removeTrack(e){return this.publisher.removeTrack(e)}close(){return J(this,void 0,void 0,function*(){var e;if(this.publisher&&this.publisher.getSignallingState()!=="closed"){const n=this.publisher;for(const r of n.getSenders())try{n.canRemoveTrack()&&n.removeTrack(r)}catch(i){this.log.warn("could not removeTrack",Object.assign(Object.assign({},this.logContext),{error:i}))}}yield Promise.all([this.publisher.close(),(e=this.subscriber)===null||e===void 0?void 0:e.close()]),this.updateState()})}triggerIceRestart(){return J(this,void 0,void 0,function*(){this.subscriber&&(this.subscriber.restartingIce=!0),this.needsPublisher&&(yield this.createAndSendPublisherOffer({iceRestart:!0}))})}addIceCandidate(e,n){return J(this,void 0,void 0,function*(){var r;n===nl.PUBLISHER?yield this.publisher.addIceCandidate(e):yield(r=this.subscriber)===null||r===void 0?void 0:r.addIceCandidate(e)})}createSubscriberAnswerFromOffer(e,n){return J(this,void 0,void 0,function*(){var r,i,s;this.log.debug("received server offer",Object.assign(Object.assign({},this.logContext),{RTCSdpType:e.type,sdp:e.sdp,signalingState:(r=this.subscriber)===null||r===void 0?void 0:r.getSignallingState().toString()}));const o=yield this.remoteOfferLock.lock();try{return(yield(i=this.subscriber)===null||i===void 0?void 0:i.setRemoteDescription(e,n))?yield(s=this.subscriber)===null||s===void 0?void 0:s.createAndSetAnswer():void 0}finally{o()}})}updateConfiguration(e,n){var r;this.publisher.setConfiguration(e),(r=this.subscriber)===null||r===void 0||r.setConfiguration(e),n&&this.triggerIceRestart()}ensurePCTransportConnection(e,n){return J(this,void 0,void 0,function*(){var r;const i=yield this.connectionLock.lock();try{this.isPublisherConnectionRequired&&this.publisher.getConnectionState()!=="connected"&&this.publisher.getConnectionState()!=="connecting"&&(this.log.debug("negotiation required, start negotiating",this.logContext),this.publisher.negotiate()),yield Promise.all((r=this.requiredTransports)===null||r===void 0?void 0:r.map(s=>this.ensureTransportConnected(s,e,n)))}finally{i()}})}negotiate(e){return J(this,void 0,void 0,function*(){return new Promise((n,r)=>J(this,void 0,void 0,function*(){const i=setTimeout(()=>{r("negotiation timed out")},this.peerConnectionTimeout),s=()=>{clearTimeout(i),r("negotiation aborted")};e.signal.addEventListener("abort",s),this.publisher.once(Dm.NegotiationStarted,()=>{e.signal.aborted||this.publisher.once(Dm.NegotiationComplete,()=>{clearTimeout(i),n()})}),yield this.publisher.negotiate(o=>{clearTimeout(i),r(o)})}))})}addPublisherTransceiver(e,n){return this.publisher.addTransceiver(e,n)}addPublisherTransceiverOfKind(e,n){return this.publisher.addTransceiverOfKind(e,n)}getMidForReceiver(e){const r=(this.subscriber?this.subscriber.getTransceivers():this.publisher.getTransceivers()).find(i=>i.receiver===e);return r?.mid}addPublisherTrack(e){return this.publisher.addTrack(e)}createPublisherDataChannel(e,n){return this.publisher.createDataChannel(e,n)}getConnectedAddress(e){return e===nl.PUBLISHER?this.publisher.getConnectedAddress():e===nl.SUBSCRIBER?this.publisher.getConnectedAddress():this.requiredTransports[0].getConnectedAddress()}get requiredTransports(){const e=[];return this.isPublisherConnectionRequired&&e.push(this.publisher),this.isSubscriberConnectionRequired&&this.subscriber&&e.push(this.subscriber),e}ensureTransportConnected(e,n){return J(this,arguments,void 0,function(r,i){var s=this;let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.peerConnectionTimeout;return function*(){if(r.getConnectionState()!=="connected")return new Promise((l,c)=>J(s,void 0,void 0,function*(){const d=()=>{this.log.warn("abort transport connection",this.logContext),Ki.clearTimeout(h),c(new Vn("room connection has been cancelled",Cn.Cancelled))};i?.signal.aborted&&d(),i?.signal.addEventListener("abort",d);const h=Ki.setTimeout(()=>{i?.signal.removeEventListener("abort",d),c(new Vn("could not establish pc connection",Cn.InternalError))},o);for(;this.state!==zr.CONNECTED;)if(yield Fs(50),i?.signal.aborted){c(new Vn("room connection has been cancelled",Cn.Cancelled));return}Ki.clearTimeout(h),i?.signal.removeEventListener("abort",d),l()}))}()})}}class Ur extends Error{constructor(e,n,r){super(n),this.code=e,this.message=iM(n,Ur.MAX_MESSAGE_BYTES),this.data=r?iM(r,Ur.MAX_DATA_BYTES):void 0}static fromProto(e){return new Ur(e.code,e.message,e.data)}toProto(){return new TH({code:this.code,message:this.message,data:this.data})}static builtIn(e,n){return new Ur(Ur.ErrorCode[e],Ur.ErrorMessage[e],n)}}Ur.MAX_MESSAGE_BYTES=256;Ur.MAX_DATA_BYTES=15360;Ur.ErrorCode={APPLICATION_ERROR:1500,CONNECTION_TIMEOUT:1501,RESPONSE_TIMEOUT:1502,RECIPIENT_DISCONNECTED:1503,RESPONSE_PAYLOAD_TOO_LARGE:1504,SEND_FAILED:1505,UNSUPPORTED_METHOD:1400,RECIPIENT_NOT_FOUND:1401,REQUEST_PAYLOAD_TOO_LARGE:1402,UNSUPPORTED_SERVER:1403,UNSUPPORTED_VERSION:1404};Ur.ErrorMessage={APPLICATION_ERROR:"Application error in method handler",CONNECTION_TIMEOUT:"Connection timeout",RESPONSE_TIMEOUT:"Response timeout",RECIPIENT_DISCONNECTED:"Recipient disconnected",RESPONSE_PAYLOAD_TOO_LARGE:"Response payload too large",SEND_FAILED:"Failed to send",UNSUPPORTED_METHOD:"Method not supported at destination",RECIPIENT_NOT_FOUND:"Recipient not found",REQUEST_PAYLOAD_TOO_LARGE:"Request payload too large",UNSUPPORTED_SERVER:"RPC not supported by server",UNSUPPORTED_VERSION:"Unsupported RPC version"};const LW=15360;function B6(t){return new TextEncoder().encode(t).length}function iM(t,e){if(B6(t)<=e)return t;let n=0,r=t.length;const i=new TextEncoder;for(;n<r;){const s=Math.floor((n+r+1)/2);i.encode(t.slice(0,s)).length<=e?n=s:r=s-1}return t.slice(0,n)}const z6=2e3;function Ow(t,e){if(!e)return 0;let n,r;return"bytesReceived"in t?(n=t.bytesReceived,r=e.bytesReceived):"bytesSent"in t&&(n=t.bytesSent,r=e.bytesSent),n===void 0||r===void 0||t.timestamp===void 0||e.timestamp===void 0?0:(n-r)*8*1e3/(t.timestamp-e.timestamp)}const Q6=typeof MediaRecorder<"u";class EFe{constructor(){throw new Error("MediaRecorder is not available in this environment")}}const TFe=Q6?MediaRecorder:EFe;class DFe extends TFe{constructor(e,n){if(!Q6)throw new Error("MediaRecorder is not available in this environment");super(new MediaStream([e.mediaStreamTrack]),n);let r,i;const s=()=>i===void 0,o=()=>{this.removeEventListener("dataavailable",r),this.removeEventListener("stop",o),this.removeEventListener("error",a),i?.close(),i=void 0},a=l=>{i?.error(l),this.removeEventListener("dataavailable",r),this.removeEventListener("stop",o),this.removeEventListener("error",a),i=void 0};this.byteStream=new ReadableStream({start:l=>{i=l,r=c=>J(this,void 0,void 0,function*(){let d;if(c.data.arrayBuffer){const h=yield c.data.arrayBuffer();d=new Uint8Array(h)}else if(c.data.byteArray)d=c.data.byteArray;else throw new Error("no data available!");s()||l.enqueue(d)}),this.addEventListener("dataavailable",r)},cancel:()=>{o()}}),this.addEventListener("stop",o),this.addEventListener("error",a)}}function AFe(){return Q6}const PFe=1e3,RFe=1e4;class NW extends Ee{get sender(){return this._sender}set sender(e){this._sender=e}get constraints(){return this._constraints}get hasPreConnectBuffer(){return!!this.localTrackRecorder}constructor(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=arguments.length>4?arguments[4]:void 0;super(e,n,s),this.manuallyStopped=!1,this._isUpstreamPaused=!1,this.handleTrackMuteEvent=()=>this.debouncedTrackMuteHandler().catch(()=>this.log.debug("track mute bounce got cancelled by an unmute event",this.logContext)),this.debouncedTrackMuteHandler=L6(()=>J(this,void 0,void 0,function*(){yield this.pauseUpstream()}),5e3),this.handleTrackUnmuteEvent=()=>J(this,void 0,void 0,function*(){this.debouncedTrackMuteHandler.cancel("unmute"),yield this.resumeUpstream()}),this.handleEnded=()=>{this.isInBackground&&(this.reacquireTrack=!0),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),this.emit(Je.Ended,this)},this.reacquireTrack=!1,this.providedByUser=i,this.muteLock=new lo,this.pauseUpstreamLock=new lo,this.trackChangeLock=new lo,this.trackChangeLock.lock().then(o=>J(this,void 0,void 0,function*(){try{yield this.setMediaStreamTrack(e,!0)}finally{o()}})),this._constraints=e.getConstraints(),r&&(this._constraints=r)}get id(){return this._mediaStreamTrack.id}get dimensions(){if(this.kind!==Ee.Kind.Video)return;const{width:e,height:n}=this._mediaStreamTrack.getSettings();if(e&&n)return{width:e,height:n}}get isUpstreamPaused(){return this._isUpstreamPaused}get isUserProvided(){return this.providedByUser}get mediaStreamTrack(){var e,n;return(n=(e=this.processor)===null||e===void 0?void 0:e.processedTrack)!==null&&n!==void 0?n:this._mediaStreamTrack}get isLocal(){return!0}getSourceTrackSettings(){return this._mediaStreamTrack.getSettings()}setMediaStreamTrack(e,n){return J(this,void 0,void 0,function*(){var r;if(e===this._mediaStreamTrack&&!n)return;this._mediaStreamTrack&&(this.attachedElements.forEach(s=>{Em(this._mediaStreamTrack,s)}),this.debouncedTrackMuteHandler.cancel("new-track"),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent)),this.mediaStream=new MediaStream([e]),e&&(e.addEventListener("ended",this.handleEnded),e.addEventListener("mute",this.handleTrackMuteEvent),e.addEventListener("unmute",this.handleTrackUnmuteEvent),this._constraints=e.getConstraints());let i;if(this.processor&&e){if(this.log.debug("restarting processor",this.logContext),this.kind==="unknown")throw TypeError("cannot set processor on track of unknown kind");this.processorElement&&(rm(e,this.processorElement),this.processorElement.muted=!0),yield this.processor.restart({track:e,kind:this.kind,element:this.processorElement}),i=this.processor.processedTrack}this.sender&&((r=this.sender.transport)===null||r===void 0?void 0:r.state)!=="closed"&&(yield this.sender.replaceTrack(i??e)),!this.providedByUser&&this._mediaStreamTrack!==e&&this._mediaStreamTrack.stop(),this._mediaStreamTrack=e,e&&(this._mediaStreamTrack.enabled=!this.isMuted,yield this.resumeUpstream(),this.attachedElements.forEach(s=>{rm(i??e,s)}))})}waitForDimensions(){return J(this,arguments,void 0,function(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:PFe;return function*(){var r;if(e.kind===Ee.Kind.Audio)throw new Error("cannot get dimensions for audio tracks");((r=Ns())===null||r===void 0?void 0:r.os)==="iOS"&&(yield Fs(10));const i=Date.now();for(;Date.now()-i<n;){const s=e.dimensions;if(s)return s;yield Fs(50)}throw new Uc("unable to get track dimensions after timeout")}()})}setDeviceId(e){return J(this,void 0,void 0,function*(){return this._constraints.deviceId===e&&this._mediaStreamTrack.getSettings().deviceId===od(e)||(this._constraints.deviceId=e,this.isMuted)?!0:(yield this.restartTrack(),od(e)===this._mediaStreamTrack.getSettings().deviceId)})}getDeviceId(){return J(this,arguments,void 0,function(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return function*(){if(e.source===Ee.Source.ScreenShare)return;const{deviceId:r,groupId:i}=e._mediaStreamTrack.getSettings(),s=e.kind===Ee.Kind.Audio?"audioinput":"videoinput";return n?Mi.getInstance().normalizeDeviceId(s,r,i):r}()})}mute(){return J(this,void 0,void 0,function*(){return this.setTrackMuted(!0),this})}unmute(){return J(this,void 0,void 0,function*(){return this.setTrackMuted(!1),this})}replaceTrack(e,n){return J(this,void 0,void 0,function*(){const r=yield this.trackChangeLock.lock();try{if(!this.sender)throw new Uc("unable to replace an unpublished track");let i,s;return typeof n=="boolean"?i=n:n!==void 0&&(i=n.userProvidedTrack,s=n.stopProcessor),this.providedByUser=i??!0,this.log.debug("replace MediaStreamTrack",this.logContext),yield this.setMediaStreamTrack(e),s&&this.processor&&(yield this.internalStopProcessor()),this}finally{r()}})}restart(e){return J(this,void 0,void 0,function*(){this.manuallyStopped=!1;const n=yield this.trackChangeLock.lock();try{e||(e=this._constraints);const{deviceId:r,facingMode:i}=e,s=oNe(e,["deviceId","facingMode"]);this.log.debug("restarting track with constraints",Object.assign(Object.assign({},this.logContext),{constraints:e}));const o={audio:!1,video:!1};this.kind===Ee.Kind.Video?o.video=r||i?{deviceId:r,facingMode:i}:!0:o.audio=r?Object.assign({deviceId:r},s):!0,this.attachedElements.forEach(c=>{Em(this.mediaStreamTrack,c)}),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.stop();const l=(yield navigator.mediaDevices.getUserMedia(o)).getTracks()[0];return this.kind===Ee.Kind.Video&&(yield l.applyConstraints(s)),l.addEventListener("ended",this.handleEnded),this.log.debug("re-acquired MediaStreamTrack",this.logContext),yield this.setMediaStreamTrack(l),this._constraints=e,this.emit(Je.Restarted,this),this.manuallyStopped&&(this.log.warn("track was stopped during a restart, stopping restarted track",this.logContext),this.stop()),this}finally{n()}})}setTrackMuted(e){this.log.debug("setting ".concat(this.kind," track ").concat(e?"muted":"unmuted"),this.logContext),!(this.isMuted===e&&this._mediaStreamTrack.enabled!==e)&&(this.isMuted=e,this._mediaStreamTrack.enabled=!e,this.emit(e?Je.Muted:Je.Unmuted,this))}get needsReAcquisition(){return this._mediaStreamTrack.readyState!=="live"||this._mediaStreamTrack.muted||!this._mediaStreamTrack.enabled||this.reacquireTrack}handleAppVisibilityChanged(){const e=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return J(this,void 0,void 0,function*(){yield e.handleAppVisibilityChanged.call(this),CW()&&(this.log.debug("visibility changed, is in Background: ".concat(this.isInBackground),this.logContext),!this.isInBackground&&this.needsReAcquisition&&!this.isUserProvided&&!this.isMuted&&(this.log.debug("track needs to be reacquired, restarting ".concat(this.source),this.logContext),yield this.restart(),this.reacquireTrack=!1))})}stop(){var e;this.manuallyStopped=!0,super.stop(),this._mediaStreamTrack.removeEventListener("ended",this.handleEnded),this._mediaStreamTrack.removeEventListener("mute",this.handleTrackMuteEvent),this._mediaStreamTrack.removeEventListener("unmute",this.handleTrackUnmuteEvent),(e=this.processor)===null||e===void 0||e.destroy(),this.processor=void 0}pauseUpstream(){return J(this,void 0,void 0,function*(){var e;const n=yield this.pauseUpstreamLock.lock();try{if(this._isUpstreamPaused===!0)return;if(!this.sender){this.log.warn("unable to pause upstream for an unpublished track",this.logContext);return}this._isUpstreamPaused=!0,this.emit(Je.UpstreamPaused,this);const r=Ns();if(r?.name==="Safari"&&oc(r.version,"12.0")<0)throw new P6("pauseUpstream is not supported on Safari < 12.");((e=this.sender.transport)===null||e===void 0?void 0:e.state)!=="closed"&&(yield this.sender.replaceTrack(null))}finally{n()}})}resumeUpstream(){return J(this,void 0,void 0,function*(){var e;const n=yield this.pauseUpstreamLock.lock();try{if(this._isUpstreamPaused===!1)return;if(!this.sender){this.log.warn("unable to resume upstream for an unpublished track",this.logContext);return}this._isUpstreamPaused=!1,this.emit(Je.UpstreamResumed,this),((e=this.sender.transport)===null||e===void 0?void 0:e.state)!=="closed"&&(yield this.sender.replaceTrack(this.mediaStreamTrack))}finally{n()}})}getRTCStatsReport(){return J(this,void 0,void 0,function*(){var e;return!((e=this.sender)===null||e===void 0)&&e.getStats?yield this.sender.getStats():void 0})}setProcessor(e){return J(this,arguments,void 0,function(n){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return function*(){var s;const o=yield r.trackChangeLock.lock();try{r.log.debug("setting up processor",r.logContext);const a=document.createElement(r.kind),l={kind:r.kind,track:r._mediaStreamTrack,element:a,audioContext:r.audioContext};if(yield n.init(l),r.log.debug("processor initialized",r.logContext),r.processor&&(yield r.internalStopProcessor()),r.kind==="unknown")throw TypeError("cannot set processor on track of unknown kind");if(rm(r._mediaStreamTrack,a),a.muted=!0,a.play().catch(c=>{c instanceof DOMException&&c.name==="AbortError"?(r.log.warn("failed to play processor element, retrying",Object.assign(Object.assign({},r.logContext),{error:c})),setTimeout(()=>{a.play().catch(d=>{r.log.error("failed to play processor element",Object.assign(Object.assign({},r.logContext),{err:d}))})},100)):r.log.error("failed to play processor element",Object.assign(Object.assign({},r.logContext),{error:c}))}),r.processor=n,r.processorElement=a,r.processor.processedTrack){for(const c of r.attachedElements)c!==r.processorElement&&i&&(Em(r._mediaStreamTrack,c),rm(r.processor.processedTrack,c));yield(s=r.sender)===null||s===void 0?void 0:s.replaceTrack(r.processor.processedTrack)}r.emit(Je.TrackProcessorUpdate,r.processor)}finally{o()}}()})}getProcessor(){return this.processor}stopProcessor(){return J(this,arguments,void 0,function(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return function*(){const r=yield e.trackChangeLock.lock();try{yield e.internalStopProcessor(n)}finally{r()}}()})}internalStopProcessor(){return J(this,arguments,void 0,function(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return function*(){var r,i;e.processor&&(e.log.debug("stopping processor",e.logContext),(r=e.processor.processedTrack)===null||r===void 0||r.stop(),yield e.processor.destroy(),e.processor=void 0,n||((i=e.processorElement)===null||i===void 0||i.remove(),e.processorElement=void 0),yield e._mediaStreamTrack.applyConstraints(e._constraints),yield e.setMediaStreamTrack(e._mediaStreamTrack,!0),e.emit(Je.TrackProcessorUpdate))}()})}startPreConnectBuffer(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;if(!AFe()){this.log.warn("MediaRecorder is not available, cannot start preconnect buffer",this.logContext);return}if(this.localTrackRecorder){this.log.warn("preconnect buffer already started");return}else{let n="audio/webm;codecs=opus";MediaRecorder.isTypeSupported(n)||(n="video/mp4"),this.localTrackRecorder=new DFe(this,{mimeType:n})}this.localTrackRecorder.start(e),this.autoStopPreConnectBuffer=setTimeout(()=>{this.log.warn("preconnect buffer timed out, stopping recording automatically",this.logContext),this.stopPreConnectBuffer()},RFe)}stopPreConnectBuffer(){clearTimeout(this.autoStopPreConnectBuffer),this.localTrackRecorder&&(this.localTrackRecorder.stop(),this.localTrackRecorder=void 0)}getPreConnectBuffer(){var e;return(e=this.localTrackRecorder)===null||e===void 0?void 0:e.byteStream}getPreConnectBufferMimeType(){var e;return(e=this.localTrackRecorder)===null||e===void 0?void 0:e.mimeType}}class B2 extends NW{get enhancedNoiseCancellation(){return this.isKrispNoiseFilterEnabled}constructor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;super(e,Ee.Kind.Audio,n,r,s),this.stopOnMute=!1,this.isKrispNoiseFilterEnabled=!1,this.monitorSender=()=>J(this,void 0,void 0,function*(){if(!this.sender){this._currentBitrate=0;return}let o;try{o=yield this.getSenderStats()}catch(a){this.log.error("could not get audio sender stats",Object.assign(Object.assign({},this.logContext),{error:a}));return}o&&this.prevStats&&(this._currentBitrate=Ow(o,this.prevStats)),this.prevStats=o}),this.handleKrispNoiseFilterEnable=()=>{this.isKrispNoiseFilterEnabled=!0,this.log.debug("Krisp noise filter enabled",this.logContext),this.emit(Je.AudioTrackFeatureUpdate,this,Ai.TF_ENHANCED_NOISE_CANCELLATION,!0)},this.handleKrispNoiseFilterDisable=()=>{this.isKrispNoiseFilterEnabled=!1,this.log.debug("Krisp noise filter disabled",this.logContext),this.emit(Je.AudioTrackFeatureUpdate,this,Ai.TF_ENHANCED_NOISE_CANCELLATION,!1)},this.audioContext=i,this.checkForSilence()}mute(){const e=Object.create(null,{mute:{get:()=>super.mute}});return J(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.isMuted?(this.log.debug("Track already muted",this.logContext),this):(this.source===Ee.Source.Microphone&&this.stopOnMute&&!this.isUserProvided&&(this.log.debug("stopping mic track",this.logContext),this._mediaStreamTrack.stop()),yield e.mute.call(this),this)}finally{n()}})}unmute(){const e=Object.create(null,{unmute:{get:()=>super.unmute}});return J(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{if(!this.isMuted)return this.log.debug("Track already unmuted",this.logContext),this;const r=this._constraints.deviceId&&this._mediaStreamTrack.getSettings().deviceId!==od(this._constraints.deviceId);return this.source===Ee.Source.Microphone&&(this.stopOnMute||this._mediaStreamTrack.readyState==="ended"||r)&&!this.isUserProvided&&(this.log.debug("reacquiring mic track",this.logContext),yield this.restartTrack()),yield e.unmute.call(this),this}finally{n()}})}restartTrack(e){return J(this,void 0,void 0,function*(){let n;if(e){const r=M6({audio:e});typeof r.audio!="boolean"&&(n=r.audio)}yield this.restart(n)})}restart(e){const n=Object.create(null,{restart:{get:()=>super.restart}});return J(this,void 0,void 0,function*(){const r=yield n.restart.call(this,e);return this.checkForSilence(),r})}startMonitor(){so()&&(this.monitorInterval||(this.monitorInterval=setInterval(()=>{this.monitorSender()},z6)))}setProcessor(e){return J(this,void 0,void 0,function*(){var n;const r=yield this.trackChangeLock.lock();try{if(!sc()&&!this.audioContext)throw Error("Audio context needs to be set on LocalAudioTrack in order to enable processors");this.processor&&(yield this.internalStopProcessor());const i={kind:this.kind,track:this._mediaStreamTrack,audioContext:this.audioContext};this.log.debug("setting up audio processor ".concat(e.name),this.logContext),yield e.init(i),this.processor=e,this.processor.processedTrack&&(yield(n=this.sender)===null||n===void 0?void 0:n.replaceTrack(this.processor.processedTrack),this.processor.processedTrack.addEventListener("enable-lk-krisp-noise-filter",this.handleKrispNoiseFilterEnable),this.processor.processedTrack.addEventListener("disable-lk-krisp-noise-filter",this.handleKrispNoiseFilterDisable)),this.emit(Je.TrackProcessorUpdate,this.processor)}finally{r()}})}setAudioContext(e){this.audioContext=e}getSenderStats(){return J(this,void 0,void 0,function*(){var e;if(!(!((e=this.sender)===null||e===void 0)&&e.getStats))return;const n=yield this.sender.getStats();let r;return n.forEach(i=>{i.type==="outbound-rtp"&&(r={type:"audio",streamId:i.id,packetsSent:i.packetsSent,packetsLost:i.packetsLost,bytesSent:i.bytesSent,timestamp:i.timestamp,roundTripTime:i.roundTripTime,jitter:i.jitter})}),r})}checkForSilence(){return J(this,void 0,void 0,function*(){const e=yield AW(this);return e&&(this.isMuted||this.log.debug("silence detected on local audio track",this.logContext),this.emit(Je.AudioSilenceDetected)),e})}}function MFe(t,e,n){switch(t.kind){case"audio":return new B2(t,e,!1,void 0,n);case"video":return new z2(t,e,!1,n);default:throw new Uc("unsupported track type: ".concat(t.kind))}}const IFe=Object.values(dv),$Fe=Object.values(N_),LFe=Object.values(R6),NFe=[dv.h180,dv.h360],FFe=[N_.h180,N_.h360],BFe=t=>[{scaleResolutionDownBy:2,fps:t.encoding.maxFramerate}].map(n=>{var r,i;return new tr(Math.floor(t.width/n.scaleResolutionDownBy),Math.floor(t.height/n.scaleResolutionDownBy),Math.max(15e4,Math.floor(t.encoding.maxBitrate/(Math.pow(n.scaleResolutionDownBy,2)*(((r=t.encoding.maxFramerate)!==null&&r!==void 0?r:30)/((i=n.fps)!==null&&i!==void 0?i:30))))),n.fps,t.encoding.priority)}),W_=["q","h","f"];function X_(t,e,n,r){var i,s;let o=r?.videoEncoding;t&&(o=r?.screenShareEncoding);const a=r?.simulcast,l=r?.scalabilityMode,c=r?.videoCodec;if(!o&&!a&&!l||!e||!n)return[{}];o||(o=QFe(t,e,n,c),pn.debug("using video encoding",o));const d=o.maxFramerate,h=new tr(e,n,o.maxBitrate,o.maxFramerate,o.priority);if(l&&Ql(c)){const g=new FW(l),p=[];if(g.spatial>3)throw new Error("unsupported scalabilityMode: ".concat(l));const v=Ns();if(hv()||sc()||v?.name==="Chrome"&&oc(v?.version,"113")<0){const b=g.suffix=="h"?2:3,y=zNe(v);for(let C=0;C<g.spatial;C+=1)p.push({rid:W_[2-C],maxBitrate:o.maxBitrate/Math.pow(b,C),maxFramerate:h.encoding.maxFramerate,scaleResolutionDownBy:y?Math.pow(2,C):void 0});p[0].scalabilityMode=l}else p.push({maxBitrate:o.maxBitrate,maxFramerate:h.encoding.maxFramerate,scalabilityMode:l});return h.encoding.priority&&(p[0].priority=h.encoding.priority,p[0].networkPriority=h.encoding.priority),pn.debug("using svc encoding",{encodings:p}),p}if(!a)return[o];let f=[];t?f=(i=oM(r?.screenShareSimulcastLayers))!==null&&i!==void 0?i:sM(t,h):f=(s=oM(r?.videoSimulcastLayers))!==null&&s!==void 0?s:sM(t,h);let m;if(f.length>0){const g=f[0];f.length>1&&([,m]=f);const p=Math.max(e,n);if(p>=960&&m)return d4(e,n,[g,m,h],d);if(p>=480)return d4(e,n,[g,h],d)}return d4(e,n,[h])}function zFe(t,e,n){var r,i,s,o;if(!n.backupCodec||n.backupCodec===!0||n.backupCodec.codec===n.videoCodec)return;e!==n.backupCodec.codec&&pn.warn("requested a different codec than specified as backup",{serverRequested:e,backup:n.backupCodec.codec}),n.videoCodec=e,n.videoEncoding=n.backupCodec.encoding;const a=t.mediaStreamTrack.getSettings(),l=(r=a.width)!==null&&r!==void 0?r:(i=t.dimensions)===null||i===void 0?void 0:i.width,c=(s=a.height)!==null&&s!==void 0?s:(o=t.dimensions)===null||o===void 0?void 0:o.height;return t.source===Ee.Source.ScreenShare&&n.simulcast&&(n.simulcast=!1),X_(t.source===Ee.Source.ScreenShare,l,c,n)}function QFe(t,e,n,r){const i=UFe(t,e,n);let{encoding:s}=i[0];const o=Math.max(e,n);for(let a=0;a<i.length;a+=1){const l=i[a];if(s=l.encoding,l.width>=o)break}if(r)switch(r){case"av1":case"h265":s=Object.assign({},s),s.maxBitrate=s.maxBitrate*.7;break;case"vp9":s=Object.assign({},s),s.maxBitrate=s.maxBitrate*.85;break}return s}function UFe(t,e,n){if(t)return LFe;const r=e>n?e/n:n/e;return Math.abs(r-16/9)<Math.abs(r-4/3)?IFe:$Fe}function sM(t,e){if(t)return BFe(e);const{width:n,height:r}=e,i=n>r?n/r:r/n;return Math.abs(i-16/9)<Math.abs(i-4/3)?NFe:FFe}function d4(t,e,n,r){const i=[];if(n.forEach((s,o)=>{if(o>=W_.length)return;const a=Math.min(t,e),c={rid:W_[o],scaleResolutionDownBy:Math.max(1,a/Math.min(s.width,s.height)),maxBitrate:s.encoding.maxBitrate},d=r&&s.encoding.maxFramerate?Math.min(r,s.encoding.maxFramerate):s.encoding.maxFramerate;d&&(c.maxFramerate=d);const h=Vh()||o===0;s.encoding.priority&&h&&(c.priority=s.encoding.priority,c.networkPriority=s.encoding.priority),i.push(c)}),sc()&&TW()==="ios"){let s;i.forEach(a=>{s?a.maxFramerate&&a.maxFramerate>s&&(s=a.maxFramerate):s=a.maxFramerate});let o=!0;i.forEach(a=>{var l;a.maxFramerate!=s&&(o&&(o=!1,pn.info("Simulcast on iOS React-Native requires all encodings to share the same framerate.")),pn.info('Setting framerate of encoding "'.concat((l=a.rid)!==null&&l!==void 0?l:"",'" to ').concat(s)),a.maxFramerate=s)})}return i}function oM(t){if(t)return t.sort((e,n)=>{const{encoding:r}=e,{encoding:i}=n;return r.maxBitrate>i.maxBitrate?1:r.maxBitrate<i.maxBitrate?-1:r.maxBitrate===i.maxBitrate&&r.maxFramerate&&i.maxFramerate?r.maxFramerate>i.maxFramerate?1:-1:0})}class FW{constructor(e){const n=e.match(/^L(\d)T(\d)(h|_KEY|_KEY_SHIFT){0,1}$/);if(!n)throw new Error("invalid scalability mode");if(this.spatial=parseInt(n[1]),this.temporal=parseInt(n[2]),n.length>3)switch(n[3]){case"h":case"_KEY":case"_KEY_SHIFT":this.suffix=n[3]}}toString(){var e;return"L".concat(this.spatial,"T").concat(this.temporal).concat((e=this.suffix)!==null&&e!==void 0?e:"")}}function VFe(t){return t.source===Ee.Source.ScreenShare||t.constraints.height&&od(t.constraints.height)>=1080?"maintain-resolution":"balanced"}const jFe=5e3;class z2 extends NW{get sender(){return this._sender}set sender(e){this._sender=e,this.degradationPreference&&this.setDegradationPreference(this.degradationPreference)}constructor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3?arguments[3]:void 0;super(e,Ee.Kind.Video,n,r,i),this.simulcastCodecs=new Map,this.degradationPreference="balanced",this.isCpuConstrained=!1,this.optimizeForPerformance=!1,this.monitorSender=()=>J(this,void 0,void 0,function*(){if(!this.sender){this._currentBitrate=0;return}let s;try{s=yield this.getSenderStats()}catch(l){this.log.error("could not get video sender stats",Object.assign(Object.assign({},this.logContext),{error:l}));return}const o=new Map(s.map(l=>[l.rid,l])),a=s.some(l=>l.qualityLimitationReason==="cpu");if(a!==this.isCpuConstrained&&(this.isCpuConstrained=a,this.isCpuConstrained&&this.emit(Je.CpuConstrained)),this.prevStats){let l=0;o.forEach((c,d)=>{var h;const f=(h=this.prevStats)===null||h===void 0?void 0:h.get(d);l+=Ow(c,f)}),this._currentBitrate=l}this.prevStats=o}),this.senderLock=new lo}get isSimulcast(){return!!(this.sender&&this.sender.getParameters().encodings.length>1)}startMonitor(e){var n;if(this.signalClient=e,!so())return;const r=(n=this.sender)===null||n===void 0?void 0:n.getParameters();r&&(this.encodings=r.encodings),!this.monitorInterval&&(this.monitorInterval=setInterval(()=>{this.monitorSender()},z6))}stop(){this._mediaStreamTrack.getConstraints(),this.simulcastCodecs.forEach(e=>{e.mediaStreamTrack.stop()}),super.stop()}pauseUpstream(){const e=Object.create(null,{pauseUpstream:{get:()=>super.pauseUpstream}});return J(this,void 0,void 0,function*(){var n,r,i,s,o;yield e.pauseUpstream.call(this);try{for(var a=!0,l=Qc(this.simulcastCodecs.values()),c;c=yield l.next(),n=c.done,!n;a=!0)s=c.value,a=!1,yield(o=s.sender)===null||o===void 0?void 0:o.replaceTrack(null)}catch(d){r={error:d}}finally{try{!a&&!n&&(i=l.return)&&(yield i.call(l))}finally{if(r)throw r.error}}})}resumeUpstream(){const e=Object.create(null,{resumeUpstream:{get:()=>super.resumeUpstream}});return J(this,void 0,void 0,function*(){var n,r,i,s,o;yield e.resumeUpstream.call(this);try{for(var a=!0,l=Qc(this.simulcastCodecs.values()),c;c=yield l.next(),n=c.done,!n;a=!0){s=c.value,a=!1;const d=s;yield(o=d.sender)===null||o===void 0?void 0:o.replaceTrack(d.mediaStreamTrack)}}catch(d){r={error:d}}finally{try{!a&&!n&&(i=l.return)&&(yield i.call(l))}finally{if(r)throw r.error}}})}mute(){const e=Object.create(null,{mute:{get:()=>super.mute}});return J(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.isMuted?(this.log.debug("Track already muted",this.logContext),this):(this.source===Ee.Source.Camera&&!this.isUserProvided&&(this.log.debug("stopping camera track",this.logContext),this._mediaStreamTrack.stop()),yield e.mute.call(this),this)}finally{n()}})}unmute(){const e=Object.create(null,{unmute:{get:()=>super.unmute}});return J(this,void 0,void 0,function*(){const n=yield this.muteLock.lock();try{return this.isMuted?(this.source===Ee.Source.Camera&&!this.isUserProvided&&(this.log.debug("reacquiring camera track",this.logContext),yield this.restartTrack()),yield e.unmute.call(this),this):(this.log.debug("Track already unmuted",this.logContext),this)}finally{n()}})}setTrackMuted(e){super.setTrackMuted(e);for(const n of this.simulcastCodecs.values())n.mediaStreamTrack.enabled=!e}getSenderStats(){return J(this,void 0,void 0,function*(){var e;if(!(!((e=this.sender)===null||e===void 0)&&e.getStats))return[];const n=[],r=yield this.sender.getStats();return r.forEach(i=>{var s;if(i.type==="outbound-rtp"){const o={type:"video",streamId:i.id,frameHeight:i.frameHeight,frameWidth:i.frameWidth,framesPerSecond:i.framesPerSecond,framesSent:i.framesSent,firCount:i.firCount,pliCount:i.pliCount,nackCount:i.nackCount,packetsSent:i.packetsSent,bytesSent:i.bytesSent,qualityLimitationReason:i.qualityLimitationReason,qualityLimitationDurations:i.qualityLimitationDurations,qualityLimitationResolutionChanges:i.qualityLimitationResolutionChanges,rid:(s=i.rid)!==null&&s!==void 0?s:i.id,retransmittedPacketsSent:i.retransmittedPacketsSent,targetBitrate:i.targetBitrate,timestamp:i.timestamp},a=r.get(i.remoteId);a&&(o.jitter=a.jitter,o.packetsLost=a.packetsLost,o.roundTripTime=a.roundTripTime),n.push(o)}}),n.sort((i,s)=>{var o,a;return((o=s.frameWidth)!==null&&o!==void 0?o:0)-((a=i.frameWidth)!==null&&a!==void 0?a:0)}),n})}setPublishingQuality(e){const n=[];for(let r=Lo.LOW;r<=Lo.HIGH;r+=1)n.push(new E6({quality:r,enabled:r<=e}));this.log.debug("setting publishing quality. max quality ".concat(e),this.logContext),this.setPublishingLayers(Ql(this.codec),n)}restartTrack(e){return J(this,void 0,void 0,function*(){var n,r,i,s,o;let a;if(e){const h=M6({video:e});typeof h.video!="boolean"&&(a=h.video)}yield this.restart(a),this.isCpuConstrained=!1;try{for(var l=!0,c=Qc(this.simulcastCodecs.values()),d;d=yield c.next(),n=d.done,!n;l=!0){s=d.value,l=!1;const h=s;h.sender&&((o=h.sender.transport)===null||o===void 0?void 0:o.state)!=="closed"&&(h.mediaStreamTrack=this.mediaStreamTrack.clone(),yield h.sender.replaceTrack(h.mediaStreamTrack))}}catch(h){r={error:h}}finally{try{!l&&!n&&(i=c.return)&&(yield i.call(c))}finally{if(r)throw r.error}}})}setProcessor(e){const n=Object.create(null,{setProcessor:{get:()=>super.setProcessor}});return J(this,arguments,void 0,function(r){var i=this;let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return function*(){var o,a,l,c,d,h;if(yield n.setProcessor.call(i,r,s),!((d=i.processor)===null||d===void 0)&&d.processedTrack)try{for(var f=!0,m=Qc(i.simulcastCodecs.values()),g;g=yield m.next(),o=g.done,!o;f=!0)c=g.value,f=!1,yield(h=c.sender)===null||h===void 0?void 0:h.replaceTrack(i.processor.processedTrack)}catch(p){a={error:p}}finally{try{!f&&!o&&(l=m.return)&&(yield l.call(m))}finally{if(a)throw a.error}}}()})}setDegradationPreference(e){return J(this,void 0,void 0,function*(){if(this.degradationPreference=e,this.sender)try{this.log.debug("setting degradationPreference to ".concat(e),this.logContext);const n=this.sender.getParameters();n.degradationPreference=e,this.sender.setParameters(n)}catch(n){this.log.warn("failed to set degradationPreference",Object.assign({error:n},this.logContext))}})}addSimulcastTrack(e,n){if(this.simulcastCodecs.has(e)){this.log.error("".concat(e," already added, skipping adding simulcast codec"),this.logContext);return}const r={codec:e,mediaStreamTrack:this.mediaStreamTrack.clone(),sender:void 0,encodings:n};return this.simulcastCodecs.set(e,r),r}setSimulcastTrackSender(e,n){const r=this.simulcastCodecs.get(e);r&&(r.sender=n,setTimeout(()=>{this.subscribedCodecs&&this.setPublishingCodecs(this.subscribedCodecs)},jFe))}setPublishingCodecs(e){return J(this,void 0,void 0,function*(){var n,r,i,s,o,a,l;if(this.log.debug("setting publishing codecs",Object.assign(Object.assign({},this.logContext),{codecs:e,currentCodec:this.codec})),!this.codec&&e.length>0)return yield this.setPublishingLayers(Ql(e[0].codec),e[0].qualities),[];this.subscribedCodecs=e;const c=[];try{for(n=!0,r=Qc(e);i=yield r.next(),s=i.done,!s;n=!0){l=i.value,n=!1;const d=l;if(!this.codec||this.codec===d.codec)yield this.setPublishingLayers(Ql(d.codec),d.qualities);else{const h=this.simulcastCodecs.get(d.codec);if(this.log.debug("try setPublishingCodec for ".concat(d.codec),Object.assign(Object.assign({},this.logContext),{simulcastCodecInfo:h})),!h||!h.sender){for(const f of d.qualities)if(f.enabled){c.push(d.codec);break}}else h.encodings&&(this.log.debug("try setPublishingLayersForSender ".concat(d.codec),this.logContext),yield aM(h.sender,h.encodings,d.qualities,this.senderLock,Ql(d.codec),this.log,this.logContext))}}}catch(d){o={error:d}}finally{try{!n&&!s&&(a=r.return)&&(yield a.call(r))}finally{if(o)throw o.error}}return c})}setPublishingLayers(e,n){return J(this,void 0,void 0,function*(){if(this.optimizeForPerformance){this.log.info("skipping setPublishingLayers due to optimized publishing performance",Object.assign(Object.assign({},this.logContext),{qualities:n}));return}this.log.debug("setting publishing layers",Object.assign(Object.assign({},this.logContext),{qualities:n})),!(!this.sender||!this.encodings)&&(yield aM(this.sender,this.encodings,n,this.senderLock,e,this.log,this.logContext))})}prioritizePerformance(){return J(this,void 0,void 0,function*(){if(!this.sender)throw new Error("sender not found");const e=yield this.senderLock.lock();try{this.optimizeForPerformance=!0;const n=this.sender.getParameters();n.encodings=n.encodings.map((r,i)=>{var s;return Object.assign(Object.assign({},r),{active:i===0,scaleResolutionDownBy:Math.max(1,Math.ceil(((s=this.mediaStreamTrack.getSettings().height)!==null&&s!==void 0?s:360)/360)),scalabilityMode:i===0&&Ql(this.codec)?"L1T3":void 0,maxFramerate:i===0?15:0,maxBitrate:i===0?r.maxBitrate:0})}),this.log.debug("setting performance optimised encodings",Object.assign(Object.assign({},this.logContext),{encodings:n.encodings})),this.encodings=n.encodings,yield this.sender.setParameters(n)}catch(n){this.log.error("failed to set performance optimised encodings",Object.assign(Object.assign({},this.logContext),{error:n})),this.optimizeForPerformance=!1}finally{e()}})}handleAppVisibilityChanged(){const e=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return J(this,void 0,void 0,function*(){yield e.handleAppVisibilityChanged.call(this),CW()&&this.isInBackground&&this.source===Ee.Source.Camera&&(this._mediaStreamTrack.enabled=!1)})}}function aM(t,e,n,r,i,s,o){return J(this,void 0,void 0,function*(){const a=yield r.lock();s.debug("setPublishingLayersForSender",Object.assign(Object.assign({},o),{sender:t,qualities:n,senderEncodings:e}));try{const l=t.getParameters(),{encodings:c}=l;if(!c)return;if(c.length!==e.length){s.warn("cannot set publishing layers, encodings mismatch",Object.assign(Object.assign({},o),{encodings:c,senderEncodings:e}));return}let d=!1;!1&&c[0].scalabilityMode||(i&&n.some(m=>m.enabled)&&n.forEach(m=>m.enabled=!0),c.forEach((f,m)=>{var g;let p=(g=f.rid)!==null&&g!==void 0?g:"";p===""&&(p="q");const v=BW(p),b=n.find(y=>y.quality===v);b&&f.active!==b.enabled&&(d=!0,f.active=b.enabled,s.debug("setting layer ".concat(b.quality," to ").concat(f.active?"enabled":"disabled"),o),Vh()&&(b.enabled?(f.scaleResolutionDownBy=e[m].scaleResolutionDownBy,f.maxBitrate=e[m].maxBitrate,f.maxFrameRate=e[m].maxFrameRate):(f.scaleResolutionDownBy=4,f.maxBitrate=10,f.maxFrameRate=2)))})),d&&(l.encodings=c,s.debug("setting encodings",Object.assign(Object.assign({},o),{encodings:l.encodings})),yield t.setParameters(l))}finally{a()}})}function BW(t){switch(t){case"f":return Lo.HIGH;case"h":return Lo.MEDIUM;case"q":return Lo.LOW;default:return Lo.HIGH}}function lM(t,e,n,r){if(!n)return[new id({quality:Lo.HIGH,width:t,height:e,bitrate:0,ssrc:0})];if(r){const i=n[0].scalabilityMode,s=new FW(i),o=[],a=s.suffix=="h"?1.5:2,l=s.suffix=="h"?2:3;for(let c=0;c<s.spatial;c+=1)o.push(new id({quality:Math.min(Lo.HIGH,s.spatial-1)-c,width:Math.ceil(t/Math.pow(a,c)),height:Math.ceil(e/Math.pow(a,c)),bitrate:n[0].maxBitrate?Math.ceil(n[0].maxBitrate/Math.pow(l,c)):0,ssrc:0}));return o}return n.map(i=>{var s,o,a;const l=(s=i.scaleResolutionDownBy)!==null&&s!==void 0?s:1;let c=BW((o=i.rid)!==null&&o!==void 0?o:"");return new id({quality:c,width:Math.ceil(t/l),height:Math.ceil(e/l),bitrate:(a=i.maxBitrate)!==null&&a!==void 0?a:0,ssrc:0})})}const cM="_lossy",uM="_reliable",qFe=2*1e3,h4="leave-reconnect",HFe=3e4;var la;(function(t){t[t.New=0]="New",t[t.Connected=1]="Connected",t[t.Disconnected=2]="Disconnected",t[t.Reconnecting=3]="Reconnecting",t[t.Closed=4]="Closed"})(la||(la={}));class WFe extends pc.EventEmitter{get isClosed(){return this._isClosed}get pendingReconnect(){return!!this.reconnectTimeout}constructor(e){var n;super(),this.options=e,this.rtcConfig={},this.peerConnectionTimeout=F6.peerConnectionTimeout,this.fullReconnectOnNext=!1,this.latestRemoteOfferId=0,this.subscriberPrimary=!1,this.pcState=la.New,this._isClosed=!0,this.pendingTrackResolvers={},this.reconnectAttempts=0,this.reconnectStart=0,this.attemptingReconnect=!1,this.joinAttempts=0,this.maxJoinAttempts=1,this.shouldFailNext=!1,this.log=pn,this.reliableDataSequence=1,this.reliableMessageBuffer=new GR,this.reliableReceivedState=new vFe(HFe),this.midToTrackId={},this.handleDataChannel=r=>J(this,[r],void 0,function(i){var s=this;let{channel:o}=i;return function*(){if(o){if(o.label===uM)s.reliableDCSub=o;else if(o.label===cM)s.lossyDCSub=o;else return;s.log.debug("on data channel ".concat(o.id,", ").concat(o.label),s.logContext),o.onmessage=s.handleDataMessage}}()}),this.handleDataMessage=r=>J(this,void 0,void 0,function*(){var i,s,o,a,l;const c=yield this.dataProcessLock.lock();try{let d;if(r.data instanceof ArrayBuffer)d=r.data;else if(r.data instanceof Blob)d=yield r.data.arrayBuffer();else{this.log.error("unsupported data type",Object.assign(Object.assign({},this.logContext),{data:r.data}));return}const h=Ts.fromBinary(new Uint8Array(d));if(h.sequence>0&&h.participantSid!==""){const f=this.reliableReceivedState.get(h.participantSid);if(f&&h.sequence<=f)return;this.reliableReceivedState.set(h.participantSid,h.sequence)}if(((i=h.value)===null||i===void 0?void 0:i.case)==="speaker")this.emit(it.ActiveSpeakersUpdate,h.value.value.speakers);else if(((s=h.value)===null||s===void 0?void 0:s.case)==="encryptedPacket"){if(!this.e2eeManager){this.log.error("Received encrypted packet but E2EE not set up",this.logContext);return}const f=yield(o=this.e2eeManager)===null||o===void 0?void 0:o.handleEncryptedData(h.value.value.encryptedValue,h.value.value.iv,h.participantIdentity,h.value.value.keyIndex),m=_H.fromBinary(f.payload),g=new Ts({value:m.value,participantIdentity:h.participantIdentity,participantSid:h.participantSid});((a=g.value)===null||a===void 0?void 0:a.case)==="user"&&dM(g,g.value.value),this.emit(it.DataPacketReceived,g,h.value.value.encryptionType)}else((l=h.value)===null||l===void 0?void 0:l.case)==="user"&&dM(h,h.value.value),this.emit(it.DataPacketReceived,h,bi.NONE)}finally{c()}}),this.handleDataError=r=>{const s=r.currentTarget.maxRetransmits===0?"lossy":"reliable";if(r instanceof ErrorEvent&&r.error){const{error:o}=r.error;this.log.error("DataChannel error on ".concat(s,": ").concat(r.message),Object.assign(Object.assign({},this.logContext),{error:o}))}else this.log.error("Unknown DataChannel error on ".concat(s),Object.assign(Object.assign({},this.logContext),{event:r}))},this.handleBufferedAmountLow=r=>{const s=r.currentTarget.maxRetransmits===0?fn.LOSSY:fn.RELIABLE;this.updateAndEmitDCBufferStatus(s)},this.handleDisconnect=(r,i)=>{if(this._isClosed)return;this.log.warn("".concat(r," disconnected"),this.logContext),this.reconnectAttempts===0&&(this.reconnectStart=Date.now());const s=l=>{this.log.warn("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(l,"ms. giving up"),this.logContext),this.emit(it.Disconnected),this.close()},o=Date.now()-this.reconnectStart;let a=this.getNextRetryDelay({elapsedMs:o,retryCount:this.reconnectAttempts});if(a===null){s(o);return}r===h4&&(a=0),this.log.debug("reconnecting in ".concat(a,"ms"),this.logContext),this.clearReconnectTimeout(),this.token&&this.regionUrlProvider&&this.regionUrlProvider.updateToken(this.token),this.reconnectTimeout=Ki.setTimeout(()=>this.attemptReconnect(i).finally(()=>this.reconnectTimeout=void 0),a)},this.waitForRestarted=()=>new Promise((r,i)=>{this.pcState===la.Connected&&r();const s=()=>{this.off(it.Disconnected,o),r()},o=()=>{this.off(it.Restarted,s),i()};this.once(it.Restarted,s),this.once(it.Disconnected,o)}),this.updateAndEmitDCBufferStatus=r=>{const i=this.isBufferStatusLow(r);typeof i<"u"&&i!==this.dcBufferStatus.get(r)&&(this.dcBufferStatus.set(r,i),this.emit(it.DCBufferStatusChanged,i,r))},this.isBufferStatusLow=r=>{const i=this.dataChannelForKind(r);if(i)return r===fn.RELIABLE&&this.reliableMessageBuffer.alignBufferedAmount(i.bufferedAmount),i.bufferedAmount<=i.bufferedAmountLowThreshold},this.handleBrowserOnLine=()=>{this.client.currentState===Ir.RECONNECTING&&(this.clearReconnectTimeout(),this.attemptReconnect(nh.RR_SIGNAL_DISCONNECTED))},this.log=ou((n=e.loggerName)!==null&&n!==void 0?n:gl.Engine),this.loggerOptions={loggerName:e.loggerName,loggerContextCb:()=>this.logContext},this.client=new I6(void 0,this.loggerOptions),this.client.signalLatency=this.options.expSignalLatency,this.reconnectPolicy=this.options.reconnectPolicy,this.closingLock=new lo,this.dataProcessLock=new lo,this.dcBufferStatus=new Map([[fn.LOSSY,!0],[fn.RELIABLE,!0]]),this.client.onParticipantUpdate=r=>this.emit(it.ParticipantUpdate,r),this.client.onConnectionQuality=r=>this.emit(it.ConnectionQualityUpdate,r),this.client.onRoomUpdate=r=>this.emit(it.RoomUpdate,r),this.client.onSubscriptionError=r=>this.emit(it.SubscriptionError,r),this.client.onSubscriptionPermissionUpdate=r=>this.emit(it.SubscriptionPermissionUpdate,r),this.client.onSpeakersChanged=r=>this.emit(it.SpeakersChanged,r),this.client.onStreamStateUpdate=r=>this.emit(it.StreamStateChanged,r),this.client.onRequestResponse=r=>this.emit(it.SignalRequestResponse,r)}get logContext(){var e,n,r,i,s,o;return{room:(n=(e=this.latestJoinResponse)===null||e===void 0?void 0:e.room)===null||n===void 0?void 0:n.name,roomID:(i=(r=this.latestJoinResponse)===null||r===void 0?void 0:r.room)===null||i===void 0?void 0:i.sid,participant:(o=(s=this.latestJoinResponse)===null||s===void 0?void 0:s.participant)===null||o===void 0?void 0:o.identity,pID:this.participantSid}}join(e,n,r,i){return J(this,void 0,void 0,function*(){this.url=e,this.token=n,this.signalOpts=r,this.maxJoinAttempts=r.maxRetries;try{this.joinAttempts+=1,this.setupSignalClientCallbacks();const s=yield this.client.join(e,n,r,i);return this._isClosed=!1,this.latestJoinResponse=s,this.subscriberPrimary=s.subscriberPrimary,this.pcManager||(yield this.configure(s)),(!this.subscriberPrimary||s.fastPublish)&&this.negotiate().catch(o=>{pn.error(o,this.logContext)}),this.registerOnLineListener(),this.clientConfiguration=s.clientConfiguration,this.emit(it.SignalConnected,s),s}catch(s){if(s instanceof Vn&&s.reason===Cn.ServerUnreachable&&(this.log.warn("Couldn't connect to server, attempt ".concat(this.joinAttempts," of ").concat(this.maxJoinAttempts),this.logContext),this.joinAttempts<this.maxJoinAttempts))return this.join(e,n,r,i);throw s}})}close(){return J(this,void 0,void 0,function*(){const e=yield this.closingLock.lock();if(this.isClosed){e();return}try{this._isClosed=!0,this.joinAttempts=0,this.emit(it.Closing),this.removeAllListeners(),this.deregisterOnLineListener(),this.clearPendingReconnect(),yield this.cleanupPeerConnections(),yield this.cleanupClient()}finally{e()}})}cleanupPeerConnections(){return J(this,void 0,void 0,function*(){var e;yield(e=this.pcManager)===null||e===void 0?void 0:e.close(),this.pcManager=void 0;const n=r=>{r&&(r.close(),r.onbufferedamountlow=null,r.onclose=null,r.onclosing=null,r.onerror=null,r.onmessage=null,r.onopen=null)};n(this.lossyDC),n(this.lossyDCSub),n(this.reliableDC),n(this.reliableDCSub),this.lossyDC=void 0,this.lossyDCSub=void 0,this.reliableDC=void 0,this.reliableDCSub=void 0,this.reliableMessageBuffer=new GR,this.reliableDataSequence=1,this.reliableReceivedState.clear()})}cleanupClient(){return J(this,void 0,void 0,function*(){yield this.client.close(),this.client.resetCallbacks()})}addTrack(e){if(this.pendingTrackResolvers[e.cid])throw new Uc("a track with the same ID has already been published");return new Promise((n,r)=>{const i=setTimeout(()=>{delete this.pendingTrackResolvers[e.cid],r(new Vn("publication of local track timed out, no response from server",Cn.Timeout))},1e4);this.pendingTrackResolvers[e.cid]={resolve:s=>{clearTimeout(i),n(s)},reject:()=>{clearTimeout(i),r(new Error("Cancelled publication by calling unpublish"))}},this.client.sendAddTrack(e)})}removeTrack(e){if(e.track&&this.pendingTrackResolvers[e.track.id]){const{reject:n}=this.pendingTrackResolvers[e.track.id];n&&n(),delete this.pendingTrackResolvers[e.track.id]}try{return this.pcManager.removeTrack(e),!0}catch(n){this.log.warn("failed to remove track",Object.assign(Object.assign({},this.logContext),{error:n}))}return!1}updateMuteStatus(e,n){this.client.sendMuteTrack(e,n)}get dataSubscriberReadyState(){var e;return(e=this.reliableDCSub)===null||e===void 0?void 0:e.readyState}getConnectedServerAddress(){return J(this,void 0,void 0,function*(){var e;return(e=this.pcManager)===null||e===void 0?void 0:e.getConnectedAddress()})}setRegionUrlProvider(e){this.regionUrlProvider=e}configure(e){return J(this,void 0,void 0,function*(){var n,r;if(this.pcManager&&this.pcManager.currentState!==zr.NEW)return;this.participantSid=(n=e.participant)===null||n===void 0?void 0:n.sid;const i=this.makeRTCConfiguration(e);this.pcManager=new CFe(i,this.options.singlePeerConnection?"publisher-only":e.subscriberPrimary?"subscriber-primary":"publisher-primary",this.loggerOptions),this.emit(it.TransportsCreated,this.pcManager.publisher,this.pcManager.subscriber),this.pcManager.onIceCandidate=(s,o)=>{this.client.sendIceCandidate(s,o)},this.pcManager.onPublisherOffer=(s,o)=>{this.client.sendOffer(s,o)},this.pcManager.onDataChannel=this.handleDataChannel,this.pcManager.onStateChange=(s,o,a)=>J(this,void 0,void 0,function*(){if(this.log.debug("primary PC state changed ".concat(s),this.logContext),["closed","disconnected","failed"].includes(o)&&(this.publisherConnectionPromise=void 0),s===zr.CONNECTED){const d=this.pcState===la.New;this.pcState=la.Connected,d&&this.emit(it.Connected,e)}else s===zr.FAILED&&(this.pcState===la.Connected||this.pcState===la.Reconnecting)&&(this.pcState=la.Disconnected,this.handleDisconnect("peerconnection failed",a==="failed"?nh.RR_SUBSCRIBER_FAILED:nh.RR_PUBLISHER_FAILED));const l=this.client.isDisconnected||this.client.currentState===Ir.RECONNECTING,c=[zr.FAILED,zr.CLOSING,zr.CLOSED].includes(s);l&&c&&!this._isClosed&&this.emit(it.Offline)}),this.pcManager.onTrack=s=>{s.streams.length!==0&&this.emit(it.MediaTrackAdded,s.track,s.streams[0],s.receiver)},XFe((r=e.serverInfo)===null||r===void 0?void 0:r.protocol)||this.createDataChannels()})}setupSignalClientCallbacks(){this.client.onAnswer=(e,n,r)=>J(this,void 0,void 0,function*(){this.pcManager&&(this.log.debug("received server answer",Object.assign(Object.assign({},this.logContext),{RTCSdpType:e.type,sdp:e.sdp,midToTrackId:r})),this.midToTrackId=r,yield this.pcManager.setPublisherAnswer(e,n))}),this.client.onTrickle=(e,n)=>{this.pcManager&&(this.log.debug("got ICE candidate from peer",Object.assign(Object.assign({},this.logContext),{candidate:e,target:n})),this.pcManager.addIceCandidate(e,n))},this.client.onOffer=(e,n,r)=>J(this,void 0,void 0,function*(){if(this.latestRemoteOfferId=n,!this.pcManager)return;this.midToTrackId=r;const i=yield this.pcManager.createSubscriberAnswerFromOffer(e,n);i&&this.client.sendAnswer(i,n)}),this.client.onLocalTrackPublished=e=>{var n;if(this.log.debug("received trackPublishedResponse",Object.assign(Object.assign({},this.logContext),{cid:e.cid,track:(n=e.track)===null||n===void 0?void 0:n.sid})),!this.pendingTrackResolvers[e.cid]){this.log.error("missing track resolver for ".concat(e.cid),Object.assign(Object.assign({},this.logContext),{cid:e.cid}));return}const{resolve:r}=this.pendingTrackResolvers[e.cid];delete this.pendingTrackResolvers[e.cid],r(e.track)},this.client.onLocalTrackUnpublished=e=>{this.emit(it.LocalTrackUnpublished,e)},this.client.onLocalTrackSubscribed=e=>{this.emit(it.LocalTrackSubscribed,e)},this.client.onTokenRefresh=e=>{this.token=e},this.client.onRemoteMuteChanged=(e,n)=>{this.emit(it.RemoteMute,e,n)},this.client.onSubscribedQualityUpdate=e=>{this.emit(it.SubscribedQualityUpdate,e)},this.client.onRoomMoved=e=>{var n;this.participantSid=(n=e.participant)===null||n===void 0?void 0:n.sid,this.latestJoinResponse&&(this.latestJoinResponse.room=e.room),this.emit(it.RoomMoved,e)},this.client.onMediaSectionsRequirement=e=>{var n,r;const i={direction:"recvonly"};for(let s=0;s<e.numAudios;s++)(n=this.pcManager)===null||n===void 0||n.addPublisherTransceiverOfKind("audio",i);for(let s=0;s<e.numVideos;s++)(r=this.pcManager)===null||r===void 0||r.addPublisherTransceiverOfKind("video",i);this.negotiate()},this.client.onClose=()=>{this.handleDisconnect("signal",nh.RR_SIGNAL_DISCONNECTED)},this.client.onLeave=e=>{switch(this.log.debug("client leave request",Object.assign(Object.assign({},this.logContext),{reason:e?.reason})),e.regions&&this.regionUrlProvider&&(this.log.debug("updating regions",this.logContext),this.regionUrlProvider.setServerReportedRegions(e.regions)),e.action){case _m.DISCONNECT:this.emit(it.Disconnected,e?.reason),this.close();break;case _m.RECONNECT:this.fullReconnectOnNext=!0,this.handleDisconnect(h4);break;case _m.RESUME:this.handleDisconnect(h4)}}}makeRTCConfiguration(e){var n;const r=Object.assign({},this.rtcConfig);if(!((n=this.signalOpts)===null||n===void 0)&&n.e2eeEnabled&&(this.log.debug("E2EE - setting up transports with insertable streams",this.logContext),r.encodedInsertableStreams=!0),e.iceServers&&!r.iceServers){const i=[];e.iceServers.forEach(s=>{const o={urls:s.urls};s.username&&(o.username=s.username),s.credential&&(o.credential=s.credential),i.push(o)}),r.iceServers=i}return e.clientConfiguration&&e.clientConfiguration.forceRelay===lv.ENABLED&&(r.iceTransportPolicy="relay"),r.sdpSemantics="unified-plan",r.continualGatheringPolicy="gather_continually",r}createDataChannels(){this.pcManager&&(this.lossyDC&&(this.lossyDC.onmessage=null,this.lossyDC.onerror=null),this.reliableDC&&(this.reliableDC.onmessage=null,this.reliableDC.onerror=null),this.lossyDC=this.pcManager.createPublisherDataChannel(cM,{ordered:!1,maxRetransmits:0}),this.reliableDC=this.pcManager.createPublisherDataChannel(uM,{ordered:!0}),this.lossyDC.onmessage=this.handleDataMessage,this.reliableDC.onmessage=this.handleDataMessage,this.lossyDC.onerror=this.handleDataError,this.reliableDC.onerror=this.handleDataError,this.lossyDC.bufferedAmountLowThreshold=65535,this.reliableDC.bufferedAmountLowThreshold=65535,this.lossyDC.onbufferedamountlow=this.handleBufferedAmountLow,this.reliableDC.onbufferedamountlow=this.handleBufferedAmountLow)}createSender(e,n,r){return J(this,void 0,void 0,function*(){if(F_())return yield this.createTransceiverRTCRtpSender(e,n,r);if(B_())return this.log.warn("using add-track fallback",this.logContext),yield this.createRTCRtpSender(e.mediaStreamTrack);throw new fi("Required webRTC APIs not supported on this device")})}createSimulcastSender(e,n,r,i){return J(this,void 0,void 0,function*(){if(F_())return this.createSimulcastTransceiverSender(e,n,r,i);if(B_())return this.log.debug("using add-track fallback",this.logContext),this.createRTCRtpSender(e.mediaStreamTrack);throw new fi("Cannot stream on this device")})}createTransceiverRTCRtpSender(e,n,r){return J(this,void 0,void 0,function*(){if(!this.pcManager)throw new fi("publisher is closed");const i=[];e.mediaStream&&i.push(e.mediaStream),Pd(e)&&(e.codec=n.videoCodec);const s={direction:"sendonly",streams:i};return r&&(s.sendEncodings=r),(yield this.pcManager.addPublisherTransceiver(e.mediaStreamTrack,s)).sender})}createSimulcastTransceiverSender(e,n,r,i){return J(this,void 0,void 0,function*(){if(!this.pcManager)throw new fi("publisher is closed");const s={direction:"sendonly"};i&&(s.sendEncodings=i);const o=yield this.pcManager.addPublisherTransceiver(n.mediaStreamTrack,s);if(r.videoCodec)return e.setSimulcastTrackSender(r.videoCodec,o.sender),o.sender})}createRTCRtpSender(e){return J(this,void 0,void 0,function*(){if(!this.pcManager)throw new fi("publisher is closed");return this.pcManager.addPublisherTrack(e)})}attemptReconnect(e){return J(this,void 0,void 0,function*(){var n,r,i;if(!this._isClosed){if(this.attemptingReconnect){pn.warn("already attempting reconnect, returning early",this.logContext);return}(((n=this.clientConfiguration)===null||n===void 0?void 0:n.resumeConnection)===lv.DISABLED||((i=(r=this.pcManager)===null||r===void 0?void 0:r.currentState)!==null&&i!==void 0?i:zr.NEW)===zr.NEW)&&(this.fullReconnectOnNext=!0);try{this.attemptingReconnect=!0,this.fullReconnectOnNext?yield this.restartConnection():yield this.resumeConnection(e),this.clearPendingReconnect(),this.fullReconnectOnNext=!1}catch(s){this.reconnectAttempts+=1;let o=!0;s instanceof fi?(this.log.debug("received unrecoverable error",Object.assign(Object.assign({},this.logContext),{error:s})),o=!1):s instanceof Ef||(this.fullReconnectOnNext=!0),o?this.handleDisconnect("reconnect",nh.RR_UNKNOWN):(this.log.info("could not recover connection after ".concat(this.reconnectAttempts," attempts, ").concat(Date.now()-this.reconnectStart,"ms. giving up"),this.logContext),this.emit(it.Disconnected),yield this.close())}finally{this.attemptingReconnect=!1}}})}getNextRetryDelay(e){try{return this.reconnectPolicy.nextRetryDelayInMs(e)}catch(n){this.log.warn("encountered error in reconnect policy",Object.assign(Object.assign({},this.logContext),{error:n}))}return null}restartConnection(e){return J(this,void 0,void 0,function*(){var n,r,i;try{if(!this.url||!this.token)throw new fi("could not reconnect, url or token not saved");this.log.info("reconnecting, attempt: ".concat(this.reconnectAttempts),this.logContext),this.emit(it.Restarting),this.client.isDisconnected||(yield this.client.sendLeave()),yield this.cleanupPeerConnections(),yield this.cleanupClient();let s;try{if(!this.signalOpts)throw this.log.warn("attempted connection restart, without signal options present",this.logContext),new Ef;s=yield this.join(e??this.url,this.token,this.signalOpts)}catch(o){throw o instanceof Vn&&o.reason===Cn.NotAllowed?new fi("could not reconnect, token might be expired"):new Ef}if(this.shouldFailNext)throw this.shouldFailNext=!1,new Error("simulated failure");if(this.client.setReconnected(),this.emit(it.SignalRestarted,s),yield this.waitForPCReconnected(),this.client.currentState!==Ir.CONNECTED)throw new Ef("Signal connection got severed during reconnect");(n=this.regionUrlProvider)===null||n===void 0||n.resetAttempts(),this.emit(it.Restarted)}catch(s){const o=yield(r=this.regionUrlProvider)===null||r===void 0?void 0:r.getNextBestRegionUrl();if(o){yield this.restartConnection(o);return}else throw(i=this.regionUrlProvider)===null||i===void 0||i.resetAttempts(),s}})}resumeConnection(e){return J(this,void 0,void 0,function*(){var n;if(!this.url||!this.token)throw new fi("could not reconnect, url or token not saved");if(!this.pcManager)throw new fi("publisher and subscriber connections unset");this.log.info("resuming signal connection, attempt ".concat(this.reconnectAttempts),this.logContext),this.emit(it.Resuming);let r;try{this.setupSignalClientCallbacks(),r=yield this.client.reconnect(this.url,this.token,this.participantSid,e)}catch(i){let s="";throw i instanceof Error&&(s=i.message,this.log.error(i.message,Object.assign(Object.assign({},this.logContext),{error:i}))),i instanceof Vn&&i.reason===Cn.NotAllowed?new fi("could not reconnect, token might be expired"):i instanceof Vn&&i.reason===Cn.LeaveRequest?i:new Ef(s)}if(this.emit(it.SignalResumed),r){const i=this.makeRTCConfiguration(r);this.pcManager.updateConfiguration(i),this.latestJoinResponse&&(this.latestJoinResponse.serverInfo=r.serverInfo)}else this.log.warn("Did not receive reconnect response",this.logContext);if(this.shouldFailNext)throw this.shouldFailNext=!1,new Error("simulated failure");if(yield this.pcManager.triggerIceRestart(),yield this.waitForPCReconnected(),this.client.currentState!==Ir.CONNECTED)throw new Ef("Signal connection got severed during reconnect");this.client.setReconnected(),((n=this.reliableDC)===null||n===void 0?void 0:n.readyState)==="open"&&this.reliableDC.id===null&&this.createDataChannels(),r?.lastMessageSeq&&this.resendReliableMessagesForResume(r.lastMessageSeq),this.emit(it.Resumed)})}waitForPCInitialConnection(e,n){return J(this,void 0,void 0,function*(){if(!this.pcManager)throw new fi("PC manager is closed");yield this.pcManager.ensurePCTransportConnection(n,e)})}waitForPCReconnected(){return J(this,void 0,void 0,function*(){this.pcState=la.Reconnecting,this.log.debug("waiting for peer connection to reconnect",this.logContext);try{if(yield Fs(qFe),!this.pcManager)throw new fi("PC manager is closed");yield this.pcManager.ensurePCTransportConnection(void 0,this.peerConnectionTimeout),this.pcState=la.Connected}catch(e){throw this.pcState=la.Disconnected,new Vn("could not establish PC connection, ".concat(e.message),Cn.InternalError)}})}publishRpcResponse(e,n,r,i){return J(this,void 0,void 0,function*(){const s=new Ts({destinationIdentities:[e],kind:fn.RELIABLE,value:{case:"rpcResponse",value:new S6({requestId:n,value:i?{case:"error",value:i.toProto()}:{case:"payload",value:r??""}})}});yield this.sendDataPacket(s,fn.RELIABLE)})}publishRpcAck(e,n){return J(this,void 0,void 0,function*(){const r=new Ts({destinationIdentities:[e],kind:fn.RELIABLE,value:{case:"rpcAck",value:new k6({requestId:n})}});yield this.sendDataPacket(r,fn.RELIABLE)})}sendDataPacket(e,n){return J(this,void 0,void 0,function*(){if(yield this.ensurePublisherConnected(n),this.e2eeManager&&this.e2eeManager.isDataChannelEncryptionEnabled){const s=wNe(e);if(s){const o=yield this.e2eeManager.encryptData(s.toBinary());e.value={case:"encryptedPacket",value:new xH({encryptedValue:o.payload,iv:o.iv,keyIndex:o.keyIndex})}}}n===fn.RELIABLE&&(e.sequence=this.reliableDataSequence,this.reliableDataSequence+=1);const r=e.toBinary(),i=this.dataChannelForKind(n);if(i){if(n===fn.RELIABLE&&this.reliableMessageBuffer.push({data:r,sequence:e.sequence}),this.attemptingReconnect)return;i.send(r)}this.updateAndEmitDCBufferStatus(n)})}resendReliableMessagesForResume(e){return J(this,void 0,void 0,function*(){yield this.ensurePublisherConnected(fn.RELIABLE);const n=this.dataChannelForKind(fn.RELIABLE);n&&(this.reliableMessageBuffer.popToSequence(e),this.reliableMessageBuffer.getAll().forEach(r=>{n.send(r.data)})),this.updateAndEmitDCBufferStatus(fn.RELIABLE)})}waitForBufferStatusLow(e){return new Promise((n,r)=>J(this,void 0,void 0,function*(){if(this.isBufferStatusLow(e))n();else{const i=()=>r("Engine closed");for(this.once(it.Closing,i);!this.dcBufferStatus.get(e);)yield Fs(10);this.off(it.Closing,i),n()}}))}ensureDataTransportConnected(e){return J(this,arguments,void 0,function(n){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.subscriberPrimary;return function*(){var s;if(!r.pcManager)throw new fi("PC manager is closed");const o=i?r.pcManager.subscriber:r.pcManager.publisher,a=i?"Subscriber":"Publisher";if(!o)throw new Vn("".concat(a," connection not set"),Cn.InternalError);let l=!1;!i&&!r.dataChannelForKind(n,i)&&(r.createDataChannels(),l=!0),!l&&!i&&!r.pcManager.publisher.isICEConnected&&r.pcManager.publisher.getICEConnectionState()!=="checking"&&(l=!0),l&&r.negotiate().catch(h=>{pn.error(h,r.logContext)});const c=r.dataChannelForKind(n,i);if(c?.readyState==="open")return;const d=new Date().getTime()+r.peerConnectionTimeout;for(;new Date().getTime()<d;){if(o.isICEConnected&&((s=r.dataChannelForKind(n,i))===null||s===void 0?void 0:s.readyState)==="open")return;yield Fs(50)}throw new Vn("could not establish ".concat(a," connection, state: ").concat(o.getICEConnectionState()),Cn.InternalError)}()})}ensurePublisherConnected(e){return J(this,void 0,void 0,function*(){this.publisherConnectionPromise||(this.publisherConnectionPromise=this.ensureDataTransportConnected(e,!1)),yield this.publisherConnectionPromise})}verifyTransport(){return!(!this.pcManager||this.pcManager.currentState!==zr.CONNECTED||!this.client.ws||this.client.ws.readyState===WebSocket.CLOSED)}negotiate(){return J(this,void 0,void 0,function*(){return new Promise((e,n)=>J(this,void 0,void 0,function*(){if(!this.pcManager){n(new $_("PC manager is closed"));return}this.pcManager.requirePublisher(),this.pcManager.publisher.getTransceivers().length==0&&!this.lossyDC&&!this.reliableDC&&this.createDataChannels();const r=new AbortController,i=()=>{r.abort(),this.log.debug("engine disconnected while negotiation was ongoing",this.logContext),e()};this.isClosed&&n("cannot negotiate on closed engine"),this.on(it.Closing,i),this.pcManager.publisher.once(Dm.RTPVideoPayloadTypes,s=>{const o=new Map;s.forEach(a=>{const l=a.codec.toLowerCase();qNe(l)&&o.set(a.payload,l)}),this.emit(it.RTPVideoMapUpdate,o)});try{yield this.pcManager.negotiate(r),e()}catch(s){s instanceof $_&&(this.fullReconnectOnNext=!0),this.handleDisconnect("negotiation",nh.RR_UNKNOWN),n(s)}finally{this.off(it.Closing,i)}}))})}dataChannelForKind(e,n){if(n){if(e===fn.LOSSY)return this.lossyDCSub;if(e===fn.RELIABLE)return this.reliableDCSub}else{if(e===fn.LOSSY)return this.lossyDC;if(e===fn.RELIABLE)return this.reliableDC}}sendSyncState(e,n){var r,i,s,o;if(!this.pcManager){this.log.warn("sync state cannot be sent without peer connection setup",this.logContext);return}const a=this.pcManager.publisher.getLocalDescription(),l=this.pcManager.publisher.getRemoteDescription(),c=(r=this.pcManager.subscriber)===null||r===void 0?void 0:r.getRemoteDescription(),d=(i=this.pcManager.subscriber)===null||i===void 0?void 0:i.getLocalDescription(),h=(o=(s=this.signalOpts)===null||s===void 0?void 0:s.autoSubscribe)!==null&&o!==void 0?o:!0,f=new Array,m=new Array;e.forEach(g=>{g.isDesired!==h&&f.push(g.trackSid),g.isEnabled||m.push(g.trackSid)}),this.client.sendSyncState(new T6({answer:this.options.singlePeerConnection?l?im({sdp:l.sdp,type:l.type}):void 0:d?im({sdp:d.sdp,type:d.type}):void 0,offer:this.options.singlePeerConnection?a?im({sdp:a.sdp,type:a.type}):void 0:c?im({sdp:c.sdp,type:c.type}):void 0,subscription:new vw({trackSids:f,subscribe:!h,participantTracks:[]}),publishTracks:eFe(n),dataChannels:this.dataChannelsInfo(),trackSidsDisabled:m,datachannelReceiveStates:this.reliableReceivedState.map((g,p)=>new jH({publisherSid:p,lastSeq:g}))}))}failNext(){this.shouldFailNext=!0}dataChannelsInfo(){const e=[],n=(r,i)=>{r?.id!==void 0&&r.id!==null&&e.push(new qH({label:r.label,id:r.id,target:i}))};return n(this.dataChannelForKind(fn.LOSSY),nl.PUBLISHER),n(this.dataChannelForKind(fn.RELIABLE),nl.PUBLISHER),n(this.dataChannelForKind(fn.LOSSY,!0),nl.SUBSCRIBER),n(this.dataChannelForKind(fn.RELIABLE,!0),nl.SUBSCRIBER),e}clearReconnectTimeout(){this.reconnectTimeout&&Ki.clearTimeout(this.reconnectTimeout)}clearPendingReconnect(){this.clearReconnectTimeout(),this.reconnectAttempts=0}registerOnLineListener(){so()&&window.addEventListener("online",this.handleBrowserOnLine)}deregisterOnLineListener(){so()&&window.removeEventListener("online",this.handleBrowserOnLine)}getTrackIdForReceiver(e){var n;const r=(n=this.pcManager)===null||n===void 0?void 0:n.getMidForReceiver(e);if(r){const i=Object.entries(this.midToTrackId).find(s=>{let[o]=s;return o===r});if(i)return i[1]}}}class Ef extends Error{}function XFe(t){return t!==void 0&&t>13}function dM(t,e){const n=t.participantIdentity?t.participantIdentity:e.participantIdentity;t.participantIdentity=n,e.participantIdentity=n;const r=t.destinationIdentities.length!==0?t.destinationIdentities:e.destinationIdentities;t.destinationIdentities=r,e.destinationIdentities=r}class Y_{constructor(e,n){this.lastUpdateAt=0,this.settingsCacheTime=3e3,this.attemptedRegions=[],this.serverUrl=new URL(e),this.token=n}updateToken(e){this.token=e}isCloud(){return Q_(this.serverUrl)}getServerUrl(){return this.serverUrl}getNextBestRegionUrl(e){return J(this,void 0,void 0,function*(){if(!this.isCloud())throw Error("region availability is only supported for LiveKit Cloud domains");(!this.regionSettings||Date.now()-this.lastUpdateAt>this.settingsCacheTime)&&(this.regionSettings=yield this.fetchRegionSettings(e));const n=this.regionSettings.regions.filter(r=>!this.attemptedRegions.find(i=>i.url===r.url));if(n.length>0){const r=n[0];return this.attemptedRegions.push(r),pn.debug("next region: ".concat(r.region)),r.url}else return null})}resetAttempts(){this.attemptedRegions=[]}fetchRegionSettings(e){return J(this,void 0,void 0,function*(){const n=yield fetch("".concat(YFe(this.serverUrl),"/regions"),{headers:{authorization:"Bearer ".concat(this.token)},signal:e});if(n.ok){const r=yield n.json();return this.lastUpdateAt=Date.now(),r}else throw new Vn("Could not fetch region settings: ".concat(n.statusText),n.status===401?Cn.NotAllowed:Cn.InternalError,n.status)})}setServerReportedRegions(e){this.regionSettings=e,this.lastUpdateAt=Date.now()}}function YFe(t){return"".concat(t.protocol.replace("ws","http"),"//").concat(t.host,"/settings")}class zW{get info(){return this._info}validateBytesReceived(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(typeof this.totalByteSize!="number"||this.totalByteSize===0)){if(e&&this.bytesReceived<this.totalByteSize)throw new ca("Not enough chunk(s) received - expected ".concat(this.totalByteSize," bytes of data total, only received ").concat(this.bytesReceived," bytes"),_s.Incomplete);if(this.bytesReceived>this.totalByteSize)throw new ca("Extra chunk(s) received - expected ".concat(this.totalByteSize," bytes of data total, received ").concat(this.bytesReceived," bytes"),_s.LengthExceeded)}}constructor(e,n,r,i){this.reader=n,this.totalByteSize=r,this._info=e,this.bytesReceived=0,this.outOfBandFailureRejectingFuture=i}}class GFe extends zW{handleChunkReceived(e){var n;this.bytesReceived+=e.content.byteLength,this.validateBytesReceived();const r=this.totalByteSize?this.bytesReceived/this.totalByteSize:void 0;(n=this.onProgress)===null||n===void 0||n.call(this,r)}[Symbol.asyncIterator](){const e=this.reader.getReader();let n=new Sa,r=null,i=null;if(this.signal){const o=this.signal;i=()=>{var a;(a=n.reject)===null||a===void 0||a.call(n,o.reason)},o.addEventListener("abort",i),r=o}const s=()=>{e.releaseLock(),r&&i&&r.removeEventListener("abort",i),this.signal=void 0};return{next:()=>J(this,void 0,void 0,function*(){var o,a;try{const{done:l,value:c}=yield Promise.race([e.read(),n.promise,(a=(o=this.outOfBandFailureRejectingFuture)===null||o===void 0?void 0:o.promise)!==null&&a!==void 0?a:new Promise(()=>{})]);return l?(this.validateBytesReceived(!0),{done:!0,value:void 0}):(this.handleChunkReceived(c),{done:!1,value:c.content})}catch(l){throw s(),l}}),return(){return J(this,void 0,void 0,function*(){return s(),{done:!0,value:void 0}})}}}withAbortSignal(e){return this.signal=e,this}readAll(){return J(this,arguments,void 0,function(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function*(){var r,i,s,o;let a=new Set;const l=n.signal?e.withAbortSignal(n.signal):e;try{for(var c=!0,d=Qc(l),h;h=yield d.next(),r=h.done,!r;c=!0){o=h.value,c=!1;const f=o;a.add(f)}}catch(f){i={error:f}}finally{try{!c&&!r&&(s=d.return)&&(yield s.call(d))}finally{if(i)throw i.error}}return Array.from(a)}()})}}class ZFe extends zW{constructor(e,n,r,i){super(e,n,r,i),this.receivedChunks=new Map}handleChunkReceived(e){var n;const r=my(e.chunkIndex),i=this.receivedChunks.get(r);if(i&&i.version>e.version)return;this.receivedChunks.set(r,e),this.bytesReceived+=e.content.byteLength,this.validateBytesReceived();const s=this.totalByteSize?this.bytesReceived/this.totalByteSize:void 0;(n=this.onProgress)===null||n===void 0||n.call(this,s)}[Symbol.asyncIterator](){const e=this.reader.getReader(),n=new TextDecoder("utf-8",{fatal:!0});let r=new Sa,i=null,s=null;if(this.signal){const a=this.signal;s=()=>{var l;(l=r.reject)===null||l===void 0||l.call(r,a.reason)},a.addEventListener("abort",s),i=a}const o=()=>{e.releaseLock(),i&&s&&i.removeEventListener("abort",s),this.signal=void 0};return{next:()=>J(this,void 0,void 0,function*(){var a,l;try{const{done:c,value:d}=yield Promise.race([e.read(),r.promise,(l=(a=this.outOfBandFailureRejectingFuture)===null||a===void 0?void 0:a.promise)!==null&&l!==void 0?l:new Promise(()=>{})]);if(c)return this.validateBytesReceived(!0),{done:!0,value:void 0};{this.handleChunkReceived(d);let h;try{h=n.decode(d.content)}catch(f){throw new ca("Cannot decode datastream chunk ".concat(d.chunkIndex," as text: ").concat(f),_s.DecodeFailed)}return{done:!1,value:h}}}catch(c){throw o(),c}}),return(){return J(this,void 0,void 0,function*(){return o(),{done:!0,value:void 0}})}}}withAbortSignal(e){return this.signal=e,this}readAll(){return J(this,arguments,void 0,function(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function*(){var r,i,s,o;let a="";const l=n.signal?e.withAbortSignal(n.signal):e;try{for(var c=!0,d=Qc(l),h;h=yield d.next(),r=h.done,!r;c=!0)o=h.value,c=!1,a+=o}catch(f){i={error:f}}finally{try{!c&&!r&&(s=d.return)&&(yield s.call(d))}finally{if(i)throw i.error}}return a}()})}}class KFe{constructor(){this.log=pn,this.byteStreamControllers=new Map,this.textStreamControllers=new Map,this.byteStreamHandlers=new Map,this.textStreamHandlers=new Map}registerTextStreamHandler(e,n){if(this.textStreamHandlers.has(e))throw new ca('A text stream handler for topic "'.concat(e,'" has already been set.'),_s.HandlerAlreadyRegistered);this.textStreamHandlers.set(e,n)}unregisterTextStreamHandler(e){this.textStreamHandlers.delete(e)}registerByteStreamHandler(e,n){if(this.byteStreamHandlers.has(e))throw new ca('A byte stream handler for topic "'.concat(e,'" has already been set.'),_s.HandlerAlreadyRegistered);this.byteStreamHandlers.set(e,n)}unregisterByteStreamHandler(e){this.byteStreamHandlers.delete(e)}clearHandlersAndControllers(){this.byteStreamControllers.clear(),this.textStreamControllers.clear(),this.byteStreamHandlers.clear(),this.textStreamHandlers.clear()}validateParticipantHasNoActiveDataStreams(e){var n,r,i,s;const o=Array.from(this.textStreamControllers.entries()).filter(l=>l[1].sendingParticipantIdentity===e),a=Array.from(this.byteStreamControllers.entries()).filter(l=>l[1].sendingParticipantIdentity===e);if(o.length>0||a.length>0){const l=new ca("Participant ".concat(e," unexpectedly disconnected in the middle of sending data"),_s.AbnormalEnd);for(const[c,d]of a)(r=(n=d.outOfBandFailureRejectingFuture).reject)===null||r===void 0||r.call(n,l),this.byteStreamControllers.delete(c);for(const[c,d]of o)(s=(i=d.outOfBandFailureRejectingFuture).reject)===null||s===void 0||s.call(i,l),this.textStreamControllers.delete(c)}}handleDataStreamPacket(e,n){return J(this,void 0,void 0,function*(){switch(e.value.case){case"streamHeader":return this.handleStreamHeader(e.value.value,e.participantIdentity,n);case"streamChunk":return this.handleStreamChunk(e.value.value,n);case"streamTrailer":return this.handleStreamTrailer(e.value.value,n);default:throw new Error('DataPacket of value "'.concat(e.value.case,'" is not data stream related!'))}})}handleStreamHeader(e,n,r){return J(this,void 0,void 0,function*(){var i;if(e.contentHeader.case==="byteHeader"){const s=this.byteStreamHandlers.get(e.topic);if(!s){this.log.debug("ignoring incoming byte stream due to no handler for topic",e.topic);return}let o;const a=new Sa;a.promise.catch(d=>{this.log.error(d)});const l={id:e.streamId,name:(i=e.contentHeader.value.name)!==null&&i!==void 0?i:"unknown",mimeType:e.mimeType,size:e.totalLength?Number(e.totalLength):void 0,topic:e.topic,timestamp:my(e.timestamp),attributes:e.attributes,encryptionType:r},c=new ReadableStream({start:d=>{if(o=d,this.textStreamControllers.has(e.streamId))throw new ca("A data stream read is already in progress for a stream with id ".concat(e.streamId,"."),_s.AlreadyOpened);this.byteStreamControllers.set(e.streamId,{info:l,controller:o,startTime:Date.now(),sendingParticipantIdentity:n,outOfBandFailureRejectingFuture:a})}});s(new GFe(l,c,my(e.totalLength),a),{identity:n})}else if(e.contentHeader.case==="textHeader"){const s=this.textStreamHandlers.get(e.topic);if(!s){this.log.debug("ignoring incoming text stream due to no handler for topic",e.topic);return}let o;const a=new Sa;a.promise.catch(d=>{this.log.error(d)});const l={id:e.streamId,mimeType:e.mimeType,size:e.totalLength?Number(e.totalLength):void 0,topic:e.topic,timestamp:Number(e.timestamp),attributes:e.attributes,encryptionType:r},c=new ReadableStream({start:d=>{if(o=d,this.textStreamControllers.has(e.streamId))throw new ca("A data stream read is already in progress for a stream with id ".concat(e.streamId,"."),_s.AlreadyOpened);this.textStreamControllers.set(e.streamId,{info:l,controller:o,startTime:Date.now(),sendingParticipantIdentity:n,outOfBandFailureRejectingFuture:a})}});s(new ZFe(l,c,my(e.totalLength),a),{identity:n})}})}handleStreamChunk(e,n){const r=this.byteStreamControllers.get(e.streamId);r&&(r.info.encryptionType!==n?(r.controller.error(new ca("Encryption type mismatch for stream ".concat(e.streamId,". Expected ").concat(n,", got ").concat(r.info.encryptionType),_s.EncryptionTypeMismatch)),this.byteStreamControllers.delete(e.streamId)):e.content.length>0&&r.controller.enqueue(e));const i=this.textStreamControllers.get(e.streamId);i&&(i.info.encryptionType!==n?(i.controller.error(new ca("Encryption type mismatch for stream ".concat(e.streamId,". Expected ").concat(n,", got ").concat(i.info.encryptionType),_s.EncryptionTypeMismatch)),this.textStreamControllers.delete(e.streamId)):e.content.length>0&&i.controller.enqueue(e))}handleStreamTrailer(e,n){const r=this.textStreamControllers.get(e.streamId);r&&(r.info.encryptionType!==n?r.controller.error(new ca("Encryption type mismatch for stream ".concat(e.streamId,". Expected ").concat(n,", got ").concat(r.info.encryptionType),_s.EncryptionTypeMismatch)):(r.info.attributes=Object.assign(Object.assign({},r.info.attributes),e.attributes),r.controller.close(),this.textStreamControllers.delete(e.streamId)));const i=this.byteStreamControllers.get(e.streamId);i&&(i.info.encryptionType!==n?i.controller.error(new ca("Encryption type mismatch for stream ".concat(e.streamId,". Expected ").concat(n,", got ").concat(i.info.encryptionType),_s.EncryptionTypeMismatch)):(i.info.attributes=Object.assign(Object.assign({},i.info.attributes),e.attributes),i.controller.close()),this.byteStreamControllers.delete(e.streamId))}}class QW{constructor(e,n,r){this.writableStream=e,this.defaultWriter=e.getWriter(),this.onClose=r,this.info=n}write(e){return this.defaultWriter.write(e)}close(){return J(this,void 0,void 0,function*(){var e;yield this.defaultWriter.close(),this.defaultWriter.releaseLock(),(e=this.onClose)===null||e===void 0||e.call(this)})}}class JFe extends QW{}class eBe extends QW{}const hM=15e3;class tBe{constructor(e,n){this.engine=e,this.log=n}setupEngine(e){this.engine=e}sendText(e,n){return J(this,void 0,void 0,function*(){var r;const i=crypto.randomUUID(),o=new TextEncoder().encode(e).byteLength,a=(r=n?.attachments)===null||r===void 0?void 0:r.map(()=>crypto.randomUUID()),l=new Array(a?a.length+1:1).fill(0),c=(h,f)=>{var m;l[f]=h;const g=l.reduce((p,v)=>p+v,0);(m=n?.onProgress)===null||m===void 0||m.call(n,g)},d=yield this.streamText({streamId:i,totalSize:o,destinationIdentities:n?.destinationIdentities,topic:n?.topic,attachedStreamIds:a,attributes:n?.attributes});return yield d.write(e),c(1,0),yield d.close(),n?.attachments&&a&&(yield Promise.all(n.attachments.map((h,f)=>J(this,void 0,void 0,function*(){return this._sendFile(a[f],h,{topic:n.topic,mimeType:h.type,onProgress:m=>{c(m,f+1)}})})))),d.info})}streamText(e){return J(this,void 0,void 0,function*(){var n,r,i;const s=(n=e?.streamId)!==null&&n!==void 0?n:crypto.randomUUID(),o={id:s,mimeType:"text/plain",timestamp:Date.now(),topic:(r=e?.topic)!==null&&r!==void 0?r:"",size:e?.totalSize,attributes:e?.attributes,encryptionType:!((i=this.engine.e2eeManager)===null||i===void 0)&&i.isDataChannelEncryptionEnabled?bi.GCM:bi.NONE},a=new $2({streamId:s,mimeType:o.mimeType,topic:o.topic,timestamp:rh(o.timestamp),totalLength:rh(e?.totalSize),attributes:o.attributes,contentHeader:{case:"textHeader",value:new LH({version:e?.version,attachedStreamIds:e?.attachedStreamIds,replyToStreamId:e?.replyToStreamId,operationType:e?.type==="update"?x_.UPDATE:x_.CREATE})}}),l=e?.destinationIdentities,c=new Ts({destinationIdentities:l,value:{case:"streamHeader",value:a}});yield this.engine.sendDataPacket(c,fn.RELIABLE);let d=0;const h=this.engine,f=new WritableStream({write(p){return J(this,void 0,void 0,function*(){for(const v of ZNe(p,hM)){yield h.waitForBufferStatusLow(fn.RELIABLE);const b=new L2({content:v,streamId:s,chunkIndex:rh(d)}),y=new Ts({destinationIdentities:l,value:{case:"streamChunk",value:b}});yield h.sendDataPacket(y,fn.RELIABLE),d+=1}})},close(){return J(this,void 0,void 0,function*(){const p=new N2({streamId:s}),v=new Ts({destinationIdentities:l,value:{case:"streamTrailer",value:p}});yield h.sendDataPacket(v,fn.RELIABLE)})},abort(p){console.log("Sink error:",p)}});let m=()=>J(this,void 0,void 0,function*(){yield g.close()});h.once(it.Closing,m);const g=new JFe(f,o,()=>this.engine.off(it.Closing,m));return g})}sendFile(e,n){return J(this,void 0,void 0,function*(){const r=crypto.randomUUID();return yield this._sendFile(r,e,n),{id:r}})}_sendFile(e,n,r){return J(this,void 0,void 0,function*(){var i;const s=yield this.streamBytes({streamId:e,totalSize:n.size,name:n.name,mimeType:(i=r?.mimeType)!==null&&i!==void 0?i:n.type,topic:r?.topic,destinationIdentities:r?.destinationIdentities}),o=n.stream().getReader();for(;;){const{done:a,value:l}=yield o.read();if(a)break;yield s.write(l)}return yield s.close(),s.info})}streamBytes(e){return J(this,void 0,void 0,function*(){var n,r,i,s,o,a;const l=(n=e?.streamId)!==null&&n!==void 0?n:crypto.randomUUID(),c=e?.destinationIdentities,d={id:l,mimeType:(r=e?.mimeType)!==null&&r!==void 0?r:"application/octet-stream",topic:(i=e?.topic)!==null&&i!==void 0?i:"",timestamp:Date.now(),attributes:e?.attributes,size:e?.totalSize,name:(s=e?.name)!==null&&s!==void 0?s:"unknown",encryptionType:!((o=this.engine.e2eeManager)===null||o===void 0)&&o.isDataChannelEncryptionEnabled?bi.GCM:bi.NONE},h=new $2({totalLength:rh((a=d.size)!==null&&a!==void 0?a:0),mimeType:d.mimeType,streamId:l,topic:d.topic,timestamp:rh(Date.now()),attributes:d.attributes,contentHeader:{case:"byteHeader",value:new NH({name:d.name})}}),f=new Ts({destinationIdentities:c,value:{case:"streamHeader",value:h}});yield this.engine.sendDataPacket(f,fn.RELIABLE);let m=0;const g=new lo,p=this.engine,v=this.log,b=new WritableStream({write(C){return J(this,void 0,void 0,function*(){const x=yield g.lock();let O=0;try{for(;O<C.byteLength;){const S=C.slice(O,O+hM);yield p.waitForBufferStatusLow(fn.RELIABLE);const T=new Ts({destinationIdentities:c,value:{case:"streamChunk",value:new L2({content:S,streamId:l,chunkIndex:rh(m)})}});yield p.sendDataPacket(T,fn.RELIABLE),m+=1,O+=S.byteLength}}finally{x()}})},close(){return J(this,void 0,void 0,function*(){const C=new N2({streamId:l}),x=new Ts({destinationIdentities:c,value:{case:"streamTrailer",value:C}});yield p.sendDataPacket(x,fn.RELIABLE)})},abort(C){v.error("Sink error:",C)}});return new eBe(b,d)})}}class UW extends Ee{constructor(e,n,r,i,s){super(e,r,s),this.sid=n,this.receiver=i}get isLocal(){return!1}setMuted(e){this.isMuted!==e&&(this.isMuted=e,this._mediaStreamTrack.enabled=!e,this.emit(e?Je.Muted:Je.Unmuted,this))}setMediaStream(e){this.mediaStream=e;const n=r=>{r.track===this._mediaStreamTrack&&(e.removeEventListener("removetrack",n),this.receiver&&"playoutDelayHint"in this.receiver&&(this.receiver.playoutDelayHint=void 0),this.receiver=void 0,this._currentBitrate=0,this.emit(Je.Ended,this))};e.addEventListener("removetrack",n)}start(){this.startMonitor(),super.enable()}stop(){this.stopMonitor(),super.disable()}getRTCStatsReport(){return J(this,void 0,void 0,function*(){var e;return!((e=this.receiver)===null||e===void 0)&&e.getStats?yield this.receiver.getStats():void 0})}setPlayoutDelay(e){this.receiver?"playoutDelayHint"in this.receiver?this.receiver.playoutDelayHint=e:this.log.warn("Playout delay not supported in this browser"):this.log.warn("Cannot set playout delay, track already ended")}getPlayoutDelay(){if(this.receiver){if("playoutDelayHint"in this.receiver)return this.receiver.playoutDelayHint;this.log.warn("Playout delay not supported in this browser")}else this.log.warn("Cannot get playout delay, track already ended");return 0}startMonitor(){this.monitorInterval||(this.monitorInterval=setInterval(()=>this.monitorReceiver(),z6)),tFe()&&this.registerTimeSyncUpdate()}registerTimeSyncUpdate(){const e=()=>{var n;this.timeSyncHandle=requestAnimationFrame(()=>e());const r=(n=this.receiver)===null||n===void 0?void 0:n.getSynchronizationSources()[0];if(r){const{timestamp:i,rtpTimestamp:s}=r;s&&this.rtpTimestamp!==s&&(this.emit(Je.TimeSyncUpdate,{timestamp:i,rtpTimestamp:s}),this.rtpTimestamp=s)}};e()}}class VW extends UW{constructor(e,n,r,i,s,o){super(e,n,Ee.Kind.Audio,r,o),this.monitorReceiver=()=>J(this,void 0,void 0,function*(){if(!this.receiver){this._currentBitrate=0;return}const a=yield this.getReceiverStats();a&&this.prevStats&&this.receiver&&(this._currentBitrate=Ow(a,this.prevStats)),this.prevStats=a}),this.audioContext=i,this.webAudioPluginNodes=[],s&&(this.sinkId=s.deviceId)}setVolume(e){var n;for(const r of this.attachedElements)this.audioContext?(n=this.gainNode)===null||n===void 0||n.gain.setTargetAtTime(e,0,.1):r.volume=e;sc()&&this._mediaStreamTrack._setVolume(e),this.elementVolume=e}getVolume(){if(this.elementVolume)return this.elementVolume;if(sc())return 1;let e=0;return this.attachedElements.forEach(n=>{n.volume>e&&(e=n.volume)}),e}setSinkId(e){return J(this,void 0,void 0,function*(){this.sinkId=e,yield Promise.all(this.attachedElements.map(n=>{if(z_(n))return n.setSinkId(e)}))})}attach(e){const n=this.attachedElements.length===0;return e?super.attach(e):e=super.attach(),this.sinkId&&z_(e)&&e.setSinkId(this.sinkId).catch(r=>{this.log.error("Failed to set sink id on remote audio track",r,this.logContext)}),this.audioContext&&n&&(this.log.debug("using audio context mapping",this.logContext),this.connectWebAudio(this.audioContext,e),e.volume=0,e.muted=!0),this.elementVolume&&this.setVolume(this.elementVolume),e}detach(e){let n;return e?(n=super.detach(e),this.audioContext&&(this.attachedElements.length>0?this.connectWebAudio(this.audioContext,this.attachedElements[0]):this.disconnectWebAudio())):(n=super.detach(),this.disconnectWebAudio()),n}setAudioContext(e){this.audioContext=e,e&&this.attachedElements.length>0?this.connectWebAudio(e,this.attachedElements[0]):e||this.disconnectWebAudio()}setWebAudioPlugins(e){this.webAudioPluginNodes=e,this.attachedElements.length>0&&this.audioContext&&this.connectWebAudio(this.audioContext,this.attachedElements[0])}connectWebAudio(e,n){this.disconnectWebAudio(),this.sourceNode=e.createMediaStreamSource(n.srcObject);let r=this.sourceNode;this.webAudioPluginNodes.forEach(i=>{r.connect(i),r=i}),this.gainNode=e.createGain(),r.connect(this.gainNode),this.gainNode.connect(e.destination),this.elementVolume&&this.gainNode.gain.setTargetAtTime(this.elementVolume,0,.1),e.state!=="running"&&e.resume().then(()=>{e.state!=="running"&&this.emit(Je.AudioPlaybackFailed,new Error("Audio Context couldn't be started automatically"))}).catch(i=>{this.emit(Je.AudioPlaybackFailed,i)})}disconnectWebAudio(){var e,n;(e=this.gainNode)===null||e===void 0||e.disconnect(),(n=this.sourceNode)===null||n===void 0||n.disconnect(),this.gainNode=void 0,this.sourceNode=void 0}getReceiverStats(){return J(this,void 0,void 0,function*(){if(!this.receiver||!this.receiver.getStats)return;const e=yield this.receiver.getStats();let n;return e.forEach(r=>{r.type==="inbound-rtp"&&(n={type:"audio",streamId:r.id,timestamp:r.timestamp,jitter:r.jitter,bytesReceived:r.bytesReceived,concealedSamples:r.concealedSamples,concealmentEvents:r.concealmentEvents,silentConcealedSamples:r.silentConcealedSamples,silentConcealmentEvents:r.silentConcealmentEvents,totalAudioEnergy:r.totalAudioEnergy,totalSamplesDuration:r.totalSamplesDuration})}),n})}}const f4=100;class nBe extends UW{constructor(e,n,r,i,s){super(e,n,Ee.Kind.Video,r,s),this.elementInfos=[],this.monitorReceiver=()=>J(this,void 0,void 0,function*(){if(!this.receiver){this._currentBitrate=0;return}const o=yield this.getReceiverStats();o&&this.prevStats&&this.receiver&&(this._currentBitrate=Ow(o,this.prevStats)),this.prevStats=o}),this.debouncedHandleResize=L6(()=>{this.updateDimensions()},f4),this.adaptiveStreamSettings=i}get isAdaptiveStream(){return this.adaptiveStreamSettings!==void 0}setStreamState(e){super.setStreamState(e),console.log("setStreamState",e),e===Ee.StreamState.Active&&this.updateVisibility()}get mediaStreamTrack(){return this._mediaStreamTrack}setMuted(e){super.setMuted(e),this.attachedElements.forEach(n=>{e?Em(this._mediaStreamTrack,n):rm(this._mediaStreamTrack,n)})}attach(e){if(e?super.attach(e):e=super.attach(),this.adaptiveStreamSettings&&this.elementInfos.find(n=>n.element===e)===void 0){const n=new rBe(e);this.observeElementInfo(n)}return e}observeElementInfo(e){this.adaptiveStreamSettings&&this.elementInfos.find(n=>n===e)===void 0?(e.handleResize=()=>{this.debouncedHandleResize()},e.handleVisibilityChanged=()=>{this.updateVisibility()},this.elementInfos.push(e),e.observe(),this.debouncedHandleResize(),this.updateVisibility()):this.log.warn("visibility resize observer not triggered",this.logContext)}stopObservingElementInfo(e){if(!this.isAdaptiveStream){this.log.warn("stopObservingElementInfo ignored",this.logContext);return}const n=this.elementInfos.filter(r=>r===e);for(const r of n)r.stopObserving();this.elementInfos=this.elementInfos.filter(r=>r!==e),this.updateVisibility(),this.debouncedHandleResize()}detach(e){let n=[];if(e)return this.stopObservingElement(e),super.detach(e);n=super.detach();for(const r of n)this.stopObservingElement(r);return n}getDecoderImplementation(){var e;return(e=this.prevStats)===null||e===void 0?void 0:e.decoderImplementation}getReceiverStats(){return J(this,void 0,void 0,function*(){if(!this.receiver||!this.receiver.getStats)return;const e=yield this.receiver.getStats();let n,r="",i=new Map;return e.forEach(s=>{s.type==="inbound-rtp"?(r=s.codecId,n={type:"video",streamId:s.id,framesDecoded:s.framesDecoded,framesDropped:s.framesDropped,framesReceived:s.framesReceived,packetsReceived:s.packetsReceived,packetsLost:s.packetsLost,frameWidth:s.frameWidth,frameHeight:s.frameHeight,pliCount:s.pliCount,firCount:s.firCount,nackCount:s.nackCount,jitter:s.jitter,timestamp:s.timestamp,bytesReceived:s.bytesReceived,decoderImplementation:s.decoderImplementation}):s.type==="codec"&&i.set(s.id,s)}),n&&r!==""&&i.get(r)&&(n.mimeType=i.get(r).mimeType),n})}stopObservingElement(e){const n=this.elementInfos.filter(r=>r.element===e);for(const r of n)this.stopObservingElementInfo(r)}handleAppVisibilityChanged(){const e=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return J(this,void 0,void 0,function*(){yield e.handleAppVisibilityChanged.call(this),this.isAdaptiveStream&&this.updateVisibility()})}updateVisibility(e){var n,r;const i=this.elementInfos.reduce((l,c)=>Math.max(l,c.visibilityChangedAt||0),0),s=!((r=(n=this.adaptiveStreamSettings)===null||n===void 0?void 0:n.pauseVideoInBackground)!==null&&r!==void 0)||r?this.isInBackground:!1,o=this.elementInfos.some(l=>l.pictureInPicture),a=this.elementInfos.some(l=>l.visible)&&!s||o;if(!(this.lastVisible===a&&!e)){if(!a&&Date.now()-i<f4){Ki.setTimeout(()=>{this.updateVisibility()},f4);return}this.lastVisible=a,this.emit(Je.VisibilityChanged,a,this)}}updateDimensions(){var e,n;let r=0,i=0;const s=this.getPixelDensity();for(const o of this.elementInfos){const a=o.width()*s,l=o.height()*s;a+l>r+i&&(r=a,i=l)}((e=this.lastDimensions)===null||e===void 0?void 0:e.width)===r&&((n=this.lastDimensions)===null||n===void 0?void 0:n.height)===i||(this.lastDimensions={width:r,height:i},this.emit(Je.VideoDimensionsChanged,this.lastDimensions,this))}getPixelDensity(){var e;const n=(e=this.adaptiveStreamSettings)===null||e===void 0?void 0:e.pixelDensity;return n==="screen"?UR():n||(UR()>2?2:1)}}class rBe{get visible(){return this.isPiP||this.isIntersecting}get pictureInPicture(){return this.isPiP}constructor(e,n){this.onVisibilityChanged=r=>{var i;const{target:s,isIntersecting:o}=r;s===this.element&&(this.isIntersecting=o,this.isPiP=yp(this.element),this.visibilityChangedAt=Date.now(),(i=this.handleVisibilityChanged)===null||i===void 0||i.call(this))},this.onEnterPiP=()=>{var r,i,s;(i=(r=window.documentPictureInPicture)===null||r===void 0?void 0:r.window)===null||i===void 0||i.addEventListener("pagehide",this.onLeavePiP),this.isPiP=yp(this.element),(s=this.handleVisibilityChanged)===null||s===void 0||s.call(this)},this.onLeavePiP=()=>{var r;this.isPiP=yp(this.element),(r=this.handleVisibilityChanged)===null||r===void 0||r.call(this)},this.element=e,this.isIntersecting=n??G_(e),this.isPiP=so()&&yp(e),this.visibilityChangedAt=0}width(){return this.element.clientWidth}height(){return this.element.clientHeight}observe(){var e,n,r;this.isIntersecting=G_(this.element),this.isPiP=yp(this.element),this.element.handleResize=()=>{var i;(i=this.handleResize)===null||i===void 0||i.call(this)},this.element.handleVisibilityChanged=this.onVisibilityChanged,jR().observe(this.element),VR().observe(this.element),this.element.addEventListener("enterpictureinpicture",this.onEnterPiP),this.element.addEventListener("leavepictureinpicture",this.onLeavePiP),(e=window.documentPictureInPicture)===null||e===void 0||e.addEventListener("enter",this.onEnterPiP),(r=(n=window.documentPictureInPicture)===null||n===void 0?void 0:n.window)===null||r===void 0||r.addEventListener("pagehide",this.onLeavePiP)}stopObserving(){var e,n,r,i,s;(e=jR())===null||e===void 0||e.unobserve(this.element),(n=VR())===null||n===void 0||n.unobserve(this.element),this.element.removeEventListener("enterpictureinpicture",this.onEnterPiP),this.element.removeEventListener("leavepictureinpicture",this.onLeavePiP),(r=window.documentPictureInPicture)===null||r===void 0||r.removeEventListener("enter",this.onEnterPiP),(s=(i=window.documentPictureInPicture)===null||i===void 0?void 0:i.window)===null||s===void 0||s.removeEventListener("pagehide",this.onLeavePiP)}}function yp(t){var e,n;return document.pictureInPictureElement===t?!0:!((e=window.documentPictureInPicture)===null||e===void 0)&&e.window?G_(t,(n=window.documentPictureInPicture)===null||n===void 0?void 0:n.window):!1}function G_(t,e){const n=e||window;let r=t.offsetTop,i=t.offsetLeft;const s=t.offsetWidth,o=t.offsetHeight,{hidden:a}=t,{display:l}=getComputedStyle(t);for(;t.offsetParent;)t=t.offsetParent,r+=t.offsetTop,i+=t.offsetLeft;return r<n.pageYOffset+n.innerHeight&&i<n.pageXOffset+n.innerWidth&&r+o>n.pageYOffset&&i+s>n.pageXOffset&&!a&&l!=="none"}class $c extends pc.EventEmitter{constructor(e,n,r,i){var s;super(),this.metadataMuted=!1,this.encryption=bi.NONE,this.log=pn,this.handleMuted=()=>{this.emit(Je.Muted)},this.handleUnmuted=()=>{this.emit(Je.Unmuted)},this.log=ou((s=i?.loggerName)!==null&&s!==void 0?s:gl.Publication),this.loggerContextCb=this.loggerContextCb,this.setMaxListeners(100),this.kind=e,this.trackSid=n,this.trackName=r,this.source=Ee.Source.Unknown}setTrack(e){this.track&&(this.track.off(Je.Muted,this.handleMuted),this.track.off(Je.Unmuted,this.handleUnmuted)),this.track=e,e&&(e.on(Je.Muted,this.handleMuted),e.on(Je.Unmuted,this.handleUnmuted))}get logContext(){var e;return Object.assign(Object.assign({},(e=this.loggerContextCb)===null||e===void 0?void 0:e.call(this)),yn(this))}get isMuted(){return this.metadataMuted}get isEnabled(){return!0}get isSubscribed(){return this.track!==void 0}get isEncrypted(){return this.encryption!==bi.NONE}get audioTrack(){if(ec(this.track))return this.track}get videoTrack(){if(Pd(this.track))return this.track}updateInfo(e){this.trackSid=e.sid,this.trackName=e.name,this.source=Ee.sourceFromProto(e.source),this.mimeType=e.mimeType,this.kind===Ee.Kind.Video&&e.width>0&&(this.dimensions={width:e.width,height:e.height},this.simulcasted=e.simulcast),this.encryption=e.encryption,this.trackInfo=e,this.log.debug("update publication info",Object.assign(Object.assign({},this.logContext),{info:e}))}}(function(t){(function(e){e.Desired="desired",e.Subscribed="subscribed",e.Unsubscribed="unsubscribed"})(t.SubscriptionStatus||(t.SubscriptionStatus={})),function(e){e.Allowed="allowed",e.NotAllowed="not_allowed"}(t.PermissionStatus||(t.PermissionStatus={}))})($c||($c={}));class Z_ extends $c{get isUpstreamPaused(){var e;return(e=this.track)===null||e===void 0?void 0:e.isUpstreamPaused}constructor(e,n,r,i){super(e,n.sid,n.name,i),this.track=void 0,this.handleTrackEnded=()=>{this.emit(Je.Ended)},this.handleCpuConstrained=()=>{this.track&&Pd(this.track)&&this.emit(Je.CpuConstrained,this.track)},this.updateInfo(n),this.setTrack(r)}setTrack(e){this.track&&(this.track.off(Je.Ended,this.handleTrackEnded),this.track.off(Je.CpuConstrained,this.handleCpuConstrained)),super.setTrack(e),e&&(e.on(Je.Ended,this.handleTrackEnded),e.on(Je.CpuConstrained,this.handleCpuConstrained))}get isMuted(){return this.track?this.track.isMuted:super.isMuted}get audioTrack(){return super.audioTrack}get videoTrack(){return super.videoTrack}get isLocal(){return!0}mute(){return J(this,void 0,void 0,function*(){var e;return(e=this.track)===null||e===void 0?void 0:e.mute()})}unmute(){return J(this,void 0,void 0,function*(){var e;return(e=this.track)===null||e===void 0?void 0:e.unmute()})}pauseUpstream(){return J(this,void 0,void 0,function*(){var e;yield(e=this.track)===null||e===void 0?void 0:e.pauseUpstream()})}resumeUpstream(){return J(this,void 0,void 0,function*(){var e;yield(e=this.track)===null||e===void 0?void 0:e.resumeUpstream()})}getTrackFeatures(){var e;if(ec(this.track)){const n=this.track.getSourceTrackSettings(),r=new Set;return n.autoGainControl&&r.add(Ai.TF_AUTO_GAIN_CONTROL),n.echoCancellation&&r.add(Ai.TF_ECHO_CANCELLATION),n.noiseSuppression&&r.add(Ai.TF_NOISE_SUPPRESSION),n.channelCount&&n.channelCount>1&&r.add(Ai.TF_STEREO),!((e=this.options)===null||e===void 0)&&e.dtx||r.add(Ai.TF_NO_DTX),this.track.enhancedNoiseCancellation&&r.add(Ai.TF_ENHANCED_NOISE_CANCELLATION),Array.from(r.values())}else return[]}}function ww(t,e){return J(this,void 0,void 0,function*(){t??(t={});let n=!1;const{audioProcessor:r,videoProcessor:i,optionsWithoutProcessor:s}=RW(t);let o=s.audio,a=s.video;if(r&&typeof s.audio=="object"&&(s.audio.processor=r),i&&typeof s.video=="object"&&(s.video.processor=i),t.audio&&typeof s.audio=="object"&&typeof s.audio.deviceId=="string"){const h=s.audio.deviceId;s.audio.deviceId={exact:h},n=!0,o=Object.assign(Object.assign({},s.audio),{deviceId:{ideal:h}})}if(s.video&&typeof s.video=="object"&&typeof s.video.deviceId=="string"){const h=s.video.deviceId;s.video.deviceId={exact:h},n=!0,a=Object.assign(Object.assign({},s.video),{deviceId:{ideal:h}})}(s.audio===!0||typeof s.audio=="object"&&!s.audio.deviceId)&&(s.audio={deviceId:"default"}),s.video===!0?s.video={deviceId:"default"}:typeof s.video=="object"&&!s.video.deviceId&&(s.video.deviceId="default");const l=DW(s,IW,$W),c=M6(l),d=navigator.mediaDevices.getUserMedia(c);s.audio&&(Mi.userMediaPromiseMap.set("audioinput",d),d.catch(()=>Mi.userMediaPromiseMap.delete("audioinput"))),s.video&&(Mi.userMediaPromiseMap.set("videoinput",d),d.catch(()=>Mi.userMediaPromiseMap.delete("videoinput")));try{const h=yield d;return yield Promise.all(h.getTracks().map(f=>J(this,void 0,void 0,function*(){const m=f.kind==="audio";let g=m?l.audio:l.video;(typeof g=="boolean"||!g)&&(g={});let p;const v=m?c.audio:c.video;typeof v!="boolean"&&(p=v);const b=f.getSettings().deviceId;p?.deviceId&&od(p.deviceId)!==b?p.deviceId=b:p||(p={deviceId:b});const y=MFe(f,p,e);return y.kind===Ee.Kind.Video?y.source=Ee.Source.Camera:y.kind===Ee.Kind.Audio&&(y.source=Ee.Source.Microphone),y.mediaStream=h,ec(y)&&r?yield y.setProcessor(r):Pd(y)&&i&&(yield y.setProcessor(i)),y})))}catch(h){if(!n)throw h;return ww(Object.assign(Object.assign({},t),{audio:o,video:a}),e)}})}function iBe(t){return J(this,void 0,void 0,function*(){return(yield ww({audio:!1,video:!0}))[0]})}function sBe(t){return J(this,void 0,void 0,function*(){return(yield ww({audio:!0,video:!1}))[0]})}var Uu;(function(t){t.Excellent="excellent",t.Good="good",t.Poor="poor",t.Lost="lost",t.Unknown="unknown"})(Uu||(Uu={}));function oBe(t){switch(t){case Up.EXCELLENT:return Uu.Excellent;case Up.GOOD:return Uu.Good;case Up.POOR:return Uu.Poor;case Up.LOST:return Uu.Lost;default:return Uu.Unknown}}class jW extends pc.EventEmitter{get logContext(){var e,n;return Object.assign({},(n=(e=this.loggerOptions)===null||e===void 0?void 0:e.loggerContextCb)===null||n===void 0?void 0:n.call(e))}get isEncrypted(){return this.trackPublications.size>0&&Array.from(this.trackPublications.values()).every(e=>e.isEncrypted)}get isAgent(){var e;return((e=this.permissions)===null||e===void 0?void 0:e.agent)||this.kind===cv.AGENT}get isActive(){var e;return((e=this.participantInfo)===null||e===void 0?void 0:e.state)===xm.ACTIVE}get kind(){return this._kind}get attributes(){return Object.freeze(Object.assign({},this._attributes))}constructor(e,n,r,i,s,o){let a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:cv.STANDARD;var l;super(),this.audioLevel=0,this.isSpeaking=!1,this._connectionQuality=Uu.Unknown,this.log=pn,this.log=ou((l=o?.loggerName)!==null&&l!==void 0?l:gl.Participant),this.loggerOptions=o,this.setMaxListeners(100),this.sid=e,this.identity=n,this.name=r,this.metadata=i,this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.trackPublications=new Map,this._kind=a,this._attributes=s??{}}getTrackPublications(){return Array.from(this.trackPublications.values())}getTrackPublication(e){for(const[,n]of this.trackPublications)if(n.source===e)return n}getTrackPublicationByName(e){for(const[,n]of this.trackPublications)if(n.trackName===e)return n}waitUntilActive(){return this.isActive?Promise.resolve():this.activeFuture?this.activeFuture.promise:(this.activeFuture=new Sa,this.once(we.Active,()=>{var e,n;(n=(e=this.activeFuture)===null||e===void 0?void 0:e.resolve)===null||n===void 0||n.call(e),this.activeFuture=void 0}),this.activeFuture.promise)}get connectionQuality(){return this._connectionQuality}get isCameraEnabled(){var e;const n=this.getTrackPublication(Ee.Source.Camera);return!(!((e=n?.isMuted)!==null&&e!==void 0)||e)}get isMicrophoneEnabled(){var e;const n=this.getTrackPublication(Ee.Source.Microphone);return!(!((e=n?.isMuted)!==null&&e!==void 0)||e)}get isScreenShareEnabled(){return!!this.getTrackPublication(Ee.Source.ScreenShare)}get isLocal(){return!1}get joinedAt(){return this.participantInfo?new Date(Number.parseInt(this.participantInfo.joinedAt.toString())*1e3):new Date}updateInfo(e){var n;return this.participantInfo&&this.participantInfo.sid===e.sid&&this.participantInfo.version>e.version?!1:(this.identity=e.identity,this.sid=e.sid,this._setName(e.name),this._setMetadata(e.metadata),this._setAttributes(e.attributes),e.state===xm.ACTIVE&&((n=this.participantInfo)===null||n===void 0?void 0:n.state)!==xm.ACTIVE&&this.emit(we.Active),e.permission&&this.setPermissions(e.permission),this.participantInfo=e,!0)}_setMetadata(e){const n=this.metadata!==e,r=this.metadata;this.metadata=e,n&&this.emit(we.ParticipantMetadataChanged,r)}_setName(e){const n=this.name!==e;this.name=e,n&&this.emit(we.ParticipantNameChanged,e)}_setAttributes(e){const n=nFe(this.attributes,e);this._attributes=e,Object.keys(n).length>0&&this.emit(we.AttributesChanged,n)}setPermissions(e){var n,r,i,s,o,a;const l=this.permissions,c=e.canPublish!==((n=this.permissions)===null||n===void 0?void 0:n.canPublish)||e.canSubscribe!==((r=this.permissions)===null||r===void 0?void 0:r.canSubscribe)||e.canPublishData!==((i=this.permissions)===null||i===void 0?void 0:i.canPublishData)||e.hidden!==((s=this.permissions)===null||s===void 0?void 0:s.hidden)||e.recorder!==((o=this.permissions)===null||o===void 0?void 0:o.recorder)||e.canPublishSources.length!==this.permissions.canPublishSources.length||e.canPublishSources.some((d,h)=>{var f;return d!==((f=this.permissions)===null||f===void 0?void 0:f.canPublishSources[h])})||e.canSubscribeMetrics!==((a=this.permissions)===null||a===void 0?void 0:a.canSubscribeMetrics);return this.permissions=e,c&&this.emit(we.ParticipantPermissionsChanged,l),c}setIsSpeaking(e){e!==this.isSpeaking&&(this.isSpeaking=e,e&&(this.lastSpokeAt=new Date),this.emit(we.IsSpeakingChanged,e))}setConnectionQuality(e){const n=this._connectionQuality;this._connectionQuality=oBe(e),n!==this._connectionQuality&&this.emit(we.ConnectionQualityChanged,this._connectionQuality)}setDisconnected(){var e,n;this.activeFuture&&((n=(e=this.activeFuture).reject)===null||n===void 0||n.call(e,new Error("Participant disconnected")),this.activeFuture=void 0)}setAudioContext(e){this.audioContext=e,this.audioTrackPublications.forEach(n=>ec(n.track)&&n.track.setAudioContext(e))}addTrackPublication(e){e.on(Je.Muted,()=>{this.emit(we.TrackMuted,e)}),e.on(Je.Unmuted,()=>{this.emit(we.TrackUnmuted,e)});const n=e;switch(n.track&&(n.track.sid=e.trackSid),this.trackPublications.set(e.trackSid,e),e.kind){case Ee.Kind.Audio:this.audioTrackPublications.set(e.trackSid,e);break;case Ee.Kind.Video:this.videoTrackPublications.set(e.trackSid,e);break}}}function aBe(t){var e,n,r;if(!t.participantSid&&!t.participantIdentity)throw new Error("Invalid track permission, must provide at least one of participantIdentity and participantSid");return new UH({participantIdentity:(e=t.participantIdentity)!==null&&e!==void 0?e:"",participantSid:(n=t.participantSid)!==null&&n!==void 0?n:"",allTracks:(r=t.allowAll)!==null&&r!==void 0?r:!1,trackSids:t.allowedTrackSids||[]})}class qW extends jW{constructor(e,n,r,i,s,o){super(e,n,void 0,void 0,void 0,{loggerName:i.loggerName,loggerContextCb:()=>this.engine.logContext}),this.pendingPublishing=new Set,this.pendingPublishPromises=new Map,this.participantTrackPermissions=[],this.allParticipantsAllowedToSubscribe=!0,this.encryptionType=bi.NONE,this.enabledPublishVideoCodecs=[],this.pendingAcks=new Map,this.pendingResponses=new Map,this.handleReconnecting=()=>{this.reconnectFuture||(this.reconnectFuture=new Sa)},this.handleReconnected=()=>{var a,l;(l=(a=this.reconnectFuture)===null||a===void 0?void 0:a.resolve)===null||l===void 0||l.call(a),this.reconnectFuture=void 0,this.updateTrackSubscriptionPermissions()},this.handleClosing=()=>{var a,l,c,d,h,f;this.reconnectFuture&&(this.reconnectFuture.promise.catch(m=>this.log.warn(m.message,this.logContext)),(l=(a=this.reconnectFuture)===null||a===void 0?void 0:a.reject)===null||l===void 0||l.call(a,"Got disconnected during reconnection attempt"),this.reconnectFuture=void 0),this.signalConnectedFuture&&((d=(c=this.signalConnectedFuture).reject)===null||d===void 0||d.call(c,"Got disconnected without signal connected"),this.signalConnectedFuture=void 0),(f=(h=this.activeAgentFuture)===null||h===void 0?void 0:h.reject)===null||f===void 0||f.call(h,"Got disconnected without active agent present"),this.activeAgentFuture=void 0,this.firstActiveAgent=void 0},this.handleSignalConnected=a=>{var l,c;a.participant&&this.updateInfo(a.participant),this.signalConnectedFuture||(this.signalConnectedFuture=new Sa),(c=(l=this.signalConnectedFuture).resolve)===null||c===void 0||c.call(l)},this.handleSignalRequestResponse=a=>{const{requestId:l,reason:c,message:d}=a,h=this.pendingSignalRequests.get(l);h&&(c!==D6.OK&&h.reject(new NR(d,c)),this.pendingSignalRequests.delete(l))},this.handleDataPacket=a=>{switch(a.value.case){case"rpcResponse":let l=a.value.value,c=null,d=null;l.value.case==="payload"?c=l.value.value:l.value.case==="error"&&(d=Ur.fromProto(l.value.value)),this.handleIncomingRpcResponse(l.requestId,c,d);break;case"rpcAck":let h=a.value.value;this.handleIncomingRpcAck(h.requestId);break}},this.updateTrackSubscriptionPermissions=()=>{this.log.debug("updating track subscription permissions",Object.assign(Object.assign({},this.logContext),{allParticipantsAllowed:this.allParticipantsAllowedToSubscribe,participantTrackPermissions:this.participantTrackPermissions})),this.engine.client.sendUpdateSubscriptionPermissions(this.allParticipantsAllowedToSubscribe,this.participantTrackPermissions.map(a=>aBe(a)))},this.onTrackUnmuted=a=>{this.onTrackMuted(a,a.isUpstreamPaused)},this.onTrackMuted=(a,l)=>{if(l===void 0&&(l=!0),!a.sid){this.log.error("could not update mute status for unpublished track",Object.assign(Object.assign({},this.logContext),yn(a)));return}this.engine.updateMuteStatus(a.sid,l)},this.onTrackUpstreamPaused=a=>{this.log.debug("upstream paused",Object.assign(Object.assign({},this.logContext),yn(a))),this.onTrackMuted(a,!0)},this.onTrackUpstreamResumed=a=>{this.log.debug("upstream resumed",Object.assign(Object.assign({},this.logContext),yn(a))),this.onTrackMuted(a,a.isMuted)},this.onTrackFeatureUpdate=a=>{const l=this.audioTrackPublications.get(a.sid);if(!l){this.log.warn("Could not update local audio track settings, missing publication for track ".concat(a.sid),this.logContext);return}this.engine.client.sendUpdateLocalAudioTrack(l.trackSid,l.getTrackFeatures())},this.onTrackCpuConstrained=(a,l)=>{this.log.debug("track cpu constrained",Object.assign(Object.assign({},this.logContext),yn(l))),this.emit(we.LocalTrackCpuConstrained,a,l)},this.handleSubscribedQualityUpdate=a=>J(this,void 0,void 0,function*(){var l,c,d,h,f;if(!(!((f=this.roomOptions)===null||f===void 0)&&f.dynacast))return;const m=this.videoTrackPublications.get(a.trackSid);if(!m){this.log.warn("received subscribed quality update for unknown track",Object.assign(Object.assign({},this.logContext),{trackSid:a.trackSid}));return}if(!m.videoTrack)return;const g=yield m.videoTrack.setPublishingCodecs(a.subscribedCodecs);try{for(var p=!0,v=Qc(g),b;b=yield v.next(),l=b.done,!l;p=!0){h=b.value,p=!1;const y=h;MNe(y)&&(this.log.debug("publish ".concat(y," for ").concat(m.videoTrack.sid),Object.assign(Object.assign({},this.logContext),yn(m))),yield this.publishAdditionalCodecForTrack(m.videoTrack,y,m.options))}}catch(y){c={error:y}}finally{try{!p&&!l&&(d=v.return)&&(yield d.call(v))}finally{if(c)throw c.error}}}),this.handleLocalTrackUnpublished=a=>{const l=this.trackPublications.get(a.trackSid);if(!l){this.log.warn("received unpublished event for unknown track",Object.assign(Object.assign({},this.logContext),{trackSid:a.trackSid}));return}this.unpublishTrack(l.track)},this.handleTrackEnded=a=>J(this,void 0,void 0,function*(){if(a.source===Ee.Source.ScreenShare||a.source===Ee.Source.ScreenShareAudio)this.log.debug("unpublishing local track due to TrackEnded",Object.assign(Object.assign({},this.logContext),yn(a))),this.unpublishTrack(a);else if(a.isUserProvided)yield a.mute();else if(Tc(a)||Ru(a))try{if(so())try{const l=yield navigator?.permissions.query({name:a.source===Ee.Source.Camera?"camera":"microphone"});if(l&&l.state==="denied")throw this.log.warn("user has revoked access to ".concat(a.source),Object.assign(Object.assign({},this.logContext),yn(a))),l.onchange=()=>{l.state!=="denied"&&(a.isMuted||a.restartTrack(),l.onchange=null)},new Error("GetUserMedia Permission denied")}catch{}a.isMuted||(this.log.debug("track ended, attempting to use a different device",Object.assign(Object.assign({},this.logContext),yn(a))),Tc(a)?yield a.restartTrack({deviceId:"default"}):yield a.restartTrack())}catch{this.log.warn("could not restart track, muting instead",Object.assign(Object.assign({},this.logContext),yn(a))),yield a.mute()}}),this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.trackPublications=new Map,this.engine=r,this.roomOptions=i,this.setupEngine(r),this.activeDeviceMap=new Map([["audioinput","default"],["videoinput","default"],["audiooutput","default"]]),this.pendingSignalRequests=new Map,this.rpcHandlers=s,this.roomOutgoingDataStreamManager=o}get lastCameraError(){return this.cameraError}get lastMicrophoneError(){return this.microphoneError}get isE2EEEnabled(){return this.encryptionType!==bi.NONE}getTrackPublication(e){const n=super.getTrackPublication(e);if(n)return n}getTrackPublicationByName(e){const n=super.getTrackPublicationByName(e);if(n)return n}setupEngine(e){var n;this.engine=e,this.engine.on(it.RemoteMute,(r,i)=>{const s=this.trackPublications.get(r);!s||!s.track||(i?s.mute():s.unmute())}),!((n=this.signalConnectedFuture)===null||n===void 0)&&n.isResolved&&(this.signalConnectedFuture=void 0),this.engine.on(it.Connected,this.handleReconnected).on(it.SignalConnected,this.handleSignalConnected).on(it.SignalRestarted,this.handleReconnected).on(it.SignalResumed,this.handleReconnected).on(it.Restarting,this.handleReconnecting).on(it.Resuming,this.handleReconnecting).on(it.LocalTrackUnpublished,this.handleLocalTrackUnpublished).on(it.SubscribedQualityUpdate,this.handleSubscribedQualityUpdate).on(it.Closing,this.handleClosing).on(it.SignalRequestResponse,this.handleSignalRequestResponse).on(it.DataPacketReceived,this.handleDataPacket)}setMetadata(e){return J(this,void 0,void 0,function*(){yield this.requestMetadataUpdate({metadata:e})})}setName(e){return J(this,void 0,void 0,function*(){yield this.requestMetadataUpdate({name:e})})}setAttributes(e){return J(this,void 0,void 0,function*(){yield this.requestMetadataUpdate({attributes:e})})}requestMetadataUpdate(e){return J(this,arguments,void 0,function(n){var r=this;let{metadata:i,name:s,attributes:o}=n;return function*(){return new Promise((a,l)=>J(r,void 0,void 0,function*(){var c,d;try{let h=!1;const f=yield this.engine.client.sendUpdateLocalMetadata((c=i??this.metadata)!==null&&c!==void 0?c:"",(d=s??this.name)!==null&&d!==void 0?d:"",o),m=performance.now();for(this.pendingSignalRequests.set(f,{resolve:a,reject:g=>{l(g),h=!0},values:{name:s,metadata:i,attributes:o}});performance.now()-m<5e3&&!h;){if((!s||this.name===s)&&(!i||this.metadata===i)&&(!o||Object.entries(o).every(g=>{let[p,v]=g;return this.attributes[p]===v||v===""&&!this.attributes[p]}))){this.pendingSignalRequests.delete(f),a();return}yield Fs(50)}l(new NR("Request to update local metadata timed out","TimeoutError"))}catch(h){h instanceof Error&&l(h)}}))}()})}setCameraEnabled(e,n,r){return this.setTrackEnabled(Ee.Source.Camera,e,n,r)}setMicrophoneEnabled(e,n,r){return this.setTrackEnabled(Ee.Source.Microphone,e,n,r)}setScreenShareEnabled(e,n,r){return this.setTrackEnabled(Ee.Source.ScreenShare,e,n,r)}setE2EEEnabled(e){return J(this,void 0,void 0,function*(){this.encryptionType=e?bi.GCM:bi.NONE,yield this.republishAllTracks(void 0,!1)})}setTrackEnabled(e,n,r,i){return J(this,void 0,void 0,function*(){var s,o;this.log.debug("setTrackEnabled",Object.assign(Object.assign({},this.logContext),{source:e,enabled:n})),this.republishPromise&&(yield this.republishPromise);let a=this.getTrackPublication(e);if(n)if(a)yield a.unmute();else{let l;if(this.pendingPublishing.has(e)){const c=yield this.waitForPendingPublicationOfSource(e);return c||this.log.info("waiting for pending publication promise timed out",Object.assign(Object.assign({},this.logContext),{source:e})),yield c?.unmute(),c}this.pendingPublishing.add(e);try{switch(e){case Ee.Source.Camera:l=yield this.createTracks({video:(s=r)!==null&&s!==void 0?s:!0});break;case Ee.Source.Microphone:l=yield this.createTracks({audio:(o=r)!==null&&o!==void 0?o:!0});break;case Ee.Source.ScreenShare:l=yield this.createScreenTracks(Object.assign({},r));break;default:throw new Uc(e)}}catch(c){throw l?.forEach(d=>{d.stop()}),c instanceof Error&&this.emit(we.MediaDevicesError,c,q_(e)),this.pendingPublishing.delete(e),c}for(const c of l){const d=Object.assign(Object.assign({},this.roomOptions.publishDefaults),r);e===Ee.Source.Microphone&&ec(c)&&d.preConnectBuffer&&(this.log.info("starting preconnect buffer for microphone",Object.assign({},this.logContext)),c.startPreConnectBuffer())}try{const c=[];for(const h of l)this.log.info("publishing track",Object.assign(Object.assign({},this.logContext),yn(h))),c.push(this.publishTrack(h,i));[a]=yield Promise.all(c)}catch(c){throw l?.forEach(d=>{d.stop()}),c}finally{this.pendingPublishing.delete(e)}}else if(!a?.track&&this.pendingPublishing.has(e)&&(a=yield this.waitForPendingPublicationOfSource(e),a||this.log.info("waiting for pending publication promise timed out",Object.assign(Object.assign({},this.logContext),{source:e}))),a&&a.track)if(e===Ee.Source.ScreenShare){a=yield this.unpublishTrack(a.track);const l=this.getTrackPublication(Ee.Source.ScreenShareAudio);l&&l.track&&this.unpublishTrack(l.track)}else yield a.mute();return a})}enableCameraAndMicrophone(){return J(this,void 0,void 0,function*(){if(!(this.pendingPublishing.has(Ee.Source.Camera)||this.pendingPublishing.has(Ee.Source.Microphone))){this.pendingPublishing.add(Ee.Source.Camera),this.pendingPublishing.add(Ee.Source.Microphone);try{const e=yield this.createTracks({audio:!0,video:!0});yield Promise.all(e.map(n=>this.publishTrack(n)))}finally{this.pendingPublishing.delete(Ee.Source.Camera),this.pendingPublishing.delete(Ee.Source.Microphone)}}})}createTracks(e){return J(this,void 0,void 0,function*(){var n,r;e??(e={});const i=DW(e,(n=this.roomOptions)===null||n===void 0?void 0:n.audioCaptureDefaults,(r=this.roomOptions)===null||r===void 0?void 0:r.videoCaptureDefaults);try{return(yield ww(i,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext})).map(a=>(ec(a)&&(this.microphoneError=void 0,a.setAudioContext(this.audioContext),a.source=Ee.Source.Microphone,this.emit(we.AudioStreamAcquired)),Pd(a)&&(this.cameraError=void 0,a.source=Ee.Source.Camera),a))}catch(s){throw s instanceof Error&&(e.audio&&(this.microphoneError=s),e.video&&(this.cameraError=s)),s}})}createScreenTracks(e){return J(this,void 0,void 0,function*(){if(e===void 0&&(e={}),navigator.mediaDevices.getDisplayMedia===void 0)throw new P6("getDisplayMedia not supported");e.resolution===void 0&&!BNe()&&(e.resolution=R6.h1080fps30.resolution);const n=JNe(e),r=yield navigator.mediaDevices.getDisplayMedia(n),i=r.getVideoTracks();if(i.length===0)throw new Uc("no video track found");const s=new z2(i[0],void 0,!1,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});s.source=Ee.Source.ScreenShare,e.contentHint&&(s.mediaStreamTrack.contentHint=e.contentHint);const o=[s];if(r.getAudioTracks().length>0){this.emit(we.AudioStreamAcquired);const a=new B2(r.getAudioTracks()[0],void 0,!1,this.audioContext,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});a.source=Ee.Source.ScreenShareAudio,o.push(a)}return o})}publishTrack(e,n){return J(this,void 0,void 0,function*(){return this.publishOrRepublishTrack(e,n)})}publishOrRepublishTrack(e,n){return J(this,arguments,void 0,function(r,i){var s=this;let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return function*(){var a,l,c,d;Tc(r)&&r.setAudioContext(s.audioContext),yield(a=s.reconnectFuture)===null||a===void 0?void 0:a.promise,s.republishPromise&&!o&&(yield s.republishPromise),Tm(r)&&s.pendingPublishPromises.has(r)&&(yield s.pendingPublishPromises.get(r));let h;if(r instanceof MediaStreamTrack)h=r.getConstraints();else{h=r.constraints;let b;switch(r.source){case Ee.Source.Microphone:b="audioinput";break;case Ee.Source.Camera:b="videoinput"}b&&s.activeDeviceMap.has(b)&&(h=Object.assign(Object.assign({},h),{deviceId:s.activeDeviceMap.get(b)}))}if(r instanceof MediaStreamTrack)switch(r.kind){case"audio":r=new B2(r,h,!0,s.audioContext,{loggerName:s.roomOptions.loggerName,loggerContextCb:()=>s.logContext});break;case"video":r=new z2(r,h,!0,{loggerName:s.roomOptions.loggerName,loggerContextCb:()=>s.logContext});break;default:throw new Uc("unsupported MediaStreamTrack kind ".concat(r.kind))}else r.updateLoggerOptions({loggerName:s.roomOptions.loggerName,loggerContextCb:()=>s.logContext});let f;if(s.trackPublications.forEach(b=>{b.track&&b.track===r&&(f=b)}),f)return s.log.warn("track has already been published, skipping",Object.assign(Object.assign({},s.logContext),yn(f))),f;const m=Object.assign(Object.assign({},s.roomOptions.publishDefaults),i),g="channelCount"in r.mediaStreamTrack.getSettings()&&r.mediaStreamTrack.getSettings().channelCount===2||r.mediaStreamTrack.getConstraints().channelCount===2,p=(l=m.forceStereo)!==null&&l!==void 0?l:g;p&&(m.dtx===void 0&&s.log.info("Opus DTX will be disabled for stereo tracks by default. Enable them explicitly to make it work.",Object.assign(Object.assign({},s.logContext),yn(r))),m.red===void 0&&s.log.info("Opus RED will be disabled for stereo tracks by default. Enable them explicitly to make it work."),(c=m.dtx)!==null&&c!==void 0||(m.dtx=!1),(d=m.red)!==null&&d!==void 0||(m.red=!1)),!QNe()&&s.roomOptions.e2ee&&(s.log.info("End-to-end encryption is set up, simulcast publishing will be disabled on Safari versions and iOS browsers running iOS < v17.2",Object.assign({},s.logContext)),m.simulcast=!1),m.source&&(r.source=m.source);const v=new Promise((b,y)=>J(s,void 0,void 0,function*(){try{if(this.engine.client.currentState!==Ir.CONNECTED){this.log.debug("deferring track publication until signal is connected",Object.assign(Object.assign({},this.logContext),{track:yn(r)}));const C=setTimeout(()=>{y(new LR("publishing rejected as engine not connected within timeout",408))},15e3);yield this.waitUntilEngineConnected(),clearTimeout(C);const x=yield this.publish(r,m,p);b(x)}else try{const C=yield this.publish(r,m,p);b(C)}catch(C){y(C)}}catch(C){y(C)}}));s.pendingPublishPromises.set(r,v);try{return yield v}catch(b){throw b}finally{s.pendingPublishPromises.delete(r)}}()})}waitUntilEngineConnected(){return this.signalConnectedFuture||(this.signalConnectedFuture=new Sa),this.signalConnectedFuture.promise}hasPermissionsToPublish(e){if(!this.permissions)return this.log.warn("no permissions present for publishing track",Object.assign(Object.assign({},this.logContext),yn(e))),!1;const{canPublish:n,canPublishSources:r}=this.permissions;return n&&(r.length===0||r.map(i=>rFe(i)).includes(e.source))?!0:(this.log.warn("insufficient permissions to publish",Object.assign(Object.assign({},this.logContext),yn(e))),!1)}publish(e,n,r){return J(this,void 0,void 0,function*(){var i,s,o,a,l,c,d,h,f,m;if(!this.hasPermissionsToPublish(e))throw new LR("failed to publish track, insufficient permissions",403);Array.from(this.trackPublications.values()).find(M=>Tm(e)&&M.source===e.source)&&e.source!==Ee.Source.Unknown&&this.log.info("publishing a second track with the same source: ".concat(e.source),Object.assign(Object.assign({},this.logContext),yn(e))),n.stopMicTrackOnMute&&ec(e)&&(e.stopOnMute=!0),e.source===Ee.Source.ScreenShare&&Vh()&&(n.simulcast=!1),n.videoCodec==="av1"&&!LNe()&&(n.videoCodec=void 0),n.videoCodec==="vp9"&&!NNe()&&(n.videoCodec=void 0),n.videoCodec===void 0&&(n.videoCodec=H_),this.enabledPublishVideoCodecs.length>0&&(this.enabledPublishVideoCodecs.some(M=>n.videoCodec===d0(M.mime))||(n.videoCodec=d0(this.enabledPublishVideoCodecs[0].mime)));const p=n.videoCodec;e.on(Je.Muted,this.onTrackMuted),e.on(Je.Unmuted,this.onTrackUnmuted),e.on(Je.Ended,this.handleTrackEnded),e.on(Je.UpstreamPaused,this.onTrackUpstreamPaused),e.on(Je.UpstreamResumed,this.onTrackUpstreamResumed),e.on(Je.AudioTrackFeatureUpdate,this.onTrackFeatureUpdate);const v=[],b=!(!((i=n.dtx)!==null&&i!==void 0)||i),y=e.getSourceTrackSettings();y.autoGainControl&&v.push(Ai.TF_AUTO_GAIN_CONTROL),y.echoCancellation&&v.push(Ai.TF_ECHO_CANCELLATION),y.noiseSuppression&&v.push(Ai.TF_NOISE_SUPPRESSION),y.channelCount&&y.channelCount>1&&v.push(Ai.TF_STEREO),b&&v.push(Ai.TF_NO_DTX),Tc(e)&&e.hasPreConnectBuffer&&v.push(Ai.TF_PRECONNECT_BUFFER);const C=new uv({cid:e.mediaStreamTrack.id,name:n.name,type:Ee.kindToProto(e.kind),muted:e.isMuted,source:Ee.sourceToProto(e.source),disableDtx:b,encryption:this.encryptionType,stereo:r,disableRed:this.isE2EEEnabled||!(!((s=n.red)!==null&&s!==void 0)||s),stream:n?.stream,backupCodecPolicy:n?.backupCodecPolicy,audioFeatures:v});let x;if(e.kind===Ee.Kind.Video){let M={width:0,height:0};try{M=yield e.waitForDimensions()}catch{const L=(a=(o=this.roomOptions.videoCaptureDefaults)===null||o===void 0?void 0:o.resolution)!==null&&a!==void 0?a:dv.h720.resolution;M={width:L.width,height:L.height},this.log.error("could not determine track dimensions, using defaults",Object.assign(Object.assign(Object.assign({},this.logContext),yn(e)),{dims:M}))}C.width=M.width,C.height=M.height,Ru(e)&&(Ql(p)&&(e.source===Ee.Source.ScreenShare&&(n.scalabilityMode="L1T3","contentHint"in e.mediaStreamTrack&&(e.mediaStreamTrack.contentHint="motion",this.log.info("forcing contentHint to motion for screenshare with SVC codecs",Object.assign(Object.assign({},this.logContext),yn(e))))),n.scalabilityMode=(l=n.scalabilityMode)!==null&&l!==void 0?l:"L3T3_KEY"),C.simulcastCodecs=[new C_({codec:p,cid:e.mediaStreamTrack.id})],n.backupCodec===!0&&(n.backupCodec={codec:H_}),n.backupCodec&&p!==n.backupCodec.codec&&C.encryption===bi.NONE&&(this.roomOptions.dynacast||(this.roomOptions.dynacast=!0),C.simulcastCodecs.push(new C_({codec:n.backupCodec.codec,cid:""})))),x=X_(e.source===Ee.Source.ScreenShare,C.width,C.height,n),C.layers=lM(C.width,C.height,x,Ql(n.videoCodec))}else e.kind===Ee.Kind.Audio&&(x=[{maxBitrate:(c=n.audioPreset)===null||c===void 0?void 0:c.maxBitrate,priority:(h=(d=n.audioPreset)===null||d===void 0?void 0:d.priority)!==null&&h!==void 0?h:"high",networkPriority:(m=(f=n.audioPreset)===null||f===void 0?void 0:f.priority)!==null&&m!==void 0?m:"high"}]);if(!this.engine||this.engine.isClosed)throw new fi("cannot publish track when not connected");const O=()=>J(this,void 0,void 0,function*(){var M,P,L;if(!this.engine.pcManager)throw new fi("pcManager is not ready");if(e.sender=yield this.engine.createSender(e,n,x),this.emit(we.LocalSenderCreated,e.sender,e),Ru(e)&&((M=n.degradationPreference)!==null&&M!==void 0||(n.degradationPreference=VFe(e)),e.setDegradationPreference(n.degradationPreference)),x)if(Vh()&&e.kind===Ee.Kind.Audio){let j;for(const te of this.engine.pcManager.publisher.getTransceivers())if(te.sender===e.sender){j=te;break}j&&this.engine.pcManager.publisher.setTrackCodecBitrate({transceiver:j,codec:"opus",maxbr:!((P=x[0])===null||P===void 0)&&P.maxBitrate?x[0].maxBitrate/1e3:0})}else e.codec&&Ql(e.codec)&&(!((L=x[0])===null||L===void 0)&&L.maxBitrate)&&this.engine.pcManager.publisher.setTrackCodecBitrate({cid:C.cid,codec:e.codec,maxbr:x[0].maxBitrate/1e3});yield this.engine.negotiate()});let S;const T=new Promise((M,P)=>J(this,void 0,void 0,function*(){var L;try{S=yield this.engine.addTrack(C),M(S)}catch(j){e.sender&&(!((L=this.engine.pcManager)===null||L===void 0)&&L.publisher)&&(this.engine.pcManager.publisher.removeTrack(e.sender),yield this.engine.negotiate().catch(te=>{this.log.error("failed to negotiate after removing track due to failed add track request",Object.assign(Object.assign(Object.assign({},this.logContext),yn(e)),{error:te}))})),P(j)}}));if(this.enabledPublishVideoCodecs.length>0)S=(yield Promise.all([T,O()]))[0];else{S=yield T;let M;if(S.codecs.forEach(P=>{M===void 0&&(M=P.mimeType)}),M&&e.kind===Ee.Kind.Video){const P=d0(M);P!==p&&(this.log.debug("falling back to server selected codec",Object.assign(Object.assign(Object.assign({},this.logContext),yn(e)),{codec:P})),n.videoCodec=P,x=X_(e.source===Ee.Source.ScreenShare,C.width,C.height,n))}yield O()}const $=new Z_(e.kind,S,e,{loggerName:this.roomOptions.loggerName,loggerContextCb:()=>this.logContext});if($.on(Je.CpuConstrained,M=>this.onTrackCpuConstrained(M,$)),$.options=n,e.sid=S.sid,this.log.debug("publishing ".concat(e.kind," with encodings"),Object.assign(Object.assign({},this.logContext),{encodings:x,trackInfo:S})),Ru(e)?e.startMonitor(this.engine.client):Tc(e)&&e.startMonitor(),this.addTrackPublication($),this.emit(we.LocalTrackPublished,$),Tc(e)&&S.audioFeatures.includes(Ai.TF_PRECONNECT_BUFFER)){const M=e.getPreConnectBuffer(),P=e.getPreConnectBufferMimeType();this.on(we.LocalTrackSubscribed,L=>{if(L.trackSid===S.sid){if(!e.hasPreConnectBuffer){this.log.warn("subscribe event came to late, buffer already closed",this.logContext);return}this.log.debug("finished recording preconnect buffer",Object.assign(Object.assign({},this.logContext),yn(e))),e.stopPreConnectBuffer()}}),M&&new Promise((j,te)=>J(this,void 0,void 0,function*(){var U,N,z,K,re,Q;try{this.log.debug("waiting for agent",Object.assign(Object.assign({},this.logContext),yn(e)));const E=setTimeout(()=>{te(new Error("agent not active within 10 seconds"))},1e4),De=yield this.waitUntilActiveAgentPresent();clearTimeout(E),this.log.debug("sending preconnect buffer",Object.assign(Object.assign({},this.logContext),yn(e)));const pe=yield this.streamBytes({name:"preconnect-buffer",mimeType:P,topic:"lk.agent.pre-connect-audio-buffer",destinationIdentities:[De.identity],attributes:{trackId:$.trackSid,sampleRate:String((re=y.sampleRate)!==null&&re!==void 0?re:"48000"),channels:String((Q=y.channelCount)!==null&&Q!==void 0?Q:"1")}});try{for(var D=!0,se=Qc(M),he;he=yield se.next(),U=he.done,!U;D=!0){K=he.value,D=!1;const ct=K;yield pe.write(ct)}}catch(ct){N={error:ct}}finally{try{!D&&!U&&(z=se.return)&&(yield z.call(se))}finally{if(N)throw N.error}}yield pe.close(),j()}catch(E){te(E)}})).then(()=>{this.log.debug("preconnect buffer sent successfully",Object.assign(Object.assign({},this.logContext),yn(e)))}).catch(j=>{this.log.error("error sending preconnect buffer",Object.assign(Object.assign(Object.assign({},this.logContext),yn(e)),{error:j}))})}return $})}get isLocal(){return!0}publishAdditionalCodecForTrack(e,n,r){return J(this,void 0,void 0,function*(){var i;if(this.encryptionType!==bi.NONE)return;let s;if(this.trackPublications.forEach(m=>{m.track&&m.track===e&&(s=m)}),!s)throw new Uc("track is not published");if(!Ru(e))throw new Uc("track is not a video track");const o=Object.assign(Object.assign({},(i=this.roomOptions)===null||i===void 0?void 0:i.publishDefaults),r),a=zFe(e,n,o);if(!a){this.log.info("backup codec has been disabled, ignoring request to add additional codec for track",Object.assign(Object.assign({},this.logContext),yn(e)));return}const l=e.addSimulcastTrack(n,a);if(!l)return;const c=new uv({cid:l.mediaStreamTrack.id,type:Ee.kindToProto(e.kind),muted:e.isMuted,source:Ee.sourceToProto(e.source),sid:e.sid,simulcastCodecs:[{codec:o.videoCodec,cid:l.mediaStreamTrack.id}]});if(c.layers=lM(c.width,c.height,a),!this.engine||this.engine.isClosed)throw new fi("cannot publish track when not connected");const d=()=>J(this,void 0,void 0,function*(){yield this.engine.createSimulcastSender(e,l,o,a),yield this.engine.negotiate()}),f=(yield Promise.all([this.engine.addTrack(c),d()]))[0];this.log.debug("published ".concat(n," for track ").concat(e.sid),Object.assign(Object.assign({},this.logContext),{encodings:a,trackInfo:f}))})}unpublishTrack(e,n){return J(this,void 0,void 0,function*(){var r,i;if(Tm(e)){const c=this.pendingPublishPromises.get(e);c&&(this.log.info("awaiting publish promise before attempting to unpublish",Object.assign(Object.assign({},this.logContext),yn(e))),yield c)}const s=this.getPublicationForTrack(e),o=s?yn(s):void 0;if(this.log.debug("unpublishing track",Object.assign(Object.assign({},this.logContext),o)),!s||!s.track){this.log.warn("track was not unpublished because no publication was found",Object.assign(Object.assign({},this.logContext),o));return}e=s.track,e.off(Je.Muted,this.onTrackMuted),e.off(Je.Unmuted,this.onTrackUnmuted),e.off(Je.Ended,this.handleTrackEnded),e.off(Je.UpstreamPaused,this.onTrackUpstreamPaused),e.off(Je.UpstreamResumed,this.onTrackUpstreamResumed),e.off(Je.AudioTrackFeatureUpdate,this.onTrackFeatureUpdate),n===void 0&&(n=(i=(r=this.roomOptions)===null||r===void 0?void 0:r.stopLocalTrackOnUnpublish)!==null&&i!==void 0?i:!0),n?e.stop():e.stopMonitor();let a=!1;const l=e.sender;if(e.sender=void 0,this.engine.pcManager&&this.engine.pcManager.currentState<zr.FAILED&&l)try{for(const c of this.engine.pcManager.publisher.getTransceivers())c.sender===l&&(c.direction="inactive",a=!0);if(this.engine.removeTrack(l)&&(a=!0),Ru(e)){for(const[,c]of e.simulcastCodecs)c.sender&&(this.engine.removeTrack(c.sender)&&(a=!0),c.sender=void 0);e.simulcastCodecs.clear()}}catch(c){this.log.warn("failed to unpublish track",Object.assign(Object.assign(Object.assign({},this.logContext),o),{error:c}))}switch(this.trackPublications.delete(s.trackSid),s.kind){case Ee.Kind.Audio:this.audioTrackPublications.delete(s.trackSid);break;case Ee.Kind.Video:this.videoTrackPublications.delete(s.trackSid);break}return this.emit(we.LocalTrackUnpublished,s),s.setTrack(void 0),a&&(yield this.engine.negotiate()),s})}unpublishTracks(e){return J(this,void 0,void 0,function*(){return(yield Promise.all(e.map(r=>this.unpublishTrack(r)))).filter(r=>!!r)})}republishAllTracks(e){return J(this,arguments,void 0,function(n){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return function*(){r.republishPromise&&(yield r.republishPromise),r.republishPromise=new Promise((s,o)=>J(r,void 0,void 0,function*(){try{const a=[];this.trackPublications.forEach(l=>{l.track&&(n&&(l.options=Object.assign(Object.assign({},l.options),n)),a.push(l))}),yield Promise.all(a.map(l=>J(this,void 0,void 0,function*(){const c=l.track;yield this.unpublishTrack(c,!1),i&&!c.isMuted&&c.source!==Ee.Source.ScreenShare&&c.source!==Ee.Source.ScreenShareAudio&&(Tc(c)||Ru(c))&&!c.isUserProvided&&(this.log.debug("restarting existing track",Object.assign(Object.assign({},this.logContext),{track:l.trackSid})),yield c.restartTrack()),yield this.publishOrRepublishTrack(c,l.options,!0)}))),s()}catch(a){o(a)}finally{this.republishPromise=void 0}})),yield r.republishPromise}()})}publishData(e){return J(this,arguments,void 0,function(n){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){const s=i.reliable?fn.RELIABLE:fn.LOSSY,o=i.destinationIdentities,a=i.topic;let l=new O6({participantIdentity:r.identity,payload:n,destinationIdentities:o,topic:a});const c=new Ts({kind:s,value:{case:"user",value:l}});yield r.engine.sendDataPacket(c,s)}()})}publishDtmf(e,n){return J(this,void 0,void 0,function*(){const r=new Ts({kind:fn.RELIABLE,value:{case:"sipDtmf",value:new EH({code:e,digit:n})}});yield this.engine.sendDataPacket(r,fn.RELIABLE)})}sendChatMessage(e,n){return J(this,void 0,void 0,function*(){const r={id:crypto.randomUUID(),message:e,timestamp:Date.now(),attachedFiles:n?.attachments},i=new Ts({value:{case:"chatMessage",value:new I2(Object.assign(Object.assign({},r),{timestamp:Cr.parse(r.timestamp)}))}});return yield this.engine.sendDataPacket(i,fn.RELIABLE),this.emit(we.ChatMessage,r),r})}editChatMessage(e,n){return J(this,void 0,void 0,function*(){const r=Object.assign(Object.assign({},n),{message:e,editTimestamp:Date.now()}),i=new Ts({value:{case:"chatMessage",value:new I2(Object.assign(Object.assign({},r),{timestamp:Cr.parse(r.timestamp),editTimestamp:Cr.parse(r.editTimestamp)}))}});return yield this.engine.sendDataPacket(i,fn.RELIABLE),this.emit(we.ChatMessage,r),r})}sendText(e,n){return J(this,void 0,void 0,function*(){return this.roomOutgoingDataStreamManager.sendText(e,n)})}streamText(e){return J(this,void 0,void 0,function*(){return this.roomOutgoingDataStreamManager.streamText(e)})}sendFile(e,n){return J(this,void 0,void 0,function*(){return this.roomOutgoingDataStreamManager.sendFile(e,n)})}streamBytes(e){return J(this,void 0,void 0,function*(){return this.roomOutgoingDataStreamManager.streamBytes(e)})}performRpc(e){return J(this,arguments,void 0,function(n){var r=this;let{destinationIdentity:i,method:s,payload:o,responseTimeout:a=15e3}=n;return function*(){return new Promise((d,h)=>J(r,void 0,void 0,function*(){var f,m,g,p;if(B6(o)>LW){h(Ur.builtIn("REQUEST_PAYLOAD_TOO_LARGE"));return}if(!((m=(f=this.engine.latestJoinResponse)===null||f===void 0?void 0:f.serverInfo)===null||m===void 0)&&m.version&&oc((p=(g=this.engine.latestJoinResponse)===null||g===void 0?void 0:g.serverInfo)===null||p===void 0?void 0:p.version,"1.8.0")<0){h(Ur.builtIn("UNSUPPORTED_SERVER"));return}const v=Math.max(a,8e3),b=crypto.randomUUID();yield this.publishRpcRequest(i,b,s,o,v);const y=setTimeout(()=>{this.pendingAcks.delete(b),h(Ur.builtIn("CONNECTION_TIMEOUT")),this.pendingResponses.delete(b),clearTimeout(C)},7e3);this.pendingAcks.set(b,{resolve:()=>{clearTimeout(y)},participantIdentity:i});const C=setTimeout(()=>{this.pendingResponses.delete(b),h(Ur.builtIn("RESPONSE_TIMEOUT"))},a);this.pendingResponses.set(b,{resolve:(x,O)=>{clearTimeout(C),this.pendingAcks.has(b)&&(console.warn("RPC response received before ack",b),this.pendingAcks.delete(b),clearTimeout(y)),O?h(O):d(x??"")},participantIdentity:i})}))}()})}registerRpcMethod(e,n){this.rpcHandlers.has(e)&&this.log.warn("you're overriding the RPC handler for method ".concat(e,", in the future this will throw an error")),this.rpcHandlers.set(e,n)}unregisterRpcMethod(e){this.rpcHandlers.delete(e)}setTrackSubscriptionPermissions(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];this.participantTrackPermissions=n,this.allParticipantsAllowedToSubscribe=e,this.engine.client.isDisconnected||this.updateTrackSubscriptionPermissions()}handleIncomingRpcAck(e){const n=this.pendingAcks.get(e);n?(n.resolve(),this.pendingAcks.delete(e)):console.error("Ack received for unexpected RPC request",e)}handleIncomingRpcResponse(e,n,r){const i=this.pendingResponses.get(e);i?(i.resolve(n,r),this.pendingResponses.delete(e)):console.error("Response received for unexpected RPC request",e)}publishRpcRequest(e,n,r,i,s){return J(this,void 0,void 0,function*(){const o=new Ts({destinationIdentities:[e],kind:fn.RELIABLE,value:{case:"rpcRequest",value:new w6({id:n,method:r,payload:i,responseTimeoutMs:s,version:1})}});yield this.engine.sendDataPacket(o,fn.RELIABLE)})}handleParticipantDisconnected(e){for(const[n,{participantIdentity:r}]of this.pendingAcks)r===e&&this.pendingAcks.delete(n);for(const[n,{participantIdentity:r,resolve:i}]of this.pendingResponses)r===e&&(i(null,Ur.builtIn("RECIPIENT_DISCONNECTED")),this.pendingResponses.delete(n))}setEnabledPublishCodecs(e){this.enabledPublishVideoCodecs=e.filter(n=>n.mime.split("/")[0].toLowerCase()==="video")}updateInfo(e){return super.updateInfo(e)?(e.tracks.forEach(n=>{var r,i;const s=this.trackPublications.get(n.sid);if(s){const o=s.isMuted||((i=(r=s.track)===null||r===void 0?void 0:r.isUpstreamPaused)!==null&&i!==void 0?i:!1);o!==n.muted&&(this.log.debug("updating server mute state after reconcile",Object.assign(Object.assign(Object.assign({},this.logContext),yn(s)),{mutedOnServer:o})),this.engine.client.sendMuteTrack(n.sid,o))}}),!0):!1}setActiveAgent(e){var n,r,i,s;this.firstActiveAgent=e,e&&!this.firstActiveAgent&&(this.firstActiveAgent=e),e?(r=(n=this.activeAgentFuture)===null||n===void 0?void 0:n.resolve)===null||r===void 0||r.call(n,e):(s=(i=this.activeAgentFuture)===null||i===void 0?void 0:i.reject)===null||s===void 0||s.call(i,"Agent disconnected"),this.activeAgentFuture=void 0}waitUntilActiveAgentPresent(){return this.firstActiveAgent?Promise.resolve(this.firstActiveAgent):(this.activeAgentFuture||(this.activeAgentFuture=new Sa),this.activeAgentFuture.promise)}getPublicationForTrack(e){let n;return this.trackPublications.forEach(r=>{const i=r.track;i&&(e instanceof MediaStreamTrack?(Tc(i)||Ru(i))&&i.mediaStreamTrack===e&&(n=r):e===i&&(n=r))}),n}waitForPendingPublicationOfSource(e){return J(this,void 0,void 0,function*(){const r=Date.now();for(;Date.now()<r+1e4;){const i=Array.from(this.pendingPublishPromises.entries()).find(s=>{let[o]=s;return o.source===e});if(i)return i[1];yield Fs(20)}})}}class Q2 extends $c{constructor(e,n,r,i){super(e,n.sid,n.name,i),this.track=void 0,this.allowed=!0,this.requestedDisabled=void 0,this.visible=!0,this.handleEnded=s=>{this.setTrack(void 0),this.emit(Je.Ended,s)},this.handleVisibilityChange=s=>{this.log.debug("adaptivestream video visibility ".concat(this.trackSid,", visible=").concat(s),this.logContext),this.visible=s,this.emitTrackUpdate()},this.handleVideoDimensionsChange=s=>{this.log.debug("adaptivestream video dimensions ".concat(s.width,"x").concat(s.height),this.logContext),this.videoDimensionsAdaptiveStream=s,this.emitTrackUpdate()},this.subscribed=r,this.updateInfo(n)}setSubscribed(e){const n=this.subscriptionStatus,r=this.permissionStatus;this.subscribed=e,e&&(this.allowed=!0);const i=new vw({trackSids:[this.trackSid],subscribe:this.subscribed,participantTracks:[new DH({participantSid:"",trackSids:[this.trackSid]})]});this.emit(Je.UpdateSubscription,i),this.emitSubscriptionUpdateIfChanged(n),this.emitPermissionUpdateIfChanged(r)}get subscriptionStatus(){return this.subscribed===!1?$c.SubscriptionStatus.Unsubscribed:super.isSubscribed?$c.SubscriptionStatus.Subscribed:$c.SubscriptionStatus.Desired}get permissionStatus(){return this.allowed?$c.PermissionStatus.Allowed:$c.PermissionStatus.NotAllowed}get isSubscribed(){return this.subscribed===!1?!1:super.isSubscribed}get isDesired(){return this.subscribed!==!1}get isEnabled(){return this.requestedDisabled!==void 0?!this.requestedDisabled:this.isAdaptiveStream?this.visible:!0}get isLocal(){return!1}setEnabled(e){!this.isManualOperationAllowed()||this.requestedDisabled===!e||(this.requestedDisabled=!e,this.emitTrackUpdate())}setVideoQuality(e){!this.isManualOperationAllowed()||this.requestedMaxQuality===e||(this.requestedMaxQuality=e,this.requestedVideoDimensions=void 0,this.emitTrackUpdate())}setVideoDimensions(e){var n,r;this.isManualOperationAllowed()&&(((n=this.requestedVideoDimensions)===null||n===void 0?void 0:n.width)===e.width&&((r=this.requestedVideoDimensions)===null||r===void 0?void 0:r.height)===e.height||(o4(this.track)&&(this.requestedVideoDimensions=e),this.requestedMaxQuality=void 0,this.emitTrackUpdate()))}setVideoFPS(e){this.isManualOperationAllowed()&&o4(this.track)&&this.fps!==e&&(this.fps=e,this.emitTrackUpdate())}get videoQuality(){var e;return(e=this.requestedMaxQuality)!==null&&e!==void 0?e:Lo.HIGH}setTrack(e){const n=this.subscriptionStatus,r=this.permissionStatus,i=this.track;i!==e&&(i&&(i.off(Je.VideoDimensionsChanged,this.handleVideoDimensionsChange),i.off(Je.VisibilityChanged,this.handleVisibilityChange),i.off(Je.Ended,this.handleEnded),i.detach(),i.stopMonitor(),this.emit(Je.Unsubscribed,i)),super.setTrack(e),e&&(e.sid=this.trackSid,e.on(Je.VideoDimensionsChanged,this.handleVideoDimensionsChange),e.on(Je.VisibilityChanged,this.handleVisibilityChange),e.on(Je.Ended,this.handleEnded),this.emit(Je.Subscribed,e)),this.emitPermissionUpdateIfChanged(r),this.emitSubscriptionUpdateIfChanged(n))}setAllowed(e){const n=this.subscriptionStatus,r=this.permissionStatus;this.allowed=e,this.emitPermissionUpdateIfChanged(r),this.emitSubscriptionUpdateIfChanged(n)}setSubscriptionError(e){this.emit(Je.SubscriptionFailed,e)}updateInfo(e){super.updateInfo(e);const n=this.metadataMuted;this.metadataMuted=e.muted,this.track?this.track.setMuted(e.muted):n!==e.muted&&this.emit(e.muted?Je.Muted:Je.Unmuted)}emitSubscriptionUpdateIfChanged(e){const n=this.subscriptionStatus;e!==n&&this.emit(Je.SubscriptionStatusChanged,n,e)}emitPermissionUpdateIfChanged(e){this.permissionStatus!==e&&this.emit(Je.SubscriptionPermissionChanged,this.permissionStatus,e)}isManualOperationAllowed(){return this.isDesired?!0:(this.log.warn("cannot update track settings when not subscribed",this.logContext),!1)}get isAdaptiveStream(){return o4(this.track)&&this.track.isAdaptiveStream}emitTrackUpdate(){const e=new FH({trackSids:[this.trackSid],disabled:!this.isEnabled,fps:this.fps});if(this.kind===Ee.Kind.Video){let n=this.requestedVideoDimensions;if(this.videoDimensionsAdaptiveStream!==void 0)if(n)WR(this.videoDimensionsAdaptiveStream,n)&&(this.log.debug("using adaptive stream dimensions instead of requested",Object.assign(Object.assign({},this.logContext),this.videoDimensionsAdaptiveStream)),n=this.videoDimensionsAdaptiveStream);else if(this.requestedMaxQuality!==void 0&&this.trackInfo){const r=iFe(this.trackInfo,this.requestedMaxQuality);r&&WR(this.videoDimensionsAdaptiveStream,r)&&(this.log.debug("using adaptive stream dimensions instead of max quality layer",Object.assign(Object.assign({},this.logContext),this.videoDimensionsAdaptiveStream)),n=this.videoDimensionsAdaptiveStream)}else this.log.debug("using adaptive stream dimensions",Object.assign(Object.assign({},this.logContext),this.videoDimensionsAdaptiveStream)),n=this.videoDimensionsAdaptiveStream;n?(e.width=Math.ceil(n.width),e.height=Math.ceil(n.height)):this.requestedMaxQuality!==void 0?(this.log.debug("using requested max quality",Object.assign(Object.assign({},this.logContext),{quality:this.requestedMaxQuality})),e.quality=this.requestedMaxQuality):(this.log.debug("using default quality",Object.assign(Object.assign({},this.logContext),{quality:Lo.HIGH})),e.quality=Lo.HIGH)}this.emit(Je.UpdateSettings,e)}}class U2 extends jW{static fromParticipantInfo(e,n,r){return new U2(e,n.sid,n.identity,n.name,n.metadata,n.attributes,r,n.kind)}get logContext(){return Object.assign(Object.assign({},super.logContext),{rpID:this.sid,remoteParticipant:this.identity})}constructor(e,n,r,i,s,o,a){let l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:cv.STANDARD;super(n,r||"",i,s,o,a,l),this.signalClient=e,this.trackPublications=new Map,this.audioTrackPublications=new Map,this.videoTrackPublications=new Map,this.volumeMap=new Map}addTrackPublication(e){super.addTrackPublication(e),e.on(Je.UpdateSettings,n=>{this.log.debug("send update settings",Object.assign(Object.assign(Object.assign({},this.logContext),yn(e)),{settings:n})),this.signalClient.sendUpdateTrackSettings(n)}),e.on(Je.UpdateSubscription,n=>{n.participantTracks.forEach(r=>{r.participantSid=this.sid}),this.signalClient.sendUpdateSubscription(n)}),e.on(Je.SubscriptionPermissionChanged,n=>{this.emit(we.TrackSubscriptionPermissionChanged,e,n)}),e.on(Je.SubscriptionStatusChanged,n=>{this.emit(we.TrackSubscriptionStatusChanged,e,n)}),e.on(Je.Subscribed,n=>{this.emit(we.TrackSubscribed,n,e)}),e.on(Je.Unsubscribed,n=>{this.emit(we.TrackUnsubscribed,n,e)}),e.on(Je.SubscriptionFailed,n=>{this.emit(we.TrackSubscriptionFailed,e.trackSid,n)})}getTrackPublication(e){const n=super.getTrackPublication(e);if(n)return n}getTrackPublicationByName(e){const n=super.getTrackPublicationByName(e);if(n)return n}setVolume(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ee.Source.Microphone;this.volumeMap.set(n,e);const r=this.getTrackPublication(n);r&&r.track&&r.track.setVolume(e)}getVolume(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ee.Source.Microphone;const n=this.getTrackPublication(e);return n&&n.track?n.track.getVolume():this.volumeMap.get(e)}addSubscribedMediaTrack(e,n,r,i,s,o){let a=this.getTrackPublicationBySid(n);if(a||n.startsWith("TR")||this.trackPublications.forEach(d=>{!a&&e.kind===d.kind.toString()&&(a=d)}),!a){if(o===0){this.log.error("could not find published track",Object.assign(Object.assign({},this.logContext),{trackSid:n})),this.emit(we.TrackSubscriptionFailed,n);return}o===void 0&&(o=20),setTimeout(()=>{this.addSubscribedMediaTrack(e,n,r,i,s,o-1)},150);return}if(e.readyState==="ended"){this.log.error("unable to subscribe because MediaStreamTrack is ended. Do not call MediaStreamTrack.stop()",Object.assign(Object.assign({},this.logContext),yn(a))),this.emit(we.TrackSubscriptionFailed,n);return}const l=e.kind==="video";let c;return l?c=new nBe(e,n,i,s):c=new VW(e,n,i,this.audioContext,this.audioOutput),c.source=a.source,c.isMuted=a.isMuted,c.setMediaStream(r),c.start(),a.setTrack(c),this.volumeMap.has(a.source)&&V_(c)&&ec(c)&&c.setVolume(this.volumeMap.get(a.source)),a}get hasMetadata(){return!!this.participantInfo}getTrackPublicationBySid(e){return this.trackPublications.get(e)}updateInfo(e){if(!super.updateInfo(e))return!1;const n=new Map,r=new Map;return e.tracks.forEach(i=>{var s,o;let a=this.getTrackPublicationBySid(i.sid);if(a)a.updateInfo(i);else{const l=Ee.kindFromProto(i.type);if(!l)return;a=new Q2(l,i,(s=this.signalClient.connectOptions)===null||s===void 0?void 0:s.autoSubscribe,{loggerContextCb:()=>this.logContext,loggerName:(o=this.loggerOptions)===null||o===void 0?void 0:o.loggerName}),a.updateInfo(i),r.set(i.sid,a);const c=Array.from(this.trackPublications.values()).find(d=>d.source===a?.source);c&&a.source!==Ee.Source.Unknown&&this.log.debug("received a second track publication for ".concat(this.identity," with the same source: ").concat(a.source),Object.assign(Object.assign({},this.logContext),{oldTrack:yn(c),newTrack:yn(a)})),this.addTrackPublication(a)}n.set(i.sid,a)}),this.trackPublications.forEach(i=>{n.has(i.trackSid)||(this.log.trace("detected removed track on remote participant, unpublishing",Object.assign(Object.assign({},this.logContext),yn(i))),this.unpublishTrack(i.trackSid,!0))}),r.forEach(i=>{this.emit(we.TrackPublished,i)}),!0}unpublishTrack(e,n){const r=this.trackPublications.get(e);if(!r)return;const{track:i}=r;switch(i&&(i.stop(),r.setTrack(void 0)),this.trackPublications.delete(e),r.kind){case Ee.Kind.Audio:this.audioTrackPublications.delete(e);break;case Ee.Kind.Video:this.videoTrackPublications.delete(e);break}n&&this.emit(we.TrackUnpublished,r)}setAudioOutput(e){return J(this,void 0,void 0,function*(){this.audioOutput=e;const n=[];this.audioTrackPublications.forEach(r=>{var i;ec(r.track)&&V_(r.track)&&n.push(r.track.setSinkId((i=e.deviceId)!==null&&i!==void 0?i:"default"))}),yield Promise.all(n)})}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this.log.trace("participant event",Object.assign(Object.assign({},this.logContext),{event:e,args:r})),super.emit(e,...r)}}var Un;(function(t){t.Disconnected="disconnected",t.Connecting="connecting",t.Connected="connected",t.Reconnecting="reconnecting",t.SignalReconnecting="signalReconnecting"})(Un||(Un={}));const lBe=4*1e3;class au extends pc.EventEmitter{get hasE2EESetup(){return this.e2eeManager!==void 0}constructor(e){var n,r,i,s;if(super(),n=this,this.state=Un.Disconnected,this.activeSpeakers=[],this.isE2EEEnabled=!1,this.audioEnabled=!0,this.isVideoPlaybackBlocked=!1,this.log=pn,this.bufferedEvents=[],this.isResuming=!1,this.rpcHandlers=new Map,this.connect=(o,a,l)=>J(this,void 0,void 0,function*(){var c;if(!FNe())throw sc()?Error("WebRTC isn't detected, have you called registerGlobals?"):Error("LiveKit doesn't seem to be supported on this browser. Try to update your browser and make sure no browser extensions are disabling webRTC.");const d=yield this.disconnectLock.lock();if(this.state===Un.Connected)return this.log.info("already connected to room ".concat(this.name),this.logContext),d(),Promise.resolve();if(this.connectFuture)return d(),this.connectFuture.promise;this.setAndEmitConnectionState(Un.Connecting),((c=this.regionUrlProvider)===null||c===void 0?void 0:c.getServerUrl().toString())!==o&&(this.regionUrl=void 0,this.regionUrlProvider=void 0),Q_(new URL(o))&&(this.regionUrlProvider===void 0?this.regionUrlProvider=new Y_(o,a):this.regionUrlProvider.updateToken(a),this.regionUrlProvider.fetchRegionSettings().then(m=>{var g;(g=this.regionUrlProvider)===null||g===void 0||g.setServerReportedRegions(m)}).catch(m=>{this.log.warn("could not fetch region settings",Object.assign(Object.assign({},this.logContext),{error:m}))}));const h=(m,g,p)=>J(this,void 0,void 0,function*(){var v,b;this.abortController&&this.abortController.abort();const y=new AbortController;this.abortController=y,d?.();try{yield this.attemptConnection(p??o,a,l,y),this.abortController=void 0,m()}catch(C){if(this.regionUrlProvider&&C instanceof Vn&&C.reason!==Cn.Cancelled&&C.reason!==Cn.NotAllowed){let x=null;try{x=yield this.regionUrlProvider.getNextBestRegionUrl((v=this.abortController)===null||v===void 0?void 0:v.signal)}catch(O){if(O instanceof Vn&&(O.status===401||O.reason===Cn.Cancelled)){this.handleDisconnect(this.options.stopLocalTrackOnUnpublish),g(O);return}}x&&!(!((b=this.abortController)===null||b===void 0)&&b.signal.aborted)?(this.log.info("Initial connection failed with ConnectionError: ".concat(C.message,". Retrying with another region: ").concat(x),this.logContext),this.recreateEngine(),yield h(m,g,x)):(this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,HR(C)),g(C))}else{let x=il.UNKNOWN_REASON;C instanceof Vn&&(x=HR(C)),this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,x),g(C)}}}),f=this.regionUrl;return this.regionUrl=void 0,this.connectFuture=new Sa((m,g)=>{h(m,g,f)},()=>{this.clearConnectionFutures()}),this.connectFuture.promise}),this.connectSignal=(o,a,l,c,d,h)=>J(this,void 0,void 0,function*(){var f,m,g;const p=yield l.join(o,a,{autoSubscribe:c.autoSubscribe,adaptiveStream:typeof d.adaptiveStream=="object"?!0:d.adaptiveStream,maxRetries:c.maxRetries,e2eeEnabled:!!this.e2eeManager,websocketTimeout:c.websocketTimeout,singlePeerConnection:d.singlePeerConnection},h.signal);let v=p.serverInfo;if(v||(v={version:p.serverVersion,region:p.serverRegion}),this.serverInfo=v,this.log.debug("connected to Livekit Server ".concat(Object.entries(v).map(b=>{let[y,C]=b;return"".concat(y,": ").concat(C)}).join(", ")),{room:(f=p.room)===null||f===void 0?void 0:f.name,roomSid:(m=p.room)===null||m===void 0?void 0:m.sid,identity:(g=p.participant)===null||g===void 0?void 0:g.identity}),!v.version)throw new kNe("unknown server version");return v.version==="0.15.1"&&this.options.dynacast&&(this.log.debug("disabling dynacast due to server version",this.logContext),d.dynacast=!1),p}),this.applyJoinResponse=o=>{const a=o.participant;if(this.localParticipant.sid=a.sid,this.localParticipant.identity=a.identity,this.localParticipant.setEnabledPublishCodecs(o.enabledPublishCodecs),this.e2eeManager)try{this.e2eeManager.setSifTrailer(o.sifTrailer)}catch(l){this.log.error(l instanceof Error?l.message:"Could not set SifTrailer",Object.assign(Object.assign({},this.logContext),{error:l}))}this.handleParticipantUpdates([a,...o.otherParticipants]),o.room&&this.handleRoomUpdate(o.room)},this.attemptConnection=(o,a,l,c)=>J(this,void 0,void 0,function*(){var d,h;this.state===Un.Reconnecting||this.isResuming||!((d=this.engine)===null||d===void 0)&&d.pendingReconnect?(this.log.info("Reconnection attempt replaced by new connection attempt",this.logContext),this.recreateEngine()):this.maybeCreateEngine(),!((h=this.regionUrlProvider)===null||h===void 0)&&h.isCloud()&&this.engine.setRegionUrlProvider(this.regionUrlProvider),this.acquireAudioContext(),this.connOptions=Object.assign(Object.assign({},F6),l),this.connOptions.rtcConfig&&(this.engine.rtcConfig=this.connOptions.rtcConfig),this.connOptions.peerConnectionTimeout&&(this.engine.peerConnectionTimeout=this.connOptions.peerConnectionTimeout);try{const f=yield this.connectSignal(o,a,this.engine,this.connOptions,this.options,c);this.applyJoinResponse(f),this.setupLocalParticipantEvents(),this.emit(xe.SignalConnected)}catch(f){yield this.engine.close(),this.recreateEngine();const m=new Vn("could not establish signal connection",Cn.ServerUnreachable);throw f instanceof Error&&(m.message="".concat(m.message,": ").concat(f.message)),f instanceof Vn&&(m.reason=f.reason,m.status=f.status),this.log.debug("error trying to establish signal connection",Object.assign(Object.assign({},this.logContext),{error:f})),m}if(c.signal.aborted)throw yield this.engine.close(),this.recreateEngine(),new Vn("Connection attempt aborted",Cn.Cancelled);try{yield this.engine.waitForPCInitialConnection(this.connOptions.peerConnectionTimeout,c)}catch(f){throw yield this.engine.close(),this.recreateEngine(),f}so()&&this.options.disconnectOnPageLeave&&(window.addEventListener("pagehide",this.onPageLeave),window.addEventListener("beforeunload",this.onPageLeave)),so()&&document.addEventListener("freeze",this.onPageLeave),this.setAndEmitConnectionState(Un.Connected),this.emit(xe.Connected),this.registerConnectionReconcile()}),this.disconnect=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return J(n,[...a],void 0,function(){var c=this;let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return function*(){var h,f,m,g;const p=yield c.disconnectLock.lock();try{if(c.state===Un.Disconnected){c.log.debug("already disconnected",c.logContext);return}if(c.log.info("disconnect from room",Object.assign({},c.logContext)),c.state===Un.Connecting||c.state===Un.Reconnecting||c.isResuming){const v="Abort connection attempt due to user initiated disconnect";c.log.warn(v,c.logContext),(h=c.abortController)===null||h===void 0||h.abort(v),(m=(f=c.connectFuture)===null||f===void 0?void 0:f.reject)===null||m===void 0||m.call(f,new Vn("Client initiated disconnect",Cn.Cancelled)),c.connectFuture=void 0}!((g=c.engine)===null||g===void 0)&&g.client.isDisconnected||(yield c.engine.client.sendLeave()),c.engine&&(yield c.engine.close()),c.handleDisconnect(d,il.CLIENT_INITIATED),c.engine=void 0}finally{p()}}()})},this.onPageLeave=()=>J(this,void 0,void 0,function*(){this.log.info("Page leave detected, disconnecting",this.logContext),yield this.disconnect()}),this.startAudio=()=>J(this,void 0,void 0,function*(){const o=[],a=Ns();if(a&&a.os==="iOS"){const l="livekit-dummy-audio-el";let c=document.getElementById(l);if(!c){c=document.createElement("audio"),c.id=l,c.autoplay=!0,c.hidden=!0;const d=s4();d.enabled=!0;const h=new MediaStream([d]);c.srcObject=h,document.addEventListener("visibilitychange",()=>{c&&(c.srcObject=document.hidden?null:h,document.hidden||(this.log.debug("page visible again, triggering startAudio to resume playback and update playback status",this.logContext),this.startAudio()))}),document.body.append(c),this.once(xe.Disconnected,()=>{c?.remove(),c=null})}o.push(c)}this.remoteParticipants.forEach(l=>{l.audioTrackPublications.forEach(c=>{c.track&&c.track.attachedElements.forEach(d=>{o.push(d)})})});try{yield Promise.all([this.acquireAudioContext(),...o.map(l=>(l.muted=!1,l.play()))]),this.handleAudioPlaybackStarted()}catch(l){throw this.handleAudioPlaybackFailed(l),l}}),this.startVideo=()=>J(this,void 0,void 0,function*(){const o=[];for(const a of this.remoteParticipants.values())a.videoTrackPublications.forEach(l=>{var c;(c=l.track)===null||c===void 0||c.attachedElements.forEach(d=>{o.includes(d)||o.push(d)})});yield Promise.all(o.map(a=>a.play())).then(()=>{this.handleVideoPlaybackStarted()}).catch(a=>{a.name==="NotAllowedError"?this.handleVideoPlaybackFailed():this.log.warn("Resuming video playback failed, make sure you call `startVideo` directly in a user gesture handler",this.logContext)})}),this.handleRestarting=()=>{this.clearConnectionReconcile(),this.isResuming=!1;for(const o of this.remoteParticipants.values())this.handleParticipantDisconnected(o.identity,o);this.setAndEmitConnectionState(Un.Reconnecting)&&this.emit(xe.Reconnecting)},this.handleSignalRestarted=o=>J(this,void 0,void 0,function*(){this.log.debug("signal reconnected to server, region ".concat(o.serverRegion),Object.assign(Object.assign({},this.logContext),{region:o.serverRegion})),this.bufferedEvents=[],this.applyJoinResponse(o);try{yield this.localParticipant.republishAllTracks(void 0,!0)}catch(a){this.log.error("error trying to re-publish tracks after reconnection",Object.assign(Object.assign({},this.logContext),{error:a}))}try{yield this.engine.waitForRestarted(),this.log.debug("fully reconnected to server",Object.assign(Object.assign({},this.logContext),{region:o.serverRegion}))}catch{return}this.setAndEmitConnectionState(Un.Connected),this.emit(xe.Reconnected),this.registerConnectionReconcile(),this.emitBufferedEvents()}),this.handleParticipantUpdates=o=>{o.forEach(a=>{var l;if(a.identity===this.localParticipant.identity){this.localParticipant.updateInfo(a);return}a.identity===""&&(a.identity=(l=this.sidToIdentity.get(a.sid))!==null&&l!==void 0?l:"");let c=this.remoteParticipants.get(a.identity);a.state===xm.DISCONNECTED?this.handleParticipantDisconnected(a.identity,c):c=this.getOrCreateParticipant(a.identity,a)})},this.handleActiveSpeakersUpdate=o=>{const a=[],l={};o.forEach(c=>{if(l[c.sid]=!0,c.sid===this.localParticipant.sid)this.localParticipant.audioLevel=c.level,this.localParticipant.setIsSpeaking(!0),a.push(this.localParticipant);else{const d=this.getRemoteParticipantBySid(c.sid);d&&(d.audioLevel=c.level,d.setIsSpeaking(!0),a.push(d))}}),l[this.localParticipant.sid]||(this.localParticipant.audioLevel=0,this.localParticipant.setIsSpeaking(!1)),this.remoteParticipants.forEach(c=>{l[c.sid]||(c.audioLevel=0,c.setIsSpeaking(!1))}),this.activeSpeakers=a,this.emitWhenConnected(xe.ActiveSpeakersChanged,a)},this.handleSpeakersChanged=o=>{const a=new Map;this.activeSpeakers.forEach(c=>{const d=this.remoteParticipants.get(c.identity);d&&d.sid!==c.sid||a.set(c.sid,c)}),o.forEach(c=>{let d=this.getRemoteParticipantBySid(c.sid);c.sid===this.localParticipant.sid&&(d=this.localParticipant),d&&(d.audioLevel=c.level,d.setIsSpeaking(c.active),c.active?a.set(c.sid,d):a.delete(c.sid))});const l=Array.from(a.values());l.sort((c,d)=>d.audioLevel-c.audioLevel),this.activeSpeakers=l,this.emitWhenConnected(xe.ActiveSpeakersChanged,l)},this.handleStreamStateUpdate=o=>{o.streamStates.forEach(a=>{const l=this.getRemoteParticipantBySid(a.participantSid);if(!l)return;const c=l.getTrackPublicationBySid(a.trackSid);if(!c||!c.track)return;const d=Ee.streamStateFromProto(a.state);c.track.setStreamState(d),d!==c.track.streamState&&(l.emit(we.TrackStreamStateChanged,c,c.track.streamState),this.emitWhenConnected(xe.TrackStreamStateChanged,c,c.track.streamState,l))})},this.handleSubscriptionPermissionUpdate=o=>{const a=this.getRemoteParticipantBySid(o.participantSid);if(!a)return;const l=a.getTrackPublicationBySid(o.trackSid);l&&l.setAllowed(o.allowed)},this.handleSubscriptionError=o=>{const a=Array.from(this.remoteParticipants.values()).find(c=>c.trackPublications.has(o.trackSid));if(!a)return;const l=a.getTrackPublicationBySid(o.trackSid);l&&l.setSubscriptionError(o.err)},this.handleDataPacket=(o,a)=>{const l=this.remoteParticipants.get(o.participantIdentity);if(o.value.case==="user")this.handleUserPacket(l,o.value.value,o.kind,a);else if(o.value.case==="transcription")this.handleTranscription(l,o.value.value);else if(o.value.case==="sipDtmf")this.handleSipDtmf(l,o.value.value);else if(o.value.case==="chatMessage")this.handleChatMessage(l,o.value.value);else if(o.value.case==="metrics")this.handleMetrics(o.value.value,l);else if(o.value.case==="streamHeader"||o.value.case==="streamChunk"||o.value.case==="streamTrailer")this.handleDataStream(o,a);else if(o.value.case==="rpcRequest"){const c=o.value.value;this.handleIncomingRpcRequest(o.participantIdentity,c.id,c.method,c.payload,c.responseTimeoutMs,c.version)}},this.handleUserPacket=(o,a,l,c)=>{this.emit(xe.DataReceived,a.payload,o,l,a.topic,c),o?.emit(we.DataReceived,a.payload,l,c)},this.handleSipDtmf=(o,a)=>{this.emit(xe.SipDTMFReceived,a,o),o?.emit(we.SipDTMFReceived,a)},this.handleTranscription=(o,a)=>{const l=a.transcribedParticipantIdentity===this.localParticipant.identity?this.localParticipant:this.getParticipantByIdentity(a.transcribedParticipantIdentity),c=l?.trackPublications.get(a.trackId),d=WNe(a,this.transcriptionReceivedTimes);c?.emit(Je.TranscriptionReceived,d),l?.emit(we.TranscriptionReceived,d,c),this.emit(xe.TranscriptionReceived,d,l,c)},this.handleChatMessage=(o,a)=>{const l=XNe(a);this.emit(xe.ChatMessage,l,o)},this.handleMetrics=(o,a)=>{this.emit(xe.MetricsReceived,o,a)},this.handleDataStream=(o,a)=>{this.incomingDataStreamManager.handleDataStreamPacket(o,a)},this.bufferedSegments=new Map,this.handleAudioPlaybackStarted=()=>{this.canPlaybackAudio||(this.audioEnabled=!0,this.emit(xe.AudioPlaybackStatusChanged,!0))},this.handleAudioPlaybackFailed=o=>{this.log.warn("could not playback audio",Object.assign(Object.assign({},this.logContext),{error:o})),this.canPlaybackAudio&&(this.audioEnabled=!1,this.emit(xe.AudioPlaybackStatusChanged,!1))},this.handleVideoPlaybackStarted=()=>{this.isVideoPlaybackBlocked&&(this.isVideoPlaybackBlocked=!1,this.emit(xe.VideoPlaybackStatusChanged,!0))},this.handleVideoPlaybackFailed=()=>{this.isVideoPlaybackBlocked||(this.isVideoPlaybackBlocked=!0,this.emit(xe.VideoPlaybackStatusChanged,!1))},this.handleDeviceChange=()=>J(this,void 0,void 0,function*(){var o;((o=Ns())===null||o===void 0?void 0:o.os)!=="iOS"&&(yield this.selectDefaultDevices()),this.emit(xe.MediaDevicesChanged)}),this.handleRoomUpdate=o=>{const a=this.roomInfo;this.roomInfo=o,a&&a.metadata!==o.metadata&&this.emitWhenConnected(xe.RoomMetadataChanged,o.metadata),a?.activeRecording!==o.activeRecording&&this.emitWhenConnected(xe.RecordingStatusChanged,o.activeRecording)},this.handleConnectionQualityUpdate=o=>{o.updates.forEach(a=>{if(a.participantSid===this.localParticipant.sid){this.localParticipant.setConnectionQuality(a.quality);return}const l=this.getRemoteParticipantBySid(a.participantSid);l&&l.setConnectionQuality(a.quality)})},this.onLocalParticipantMetadataChanged=o=>{this.emit(xe.ParticipantMetadataChanged,o,this.localParticipant)},this.onLocalParticipantNameChanged=o=>{this.emit(xe.ParticipantNameChanged,o,this.localParticipant)},this.onLocalAttributesChanged=o=>{this.emit(xe.ParticipantAttributesChanged,o,this.localParticipant)},this.onLocalTrackMuted=o=>{this.emit(xe.TrackMuted,o,this.localParticipant)},this.onLocalTrackUnmuted=o=>{this.emit(xe.TrackUnmuted,o,this.localParticipant)},this.onTrackProcessorUpdate=o=>{var a;(a=o?.onPublish)===null||a===void 0||a.call(o,this)},this.onLocalTrackPublished=o=>J(this,void 0,void 0,function*(){var a,l,c,d,h,f;(a=o.track)===null||a===void 0||a.on(Je.TrackProcessorUpdate,this.onTrackProcessorUpdate),(l=o.track)===null||l===void 0||l.on(Je.Restarted,this.onLocalTrackRestarted),(h=(d=(c=o.track)===null||c===void 0?void 0:c.getProcessor())===null||d===void 0?void 0:d.onPublish)===null||h===void 0||h.call(d,this),this.emit(xe.LocalTrackPublished,o,this.localParticipant),Tc(o.track)&&(yield o.track.checkForSilence())&&this.emit(xe.LocalAudioSilenceDetected,o);const m=yield(f=o.track)===null||f===void 0?void 0:f.getDeviceId(!1),g=q_(o.source);g&&m&&m!==this.localParticipant.activeDeviceMap.get(g)&&(this.localParticipant.activeDeviceMap.set(g,m),this.emit(xe.ActiveDeviceChanged,g,m))}),this.onLocalTrackUnpublished=o=>{var a,l;(a=o.track)===null||a===void 0||a.off(Je.TrackProcessorUpdate,this.onTrackProcessorUpdate),(l=o.track)===null||l===void 0||l.off(Je.Restarted,this.onLocalTrackRestarted),this.emit(xe.LocalTrackUnpublished,o,this.localParticipant)},this.onLocalTrackRestarted=o=>J(this,void 0,void 0,function*(){const a=yield o.getDeviceId(!1),l=q_(o.source);l&&a&&a!==this.localParticipant.activeDeviceMap.get(l)&&(this.log.debug("local track restarted, setting ".concat(l," ").concat(a," active"),this.logContext),this.localParticipant.activeDeviceMap.set(l,a),this.emit(xe.ActiveDeviceChanged,l,a))}),this.onLocalConnectionQualityChanged=o=>{this.emit(xe.ConnectionQualityChanged,o,this.localParticipant)},this.onMediaDevicesError=(o,a)=>{this.emit(xe.MediaDevicesError,o,a)},this.onLocalParticipantPermissionsChanged=o=>{this.emit(xe.ParticipantPermissionsChanged,o,this.localParticipant)},this.onLocalChatMessageSent=o=>{this.emit(xe.ChatMessage,o,this.localParticipant)},this.setMaxListeners(100),this.remoteParticipants=new Map,this.sidToIdentity=new Map,this.options=Object.assign(Object.assign({},_Fe),e),this.log=ou((r=this.options.loggerName)!==null&&r!==void 0?r:gl.Room),this.transcriptionReceivedTimes=new Map,this.options.audioCaptureDefaults=Object.assign(Object.assign({},IW),e?.audioCaptureDefaults),this.options.videoCaptureDefaults=Object.assign(Object.assign({},$W),e?.videoCaptureDefaults),this.options.publishDefaults=Object.assign(Object.assign({},xFe),e?.publishDefaults),this.maybeCreateEngine(),this.incomingDataStreamManager=new KFe,this.outgoingDataStreamManager=new tBe(this.engine,this.log),this.disconnectLock=new lo,this.localParticipant=new qW("","",this.engine,this.options,this.rpcHandlers,this.outgoingDataStreamManager),(this.options.e2ee||this.options.encryption)&&this.setupE2EE(),this.engine.e2eeManager=this.e2eeManager,this.options.videoCaptureDefaults.deviceId&&this.localParticipant.activeDeviceMap.set("videoinput",od(this.options.videoCaptureDefaults.deviceId)),this.options.audioCaptureDefaults.deviceId&&this.localParticipant.activeDeviceMap.set("audioinput",od(this.options.audioCaptureDefaults.deviceId)),!((i=this.options.audioOutput)===null||i===void 0)&&i.deviceId&&this.switchActiveDevice("audiooutput",od(this.options.audioOutput.deviceId)).catch(o=>this.log.warn("Could not set audio output: ".concat(o.message),this.logContext)),so()){const o=new AbortController;(s=navigator.mediaDevices)===null||s===void 0||s.addEventListener("devicechange",this.handleDeviceChange,{signal:o.signal}),au.cleanupRegistry&&au.cleanupRegistry.register(this,()=>{o.abort()})}}registerTextStreamHandler(e,n){return this.incomingDataStreamManager.registerTextStreamHandler(e,n)}unregisterTextStreamHandler(e){return this.incomingDataStreamManager.unregisterTextStreamHandler(e)}registerByteStreamHandler(e,n){return this.incomingDataStreamManager.registerByteStreamHandler(e,n)}unregisterByteStreamHandler(e){return this.incomingDataStreamManager.unregisterByteStreamHandler(e)}registerRpcMethod(e,n){if(this.rpcHandlers.has(e))throw Error("RPC handler already registered for method ".concat(e,", unregisterRpcMethod before trying to register again"));this.rpcHandlers.set(e,n)}unregisterRpcMethod(e){this.rpcHandlers.delete(e)}setE2EEEnabled(e){return J(this,void 0,void 0,function*(){if(this.e2eeManager)yield Promise.all([this.localParticipant.setE2EEEnabled(e)]),this.localParticipant.identity!==""&&this.e2eeManager.setParticipantCryptorEnabled(e,this.localParticipant.identity);else throw Error("e2ee not configured, please set e2ee settings within the room options")})}setupE2EE(){var e;const n=!!this.options.encryption,r=this.options.encryption||this.options.e2ee;r&&("e2eeManager"in r?(this.e2eeManager=r.e2eeManager,this.e2eeManager.isDataChannelEncryptionEnabled=n):this.e2eeManager=new sFe(r,n),this.e2eeManager.on(Ku.ParticipantEncryptionStatusChanged,(i,s)=>{GNe(s)&&(this.isE2EEEnabled=i),this.emit(xe.ParticipantEncryptionStatusChanged,i,s)}),this.e2eeManager.on(Ku.EncryptionError,i=>this.emit(xe.EncryptionError,i)),(e=this.e2eeManager)===null||e===void 0||e.setup(this))}get logContext(){var e;return{room:this.name,roomID:(e=this.roomInfo)===null||e===void 0?void 0:e.sid,participant:this.localParticipant.identity,pID:this.localParticipant.sid}}get isRecording(){var e,n;return(n=(e=this.roomInfo)===null||e===void 0?void 0:e.activeRecording)!==null&&n!==void 0?n:!1}getSid(){return J(this,void 0,void 0,function*(){return this.state===Un.Disconnected?"":this.roomInfo&&this.roomInfo.sid!==""?this.roomInfo.sid:new Promise((e,n)=>{const r=i=>{i.sid!==""&&(this.engine.off(it.RoomUpdate,r),e(i.sid))};this.engine.on(it.RoomUpdate,r),this.once(xe.Disconnected,()=>{this.engine.off(it.RoomUpdate,r),n("Room disconnected before room server id was available")})})})}get name(){var e,n;return(n=(e=this.roomInfo)===null||e===void 0?void 0:e.name)!==null&&n!==void 0?n:""}get metadata(){var e;return(e=this.roomInfo)===null||e===void 0?void 0:e.metadata}get numParticipants(){var e,n;return(n=(e=this.roomInfo)===null||e===void 0?void 0:e.numParticipants)!==null&&n!==void 0?n:0}get numPublishers(){var e,n;return(n=(e=this.roomInfo)===null||e===void 0?void 0:e.numPublishers)!==null&&n!==void 0?n:0}maybeCreateEngine(){this.engine&&!this.engine.isClosed||(this.engine=new WFe(this.options),this.engine.e2eeManager=this.e2eeManager,this.engine.on(it.ParticipantUpdate,this.handleParticipantUpdates).on(it.RoomUpdate,this.handleRoomUpdate).on(it.SpeakersChanged,this.handleSpeakersChanged).on(it.StreamStateChanged,this.handleStreamStateUpdate).on(it.ConnectionQualityUpdate,this.handleConnectionQualityUpdate).on(it.SubscriptionError,this.handleSubscriptionError).on(it.SubscriptionPermissionUpdate,this.handleSubscriptionPermissionUpdate).on(it.MediaTrackAdded,(e,n,r)=>{this.onTrackAdded(e,n,r)}).on(it.Disconnected,e=>{this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,e)}).on(it.ActiveSpeakersUpdate,this.handleActiveSpeakersUpdate).on(it.DataPacketReceived,this.handleDataPacket).on(it.Resuming,()=>{this.clearConnectionReconcile(),this.isResuming=!0,this.log.info("Resuming signal connection",this.logContext),this.setAndEmitConnectionState(Un.SignalReconnecting)&&this.emit(xe.SignalReconnecting)}).on(it.Resumed,()=>{this.registerConnectionReconcile(),this.isResuming=!1,this.log.info("Resumed signal connection",this.logContext),this.updateSubscriptions(),this.emitBufferedEvents(),this.setAndEmitConnectionState(Un.Connected)&&this.emit(xe.Reconnected)}).on(it.SignalResumed,()=>{this.bufferedEvents=[],(this.state===Un.Reconnecting||this.isResuming)&&this.sendSyncState()}).on(it.Restarting,this.handleRestarting).on(it.SignalRestarted,this.handleSignalRestarted).on(it.Offline,()=>{this.setAndEmitConnectionState(Un.Reconnecting)&&this.emit(xe.Reconnecting)}).on(it.DCBufferStatusChanged,(e,n)=>{this.emit(xe.DCBufferStatusChanged,e,n)}).on(it.LocalTrackSubscribed,e=>{const n=this.localParticipant.getTrackPublications().find(r=>{let{trackSid:i}=r;return i===e});if(!n){this.log.warn("could not find local track subscription for subscribed event",this.logContext);return}this.localParticipant.emit(we.LocalTrackSubscribed,n),this.emitWhenConnected(xe.LocalTrackSubscribed,n,this.localParticipant)}).on(it.RoomMoved,e=>{this.log.debug("room moved",e),e.room&&this.handleRoomUpdate(e.room),this.remoteParticipants.forEach((n,r)=>{this.handleParticipantDisconnected(r,n)}),this.emit(xe.Moved,e.room.name),e.participant?this.handleParticipantUpdates([e.participant,...e.otherParticipants]):this.handleParticipantUpdates(e.otherParticipants)}),this.localParticipant&&this.localParticipant.setupEngine(this.engine),this.e2eeManager&&this.e2eeManager.setupEngine(this.engine),this.outgoingDataStreamManager&&this.outgoingDataStreamManager.setupEngine(this.engine))}static getLocalDevices(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Mi.getInstance().getDevices(e,n)}prepareConnection(e,n){return J(this,void 0,void 0,function*(){if(this.state===Un.Disconnected){this.log.debug("prepareConnection to ".concat(e),this.logContext);try{if(Q_(new URL(e))&&n){this.regionUrlProvider=new Y_(e,n);const r=yield this.regionUrlProvider.getNextBestRegionUrl();r&&this.state===Un.Disconnected&&(this.regionUrl=r,yield fetch(U_(r),{method:"HEAD"}),this.log.debug("prepared connection to ".concat(r),this.logContext))}else yield fetch(U_(e),{method:"HEAD"})}catch(r){this.log.warn("could not prepare connection",Object.assign(Object.assign({},this.logContext),{error:r}))}}})}getParticipantByIdentity(e){return this.localParticipant.identity===e?this.localParticipant:this.remoteParticipants.get(e)}clearConnectionFutures(){this.connectFuture=void 0}simulateScenario(e,n){return J(this,void 0,void 0,function*(){let r=()=>J(this,void 0,void 0,function*(){}),i;switch(e){case"signal-reconnect":yield this.engine.client.handleOnClose("simulate disconnect");break;case"speaker":i=new Pl({scenario:{case:"speakerUpdate",value:3}});break;case"node-failure":i=new Pl({scenario:{case:"nodeFailure",value:!0}});break;case"server-leave":i=new Pl({scenario:{case:"serverLeave",value:!0}});break;case"migration":i=new Pl({scenario:{case:"migration",value:!0}});break;case"resume-reconnect":this.engine.failNext(),yield this.engine.client.handleOnClose("simulate resume-disconnect");break;case"disconnect-signal-on-resume":r=()=>J(this,void 0,void 0,function*(){yield this.engine.client.handleOnClose("simulate resume-disconnect")}),i=new Pl({scenario:{case:"disconnectSignalOnResume",value:!0}});break;case"disconnect-signal-on-resume-no-messages":r=()=>J(this,void 0,void 0,function*(){yield this.engine.client.handleOnClose("simulate resume-disconnect")}),i=new Pl({scenario:{case:"disconnectSignalOnResumeNoMessages",value:!0}});break;case"full-reconnect":this.engine.fullReconnectOnNext=!0,yield this.engine.client.handleOnClose("simulate full-reconnect");break;case"force-tcp":case"force-tls":i=new Pl({scenario:{case:"switchCandidateProtocol",value:e==="force-tls"?2:1}}),r=()=>J(this,void 0,void 0,function*(){const s=this.engine.client.onLeave;s&&s(new bw({reason:il.CLIENT_INITIATED,action:_m.RECONNECT}))});break;case"subscriber-bandwidth":if(n===void 0||typeof n!="number")throw new Error("subscriber-bandwidth requires a number as argument");i=new Pl({scenario:{case:"subscriberBandwidth",value:rh(n)}});break;case"leave-full-reconnect":i=new Pl({scenario:{case:"leaveRequestFullReconnect",value:!0}})}i&&(yield this.engine.client.sendSimulateScenario(i),yield r())})}get canPlaybackAudio(){return this.audioEnabled}get canPlaybackVideo(){return!this.isVideoPlaybackBlocked}getActiveDevice(e){return this.localParticipant.activeDeviceMap.get(e)}switchActiveDevice(e,n){return J(this,arguments,void 0,function(r,i){var s=this;let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return function*(){var a,l,c,d,h,f,m;let g=!0,p=!1;const v=o?{exact:i}:i;if(r==="audioinput"){p=s.localParticipant.audioTrackPublications.size===0;const b=(a=s.getActiveDevice(r))!==null&&a!==void 0?a:s.options.audioCaptureDefaults.deviceId;s.options.audioCaptureDefaults.deviceId=v;const y=Array.from(s.localParticipant.audioTrackPublications.values()).filter(x=>x.source===Ee.Source.Microphone);try{g=(yield Promise.all(y.map(x=>{var O;return(O=x.audioTrack)===null||O===void 0?void 0:O.setDeviceId(v)}))).every(x=>x===!0)}catch(x){throw s.options.audioCaptureDefaults.deviceId=b,x}const C=y.some(x=>{var O,S;return(S=(O=x.track)===null||O===void 0?void 0:O.isMuted)!==null&&S!==void 0?S:!1});g&&C&&(p=!0)}else if(r==="videoinput"){p=s.localParticipant.videoTrackPublications.size===0;const b=(l=s.getActiveDevice(r))!==null&&l!==void 0?l:s.options.videoCaptureDefaults.deviceId;s.options.videoCaptureDefaults.deviceId=v;const y=Array.from(s.localParticipant.videoTrackPublications.values()).filter(x=>x.source===Ee.Source.Camera);try{g=(yield Promise.all(y.map(x=>{var O;return(O=x.videoTrack)===null||O===void 0?void 0:O.setDeviceId(v)}))).every(x=>x===!0)}catch(x){throw s.options.videoCaptureDefaults.deviceId=b,x}const C=y.some(x=>{var O,S;return(S=(O=x.track)===null||O===void 0?void 0:O.isMuted)!==null&&S!==void 0?S:!1});g&&C&&(p=!0)}else if(r==="audiooutput"){if(p=!0,!z_()&&!s.options.webAudioMix||s.options.webAudioMix&&s.audioContext&&!("setSinkId"in s.audioContext))throw new Error("cannot switch audio output, the current browser does not support it");s.options.webAudioMix&&(i=(c=yield Mi.getInstance().normalizeDeviceId("audiooutput",i))!==null&&c!==void 0?c:""),(d=(m=s.options).audioOutput)!==null&&d!==void 0||(m.audioOutput={});const b=(h=s.getActiveDevice(r))!==null&&h!==void 0?h:s.options.audioOutput.deviceId;s.options.audioOutput.deviceId=i;try{s.options.webAudioMix&&((f=s.audioContext)===null||f===void 0||f.setSinkId(i)),yield Promise.all(Array.from(s.remoteParticipants.values()).map(y=>y.setAudioOutput({deviceId:i})))}catch(y){throw s.options.audioOutput.deviceId=b,y}}return p&&(s.localParticipant.activeDeviceMap.set(r,i),s.emit(xe.ActiveDeviceChanged,r,i)),g}()})}setupLocalParticipantEvents(){this.localParticipant.on(we.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).on(we.ParticipantNameChanged,this.onLocalParticipantNameChanged).on(we.AttributesChanged,this.onLocalAttributesChanged).on(we.TrackMuted,this.onLocalTrackMuted).on(we.TrackUnmuted,this.onLocalTrackUnmuted).on(we.LocalTrackPublished,this.onLocalTrackPublished).on(we.LocalTrackUnpublished,this.onLocalTrackUnpublished).on(we.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).on(we.MediaDevicesError,this.onMediaDevicesError).on(we.AudioStreamAcquired,this.startAudio).on(we.ChatMessage,this.onLocalChatMessageSent).on(we.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged)}recreateEngine(){var e;(e=this.engine)===null||e===void 0||e.close(),this.engine=void 0,this.isResuming=!1,this.remoteParticipants.clear(),this.sidToIdentity.clear(),this.bufferedEvents=[],this.maybeCreateEngine()}onTrackAdded(e,n,r){if(this.state===Un.Connecting||this.state===Un.Reconnecting){const h=()=>{this.log.debug("deferring on track for later",{mediaTrackId:e.id,mediaStreamId:n.id,tracksInStream:n.getTracks().map(m=>m.id)}),this.onTrackAdded(e,n,r),f()},f=()=>{this.off(xe.Reconnected,h),this.off(xe.Connected,h),this.off(xe.Disconnected,f)};this.once(xe.Reconnected,h),this.once(xe.Connected,h),this.once(xe.Disconnected,f);return}if(this.state===Un.Disconnected){this.log.warn("skipping incoming track after Room disconnected",this.logContext);return}if(e.readyState==="ended"){this.log.info("skipping incoming track as it already ended",this.logContext);return}const i=$Ne(n.id),s=i[0];let o=i[1],a=e.id;if(o&&o.startsWith("TR")&&(a=o),s===this.localParticipant.sid){this.log.warn("tried to create RemoteParticipant for local participant",this.logContext);return}const l=Array.from(this.remoteParticipants.values()).find(h=>h.sid===s);if(!l){this.log.error("Tried to add a track for a participant, that's not present. Sid: ".concat(s),this.logContext);return}if(!a.startsWith("TR")){const h=this.engine.getTrackIdForReceiver(r);if(!h){this.log.error("Tried to add a track whose 'sid' could not be found for a participant, that's not present. Sid: ".concat(s),this.logContext);return}a=h}a.startsWith("TR")||this.log.warn("Tried to add a track whose 'sid' could not be determined for a participant, that's not present. Sid: ".concat(s,", streamId: ").concat(o,", trackId: ").concat(a),Object.assign(Object.assign({},this.logContext),{rpID:s,streamId:o,trackId:a}));let c;this.options.adaptiveStream&&(typeof this.options.adaptiveStream=="object"?c=this.options.adaptiveStream:c={});const d=l.addSubscribedMediaTrack(e,a,n,r,c);d?.isEncrypted&&!this.e2eeManager&&this.emit(xe.EncryptionError,new Error("Encrypted ".concat(d.source," track received from participant ").concat(l.sid,", but room does not have encryption enabled!")))}handleDisconnect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=arguments.length>1?arguments[1]:void 0;var r;if(this.clearConnectionReconcile(),this.isResuming=!1,this.bufferedEvents=[],this.transcriptionReceivedTimes.clear(),this.incomingDataStreamManager.clearHandlersAndControllers(),this.state!==Un.Disconnected){this.regionUrl=void 0;try{this.remoteParticipants.forEach(i=>{i.trackPublications.forEach(s=>{i.unpublishTrack(s.trackSid)})}),this.localParticipant.trackPublications.forEach(i=>{var s,o,a;i.track&&this.localParticipant.unpublishTrack(i.track,e),e?((s=i.track)===null||s===void 0||s.detach(),(o=i.track)===null||o===void 0||o.stop()):(a=i.track)===null||a===void 0||a.stopMonitor()}),this.localParticipant.off(we.ParticipantMetadataChanged,this.onLocalParticipantMetadataChanged).off(we.ParticipantNameChanged,this.onLocalParticipantNameChanged).off(we.AttributesChanged,this.onLocalAttributesChanged).off(we.TrackMuted,this.onLocalTrackMuted).off(we.TrackUnmuted,this.onLocalTrackUnmuted).off(we.LocalTrackPublished,this.onLocalTrackPublished).off(we.LocalTrackUnpublished,this.onLocalTrackUnpublished).off(we.ConnectionQualityChanged,this.onLocalConnectionQualityChanged).off(we.MediaDevicesError,this.onMediaDevicesError).off(we.AudioStreamAcquired,this.startAudio).off(we.ChatMessage,this.onLocalChatMessageSent).off(we.ParticipantPermissionsChanged,this.onLocalParticipantPermissionsChanged),this.localParticipant.trackPublications.clear(),this.localParticipant.videoTrackPublications.clear(),this.localParticipant.audioTrackPublications.clear(),this.remoteParticipants.clear(),this.sidToIdentity.clear(),this.activeSpeakers=[],this.audioContext&&typeof this.options.webAudioMix=="boolean"&&(this.audioContext.close(),this.audioContext=void 0),so()&&(window.removeEventListener("beforeunload",this.onPageLeave),window.removeEventListener("pagehide",this.onPageLeave),window.removeEventListener("freeze",this.onPageLeave),(r=navigator.mediaDevices)===null||r===void 0||r.removeEventListener("devicechange",this.handleDeviceChange))}finally{this.setAndEmitConnectionState(Un.Disconnected),this.emit(xe.Disconnected,n)}}}handleParticipantDisconnected(e,n){var r;this.remoteParticipants.delete(e),n&&(this.incomingDataStreamManager.validateParticipantHasNoActiveDataStreams(e),n.trackPublications.forEach(i=>{n.unpublishTrack(i.trackSid,!0)}),this.emit(xe.ParticipantDisconnected,n),n.setDisconnected(),(r=this.localParticipant)===null||r===void 0||r.handleParticipantDisconnected(n.identity))}handleIncomingRpcRequest(e,n,r,i,s,o){return J(this,void 0,void 0,function*(){if(yield this.engine.publishRpcAck(e,n),o!==1){yield this.engine.publishRpcResponse(e,n,null,Ur.builtIn("UNSUPPORTED_VERSION"));return}const a=this.rpcHandlers.get(r);if(!a){yield this.engine.publishRpcResponse(e,n,null,Ur.builtIn("UNSUPPORTED_METHOD"));return}let l=null,c=null;try{const d=yield a({requestId:n,callerIdentity:e,payload:i,responseTimeout:s});B6(d)>LW?(l=Ur.builtIn("RESPONSE_PAYLOAD_TOO_LARGE"),console.warn("RPC Response payload too large for ".concat(r))):c=d}catch(d){d instanceof Ur?l=d:(console.warn("Uncaught error returned by RPC handler for ".concat(r,". Returning APPLICATION_ERROR instead."),d),l=Ur.builtIn("APPLICATION_ERROR"))}yield this.engine.publishRpcResponse(e,n,c,l)})}selectDefaultDevices(){return J(this,void 0,void 0,function*(){var e,n,r;const i=Mi.getInstance().previousDevices,s=yield Mi.getInstance().getDevices(void 0,!1),o=Ns();if(o?.name==="Chrome"&&o.os!=="iOS")for(let l of s){const c=i.find(d=>d.deviceId===l.deviceId);c&&c.label!==""&&c.kind===l.kind&&c.label!==l.label&&this.getActiveDevice(l.kind)==="default"&&this.emit(xe.ActiveDeviceChanged,l.kind,l.deviceId)}const a=["audiooutput","audioinput","videoinput"];for(let l of a){const c=KNe(l),d=this.localParticipant.getTrackPublication(c);if(d&&(!((e=d.track)===null||e===void 0)&&e.isUserProvided))continue;const h=s.filter(m=>m.kind===l),f=this.getActiveDevice(l);if(f===((n=i.filter(m=>m.kind===l)[0])===null||n===void 0?void 0:n.deviceId)&&h.length>0&&((r=h[0])===null||r===void 0?void 0:r.deviceId)!==f){yield this.switchActiveDevice(l,h[0].deviceId);continue}l==="audioinput"&&!hv()||l==="videoinput"||h.length>0&&!h.find(m=>m.deviceId===this.getActiveDevice(l))&&(l!=="audiooutput"||!hv())&&(yield this.switchActiveDevice(l,h[0].deviceId))}})}acquireAudioContext(){return J(this,void 0,void 0,function*(){var e,n;if(typeof this.options.webAudioMix!="boolean"&&this.options.webAudioMix.audioContext?this.audioContext=this.options.webAudioMix.audioContext:(!this.audioContext||this.audioContext.state==="closed")&&(this.audioContext=(e=PW())!==null&&e!==void 0?e:void 0),this.options.webAudioMix&&this.remoteParticipants.forEach(i=>i.setAudioContext(this.audioContext)),this.localParticipant.setAudioContext(this.audioContext),this.audioContext&&this.audioContext.state==="suspended")try{yield Promise.race([this.audioContext.resume(),Fs(200)])}catch(i){this.log.warn("Could not resume audio context",Object.assign(Object.assign({},this.logContext),{error:i}))}const r=((n=this.audioContext)===null||n===void 0?void 0:n.state)==="running";r!==this.canPlaybackAudio&&(this.audioEnabled=r,this.emit(xe.AudioPlaybackStatusChanged,r))})}createParticipant(e,n){var r;let i;return n?i=U2.fromParticipantInfo(this.engine.client,n,{loggerContextCb:()=>this.logContext,loggerName:this.options.loggerName}):i=new U2(this.engine.client,"",e,void 0,void 0,void 0,{loggerContextCb:()=>this.logContext,loggerName:this.options.loggerName}),this.options.webAudioMix&&i.setAudioContext(this.audioContext),!((r=this.options.audioOutput)===null||r===void 0)&&r.deviceId&&i.setAudioOutput(this.options.audioOutput).catch(s=>this.log.warn("Could not set audio output: ".concat(s.message),this.logContext)),i}getOrCreateParticipant(e,n){if(this.remoteParticipants.has(e)){const i=this.remoteParticipants.get(e);return n&&i.updateInfo(n)&&this.sidToIdentity.set(n.sid,n.identity),i}const r=this.createParticipant(e,n);return this.remoteParticipants.set(e,r),this.sidToIdentity.set(n.sid,n.identity),this.emitWhenConnected(xe.ParticipantConnected,r),r.on(we.TrackPublished,i=>{this.emitWhenConnected(xe.TrackPublished,i,r)}).on(we.TrackSubscribed,(i,s)=>{i.kind===Ee.Kind.Audio?(i.on(Je.AudioPlaybackStarted,this.handleAudioPlaybackStarted),i.on(Je.AudioPlaybackFailed,this.handleAudioPlaybackFailed)):i.kind===Ee.Kind.Video&&(i.on(Je.VideoPlaybackFailed,this.handleVideoPlaybackFailed),i.on(Je.VideoPlaybackStarted,this.handleVideoPlaybackStarted)),this.emit(xe.TrackSubscribed,i,s,r)}).on(we.TrackUnpublished,i=>{this.emit(xe.TrackUnpublished,i,r)}).on(we.TrackUnsubscribed,(i,s)=>{this.emit(xe.TrackUnsubscribed,i,s,r)}).on(we.TrackMuted,i=>{this.emitWhenConnected(xe.TrackMuted,i,r)}).on(we.TrackUnmuted,i=>{this.emitWhenConnected(xe.TrackUnmuted,i,r)}).on(we.ParticipantMetadataChanged,i=>{this.emitWhenConnected(xe.ParticipantMetadataChanged,i,r)}).on(we.ParticipantNameChanged,i=>{this.emitWhenConnected(xe.ParticipantNameChanged,i,r)}).on(we.AttributesChanged,i=>{this.emitWhenConnected(xe.ParticipantAttributesChanged,i,r)}).on(we.ConnectionQualityChanged,i=>{this.emitWhenConnected(xe.ConnectionQualityChanged,i,r)}).on(we.ParticipantPermissionsChanged,i=>{this.emitWhenConnected(xe.ParticipantPermissionsChanged,i,r)}).on(we.TrackSubscriptionStatusChanged,(i,s)=>{this.emitWhenConnected(xe.TrackSubscriptionStatusChanged,i,s,r)}).on(we.TrackSubscriptionFailed,(i,s)=>{this.emit(xe.TrackSubscriptionFailed,i,r,s)}).on(we.TrackSubscriptionPermissionChanged,(i,s)=>{this.emitWhenConnected(xe.TrackSubscriptionPermissionChanged,i,s,r)}).on(we.Active,()=>{this.emitWhenConnected(xe.ParticipantActive,r),r.kind===cv.AGENT&&this.localParticipant.setActiveAgent(r)}),n&&r.updateInfo(n),r}sendSyncState(){const e=Array.from(this.remoteParticipants.values()).reduce((r,i)=>(r.push(...i.getTrackPublications()),r),[]),n=this.localParticipant.getTrackPublications();this.engine.sendSyncState(e,n)}updateSubscriptions(){for(const e of this.remoteParticipants.values())for(const n of e.videoTrackPublications.values())n.isSubscribed&&YNe(n)&&n.emitTrackUpdate()}getRemoteParticipantBySid(e){const n=this.sidToIdentity.get(e);if(n)return this.remoteParticipants.get(n)}registerConnectionReconcile(){this.clearConnectionReconcile();let e=0;this.connectionReconcileInterval=Ki.setInterval(()=>{!this.engine||this.engine.isClosed||!this.engine.verifyTransport()?(e++,this.log.warn("detected connection state mismatch",Object.assign(Object.assign({},this.logContext),{numFailures:e,engine:this.engine?{closed:this.engine.isClosed,transportsConnected:this.engine.verifyTransport()}:void 0})),e>=3&&(this.recreateEngine(),this.handleDisconnect(this.options.stopLocalTrackOnUnpublish,il.STATE_MISMATCH))):e=0},lBe)}clearConnectionReconcile(){this.connectionReconcileInterval&&Ki.clearInterval(this.connectionReconcileInterval)}setAndEmitConnectionState(e){return e===this.state?!1:(this.state=e,this.emit(xe.ConnectionStateChanged,this.state),!0)}emitBufferedEvents(){this.bufferedEvents.forEach(e=>{let[n,r]=e;this.emit(n,...r)}),this.bufferedEvents=[]}emitWhenConnected(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(this.state===Un.Reconnecting||this.isResuming||!this.engine||this.engine.pendingReconnect)this.bufferedEvents.push([e,r]);else if(this.state===Un.Connected)return this.emit(e,...r);return!1}simulateParticipants(e){return J(this,void 0,void 0,function*(){var n,r;const i=Object.assign({audio:!0,video:!0,useRealTracks:!1},e.publish),s=Object.assign({count:9,audio:!1,video:!0,aspectRatios:[1.66,1.7,1.3]},e.participants);if(this.handleDisconnect(),this.roomInfo=new mw({sid:"RM_SIMULATED",name:"simulated-room",emptyTimeout:0,maxParticipants:0,creationTime:Cr.parse(new Date().getTime()),metadata:"",numParticipants:1,numPublishers:1,turnPassword:"",enabledCodecs:[],activeRecording:!1}),this.localParticipant.updateInfo(new Uh({identity:"simulated-local",name:"local-name"})),this.setupLocalParticipantEvents(),this.emit(xe.SignalConnected),this.emit(xe.Connected),this.setAndEmitConnectionState(Un.Connected),i.video){const o=new Z_(Ee.Kind.Video,new nm({source:ni.CAMERA,sid:Math.floor(Math.random()*1e4).toString(),type:tl.AUDIO,name:"video-dummy"}),new z2(i.useRealTracks?(yield window.navigator.mediaDevices.getUserMedia({video:!0})).getVideoTracks()[0]:qR(160*((n=s.aspectRatios[0])!==null&&n!==void 0?n:1),160,!0,!0),void 0,!1,{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext}),{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext});this.localParticipant.addTrackPublication(o),this.localParticipant.emit(we.LocalTrackPublished,o)}if(i.audio){const o=new Z_(Ee.Kind.Audio,new nm({source:ni.MICROPHONE,sid:Math.floor(Math.random()*1e4).toString(),type:tl.AUDIO}),new B2(i.useRealTracks?(yield navigator.mediaDevices.getUserMedia({audio:!0})).getAudioTracks()[0]:s4(),void 0,!1,this.audioContext,{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext}),{loggerName:this.options.loggerName,loggerContextCb:()=>this.logContext});this.localParticipant.addTrackPublication(o),this.localParticipant.emit(we.LocalTrackPublished,o)}for(let o=0;o<s.count-1;o+=1){let a=new Uh({sid:Math.floor(Math.random()*1e4).toString(),identity:"simulated-".concat(o),state:xm.ACTIVE,tracks:[],joinedAt:Cr.parse(Date.now())});const l=this.getOrCreateParticipant(a.identity,a);if(s.video){const c=qR(160*((r=s.aspectRatios[o%s.aspectRatios.length])!==null&&r!==void 0?r:1),160,!1,!0),d=new nm({source:ni.CAMERA,sid:Math.floor(Math.random()*1e4).toString(),type:tl.AUDIO});l.addSubscribedMediaTrack(c,d.sid,new MediaStream([c]),new RTCRtpReceiver),a.tracks=[...a.tracks,d]}if(s.audio){const c=s4(),d=new nm({source:ni.MICROPHONE,sid:Math.floor(Math.random()*1e4).toString(),type:tl.AUDIO});l.addSubscribedMediaTrack(c,d.sid,new MediaStream([c]),new RTCRtpReceiver),a.tracks=[...a.tracks,d]}l.updateInfo(a)}})}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(e!==xe.ActiveSpeakersChanged&&e!==xe.TranscriptionReceived){const s=HW(r).filter(o=>o!==void 0);(e===xe.TrackSubscribed||e===xe.TrackUnsubscribed)&&this.log.trace("subscribe trace: ".concat(e),Object.assign(Object.assign({},this.logContext),{event:e,args:s})),this.log.debug("room event ".concat(e),Object.assign(Object.assign({},this.logContext),{event:e,args:s}))}return super.emit(e,...r)}}au.cleanupRegistry=typeof FinalizationRegistry<"u"&&new FinalizationRegistry(t=>{t()});function HW(t){return t.map(e=>{if(e)return Array.isArray(e)?HW(e):typeof e=="object"?"logContext"in e?e.logContext:void 0:e})}var Ga;(function(t){t[t.IDLE=0]="IDLE",t[t.RUNNING=1]="RUNNING",t[t.SKIPPED=2]="SKIPPED",t[t.SUCCESS=3]="SUCCESS",t[t.FAILED=4]="FAILED"})(Ga||(Ga={}));class Rd extends pc.EventEmitter{constructor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};super(),this.status=Ga.IDLE,this.logs=[],this.options={},this.url=e,this.token=n,this.name=this.constructor.name,this.room=new au(r.roomOptions),this.connectOptions=r.connectOptions,this.options=r}run(e){return J(this,void 0,void 0,function*(){if(this.status!==Ga.IDLE)throw Error("check is running already");this.setStatus(Ga.RUNNING);try{yield this.perform()}catch(n){n instanceof Error&&(this.options.errorsAsWarnings?this.appendWarning(n.message):this.appendError(n.message))}return yield this.disconnect(),yield new Promise(n=>setTimeout(n,500)),this.status!==Ga.SKIPPED&&this.setStatus(this.isSuccess()?Ga.SUCCESS:Ga.FAILED),e&&e(),this.getInfo()})}isSuccess(){return!this.logs.some(e=>e.level==="error")}connect(e){return J(this,void 0,void 0,function*(){return this.room.state===Un.Connected?this.room:(e||(e=this.url),yield this.room.connect(e,this.token,this.connectOptions),this.room)})}disconnect(){return J(this,void 0,void 0,function*(){this.room&&this.room.state!==Un.Disconnected&&(yield this.room.disconnect(),yield new Promise(e=>setTimeout(e,500)))})}skip(){this.setStatus(Ga.SKIPPED)}switchProtocol(e){return J(this,void 0,void 0,function*(){let n=!1,r=!1;if(this.room.on(xe.Reconnecting,()=>{n=!0}),this.room.once(xe.Reconnected,()=>{r=!0}),this.room.simulateScenario("force-".concat(e)),yield new Promise(s=>setTimeout(s,1e3)),!n)return;const i=Date.now()+1e4;for(;Date.now()<i;){if(r)return;yield Fs(100)}throw new Error("Could not reconnect using ".concat(e," protocol after 10 seconds"))})}appendMessage(e){this.logs.push({level:"info",message:e}),this.emit("update",this.getInfo())}appendWarning(e){this.logs.push({level:"warning",message:e}),this.emit("update",this.getInfo())}appendError(e){this.logs.push({level:"error",message:e}),this.emit("update",this.getInfo())}setStatus(e){this.status=e,this.emit("update",this.getInfo())}get engine(){var e;return(e=this.room)===null||e===void 0?void 0:e.engine}getInfo(){return{logs:this.logs,name:this.name,status:this.status,description:this.description}}}class cBe extends Rd{get description(){return"Cloud regions"}perform(){return J(this,void 0,void 0,function*(){const e=new Y_(this.url,this.token);if(!e.isCloud()){this.skip();return}const n=[],r=new Set;for(let s=0;s<3;s++){const o=yield e.getNextBestRegionUrl();if(!o)break;if(r.has(o))continue;r.add(o);const a=yield this.checkCloudRegion(o);this.appendMessage("".concat(a.region," RTT: ").concat(a.rtt,"ms, duration: ").concat(a.duration,"ms")),n.push(a)}n.sort((s,o)=>(s.duration-o.duration)*.5+(s.rtt-o.rtt)*.5);const i=n[0];this.bestStats=i,this.appendMessage("best Cloud region: ".concat(i.region))})}getInfo(){const e=super.getInfo();return e.data=this.bestStats,e}checkCloudRegion(e){return J(this,void 0,void 0,function*(){var n,r;yield this.connect(e),this.options.protocol==="tcp"&&(yield this.switchProtocol("tcp"));const i=(n=this.room.serverInfo)===null||n===void 0?void 0:n.region;if(!i)throw new Error("Region not found");const s=yield this.room.localParticipant.streamText({topic:"test"}),o=1e3,l=1e6/o,c="A".repeat(o),d=Date.now();for(let g=0;g<l;g++)yield s.write(c);yield s.close();const h=Date.now(),f=yield(r=this.room.engine.pcManager)===null||r===void 0?void 0:r.publisher.getStats(),m={region:i,rtt:1e4,duration:h-d};return f?.forEach(g=>{g.type==="candidate-pair"&&g.nominated&&(m.rtt=g.currentRoundTripTime*1e3)}),yield this.disconnect(),m})}}const m4=1e4;class uBe extends Rd{get description(){return"Connection via UDP vs TCP"}perform(){return J(this,void 0,void 0,function*(){const e=yield this.checkConnectionProtocol("udp"),n=yield this.checkConnectionProtocol("tcp");this.bestStats=e,e.qualityLimitationDurations.bandwidth-n.qualityLimitationDurations.bandwidth>.5||(e.packetsLost-n.packetsLost)/e.packetsSent>.01?(this.appendMessage("best connection quality via tcp"),this.bestStats=n):this.appendMessage("best connection quality via udp");const r=this.bestStats;this.appendMessage("upstream bitrate: ".concat((r.bitrateTotal/r.count/1e3/1e3).toFixed(2)," mbps")),this.appendMessage("RTT: ".concat((r.rttTotal/r.count*1e3).toFixed(2)," ms")),this.appendMessage("jitter: ".concat((r.jitterTotal/r.count*1e3).toFixed(2)," ms")),r.packetsLost>0&&this.appendWarning("packets lost: ".concat((r.packetsLost/r.packetsSent*100).toFixed(2),"%")),r.qualityLimitationDurations.bandwidth>1&&this.appendWarning("bandwidth limited ".concat((r.qualityLimitationDurations.bandwidth/(m4/1e3)*100).toFixed(2),"%")),r.qualityLimitationDurations.cpu>0&&this.appendWarning("cpu limited ".concat((r.qualityLimitationDurations.cpu/(m4/1e3)*100).toFixed(2),"%"))})}getInfo(){const e=super.getInfo();return e.data=this.bestStats,e}checkConnectionProtocol(e){return J(this,void 0,void 0,function*(){yield this.connect(),e==="tcp"?yield this.switchProtocol("tcp"):yield this.switchProtocol("udp");const n=document.createElement("canvas");n.width=1280,n.height=720;const r=n.getContext("2d");if(!r)throw new Error("Could not get canvas context");let i=0;const s=()=>{i=(i+1)%360,r.fillStyle="hsl(".concat(i,", 100%, 50%)"),r.fillRect(0,0,n.width,n.height),requestAnimationFrame(s)};s();const a=n.captureStream(30).getVideoTracks()[0],c=(yield this.room.localParticipant.publishTrack(a,{simulcast:!1,degradationPreference:"maintain-resolution",videoEncoding:{maxBitrate:2e6}})).track,d={protocol:e,packetsLost:0,packetsSent:0,qualityLimitationDurations:{},rttTotal:0,jitterTotal:0,bitrateTotal:0,count:0},h=setInterval(()=>J(this,void 0,void 0,function*(){const f=yield c.getRTCStatsReport();f?.forEach(m=>{m.type==="outbound-rtp"?(d.packetsSent=m.packetsSent,d.qualityLimitationDurations=m.qualityLimitationDurations,d.bitrateTotal+=m.targetBitrate,d.count++):m.type==="remote-inbound-rtp"&&(d.packetsLost=m.packetsLost,d.rttTotal+=m.roundTripTime,d.jitterTotal+=m.jitter)})}),1e3);return yield new Promise(f=>setTimeout(f,m4)),clearInterval(h),a.stop(),n.remove(),yield this.disconnect(),d})}}class dBe extends Rd{get description(){return"Can publish audio"}perform(){return J(this,void 0,void 0,function*(){var e;const n=yield this.connect(),r=yield sBe();if(yield AW(r,1e3))throw new Error("unable to detect audio from microphone");this.appendMessage("detected audio from microphone"),n.localParticipant.publishTrack(r),yield new Promise(a=>setTimeout(a,3e3));const s=yield(e=r.sender)===null||e===void 0?void 0:e.getStats();if(!s)throw new Error("Could not get RTCStats");let o=0;if(s.forEach(a=>{a.type==="outbound-rtp"&&(a.kind==="audio"||!a.kind&&a.mediaType==="audio")&&(o=a.packetsSent)}),o===0)throw new Error("Could not determine packets are sent");this.appendMessage("published ".concat(o," audio packets"))})}}class hBe extends Rd{get description(){return"Can publish video"}perform(){return J(this,void 0,void 0,function*(){var e;const n=yield this.connect(),r=yield iBe();yield this.checkForVideo(r.mediaStreamTrack),n.localParticipant.publishTrack(r),yield new Promise(o=>setTimeout(o,5e3));const i=yield(e=r.sender)===null||e===void 0?void 0:e.getStats();if(!i)throw new Error("Could not get RTCStats");let s=0;if(i.forEach(o=>{o.type==="outbound-rtp"&&(o.kind==="video"||!o.kind&&o.mediaType==="video")&&(s+=o.packetsSent)}),s===0)throw new Error("Could not determine packets are sent");this.appendMessage("published ".concat(s," video packets"))})}checkForVideo(e){return J(this,void 0,void 0,function*(){const n=new MediaStream;n.addTrack(e.clone());const r=document.createElement("video");r.srcObject=n,r.muted=!0,r.autoplay=!0,r.playsInline=!0,r.setAttribute("playsinline","true"),document.body.appendChild(r),yield new Promise(i=>{r.onplay=()=>{setTimeout(()=>{var s,o,a,l;const c=document.createElement("canvas"),d=e.getSettings(),h=(o=(s=d.width)!==null&&s!==void 0?s:r.videoWidth)!==null&&o!==void 0?o:1280,f=(l=(a=d.height)!==null&&a!==void 0?a:r.videoHeight)!==null&&l!==void 0?l:720;c.width=h,c.height=f;const m=c.getContext("2d");m.drawImage(r,0,0);const p=m.getImageData(0,0,c.width,c.height).data;let v=!0;for(let b=0;b<p.length;b+=4)if(p[b]!==0||p[b+1]!==0||p[b+2]!==0){v=!1;break}v?this.appendError("camera appears to be producing only black frames"):this.appendMessage("received video frames"),i()},1e3)},r.play()}),n.getTracks().forEach(i=>i.stop()),r.remove()})}}class fBe extends Rd{get description(){return"Resuming connection after interruption"}perform(){return J(this,void 0,void 0,function*(){var e;const n=yield this.connect();let r=!1,i=!1,s;const o=new Promise(c=>{setTimeout(c,5e3),s=c}),a=()=>{r=!0};n.on(xe.SignalReconnecting,a).on(xe.Reconnecting,a).on(xe.Reconnected,()=>{i=!0,s(!0)}),(e=n.engine.client.ws)===null||e===void 0||e.close();const l=n.engine.client.onClose;if(l&&l(""),yield o,r){if(!i||n.state!==Un.Connected)throw this.appendWarning("reconnection is only possible in Redis-based configurations"),new Error("Not able to reconnect")}else throw new Error("Did not attempt to reconnect")})}}class mBe extends Rd{get description(){return"Can connect via TURN"}perform(){return J(this,void 0,void 0,function*(){var e,n;const r=new I6,i=yield r.join(this.url,this.token,{autoSubscribe:!0,maxRetries:0,e2eeEnabled:!1,websocketTimeout:15e3,singlePeerConnection:!1});let s=!1,o=!1,a=!1;for(let l of i.iceServers)for(let c of l.urls)c.startsWith("turn:")?(o=!0,a=!0):c.startsWith("turns:")&&(o=!0,a=!0,s=!0),c.startsWith("stun:")&&(a=!0);a?o&&!s&&this.appendWarning("TURN is configured server side, but TURN/TLS is unavailable."):this.appendWarning("No STUN servers configured on server side."),yield r.close(),!((n=(e=this.connectOptions)===null||e===void 0?void 0:e.rtcConfig)===null||n===void 0)&&n.iceServers||o?yield this.room.connect(this.url,this.token,{rtcConfig:{iceTransportPolicy:"relay"}}):(this.appendWarning("No TURN servers configured."),this.skip(),yield new Promise(l=>setTimeout(l,0)))})}}class gBe extends Rd{get description(){return"Establishing WebRTC connection"}perform(){return J(this,void 0,void 0,function*(){let e=!1,n=!1;this.room.on(xe.SignalConnected,()=>{var r;const i=this.room.engine.client.onTrickle;this.room.engine.client.onTrickle=(s,o)=>{if(s.candidate){const a=new RTCIceCandidate(s);let l="".concat(a.protocol," ").concat(a.address,":").concat(a.port," ").concat(a.type);a.address&&(pBe(a.address)?l+=" (private)":a.protocol==="tcp"&&a.tcpType==="passive"?(e=!0,l+=" (passive)"):a.protocol==="udp"&&(n=!0)),this.appendMessage(l)}i&&i(s,o)},!((r=this.room.engine.pcManager)===null||r===void 0)&&r.subscriber&&(this.room.engine.pcManager.subscriber.onIceCandidateError=s=>{s instanceof RTCPeerConnectionIceErrorEvent&&this.appendWarning("error with ICE candidate: ".concat(s.errorCode," ").concat(s.errorText," ").concat(s.url))})});try{yield this.connect(),pn.info("now the room is connected")}catch(r){throw this.appendWarning("ports need to be open on firewall in order to connect."),r}e||this.appendWarning("Server is not configured for ICE/TCP"),n||this.appendWarning("No public IPv4 UDP candidates were found. Your server is likely not configured correctly")})}}function pBe(t){const e=t.split(".");if(e.length===4){if(e[0]==="10")return!0;if(e[0]==="192"&&e[1]==="168")return!0;if(e[0]==="172"){const n=parseInt(e[1],10);if(n>=16&&n<=31)return!0}}return!1}class vBe extends Rd{get description(){return"Connecting to signal connection via WebSocket"}perform(){return J(this,void 0,void 0,function*(){var e,n,r;(this.url.startsWith("ws:")||this.url.startsWith("http:"))&&this.appendWarning("Server is insecure, clients may block connections to it");let i=new I6;const s=yield i.join(this.url,this.token,{autoSubscribe:!0,maxRetries:0,e2eeEnabled:!1,websocketTimeout:15e3,singlePeerConnection:!1});this.appendMessage("Connected to server, version ".concat(s.serverVersion,".")),((e=s.serverInfo)===null||e===void 0?void 0:e.edition)===PH.Cloud&&(!((n=s.serverInfo)===null||n===void 0)&&n.region)&&this.appendMessage("LiveKit Cloud: ".concat((r=s.serverInfo)===null||r===void 0?void 0:r.region)),yield i.close()})}}class Jst extends pc.EventEmitter{constructor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};super(),this.options={},this.checkResults=new Map,this.url=e,this.token=n,this.options=r}getNextCheckId(){const e=this.checkResults.size;return this.checkResults.set(e,{logs:[],status:Ga.IDLE,name:"",description:""}),e}updateCheck(e,n){this.checkResults.set(e,n),this.emit("checkUpdate",e,n)}isSuccess(){return Array.from(this.checkResults.values()).every(e=>e.status!==Ga.FAILED)}getResults(){return Array.from(this.checkResults.values())}createAndRunCheck(e){return J(this,void 0,void 0,function*(){const n=this.getNextCheckId(),r=new e(this.url,this.token,this.options),i=o=>{this.updateCheck(n,o)};r.on("update",i);const s=yield r.run();return r.off("update",i),s})}checkWebsocket(){return J(this,void 0,void 0,function*(){return this.createAndRunCheck(vBe)})}checkWebRTC(){return J(this,void 0,void 0,function*(){return this.createAndRunCheck(gBe)})}checkTURN(){return J(this,void 0,void 0,function*(){return this.createAndRunCheck(mBe)})}checkReconnect(){return J(this,void 0,void 0,function*(){return this.createAndRunCheck(fBe)})}checkPublishAudio(){return J(this,void 0,void 0,function*(){return this.createAndRunCheck(dBe)})}checkPublishVideo(){return J(this,void 0,void 0,function*(){return this.createAndRunCheck(hBe)})}checkConnectionProtocol(){return J(this,void 0,void 0,function*(){const e=yield this.createAndRunCheck(uBe);if(e.data&&"protocol"in e.data){const n=e.data;this.options.protocol=n.protocol}return e})}checkCloudRegion(){return J(this,void 0,void 0,function*(){return this.createAndRunCheck(cBe)})}}function xn(t,e,n){return(e=yBe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bBe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yBe(t){var e=bBe(t,"string");return typeof e=="symbol"?e:e+""}new TextEncoder;new TextDecoder;class qs extends Error{constructor(e,n){var r;super(e,n),xn(this,"code","ERR_JOSE_GENERIC"),this.name=this.constructor.name,(r=Error.captureStackTrace)===null||r===void 0||r.call(Error,this,this.constructor)}}xn(qs,"code","ERR_JOSE_GENERIC");class OBe extends qs{constructor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"unspecified",i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unspecified";super(e,{cause:{claim:r,reason:i,payload:n}}),xn(this,"code","ERR_JWT_CLAIM_VALIDATION_FAILED"),xn(this,"claim",void 0),xn(this,"reason",void 0),xn(this,"payload",void 0),this.claim=r,this.reason=i,this.payload=n}}xn(OBe,"code","ERR_JWT_CLAIM_VALIDATION_FAILED");class wBe extends qs{constructor(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"unspecified",i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unspecified";super(e,{cause:{claim:r,reason:i,payload:n}}),xn(this,"code","ERR_JWT_EXPIRED"),xn(this,"claim",void 0),xn(this,"reason",void 0),xn(this,"payload",void 0),this.claim=r,this.reason=i,this.payload=n}}xn(wBe,"code","ERR_JWT_EXPIRED");class kBe extends qs{constructor(){super(...arguments),xn(this,"code","ERR_JOSE_ALG_NOT_ALLOWED")}}xn(kBe,"code","ERR_JOSE_ALG_NOT_ALLOWED");class SBe extends qs{constructor(){super(...arguments),xn(this,"code","ERR_JOSE_NOT_SUPPORTED")}}xn(SBe,"code","ERR_JOSE_NOT_SUPPORTED");class xBe extends qs{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"decryption operation failed",n=arguments.length>1?arguments[1]:void 0;super(e,n),xn(this,"code","ERR_JWE_DECRYPTION_FAILED")}}xn(xBe,"code","ERR_JWE_DECRYPTION_FAILED");class _Be extends qs{constructor(){super(...arguments),xn(this,"code","ERR_JWE_INVALID")}}xn(_Be,"code","ERR_JWE_INVALID");class CBe extends qs{constructor(){super(...arguments),xn(this,"code","ERR_JWS_INVALID")}}xn(CBe,"code","ERR_JWS_INVALID");class EBe extends qs{constructor(){super(...arguments),xn(this,"code","ERR_JWT_INVALID")}}xn(EBe,"code","ERR_JWT_INVALID");class TBe extends qs{constructor(){super(...arguments),xn(this,"code","ERR_JWK_INVALID")}}xn(TBe,"code","ERR_JWK_INVALID");class DBe extends qs{constructor(){super(...arguments),xn(this,"code","ERR_JWKS_INVALID")}}xn(DBe,"code","ERR_JWKS_INVALID");class ABe extends qs{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"no applicable key found in the JSON Web Key Set",n=arguments.length>1?arguments[1]:void 0;super(e,n),xn(this,"code","ERR_JWKS_NO_MATCHING_KEY")}}xn(ABe,"code","ERR_JWKS_NO_MATCHING_KEY");class PBe extends qs{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"multiple matching keys found in the JSON Web Key Set",n=arguments.length>1?arguments[1]:void 0;super(e,n),xn(this,Symbol.asyncIterator,void 0),xn(this,"code","ERR_JWKS_MULTIPLE_MATCHING_KEYS")}}xn(PBe,"code","ERR_JWKS_MULTIPLE_MATCHING_KEYS");class RBe extends qs{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"request timed out",n=arguments.length>1?arguments[1]:void 0;super(e,n),xn(this,"code","ERR_JWKS_TIMEOUT")}}xn(RBe,"code","ERR_JWKS_TIMEOUT");class MBe extends qs{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"signature verification failed",n=arguments.length>1?arguments[1]:void 0;super(e,n),xn(this,"code","ERR_JWS_SIGNATURE_VERIFICATION_FAILED")}}xn(MBe,"code","ERR_JWS_SIGNATURE_VERIFICATION_FAILED");var WW={exports:{}};(function(t){(function(e,n){t.exports?t.exports=n():e.log=n()})(Zi,function(){var e=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],s={},o=null;function a(p,v){var b=p[v];if(typeof b.bind=="function")return b.bind(p);try{return Function.prototype.bind.call(b,p)}catch{return function(){return Function.prototype.apply.apply(b,[p,arguments])}}}function l(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function c(p){return p==="debug"&&(p="log"),typeof console===n?!1:p==="trace"&&r?l:console[p]!==void 0?a(console,p):console.log!==void 0?a(console,"log"):e}function d(){for(var p=this.getLevel(),v=0;v<i.length;v++){var b=i[v];this[b]=v<p?e:this.methodFactory(b,p,this.name)}if(this.log=this.debug,typeof console===n&&p<this.levels.SILENT)return"No console available for logging"}function h(p){return function(){typeof console!==n&&(d.call(this),this[p].apply(this,arguments))}}function f(p,v,b){return c(p)||h.apply(this,arguments)}function m(p,v){var b=this,y,C,x,O="loglevel";typeof p=="string"?O+=":"+p:typeof p=="symbol"&&(O=void 0);function S(L){var j=(i[L]||"silent").toUpperCase();if(!(typeof window===n||!O)){try{window.localStorage[O]=j;return}catch{}try{window.document.cookie=encodeURIComponent(O)+"="+j+";"}catch{}}}function T(){var L;if(!(typeof window===n||!O)){try{L=window.localStorage[O]}catch{}if(typeof L===n)try{var j=window.document.cookie,te=encodeURIComponent(O),U=j.indexOf(te+"=");U!==-1&&(L=/^([^;]+)/.exec(j.slice(U+te.length+1))[1])}catch{}return b.levels[L]===void 0&&(L=void 0),L}}function $(){if(!(typeof window===n||!O)){try{window.localStorage.removeItem(O)}catch{}try{window.document.cookie=encodeURIComponent(O)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function M(L){var j=L;if(typeof j=="string"&&b.levels[j.toUpperCase()]!==void 0&&(j=b.levels[j.toUpperCase()]),typeof j=="number"&&j>=0&&j<=b.levels.SILENT)return j;throw new TypeError("log.setLevel() called with invalid level: "+L)}b.name=p,b.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},b.methodFactory=v||f,b.getLevel=function(){return x??C??y},b.setLevel=function(L,j){return x=M(L),j!==!1&&S(x),d.call(b)},b.setDefaultLevel=function(L){C=M(L),T()||b.setLevel(L,!1)},b.resetLevel=function(){x=null,$(),d.call(b)},b.enableAll=function(L){b.setLevel(b.levels.TRACE,L)},b.disableAll=function(L){b.setLevel(b.levels.SILENT,L)},b.rebuild=function(){if(o!==b&&(y=M(o.getLevel())),d.call(b),o===b)for(var L in s)s[L].rebuild()},y=M(o?o.getLevel():"WARN");var P=T();P!=null&&(x=M(P)),d.call(b)}o=new m,o.getLogger=function(v){if(typeof v!="symbol"&&typeof v!="string"||v==="")throw new TypeError("You must supply a name when creating a logger.");var b=s[v];return b||(b=s[v]=new m(v,o.methodFactory)),b};var g=typeof window!==n?window.log:void 0;return o.noConflict=function(){return typeof window!==n&&window.log===o&&(window.log=g),o},o.getLoggers=function(){return s},o.default=o,o})})(WW);var IBe=WW.exports;const XW=Jo(IBe);function Oi(t){return typeof t=="function"}function YW(t){var e=function(r){Error.call(r),r.stack=new Error().stack},n=t(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var g4=YW(function(t){return function(n){t(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function K_(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var kw=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,n,r,i,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=cg(o),l=a.next();!l.done;l=a.next()){var c=l.value;c.remove(this)}}catch(p){e={error:p}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}else o.remove(this);var d=this.initialTeardown;if(Oi(d))try{d()}catch(p){s=p instanceof g4?p.errors:[p]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var f=cg(h),m=f.next();!m.done;m=f.next()){var g=m.value;try{fM(g)}catch(p){s=s??[],p instanceof g4?s=g_(g_([],m_(s)),m_(p.errors)):s.push(p)}}}catch(p){r={error:p}}finally{try{m&&!m.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}}if(s)throw new g4(s)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)fM(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},t.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},t.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},t.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&K_(n,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&K_(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),GW=kw.EMPTY;function ZW(t){return t instanceof kw||t&&"closed"in t&&Oi(t.remove)&&Oi(t.add)&&Oi(t.unsubscribe)}function fM(t){Oi(t)?t():t.unsubscribe()}var $Be={Promise:void 0},LBe={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,g_([t,e],m_(n)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function KW(t){LBe.setTimeout(function(){throw t})}function mM(){}function gy(t){t()}var U6=function(t){Pg(e,t);function e(n){var r=t.call(this)||this;return r.isStopped=!1,n?(r.destination=n,ZW(n)&&n.add(r)):r.destination=BBe,r}return e.create=function(n,r,i){return new J_(n,r,i)},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(kw),NBe=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(r){fb(r)}},t.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(r){fb(r)}else fb(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){fb(n)}},t}(),J_=function(t){Pg(e,t);function e(n,r,i){var s=t.call(this)||this,o;return Oi(n)||!n?o={next:n??void 0,error:r??void 0,complete:i??void 0}:o=n,s.destination=new NBe(o),s}return e}(U6);function fb(t){KW(t)}function FBe(t){throw t}var BBe={closed:!0,next:mM,error:FBe,complete:mM},V6=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function JW(t){return t}function zBe(t){return t.length===0?JW:t.length===1?t[0]:function(n){return t.reduce(function(r,i){return i(r)},n)}}var ts=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,r){var i=this,s=UBe(e)?e:new J_(e,n,r);return gy(function(){var o=i,a=o.operator,l=o.source;s.add(a?a.call(s,l):l?i._subscribe(s):i._trySubscribe(s))}),s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},t.prototype.forEach=function(e,n){var r=this;return n=gM(n),new n(function(i,s){var o=new J_({next:function(a){try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});r.subscribe(o)})},t.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},t.prototype[V6]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return zBe(e)(this)},t.prototype.toPromise=function(e){var n=this;return e=gM(e),new e(function(r,i){var s;n.subscribe(function(o){return s=o},function(o){return i(o)},function(){return r(s)})})},t.create=function(e){return new t(e)},t}();function gM(t){var e;return(e=t??$Be.Promise)!==null&&e!==void 0?e:Promise}function QBe(t){return t&&Oi(t.next)&&Oi(t.error)&&Oi(t.complete)}function UBe(t){return t&&t instanceof U6||QBe(t)&&ZW(t)}function VBe(t){return Oi(t?.lift)}function Rg(t){return function(e){if(VBe(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function fv(t,e,n,r,i){return new jBe(t,e,n,r,i)}var jBe=function(t){Pg(e,t);function e(n,r,i,s,o,a){var l=t.call(this,n)||this;return l.onFinalize=o,l.shouldUnsubscribe=a,l._next=r?function(c){try{r(c)}catch(d){n.error(d)}}:t.prototype._next,l._error=s?function(c){try{s(c)}catch(d){n.error(d)}finally{this.unsubscribe()}}:t.prototype._error,l._complete=i?function(){try{i()}catch(c){n.error(c)}finally{this.unsubscribe()}}:t.prototype._complete,l}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(U6),qBe=YW(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),eX=function(t){Pg(e,t);function e(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return e.prototype.lift=function(n){var r=new pM(this,this);return r.operator=n,r},e.prototype._throwIfClosed=function(){if(this.closed)throw new qBe},e.prototype.next=function(n){var r=this;gy(function(){var i,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var o=cg(r.currentObservers),a=o.next();!a.done;a=o.next()){var l=a.value;l.next(n)}}catch(c){i={error:c}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}}})},e.prototype.error=function(n){var r=this;gy(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},e.prototype.complete=function(){var n=this;gy(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},e.prototype._innerSubscribe=function(n){var r=this,i=this,s=i.hasError,o=i.isStopped,a=i.observers;return s||o?GW:(this.currentObservers=null,a.push(n),new kw(function(){r.currentObservers=null,K_(a,n)}))},e.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,s=r.thrownError,o=r.isStopped;i?n.error(s):o&&n.complete()},e.prototype.asObservable=function(){var n=new ts;return n.source=this,n},e.create=function(n,r){return new pM(n,r)},e}(ts),pM=function(t){Pg(e,t);function e(n,r){var i=t.call(this)||this;return i.destination=n,i.source=r,i}return e.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},e.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},e.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},e.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:GW},e}(eX),HBe=function(t){Pg(e,t);function e(n){var r=t.call(this)||this;return r._value=n,r}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(n){var r=t.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},e.prototype.getValue=function(){var n=this,r=n.hasError,i=n.thrownError,s=n._value;if(r)throw i;return this._throwIfClosed(),s},e.prototype.next=function(n){t.prototype.next.call(this,this._value=n)},e}(eX);function WBe(t){return t&&Oi(t.schedule)}function XBe(t){return t[t.length-1]}function tX(t){return WBe(XBe(t))?t.pop():void 0}var nX=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function rX(t){return Oi(t?.then)}function iX(t){return Oi(t[V6])}function sX(t){return Symbol.asyncIterator&&Oi(t?.[Symbol.asyncIterator])}function oX(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function YBe(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var aX=YBe();function lX(t){return Oi(t?.[aX])}function cX(t){return PAe(this,arguments,function(){var n,r,i,s;return fq(this,function(o){switch(o.label){case 0:n=t.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,Sm(n.read())];case 3:return r=o.sent(),i=r.value,s=r.done,s?[4,Sm(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,Sm(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function uX(t){return Oi(t?.getReader)}function n1(t){if(t instanceof ts)return t;if(t!=null){if(iX(t))return GBe(t);if(nX(t))return ZBe(t);if(rX(t))return KBe(t);if(sX(t))return dX(t);if(lX(t))return JBe(t);if(uX(t))return eze(t)}throw oX(t)}function GBe(t){return new ts(function(e){var n=t[V6]();if(Oi(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ZBe(t){return new ts(function(e){for(var n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function KBe(t){return new ts(function(e){t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,KW)})}function JBe(t){return new ts(function(e){var n,r;try{for(var i=cg(t),s=i.next();!s.done;s=i.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()})}function dX(t){return new ts(function(e){tze(t,e).catch(function(n){return e.error(n)})})}function eze(t){return dX(cX(t))}function tze(t,e){var n,r,i,s;return AAe(this,void 0,void 0,function(){var o,a;return fq(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=RAe(t),l.label=1;case 1:return[4,n.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(o=r.value,e.next(o),e.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),i={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(s=n.return)?[4,s.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function _h(t,e,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function hX(t,e){return e===void 0&&(e=0),Rg(function(n,r){n.subscribe(fv(r,function(i){return _h(r,t,function(){return r.next(i)},e)},function(){return _h(r,t,function(){return r.complete()},e)},function(i){return _h(r,t,function(){return r.error(i)},e)}))})}function fX(t,e){return e===void 0&&(e=0),Rg(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}function nze(t,e){return n1(t).pipe(fX(e),hX(e))}function rze(t,e){return n1(t).pipe(fX(e),hX(e))}function ize(t,e){return new ts(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function sze(t,e){return new ts(function(n){var r;return _h(n,e,function(){r=t[aX](),_h(n,e,function(){var i,s,o;try{i=r.next(),s=i.value,o=i.done}catch(a){n.error(a);return}o?n.complete():n.next(s)},0,!0)}),function(){return Oi(r?.return)&&r.return()}})}function mX(t,e){if(!t)throw new Error("Iterable cannot be null");return new ts(function(n){_h(n,e,function(){var r=t[Symbol.asyncIterator]();_h(n,e,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function oze(t,e){return mX(cX(t),e)}function aze(t,e){if(t!=null){if(iX(t))return nze(t,e);if(nX(t))return ize(t,e);if(rX(t))return rze(t,e);if(sX(t))return mX(t,e);if(lX(t))return sze(t,e);if(uX(t))return oze(t,e)}throw oX(t)}function lze(t,e){return e?aze(t,e):n1(t)}function df(t,e){return Rg(function(n,r){var i=0;n.subscribe(fv(r,function(s){r.next(t.call(e,s,i++))}))})}function cze(t,e,n,r,i,s,o,a){var l=[],c=0,d=0,h=!1,f=function(){h&&!l.length&&!c&&e.complete()},m=function(p){return c<r?g(p):l.push(p)},g=function(p){c++;var v=!1;n1(n(p,d++)).subscribe(fv(e,function(b){e.next(b)},function(){v=!0},void 0,function(){if(v)try{c--;for(var b=function(){var y=l.shift();o||g(y)};l.length&&c<r;)b();f()}catch(y){e.error(y)}}))};return t.subscribe(fv(e,m,function(){h=!0,f()})),function(){}}function gX(t,e,n){return n===void 0&&(n=1/0),Oi(e)?gX(function(r,i){return df(function(s,o){return e(r,s,i,o)})(n1(t(r,i)))},n):(typeof e=="number"&&(n=e),Rg(function(r,i){return cze(r,i,t,n)}))}function uze(t){return gX(JW,t)}function dze(){return uze(1)}function e5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return dze()(lze(t,tX(t)))}function hze(t,e){return Rg(function(n,r){var i=0;n.subscribe(fv(r,function(s){return t.call(e,s,i++)&&r.next(s)}))})}function r1(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=tX(t);return Rg(function(r,i){(n?e5(t,r,n):e5(t,r)).subscribe(i)})}var pX=(t,e,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(c){i(c)}},o=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(t,e)).next())}),fze="lk";function Sw(t){return typeof t>"u"?!1:mze(t)||gze(t)}function mze(t){var e;return t?t.hasOwnProperty("participant")&&t.hasOwnProperty("source")&&t.hasOwnProperty("track")&&typeof((e=t.publication)==null?void 0:e.track)<"u":!1}function gze(t){return t?t.hasOwnProperty("participant")&&t.hasOwnProperty("source")&&t.hasOwnProperty("publication")&&typeof t.publication<"u":!1}function pze(t){return t?t.hasOwnProperty("participant")&&t.hasOwnProperty("source")&&typeof t.publication>"u":!1}function vX(t){if(typeof t=="string"||typeof t=="number")return`${t}`;if(pze(t))return`${t.participant.identity}_${t.source}_placeholder`;if(Sw(t))return`${t.participant.identity}_${t.publication.source}_${t.publication.trackSid}`;throw new Error(`Can't generate a id for the given track reference: ${t}`)}function vze(t){return t.isLocal}var bze=[xe.ConnectionStateChanged,xe.RoomMetadataChanged,xe.ActiveSpeakersChanged,xe.ConnectionQualityChanged,xe.ParticipantConnected,xe.ParticipantDisconnected,xe.ParticipantPermissionsChanged,xe.ParticipantMetadataChanged,xe.ParticipantNameChanged,xe.ParticipantAttributesChanged,xe.TrackMuted,xe.TrackUnmuted,xe.TrackPublished,xe.TrackUnpublished,xe.TrackStreamStateChanged,xe.TrackSubscriptionFailed,xe.TrackSubscriptionPermissionChanged,xe.TrackSubscriptionStatusChanged],yze=[...bze,xe.LocalTrackPublished,xe.LocalTrackUnpublished];we.TrackPublished,we.TrackUnpublished,we.TrackMuted,we.TrackUnmuted,we.TrackStreamStateChanged,we.TrackSubscribed,we.TrackUnsubscribed,we.TrackSubscriptionPermissionChanged,we.TrackSubscriptionFailed,we.LocalTrackPublished,we.LocalTrackUnpublished;var Oze=[we.ConnectionQualityChanged,we.IsSpeakingChanged,we.ParticipantMetadataChanged,we.ParticipantPermissionsChanged,we.TrackMuted,we.TrackUnmuted,we.TrackPublished,we.TrackUnpublished,we.TrackStreamStateChanged,we.TrackSubscriptionFailed,we.TrackSubscriptionPermissionChanged,we.TrackSubscriptionStatusChanged];[...Oze,we.LocalTrackPublished,we.LocalTrackUnpublished];var ll=XW.getLogger("lk-components-js");ll.setDefaultLevel("WARN");function bX(t){return typeof t=="object"}function yX(t){return Array.isArray(t)&&t.filter(bX).length>0}function OX(t){return`${fze}-${t}`}function wze(t){const e=t5(t),n=Cze(t.participant).pipe(df(()=>t5(t)),r1(e));return{className:OX(t.source===Ee.Source.Camera||t.source===Ee.Source.ScreenShare?"participant-media-video":"participant-media-audio"),trackObserver:n}}function t5(t){if(Sw(t))return t.publication;{const{source:e,name:n,participant:r}=t;if(e&&n)return r.getTrackPublications().find(i=>i.source===e&&i.trackName===n);if(n)return r.getTrackPublicationByName(n);if(e)return r.getTrackPublication(e);throw new Error("At least one of source and name needs to be defined")}}function kze(t,...e){return new ts(r=>{const i=()=>{r.next(t)};return e.forEach(o=>{t.on(o,i)}),()=>{e.forEach(o=>{t.off(o,i)})}}).pipe(r1(t))}function Sze(t,e){return new ts(r=>{const i=(...o)=>{r.next(o)};return t.on(e,i),()=>{t.off(e,i)}})}function xze(t,e,n=!0){const r=new ts(s=>{au.getLocalDevices(t,n).then(o=>{s.next(o),s.complete()}).catch(o=>{e?.(o),s.next([]),s.complete()})}),i=new ts(s=>{var o;const a=()=>pX(this,null,function*(){try{const l=yield au.getLocalDevices(t,n);s.next(l)}catch(l){e?.(l)}});if(typeof window<"u"){if(!window.isSecureContext)throw new Error("Accessing media devices is available only in secure contexts (HTTPS and localhost), in some or all supporting browsers. See: https://developer.mozilla.org/en-US/docs/Web/API/Navigator/mediaDevices");(o=navigator?.mediaDevices)==null||o.addEventListener("devicechange",a)}return()=>{var l;(l=navigator?.mediaDevices)==null||l.removeEventListener("devicechange",a)}});return e5(r,i)}function _ze(t,e){return Sze(t,xe.ActiveDeviceChanged).pipe(hze(([n])=>n===e),df(([n,r])=>(ll.debug("activeDeviceObservable | RoomEvent.ActiveDeviceChanged",{kind:n,deviceId:r}),r)))}function wX(t,...e){return new ts(r=>{const i=()=>{r.next(t)};return e.forEach(o=>{t.on(o,i)}),()=>{e.forEach(o=>{t.off(o,i)})}}).pipe(r1(t))}function Cze(t){return wX(t,we.TrackMuted,we.TrackUnmuted,we.ParticipantPermissionsChanged,we.TrackPublished,we.TrackUnpublished,we.LocalTrackPublished,we.LocalTrackUnpublished,we.MediaDevicesError,we.TrackSubscriptionStatusChanged).pipe(df(n=>{const{isMicrophoneEnabled:r,isCameraEnabled:i,isScreenShareEnabled:s}=n,o=n.getTrackPublication(Ee.Source.Microphone),a=n.getTrackPublication(Ee.Source.Camera);return{isCameraEnabled:i,isMicrophoneEnabled:r,isScreenShareEnabled:s,cameraTrack:a,microphoneTrack:o,participant:n}}))}function Eze(t,e){return new ts(r=>{const i=(...o)=>{r.next(o)};return t.on(e,i),()=>{t.off(e,i)}})}function Tze(t){var e,n,r,i;return wX(t.participant,we.TrackMuted,we.TrackUnmuted,we.TrackSubscribed,we.TrackUnsubscribed,we.LocalTrackPublished,we.LocalTrackUnpublished).pipe(df(s=>{var o,a;const l=(o=t.publication)!=null?o:s.getTrackPublication(t.source);return(a=l?.isMuted)!=null?a:!0}),r1((i=(r=(e=t.publication)==null?void 0:e.isMuted)!=null?r:(n=t.participant.getTrackPublication(t.source))==null?void 0:n.isMuted)!=null?i:!0))}function Dze(t){return Eze(t,we.IsSpeakingChanged).pipe(df(([e])=>e))}function Aze(t,e,n){const r=new HBe(void 0),i=_ze(e,t),s=(a,...l)=>pX(this,[a,...l],function*(c,d={}){var h,f,m;if(e){const g=Ns();if(t==="audiooutput"&&(g?.name==="Safari"||g?.os==="iOS")){ll.warn("Switching audio output device is not supported on Safari and iOS.");return}ll.debug(`Switching active device of kind "${t}" with id ${c}.`),yield e.switchActiveDevice(t,c,d.exact);const p=(h=e.getActiveDevice(t))!=null?h:c;p!==c&&c!=="default"&&ll.info(`We tried to select the device with id (${c}), but the browser decided to select the device with id (${p}) instead.`);let v;t==="audioinput"?v=(f=e.localParticipant.getTrackPublication(Ee.Source.Microphone))==null?void 0:f.track:t==="videoinput"&&(v=(m=e.localParticipant.getTrackPublication(Ee.Source.Camera))==null?void 0:m.track);const b=c==="default"&&!v||c==="default"&&v?.mediaStreamTrack.label.startsWith("Default");r.next(b?c:p)}});return{className:OX("media-device-select"),activeDeviceObservable:i,setActiveMediaDevice:s}}function vM(t,e,n=!0){const i=[t.localParticipant,...Array.from(t.remoteParticipants.values())],s=[];return i.forEach(o=>{e.forEach(a=>{const l=Array.from(o.trackPublications.values()).filter(c=>c.source===a&&(!n||c.track)).map(c=>({participant:o,publication:c,source:c.source}));s.push(...l)})}),{trackReferences:s,participants:i}}function Pze(t,e,n){var r,i;const s=(r=n.additionalRoomEvents)!=null?r:yze,o=(i=n.onlySubscribed)!=null?i:!0,a=Array.from(new Set([xe.ParticipantConnected,xe.ParticipantDisconnected,xe.ConnectionStateChanged,xe.LocalTrackPublished,xe.LocalTrackUnpublished,xe.TrackPublished,xe.TrackUnpublished,xe.TrackSubscriptionStatusChanged,...s]).values());return kze(t,...a).pipe(df(c=>{const d=vM(c,e,o);return ll.debug(`TrackReference[] was updated. (length ${d.trackReferences.length})`,d),d}),r1(vM(t,e,o)))}function Rze(t,e){e.observe(t)}function Mze(t,e){const n=new WeakMap,r=new IntersectionObserver((a,l)=>{for(const c of a)n.get(c.target)?.(c,l)},t);wt(()=>r.disconnect());function i(a){r.unobserve(a),n.delete(a)}function s(a,l){Rze(a,r),n.set(a,l)}const o=(a,l)=>c=>l(c.isIntersecting);return a=>{const[l,c]=ve(t?.initialValue??!1),d=o(l,c);let h;return a instanceof Element?s(a,d):dt(()=>{const f=a();f!==h&&(h&&i(h),f&&s(f,d),h=f)}),wt(()=>h&&i(h)),l}}var bM;(function(t){t.Entering="Entering",t.Leaving="Leaving",t.Inside="Inside",t.Outside="Outside"})(bM||(bM={}));var yM;(function(t){t.Left="Left",t.Right="Right",t.None="None"})(yM||(yM={}));var OM;(function(t){t.Top="Top",t.Bottom="Bottom",t.None="None"})(OM||(OM={}));const Ize=(t,e)=>{let n;const r=()=>clearTimeout(n);return Gr()&&wt(r),Object.assign((...s)=>{n!==void 0&&r(),n=setTimeout(()=>t(...s),e)},{clear:r})};var $ze=I("<audio>"),Lze=I("<video>"),j6=yr(void 0);function Nze(){const t=Nn(j6);if(!t)throw Error("tried to access track context outside of track context provider");return t}function xw(){return Nn(j6)}function kX(t){const e=xw(),n=t??e;if(!n)throw new Error("No TrackRef, make sure you are inside a TrackRefContext or pass the TrackRef explicitly");return n}function q6({tracks:t,...e}){return u(Nq,{get each(){return t()},by:n=>vX(n),children:n=>u(j6.Provider,{get value(){return n()},get children(){return e.children({})}})})}function SX(t,e={}){const[n,r]=ve(t5(t)),[i,s]=ve(n()?.isMuted),[o,a]=ve(n()?.isSubscribed),[l,c]=ve(n()?.track),[d,h]=ve("landscape");let f;const m=ke(()=>wze(t),[t.participant.sid??t.participant.identity,t.source,Sw(t)&&t.publication.trackSid]);return dt(()=>{const g=m().trackObserver.subscribe(p=>{ll.debug("update track",p),r(p),s(p?.isMuted),a(p?.isSubscribed),c(p?.track)});return()=>g.unsubscribe()}),dt(()=>{const g=l(),p=e.element?.();return g&&(f&&g.detach(f),p&&!(vze(t.participant)&&g.kind==="audio")&&g.attach(p)),f=p,()=>{f&&g?.detach(f)}}),dt(()=>{const g=n();if(typeof g?.dimensions?.width=="number"&&typeof g.dimensions?.height=="number"){const p=g.dimensions.width>g.dimensions.height?"landscape":"portrait";h(p)}}),{publication:n,isMuted:i,isSubscribed:o,track:l,elementProps:()=>({...e.props,className:m().className,"data-lk-local-participant":t.participant.isLocal,"data-lk-source":n()?.source,...n()?.kind==="video"&&{"data-lk-orientation":d}})}}var Fze=yr(void 0);function Bze(){return Nn(Fze)}function Mg(t){const e=Bze(),n=xw(),r=t??e??n?.participant;if(!r)throw new Error("No participant provided, make sure you are inside a participant context or pass the participant explicitly");return r}var xX=yr(void 0);function H6(){return Nn(xX)}function zze(t){const e=H6();return()=>{const n=t??e?.();if(!n)throw new Error("No room provided, make sure you are inside a Room context or pass the room explicitly");return n}}function _X(t,e){const[n,r]=ve(e);return dt(()=>{if(typeof window>"u"||!t)return;const i=t.subscribe(r);return()=>i.unsubscribe()},[t]),n}function _w(t,e={}){const n=typeof t=="string"?e.participant:t.participant,r=Mg(n),i=typeof t=="string"?{participant:r,source:t}:t,[s,o]=ve(!!(i.publication?.isMuted||r.getTrackPublication(i.source)?.isMuted));return dt(()=>{const a=Tze(i).subscribe(o);return()=>a.unsubscribe()},[vX(i)]),s}function W6(t){const e=Mg(t),n=ke(()=>Dze(e),[e]);return _X(n(),e.isSpeaking)}function X6({kind:t,room:e,track:n,requestPermissions:r,onError:i}){const s=H6(),o=ke(()=>e??s?.()??new au),a=ke(()=>xze(t,i,r)),l=_X(a(),[]),[c,d]=ve(o()?.getActiveDevice(t)??"default"),h=ke(()=>Aze(t,o()));return dt(Zt(()=>h(),({activeDeviceObservable:f})=>{const m=f.subscribe(g=>{g&&d(g)});wt(()=>{m?.unsubscribe()})})),{devices:l,className:()=>h().className,activeDeviceId:c,setActiveMediaDevice:(...f)=>h().setActiveMediaDevice(...f)}}function Cw(t=[Ee.Source.Camera,Ee.Source.Microphone,Ee.Source.ScreenShare,Ee.Source.ScreenShareAudio,Ee.Source.Unknown],e={}){const n=zze(e.room),[r,i]=ve([]),[s,o]=ve([]),a=ke(()=>t.map(c=>bX(c)?c.source:c));return dt(()=>{const c=Pze(n(),a(),{additionalRoomEvents:e.updateOnlyOn,onlySubscribed:e.onlySubscribed}).subscribe(({trackReferences:d,participants:h})=>{ll.debug("setting track bundles",d,h),i(d),o(h)});return()=>c.unsubscribe()},[n(),JSON.stringify(e.updateOnlyOn),JSON.stringify(t)]),ke(()=>{if(yX(t)){const c=Uze(t,s()),d=Array.from(r());return s().forEach(h=>{c.has(h.identity)&&(c.get(h.identity)??[]).forEach(m=>{if(r().find(({participant:p,publication:v})=>h.identity===p.identity&&v.source===m))return;ll.debug(`Add ${m} placeholder for participant ${h.identity}.`);const g={participant:h,source:m};d.push(g)})}),d}else return r()})}function Qze(t,e){const n=new Set(t);for(const r of e)n.delete(r);return n}function Uze(t,e){const n=new Map;if(yX(t)){const r=t.filter(i=>i.withPlaceholder).map(i=>i.source);e.forEach(i=>{const s=i.getTrackPublications().map(a=>a.track?.source).filter(a=>a!==void 0),o=Array.from(Qze(new Set(r),new Set(s)));o.length>0&&n.set(i.identity,o)})}return n}function Vze(t){const e=kX(t.trackRef);let n;const{elementProps:r,isSubscribed:i,track:s,publication:o}=SX(e,{element:()=>n,props:t});dt(()=>{t.onSubscriptionStatusChanged?.(!!i())});let a;const{activeDeviceId:l}=X6({kind:"audiooutput"});return wt(()=>{a&&(a.gainNode.disconnect(),a.audioContext.close())}),dt(()=>{const c=s();if(!(c===void 0||t.volume===void 0))if(c instanceof VW)if(!t.enableBoosting||t.volume<=1)c.setVolume(t.volume),a&&(a.gainNode.disconnect(),a.audioContext.close(),a=void 0);else if(a)a.gainNode.gain.value=t.volume;else{c.setVolume(0);const d=new AudioContext;"setSinkId"in AudioContext.prototype&&d.setSinkId(l());const h=d.createGain(),f=d.createMediaStreamSource(new MediaStream([c.mediaStreamTrack]));h.gain.value=t.volume,h.connect(d.destination),f.connect(h),a={audioContext:d,gainNode:h}}else ll.warn("Volume can only be set on remote audio tracks.")}),dt(()=>{const c=o();c===void 0||t.muted===void 0||(c instanceof Q2?c.setEnabled(!t.muted):ll.warn("Can only call setEnabled on remote track publications."))}),(()=>{var c=$ze(),d=n;return typeof d=="function"?Fe(d,c):n=c,Se(c,ge(r),!1,!1),c})()}function CX({onTrackClick:t,onClick:e,onSubscriptionStatusChanged:n,trackRef:r,manageSubscription:i,...s}){const o=kX(r);let a;const c=Mze({threshold:.8})(()=>a),[d,h]=ve(),f=Ize(b=>h(b),3e3);dt(()=>f(c())),dt(()=>{i&&o.publication instanceof Q2&&d()===!1&&c()===!1&&o.publication.setSubscribed(!1)}),dt(()=>{i&&o.publication instanceof Q2&&c()&&o.publication.setSubscribed(!0)});const{elementProps:m,publication:g,isSubscribed:p}=SX(o,{element:()=>a,props:s});dt(()=>{n?.(!!p())});const v=b=>{e?.(b),t?.({participant:o?.participant,track:g()})};return(()=>{var b=Lze(),y=a;return typeof y=="function"?Fe(y,b):a=b,Se(b,ge(m,{muted:!0,onClick:v}),!1,!1),b})()}var jze=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z">');const qze=(t={})=>(()=>{var e=jze();return Se(e,t,!0,!0),e})();/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Rn=t=>(e,n)=>{n!==void 0?n.addInitializer(()=>{customElements.define(t,e)}):customElements.define(t,e)};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const py=globalThis,Y6=py.ShadowRoot&&(py.ShadyCSS===void 0||py.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,G6=Symbol(),wM=new WeakMap;let EX=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==G6)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(Y6&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=wM.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&wM.set(n,e))}return e}toString(){return this.cssText}};const Hze=t=>new EX(typeof t=="string"?t:t+"",void 0,G6),ur=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((r,i,s)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1],t[0]);return new EX(n,t,G6)},Wze=(t,e)=>{if(Y6)t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of e){const r=document.createElement("style"),i=py.litNonce;i!==void 0&&r.setAttribute("nonce",i),r.textContent=n.cssText,t.appendChild(r)}},kM=Y6?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return Hze(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:Xze,defineProperty:Yze,getOwnPropertyDescriptor:Gze,getOwnPropertyNames:Zze,getOwnPropertySymbols:Kze,getPrototypeOf:Jze}=Object,Ew=globalThis,SM=Ew.trustedTypes,eQe=SM?SM.emptyScript:"",tQe=Ew.reactiveElementPolyfillSupport,f0=(t,e)=>t,dg={toAttribute(t,e){switch(e){case Boolean:t=t?eQe:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},Z6=(t,e)=>!Xze(t,e),xM={attribute:!0,type:String,converter:dg,reflect:!1,useDefault:!1,hasChanged:Z6};Symbol.metadata??=Symbol("metadata"),Ew.litPropertyMetadata??=new WeakMap;let Qf=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,n=xM){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(e,n),!n.noAccessor){const r=Symbol(),i=this.getPropertyDescriptor(e,r,n);i!==void 0&&Yze(this.prototype,e,i)}}static getPropertyDescriptor(e,n,r){const{get:i,set:s}=Gze(this.prototype,e)??{get(){return this[n]},set(o){this[n]=o}};return{get:i,set(o){const a=i?.call(this);s?.call(this,o),this.requestUpdate(e,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??xM}static _$Ei(){if(this.hasOwnProperty(f0("elementProperties")))return;const e=Jze(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(f0("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(f0("properties"))){const n=this.properties,r=[...Zze(n),...Kze(n)];for(const i of r)this.createProperty(i,n[i])}const e=this[Symbol.metadata];if(e!==null){const n=litPropertyMetadata.get(e);if(n!==void 0)for(const[r,i]of n)this.elementProperties.set(r,i)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const i=this._$Eu(n,r);i!==void 0&&this._$Eh.set(i,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const i of r)n.unshift(kM(i))}else e!==void 0&&n.push(kM(e));return n}static _$Eu(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(e=>e(this))}addController(e){(this._$EO??=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Wze(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(e=>e.hostConnected?.())}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach(e=>e.hostDisconnected?.())}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$ET(e,n){const r=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,r);if(i!==void 0&&r.reflect===!0){const s=(r.converter?.toAttribute!==void 0?r.converter:dg).toAttribute(n,r.type);this._$Em=e,s==null?this.removeAttribute(i):this.setAttribute(i,s),this._$Em=null}}_$AK(e,n){const r=this.constructor,i=r._$Eh.get(e);if(i!==void 0&&this._$Em!==i){const s=r.getPropertyOptions(i),o=typeof s.converter=="function"?{fromAttribute:s.converter}:s.converter?.fromAttribute!==void 0?s.converter:dg;this._$Em=i,this[i]=o.fromAttribute(n,s.type)??this._$Ej?.get(i)??null,this._$Em=null}}requestUpdate(e,n,r){if(e!==void 0){const i=this.constructor,s=this[e];if(r??=i.getPropertyOptions(e),!((r.hasChanged??Z6)(s,n)||r.useDefault&&r.reflect&&s===this._$Ej?.get(e)&&!this.hasAttribute(i._$Eu(e,r))))return;this.C(e,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,n,{useDefault:r,reflect:i,wrapped:s},o){r&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,o??n??this[e]),s!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(n=void 0),this._$AL.set(e,n)),i===!0&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[i,s]of this._$Ep)this[i]=s;this._$Ep=void 0}const r=this.constructor.elementProperties;if(r.size>0)for(const[i,s]of r){const{wrapped:o}=s,a=this[i];o!==!0||this._$AL.has(i)||a===void 0||this.C(i,void 0,s,a)}}let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),this._$EO?.forEach(r=>r.hostUpdate?.()),this.update(n)):this._$EM()}catch(r){throw e=!1,this._$EM(),r}e&&this._$AE(n)}willUpdate(e){}_$AE(e){this._$EO?.forEach(n=>n.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach(n=>this._$ET(n,this[n])),this._$EM()}updated(e){}firstUpdated(e){}};Qf.elementStyles=[],Qf.shadowRootOptions={mode:"open"},Qf[f0("elementProperties")]=new Map,Qf[f0("finalized")]=new Map,tQe?.({ReactiveElement:Qf}),(Ew.reactiveElementVersions??=[]).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const nQe={attribute:!0,type:String,converter:dg,reflect:!1,hasChanged:Z6},rQe=(t=nQe,e,n)=>{const{kind:r,metadata:i}=n;let s=globalThis.litPropertyMetadata.get(i);if(s===void 0&&globalThis.litPropertyMetadata.set(i,s=new Map),r==="setter"&&((t=Object.create(t)).wrapped=!0),s.set(n.name,t),r==="accessor"){const{name:o}=n;return{set(a){const l=e.get.call(this);e.set.call(this,a),this.requestUpdate(o,l,t)},init(a){return a!==void 0&&this.C(o,void 0,t,a),a}}}if(r==="setter"){const{name:o}=n;return function(a){const l=this[o];e.call(this,a),this.requestUpdate(o,l,t)}}throw Error("Unsupported decorator location: "+r)};function ce(t){return(e,n)=>typeof n=="object"?rQe(t,e,n):((r,i,s)=>{const o=i.hasOwnProperty(s);return i.constructor.createProperty(s,r),o?Object.getOwnPropertyDescriptor(i,s):void 0})(t,e,n)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Wn(t){return ce({...t,state:!0,attribute:!1})}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const TX=(t,e,n)=>(n.configurable=!0,n.enumerable=!0,Reflect.decorate&&typeof e!="object"&&Object.defineProperty(t,e,n),n);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function iQe(t,e){return(n,r,i)=>{const s=o=>o.renderRoot?.querySelector(t)??null;return TX(n,r,{get(){return s(this)}})}}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function hf(t){return(e,n)=>{const{slot:r,selector:i}=t??{},s="slot"+(r?`[name=${r}]`:":not([name])");return TX(e,n,{get(){const o=this.renderRoot?.querySelector(s),a=o?.assignedElements(t)??[];return i===void 0?a:a.filter(l=>l.matches(i))}})}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const K6=globalThis,V2=K6.trustedTypes,_M=V2?V2.createPolicy("lit-html",{createHTML:t=>t}):void 0,DX="$lit$",Vu=`lit$${Math.random().toFixed(9).slice(2)}$`,AX="?"+Vu,sQe=`<${AX}>`,qh=document,mv=()=>qh.createComment(""),gv=t=>t===null||typeof t!="object"&&typeof t!="function",J6=Array.isArray,oQe=t=>J6(t)||typeof t?.[Symbol.iterator]=="function",p4=`[ 	
\f\r]`,Op=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,CM=/-->/g,EM=/>/g,Gd=RegExp(`>|${p4}(?:([^\\s"'>=/]+)(${p4}*=${p4}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),TM=/'/g,DM=/"/g,PX=/^(?:script|style|textarea|title)$/i,aQe=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),_e=aQe(1),Ms=Symbol.for("lit-noChange"),ar=Symbol.for("lit-nothing"),AM=new WeakMap,hh=qh.createTreeWalker(qh,129);function RX(t,e){if(!J6(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return _M!==void 0?_M.createHTML(e):e}const lQe=(t,e)=>{const n=t.length-1,r=[];let i,s=e===2?"<svg>":e===3?"<math>":"",o=Op;for(let a=0;a<n;a++){const l=t[a];let c,d,h=-1,f=0;for(;f<l.length&&(o.lastIndex=f,d=o.exec(l),d!==null);)f=o.lastIndex,o===Op?d[1]==="!--"?o=CM:d[1]!==void 0?o=EM:d[2]!==void 0?(PX.test(d[2])&&(i=RegExp("</"+d[2],"g")),o=Gd):d[3]!==void 0&&(o=Gd):o===Gd?d[0]===">"?(o=i??Op,h=-1):d[1]===void 0?h=-2:(h=o.lastIndex-d[2].length,c=d[1],o=d[3]===void 0?Gd:d[3]==='"'?DM:TM):o===DM||o===TM?o=Gd:o===CM||o===EM?o=Op:(o=Gd,i=void 0);const m=o===Gd&&t[a+1].startsWith("/>")?" ":"";s+=o===Op?l+sQe:h>=0?(r.push(c),l.slice(0,h)+DX+l.slice(h)+Vu+m):l+Vu+(h===-2?a:m)}return[RX(t,s+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};let n5=class MX{constructor({strings:e,_$litType$:n},r){let i;this.parts=[];let s=0,o=0;const a=e.length-1,l=this.parts,[c,d]=lQe(e,n);if(this.el=MX.createElement(c,r),hh.currentNode=this.el.content,n===2||n===3){const h=this.el.content.firstChild;h.replaceWith(...h.childNodes)}for(;(i=hh.nextNode())!==null&&l.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const h of i.getAttributeNames())if(h.endsWith(DX)){const f=d[o++],m=i.getAttribute(h).split(Vu),g=/([.?@])?(.*)/.exec(f);l.push({type:1,index:s,name:g[2],strings:m,ctor:g[1]==="."?uQe:g[1]==="?"?dQe:g[1]==="@"?hQe:Tw}),i.removeAttribute(h)}else h.startsWith(Vu)&&(l.push({type:6,index:s}),i.removeAttribute(h));if(PX.test(i.tagName)){const h=i.textContent.split(Vu),f=h.length-1;if(f>0){i.textContent=V2?V2.emptyScript:"";for(let m=0;m<f;m++)i.append(h[m],mv()),hh.nextNode(),l.push({type:2,index:++s});i.append(h[f],mv())}}}else if(i.nodeType===8)if(i.data===AX)l.push({type:2,index:s});else{let h=-1;for(;(h=i.data.indexOf(Vu,h+1))!==-1;)l.push({type:7,index:s}),h+=Vu.length-1}s++}}static createElement(e,n){const r=qh.createElement("template");return r.innerHTML=e,r}};function hg(t,e,n=t,r){if(e===Ms)return e;let i=r!==void 0?n._$Co?.[r]:n._$Cl;const s=gv(e)?void 0:e._$litDirective$;return i?.constructor!==s&&(i?._$AO?.(!1),s===void 0?i=void 0:(i=new s(t),i._$AT(t,n,r)),r!==void 0?(n._$Co??=[])[r]=i:n._$Cl=i),i!==void 0&&(e=hg(t,i._$AS(t,e.values),i,r)),e}class cQe{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:r}=this._$AD,i=(e?.creationScope??qh).importNode(n,!0);hh.currentNode=i;let s=hh.nextNode(),o=0,a=0,l=r[0];for(;l!==void 0;){if(o===l.index){let c;l.type===2?c=new eT(s,s.nextSibling,this,e):l.type===1?c=new l.ctor(s,l.name,l.strings,this,e):l.type===6&&(c=new fQe(s,this,e)),this._$AV.push(c),l=r[++a]}o!==l?.index&&(s=hh.nextNode(),o++)}return hh.currentNode=qh,i}p(e){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}}let eT=class IX{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,n,r,i){this.type=2,this._$AH=ar,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=i,this._$Cv=i?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&e?.nodeType===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=hg(this,e,n),gv(e)?e===ar||e==null||e===""?(this._$AH!==ar&&this._$AR(),this._$AH=ar):e!==this._$AH&&e!==Ms&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):oQe(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==ar&&gv(this._$AH)?this._$AA.nextSibling.data=e:this.T(qh.createTextNode(e)),this._$AH=e}$(e){const{values:n,_$litType$:r}=e,i=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=n5.createElement(RX(r.h,r.h[0]),this.options)),r);if(this._$AH?._$AD===i)this._$AH.p(n);else{const s=new cQe(i,this),o=s.u(this.options);s.p(n),this.T(o),this._$AH=s}}_$AC(e){let n=AM.get(e.strings);return n===void 0&&AM.set(e.strings,n=new n5(e)),n}k(e){J6(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,i=0;for(const s of e)i===n.length?n.push(r=new IX(this.O(mv()),this.O(mv()),this,this.options)):r=n[i],r._$AI(s),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(e=this._$AA.nextSibling,n){for(this._$AP?.(!1,!0,n);e&&e!==this._$AB;){const r=e.nextSibling;e.remove(),e=r}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}};class Tw{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,r,i,s){this.type=1,this._$AH=ar,this._$AN=void 0,this.element=e,this.name=n,this._$AM=i,this.options=s,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=ar}_$AI(e,n=this,r,i){const s=this.strings;let o=!1;if(s===void 0)e=hg(this,e,n,0),o=!gv(e)||e!==this._$AH&&e!==Ms,o&&(this._$AH=e);else{const a=e;let l,c;for(e=s[0],l=0;l<s.length-1;l++)c=hg(this,a[r+l],n,l),c===Ms&&(c=this._$AH[l]),o||=!gv(c)||c!==this._$AH[l],c===ar?e=ar:e!==ar&&(e+=(c??"")+s[l+1]),this._$AH[l]=c}o&&!i&&this.j(e)}j(e){e===ar?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}let uQe=class extends Tw{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===ar?void 0:e}},dQe=class extends Tw{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==ar)}},hQe=class extends Tw{constructor(e,n,r,i,s){super(e,n,r,i,s),this.type=5}_$AI(e,n=this){if((e=hg(this,e,n,0)??ar)===Ms)return;const r=this._$AH,i=e===ar&&r!==ar||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,s=e!==ar&&(r===ar||i);i&&this.element.removeEventListener(this.name,this,r),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}};class fQe{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){hg(this,e)}}const mQe=K6.litHtmlPolyfillSupport;mQe?.(n5,eT),(K6.litHtmlVersions??=[]).push("3.3.0");const gQe=(t,e,n)=>{const r=n?.renderBefore??e;let i=r._$litPart$;if(i===void 0){const s=n?.renderBefore??null;r._$litPart$=i=new eT(e.insertBefore(mv(),s),s,void 0,n??{})}return i._$AI(t),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const tT=globalThis;let Bi=class extends Qf{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=gQe(n,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return Ms}};Bi._$litElement$=!0,Bi.finalized=!0,tT.litElementHydrateSupport?.({LitElement:Bi});const pQe=tT.litElementPolyfillSupport;pQe?.({LitElement:Bi});(tT.litElementVersions??=[]).push("4.2.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ll={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4},Ig=t=>(...e)=>({_$litDirective$:t,values:e});let i1=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,n,r){this._$Ct=e,this._$AM=n,this._$Ci=r}_$AS(e,n){return this.update(e,n)}update(e,n){return this.render(...n)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const No=Ig(class extends i1{constructor(t){if(super(t),t.type!==Ll.ATTRIBUTE||t.name!=="class"||t.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){if(this.st===void 0){this.st=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter(r=>r!=="")));for(const r in e)e[r]&&!this.nt?.has(r)&&this.st.add(r);return this.render(e)}const n=t.element.classList;for(const r of this.st)r in e||(n.remove(r),this.st.delete(r));for(const r in e){const i=!!e[r];i===this.st.has(r)||this.nt?.has(r)||(i?(n.add(r),this.st.add(r)):(n.remove(r),this.st.delete(r)))}return Ms}});/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $X=Symbol("attachableController");let LX;LX=new MutationObserver(t=>{for(const e of t)e.target[$X]?.hostConnected()});class vQe{get htmlFor(){return this.host.getAttribute("for")}set htmlFor(e){e===null?this.host.removeAttribute("for"):this.host.setAttribute("for",e)}get control(){return this.host.hasAttribute("for")?!this.htmlFor||!this.host.isConnected?null:this.host.getRootNode().querySelector(`#${this.htmlFor}`):this.currentControl||this.host.parentElement}set control(e){e?this.attach(e):this.detach()}constructor(e,n){this.host=e,this.onControlChange=n,this.currentControl=null,e.addController(this),e[$X]=this,LX?.observe(e,{attributeFilter:["for"]})}attach(e){e!==this.currentControl&&(this.setCurrentControl(e),this.host.removeAttribute("for"))}detach(){this.setCurrentControl(null),this.host.setAttribute("for","")}hostConnected(){this.setCurrentControl(this.control)}hostDisconnected(){this.setCurrentControl(null)}setCurrentControl(e){this.onControlChange(this.currentControl,e),this.currentControl=e}}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bQe={STANDARD:"cubic-bezier(0.2, 0, 0, 1)"};/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yQe=450,PM=225,OQe=.2,wQe=10,kQe=75,SQe=.35,xQe="::after",_Qe="forwards";var ws;(function(t){t[t.INACTIVE=0]="INACTIVE",t[t.TOUCH_DELAY=1]="TOUCH_DELAY",t[t.HOLDING=2]="HOLDING",t[t.WAITING_FOR_CLICK=3]="WAITING_FOR_CLICK"})(ws||(ws={}));const CQe=["click","contextmenu","pointercancel","pointerdown","pointerenter","pointerleave","pointerup"],EQe=150,TQe=window.matchMedia("(forced-colors: active)");let s1=class extends Bi{constructor(){super(...arguments),this.disabled=!1,this.hovered=!1,this.pressed=!1,this.rippleSize="",this.rippleScale="",this.initialSize=0,this.state=ws.INACTIVE,this.checkBoundsAfterContextMenu=!1,this.attachableController=new vQe(this,this.onControlChange.bind(this))}get htmlFor(){return this.attachableController.htmlFor}set htmlFor(e){this.attachableController.htmlFor=e}get control(){return this.attachableController.control}set control(e){this.attachableController.control=e}attach(e){this.attachableController.attach(e)}detach(){this.attachableController.detach()}connectedCallback(){super.connectedCallback(),this.setAttribute("aria-hidden","true")}render(){const e={hovered:this.hovered,pressed:this.pressed};return _e`<div class="surface ${No(e)}"></div>`}update(e){e.has("disabled")&&this.disabled&&(this.hovered=!1,this.pressed=!1),super.update(e)}handlePointerenter(e){this.shouldReactToEvent(e)&&(this.hovered=!0)}handlePointerleave(e){this.shouldReactToEvent(e)&&(this.hovered=!1,this.state!==ws.INACTIVE&&this.endPressAnimation())}handlePointerup(e){if(this.shouldReactToEvent(e)){if(this.state===ws.HOLDING){this.state=ws.WAITING_FOR_CLICK;return}if(this.state===ws.TOUCH_DELAY){this.state=ws.WAITING_FOR_CLICK,this.startPressAnimation(this.rippleStartEvent);return}}}async handlePointerdown(e){if(this.shouldReactToEvent(e)){if(this.rippleStartEvent=e,!this.isTouch(e)){this.state=ws.WAITING_FOR_CLICK,this.startPressAnimation(e);return}this.checkBoundsAfterContextMenu&&!this.inBounds(e)||(this.checkBoundsAfterContextMenu=!1,this.state=ws.TOUCH_DELAY,await new Promise(n=>{setTimeout(n,EQe)}),this.state===ws.TOUCH_DELAY&&(this.state=ws.HOLDING,this.startPressAnimation(e)))}}handleClick(){if(!this.disabled){if(this.state===ws.WAITING_FOR_CLICK){this.endPressAnimation();return}this.state===ws.INACTIVE&&(this.startPressAnimation(),this.endPressAnimation())}}handlePointercancel(e){this.shouldReactToEvent(e)&&this.endPressAnimation()}handleContextmenu(){this.disabled||(this.checkBoundsAfterContextMenu=!0,this.endPressAnimation())}determineRippleSize(){const{height:e,width:n}=this.getBoundingClientRect(),r=Math.max(e,n),i=Math.max(SQe*r,kQe),s=Math.floor(r*OQe),a=Math.sqrt(n**2+e**2)+wQe;this.initialSize=s,this.rippleScale=`${(a+i)/s}`,this.rippleSize=`${s}px`}getNormalizedPointerEventCoords(e){const{scrollX:n,scrollY:r}=window,{left:i,top:s}=this.getBoundingClientRect(),o=n+i,a=r+s,{pageX:l,pageY:c}=e;return{x:l-o,y:c-a}}getTranslationCoordinates(e){const{height:n,width:r}=this.getBoundingClientRect(),i={x:(r-this.initialSize)/2,y:(n-this.initialSize)/2};let s;return e instanceof PointerEvent?s=this.getNormalizedPointerEventCoords(e):s={x:r/2,y:n/2},s={x:s.x-this.initialSize/2,y:s.y-this.initialSize/2},{startPoint:s,endPoint:i}}startPressAnimation(e){if(!this.mdRoot)return;this.pressed=!0,this.growAnimation?.cancel(),this.determineRippleSize();const{startPoint:n,endPoint:r}=this.getTranslationCoordinates(e),i=`${n.x}px, ${n.y}px`,s=`${r.x}px, ${r.y}px`;this.growAnimation=this.mdRoot.animate({top:[0,0],left:[0,0],height:[this.rippleSize,this.rippleSize],width:[this.rippleSize,this.rippleSize],transform:[`translate(${i}) scale(1)`,`translate(${s}) scale(${this.rippleScale})`]},{pseudoElement:xQe,duration:yQe,easing:bQe.STANDARD,fill:_Qe})}async endPressAnimation(){this.rippleStartEvent=void 0,this.state=ws.INACTIVE;const e=this.growAnimation;let n=1/0;if(typeof e?.currentTime=="number"?n=e.currentTime:e?.currentTime&&(n=e.currentTime.to("ms").value),n>=PM){this.pressed=!1;return}await new Promise(r=>{setTimeout(r,PM-n)}),this.growAnimation===e&&(this.pressed=!1)}shouldReactToEvent(e){if(this.disabled||!e.isPrimary||this.rippleStartEvent&&this.rippleStartEvent.pointerId!==e.pointerId)return!1;if(e.type==="pointerenter"||e.type==="pointerleave")return!this.isTouch(e);const n=e.buttons===1;return this.isTouch(e)||n}inBounds({x:e,y:n}){const{top:r,left:i,bottom:s,right:o}=this.getBoundingClientRect();return e>=i&&e<=o&&n>=r&&n<=s}isTouch({pointerType:e}){return e==="touch"}async handleEvent(e){if(!TQe?.matches)switch(e.type){case"click":this.handleClick();break;case"contextmenu":this.handleContextmenu();break;case"pointercancel":this.handlePointercancel(e);break;case"pointerdown":await this.handlePointerdown(e);break;case"pointerenter":this.handlePointerenter(e);break;case"pointerleave":this.handlePointerleave(e);break;case"pointerup":this.handlePointerup(e);break}}onControlChange(e,n){for(const r of CQe)e?.removeEventListener(r,this),n?.addEventListener(r,this)}};q([ce({type:Boolean,reflect:!0})],s1.prototype,"disabled",void 0);q([Wn()],s1.prototype,"hovered",void 0);q([Wn()],s1.prototype,"pressed",void 0);q([iQe(".surface")],s1.prototype,"mdRoot",void 0);/**
 * @license
 * Copyright 2024 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DQe=ur`:host{display:flex;margin:auto;pointer-events:none}:host([disabled]){display:none}@media(forced-colors: active){:host{display:none}}:host,.surface{border-radius:inherit;position:absolute;inset:0;overflow:hidden}.surface{-webkit-tap-highlight-color:rgba(0,0,0,0)}.surface::before,.surface::after{content:"";opacity:0;position:absolute}.surface::before{background-color:var(--md-ripple-hover-color, var(--md-sys-color-on-surface, #1d1b20));inset:0;transition:opacity 15ms linear,background-color 15ms linear}.surface::after{background:radial-gradient(closest-side, var(--md-ripple-pressed-color, var(--md-sys-color-on-surface, #1d1b20)) max(100% - 70px, 65%), transparent 100%);transform-origin:center center;transition:opacity 375ms linear}.hovered::before{background-color:var(--md-ripple-hover-color, var(--md-sys-color-on-surface, #1d1b20));opacity:var(--md-ripple-hover-opacity, 0.08)}.pressed::after{opacity:var(--md-ripple-pressed-opacity, 0.12);transition-duration:105ms}
`;/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let r5=class extends s1{};r5.styles=[DQe];r5=q([Rn("md-ripple")],r5);var AQe=I("<md-ripple>",!0,!1,!1);function En(t){return(()=>{var e=AQe();return Se(e,t,!1,!1),e._$owner=Gr(),e})()}var PQe=I("<span>");function Le(t){const[e,n]=sn(t,["children"]);return(()=>{var r=PQe();return V(r,()=>e.children),Te(()=>ut(r,An(n))),r})()}const An=nn({variants:{class:{display:{},headline:{},title:{},body:{},label:{},_messages:{fontWeight:400,fontSize:"var(--message-size)"},_status:{fontWeight:400,fontSize:"11px"}},size:{large:{},medium:{},small:{}}},compoundVariants:[{class:"display",size:"large",css:{lineHeight:"4rem",fontSize:"3.5625rem",letterSpacing:"0",fontWeight:400}},{class:"display",size:"medium",css:{lineHeight:"3.25rem",fontSize:"2.8125rem",letterSpacing:"0",fontWeight:400}},{class:"display",size:"small",css:{lineHeight:"2.75rem",fontSize:"2.25rem",letterSpacing:"0",fontWeight:400}},{class:"headline",size:"large",css:{lineHeight:"2.5rem",fontSize:"2rem",letterSpacing:"0",fontWeight:400}},{class:"headline",size:"medium",css:{lineHeight:"2.25rem",fontSize:"1.75rem",letterSpacing:"0",fontWeight:400}},{class:"headline",size:"small",css:{lineHeight:"2rem",fontSize:"1.5rem",letterSpacing:"0",fontWeight:400}},{class:"title",size:"large",css:{lineHeight:"1.75rem",fontSize:"1.375rem",letterSpacing:"0",fontWeight:550}},{class:"title",size:"medium",css:{lineHeight:"1.5rem",fontSize:"1rem",letterSpacing:"0.009375rem",fontWeight:550}},{class:"title",size:"small",css:{lineHeight:"1.25rem",fontSize:"0.875rem",letterSpacing:"0.00625rem",fontWeight:550}},{class:"body",size:"large",css:{lineHeight:"1.5rem",fontSize:"1rem",letterSpacing:"0.009375rem",fontWeight:400}},{class:"body",size:"medium",css:{lineHeight:"1.25rem",fontSize:"0.875rem",letterSpacing:"0.015625rem",fontWeight:400}},{class:"body",size:"small",css:{lineHeight:"1rem",fontSize:"0.75rem",letterSpacing:"0.025rem",fontWeight:400}},{class:"label",size:"large",css:{lineHeight:"1.25rem",fontSize:"0.875rem",letterSpacing:"0.00625rem",fontWeight:500}},{class:"label",size:"medium",css:{lineHeight:"1rem",fontSize:"0.75rem",letterSpacing:"0.03125rem",fontWeight:500}},{class:"label",size:"small",css:{lineHeight:"0.875rem",fontSize:"0.6875rem",letterSpacing:"0.03125rem",fontWeight:500}}],defaultVariants:{class:"body",size:"medium"}});var RQe=I("<summary>"),RM=I("<div>");function Xe(t){return u(MQe,{get variant(){return t.variant},get isLink(){return!!t.onClick},get disabled(){return t.disabled},get"aria-disabled"(){return t.disabled},get onClick(){return t.disabled?void 0:t.onClick},get children(){return[u(En,{}),u(X,{get when(){return t.icon!=="blank"},get children(){return u(NX,{get rounded(){return t.roundedIcon},get children(){return t.icon}})}}),u(X,{get when(){return t.icon==="blank"},get children(){return u($Qe,{})}}),u(IQe,{get children(){return[u(X,{get when(){return t.children},get children(){return u(jr,{get children(){return t.children}})}}),u(X,{get when(){return t.description},get children(){return u(LQe,{get children(){return t.description}})}})]}}),u(rt,{get each(){return Array.isArray(t.action)?t.action:[t.action]},children:e=>u(Me,{fallback:e,get children(){return[u(Z,{when:e==="chevron",get children(){return u(mb,{get children(){return u(KO,ge(()=>at(18)))}})}}),u(Z,{when:e==="collapse",get children(){return u(mb,{get children(){return u(qze,ge(()=>at(18)))}})}}),u(Z,{when:e==="external",get children(){return u(mb,{get children(){return u(vq,ge(()=>at(18)))}})}}),u(Z,{when:e==="copy",get children(){return u(mb,{get children(){return u(t1,ge(()=>at(18)))}})}})]}})})]}})}const MQe=H("a",{base:{position:"relative",gap:"16px",padding:"13px",borderRadius:"var(--borderRadius-md)",userSelect:"none",cursor:"pointer",transition:"background-color 0.1s ease-in-out",display:"flex",alignItems:"center",flexDirection:"row",color:"var(--color)",fill:"var(--color)"},variants:{variant:{filled:{background:"var(--md-sys-color-primary)","--color":"var(--md-sys-color-on-primary)"},tonal:{background:"var(--md-sys-color-secondary-container)","--color":"var(--md-sys-color-on-secondary-container)"},tertiary:{background:"var(--md-sys-color-tertiary-container)","--color":"var(--md-sys-color-on-tertiary-container)"}},isLink:{true:{cursor:"pointer"},false:{cursor:"initial"}},disabled:{true:{cursor:"not-allowed"}}},defaultVariants:{variant:"tonal"}}),IQe=H("div",{base:{display:"flex",flexGrow:1,flexDirection:"column",fontWeight:500,fontSize:"14px",gap:"2px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}),NX=H("div",{base:{fill:"var(--md-sys-color-on-surface)",background:"var(--md-sys-color-surface-dim)",width:"36px",height:"36px",display:"flex",flexShrink:0,alignItems:"center",justifyContent:"center"},variants:{rounded:{true:{borderRadius:"var(--borderRadius-full)"},false:{borderRadius:"var(--borderRadius-md)"}}},defaultVariants:{rounded:!0}}),$Qe=H(NX,{base:{background:"transparent"}}),LQe=H("span",{base:{...An.raw({class:"label"}),textWrap:"wrap","& a:hover":{textDecoration:"underline"}}}),mb=H("div",{base:{width:"24px",height:"24px",flexShrink:0,display:"grid",placeItems:"center"}}),NQe=H("div",{base:{display:"flex",flexDirection:"column",gap:"var(--gap-xs)",borderRadius:"var(--borderRadius-xl)",overflow:"hidden"}});Xe.Group=NQe;function nT(t){const[e,n]=sn(t,["action","children"]),[r,i]=ve(!1);let s,o;const a=()=>{const c=r();c||o?.scroll({top:0}),i(!c)},l=()=>`${r()?Math.min(o?.scrollHeight||0,340):0}px`;return u(FQe,{ref(c){var d=s;typeof d=="function"?d(c):s=c},onClick:a,get class(){return r()?"open":void 0},get children(){return[(()=>{var c=RQe();return V(c,u(Xe,ge(n,{get action(){return[e.action,"collapse"].flat()},onClick:()=>{},get children(){return t.title}}))),c})(),u(Me,{get fallback(){return(()=>{var c=RM(),d=o;return typeof d=="function"?Fe(d,c):o=c,V(c,()=>t.children),Te(h=>{var f=MM({static:!0}),m=l();return f!==h.e&&ut(c,h.e=f),m!==h.t&&((h.t=m)!=null?c.style.setProperty("height",m):c.style.removeProperty("height")),h},{e:void 0,t:void 0}),c})()},get children(){return u(Z,{get when(){return t.scrollable},get children(){var c=RM();Fe(hu,c,()=>({class:MM()}));var d=o;return typeof d=="function"?Fe(d,c):o=c,V(c,()=>t.children),Te(h=>(h=l())!=null?c.style.setProperty("height",h):c.style.removeProperty("height")),c}})}})]}})}Xe.Collapse=nT;const MM=nn({base:{display:"flex",flexDirection:"column",gap:"var(--gap-xs)",borderRadius:"var(--borderRadius-md)",transition:"0.3s",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},variants:{static:{true:{overflow:"hidden"}}}}),FQe=H("div",{base:{"&:not(.open) .InnerColumn":{opacity:0,pointerEvents:"none"},"& summary div:last-child svg":{transition:"0.3s"},"&.open summary div:last-child svg":{transform:"rotate(180deg)"},"&.open summary":{marginBottom:"var(--gap-xs)"},"& summary":{transition:"0.3s",listStyle:"none"},"& summary::marker, summary::-webkit-details-marker":{display:"none"}}});function BQe(){return u(Ae,{get children(){return[u(Xe.Group,{get children(){return[u(zQe,{}),u(QQe,{})]}}),u(UQe,{})]}})}function zQe(){const{_:t}=Dt(),e=Ht(),{activeDeviceId:n,devices:r,setActiveMediaDevice:i}=X6({kind:"audioinput"}),s=()=>(n()==="default"?e.voice.preferredAudioInputDevice:void 0)??n(),o=()=>r().find(a=>a.deviceId===s())?.label??t({id:"vSpLqj"});return u(nT,{get icon(){return u(yt,{children:"mic"})},get title(){return u(k,{id:"fnH1fe"})},get description(){return o()},scrollable:!0,get children(){return u(rt,{get each(){return r()},children:a=>u(Xe,{icon:"blank",get action(){return u(pr,{get checked(){return a.deviceId===s()}})},onClick:()=>{e.voice.preferredAudioInputDevice=a.deviceId,i(a.deviceId)},get children(){return a.label}})})}})}function QQe(){const{_:t}=Dt(),e=Ht(),{activeDeviceId:n,devices:r,setActiveMediaDevice:i}=X6({kind:"audiooutput"}),s=()=>(n()==="default"?e.voice.preferredAudioOutputDevice:void 0)??n(),o=()=>r().find(a=>a.deviceId===s())?.label??t({id:"Ka0XKu"});return u(nT,{get icon(){return u(yt,{children:"speaker"})},get title(){return u(k,{id:"SuSAW1"})},get description(){return o()},scrollable:!0,get children(){return u(rt,{get each(){return r()},children:a=>u(Xe,{icon:"blank",get action(){return u(pr,{get checked(){return a.deviceId===s()}})},onClick:()=>{e.voice.preferredAudioOutputDevice=a.deviceId,i(a.deviceId)},get children(){return a.label}})})}})}function UQe(){const t=Ht();return u(Ae,{get children(){return[u(Le,{class:"label",get children(){return u(k,{id:"QCNGi7"})}}),u(tO,{min:0,max:3,step:.1,get value(){return t.voice.outputVolume},onInput:e=>t.voice.outputVolume=e.currentTarget.value,labelFormatter:e=>(e*100).toFixed(0)+"%"})]}})}function VQe(){const t=Ht();return u(Ae,{get children(){return[u(Le,{class:"title",get children(){return u(k,{id:"ofG8w+"})}}),u(Xe.Group,{get children(){return[u(Xe,{icon:"blank",get action(){return u(pr,{get checked(){return t.voice.noiseSupression}})},onClick:()=>t.voice.noiseSupression=!t.voice.noiseSupression,get children(){return u(k,{id:"gVGZxt"})}}),u(Xe,{icon:"blank",get action(){return u(pr,{get checked(){return t.voice.echoCancellation}})},onClick:()=>t.voice.echoCancellation=!t.voice.echoCancellation,get children(){return u(k,{id:"MtknRQ"})}})]}})]}})}function jQe(){return u(Ae,{gap:"lg",get children(){return[u(BQe,{}),u(VQe,{})]}})}var qQe=I("<div>"),HQe=I("<span>"),WQe=I("<span> (<!>)"),XQe=I("<span>, <!>, ");const YQe={title(t,e){return e.startsWith("bots/")?Dg(e.substring(5))().username:t.entries.flatMap(n=>n.entries).find(n=>n.id===e)?.title},render(t){const e=t.page(),n=pt();if(e?.startsWith("bots/")){const r=n().bots.get(e.substring(5));return u(XIe,{bot:r})}switch(e){case"account":return u(jMe,{});case"appearance":return u(AIe,{});case"advanced":return u(XMe,{});case"profile":return u(ZIe,{});case"sessions":return u(wIe,{});case"bots":return u($Ie,{});case"language":return u(mIe,{});case"feedback":return u(nIe,{});case"subscribe":return u(w$e,{});case"native":return u(yIe,{});case"voice":return u(jQe,{});default:return null}},list(){const{pop:t}=Ne(),{logout:e}=wu();return{context:null,prepend:u(Ae,{gap:"s",get children(){return[u(_Ie,{}),qQe()]}}),append:u(Ae,{gap:"none",get children(){return[u(Le,{class:"label",get children(){return[(()=>{var n=HQe();return V(n,u(k,{id:"csCoda"})),Te(()=>ut(n,hn({userSelect:"none",fontWeight:"bold"}))),n})()," ",(()=>{var n=WQe(),r=n.firstChild,i=r.nextSibling;return i.nextSibling,V(n,()=>i7.version,r),V(n,()=>i7["version-date"],i),Te(()=>ut(n,hn({userSelect:"all"}))),n})()]}}),u(X,{get when(){return window.native},get children(){return[u(Le,{class:"label",get children(){return["Stoat for Desktop ",Ce(()=>window.native.versions.desktop())]}}),u(Le,{class:"label",get children(){var n=XQe(),r=n.firstChild,i=r.nextSibling;return i.nextSibling,V(n,()=>window.native.versions.electron(),r),V(n,()=>window.native.versions.node(),i),V(n,()=>window.native.versions.chrome(),null),Te(()=>ut(n,hn({fontSize:"0.8em",lineHeight:"0.8em",opacity:"0.5"}))),n}})]}})]}}),entries:[{title:u(k,{id:"ekfzWq"}),entries:[{id:"account",icon:[],title:[],hidden:!0},{id:"profile",icon:u(uMe,ge(()=>at(20))),title:u(k,{id:"vERlcd"})},{id:"sessions",icon:u(qq,ge(()=>at(20))),title:u(k,{id:"4cEClj"})}]},{title:"Stoat",entries:[{id:"bots",icon:u(jq,ge(()=>at(20))),title:u(k,{id:"xpgPPI"})},{id:"feedback",icon:u(OMe,ge(()=>at(20))),title:u(k,{id:"YirHq7"})}]},{title:u(k,{id:"P6F38F"}),hidden:!0,entries:[{id:"subscribe",icon:u(CMe,ge(()=>at(20))),title:"[premium]"}]},{title:u(k,{id:"XUe4cu"}),entries:[{id:"voice",icon:u(bMe,ge(()=>at(20))),title:u(k,{id:"KAXSwC"})},{id:"appearance",icon:u(f6,ge(()=>at(20))),title:u(k,{id:"aAIQg2"})},{id:"language",icon:u(Vq,ge(()=>at(20))),title:u(k,{id:"vXIe7J"})},{id:"native",hidden:!window.native,icon:u(yt,{size:20,children:"desktop_windows"}),title:u(k,{id:"BBqGS9"})}]},{entries:[{href:"https://github.com/stoatchat",icon:u(pMe,ge(()=>at(20))),title:u(k,{id:"PnzsrT"})},{id:"advanced",icon:u(kMe,ge(()=>at(20))),title:u(k,{id:"sxkWRg"})},{href:"https://ko-fi.com/stoatchat",icon:u(hMe,ge(()=>at(20))),title:u(k,{id:"Ng063n"})},{id:"logout",icon:u(hw,ge(()=>at(20),{fill:"var(--md-sys-color-error)"})),title:u(tf,{colour:"var(--md-sys-color-error)",get children(){return u(k,{id:"paehRh"})}}),onClick(){t(),e()}}]}]}}},GQe={user:YQe,server:lMe,channel:zRe};var ZQe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m0 14H8V4h12zm-7-2h2v-3h3V9h-3V6h-2v3h-3v2h3z">');const j2=(t={})=>(()=>{var e=ZQe();return Se(e,t,!0,!0),e})();var KQe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M12 18H6l-4 4V4c0-1.1.9-2 2-2h16c1.1 0 2 .9 2 2v7h-2V4H4v12h8zm11-3.66-1.41-1.41-4.24 4.24-2.12-2.12-1.41 1.41L17.34 20z">');const rT=(t={})=>(()=>{var e=KQe();return Se(e,t,!0,!0),e})();function JQe(t){const e=Ht(),{openModal:n}=Ne();function r(){t.category.channels.filter(l=>l.unread).forEach(l=>l.ack())}function i(){n({type:"create_category",server:t.server})}function s(){n({type:"delete_category",server:t.server,categoryId:t.category.id})}function o(){navigator.clipboard.writeText(t.category.id)}const a=()=>t.category.channels.some(l=>l?.unread);return u(yu,{get children(){return[u(X,{get when(){return a()},get children(){return[u(st,{icon:rT,onClick:r,get children(){return u(k,{id:"+s1J8k"})}}),u(Fi,{})]}}),u(X,{get when(){return t.server.havePermission("ManageChannel")},get children(){return u(st,{icon:j2,onClick:i,get children(){return u(k,{id:"EwoMtl"})}})}}),u(X,{get when(){return t.server.havePermission("ManageChannel")},get children(){return u(st,{icon:Ol,onClick:s,destructive:!0,get children(){return u(k,{id:"VskHIx"})}})}}),u(X,{get when(){return e.settings.getValue("advanced:copy_id")},get children(){return u(Fi,{})}}),u(X,{get when(){return e.settings.getValue("advanced:copy_id")},get children(){return u(st,{icon:e1,onClick:o,get children(){return u(k,{id:"Q7hk79"})}})}})]}})}var eUe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46a.5.5 0 0 0-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65A.49.49 0 0 0 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1a.6.6 0 0 0-.18-.03c-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46a.5.5 0 0 0 .61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1q.09.03.18.03c.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64zm-1.98-1.71c.04.31.05.52.05.73s-.02.43-.05.73l-.14 1.13.89.7 1.08.84-.7 1.21-1.27-.51-1.04-.42-.9.68c-.43.32-.84.56-1.25.73l-1.06.43-.16 1.13-.2 1.35h-1.4l-.19-1.35-.16-1.13-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7-1.06.43-1.27.51-.7-1.21 1.08-.84.89-.7-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13-.89-.7-1.08-.84.7-1.21 1.27.51 1.04.42.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43.16-1.13.2-1.35h1.39l.19 1.35.16 1.13 1.06.43c.43.18.83.41 1.23.71l.91.7 1.06-.43 1.27-.51.7 1.21-1.07.85-.89.7zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2">');const iT=(t={})=>(()=>{var e=eUe();return Se(e,t,!0,!0),e})();function sT(t){const e=Ht(),{openModal:n}=Ne();function r(){t.channel.ack()}function i(){n({type:"create_invite",channel:t.channel})}function s(){n({type:"create_channel",server:t.channel.server})}function o(){n({type:"settings",config:"channel",context:t.channel})}function a(){n({type:"delete_channel",channel:t.channel})}function l(){window.open(`https://old-admin.stoatinternal.com/panel/inspect/channel/${t.channel.id}`,"_blank")}function c(){navigator.clipboard.writeText(`${location.origin}${t.channel.server?`/server/${t.channel.server?.id}`:""}/channel/${t.channel.id}`)}function d(){navigator.clipboard.writeText(t.channel.id)}return u(yu,{get children(){return[u(X,{get when(){return t.channel.unread||t.channel.havePermission("InviteOthers")},get children(){return[u(X,{get when(){return t.channel.unread},get children(){return u(st,{icon:rT,onClick:r,get children(){return u(k,{id:"+s1J8k"})}})}}),u(X,{get when(){return t.channel.havePermission("InviteOthers")},get children(){return u(st,{icon:Uq,onClick:i,get children(){return u(k,{id:"fTMMeD"})}})}}),u(Fi,{})]}}),u(Cq,{get channel(){return t.channel}}),u(Fi,{}),u(X,{get when(){return t.channel.server?.havePermission("ManageChannel")},get children(){return u(st,{icon:j2,onClick:s,get children(){return u(k,{id:"gkBHk/"})}})}}),u(X,{get when(){return t.channel.havePermission("ManageChannel")},get children(){return[u(st,{icon:iT,onClick:o,get children(){return u(k,{id:"3QywKw"})}}),u(st,{get icon(){return t.channel.type==="Group"?hw:Ol},onClick:a,destructive:!0,get children(){return u(Me,{get fallback(){return u(k,{id:"hH3f+k"})},get children(){return u(Z,{get when(){return t.channel.type==="Group"},get children(){return u(k,{id:"2gC56n"})}})}})}})]}}),u(X,{get when(){return t.channel.server?.havePermission("ManageChannel")||t.channel.havePermission("ManageChannel")},get children(){return u(Fi,{})}}),u(X,{get when(){return e.settings.getValue("advanced:admin_panel")},get children(){return u(st,{icon:a6,onClick:l,get children(){return u(k,{id:"g1in8j"})}})}}),u(st,{icon:yq,onClick:c,get children(){return u(k,{id:"y1eoq1"})}}),u(X,{get when(){return e.settings.getValue("advanced:copy_id")},get children(){return u(st,{icon:e1,onClick:d,get children(){return u(k,{id:"G744eD"})}})}})]}})}function tUe(t){const e=Ht(),n=pt(),{openModal:r}=Ne();function i(){t.server.ack()}function s(){const p=t.server.orderedChannels.find(v=>v.channels.find(b=>b.havePermission("InviteOthers"))).channels.find(v=>v.havePermission("InviteOthers"));r({type:"create_invite",channel:p})}function o(){r({type:"server_identity",member:t.server.member})}function a(){r({type:"settings",config:"server",context:t.server})}function l(){r({type:"report_content",target:t.server,client:n()})}function c(){r({type:"leave_server",server:t.server})}function d(){window.open(`https://old-admin.stoatinternal.com/panel/inspect/server/${t.server.id}`,"_blank")}function h(){navigator.clipboard.writeText(t.server.id)}const f=()=>t.server.channels.find(p=>p.havePermission("InviteOthers")),m=()=>t.server.havePermission("ChangeNickname")||t.server.havePermission("ChangeAvatar"),g=()=>t.server.owner?.self||t.server.havePermission("AssignRoles")||t.server.havePermission("BanMembers")||t.server.havePermission("KickMembers")||t.server.havePermission("ManageChannel")||t.server.havePermission("ManageCustomisation")||t.server.havePermission("ManageNicknames")||t.server.havePermission("ManagePermissions")||t.server.havePermission("ManageRole")||t.server.havePermission("ManageServer")||t.server.havePermission("ManageWebhooks");return u(yu,{get children(){return[u(X,{get when(){return t.server.unread},get children(){return[u(st,{icon:rT,onClick:i,get children(){return u(k,{id:"+s1J8k"})}}),u(Fi,{})]}}),u(X,{get when(){return!e.notifications.isMuted(t.server)},get fallback(){return u(st,{onClick:()=>e.notifications.setServerMute(t.server,void 0),symbol:Sq,_titleCase:!1,get children(){return u(Ae,{gap:"none",get children(){return[u(k,{id:"at1WI0"}),u(X,{get when(){return e.notifications.getServerMute(t.server)?.until},get children(){return u(Le,{class:"label",size:"small",get children(){return u(k,{id:"eAyeR8",components:{0:u($r,{format:"datetime",get value(){return e.notifications.getServerMute(t.server).until}})}})}})}})]}})}})},get children(){return u(ov,{onClick:()=>e.notifications.setServerMute(t.server,{}),get buttonContent(){return u(k,{id:"WTx+eB"})},symbol:xq,get children(){return u(rt,{get each(){return[[15,u(k,{id:"FgSBCL"})],[60,u(k,{id:"k2oY8L"})],[180,u(k,{id:"kFyXAW"})],[480,u(k,{id:"74QJjm"})],[1440,u(k,{id:"57aFOk"})],[void 0,u(k,{id:"+YvyYS"})]]},children:([p,v])=>u(st,{onClick:()=>e.notifications.setServerMute(t.server,{until:p?+vu().add(p,"minutes"):void 0}),_titleCase:!1,children:v})})}})}}),u(ov,{symbol:_q,get buttonContent(){return u(k,{id:"iDNBZe"})},get children(){return[u(st,{icon:kq,onClick:()=>e.notifications.setServer(t.server,"all"),get actionSymbol(){return e.notifications.computeForServer(t.server)==="all"?uh:dh},get children(){return u(k,{id:"rimT/D"})}}),u(st,{icon:dw,onClick:()=>e.notifications.setServer(t.server,"mention"),get actionSymbol(){return e.notifications.computeForServer(t.server)==="mention"?uh:dh},get children(){return u(k,{id:"PWOA0E"})}}),u(st,{icon:l6,onClick:()=>e.notifications.setServer(t.server,"none"),get actionSymbol(){return e.notifications.computeForServer(t.server)==="none"?uh:dh},get children(){return u(k,{id:"EdQY6l"})}})]}}),u(Fi,{}),u(X,{get when(){return f()},get children(){return u(st,{icon:g6,onClick:s,get children(){return u(k,{id:"fTMMeD"})}})}}),u(X,{get when(){return m()},get children(){return u(st,{icon:wq,onClick:o,get children(){return u(k,{id:"mVr4m2"})}})}}),u(X,{get when(){return g()},get children(){return u(st,{icon:iT,onClick:a,get children(){return u(k,{id:"X8nARN"})}})}}),u(X,{get when(){return f()||m()||g()},get children(){return u(Fi,{})}}),u(st,{icon:o6,onClick:l,destructive:!0,get children(){return u(k,{id:"t43mBk"})}}),u(X,{get when(){return!t.server.owner?.self},get children(){return u(st,{icon:hw,onClick:c,destructive:!0,get children(){return u(k,{id:"gkmjYT"})}})}}),u(X,{get when(){return Ce(()=>!!e.settings.getValue("advanced:admin_panel"))()&&e.settings.getValue("advanced:copy_id")},get children(){return u(Fi,{})}}),u(X,{get when(){return e.settings.getValue("advanced:admin_panel")},get children(){return u(st,{icon:a6,onClick:d,get children(){return u(k,{id:"g1in8j"})}})}}),u(X,{get when(){return e.settings.getValue("advanced:copy_id")},get children(){return u(st,{icon:e1,onClick:h,get children(){return u(k,{id:"7SU2U9"})}})}})]}})}function nUe(t){const{openModal:e}=Ne();function n(){e({type:"create_channel",server:t.server})}function r(){e({type:"create_category",server:t.server})}return u(yu,{get children(){return u(X,{get when(){return t.server?.havePermission("ManageChannel")},get children(){return[u(st,{icon:j2,onClick:n,get children(){return u(k,{id:"gkBHk/"})}}),u(st,{icon:j2,onClick:r,get children(){return u(k,{id:"EwoMtl"})}})]}})}})}var rUe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10h5v-2h-5c-4.34 0-8-3.66-8-8s3.66-8 8-8 8 3.66 8 8v1.43c0 .79-.71 1.57-1.5 1.57s-1.5-.78-1.5-1.57V12c0-2.76-2.24-5-5-5s-5 2.24-5 5 2.24 5 5 5c1.38 0 2.64-.56 3.54-1.47.65.89 1.77 1.47 2.96 1.47 1.97 0 3.5-1.6 3.5-3.57V12c0-5.52-4.48-10-10-10m0 13c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3">');const IM=(t={})=>(()=>{var e=rUe();return Se(e,t,!0,!0),e})();var iUe=I("<span>everyone"),sUe=I("<span>online"),oUe=I("<span>Invalid Mention Element"),FX=I("<div>"),aUe=I("<span>Unknown User"),lUe=I("<span>Unknown Role");function BX(t){return u(Me,{get fallback(){return oUe()},get children(){return[u(Z,{get when(){return t.mentions?.startsWith("user:")},get children(){return u(di,{get userId(){return t.mentions.substring(5)},get disabled(){return t.disabled}})}}),u(Z,{get when(){return t.mentions==="everyone"},get children(){var e=iUe(),n=e.firstChild;return V(e,u(IM,ge(()=>at(16))),n),Te(()=>ut(e,Gc())),e}}),u(Z,{get when(){return t.mentions==="online"},get children(){var e=sUe(),n=e.firstChild;return V(e,u(IM,ge(()=>at(16))),n),Te(()=>ut(e,Gc())),e}}),u(Z,{get when(){return t.mentions?.startsWith("role:")},get children(){return u(cUe,{get roleId(){return t.mentions.substring(5)}})}})]}})}function di(t){const e=Dg(()=>t.userId);return u(Me,{get fallback(){return(()=>{var n=aUe();return Te(()=>ut(n,Gc({valid:!1}))),n})()},get children(){return u(Z,{get when(){return e().user},get children(){var n=FX();return Fe(Xt,n,()=>t.disabled?void 0:{userCard:e().user?{user:e().user,member:e().member}:void 0,contextMenu:()=>u(cf,{get user(){return e().user},get member(){return e().member}})}),V(n,u(zt,{size:16,get src(){return e().avatar},get fallback(){return e().username}}),null),V(n,u(tf,{get colour(){return e().colour},get children(){return e().username}}),null),Te(()=>ut(n,Gc({isLink:!0}))),n}})}})}function cUe(t){const e=pt(),n=du(),r=()=>e().servers.get(n().serverId)?.roles.get(t.roleId);return u(Me,{get fallback(){return(()=>{var i=lUe();return Te(()=>ut(i,Gc({valid:!1}))),i})()},get children(){return u(Z,{get when(){return r()},get children(){var i=FX();return V(i,u(uUe,{get style(){return{background:r().colour??"var(--md-sys-color-outline-variant)"}}}),null),V(i,u(tf,{get colour(){return r().colour},get children(){return r().name}}),null),Te(()=>ut(i,Gc())),i}})}})}const uUe=H("div",{base:{margin:"1px",width:"14px",height:"14px",aspectRatio:"1/1",borderRadius:"100%"}}),dUe=/(<@[0-9ABCDEFGHJKMNPQRSTVWXYZ]{26}>|@everyone|@online|<%[0-9ABCDEFGHJKMNPQRSTVWXYZ]{26}>)/,zX=()=>t=>{yl(t,"text",(e,n,r)=>{const i=e.value.split(dUe);if(i.length===1)return;const s=i.map((o,a)=>a%2?o.startsWith("<@")?{type:"mention",mentions:"user:"+o.substring(2,o.length-1)}:o==="@everyone"?{type:"mention",mentions:"everyone"}:o==="@online"?{type:"mention",mentions:"online"}:{type:"mention",mentions:"role:"+o.substring(2,o.length-1)}:{type:"text",value:o});return r.children.splice(n,1,...s),n+s.length})},QX=(t,e)=>({type:"element",tagName:"mention",children:[],properties:{mentions:e.mentions}}),Gc=nn({base:{verticalAlign:"bottom",gap:"4px",paddingLeft:"2px",paddingRight:"6px",alignItems:"center",display:"inline-flex",fontWeight:600,borderRadius:"var(--borderRadius-lg)",color:"var(--md-sys-color-on-primary-container)",background:"var(--md-sys-color-primary-container)"},variants:{isLink:{true:{cursor:"pointer"}},valid:{false:{paddingLeft:"6px",cursor:"not-allowed"}},inEditor:{true:{color:"var(--md-sys-color-on-primary)",background:"var(--md-sys-color-primary)","& img":{width:"16px",height:"16px",objectFit:"cover",borderRadius:"var(--borderRadius-full)"}}}}}),hUe=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,fUe=/[\0-\x1F\x7F-\x9F]/,mUe=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,gUe=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/;function pUe(t){const e={};t=t||{},e.src_Any=hUe.source,e.src_Cc=fUe.source,e.src_Z=gUe.source,e.src_P=mUe.source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");const n="[><]";return e.src_pseudo_letter="(?:(?!"+n+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+n+"|"+e.src_ZPCc+")(?!"+(t["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]|$)|"+(t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+e.src_ZCc+"|$)|;(?!"+e.src_ZCc+"|$)|\\!+(?!"+e.src_ZCc+"|[!]|$)|\\?(?!"+e.src_ZCc+"|[?]|$))+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+e.src_ZPCc+"))((?![$+<=>^`|])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}function i5(t){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(r){t[r]=n[r]})}),t}function Dw(t){return Object.prototype.toString.call(t)}function vUe(t){return Dw(t)==="[object String]"}function bUe(t){return Dw(t)==="[object Object]"}function yUe(t){return Dw(t)==="[object RegExp]"}function $M(t){return Dw(t)==="[object Function]"}function OUe(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const UX={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function wUe(t){return Object.keys(t||{}).reduce(function(e,n){return e||UX.hasOwnProperty(n)},!1)}const kUe={"http:":{validate:function(t,e,n){const r=t.slice(e);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,n){const r=t.slice(e);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,n){const r=t.slice(e);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},SUe="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",xUe="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function _Ue(t){t.__index__=-1,t.__text_cache__=""}function CUe(t){return function(e,n){const r=e.slice(n);return t.test(r)?r.match(t)[0].length:0}}function LM(){return function(t,e){e.normalize(t)}}function q2(t){const e=t.re=pUe(t.__opts__),n=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||n.push(SUe),n.push(e.src_xn),e.src_tlds=n.join("|");function r(a){return a.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(r(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(r(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(r(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(r(e.tpl_host_fuzzy_test),"i");const i=[];t.__compiled__={};function s(a,l){throw new Error('(LinkifyIt) Invalid schema "'+a+'": '+l)}Object.keys(t.__schemas__).forEach(function(a){const l=t.__schemas__[a];if(l===null)return;const c={validate:null,link:null};if(t.__compiled__[a]=c,bUe(l)){yUe(l.validate)?c.validate=CUe(l.validate):$M(l.validate)?c.validate=l.validate:s(a,l),$M(l.normalize)?c.normalize=l.normalize:l.normalize?s(a,l):c.normalize=LM();return}if(vUe(l)){i.push(a);return}s(a,l)}),i.forEach(function(a){t.__compiled__[t.__schemas__[a]]&&(t.__compiled__[a].validate=t.__compiled__[t.__schemas__[a]].validate,t.__compiled__[a].normalize=t.__compiled__[t.__schemas__[a]].normalize)}),t.__compiled__[""]={validate:null,normalize:LM()};const o=Object.keys(t.__compiled__).filter(function(a){return a.length>0&&t.__compiled__[a]}).map(OUe).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+o+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+e.src_ZPCc+"))("+o+")","ig"),t.re.schema_at_start=RegExp("^"+t.re.schema_search.source,"i"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),_Ue(t)}function EUe(t,e){const n=t.__index__,r=t.__last_index__,i=t.__text_cache__.slice(n,r);this.schema=t.__schema__.toLowerCase(),this.index=n+e,this.lastIndex=r+e,this.raw=i,this.text=i,this.url=i}function s5(t,e){const n=new EUe(t,e);return t.__compiled__[n.schema].normalize(n,t),n}function Xo(t,e){if(!(this instanceof Xo))return new Xo(t,e);e||wUe(t)&&(e=t,t={}),this.__opts__=i5({},UX,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=i5({},kUe,t),this.__compiled__={},this.__tlds__=xUe,this.__tlds_replaced__=!1,this.re={},q2(this)}Xo.prototype.add=function(e,n){return this.__schemas__[e]=n,q2(this),this};Xo.prototype.set=function(e){return this.__opts__=i5(this.__opts__,e),this};Xo.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let n,r,i,s,o,a,l,c,d;if(this.re.schema_test.test(e)){for(l=this.re.schema_search,l.lastIndex=0;(n=l.exec(e))!==null;)if(s=this.testSchemaAt(e,n[2],l.lastIndex),s){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+s;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test),c>=0&&(this.__index__<0||c<this.__index__)&&(r=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(o=r.index+r[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(d=e.indexOf("@"),d>=0&&(i=e.match(this.re.email_fuzzy))!==null&&(o=i.index+i[1].length,a=i.index+i[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=a))),this.__index__>=0};Xo.prototype.pretest=function(e){return this.re.pretest.test(e)};Xo.prototype.testSchemaAt=function(e,n,r){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(e,r,this):0};Xo.prototype.match=function(e){const n=[];let r=0;this.__index__>=0&&this.__text_cache__===e&&(n.push(s5(this,r)),r=this.__last_index__);let i=r?e.slice(r):e;for(;this.test(i);)n.push(s5(this,r)),i=i.slice(this.__last_index__),r+=this.__last_index__;return n.length?n:null};Xo.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const n=this.re.schema_at_start.exec(e);if(!n)return null;const r=this.testSchemaAt(e,n[2],n[0].length);return r?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+r,s5(this,0)):null};Xo.prototype.tlds=function(e,n){return e=Array.isArray(e)?e:[e],n?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(r,i,s){return r!==s[i-1]}).reverse(),q2(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,q2(this),this)};Xo.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};Xo.prototype.onCompile=function(){};const TUe=new Xo({fuzzyLink:!1}),VX=()=>t=>{yl(t,"text",(e,n,r)=>{const i=TUe.match(e.value);if(i===null)return;const s=[{type:"text",value:e.value.slice(0,i[0].index)},...i.flatMap((o,a)=>[{type:"link",url:o.url,title:o.text,children:[{type:"text",value:o.text}]},{type:"text",value:e.value.slice(o.lastIndex,i[a+1]?.index??e.value.length)}])];return r.children.splice(n,1,...s),n+s.length})},DUe=H("span",{base:{padding:"0 2px",borderRadius:"var(--borderRadius-md)"},variants:{shown:{true:{color:"var(--md-sys-color-inverse-on-surface)",background:"var(--md-sys-color-inverse-surface)"},false:{cursor:"pointer",userSelect:"none",color:"transparent",background:"#151515","> *":{opacity:0,pointerEvents:"none"}}}}});function jX(t){const[e,n]=ve(!1);return u(DUe,{get shown(){return e()},get onClick(){return t.disabled?void 0:()=>n(!0)},get children(){return t.children}})}const qX=()=>t=>{yl(t,"paragraph",(e,n,r)=>{let i=-1,s=[];for(let o=0;o<e.children.length;o++){const a=e.children[o];if(a.type==="text"){const l=a.value.split("||");if(l.length===1)continue;if(i!==-1){const h=e.children.splice(i,o-i);e.children.splice(o,0,{type:"spoiler",children:[...s,...h,{type:"text",value:l.shift()}]}),o+=h.length+1,i=-1,s=[]}a.value=l.shift();const c=l.length%2===1,d=(l.length-(c?1:0))/2;if(d)for(let h=0;h<d;h++)e.children.splice(o+1,0,{type:"spoiler",children:[{type:"text",value:l.shift()}]},{type:"text",value:l.shift()}),o+=2;c&&(i=o+1,s.push({type:"text",value:l.pop()}))}}})},HX=(t,e)=>({type:"element",tagName:"spoiler",children:t.all({type:"paragraph",children:e.children}),properties:{}});var AUe=I("<time>");function o5(t){function e(){switch(t.format){case"t":return t.date.format("hh:mm");case"T":return t.date.format("hh:mm:ss");case"R":return t.date.fromNow();case"D":return t.date.format("DD MMMM YYYY");case"F":return t.date.format("dddd, DD MMMM YYYY hh:mm");default:return t.date.format("DD MMMM YYYY hh:mm")}}const[n,r]=ve(e()),i=()=>r(e());return dt(()=>{if(t.format==="R"){const s=setInterval(i,1e3);return()=>clearInterval(s)}}),(()=>{var s=AUe();return Fe(Xt,s,()=>({tooltip:{placement:"top",content:t.date.toString()}})),V(s,n),Te(()=>ut(s,VE())),s})()}const WX=/<t:([0-9]+)(?::(\w))?>/g,PUe=()=>t=>{yl(t,"text",(e,n,r)=>{const i=e.value.split(WX);if(i.length===1)return;const s=[{type:"text",value:i.shift()}];for(let o=0;o<i.length/3;o++){const a=vu.unix(parseInt(i[o*3])).locale(Zv()[1]);s.push({type:"timestamp",format:i[o*3+1],date:a}),s.push({type:"text",value:i[o*3+2]})}return r.children.splice(n,1,...s),n+s.length})},RUe=(t,e)=>({type:"element",tagName:"timestamp",children:[],properties:{format:e.format,date:e.date}});function XX(t){return u(va,{get emoji(){return t.str},get pack(){return t.pack}})}function YX(t){const e=t[0],n=e.codePointAt(0);return n&&n>=B8e&&n<=z8e?{str:t.substring(1),pack:Q8e[e]}:{str:t}}const GX=()=>t=>{yl(t,"text",(e,n,r)=>{const i=e.value.split(Nj);if(i.length===1)return;const s=[{type:"text",value:i.shift()}];for(let o=0;o<i.length/2;o++)s.push({type:"unicodeEmoji",...YX(i[o*2])}),s.push({type:"text",value:i[o*2+1]});return r.children.splice(n,1,...s),n+s.length})},ZX=(t,e)=>({type:"element",tagName:"unicodeEmoji",children:[],properties:{str:e.str,pack:e.pack}}),MUe=/(^(?:[>*+-][^\S\r\n]*){4})(?:[>][^\S\r\n]*|[*+-]+\s)+(.*$)/gm,IUe=/^([^\S\r\n]*>[^\n]+\n?)+/gm,$Ue=/^(<\/?[a-zA-Z0-9]+>)(.*$)/gm,LUe=/^\s*?$/gm,NUe=/^\s*\+(?:$|[^+])/gm,FUe=/(?<=`{3}[\s\S]*)\n\uF800\n(?=[\s\S]*`{3})/gm;function KX(t){return t.replace(MUe,(e,n,r)=>n+r).replace($Ue,e=>`${e}`).replace(NUe,e=>`${e}`).replace(LUe,`

`).replace(FUe,"").replace(IUe,e=>`${e}
`)}function JX(){return t=>{function e(n){return n.type==="text"&&n.value===""?{type:"element",tagName:"br",properties:{},children:[]}:{...n,children:n.children?.map(r=>e(r))}}return e(t)}}var eY={},NM=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,BUe=/\n/g,zUe=/^\s*/,QUe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,UUe=/^:\s*/,VUe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,jUe=/^[;\s]*/,qUe=/^\s+|\s+$/g,HUe=`
`,FM="/",BM="*",ah="",WUe="comment",XUe="declaration",YUe=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(g){var p=g.match(BUe);p&&(n+=p.length);var v=g.lastIndexOf(HUe);r=~v?g.length-v:r+g.length}function s(){var g={line:n,column:r};return function(p){return p.position=new o(g),c(),p}}function o(g){this.start=g,this.end={line:n,column:r},this.source=e.source}o.prototype.content=t;function a(g){var p=new Error(e.source+":"+n+":"+r+": "+g);if(p.reason=g,p.filename=e.source,p.line=n,p.column=r,p.source=t,!e.silent)throw p}function l(g){var p=g.exec(t);if(p){var v=p[0];return i(v),t=t.slice(v.length),p}}function c(){l(zUe)}function d(g){var p;for(g=g||[];p=h();)p!==!1&&g.push(p);return g}function h(){var g=s();if(!(FM!=t.charAt(0)||BM!=t.charAt(1))){for(var p=2;ah!=t.charAt(p)&&(BM!=t.charAt(p)||FM!=t.charAt(p+1));)++p;if(p+=2,ah===t.charAt(p-1))return a("End of comment missing");var v=t.slice(2,p-2);return r+=2,i(v),t=t.slice(p),r+=2,g({type:WUe,comment:v})}}function f(){var g=s(),p=l(QUe);if(p){if(h(),!l(UUe))return a("property missing ':'");var v=l(VUe),b=g({type:XUe,property:zM(p[0].replace(NM,ah)),value:v?zM(v[0].replace(NM,ah)):ah});return l(jUe),b}}function m(){var g=[];d(g);for(var p;p=f();)p!==!1&&(g.push(p),d(g));return g}return c(),m()};function zM(t){return t?t.replace(qUe,ah):ah}var GUe=Zi&&Zi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(eY,"__esModule",{value:!0});var QM=eY.default=KUe,ZUe=GUe(YUe);function KUe(t,e){var n=null;if(!t||typeof t!="string")return n;var r=(0,ZUe.default)(t),i=typeof e=="function";return r.forEach(function(s){if(s.type==="declaration"){var o=s.property,a=s.value;i?e(o,a,s):a&&(n=n||{},n[o]=a)}}),n}const JUe=QM.default||QM,a5={}.hasOwnProperty,eVe=new Set(["table","thead","tbody","tfoot","tr"]);function oT(t,e){const n=[];let r=-1;for(;++r<e.children.length;){const i=e.children[r];i.type==="element"?n.push(tVe(t,i,r,e)):i.type==="text"?(e.type!=="element"||!eVe.has(e.tagName)||i.value!==`
`)&&n.push(i.value):i.type==="raw"&&!t.options.skipHtml&&n.push(i.value)}return n}function tVe(t,e,n,r){const i=t.options,s=t.schema,o=e.tagName,a={};let l=s,c;if(s.space==="html"&&o==="svg"&&(l=tke,t.schema=l),e.properties)for(c in e.properties)a5.call(e.properties,c)&&rVe(a,c,e.properties[c],t);(o==="ol"||o==="ul")&&t.listDepth++;const d=oT(t,e);(o==="ol"||o==="ul")&&t.listDepth--,t.schema=s;const h=e.position||{start:{line:null,column:null,offset:null},end:{line:null,column:null,offset:null}},f=i.components&&a5.call(i.components,o)?i.components[o]:o,m=typeof f=="string";if(a.key=[o,h.start.line,h.start.column,n].join("-"),o==="a"&&i.linkTarget&&(a.target=typeof i.linkTarget=="function"?i.linkTarget(String(a.href||""),e.children,typeof a.title=="string"?a.title:void 0):i.linkTarget),o==="a"&&i.transformLinkUri&&(a.href=i.transformLinkUri(String(a.href||""),e.children,typeof a.title=="string"?a.title:void 0)),!m&&o==="code"&&r.type==="element"&&r.tagName!=="pre"&&(a.inline=!0),!m&&(o==="h1"||o==="h2"||o==="h3"||o==="h4"||o==="h5"||o==="h6")&&(a.level=Number.parseInt(o.charAt(1),10)),o==="img"&&i.transformImageUri&&(a.src=i.transformImageUri(String(a.src||""),String(a.alt||""),typeof a.title=="string"?a.title:void 0)),!m&&o==="li"&&r.type==="element"){const g=nVe(e);a.checked=g&&g.properties?!!g.properties.checked:null,a.index=v4(r,e),a.ordered=r.tagName==="ol"}return!m&&(o==="ol"||o==="ul")&&(a.ordered=o==="ol",a.depth=t.listDepth),(o==="td"||o==="th")&&(a.align&&(a.style||(a.style={}),a.style.textAlign=a.align,delete a.align),m||(a.isHeader=o==="th")),!m&&o==="tr"&&r.type==="element"&&(a.isHeader=r.tagName==="thead"),i.sourcePos&&(a["data-sourcepos"]=oVe(h)),!m&&i.rawSourcePos&&(a.sourcePosition=e.position),!m&&i.includeElementIndex&&(a.index=v4(r,e),a.siblingCount=v4(r)),m||(a.node=e),u(pO,ge({component:f},a,{children:d}))}function nVe(t){let e=-1;for(;++e<t.children.length;){const n=t.children[e];if(n.type==="element"&&n.tagName==="input")return n}return null}function v4(t,e){let n=-1,r=0;for(;++n<t.children.length&&t.children[n]!==e;)t.children[n].type==="element"&&r++;return r}function rVe(t,e,n,r){const i=Kwe(r.schema,e);let s=n;s==null||s!==s||(Array.isArray(s)&&(s=i.commaSeparated?K4e(s):exe(s)),i.property==="style"&&typeof s=="string"&&(s=iVe(s)),i.space&&i.property?t[a5.call(pA,i.property)?pA[i.property]:i.property]=s:i.attribute&&(t[i.attribute]=s))}function iVe(t){const e={};try{JUe(t,n)}catch{}return e;function n(r,i){const s=r.slice(0,4)==="-ms-"?`ms-${r.slice(4)}`:r;e[s.replace(/-([a-z])/g,sVe)]=i}}function sVe(t,e){return e.toUpperCase()}function oVe(t){return[t.start.line,":",t.start.column,"-",t.end.line,":",t.end.column].map(e=>String(e)).join("")}const tY={remarkPlugins:[],rehypePlugins:[],class:"",unwrapDisallowed:!1,disallowedElements:void 0,allowedElements:void 0,allowElement:void 0,children:"",sourcePos:!1,rawSourcePos:!1,skipHtml:!1,includeElementIndex:!1,transformLinkUri:null,transformImageUri:void 0,linkTarget:"_self",components:{}};function Ta(t){function e(n){if(!n)return null;const r=[];let i=0;function s(a){i!==a&&r.push(Ce(()=>n.slice(i,a)))}wh.lastIndex=0;let o=wh.exec(n);for(;o;)s(o.index),i=o.index+o[0].length,r.push(o[0].length===28?u(Kv,{get id(){return o[1]}}):u(va,{get emoji(){return o[0]}})),o=wh.exec(n);return s(n.length),r}return Ce(()=>e(t.content))}const Ei=()=>null;function aVe(t){return u(b7e,ge(t,{get style(){return{...t.start?{"--start-number":(parseInt(t.start,10)-1).toString()}:{},...t.style}}}))}const lVe=()=>({unicodeEmoji:XX,customEmoji:Qj,mention:BX,timestamp:o5,spoiler:jX,a:rv,p:c7e,em:ij,strong:sj,del:oj,h1:u7e,h2:d7e,h3:h7e,h4:f7e,h5:m7e,h6:g7e,pre:E7e,li:p7e,ul:v7e,ol:aVe,blockquote:y7e,table:O7e,th:w7e,td:k7e,code:aj,time:VE,img:Ei,video:Ei,figure:Ei,picture:Ei,source:Ei,audio:Ei,script:Ei,style:Ei}),cVe=()=>({unicodeEmoji:XX,customEmoji:Qj,mention:t=>(t.disabled=!0,BX(t)),spoiler:t=>(t.disabled=!0,jX(t)),a:t=>(t.disabled=!0,rv(t)),strong:sj,em:ij,code:aj,del:oj,p:t=>Ce(()=>t.children),h1:t=>Ce(()=>t.children),h2:t=>Ce(()=>t.children),h3:t=>Ce(()=>t.children),h4:t=>Ce(()=>t.children),h5:t=>Ce(()=>t.children),h6:t=>Ce(()=>t.children),li:t=>Ce(()=>t.children),ul:t=>Ce(()=>t.children),ol:t=>Ce(()=>t.children),blockquote:t=>Ce(()=>t.children),td:t=>Ce(()=>t.children),th:t=>Ce(()=>t.children),time:o5,timestamp:o5,pre:Ei,table:Ei,img:Ei,video:Ei,figure:Ei,picture:Ei,source:Ei,audio:Ei,script:Ei,style:Ei}),nY=nj().use(qV).use(nV).use(zV).use(E6e,{singleDollarTextMath:!1}),uVe=[zX,PUe,lDe,GX,Uj,qX,VX,hDe],UM=uVe.reduce((t,e)=>t.use(e),nY).use(ej,{handlers:{unicodeEmoji:ZX,customEmoji:Vj,mention:QX,timestamp:RUe,spoiler:HX}}).use(JX).use(b_e,{maxSize:10,maxExpand:2,trust:!1,strict:!1,output:"html",errorColor:"var(--md-sys-color-error)"}).use(z4e),VM=nj().use(qV).use(nV).use(zV).use(zX).use(GX).use(Uj).use(qX).use(VX).use(ej,{handlers:{unicodeEmoji:ZX,customEmoji:Vj,mention:QX,spoiler:HX}}).use(JX);function dVe(t){const e=new QE;e.value=KX(t);const n=VM.runSync(VM.parse(e),e);if(n.type!=="root")throw new TypeError("Expected a `root` node");return oT({options:{...tY,components:cVe()},schema:fQ,listDepth:0},n)}function Md(t){function e(i=""){const s=new QE;s.value=KX(i);const o=UM.runSync(UM.parse(s),s);if(o.type!=="root")throw new TypeError("Expected a `root` node");return x7e(t,o),oT({options:{...tY,components:lVe()},schema:fQ,listDepth:0},o)}const[n,r]=ve(e(t.content));return dt(Zt(()=>t.content,i=>r(e(i)),{defer:!0})),Ce(n)}var jM=I("<div>"),hVe=I("<form>"),fVe=I("<span>");function mVe(t){const{_:e}=Dt(),n=pt(),{showError:r}=Ne(),[i,s]=ve(""),o=ke(()=>i().toLowerCase()),a=ke(()=>{const h=n();return[...h.servers.filter(f=>f.havePermission("ManageServer")).filter(f=>!f.getMember(t.invite.id)),...h.channels.filter(f=>f.type==="Group").filter(f=>!f.recipientIds.has(t.invite.id))].filter(f=>f.name.toLowerCase().includes(o())).toSorted((f,m)=>f.name.localeCompare(m.name)).map(f=>({item:f,value:f.id}))}),l=Hn({id:Lt([],{required:!0})});async function c(){try{const h=a().find(f=>f.value===l.controls.id.value[0]);h.item instanceof oo?await t.invite.addToServer(h.item):await t.invite.addToGroup(h.item),t.onClose()}catch(h){r(h)}}const d=Pe.useSubmitHandler(l,c);return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get actions(){return[{text:u(k,{id:"dEgA5A"})},{text:u(k,{id:"m16xKo"}),onClick:()=>(c(),!1),isDisabled:!Pe.canSubmit(l)}]},get isDisabled(){return l.isPending},get children(){var h=hVe();return Dn(h,"submit",d),V(h,u(Ae,{get children(){return[u(Ae,{align:!0,get children(){return[u(zt,{size:64,get src(){return t.invite.avatar?.originalUrl},get fallback(){return t.invite.username}}),u(Le,{class:"title",get children(){return t.invite.username}}),u(Le,{class:"label",get children(){return u(k,{id:"Jfmexf",components:{0:u($r,{format:"calendar",get value(){return Wo(t.invite.id)}})}})}})]}}),u(X,{get when(){return t.invite.description},get children(){var f=jM();return Fe(hu,f,()=>({class:gVe()})),V(f,u(Md,{get content(){return t.invite.description}}),null),V(f,u(pVe,{get children(){return[u(Le,{class:"label",size:"small",get children(){return u(k,ge(()=>({id:"tne1qE",values:{0:t.invite.username}})))}}),u(vVe,{get children(){return jM()}})]}}),null),f}}),u(es,{get value(){return i()},variant:"filled",get placeholder(){return e({id:"rnESNP"})},onKeyUp:f=>s(f.currentTarget.value)}),u(Pe.VirtualSelect,{get control(){return l.controls.id},get items(){return a()},selectHeight:"240px",children:(f,m)=>u(bVe,{selected:m,get children(){return[u(En,{}),u(zt,{get src(){return f.animatedIconURL},get fallback(){return f.name},size:24,shape:f instanceof oo?"circle":"rounded-square"})," ",(()=>{var g=fVe();return V(g,()=>f.name),g})()]}})}),u(Ae,{gap:"sm",align:!0,get children(){return[u(Le,{class:"label",size:"small",children:"Bots are not verified by Stoat."}),u(Le,{class:"label",size:"small",children:"The bot will not be granted any permissions."})]}})]}})),h}})}const gVe=nn({base:{position:"relative",maxHeight:"120px",padding:"var(--gap-md)",borderRadius:"var(--borderRadius-lg)",color:"var(--md-sys-color-on-secondary-container)",background:"var(--md-sys-color-secondary-container)"}}),pVe=H("div",{base:{bottom:0,position:"sticky",background:"var(--md-sys-color-secondary-container)"}}),vVe=H("div",{base:{position:"relative","& *":{top:0,width:"100%",position:"absolute",height:"var(--gap-md)",background:"var(--md-sys-color-secondary-container)"}}}),bVe=H("div",{base:{height:"40px",display:"flex",position:"relative",alignItems:"center",gap:"var(--gap-md)",padding:"var(--gap-md)",borderRadius:"var(--borderRadius-sm)"},variants:{selected:{true:{color:"var(--md-sys-color-on-primary)",background:"var(--md-sys-color-primary)"}}}});var yVe=I("<form>");function OVe(t){const{_:e}=Dt(),{showError:n}=Ne(),r=Hn({username:Lt("",{required:!0})});async function i(){try{await t.client.api.post("/users/friend",{username:r.controls.username.value}),t.onClose()}catch(o){n(o)}}const s=Pe.useSubmitHandler(r,i);return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return u(k,{id:"hzQo5U"})},get actions(){return[{text:u(k,{id:"yz7wBu"})},{text:u(k,{id:"wIPxjh"}),onClick:()=>(i(),!1),isDisabled:!Pe.canSubmit(r)}]},get isDisabled(){return r.isPending},get children(){var o=yVe();return Dn(o,"submit",s),V(o,u(Pe.TextField,{name:"username",get control(){return r.controls.username},get label(){return e({id:"7sNhEz"})},get placeholder(){return e({id:"mcKU3V"})}})),o}})}var wVe=I("<form>"),kVe=I("<span>");function SVe(t){const{_:e}=Dt(),n=pt(),{showError:r}=Ne(),i=Hn({users:Lt([],{required:!0})});async function s(){try{for(const h of i.controls.users.value)await t.group.addMember(h);t.onClose()}catch(h){r(h)}}const[o,a]=ve(""),l=ke(()=>o().toLowerCase()),c=ke(()=>n().users.filter(h=>h.relationship==="Friend").filter(h=>!t.group.recipientIds.has(h.id)).filter(h=>h.displayName.toLowerCase().includes(l())).toSorted((h,f)=>h.displayName.localeCompare(f.displayName)).map(h=>({item:h,value:h.id}))),d=Pe.useSubmitHandler(i,s);return u(Bt,{minWidth:420,get show(){return t.show},get onClose(){return t.onClose},get title(){return u(k,{id:"GWDMZY"})},get actions(){return[{text:u(k,{id:"yz7wBu"})},{text:u(k,{id:"m16xKo"}),onClick:()=>(s(),!1),isDisabled:!Pe.canSubmit(i)}]},get isDisabled(){return i.isPending},get children(){var h=wVe();return Dn(h,"submit",d),V(h,u(Ae,{get children(){return[u(es,{get value(){return o()},variant:"filled",get placeholder(){return e({id:"ofKdY9"})},onKeyUp:f=>a(f.currentTarget.value)}),u(Pe.VirtualSelect,{get items(){return c()},get control(){return i.controls.users},multiple:!0,children:f=>u(kt,{align:!0,get children(){return[u(zt,{get src(){return f.animatedAvatarURL},get fallback(){return f.displayName},size:24})," ",(()=>{var m=kVe();return V(m,()=>f.displayName),m})()]}})})]}})),h}})}var xVe=I("<form>");function _Ve(t){const{_:e}=Dt(),{showError:n}=Ne(),r=Hn({reason:Lt("")});async function i(){try{await t.member.ban({reason:r.controls.reason.value}),t.onClose()}catch(o){n(o)}}const s=Pe.useSubmitHandler(r,i);return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return u(k,{id:"FmwES3"})},get actions(){return[{text:u(k,{id:"dEgA5A"})},{text:u(k,{id:"9kwf8d"}),onClick:()=>(i(),!1),isDisabled:!Pe.canSubmit(r)}]},get isDisabled(){return r.isPending},get children(){var o=xVe();return Dn(o,"submit",s),V(o,u(Ae,{align:!0,get children(){return[u(zt,{get src(){return t.member.user?.animatedAvatarURL},size:64}),u(Le,{get children(){return u(k,ge(()=>({id:"vOW6wG",values:{0:t.member.user?.username}})))}}),u(Pe.TextField,{name:"reason",get control(){return r.controls.reason},get label(){return e({id:"VJScHU"})},get placeholder(){return e({id:"5thgFk"})}})]}})),o}})}var CVe=I("<form>");function EVe(t){const{_:e}=Dt(),{showError:n}=Ne(),r=Hn({reason:Lt("")});async function i(){try{await t.server.banUser(t.user.id,{reason:r.controls.reason.value}),t.onClose()}catch(o){n(o)}}const s=Pe.useSubmitHandler(r,i);return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return u(k,{id:"I6bw/h"})},get actions(){return[{text:u(k,{id:"dEgA5A"})},{text:u(k,{id:"9kwf8d"}),onClick:()=>(i(),!1),isDisabled:!Pe.canSubmit(r)}]},get isDisabled(){return r.isPending},get children(){var o=CVe();return Dn(o,"submit",s),V(o,u(Ae,{align:!0,get children(){return[u(zt,{get src(){return t.user?.animatedAvatarURL},size:64}),u(Le,{get children(){return u(k,ge(()=>({id:"vOW6wG",values:{0:t.user?.username}})))}}),u(Le,{get children(){return u(k,{id:"1m23cy"})}}),u(Pe.TextField,{name:"reason",get control(){return r.controls.reason},get label(){return e({id:"VJScHU"})},get placeholder(){return e({id:"5thgFk"})}})]}})),o}})}const qM=[{icon:"voice_chat",date:new Date("2025-11-08T14:00:00.000Z"),link:"https://stoat.chat/updates/web-0013",title:"Stoat for Web: 0.0.13",content:[`This update brings a host of improvements to voice chats along with an improved messaging experience.

## Improved Voice Chats
A brand new user interface with picture-in-picture support to keep an eye on your voice chats while you multitask.`,{type:"image",src:"https://stoat.chat/content/changelog/web-0.0.13/pip.gif"},`You can now also see who is in a voice chat and who is speaking, making it easier to keep track of conversations.

## Improved Text Editor
The text editor has been revamped to provide a smoother and more intuitive messaging experience. We've taken and improved the experience from our old web app, featuring rich text preview while not intruding on what you're typing.`,{type:"image",src:"https://stoat.chat/content/changelog/web-0.0.13/text_editor.png"},"For an in-depth look at all the new features and improvements, check out our blog post by pressing read more!"]}],gb={index:0,until:new Date("2026-01-01T00:00:00.000Z")};function TVe(t){const[e,n]=ve(t.initial),r=()=>typeof e()<"u"?qM[e()]:void 0,i=()=>[{text:u(k,{id:"IvkbIT"}),onClick(){window.open(r()?.link,"_blank")}},{text:u(k,{id:"yz7wBu"})}];return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return u(Me,{get fallback(){return u(k,{id:"CWe7wB"})},get children(){return u(Z,{get when(){return r()},get children(){return r().title}})}})},get actions(){return i()},get children(){return u(Me,{get fallback(){return u(Ae,{get children(){return u(rt,{each:qM,children:(s,o)=>u(Xe,{get icon(){return u(yt,{get children(){return s.icon}})},onClick:()=>n(o()),get children(){return s.title}})})}})},get children(){return u(Z,{get when(){return r()},get children(){return u(DVe,{get post(){return r()}})}})}})}})}function DVe(t){return u(Ae,{get children(){return u(rt,{get each(){return t.post.content},children:e=>u(Me,{get children(){return[u(Z,{when:typeof e=="string",get children(){return u(Md,{content:e})}}),u(Z,{get when(){return typeof e=="object"&&e.type==="image"},get children(){return u(AVe,{get src(){return e.src},loading:"lazy"})}})]}})})}})}const AVe=H("img",{base:{borderRadius:"var(--borderRadius-md)"}});function PVe(t){return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return`#${t.channel.name}`},get actions(){return[{text:u(k,{id:"yz7wBu"})}]},get children(){return u(Md,{get content(){return t.channel.description}})}})}var RVe=I("<wbr>");function MVe(t){const{showError:e}=Ne(),n=ss(()=>({mutationFn:r=>t.channel.edit({nsfw:r}),onError:e}));return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return u(Me,{get fallback(){return u(k,{id:"bUgYf5"})},get children(){return u(Z,{get when(){return t.channel.mature},get children(){return u(k,{id:"IDeApW"})}})}})},get actions(){return[{text:u(k,{id:"FgAQOk"})},{text:u(Me,{get fallback(){return u(k,{id:"cxb4R/"})},get children(){return u(Z,{get when(){return t.channel.mature},get children(){return u(k,{id:"jtH9mh"})}})}}),onClick:()=>n.mutateAsync(!t.channel.mature)}]},get isDisabled(){return n.isPending},get children(){return u(Me,{get fallback(){return u(k,{id:"Bf272I"})},get children(){return u(Z,{get when(){return t.channel.mature},get children(){return u(k,{id:"Kgh8vb",components:{0:RVe()}})}})}})}})}var IVe=I("<form>"),$Ve=I("<a href=https://stoat.chat/aup target=_blank rel=noreferrer>");function LVe(t){const{_:e}=Dt(),{showError:n}=Ne(),r=Hn({username:Lt("",{required:!0})});async function i(){try{const o=await t.client.bots.createBot(r.controls.username.value);t.onCreate(o),t.onClose()}catch(o){n(o)}}const s=Pe.useSubmitHandler(r,i);return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return u(k,{id:"dLRg2w"})},get actions(){return[{text:u(k,{id:"yz7wBu"})},{text:u(k,{id:"hYgDIe"}),onClick:()=>(i(),!1),isDisabled:!Pe.canSubmit(r)}]},get isDisabled(){return r.isPending},get children(){var o=IVe();return Dn(o,"submit",s),V(o,u(Ae,{get children(){return[u(Le,{get children(){return u(k,{id:"HSPrFO",components:{0:$Ve()}})}}),u(Pe.TextField,{name:"username",get control(){return r.controls.username},get label(){return e({id:"7sNhEz"})}})]}})),o}})}var NVe=I("<form>");function FVe(t){const{_:e}=Dt(),{showError:n}=Ne(),r=Hn({name:Lt("",{required:!0})});async function i(){try{t.server.edit({categories:[...t.server.categories??[],{id:D0(),title:r.controls.name.value,channels:[]}]}),t.onClose()}catch(o){n(o)}}const s=Pe.useSubmitHandler(r,i);return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return u(k,{id:"zrca+u"})},get actions(){return[{text:u(k,{id:"yz7wBu"})},{text:u(k,{id:"hYgDIe"}),onClick:()=>(i(),!1),isDisabled:!Pe.canSubmit(r)}]},get isDisabled(){return r.isPending},get children(){var o=NVe();return Dn(o,"submit",s),V(o,u(Pe.TextField,{name:"name",get control(){return r.controls.name},get label(){return e({id:"6YtxFj"})}})),o}})}var BVe=I("<form>");function zVe(t){const{_:e}=Dt(),n=Dr(),{showError:r}=Ne(),i=Hn({name:Lt("",{required:!0}),type:Lt("Text")});async function s(){try{const a=await t.server.createChannel({type:i.controls.type.value,name:i.controls.name.value});t.cb?t.cb(a):n(`/server/${t.server.id}/channel/${a.id}`),t.onClose()}catch(a){r(a)}}const o=Pe.useSubmitHandler(i,s);return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return u(k,{id:"gkBHk/"})},get actions(){return[{text:u(k,{id:"yz7wBu"})},{text:u(k,{id:"hYgDIe"}),onClick:()=>(s(),!1),isDisabled:!Pe.canSubmit(i)}]},get isDisabled(){return i.isPending},get children(){var a=BVe();return Dn(a,"submit",o),V(a,u(Ae,{get children(){return[u(Pe.TextField,{name:"name",get control(){return i.controls.name},get label(){return e({id:"A9Rhec"})}}),u(Pe.Radio,{get control(){return i.controls.type},get children(){return[u(eO.Option,{value:"Text",get children(){return u(k,{id:"AU7IRi"})}}),u(eO.Option,{value:"Voice",get children(){return u(k,{id:"BGw+Qc"})}})]}})]}})),a}})}var QVe=I("<form>"),UVe=I("<span>");function VVe(t){const{_:e}=Dt(),n=pt(),{showError:r}=Ne(),i=Hn({name:Lt("",{required:!0}),users:Lt([])});async function s(){try{await t.client.channels.createGroup(i.controls.name.value,i.controls.users.value),t.onClose()}catch(h){r(h)}}const[o,a]=ve(""),l=ke(()=>o().toLowerCase()),c=ke(()=>n().users.filter(h=>h.relationship==="Friend").filter(h=>h.displayName.toLowerCase().includes(l())).toSorted((h,f)=>h.displayName.localeCompare(f.displayName)).map(h=>({item:h,value:h.id}))),d=Pe.useSubmitHandler(i,s);return u(Bt,{minWidth:420,get show(){return t.show},get onClose(){return t.onClose},get title(){return u(k,{id:"luDs4g"})},get actions(){return[{text:u(k,{id:"yz7wBu"})},{text:u(k,{id:"hYgDIe"}),onClick:()=>(s(),!1),isDisabled:!Pe.canSubmit(i)}]},get isDisabled(){return i.isPending},get children(){var h=QVe();return Dn(h,"submit",d),V(h,u(Ae,{get children(){return[u(Pe.TextField,{name:"name",get control(){return i.controls.name},get label(){return e({id:"m6X3ro"})}}),u(Le,{class:"label",get children(){return u(k,{id:"xI4nbx"})}}),u(es,{get value(){return o()},variant:"filled",get placeholder(){return e({id:"ofKdY9"})},onKeyUp:f=>a(f.currentTarget.value)}),u(Pe.VirtualSelect,{get items(){return c()},get control(){return i.controls.users},multiple:!0,children:f=>u(kt,{align:!0,get children(){return[u(zt,{get src(){return f.animatedAvatarURL},get fallback(){return f.displayName},size:24})," ",(()=>{var m=UVe();return V(m,()=>f.displayName),m})()]}})})]}})),h}})}function jVe(t){const{openModal:e}=Ne();return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},title:"Create a group or server",actions:[{text:"Group",onClick:()=>{e({type:"create_group",client:t.client})}},{text:"Server",onClick:()=>{e({type:"create_server",client:t.client})}}],get children(){return u(k,{id:"NFe4b1"})}})}var qVe=I("<code>");const HVe=H("div",{base:{display:"flex",flexDirection:"column","& code":{padding:"1em",userSelect:"all",fontSize:"1.4em",textAlign:"center",fontFamily:"var(--fonts-monospace)"}}});function WVe(t){const{showError:e}=Ne(),[n,r]=ve("..."),i=ss(()=>({mutationFn:()=>t.channel.createInvite().then(({_id:s})=>r(Qn.IS_STOAT?`https://stt.gg/${s}`:`${window.location.protocol}//${window.location.host}/invite/${s}`)),onError:e}));return Tn(()=>i.mutate()),u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return u(k,{id:"nx4Nps"})},get actions(){return[{text:u(k,{id:"zga9sT"})},{text:u(k,{id:"ENCIQz"}),onClick:()=>(navigator.clipboard.writeText(n()),!1)}]},get children(){return u(X,{get when(){return!i.isPending},get fallback(){return u(k,{id:"/qQDwm"})},get children(){return u(HVe,{get children(){return u(k,ge(()=>({id:"GMy0r8",values:{0:n()},components:{0:qVe()}})))}})}})}})}function XVe(t){const{openModal:e}=Ne();return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},title:"Create or join a server",actions:[{text:"Create",onClick:()=>{e({type:"create_server",client:t.client})}},{text:"Join",onClick:()=>{e({type:"join_server",client:t.client})}}],get children(){return u(k,{id:"dHHNJ6"})}})}var YVe=I("<form>");function GVe(t){const{_:e}=Dt(),{showError:n}=Ne(),r=Hn({name:Lt("",{required:!0})});async function i(){try{const o=await t.server.createRole(r.controls.name.value);t.callback(o.id),t.onClose()}catch(o){n(o)}}const s=Pe.useSubmitHandler(r,i);return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return u(k,{id:"RoyYUE"})},get actions(){return[{text:u(k,{id:"yz7wBu"})},{text:u(k,{id:"hYgDIe"}),onClick:()=>(i(),!1),isDisabled:!Pe.canSubmit(r)}]},get isDisabled(){return r.isPending},get children(){var o=YVe();return Dn(o,"submit",s),V(o,u(Ae,{get children(){return u(Pe.TextField,{name:"name",get control(){return r.controls.name},get label(){return e({id:"PSP1MZ"})}})}})),o}})}var ZVe=I("<form>"),KVe=I("<a href=https://stoat.chat/aup target=_blank rel=noreferrer>");function JVe(t){const{_:e}=Dt(),n=Dr(),{showError:r}=Ne(),i=Hn({name:Lt("",{required:!0})});async function s(){try{const a=await t.client.servers.createServer({name:i.controls.name.value});setTimeout(()=>n(`/server/${a.id}`)),t.onClose()}catch(a){r(a)}}const o=Pe.useSubmitHandler(i,s);return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return u(k,{id:"r4iPB9"})},get actions(){return[{text:u(k,{id:"yz7wBu"})},{text:u(k,{id:"hYgDIe"}),onClick:()=>(s(),!1),isDisabled:!Pe.canSubmit(i)}]},get isDisabled(){return i.isPending},get children(){var a=ZVe();return Dn(a,"submit",o),V(a,u(Ae,{get children(){return[u(Le,{get children(){return u(k,{id:"J/BJve",components:{0:KVe()}})}}),u(Pe.TextField,{name:"name",get control(){return i.controls.name},get label(){return e({id:"MXw7Fr"})}})]}})),a}})}var eje=I("<form>");function tje(t){const{_:e}=Dt(),{showError:n}=Ne(),r=Hn({name:Lt("",{required:!0})});async function i(){try{const o=await t.channel.createWebhook(r.controls.name.value);t.onClose(),t.callback(o.id)}catch(o){n(o)}}const s=Pe.useSubmitHandler(r,i);return u(Bt,{minWidth:420,get show(){return t.show},get onClose(){return t.onClose},get title(){return u(k,{id:"qaH0rj"})},get actions(){return[{text:u(k,{id:"yz7wBu"})},{text:u(k,{id:"hYgDIe"}),onClick:()=>(i(),!1),isDisabled:!Pe.canSubmit(r)}]},get isDisabled(){return r.isPending},get children(){var o=eje();return Dn(o,"submit",s),V(o,u(Pe.TextField,{name:"name",get control(){return r.controls.name},get label(){return e({id:"0/BoBb"})}})),o}})}var nje=I("<form>");function rje(t){const{_:e}=Dt(),{showError:n}=Ne(),r=Hn({text:Lt(t.client.user?.status?.text??"")});async function i(){try{const o=r.controls.text.value;await t.client.user.edit({status:{...t.client.user?.status,text:o.trim().length>0?o:void 0}}),t.onClose()}catch(o){n(o)}}const s=Pe.useSubmitHandler(r,i);return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return u(k,{id:"DrJ0Om"})},get actions(){return[{text:u(k,{id:"yz7wBu"})},{text:u(k,{id:"tfDRzk"}),onClick:()=>(i(),!1),isDisabled:!Pe.canSubmit(r)}]},get isDisabled(){return r.isPending},get children(){var o=nje();return Dn(o,"submit",s),V(o,u(Ae,{get children(){return u(Pe.TextField,{name:"text",get control(){return r.controls.text},get label(){return e({id:"mujyHj"})}})}})),o}})}function ije(t){const e=pt(),{showError:n,mfaFlow:r}=Ne(),i=ss(()=>({mutationFn:async()=>{const s=await e().account.mfa();await r(s),await t.bot.delete()},onError:n}));return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return u(k,ge(()=>({id:"Tf88pC",values:{0:t.bot.user.displayName}})))},get actions(){return[{text:u(k,{id:"dEgA5A"})},{text:u(k,{id:"cnGeoo"}),onClick:()=>i.mutateAsync()}]},get isDisabled(){return i.isPending},get children(){return u(k,{id:"GhCPk1"})}})}function sje(t){const{showError:e}=Ne(),n=ss(()=>({mutationFn:()=>t.server.edit({categories:(t.server.categories??[]).filter(r=>r.id!==t.categoryId)}),onError:e}));return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return u(k,{id:"VskHIx"})},get actions(){return[{text:u(k,{id:"dEgA5A"})},{text:u(k,{id:"cnGeoo"}),onClick:n.mutateAsync}]},get isDisabled(){return n.isPending},get children(){return u(k,{id:"GhCPk1"})}})}function oje(t){const{showError:e}=Ne(),n=ss(()=>({mutationFn:()=>t.channel.delete(),onError:e}));return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return u(Me,{get fallback(){return u(k,ge(()=>({id:"Tf88pC",values:{0:t.channel.name}})))},get children(){return[u(Z,{get when(){return t.channel.type==="Group"},get children(){return u(k,ge(()=>({id:"Tbe8DB",values:{0:t.channel.name}})))}}),u(Z,{get when(){return t.channel.type==="DirectMessage"},get children(){return u(k,ge(()=>({id:"sl/syq",values:{0:t.channel.recipient?.displayName}})))}})]}})},get actions(){return[{text:u(k,{id:"dEgA5A"})},{text:u(Me,{get fallback(){return u(k,{id:"cnGeoo"})},get children(){return[u(Z,{get when(){return t.channel.type==="Group"},get children(){return u(k,{id:"Mv8CyJ"})}}),u(Z,{get when(){return t.channel.type==="DirectMessage"},get children(){return u(k,{id:"yz7wBu"})}})]}}),onClick:()=>n.mutateAsync()}]},get isDisabled(){return n.isPending},get children(){return u(Me,{get fallback(){return u(k,{id:"GhCPk1"})},get children(){return[u(Z,{get when(){return t.channel.type==="Group"},get children(){return u(k,{id:"3QeDnN"})}}),u(Z,{get when(){return t.channel.type==="DirectMessage"},get children(){return u(k,{id:"knjY+b"})}})]}})}})}function aje(t){const{showError:e}=Ne(),n=ss(()=>({mutationFn:()=>t.message.delete(),onError:e}));return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return u(k,{id:"KDfTdX"})},get actions(){return[{text:u(k,{id:"dEgA5A"})},{text:u(k,{id:"cnGeoo"}),onClick:()=>n.mutateAsync()}]},get isDisabled(){return n.isPending},get children(){return u(k,{id:"HrhuFQ"})}})}function lje(t){const{showError:e}=Ne(),n=ss(()=>({mutationFn:()=>t.role.delete(),onError:e}));return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return u(k,ge(()=>({id:"Tf88pC",values:{0:t.role.name}})))},get actions(){return[{text:u(k,{id:"dEgA5A"})},{text:u(k,{id:"cnGeoo"}),onClick:()=>n.mutateAsync()}]},get isDisabled(){return n.isPending},get children(){return u(k,{id:"GhCPk1"})}})}function cje(t){const e=pt(),{showError:n,mfaFlow:r}=Ne(),i=ss(()=>({mutationFn:async()=>{const s=await e().account.mfa();await r(s),await t.server.delete()},onError:n}));return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return u(k,ge(()=>({id:"Tf88pC",values:{0:t.server.name}})))},get actions(){return[{text:u(k,{id:"dEgA5A"})},{text:u(k,{id:"cnGeoo"}),onClick:()=>i.mutateAsync()}]},get isDisabled(){return i.isPending},get children(){return u(k,{id:"GhCPk1"})}})}var uje=I("<form>");function dje(t){const{_:e}=Dt(),{showError:n}=Ne(),r=Hn({email:Lt("",{required:!0}),currentPassword:Lt("",{required:!0})});async function i(){try{await t.client.account.changeEmail(r.controls.email.value,r.controls.currentPassword.value),t.onClose()}catch(o){n(o)}}const s=Pe.useSubmitHandler(r,i);return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return u(k,{id:"ONcudw"})},get actions(){return[{text:u(k,{id:"yz7wBu"})},{text:u(k,{id:"65dxv8"}),onClick:()=>(i(),!1),isDisabled:!Pe.canSubmit(r)}]},get isDisabled(){return r.isPending},get children(){var o=uje();return Dn(o,"submit",s),V(o,u(Ae,{get children(){return[u(Pe.TextField,{name:"email",type:"email",get label(){return e({id:"O3oNi5"})},get control(){return r.controls.email},get placeholder(){return e({id:"a1+Vx8"})}}),u(Pe.TextField,{name:"currentPassword",get control(){return r.controls.currentPassword},get label(){return e({id:"DCKkhU"})},type:"password",get placeholder(){return e({id:"NbRKyS"})}})]}})),o}})}var hje=I("<form>");function fje(t){const{_:e}=Dt(),{showError:n}=Ne(),r=Hn({password:Lt("",{required:!0}),currentPassword:Lt("",{required:!0})});async function i(){try{await t.client.account.changePassword(r.controls.password.value,r.controls.currentPassword.value),t.onClose()}catch(o){n(o)}}const s=Pe.useSubmitHandler(r,i);return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return u(k,{id:"O/hGeo"})},get actions(){return[{text:u(k,{id:"yz7wBu"})},{text:u(k,{id:"o+XJ9D"}),onClick:()=>(i(),!1),isDisabled:!Pe.canSubmit(r)}]},get isDisabled(){return r.isPending},get children(){var o=hje();return Dn(o,"submit",s),V(o,u(Ae,{get children(){return[u(Pe.TextField,{name:"password",get control(){return r.controls.password},get label(){return e({id:"7vhWI8"})},type:"password",get placeholder(){return e({id:"ALmSzh"})}}),u(Pe.TextField,{name:"currentPassword",get control(){return r.controls.currentPassword},get label(){return e({id:"DCKkhU"})},type:"password",get placeholder(){return e({id:"NbRKyS"})}})]}})),o}})}var mje=I("<form>");function gje(t){const{_:e}=Dt(),{showError:n}=Ne(),r=Hn({username:Lt(t.client.user.username,{required:!0}),currentPassword:Lt("",{required:!0})});async function i(){try{const o=t.client.user.discriminator;await t.client.user.changeUsername(r.controls.username.value,r.controls.currentPassword.value),t.onClose(),t.client.user.discriminator!==o&&alert(`Your discriminator changed to ${t.client.user.discriminator}`)}catch(o){n(o)}}const s=Pe.useSubmitHandler(r,i);return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return u(k,{id:"zAENri"})},get actions(){return[{text:u(k,{id:"yz7wBu"})},{text:u(k,{id:"o+XJ9D"}),onClick:()=>(i(),!1),isDisabled:!Pe.canSubmit(r)}]},get isDisabled(){return r.isPending},get children(){var o=mje();return Dn(o,"submit",s),V(o,u(Ae,{get children(){return[u(kt,{align:!0,get children(){return[u(Pe.TextField,{name:"username",get control(){return r.controls.username},get label(){return e({id:"7sNhEz"})}}),u(Le,{class:"label",get children(){return["#",Ce(()=>t.client.user.discriminator)]}})]}}),u(Pe.TextField,{name:"currentPassword",get control(){return r.controls.currentPassword},get label(){return e({id:"DCKkhU"})},type:"password",get placeholder(){return e({id:"NbRKyS"})}})]}})),o}})}function pje(t){return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return`:${t.emoji.name}:`},get actions(){return[{text:u(k,{id:"cnGeoo"}),async onClick(){await t.emoji.delete()}},{text:u(k,{id:"yz7wBu"})}]},get children(){return u(zt,{get src(){return t.emoji.url},shape:"rounded-square"})}})}var vje=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z">');const bje=(t={})=>(()=>{var e=vje();return Se(e,t,!0,!0),e})();function yje(t){const e=YE();return u(Bt,{get icon(){return u(bje,ge(()=>at(24)))},get show(){return t.show},get onClose(){return t.onClose},get title(){return u(k,{id:"XyOToQ"})},get actions(){return[{text:u(k,{id:"zga9sT"})}]},get children(){return e(t.error)}})}var hi=function(){return hi=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},hi.apply(this,arguments)};typeof window<"u"&&(window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),typeof window.CustomEvent!="function"&&(window.CustomEvent=function(e,n){n=n||{bubbles:!1,cancelable:!1,detail:null};var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),r}));var Oje=typeof document<"u"&&!!document.documentMode,b4;function wje(){return b4||(b4=document.createElement("div").style)}var HM=["webkit","moz","ms"],pb={};function aT(t){if(pb[t])return pb[t];var e=wje();if(t in e)return pb[t]=t;for(var n=t[0].toUpperCase()+t.slice(1),r=HM.length;r--;){var i="".concat(HM[r]).concat(n);if(i in e)return pb[t]=i}}function vb(t,e){return parseFloat(e[aT(t)])||0}function bb(t,e,n){n===void 0&&(n=window.getComputedStyle(t));var r=e==="border"?"Width":"";return{left:vb("".concat(e,"Left").concat(r),n),right:vb("".concat(e,"Right").concat(r),n),top:vb("".concat(e,"Top").concat(r),n),bottom:vb("".concat(e,"Bottom").concat(r),n)}}function sm(t,e,n){t.style[aT(e)]=n}function kje(t,e){var n=aT("transform");sm(t,"transition","".concat(n," ").concat(e.duration,"ms ").concat(e.easing))}function Sje(t,e,n){var r=e.x,i=e.y,s=e.scale,o=e.isSVG;if(sm(t,"transform","scale(".concat(s,") translate(").concat(r,"px, ").concat(i,"px)")),o&&Oje){var a=window.getComputedStyle(t).getPropertyValue("transform");t.setAttribute("transform",a)}}function y4(t){var e=t.parentNode,n=window.getComputedStyle(t),r=window.getComputedStyle(e),i=t.getBoundingClientRect(),s=e.getBoundingClientRect();return{elem:{style:n,width:i.width,height:i.height,top:i.top,bottom:i.bottom,left:i.left,right:i.right,margin:bb(t,"margin",n),border:bb(t,"border",n)},parent:{style:r,width:s.width,height:s.height,top:s.top,bottom:s.bottom,left:s.left,right:s.right,padding:bb(e,"padding",r),border:bb(e,"border",r)}}}var pv={down:"mousedown",move:"mousemove",up:"mouseup mouseleave"};typeof window<"u"&&(typeof window.PointerEvent=="function"?pv={down:"pointerdown",move:"pointermove",up:"pointerup pointerleave pointercancel"}:typeof window.TouchEvent=="function"&&(pv={down:"touchstart",move:"touchmove",up:"touchend touchcancel"}));function O4(t,e,n,r){pv[t].split(" ").forEach(function(i){e.addEventListener(i,n,r)})}function w4(t,e,n){pv[t].split(" ").forEach(function(r){e.removeEventListener(r,n)})}function rY(t,e){for(var n=t.length;n--;)if(t[n].pointerId===e.pointerId)return n;return-1}function l5(t,e){var n;if(e.touches){n=0;for(var r=0,i=e.touches;r<i.length;r++){var s=i[r];s.pointerId=n++,l5(t,s)}return}n=rY(t,e),n>-1&&t.splice(n,1),t.push(e)}function xje(t,e){if(e.touches){for(;t.length;)t.pop();return}var n=rY(t,e);n>-1&&t.splice(n,1)}function WM(t){t=t.slice(0);for(var e=t.pop(),n;n=t.pop();)e={clientX:(n.clientX-e.clientX)/2+e.clientX,clientY:(n.clientY-e.clientY)/2+e.clientY};return e}function k4(t){if(t.length<2)return 0;var e=t[0],n=t[1];return Math.sqrt(Math.pow(Math.abs(n.clientX-e.clientX),2)+Math.pow(Math.abs(n.clientY-e.clientY),2))}function _je(t){for(var e=t;e&&e.parentNode;){if(e.parentNode===document)return!0;e=e.parentNode instanceof ShadowRoot?e.parentNode.host:e.parentNode}return!1}function Cje(t){return(t.getAttribute("class")||"").trim()}function Eje(t,e){return t.nodeType===1&&" ".concat(Cje(t)," ").indexOf(" ".concat(e," "))>-1}function Tje(t,e){for(var n=t;n!=null;n=n.parentNode)if(Eje(n,e.excludeClass)||e.exclude.indexOf(n)>-1)return!0;return!1}var Dje=/^http:[\w\.\/]+svg$/;function Aje(t){return Dje.test(t.namespaceURI)&&t.nodeName.toLowerCase()!=="svg"}function Pje(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var iY={animate:!1,canvas:!1,cursor:"move",disablePan:!1,disableZoom:!1,disableXAxis:!1,disableYAxis:!1,duration:200,easing:"ease-in-out",exclude:[],excludeClass:"panzoom-exclude",handleStartEvent:function(t){t.preventDefault(),t.stopPropagation()},maxScale:4,minScale:.125,overflow:"hidden",panOnlyWhenZoomed:!1,pinchAndPan:!1,relative:!1,setTransform:Sje,startX:0,startY:0,startScale:1,step:.3,touchAction:"none"};function sY(t,e){if(!t)throw new Error("Panzoom requires an element as an argument");if(t.nodeType!==1)throw new Error("Panzoom requires an element with a nodeType of 1");if(!_je(t))throw new Error("Panzoom should be called on elements that have been attached to the DOM");e=hi(hi({},iY),e);var n=Aje(t),r=t.parentNode;r.style.overflow=e.overflow,r.style.userSelect="none",r.style.touchAction=e.touchAction,(e.canvas?r:t).style.cursor=e.cursor,t.style.userSelect="none",t.style.touchAction=e.touchAction,sm(t,"transformOrigin",typeof e.origin=="string"?e.origin:n?"0 0":"50% 50%");function i(){r.style.overflow="",r.style.userSelect="",r.style.touchAction="",r.style.cursor="",t.style.cursor="",t.style.userSelect="",t.style.touchAction="",sm(t,"transformOrigin","")}function s(Q){Q===void 0&&(Q={});for(var D in Q)Q.hasOwnProperty(D)&&(e[D]=Q[D]);(Q.hasOwnProperty("cursor")||Q.hasOwnProperty("canvas"))&&(r.style.cursor=t.style.cursor="",(e.canvas?r:t).style.cursor=e.cursor),Q.hasOwnProperty("overflow")&&(r.style.overflow=Q.overflow),Q.hasOwnProperty("touchAction")&&(r.style.touchAction=Q.touchAction,t.style.touchAction=Q.touchAction)}var o=0,a=0,l=1,c=!1;p(e.startScale,{animate:!1,force:!0}),setTimeout(function(){g(e.startX,e.startY,{animate:!1,force:!0})});function d(Q,D,se){if(!se.silent){var he=new CustomEvent(Q,{detail:D});t.dispatchEvent(he)}}function h(Q,D,se){var he={x:o,y:a,scale:l,isSVG:n,originalEvent:se};return requestAnimationFrame(function(){typeof D.animate=="boolean"&&(D.animate?kje(t,D):sm(t,"transition","none")),D.setTransform(t,he,D),d(Q,he,D),d("panzoomchange",he,D)}),he}function f(Q,D,se,he){var E=hi(hi({},e),he),De={x:o,y:a,opts:E};if(!E.force&&(E.disablePan||E.panOnlyWhenZoomed&&l===E.startScale))return De;if(Q=parseFloat(Q),D=parseFloat(D),E.disableXAxis||(De.x=(E.relative?o:0)+Q),E.disableYAxis||(De.y=(E.relative?a:0)+D),E.contain){var pe=y4(t),ct=pe.elem.width/l,Mt=pe.elem.height/l,At=ct*se,on=Mt*se,Wt=(At-ct)/2,bn=(on-Mt)/2;if(E.contain==="inside"){var Or=(-pe.elem.margin.left-pe.parent.padding.left+Wt)/se,dr=(pe.parent.width-At-pe.parent.padding.left-pe.elem.margin.left-pe.parent.border.left-pe.parent.border.right+Wt)/se;De.x=Math.max(Math.min(De.x,dr),Or);var ui=(-pe.elem.margin.top-pe.parent.padding.top+bn)/se,$n=(pe.parent.height-on-pe.parent.padding.top-pe.elem.margin.top-pe.parent.border.top-pe.parent.border.bottom+bn)/se;De.y=Math.max(Math.min(De.y,$n),ui)}else if(E.contain==="outside"){var Or=(-(At-pe.parent.width)-pe.parent.padding.left-pe.parent.border.left-pe.parent.border.right+Wt)/se,dr=(Wt-pe.parent.padding.left)/se;De.x=Math.max(Math.min(De.x,dr),Or);var ui=(-(on-pe.parent.height)-pe.parent.padding.top-pe.parent.border.top-pe.parent.border.bottom+bn)/se,$n=(bn-pe.parent.padding.top)/se;De.y=Math.max(Math.min(De.y,$n),ui)}}return E.roundPixels&&(De.x=Math.round(De.x),De.y=Math.round(De.y)),De}function m(Q,D){var se=hi(hi({},e),D),he={scale:l,opts:se};if(!se.force&&se.disableZoom)return he;var E=e.minScale,De=e.maxScale;if(se.contain){var pe=y4(t),ct=pe.elem.width/l,Mt=pe.elem.height/l;if(ct>1&&Mt>1){var At=pe.parent.width-pe.parent.border.left-pe.parent.border.right,on=pe.parent.height-pe.parent.border.top-pe.parent.border.bottom,Wt=At/ct,bn=on/Mt;e.contain==="inside"?De=Math.min(De,Wt,bn):e.contain==="outside"&&(E=Math.max(E,Wt,bn))}}return he.scale=Math.min(Math.max(Q,E),De),he}function g(Q,D,se,he){var E=f(Q,D,l,se);return o!==E.x||a!==E.y?(o=E.x,a=E.y,h("panzoompan",E.opts,he)):{x:o,y:a,scale:l,isSVG:n,originalEvent:he}}function p(Q,D,se){var he=m(Q,D),E=he.opts;if(!(!E.force&&E.disableZoom)){Q=he.scale;var De=o,pe=a;if(E.focal){var ct=E.focal;De=(ct.x/Q-ct.x/l+o*Q)/Q,pe=(ct.y/Q-ct.y/l+a*Q)/Q}var Mt=f(De,pe,Q,{relative:!1,force:!0});return o=Mt.x,a=Mt.y,l=Q,h("panzoomzoom",E,se)}}function v(Q,D){var se=hi(hi(hi({},e),{animate:!0}),D);return p(l*Math.exp((Q?1:-1)*se.step),se)}function b(Q){return v(!0,Q)}function y(Q){return v(!1,Q)}function C(Q,D,se,he){var E=y4(t),De={width:E.parent.width-E.parent.padding.left-E.parent.padding.right-E.parent.border.left-E.parent.border.right,height:E.parent.height-E.parent.padding.top-E.parent.padding.bottom-E.parent.border.top-E.parent.border.bottom},pe=D.clientX-E.parent.left-E.parent.padding.left-E.parent.border.left-E.elem.margin.left,ct=D.clientY-E.parent.top-E.parent.padding.top-E.parent.border.top-E.elem.margin.top;n||(pe-=E.elem.width/l/2,ct-=E.elem.height/l/2);var Mt={x:pe/De.width*(De.width*Q),y:ct/De.height*(De.height*Q)};return p(Q,hi(hi({},se),{animate:!1,focal:Mt}),he)}function x(Q,D){Q.preventDefault();var se=hi(hi(hi({},e),D),{animate:!1}),he=Q.deltaY===0&&Q.deltaX?Q.deltaX:Q.deltaY,E=he<0?1:-1,De=m(l*Math.exp(E*se.step/3),se).scale;return C(De,Q,se,Q)}function O(Q){var D=hi(hi(hi({},e),{animate:!0,force:!0}),Q);l=m(D.startScale,D).scale;var se=f(D.startX,D.startY,l,D);return o=se.x,a=se.y,h("panzoomreset",D)}var S,T,$,M,P,L,j=[];function te(Q){if(!Tje(Q.target,e)){l5(j,Q),c=!0,e.handleStartEvent(Q),S=o,T=a,d("panzoomstart",{x:o,y:a,scale:l,isSVG:n,originalEvent:Q},e);var D=WM(j);$=D.clientX,M=D.clientY,P=l,L=k4(j)}}function U(Q){if(!(!c||S===void 0||T===void 0||$===void 0||M===void 0)){l5(j,Q);var D=WM(j),se=j.length>1,he=l;if(se){L===0&&(L=k4(j));var E=k4(j)-L;he=m(E*e.step/80+P).scale,C(he,D,{animate:!1},Q)}(!se||e.pinchAndPan)&&g(S+(D.clientX-$)/he,T+(D.clientY-M)/he,{animate:!1},Q)}}function N(Q){j.length===1&&d("panzoomend",{x:o,y:a,scale:l,isSVG:n,originalEvent:Q},e),xje(j,Q),c&&(c=!1,S=T=$=M=void 0)}var z=!1;function K(){z||(z=!0,O4("down",e.canvas?r:t,te),O4("move",document,U,{passive:!0}),O4("up",document,N,{passive:!0}))}function re(){z=!1,w4("down",e.canvas?r:t,te),w4("move",document,U),w4("up",document,N)}return e.noBind||K(),{bind:K,destroy:re,eventNames:pv,getPan:function(){return{x:o,y:a}},getScale:function(){return l},getOptions:function(){return Pje(e)},handleDown:te,handleMove:U,handleUp:N,pan:g,reset:O,resetStyle:i,setOptions:s,setStyle:function(Q,D){return sm(t,Q,D)},zoom:p,zoomIn:b,zoomOut:y,zoomToPoint:C,zoomWithWheel:x}}sY.defaultOptions=iY;var Rje=I("<a target=_blank>"),Mje=I("<a target=_blank rel=noreferrer>"),XM=I("<div>");function Ije(t){const[e,n]=ve();let r;return dt(Zt(()=>e(),i=>{if(i){let s=function(a){o.zoom(o.getScale()-a.deltaY/1e3)};i.addEventListener("mousedown",a=>{a.button!==0&&a.preventDefault()});const o=sY(i,{minScale:.1,maxScale:5});r=o,document.addEventListener("mousewheel",s),wt(()=>{document.removeEventListener("mousewheel",s),o.destroy()})}})),u(uu,{get mount(){return document.getElementById("floating")},get children(){return u(Bt.Scrim,{dark:!0,padding:!1,overflow:!1,get show(){return t.show},get onClick(){return t.onClose},get children(){return u(bu,{get children(){return u(X,{get when(){return t?.show},get children(){return u(gc.div,{get class(){return hn({display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:0,width:"100%",height:"100%",paddingInline:"20px"})},initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.1},transition:{duration:.3,easing:[.17,.67,.58,.98]},get children(){return[u(Lje,{get children(){return u(Nje,{get children(){return[u(Me,{get fallback(){return XM()},get children(){return u(Z,{get when(){return t.file},get children(){return u(GM,{onClick:i=>i.stopPropagation(),get children(){return u(Ae,{get children(){return[u(Le,{class:"title",get children(){return t.file.filename}}),u(Le,{class:"label",get children(){return t.file.humanReadableSize}})]}})}})}})}}),u(GM,{onClick:i=>i.stopPropagation(),get children(){return[u(On,{onPress:()=>r?.zoomOut(),get children(){return u(yt,{children:"zoom_out"})}}),u(On,{onPress:()=>r?.zoomIn(),get children(){return u(yt,{children:"zoom_in"})}}),u(X,{get when(){return t.file},get children(){var i=Rje();return V(i,u(On,{get children(){return u(yt,{children:"download"})}})),Te(s=>{var o=t.file?.originalUrl,a=t.file?.filename;return o!==s.e&&$t(i,"href",s.e=o),a!==s.t&&$t(i,"download",s.t=a),s},{e:void 0,t:void 0}),i}}),u(X,{get when(){return t.embed||t.gif},get children(){var i=Mje();return V(i,u(On,{get children(){return u(yt,{children:"open_in_new"})}})),Te(()=>$t(i,"href",t.embed?.url||t.gif?.url)),i}}),u(On,{get onPress(){return t.onClose},get children(){return u(yt,{children:"close"})}})]}})]}})}}),u(Me,{get children(){return[u(Z,{get when(){return t.file},get children(){return u(YM,{ref:n,get style(){return{"aspect-ratio":`${t.file.metadata.width}/${t.file.metadata.height}`}},get src(){return t.file.originalUrl},onClick:i=>i.stopPropagation()})}}),u(Z,{get when(){return t.embed},get children(){return u(YM,{ref:n,get style(){return{"aspect-ratio":`${t.embed.width}/${t.embed.height}`}},get src(){return t.embed.proxiedURL},onClick:i=>i.stopPropagation()})}}),u(Z,{get when(){return t.gif},get children(){return u($je,{ref:n,loop:!0,muted:!0,autoplay:!0,get style(){return{"aspect-ratio":`${t.gif.width}/${t.gif.height}`}},get src(){return t.gif.url},onClick:i=>i.stopPropagation()})}})]}}),XM()]}})}})}})}})}})}const YM=H("img",{base:{minHeight:0,alignSelf:"center",objectFit:"contain",background:"rgba(0, 0, 0, 0.6)"}}),$je=H("video",{base:{minHeight:0,alignSelf:"center",objectFit:"contain",background:"rgba(0, 0, 0, 0.6)"}}),Lje=H("div",{base:{position:"relative"}}),Nje=H("div",{base:{width:"100%",position:"absolute",height:"120px",flexShrink:0,display:"flex",alignItems:"center",justifyContent:"space-between"}}),GM=H("div",{base:{zIndex:999,display:"flex",gap:"var(--gap-md)",padding:"var(--gap-md)",borderRadius:"var(--borderRadius-lg)",background:"var(--md-sys-color-surface)",color:"var(--md-sys-color-on-surface)"}});var Fje=I("<span>"),Bje=I("<br>");function zje(t){const e=Dr(),{showError:n}=Ne(),r=ss(()=>({mutationFn:()=>t.invite.join(),onSuccess(i){e(i.path)},onError:n}));return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return u(Me,{get children(){return u(Z,{get when(){return t.invite.type==="Server"},get children(){return u(kt,{get children(){return[u(zt,{size:32,get src(){return t.invite.serverIcon?.previewUrl},get fallback(){return t.invite.serverName}}),(()=>{var i=Fje();return V(i,()=>t.invite.serverName),i})()]}})}})}})},get actions(){return[{text:u(k,{id:"dEgA5A"})},{text:u(X,{get when(){return t.invite.type==="Server"?!t.invite.server:!0},get fallback(){return u(k,{id:"1TNIig"})},get children(){return u(k,{id:"0wdd7X"})}}),onClick:r.mutateAsync}]},get isDisabled(){return r.isPending},get scrimBackground(){return t.invite instanceof sh?t.invite.serverBanner?.originalUrl:void 0},get children(){return u(Me,{get children(){return u(Z,{get when(){return t.invite.type==="Server"},get children(){return u(X,{get when(){return!t.invite.server},get fallback(){return u(k,{id:"oZwna+"})},get children(){return u(k,{id:"DEPqYw",components:{0:Bje()}})}})}})}})}})}var Qje=I("<form>");const Uje=/(?:invite|stt.gg)\/([a-z0-9]+)/gi;function Vje(t){const{_:e}=Dt(),n=Dr(),{showError:r}=Ne(),i=Hn({link:Lt("",{required:!0})});async function s(){try{let a=i.controls.link.value;const l=Uje.exec(a);l&&(a=l[1]);const c=await t.client.api.post(`/invites/${a}`);c.type==="Server"&&n(`/server/${c.server._id}`),t.onClose()}catch(a){r(a)}}const o=Pe.useSubmitHandler(i,s);return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return u(k,{id:"ZCcTyH"})},get actions(){return[{text:u(k,{id:"yz7wBu"})},{text:u(k,{id:"0wdd7X"}),onClick:()=>(s(),!1),isDisabled:!Pe.canSubmit(i)}]},get isDisabled(){return i.isPending},get children(){var a=Qje();return Dn(a,"submit",o),V(a,u(Ae,{get children(){return[u(Le,{get children(){return u(k,{id:"HmsJGM"})}}),u(Pe.TextField,{name:"link",get control(){return i.controls.link},get label(){return e({id:"EWPtMO"})},placeholder:"stt.gg/wVEJDGVs"})]}})),a}})}function jje(t){const{showError:e}=Ne(),n=ss(()=>({mutationFn:()=>t.member.kick(),onError:e}));return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return u(k,{id:"3y+d4K"})},get actions(){return[{text:u(k,{id:"dEgA5A"})},{text:u(k,{id:"EY4XVW"}),onClick:n.mutateAsync}]},get isDisabled(){return n.isPending},get children(){return u(Ae,{align:!0,get children(){return[u(zt,{get src(){return t.member.user?.animatedAvatarURL},size:64}),u(Le,{get children(){return u(k,ge(()=>({id:"6qWjm5",values:{0:t.member.user?.username}})))}})]}})}})}var qje=I("<form>");function Hje(t){const{showError:e}=Ne(),n=Hn({silent:Lt(!1)}),r=ss(()=>({mutationFn:()=>t.server.delete(n.controls.silent.value),onError:e,onSuccess:()=>t.onClose()}));async function i(){await r.mutateAsync()}const s=Pe.useSubmitHandler(n,i);return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return u(k,ge(()=>({id:"Tbe8DB",values:{0:t.server.name}})))},get actions(){return[{text:u(k,{id:"dEgA5A"})},{text:u(k,{id:"Mv8CyJ"}),onClick:()=>(i(),!1)}]},get isDisabled(){return r.isPending},get children(){var o=qje();return Dn(o,"submit",s),V(o,u(Ae,{get children(){return[u(Le,{get children(){return u(k,{id:"3QeDnN"})}}),u(Pe.Checkbox,{name:"silent",get control(){return n.controls.silent},get children(){return u(k,{id:"MlE0za"})}})]}})),o}})}var Wje=I("<span>?"),Xje=I("<span>"),Yje=I("<strong>"),Gje=I("<br>");function Zje(t){const e=Ht(),[n,r]=ve(!1),i=ke(()=>{const s=t.url.toString();if(s!==t.display)try{const o=new URL(t.display);return s!==o.toString()?2:1}catch{return 1}return 0});return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return u(k,{id:"WnhbOj"})},get actions(){return[{text:u(k,{id:"yz7wBu"})},{text:u(k,{id:"xGVfLh"}),onClick:()=>{window.open(t.url,"_blank","noopener"),n()&&i()===0&&e.linkSafety.trust(t.url)},isDisabled:i()===2&&!n()}]},get children(){return u(Ae,{get children(){return[(()=>{var s=Wje(),o=s.firstChild;return V(s,u(k,{id:"ByG9SL"}),o),V(s,u(S4,{get children(){return t.url.toString()}}),o),s})(),u(Me,{get fallback(){return u(pr,{get checked(){return n()},onChange:()=>r(s=>!s),get children(){var s=Xje();return V(s,u(k,{id:"LD81I0"}),null),V(s,u(S4,{get children(){return t.url.origin}}),null),s}})},get children(){return[u(Z,{get when(){return i()===1},get children(){return u(k,ge(()=>({id:"1Xl18j",values:{0:t.display}})))}}),u(Z,{get when(){return i()===2},get children(){return u(Kje,{get children(){return[u(Le,{get children(){return u(k,{id:"K4wEpA",components:{0:Yje(),1:Gje()}})}}),u(S4,{get children(){return t.display}}),u(pr,{get checked(){return n()},onChange:()=>r(s=>!s),get children(){return u(k,{id:"uAOcxa"})}})]}})}})]}})]}})}})}const S4=H("span",{base:{textDecoration:"underline",overflowWrap:"anywhere"}}),Kje=H("span",{base:{display:"flex",flexDirection:"column",color:"var(--md-sys-color-error)"}});var Jje=I("<svg>"),eqe=I("<svg><rect></svg>",!1,!0,!1);function tqe(t){const e=[];for(;e.length*8<t.length;)e.push(0);return t.forEach((n,r)=>e[r>>>3]|=n<<7-(r&7)),e}function Ul(t,e,n){if(n<0||n>31||e>>>n)throw"Value out of range";for(let r=n-1;r>=0;r--)t.push(e>>>r&1)}var oY=Object.freeze([[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]]),$g=1,Lg=40,aY=Object.freeze([[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]]);function yb(t,e){return{ordinal:t,formatBits:e}}var m0=Object.freeze({LOW:yb(0,1),MEDIUM:yb(1,0),QUARTILE:yb(2,3),HIGH:yb(3,2)});function nqe(t){return m0[t.toUpperCase()]}function x4(t,e){if(t>>>8||e>>>8)throw"Byte out of range";let n=0;for(let r=7;r>=0;r--)n=n<<1^(n>>>7)*285,n^=(e>>>r&1)*t;if(n>>>8)throw"Assertion error";return n}var rqe=class{coefficients=[];constructor(t){if(t<1||t>255)throw new RangeError("Degree out of range (1 to 255)");const e=this.coefficients;for(let r=0;r<t-1;r++)e.push(0);e.push(1);let n=1;for(let r=0;r<t;r++){for(let i=0;i<e.length;i++)e[i]=x4(e[i],n),i+1<e.length&&(e[i]^=e[i+1]);n=x4(n,2)}}getRemainder(t){const e=[...this.coefficients].fill(0);return t.forEach(n=>{const r=n^e.shift();e.push(0);for(let i=0;i<e.length;i++)e[i]^=x4(this.coefficients[i],r)}),e}};function wp(t,e){return{modeBits:t,numBitsCharCount:e}}function lY(t,e){if(1<=e&&e<=9)return t.numBitsCharCount[0];if(10<=e&&e<=26)return t.numBitsCharCount[1];if(27<=e&&e<=40)return t.numBitsCharCount[2];throw RangeError("Version number out of range (1-40)")}var lT=Object.freeze({NUMERIC:wp(1,[10,12,14]),ALPHANUMERIC:wp(2,[9,11,13]),BYTE:wp(4,[8,16,16]),KANJI:wp(8,[8,10,12]),ECI:wp(7,[0,0,0])}),cY=/^[0-9]*$/,uY=/^[A-Z0-9 $%*+./:-]*$/,_4="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";function cT(t,e,n){if(e<0)throw"Invalid argument";return{mode:t,numChars:e,bitData:n}}function iqe(t){const e=[];return t.forEach(n=>Ul(e,n,8)),cT(lT.BYTE,t.length,e)}function sqe(t){if(!cY.test(t))throw"String contains non-numeric characters";const e=[];let n;for(n=0;n+3<=t.length;n+=3)Ul(e,parseInt(t.substr(n,3),10),10);const r=t.length-n;return r>0&&Ul(e,parseInt(t.substring(n),10),r*3+1),cT(lT.NUMERIC,t.length,e)}function oqe(t){if(!uY.test(t))throw"String contains unencodable characters in alphanumeric mode";const e=[];let n;for(n=0;n+2<=t.length;n+=2){let r=_4.indexOf(t.charAt(n))*45;r+=_4.indexOf(t.charAt(n+1)),Ul(e,r,11)}return n<t.length&&Ul(e,_4.indexOf(t.charAt(n)),6),cT(lT.ALPHANUMERIC,t.length,e)}function aqe(t,e){if(e<$g||e>Lg)throw"Version number out of range";let n=0;for(const r of t){const i=lY(r.mode,e);if(r.numChars>=1<<i)return null;n+=4+i+r.bitData.length}return n}function lqe(t){t=encodeURI(t);const e=[];for(let n=0;n<t.length;n++)t.charAt(n)!="%"?e.push(t.charCodeAt(n)):(e.push(parseInt(t.substr(n+1,2),16)),n+=2);return e}function cqe(t){return t==""?[]:cY.test(t)?[sqe(t)]:uY.test(t)?[oqe(t)]:[iqe(lqe(t))]}function Ac(t,e){return(t>>>e&1)!=0}function uqe(t){if(t<$g||t>Lg)throw"Version number out of range";if(t==1)return[];{const e=t*4+17,n=Math.floor(t/7)+2,r=t==32?26:Math.ceil((e-13)/(n*2-2))*2,i=[6];for(let s=0,o=e-7;s<n-1;s++,o-=r)i.splice(1,0,o);return i}}function uT(t){if(t<$g||t>Lg)throw"Version number out of range";let e=(16*t+128)*t+64;if(t>=2){const n=Math.floor(t/7)+2;e-=(25*n-10)*n-55,t>=7&&(e-=18*2)}return e}function vy(t,e){if(t<$g||t>Lg)throw"Version number out of range";return Math.floor(uT(t)/8)-oY[e.ordinal][t]*aY[e.ordinal][t]}var ZM=3,dqe=3,KM=40,hqe=10;function to(t,e,n,r,i){r[e][t]=n,i[e][t]=!0}function c5(t,e,n,r,i){const s=e.formatBits<<3|t;let o=s;for(let l=0;l<10;l++)o=o<<1^(o>>>9)*1335;const a=(s<<10|o)^21522;if(a>>>15)throw"Assertion error";for(let l=0;l<=5;l++)to(8,l,Ac(a,l),r,i);to(8,7,Ac(a,6),r,i),to(8,8,Ac(a,7),r,i),to(7,8,Ac(a,8),r,i);for(let l=9;l<15;l++)to(14-l,8,Ac(a,l),r,i);for(let l=0;l<=7;l++)to(n-1-l,8,Ac(a,l),r,i);for(let l=8;l<15;l++)to(8,n-15+l,Ac(a,l),r,i);to(8,n-8,!0,r,i)}function fqe(t,e,n,r){if(t<7)return;let i=t;for(let o=0;o<12;o++)i=i<<1^(i>>>11)*7973;const s=t<<12|i;if(s>>>18)throw"Assertion error";for(let o=0;o<18;o++){const a=Ac(s,o),l=e-11+o%3,c=Math.floor(o/3);to(l,c,a,n,r),to(c,l,a,n,r)}}function C4(t,e,n,r,i){for(let s=-4;s<=4;s++)for(let o=-4;o<=4;o++){const a=Math.max(Math.abs(s),Math.abs(o)),l=t+o,c=e+s;0<=l&&l<n&&0<=c&&c<n&&to(l,c,a!=2&&a!=4,r,i)}}function mqe(t,e,n,r){for(let i=-2;i<=2;i++)for(let s=-2;s<=2;s++)to(t+s,e+i,Math.max(Math.abs(i),Math.abs(s))!=1,n,r)}function gqe(t,e,n,r,i){for(let a=0;a<t;a++)to(6,a,a%2==0,r,i),to(a,6,a%2==0,r,i);C4(3,3,t,r,i),C4(t-4,3,t,r,i),C4(3,t-4,t,r,i);const s=uqe(e),o=s.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a==0&&l==0||a==0&&l==o-1||a==o-1&&l==0||mqe(s[a],s[l],r,i);c5(0,n,t,r,i),fqe(e,t,r,i)}function pqe(t,e,n){if(t.length!=vy(e,n))throw"Invalid argument";const r=aY[n.ordinal][e],i=oY[n.ordinal][e],s=Math.floor(uT(e)/8),o=r-s%r,a=Math.floor(s/r),l=[],c=new rqe(i);for(let h=0,f=0;h<r;h++){const m=t.slice(f,f+a-i+(h<o?0:1));f+=m.length;const g=c.getRemainder(m);h<o&&m.push(0),g.forEach(p=>m.push(p)),l.push(m)}const d=[];for(let h=0;h<l[0].length;h++)for(let f=0;f<l.length;f++)(h!=a-i||f>=o)&&d.push(l[f][h]);if(d.length!=s)throw"Assertion error";return d}function vqe(t,e,n,r,i){if(t.length!=Math.floor(uT(e)/8))throw"Invalid argument";let s=0;for(let o=n-1;o>=1;o-=2){o==6&&(o=5);for(let a=0;a<n;a++)for(let l=0;l<2;l++){const c=o-l,h=(o+1&2)==0?n-1-a:a;!r[h][c]&&s<t.length*8&&(i[h][c]=Ac(t[s>>>3],7-(s&7)),s++)}}if(s!=t.length*8)throw"Assertion error"}function E4(t,e,n,r){if(t<0||t>7)throw"Mask value out of range";for(let i=0;i<e;i++)for(let s=0;s<e;s++){let o;switch(t){case 0:o=(s+i)%2==0;break;case 1:o=i%2==0;break;case 2:o=s%3==0;break;case 3:o=(s+i)%3==0;break;case 4:o=(Math.floor(s/3)+Math.floor(i/2))%2==0;break;case 5:o=s*i%2+s*i%3==0;break;case 6:o=(s*i%2+s*i%3)%2==0;break;case 7:o=((s+i)%2+s*i%3)%2==0;break;default:throw"Assertion error"}o&&!r[i][s]&&(n[i][s]=!n[i][s])}}function bqe(t,e){let n=0;for(let o=0;o<t;o++)for(let a=0,l=0,c=!1;a<t;a++)a==0||e[o][a]!=c?(c=e[o][a],l=1):(l++,l==5?n+=ZM:l>5&&n++);for(let o=0;o<t;o++)for(let a=0,l=0,c=!1;a<t;a++)a==0||e[a][o]!=c?(c=e[a][o],l=1):(l++,l==5?n+=ZM:l>5&&n++);for(let o=0;o<t-1;o++)for(let a=0;a<t-1;a++){const l=e[o][a];l==e[o][a+1]&&l==e[o+1][a]&&l==e[o+1][a+1]&&(n+=dqe)}for(let o=0;o<t;o++)for(let a=0,l=0;a<t;a++)l=l<<1&2047|(e[o][a]?1:0),a>=10&&(l==93||l==1488)&&(n+=KM);for(let o=0;o<t;o++)for(let a=0,l=0;a<t;a++)l=l<<1&2047|(e[a][o]?1:0),a>=10&&(l==93||l==1488)&&(n+=KM);let r=0;e.forEach(o=>{o.forEach(a=>{a&&r++})});const i=t*t,s=Math.ceil(Math.abs(r*20-i*10)/i)-1;return n+=s*hqe,n}function yqe(t,e,n,r){if(e<-1||e>7)throw"Mask value out of range";if(n<$g||n>Lg)throw"Version value out of range";const i=n*4+17,s=[],o=[],a=[];for(let c=0;c<i;c++)a.push(!1);for(let c=0;c<i;c++)s.push(a.slice()),o.push(a.slice());gqe(i,n,r,s,o);const l=pqe(t,n,r);if(vqe(l,n,i,o,s),e==-1){let c=Number.MAX_SAFE_INTEGER;for(let d=0;d<8;d++){c5(d,r,i,s,o),E4(d,i,s,o);const h=bqe(i,s);h<c&&(e=d,c=h),E4(d,i,s,o)}}if(e<0||e>7)throw"Assertion error";return c5(e,r,i,s,o),E4(e,i,s,o),{version:n,size:i,mask:e,errorCorrectionLevel:r,modules:s,isFunction:o}}function Oqe(t,e,n=1,r=40,i=-1,s=!0){if(!($g<=n&&n<=r&&r<=Lg)||i<-1||i>7)throw"Invalid value";let o,a;for(o=n;;o++){const d=vy(o,e)*8,h=aqe(t,o);if(h!=null&&h<=d){a=h;break}if(o>=r)throw`Data too long (> ${d/8} bytes)`}[m0.MEDIUM,m0.QUARTILE,m0.HIGH].forEach(d=>{s&&a<=vy(o,d)*8&&(e=d)});const l=[];t.forEach(d=>{Ul(l,d.mode.modeBits,4),Ul(l,d.numChars,lY(d.mode,o)),d.bitData.forEach(h=>l.push(h))});const c=vy(o,e)*8;if(l.length>c||(Ul(l,0,Math.min(4,c-l.length)),Ul(l,0,(8-l.length%8)%8),l.length%8!=0))throw"Assertion error";for(let d=236;l.length<c;d^=253)Ul(l,d,8);return yqe(tqe(l),i,o,e)}function wqe(t,e){const n=cqe(t);return Oqe(n,e)}var JM;(function(t){t[t.ALTERNATING_TILES=0]="ALTERNATING_TILES",t[t.ALTERNATING_HORIZONTAL_LINES=1]="ALTERNATING_HORIZONTAL_LINES",t[t.ALTERNATING_VERTICAL_LINES_TWO_GAP=2]="ALTERNATING_VERTICAL_LINES_TWO_GAP",t[t.DIAGONAL=3]="DIAGONAL",t[t.FOUR_BY_TWO_RECTANGLE_ALTERNATING=4]="FOUR_BY_TWO_RECTANGLE_ALTERNATING",t[t.FLOWER_IN_SQAURE=5]="FLOWER_IN_SQAURE",t[t.DIAGONAL_SQUARE=6]="DIAGONAL_SQUARE",t[t.ALTERNATING_PUZZLE_PIECE=7]="ALTERNATING_PUZZLE_PIECE"})(JM||(JM={}));var dY=Object.freeze({level:m0.LOW});function kqe(t){const e=t.level??dY.level,n=wqe(t.value,typeof e=="string"?nqe(e):e);return{buffer:Uint8Array.from(n.modules.map(r=>r.map(i=>i?1:0)).flat()),size:n.size,version:n.version}}var Sqe=t=>{const e=ge({...dY,backgroundColor:"white",backgroundAlpha:1,foregroundColor:"black",foregroundAlpha:1,width:100,height:100},t),n=ke(()=>kqe(e)),r=ke(()=>e.width/n().size),i=ke(()=>e.height/n().size),s=ke(()=>{let o=[];for(let a=0;a<n().size;a++)for(let l=0;l<n().size;l++)o=[...o,{x:r()*a,y:i()*l,enabled:n().buffer[l*n().size+a]===1}];return o});return(()=>{var o=Jje();return V(o,u(rt,{get each(){return s()},children:a=>(()=>{var l=eqe();return Te(c=>{var d=r(),h=i(),f=a.x,m=a.y,g=a.enabled?e.foregroundColor:e.backgroundColor,p=a.enabled?e.foregroundAlpha:e.backgroundAlpha;return d!==c.e&&$t(l,"width",c.e=d),h!==c.t&&$t(l,"height",c.t=h),f!==c.a&&$t(l,"x",c.a=f),m!==c.o&&$t(l,"y",c.o=m),g!==c.i&&((c.i=g)!=null?l.style.setProperty("fill",g):l.style.removeProperty("fill")),p!==c.n&&((c.n=p)!=null?l.style.setProperty("opacity",p):l.style.removeProperty("opacity")),c},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),l})()})),Te(a=>{var l=e.width,c=e.height;return l!==a.e&&$t(o,"width",a.e=l),c!==a.t&&$t(o,"height",a.t=c),a},{e:void 0,t:void 0}),o})()},xqe=I("<form>");const _qe=H("code",{base:{userSelect:"all"}}),Cqe=H("div",{base:{borderRadius:"4px",background:"white",width:"140px",height:"140px",display:"grid",placeItems:"center"}});function Eqe(t){const{_:e}=Dt(),{showError:n}=Ne(),r=Hn({code:Lt("",{required:!0})}),i=()=>`otpauth://totp/Stoat:${t.identifier}?secret=${t.secret}&issuer=Stoat`;async function s(){try{const a=r.controls.code.value.trim().replace(/\s/g,"");await t.callback(a),t.onClose()}catch(a){n(a)}}const o=Pe.useSubmitHandler(r,s);return u(Bt,{get show(){return t.show},onClose:()=>{t.callback(),t.onClose()},get title(){return u(k,{id:"8FE4JE"})},get actions(){return[{text:u(k,{id:"dEgA5A"}),onClick(){t.callback()}},{text:u(k,{id:"xGVfLh"}),onClick(){return s(),!1},isDisabled:!Pe.canSubmit(r)}]},get isDisabled(){return r.isPending},get children(){var a=xqe();return Dn(a,"submit",o),V(a,u(Ae,{get children(){return[u(Le,{get children(){return u(k,{id:"SAGRK3"})}}),u(Ae,{align:!0,get children(){return[u(Cqe,{get children(){return u(Sqe,{get value(){return i()},backgroundColor:"white",foregroundColor:"black",level:"medium",height:140,width:140,backgroundAlpha:1,foregroundAlpha:1})}}),u(_qe,{get children(){return t.secret}})]}}),u(Pe.TextField,{name:"code",get control(){return r.controls.code},get label(){return e({id:"nbzz1A"})}})]}})),a}})}var Tqe=I("<form>");function Dqe(t){const{_:e}=Dt(),{showError:n}=Ne(),[r,i]=ve(t.state==="unknown"?t.available_methods:void 0),[s,o]=ve(),a=Hn({password:Lt(""),totp_code:Lt(""),recovery_code:Lt("")});Tn(()=>{!r()&&t.state==="known"&&i(t.mfa.availableMethods)}),dt(()=>{const g=r();g&&o(g.find(p=>p!=="Recovery"))});async function l(){try{const g=s();if(!g)return;let p;switch(g){case"Password":p={password:a.controls.password.value};break;case"Totp":p={totp_code:a.controls.totp_code.value};break;case"Recovery":p={recovery_code:a.controls.recovery_code.value};break;default:return}if(t.state==="known"){const v=await t.mfa.createTicket(p);t.callback(v)}else t.callback(p);t.onClose()}catch(g){n(g)}}function c(){t.callback(),t.onClose()}function d(){r().length===1?c():(o(void 0),a.controls.password.setValue(""),a.controls.totp_code.setValue(""),a.controls.recovery_code.setValue(""))}function h(){return Pe.canSubmit(a)&&(a.controls.password.value||a.controls.totp_code.value||a.controls.recovery_code.value)}const f=()=>s()?[{text:u(Me,{get fallback(){return u(k,{id:"iH8pgl"})},get children(){return u(Z,{get when(){return r().length===1},get children(){return u(k,{id:"dEgA5A"})}})}}),onClick:()=>(d(),!1)},{text:u(k,{id:"7VpPHA"}),onClick:()=>(l(),!1),isDisabled:!h()}]:[{text:u(k,{id:"dEgA5A"}),onClick:()=>(c(),!1)}],m=Pe.useSubmitHandler(a,l);return u(Bt,{get show(){return t.show},onClose:()=>t.state==="unknown"||s()?void 0:t.onClose(),get title(){return u(k,{id:"JCzHqi"})},get actions(){return f()},get isDisabled(){return a.isPending},get children(){var g=Tqe();return Dn(g,"submit",m),V(g,u(Ae,{get children(){return[u(Le,{get children(){return u(Me,{get fallback(){return u(k,{id:"H7/Osf"})},get children(){return u(Z,{get when(){return s()},get children(){return u(k,{id:"JUJmXm"})}})}})}}),u(Me,{get fallback(){return u(Zr,{})},get children(){return[u(Z,{get when(){return s()},get children(){return u(Me,{get children(){return[u(Z,{get when(){return s()==="Password"},get children(){return u(Pe.TextField,{name:"password",get control(){return a.controls.password},type:"password",get label(){return e({id:"8ZsakT"})}})}}),u(Z,{get when(){return s()==="Totp"},get children(){return u(Pe.TextField,{name:"totp_code",get control(){return a.controls.totp_code},type:"text",get label(){return e({id:"YZWcQL"})}})}}),u(Z,{get when(){return s()==="Recovery"},get children(){return u(Pe.TextField,{name:"recovery_code",get control(){return a.controls.recovery_code},type:"text",get label(){return e({id:"jpJ5AL"})}})}})]}})}}),u(Z,{get when(){return r()},get children(){return u(rt,{get each(){return r()},children:p=>u(Xe,{action:"chevron",get icon(){return u(Me,{get children(){return[u(Z,{when:p==="Password",get children(){return u(iRe,{size:24})}}),u(Z,{when:p==="Totp",get children(){return u(Iq,{size:24})}}),u(Z,{when:p==="Recovery",get children(){return u(N9e,{size:24})}})]}})},onClick:()=>{o(p),a.controls.password.setValue(""),a.controls.totp_code.setValue(""),a.controls.recovery_code.setValue("")},get children(){return u(Me,{get children(){return[u(Z,{when:p==="Password",get children(){return u(k,{id:"8ZsakT"})}}),u(Z,{when:p==="Totp",get children(){return u(k,{id:"YZWcQL"})}}),u(Z,{when:p==="Recovery",get children(){return u(k,{id:"jpJ5AL"})}})]}})}})})}})]}})]}})),g}})}var Aqe=I("<span> "),Pqe=I("<i>,");const Rqe=H("div",{base:{display:"grid",textAlign:"center",gridTemplateColumns:"1fr 1fr",fontFamily:"var(--monospace-font), monospace","& span":{userSelect:"text"},"& i":{opacity:0,position:"absolute"}}});function Mqe(t){const{mfaFlow:e,showError:n}=Ne(),[r,i]=ve(t.codes);async function s(){try{const o=await e(t.mfa);if(o){const a=await o.generateRecoveryCodes();i(a)}}catch(o){n(o)}}return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return u(k,{id:"a8e0AU"})},get actions(){return[{text:u(k,{id:"OfhWJH"}),onClick:()=>(s(),!1)},{text:u(k,{id:"DPfwMq"}),onClick:()=>!0}]},get children(){return[u(Le,{get children(){return u(k,{id:"ve7z/g"})}}),u(Rqe,{get children(){return u(rt,{get each(){return r()},children:(o,a)=>(()=>{var l=Aqe(),c=l.firstChild;return V(l,o,c),V(l,(()=>{var d=Ce(()=>a()!==r().length-1);return()=>d()&&Pqe()})(),null),l})()})}})]}})}var Iqe=I("<form>");function $qe(t){const{_:e}=Dt(),{showError:n}=Ne(),r=Hn({username:Lt("",{required:!0})});async function i(){try{await t.callback(r.controls.username.value),t.onClose()}catch(o){n(o)}}const s=Pe.useSubmitHandler(r,i);return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return u(k,{id:"c3OXEp"})},get actions(){return[{text:u(k,{id:"dEgA5A"})},{text:u(k,{id:"OEEQKT"}),onClick:()=>(i(),!1),isDisabled:!Pe.canSubmit(r)}]},get isDisabled(){return r.isPending},get children(){var o=Iqe();return Dn(o,"submit",s),V(o,u(Ae,{get children(){return u(Pe.TextField,{name:"username",get control(){return r.controls.username},get label(){return e({id:"7sNhEz"})}})}})),o}})}var Lqe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm7 10c0 1.85-.51 3.65-1.38 5.21l-1.45-1.45a4.994 4.994 0 0 0-.64-6.29 5.003 5.003 0 0 0-7.07 0 5.003 5.003 0 0 0 0 7.07 5.006 5.006 0 0 0 6.29.64l1.72 1.72c-1.19 1.42-2.73 2.51-4.47 3.04-4.02-1.25-7-5.42-7-9.94V6.3l7-3.11 7 3.11zm-7 4c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3">');const Nqe=(t={})=>(()=>{var e=Lqe();return Se(e,t,!0,!0),e})();let eI=!1;function Fqe(t){const{showError:e}=Ne(),[n,r]=ve(!1),i=!eI;return eI=!0,Tn(()=>!i&&t.onClose()),u(Bt,{get icon(){return u(Nqe,{})},get show(){return i&&t.show},get onClose(){return t.onClose},get title(){return u(k,{id:"wpLdYk"})},get actions(){return[{text:u(k,{id:"yz7wBu"})},{text:u(k,{id:"dDoHhx"}),isDisabled:!n(),async onClick(){await t.acknowledge().catch(e)}}]},get children(){return[u(k,{id:"TJjaBp"}),u(pl,{get children(){return u(rt,{get each(){return t.changes},children:s=>u(pl.Item,{onClick:()=>window.open(s.url,"_blank"),get children(){return u(kt,{align:!0,get children(){return[u(Ae,{gap:"none",grow:!0,get children(){return[u(Le,{class:"title",get children(){return s.description}}),u(Le,{class:"label",get children(){return u(k,{id:"XnpLAI",components:{0:u($r,{format:"iso8601",get value(){return s.effective_time}}),1:u($r,{format:"relative",get value(){return s.effective_time}})}})}})]}}),u(yt,{children:"open_in_new"})]}})}})})}}),u(pr,{get checked(){return n()},onChange:()=>r(s=>!s),children:"I've read and reviewed the changes."})]}})}var Bqe=I("<form>");function zqe(t){const{_:e}=Dt(),{showError:n}=Ne(),r=Hn({name:Lt(t.session.name,{required:!0})});async function i(){try{await t.session.rename(r.controls.name.value),t.onClose()}catch(o){n(o)}}const s=Pe.useSubmitHandler(r,i);return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return u(k,{id:"G3zom+"})},get actions(){return[{text:u(k,{id:"dEgA5A"})},{text:u(k,{id:"2wxgft"}),onClick:()=>(i(),!1),isDisabled:!Pe.canSubmit(r)}]},get isDisabled(){return r.isPending},get children(){var o=Bqe();return Dn(o,"submit",s),V(o,u(Ae,{get children(){return u(Pe.TextField,{name:"name",get control(){return r.controls.name},get label(){return e({id:"6YtxFj"})},get placeholder(){return e({id:"uu2ow3"})}})}})),o}})}var Qqe=I("<div>"),Uqe=I("<form>");const Vqe=["Illegal","IllegalGoods","IllegalExtortion","IllegalPornography","IllegalHacking","ExtremeViolence","PromotesHarm","UnsolicitedSpam","Raid","SpamAbuse","ScamsFraud","Malware","Harassment","NoneSpecified"],jqe=["UnsolicitedSpam","SpamAbuse","InappropriateProfile","Impersonation","BanEvasion","Underage","NoneSpecified"];function qqe(t){const{_:e}=Dt(),{showError:n}=Ne(),r={Illegal:e({id:"KQ8CVu"}),IllegalGoods:e({id:"IVSi8w"}),IllegalExtortion:e({id:"WSSlyk"}),IllegalPornography:e({id:"jARVSc"}),IllegalHacking:e({id:"yc8XoJ"}),ExtremeViolence:e({id:"5LQm/a"}),PromotesHarm:e({id:"oY64tV"}),UnsolicitedSpam:e({id:"yMVe+Q"}),Raid:e({id:"1hG1IQ"}),SpamAbuse:e({id:"I1V8ji"}),ScamsFraud:e({id:"CWFzr4"}),Malware:e({id:"jMiuH3"}),Harassment:e({id:"1LvYFz"}),NoneSpecified:e({id:"/IX/7x"}),InappropriateProfile:e({id:"ob334e"}),Impersonation:e({id:"gFoGWm"}),BanEvasion:e({id:"zR1hDe"}),Underage:e({id:"7BiB6a"})},i=Hn({category:Lt("",{required:!0}),detail:Lt("")}),s=t.target instanceof Vl?jqe:Vqe;async function o(){try{const l=i.controls.category.value,c=i.controls.detail.value;if(!l||l==="NoneSpecified"&&!c)throw new Error("NoReasonProvided");await t.client.api.post("/safety/report",{content:t.target instanceof Vl?{type:"User",id:t.target.id,report_reason:l,message_id:t.contextMessage?.id}:t.target instanceof oo?{type:"Server",id:t.target.id,report_reason:l}:{type:"Message",id:t.target.id,report_reason:l},additional_context:c}),t.onClose()}catch(l){n(l)}}const a=Pe.useSubmitHandler(i,o);return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return u(Me,{get children(){return[u(Z,{get when(){return t.target instanceof Vl},get children(){return u(k,{id:"uH/42m"})}}),u(Z,{get when(){return t.target instanceof oo},get children(){return u(k,{id:"pfWVYe"})}}),u(Z,{get when(){return t.target instanceof Lm},get children(){return u(k,{id:"MDnT0x"})}})]}})},get actions(){return[{text:u(k,{id:"dEgA5A"})},{text:u(k,{id:"gjpdaf"}),onClick:()=>(o(),!1),isDisabled:!Pe.canSubmit(i)}]},get isDisabled(){return i.isPending},get children(){var l=Uqe();return Dn(l,"submit",a),V(l,u(Ae,{get children(){return[(()=>{var c=Qqe();return V(c,(()=>{var d=Ce(()=>t.target instanceof Vl);return()=>d()?u(Ae,{align:!0,get children(){return[u(zt,{get src(){return t.target.animatedAvatarURL},size:64}),Ce(()=>t.target.displayName)]}}):Ce(()=>t.target instanceof oo)()?u(Ae,{align:!0,get children(){return[u(zt,{get src(){return t.target.animatedIconURL},get fallback(){return u(yY,{get input(){return t.target.name}})},size:64}),Ce(()=>t.target.name)]}}):u(u6,{get message(){return t.target}})})()),Te(()=>ut(c,Hqe())),c})(),u(Pe.TextField.Select,{get control(){return i.controls.category},get children(){return[u(Co,{value:"",get children(){return u(k,{id:"h7+4yF"})}}),u(rt,{each:s,children:c=>u(Co,{value:c,get children(){return r[c]}})})]}}),u(Pe.TextField,{name:"detail",get control(){return i.controls.detail},get label(){return e({id:"1v5otA"})}})]}})),l}})}const Hqe=nn({base:{maxWidth:"100%",maxHeight:"80vh",overflowY:"hidden","& > div":{marginTop:"0 !important",pointerEvents:"none",userSelect:"none"}}});function Wqe(t){const{showError:e}=Ne(),n=ss(()=>({mutationFn:()=>t.bot.edit({remove:["Token"]}),onError:e}));return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return u(k,ge(()=>({id:"kaXbCq",values:{0:t.bot.user.username}})))},get actions(){return[{text:u(k,{id:"dEgA5A"})},{text:u(k,{id:"OfhWJH"}),onClick:()=>n.mutateAsync()}]},get children(){return u(k,{id:"psIkL7"})}})}var Xqe=I("<form>");function Yqe(t){const{_:e}=Dt(),n=pt(),{showError:r}=Ne(),i=Hn({avatar:Lt(t.member.animatedAvatarURL),nickname:Lt(t.member.nickname??"")});async function s(){try{const a={remove:[]};if(i.controls.nickname.isDirty){const l=i.controls.nickname.value.trim();l?a.nickname=l:a.remove.push("Nickname")}i.controls.avatar.isDirty&&(i.controls.avatar.value?Array.isArray(i.controls.avatar.value)&&(a.avatar=await n().uploadFile("avatars",i.controls.avatar.value[0],Qn.DEFAULT_MEDIA_URL)):a.remove.push("Avatar")),await t.member.edit(a),t.onClose()}catch(a){r(a)}}const o=Pe.useSubmitHandler(i,s);return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return u(k,ge(()=>({id:"EojDHM",values:{0:t.member.server.name}})))},get actions(){return[{text:u(k,{id:"dEgA5A"})},{text:u(k,{id:"tfDRzk"}),onClick:()=>(s(),!1),isDisabled:!Pe.canSubmit(i)}]},get isDisabled(){return i.isPending},get children(){var a=Xqe();return Dn(a,"submit",o),V(a,u(Ae,{get children(){return[u(Pe.FileInput,{get control(){return i.controls.avatar},accept:"image/*",get label(){return e({id:"bPoVPN"})},imageJustify:!1}),u(Pe.TextField,{name:"nickname",get label(){return e({id:"4hfTrB"})},get control(){return i.controls.nickname},get placeholder(){return t.member.user?.displayName}})]}})),a}})}function Gqe(t){const e=pt(),{openModal:n}=Ne(),r=()=>t.server.orPermission("ManageServer","ManageCustomisation","ManageRole","ManagePermissions");return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return t.server.name},get actions(){return[...r()?[{text:u(k,{id:"Tz0i8g"}),onClick(){n({type:"settings",config:"server",context:t.server})}}]:[],{text:u(k,{id:"KVzYER"}),onClick(){n({type:"server_identity",member:t.server.member})}},{text:u(k,{id:"gjpdaf"}),onClick(){n({type:"report_content",client:e(),target:t.server})}},{text:u(k,{id:"yz7wBu"})}]},get children(){return u(Md,{get content(){return t.server.description}})}})}var Zqe=I("<div>");function Kqe(t){const e=GQe[t.config];return u(uu,{get mount(){return document.getElementById("floating")},get children(){var n=Zqe();return n.style.setProperty("z-index","100"),n.style.setProperty("position","fixed"),n.style.setProperty("width","100%"),n.style.setProperty("height","100vh"),n.style.setProperty("left","0"),n.style.setProperty("top","0"),n.style.setProperty("pointer-events","none"),V(n,u(bu,{get children(){return u(X,{get when(){return t?.show},get children(){return u(gc.div,{style:{height:"100%","pointer-events":"all",display:"flex",color:"var(--md-sys-color-on-surface)",background:"var(--md-sys-color-surface-container-highest)"},initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.1},transition:{duration:.3,easing:[.17,.67,.58,.98]},get children(){return u(IRe,{get onClose(){return t.onClose},get render(){return e.render},get title(){return e.title},get list(){return e.list},get context(){return t.context}})}})}})}})),n}})}function Jqe(t){const{showError:e}=Ne(),n=ss(()=>({mutationFn:()=>t.client.sessions.deleteAll(),onError:e}));return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return u(k,{id:"Zn6Tz8"})},get actions(){return[{text:u(k,{id:"dEgA5A"})},{text:u(k,{id:"g3UF2V"}),onClick:()=>n.mutateAsync()}]},get isDisabled(){return n.isPending},get children(){return u(k,{id:"aIXp8m"})}})}function eHe(t){return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},get title(){return u(k,{id:"CaQg4F"})},get actions(){return[{text:u(k,{id:"zga9sT"})}]},get children(){return[]}})}function tHe(t){const{openModal:e}=Ne(),n=Ho(()=>({queryKey:["profile",t.user.id],queryFn:()=>t.user.fetchProfile()}));return u(Bt,{get show(){return t.show},get onClose(){return t.onClose},minWidth:560,padding:8,get children(){return u(nHe,{get children(){return[u(no.Banner,{width:3,get user(){return t.user},get bannerUrl(){return n.data?.animatedBannerURL},get onClick(){return n.data?.banner?()=>e({type:"image_viewer",file:n.data.banner}):void 0},onClickAvatar:r=>{r.stopPropagation(),t.user.avatar&&e({type:"image_viewer",file:t.user.avatar})}}),u(no.Actions,{get user(){return t.user},width:3}),u(no.Status,{get user(){return t.user}}),u(no.Badges,{get user(){return t.user}}),u(no.Joined,{get user(){return t.user}}),u(no.Mutuals,{get user(){return t.user}}),u(no.Bio,{get content(){return n.data?.content},full:!0})]}})}})}const nHe=H("div",{base:{display:"grid",gap:"var(--gap-md)",padding:"var(--gap-md)",gridTemplateColumns:"repeat(3, 1fr)"}});function rHe(t){const{openModal:e}=Ne();return u(Bt,{minWidth:420,get show(){return t.show},get onClose(){return t.onClose},get title(){return u(k,{id:"nSqogE"})},get actions(){return[{text:u(k,{id:"yz7wBu"})}]},get children(){return u(pl,{get children(){return u(rt,{get each(){return t.users},children:n=>u(pl.Item,{onClick:()=>e({type:"user_profile",user:n}),get children(){return[u(zt,{slot:"icon",size:36,get src(){return n.animatedAvatarURL},get fallback(){return n.displayName}}),u(jr,{get children(){return n.username}})]}})})}})}})}function iHe(t){const e=Dr(),{closeAll:n}=Ne();return u(Bt,{minWidth:420,get show(){return t.show},get onClose(){return t.onClose},get title(){return u(k,{id:"GXKMbZ"})},get actions(){return[{text:u(k,{id:"yz7wBu"})}]},get children(){return u(pl,{get children(){return u(rt,{get each(){return t.groups},children:r=>u(pl.Item,{onClick:()=>{e(r.path),n()},get children(){return[u(zt,{slot:"icon",size:36,get src(){return r.animatedIconURL},get fallback(){return r.name}}),u(jr,{get children(){return r.name}})]}})})}})}})}function sHe(t){const e=()=>t.member.server?.owner?.self||t.member.server?.havePermission("AssignRoles")&&t.member.inferiorTo(t.member.server.member);return u(Bt,{minWidth:420,get show(){return t.show},get onClose(){return t.onClose},get title(){return u(Me,{get fallback(){return u(k,ge(()=>({id:"DtwpxX",values:{0:t.member.displayName}})))},get children(){return u(Z,{get when(){return e()},get children(){return u(k,ge(()=>({id:"5gqEFg",values:{0:t.member.displayName}})))}})}})},get actions(){return[{text:u(k,{id:"yz7wBu"})}]},get children(){return u(Me,{get fallback(){return u(rt,{get each(){return t.member.orderedRoles.toReversed()},children:n=>u(kt,{align:!0,get children(){return[u(tI,{get children(){return n.name}}),u(nI,{get style(){return{background:n.colour??"var(--md-sys-color-outline-variant)"}}})]}})})},get children(){return u(Z,{get when(){return e()},get children(){return u(Ae,{get children(){return u(rt,{get each(){return t.member.server?.orderedRoles},children:n=>u(pr,{get checked(){return t.member.roles.includes(n.id)},get disabled(){return(n.rank??0)<(t.member.server?.member?.orderedRoles.toReversed()[0]?.rank??0)},onChange:()=>t.member.edit({roles:[...t.member.roles.filter(r=>r!==n.id),...t.member.roles.includes(n.id)?[]:[n.id]]}),get children(){return u(kt,{align:!0,grow:!0,get children(){return[u(tI,{get children(){return n.name}}),u(nI,{get style(){return{background:n.colour??"var(--md-sys-color-outline-variant)"}}})]}})}})})}})}})}})}})}const tI=H("span",{base:{flexGrow:1,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}}),nI=H("div",{base:{width:"16px",height:"16px",aspectRatio:"1/1",borderRadius:"100%"}});function oHe(t){console.info("components/modal  modal renderer created for type:",t.props.type);const[e]=sn(t,["show","onClose"]),n=ge(t.props,e);switch(n.type){case"add_bot":return u(mVe,n);case"add_friend":return u(OVe,n);case"ban_member":return u(_Ve,n);case"ban_non_member":return u(EVe,n);case"changelog":return u(TVe,n);case"add_members_to_group":return u(SVe,n);case"channel_info":return u(PVe,n);case"channel_toggle_mature":return u(MVe,n);case"create_bot":return u(LVe,n);case"create_category":return u(FVe,n);case"create_channel":return u(zVe,n);case"create_group":return u(VVe,n);case"create_invite":return u(WVe,n);case"create_or_join_server":return u(XVe,n);case"create_group_or_server":return u(jVe,n);case"create_role":return u(GVe,n);case"create_server":return u(JVe,n);case"create_webhook":return u(tje,n);case"custom_status":return u(rje,n);case"delete_bot":return u(ije,n);case"delete_channel":return u(oje,n);case"delete_category":return u(sje,n);case"delete_message":return u(aje,n);case"delete_role":return u(lje,n);case"delete_server":return u(cje,n);case"edit_email":return u(dje,n);case"edit_password":return u(fje,n);case"edit_username":return u(gje,n);case"emoji_preview":return u(pje,n);case"error2":return u(yje,n);case"image_viewer":return u(Ije,n);case"invite":return u(zje,n);case"join_server":return u(Vje,n);case"kick_member":return u(jje,n);case"leave_server":return u(Hje,n);case"link_warning":return u(Zje,n);case"mfa_enable_totp":return u(Eqe,n);case"mfa_flow":return u(Dqe,n);case"mfa_recovery":return u(Mqe,n);case"onboarding":return u($qe,n);case"policy_change":return u(Fqe,n);case"rename_session":return u(zqe,n);case"report_content":return u(qqe,n);case"server_identity":return u(Yqe,n);case"server_info":return u(Gqe,n);case"settings":return u(Kqe,n);case"signed_out":return u(eHe,n);case"sign_out_sessions":return u(Jqe,n);case"user_profile":return u(tHe,n);case"user_profile_roles":return u(sHe,n);case"user_profile_mutual_friends":return u(rHe,n);case"user_profile_mutual_groups":return u(iHe,n);case"reset_bot_token":return u(Wqe,n);default:console.error("Failed to create modal for",t.props.type,"as it is not registered.")}}class aHe{modals;setModals;constructor(){const[e,n]=$a([]);this.modals=e,this.setModals=n,this.openModal=this.openModal.bind(this),this.pop=this.pop.bind(this),this.remove=this.remove.bind(this),this.isOpen=this.isOpen.bind(this),this.closeAll=this.closeAll.bind(this)}openModal(e){const n=Math.random().toString();this.setModals(r=>[...r,{id:n,show:!0,props:e}])}pop(){const e=[...this.modals].reverse().find(n=>n.show);e&&this.remove(e.id)}closeAll(){Nt(()=>{for(const e of this.modals)this.remove(e.id)})}remove(e){this.setModals(n=>n.id===e,"show",!1),setTimeout(()=>{this.setModals(this.modals.filter(n=>n.id!==e))},500)}isOpen(e){return e?!!this.modals.find(n=>n.show&&n.props.type===e):!!this.modals.find(n=>n.show)}}class lHe extends aHe{constructor(){super(),this.mfaFlow=this.mfaFlow.bind(this),this.mfaEnableTOTP=this.mfaEnableTOTP.bind(this),this.showError=this.showError.bind(this),this.openLink=this.openLink.bind(this)}mfaFlow(e){return new Promise(n=>this.openModal({type:"mfa_flow",state:"known",mfa:e,callback:n}))}mfaEnableTOTP(e,n){return new Promise(r=>this.openModal({type:"mfa_enable_totp",identifier:n,secret:e,callback:r}))}showError(e){this.openModal({type:"error2",error:e})}writeText(e){navigator.clipboard.writeText(e)}openLink(){return!0}}const hY=yr(null);function cHe(t){const e=new lHe;return u(hY.Provider,{value:e,get children(){return t.children}})}function Ne(){return Nn(hY)}function uHe(){const t=Ne();return[u(rt,{get each(){return t.modals},children:e=>u(oHe,ge(e,{onClose:()=>t.remove(e.id)}))}),u(X,{get when(){return t.isOpen()},get children(){return u(FO,{get keybind(){return _n.CLOSE_MODAL},onPressed:()=>t.pop()})}})]}const o1=yr(null);function dHe(t){const{openModal:e}=Ne(),n=new y9e(t.state);return wt(()=>n.dispose()),dt(()=>{const r=t.state.settings.getValue("changelog:last_index");n.lifecycle.state()!==Ti.Ready&&r!==gb.index&&new Date<gb.until&&(e({type:"changelog",initial:gb.index}),t.state.settings.setValue("changelog:last_index",gb.index))}),dt(Zt(()=>n.lifecycle.policyAttentionRequired(),r=>{if(typeof r<"u"){const[i,s]=r;e({type:"policy_change",changes:i,acknowledge:s})}})),u(o1.Provider,{value:n,get children(){return t.children}})}function wu(){const{login:t,logout:e,selectUsername:n,lifecycle:r,isLoggedIn:i,isError:s}=Nn(o1);return{login:t,logout:e,selectUsername:n,lifecycle:r,isLoggedIn:i,isError:s}}function pt(){const t=Nn(o1);return()=>t.getCurrentClient()}function ff(){const t=Nn(o1);return()=>t.getCurrentClient().user}function Ng(){return Nn(o1).api}const hHe=!1;function fY(t,e,n){let r=!1;return _r(t).iterate({from:e,to:n,enter(i){if((i.type.name==="InlineCode"||i.type.name==="FencedCode"||i.type.name==="CodeText")&&i.to!=e&&i.from!=n)return r=!0,!1}}),r}function fHe(t,e,n){let r=!1,i=0,s=0;return _r(t).iterate({from:e,to:n,enter(o){switch(o.type.name){case"FencedCode":return i=o.from,s=o.to,r=!0,!0;case"CodeMark":return o.to>=s&&o.from!=i&&n>=o.to&&(r=!1),!1;case"InlineCode":return!1;default:return!0}}}),r}const mHe=Object.keys(dd).sort(),gHe=mHe.map(t=>({type:"emoji",label:`:${t}:`,apply:dd[t]})),pHe=/(?<!\w)[:@%#]\w*/,vHe=/(?<!\w):\w*/,bHe=/(?<!\w)@\w*/,yHe=/(?<!\w)@\w*/,OHe=/(?<!\w)#\w*/;function wHe(t){const e=Ht(),n=pt(),r=ke(()=>[].concat(gHe.map(a=>({...a,apply:`${Lj[e.settings.getValue("appearance:unicode_emoji")]??""}${a.apply}`,url:GE(e.settings.getValue("appearance:unicode_emoji"),a.apply)})),n().emojis.map(a=>({type:"emoji",label:`:${a.name}:`,apply:`:${a.id}: `,url:a.url})))),i=ke(()=>(t()?.members??t()?.users??n().users.toList()).map(a=>{const l=a?.user??a;return{type:"user",label:"@"+a.displayName,displayLabel:a.displayName,detail:a.displayName!==l.username?`${l.username}#${l.discriminator}`:void 0,apply:`<@${typeof a.id=="string"?a.id:a.id.user}> `,url:a.animatedAvatarURL}})),s=ke(()=>t()?.roles?.map(a=>({type:"role",label:"%"+a.name,displayLabel:a.name,apply:`<%${a.id}> `,colour:a.colour}))??[]),o=ke(()=>(t()?.channels??n().channels.toList()).map(a=>({type:"channel",label:"#"+a.name,apply:`<#${a.id}> `})));return a=>{if(fY(a.state,a.pos,a.pos))return null;const l=a.matchBefore(pHe);switch(l?.text[0]){case":":return{from:l.from,options:r(),validFor:vHe};case"@":return{from:l.from,options:i(),validFor:bHe};case"%":return{from:l.from,options:s(),validFor:yHe};case"#":return{from:l.from,options:o(),validFor:OHe};default:return null}}}const kHe=Tt.theme({".cm-scroller":{"font-family":"inherit"},".cm-tooltip.cm-tooltip-autocomplete":{border:"none",display:"flex","flex-direction":"column",padding:"var(--gap-md) 0",overflow:"hidden","border-radius":"var(--borderRadius-xs)",background:"var(--md-sys-color-surface-container)",color:"var(--md-sys-color-on-surface)",fill:"var(--md-sys-color-on-surface)","box-shadow":"0 0 3px var(--md-sys-color-shadow)"},".cm-tooltip.cm-tooltip-autocomplete > ul":{"min-width":"10em","max-width":"50vw","font-family":"inherit"},".cm-tooltip.cm-tooltip-autocomplete > ul > li":{display:"flex","align-items":"center",cursor:"pointer",gap:"var(--gap-md)",background:"transparent",padding:"var(--gap-sm) var(--gap-md)"},'.cm-tooltip.cm-tooltip-autocomplete > ul > li[aria-selected="true"]':{background:"color-mix(in srgb, var(--md-sys-color-on-surface) 8%, transparent)"},".cm-completionMatchedText":{"text-decoration":"inherit"},".cm-user-preview":{display:"inline-block",width:"24px",height:"24px","vertical-align":"baseline","object-fit":"cover",padding:"var(--gap-xxs)","border-radius":"var(--borderRadius-circle)"},".cm-emoji-preview":{display:"inline-block",width:"24px",height:"24px","vertical-align":"baseline","object-fit":"contain",padding:"var(--gap-xxs)"},".cm-role-preview":{display:"inline-block",width:"12px",height:"12px","vertical-align":"baseline",margin:"6px","border-radius":"var(--borderRadius-circle)"}});function SHe(t){const e=bye({activateOnTyping:!0,aboveCursor:!0,icons:!1,override:[wHe(()=>t?.()??{})],closeOnBlur:!1,tooltipClass:r=>{const i=wye(r);return i[0]?.type=="emoji"?"autocomplete-tooltip autocomplete-tooltip-emoji":i[0]?.type=="user"||i[0]?.type=="role"?"autocomplete-tooltip autocomplete-tooltip-mention":i[0]?.type=="channel"?"autocomplete-tooltip autocomplete-tooltip-channel":"autocomplete-tooltip autocomplete-tooltip-unknown"},addToOptions:[{render:(r,i,s)=>{const o='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"/>';if(r.type=="emoji"){const a=document.createElement("img");return a.classList.add("cm-emoji-preview"),a.loading="lazy",a.src=r.url||o,a}else if(r.type=="user"){const a=document.createElement("img");return a.classList.add("cm-user-preview"),a.loading="lazy",a.src=r.url||o,a}else if(r.type=="role"){const a=document.createElement("span");return a.classList.add("cm-role-preview"),a.style.background=r.colour||"var(--md-sys-color-surface-container-highest)",a}else if(r.type=="channel"){const a=document.createElement("span");return a.classList.add("cm-channel-preview"),a}else return null},position:30}]}),n=td.of([{key:":",run:r=>(CB(r),!1)}]);return[e,n,kHe]}function u5(t,e){const r=(u5.canvas??(u5.canvas=document.createElement("canvas"))).getContext("2d");return r===null?0:(r.font=e,r.measureText(t).width)}function rI(t){const e=window.getComputedStyle(t,null),n=e.getPropertyValue("font-weight")||"normal",r=e.getPropertyValue("font-size")||"16px",i=e.getPropertyValue("font-family")||"sans-serif";return`${n} ${r} ${i}`}const mY=Xn.define({}),H2=La.define({create(){return null},update(t,e){for(const n of e.effects)if(n.is(mY))return n.value;return t}}),xHe=Tt.updateListener.of(t=>{const e=t.view.state.field(H2,!1),n=rI(t.view.dom);if(n!==e?.mainFont){const r=document.createElement("span");r.classList.add("linewrap-whitespace"),r.style.display="none",t.view.contentDOM.appendChild(r);const i=rI(r);if(r.remove(),i!==e?.monoFont){const s=u5(" ".repeat(16),i)/16;t.view.dispatch({effects:[mY.of({mainFont:n,monoFont:i,width:s})]})}}}),gY=Ut.define({combine:t=>t[t.length-1]||48}),_He=kn.mark({attributes:{class:"linewrap-whitespace"}}),CHe=La.define({create(){return kn.none},update(t,e){const n=e.startState.field(H2,!1)?.width,r=e.state.field(H2,!1)?.width;if(r==null)return kn.none;if(!e.docChanged&&r===n&&t!==kn.none)return t;const i=e.state.facet(gY),s=e.state.tabSize;function o(l){return Array.from(l).reduce((c,d)=>{switch(d){case"	":return c+(s-c%s);case" ":return c+1;default:return c+1}},0)}const a=[];for(let l=0;l<e.state.doc.lines;l++){const c=e.state.doc.line(l+1);if(c.length===0)continue;const h=/^(\s*)(?:(?:(?:[-*+]\s|\d+\.\s)\s*(?:\[[\sxX]\]\s+)?|>\s+))*/.exec(c.text)??[""],f=Math.min(o(h[0]),i)*r;if(h[0].length===0||f===0)continue;const m=kn.line({attributes:{style:`--indented: ${f}px;`,class:"linewrap-indent"}});a.push(m.range(c.from,c.from)),a.push(_He.range(c.from,c.from+h[0].length))}return kn.set(a,!1)},provide(t){return Tt.decorations.from(t)}}),EHe=Tt.theme({".cm-line.linewrap-indent":{"text-indent":"calc(-1 * var(--indented) - 0.1px)","padding-left":"calc(var(--indented) + var(--cm-left-padding, 4px))"},".linewrap-whitespace":{"font-family":"monospace, monospace"},".cm-line > *":{"text-indent":"0"}}),THe=[Tt.lineWrapping,H2,gY.of(48),xHe,CHe,EHe],iI=kn.mark({class:"cm-spoiler-mark"}),DHe=kn.mark({class:"cm-spoiler-text"}),AHe=kn.mark({class:"md-code"}),PHe=kn.mark({class:"cm-timestamp md-code"}),RHe=Aa.fromClass(class{decorations;constructor(t){this.decorations=this.buildDecorations(t)}update(t){(t.docChanged||t.viewportChanged)&&(this.decorations=this.buildDecorations(t.view))}buildDecorations(t){const e=new Ih,n=/\|\|([\s\S]+?)\|\|/g,r=/\$\$([\s\S]+?)\$\$/g;for(const{from:i,to:s}of t.visibleRanges){const o=t.state.doc.sliceString(i,s);let a;for(;(a=n.exec(o))!==null;){const l=i+a.index,c=l+a[0].length;e.add(l,l+2,iI),e.add(l+2,c-2,DHe),e.add(c-2,c,iI)}for(;(a=r.exec(o))!==null;){const l=i+a.index,c=l+a[0].length;e.add(l+2,c-2,AHe)}for(;(a=WX.exec(o))!==null;){const l=i+a.index,c=l+a[0].length;e.add(l,c,PHe)}}return e.finish()}},{decorations:t=>t.decorations}),MHe=Tt.theme({".cm-spoiler-mark":{color:"var(--md-sys-color-outline)",fontFamily:"var(--fonts-monospace)"},".cm-spoiler-text":{color:"var(--md-sys-color-on-surface)",background:"var(--md-sys-color-surface-container-lowest)"},".cm-timestamp":{borderRadius:"var(--borderRadius-md)"}}),IHe=[RHe,MHe],$He=Tt.theme({"&":{background:"transparent"},".cm-line":{padding:"0px 2px 0px 6px","--cm-left-padding":"6px"},".cm-content":{fontFamily:"inherit",color:"var(--md-sys-color-on-surface)",background:"transparent",caretColor:"var(--md-sys-color-on-surface)"},".cm-cursor, .cm-dropCursor":{borderLeftColor:"var(--md-sys-color-on-surface)"},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{color:"var(--md-sys-color-on-primary-container)",backgroundColor:"var(--md-sys-color-primary-container)"},".cm-scroller":{fontFamily:"inherit"}}),LHe=MO.define([{tag:ie.heading1,class:"md-h1"},{tag:ie.heading2,class:"md-h2"},{tag:ie.heading3,class:"md-h3"},{tag:ie.heading4,class:"md-h4"},{tag:ie.heading5,class:"md-h5"},{tag:ie.heading6,class:"md-h6"},{tag:ie.emphasis,class:"md-emph"},{tag:ie.strong,class:"md-bold"},{tag:ie.strikethrough,class:"md-strikethrough"},{tag:ie.processingInstruction,class:"md-meta"},{tag:ie.list,class:"md-list"},{tag:ie.quote,class:"md-quote"},{tag:ie.contentSeparator,class:"md-hr"},{tag:ie.atom,class:"md-meta-atom"},{tag:ie.link,class:"md-link"},{tag:ie.url,class:"md-link"},{tag:ie.monospace,class:"md-code"},{tag:ie.content,class:"md-text"}]),NHe=[$He,c1e(LHe)];function FHe(){const t=pt(),e=du(),n=new Sve({regexp:new RegExp(Nj.source+"|"+/:([0-7][0-9A-HJKMNP-TV-Z]{25}):|<@([0-7][0-9A-HJKMNP-TV-Z]{25})>|<#([0-7][0-9A-HJKMNP-TV-Z]{25})>|<%([0-7][0-9A-HJKMNP-TV-Z]{25})/.source,"g"),decoration:([i,s,o,a,l,c],d,h)=>{if(fY(d.state,h,h+i[0].length))return null;const f=t(),{serverId:m}=e();let g=null;if(s){const{str:p,pack:v}=YX(s);g=new sI(GE(v,p))}else if(o)g=new sI(`${f?.configuration?.features.autumn.url}/emojis/${o}`);else if(a){const p=m?t().serverMembers.getByKey({server:m,user:a}):void 0,v=t().users.get(a);g=new zHe(v,p)}else if(l){const p=t().channels.get(l);p&&(g=new QHe(p))}else if(c){const p=t().servers.get(m)?.roles.get(c);p&&(g=new UHe(p))}return kn.replace({widget:g})}});return[Aa.fromClass(class{placeholders;constructor(i){this.placeholders=n.createDeco(i)}update(i){this.placeholders=n.updateDeco(i,this.placeholders)}},{decorations:i=>i.placeholders,provide:i=>Tt.atomicRanges.of(s=>s.plugin(i)?.placeholders||kn.none)}),BHe]}const BHe=Tt.theme({".cm-emoji-widget span":{display:"inline-block",width:"auto",height:"1lh","vertical-align":"bottom"},".cm-emoji-widget img":{display:"inline-block",width:"1.375em",height:"1.375em","vertical-align":"baseline","margin-bottom":"-0.375em","object-fit":"contain"},".cm-mention-widget":{"vertical-align":"bottom",gap:"4px","padding-left":"2px","padding-right":"6px","align-items":"center",display:"inline-flex",height:"1.4em","font-weight":600,"border-radius":"var(--borderRadius-lg)",color:"var(--md-sys-color-on-primary-container)",background:"var(--md-sys-color-primary-container)"},".cm-mention-widget img":{width:"16px",height:"16px",objectFit:"cover",borderRadius:"var(--borderRadius-full)"}});class sI extends mu{url;constructor(e){super(),this.url=e}eq(e){return this.url===e.url}toDOM(){const e=document.createElement("span"),n=document.createElement("span"),r=document.createElement("img");return e.classList.add("cm-emoji-widget"),r.src=this.url,n.appendChild(r),e.appendChild(n),e}}class zHe extends mu{user;member;constructor(e,n){super(),this.user=e,this.member=n}eq(e){return this.user===e.user&&this.member===e.member}toDOM(){const e=document.createElement("span");e.classList.add("cm-mention-widget"),e.contentEditable="false";const{username:n,avatar:r}=JO(this.user,this.member);if(r){const s=document.createElement("img");s.src=r,e.appendChild(s)}else{const s=document.createElement("span");s.innerText="at",s.classList.add("material-symbols-outlined"),e.appendChild(s)}const i=document.createElement("span");return i.textContent=n,e.appendChild(i),e}}class QHe extends mu{channel;constructor(e){super(),this.channel=e}eq(e){return this.channel===e.channel}toDOM(){const e=document.createElement("span");e.classList.add("cm-mention-widget"),e.contentEditable="false";const n=document.createElement("span");n.innerText="tag",n.classList.add("material-symbols-outlined"),e.appendChild(n);const r=document.createElement("span");return r.textContent=this.channel.name,e.appendChild(r),e}}class UHe extends mu{role;constructor(e){super(),this.role=e}eq(e){return this.role===e.role}toDOM(){const e=document.createElement("span");return e.classList.add("cm-mention-widget"),e.contentEditable="false",e.textContent=this.role.name,e}}const oI=new Iv;function dT(t){const e=document.createElement("div");e.className=VHe;const n=td.of([{key:"Enter",run:s=>{if(!t.onComplete)return!1;const o=s.state.selection.main;return fHe(s.state,o.from,o.to)?!1:(t.onComplete(),!0)}}]),r=td.of([{key:"ArrowUp",run:s=>s.state.doc.length>0||!t.onPreviousContext?!1:(t.onPreviousContext(),!0)}]),i=new Tt({parent:e,state:qn.create({doc:t.initialValue?.[0],extensions:[Tt.contentAttributes.of({spellcheck:"true"}),n,td.of($be),r,R1e(),Zz({base:eg}),THe,oI.of(t.placeholder?Q8(t.placeholder):[]),SHe(t.autoCompleteSearchSpace),FHe(),IHe,NHe,Tt.updateListener.of(s=>{if(s.docChanged){const o=s.state.doc.toString().trim();t.onChange?.(o),o&&t.onTyping?.()}})]})});return dt(Zt(()=>t.placeholder,s=>{i.dispatch({effects:oI.reconfigure(s?Q8(s):[])})},{defer:!0})),dt(Zt(()=>t.initialValue?.[0]??"",s=>{i.dispatch(i.state.update({changes:{from:0,to:i.state.doc.length,insert:s},selection:{anchor:s.length}}))},{defer:!0})),dt(Zt(()=>t.nodeReplacement,s=>{if(s){i.focus();const o=s[0];o!=="_focus"&&(i.dispatch(i.state.replaceSelection(o)),o&&t.onTyping?.(),t.onChange(i.state.doc.toString()))}},{defer:!0})),Tn(()=>t.autoFocus&&setTimeout(()=>{i.focus(),i.dispatch(i.state.update({selection:{anchor:i.state.doc.length}}))},0)),e}const VHe=hn({display:"inline-flex",height:"100%",width:"100%",flexGrow:1,alignSelf:"center",color:"var(--md-sys-color-on-surface)",fontWeight:400,fontSize:"var(--message-size)",fontFamily:"var(--fonts-primary)","& .cm-editor":{width:"100%",alignSelf:"center"},"& .cm-editor.cm-focused":{outline:"none !important"},"& .md-h1":{fontSize:"2em",fontWeight:600},"& .md-h2":{fontSize:"1.6em",fontWeight:600},"& .md-h3":{fontSize:"1.4em",fontWeight:600},"& .md-h4":{fontSize:"1.2em",fontWeight:600},"& .md-h5":{fontSize:"1em",fontWeight:600},"& .md-h6":{fontSize:"0.8em",fontWeight:600},"& .md-meta-atom":{fontSize:"inherit",fontWeight:"inherit"},"& .md-meta.md-list":{fontFamily:"var(--fonts-monospace)",fontWeight:"bold",opacity:"0.5"},"& .md-emph":{fontStyle:"italic"},"& .md-bold":{fontWeight:"bold"},"& .md-link":{textDecoration:"underline"},"& .md-strikethrough":{textDecoration:"line-through",textDecorationColor:"color-mix(in srgb, currentColor 40%, transparent)",textDecorationThickness:"2px"},"& .md-hr":{fontWeight:"bold"},"& .md-code":{fontFamily:"var(--fonts-monospace)",padding:"0.5px 4px",color:"#c9d1d9",background:"#0d1117"},"& .md-quote.md-meta":{fontWeight:"bold"},"& .md-quote":{'&, &[class*="md-quote md-quote md-quote"]':{color:"var(--md-sys-color-on-secondary-container)",background:"var(--md-sys-color-secondary-container)","--border":"var(--md-sys-color-secondary)"},'&[class="md-quote md-quote"], &[class="md-quote md-quote md-meta"], &[class="md-quote md-quote md-text"], &[class*="md-quote md-quote md-quote md-quote"]':{color:"var(--md-sys-color-on-tertiary-container)",background:"var(--md-sys-color-tertiary-container)","--border":"var(--md-sys-color-tertiary)"}}});function jHe(t){return u(WHe,{get hideStack(){return t.hideStack?.()??!1},get children(){return[u(rt,{get each(){return t.items},children:e=>u(qHe,{item:e,get children(){return t.children}})}),u(pY,{get children(){return t.overlay}})]}})}function qHe(t){let e;return Tn(()=>setTimeout(()=>{e&&(e.style.transform=`translate(-50%, -50%) rotate(${t.item[1]}deg) translate(0, -30px)`)})),u(HHe,{ref(n){var r=e;typeof r=="function"?r(n):e=n},get children(){return t.children(t.item[0])}})}const pY=H("div",{base:{top:"50%",left:"50%",position:"absolute",transform:"translate(-50%, -50%)"}}),vY="translate(-50%, -50%) scale(0.001)",HHe=H(pY,{base:{opacity:.9,transform:vY,transition:"var(--transitions-fast) all"}}),WHe=H("div",{base:{position:"relative",margin:"auto",background:"gray"},variants:{hideStack:{true:{"> *":{transform:`${vY} !important`}}}}}),XHe=H("div",{base:{width:"100%",height:"100%",display:"grid",position:"fixed",placeItems:"center",pointerEvents:"none",color:"white"}}),YHe=H("div",{base:{top:0,left:0,right:0,bottom:0,position:"fixed",background:"rgba(0, 0, 0, 0.8)"}}),GHe=H("div",{base:{marginTop:"48px",whiteSpace:"nowrap"}});function ZHe(t){const{isOpen:e}=Ne(),[n,r]=ve(!1),[i,s]=ve(!1),[o,a]=ve([]);let l;function c(m){e()||(m.preventDefault(),clearTimeout(l),m.dataTransfer&&(m.dataTransfer.dropEffect="copy",n()||(r(!0),s(!1),a([...m.dataTransfer.items]))))}function d(){l=setTimeout(()=>{s(!0),setTimeout(()=>{r(!1)},300)})}function h(m){m.preventDefault();const g=m.dataTransfer?.files;g&&t.onFiles([...g]),r(!1)}Tn(()=>{document.addEventListener("dragover",c),document.addEventListener("dragleave",d),document.addEventListener("drop",h)}),wt(()=>{document.removeEventListener("dragover",c),document.removeEventListener("dragleave",d),document.removeEventListener("drop",h)});const f=()=>o().map((m,g)=>[m,g*(80/o().length)-(o().length-1)*(40/o().length)]);return u(X,{get when(){return n()},get children(){return u(uu,{get children(){return[u(X,{get when(){return!i()},get children(){return u(YHe,{})}}),u(XHe,{get children(){return u(jHe,{get items(){return f()},hideStack:i,get overlay(){return u(GHe,{get children(){return u(gc.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},get children(){return u(k,ge(()=>({id:"frVWKj",values:{0:o().length}})))}})}})},children:m=>u(Me,{get fallback(){return u(d6,{size:64})},get children(){return[u(Z,{get when(){return m.type.startsWith("text/")},get children(){return u(Rq,{size:64})}}),u(Z,{get when(){return m.type.startsWith("image/")},get children(){return u(eRe,{size:64})}}),u(Z,{get when(){return m.type.startsWith("video/")},get children(){return u(dRe,{size:64})}})]}})})}})]}})}})}var KHe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z">');const hT=(t={})=>(()=>{var e=KHe();return Se(e,t,!0,!0),e})();var aI=I("<input type=file>"),JHe=I("<img>");function eWe(t){const[e,n]=sn(t,["file","onFiles","multiple"]);let r;function i(a){console.info(a.currentTarget),a.currentTarget.files&&(e.onFiles(null),e.onFiles([...a.currentTarget.files]))}function s(){r.value=null,e.onFiles(null)}function o(){return typeof e.file=="string"?e.file:Array.isArray(e.file)?URL.createObjectURL(e.file[0]):""}return u(Me,{get fallback(){return[(()=>{var a=aI();a.addEventListener("change",i);var l=r;return typeof l=="function"?Fe(l,a):r=a,Se(a,n,!1,!1),a})(),u(X,{get when(){return e.file?.length||!1},get children(){return u(ot,{size:"icon",variant:"text",onPress:s,get isDisabled(){return!t.file},children:"X"})}})]},get children(){return u(Z,{get when(){return t.accept==="image/*"},get children(){return[(()=>{var a=aI();a.addEventListener("change",i);var l=r;return typeof l=="function"?Fe(l,a):r=a,Se(a,ge({get class(){return hn({display:"none"})}},n),!1,!1),a})(),u(kt,{align:!0,get justify(){return t.imageJustify??!0},gap:"lg",get children(){return[u(tWe,{onClick:()=>r.click(),get style(){return{"aspect-ratio":t.imageAspect??"1/1"}},get rounded(){return t.imageRounded??!0},get children(){return[u(En,{}),u(X,{get when(){return e.file},get children(){var a=JHe();return Te(()=>$t(a,"src",o())),a}})]}}),u(X,{get when(){return t.allowRemoval!==!1},get children(){return u(ot,{size:"icon",variant:"text",onPress:s,get isDisabled(){return!t.file},get children(){return u(hT,{})}})}})]}})]}})}})}const tWe=H("div",{base:{cursor:"pointer",position:"relative",height:"96px",backgroundColor:"var(--md-sys-color-surface-dim)","& img":{display:"block",height:"100%",width:"100%",objectFit:"cover"}},variants:{rounded:{true:{borderRadius:"50%","& img":{borderRadius:"50%"}},false:{borderRadius:"var(--borderRadius-lg)","& img":{borderRadius:"var(--borderRadius-lg)"}}}}});function nWe(t){function e(n){const r=n.clipboardData?.items;if(typeof r>"u")return;const i=[...r].filter(s=>!s.type.startsWith("text/")).map(s=>s.getAsFile()).filter(s=>s);i.length&&(n.preventDefault(),t.onFiles(i))}return Tn(()=>document.addEventListener("paste",e)),wt(()=>document.removeEventListener("paste",e)),[]}function W2(t){return t>1e6?`${(t/1e6).toFixed(2)} MB`:t>1e3?`${(t/1e3).toFixed(2)} KB`:`${t} B`}var Fg=I("<small>"),lI=I("<div>");const bY=t=>{const[e,n]=sn(t,["control"]);return[u(es,ge(n,{get value(){return e.control.value},oninput:r=>{e.control.setValue(r.currentTarget.value),e.control.markDirty(!0)},get required(){return e.control.isRequired},get disabled(){return e.control.isDisabled}})),u(X,{get when(){return e.control.isTouched&&!e.control.isValid},get children(){return u(rt,{get each(){return Object.keys(e.control.errors)},children:r=>(()=>{var i=Fg();return V(i,r),i})()})}})]},rWe=t=>{const[e,n]=sn(t,["control"]);return u(iWe,{get children(){return[u(dT,ge(n,{onChange:r=>{e.control.setValue(r),e.control.markDirty(!0)}})),u(X,{get when(){return e.control.isTouched&&!e.control.isValid},get children(){return u(rt,{get each(){return Object.keys(e.control.errors)},children:r=>(()=>{var i=Fg();return V(i,r),i})()})}})]}})},iWe=H("div",{base:{background:"var(--md-sys-color-surface-container-highest)",color:"var(--md-sys-color-on-surface-container)",borderRadius:"var(--borderRadius-sm)",padding:"var(--gap-md)"}});bY.Select=t=>{const[e,n]=sn(t,["control"]);return[u(es.Select,ge(n,{get value(){return e.control.value},onChange:r=>{e.control.setValue(r.currentTarget.value),e.control.markDirty(!0)},get required(){return e.control.isRequired},get disabled(){return e.control.isDisabled}})),u(X,{get when(){return e.control.isTouched&&!e.control.isValid},get children(){return u(rt,{get each(){return Object.keys(e.control.errors)},children:r=>(()=>{var i=Fg();return V(i,r),i})()})}})]};const sWe=t=>{const[e,n]=sn(t,["label","control"]);return[u(X,{get when(){return e.label},get children(){return u(Le,{class:"label",get children(){return e.label}})}}),u(eWe,ge(n,{get file(){return e.control.value},onFiles:r=>{e.control.setValue(r),e.control.markDirty(!0)},get required(){return e.control.isRequired},get disabled(){return e.control.isDisabled}})),u(X,{get when(){return e.control.isTouched&&!e.control.isValid},get children(){return u(rt,{get each(){return Object.keys(e.control.errors)},children:r=>(()=>{var i=Fg();return V(i,r),i})()})}})]},oWe=t=>{const[e,n]=sn(t,["control"]);return[u(pr,ge(n,{get checked(){return e.control.value},onChange:r=>{e.control.setValue(r.currentTarget.checked),e.control.markDirty(!0)},get required(){return e.control.isRequired},get disabled(){return e.control.isDisabled}})),u(X,{get when(){return e.control.isTouched&&!e.control.isValid},get children(){return u(rt,{get each(){return Object.keys(e.control.errors)},children:r=>(()=>{var i=Fg();return V(i,r),i})()})}})]},aWe=t=>{const[e,n]=sn(t,["control"]);return[u(eO,ge(n,{get value(){return e.control.value},onChange:r=>{e.control.setValue(r.currentTarget.value),e.control.markDirty(!0)},get required(){return e.control.isRequired},get disabled(){return e.control.isDisabled}})),u(X,{get when(){return e.control.isTouched&&!e.control.isValid},get children(){return u(rt,{get each(){return Object.keys(e.control.errors)},children:r=>(()=>{var i=Fg();return V(i,r),i})()})}})]};function lWe(t){let e;return(()=>{var n=lI();Fe(hu,n,()=>!0);var r=e;return typeof r=="function"?Fe(r,n):e=n,V(n,u(eu,{get items(){return t.items},scrollTarget:e,get itemSize(){return{height:t.itemHeight??40}},children:i=>(()=>{var s=lI();return s.$$click=()=>{t.multiple||t.control.setValue(t.control.value[0]===i.item.value?[]:[i.item.value])},V(s,u(Me,{get fallback(){return t.children(i.item.item,t.control.value.includes(i.item.value))},get children(){return u(Z,{get when(){return t.multiple},get children(){return u(pr,{get class(){return hn({width:"100%"})},onChange:o=>t.control.setValue([...t.control.value.filter(a=>a!==i.item.value),...o?[i.item.value]:[]]),get checked(){return t.control.value.includes(i.item.value)},get children(){return t.children(i.item.item)}})}})}})),Te(o=>xd(s,{...i.style,width:"100%"},o)),s})()})),Te(i=>(i=t.selectHeight??"320px")!=null?n.style.setProperty("height",i):n.style.removeProperty("height")),n})()}const cWe=t=>u(ot,{variant:"text",onPress:()=>{d5(t.group,!0),t.onReset()},get isDisabled(){return!t.group.isDirty},get children(){return t.children??u(k,{id:"OfhWJH"})}}),uWe=t=>u(ot,{type:"submit",get isDisabled(){return!fT(t.group)||!t.group.isDirty&&t.requireDirty},get children(){return t.children}});function fT(t){if(t.isDisabled||t.isPending||!t.isValid)return!1;for(const e in t.controls){const n=t.controls[e];if(n.isRequired){const r=n.value;if(Array.isArray(r)&&r.length===0)return!1;if(!r)return!1}}return!0}function d5(t,e){if(e)for(const n of Object.values(t.controls))n.markDirty(!1),n.markTouched(!1);t.markPending(!1),t.markSubmitted(!0)}function dWe(t,e,n){return async r=>{r.preventDefault();for(const i of Object.values(t.controls))i.markTouched(!0);if(fT(t)){t.markPending(!0);try{await e(),d5(t,!0),n?.()}catch(i){t.setErrors({error:i}),d5(t,!1)}finally{t.markPending(!1)}}}}const Pe={TextField:bY,TextEditor:rWe,FileInput:sWe,Checkbox:oWe,Radio:aWe,VirtualSelect:lWe,Reset:cWe,Submit:uWe,canSubmit:fT,useSubmitHandler:dWe};Tr(["click"]);function at(t,e){return{width:t,height:t,viewBox:e??"0 0 24 24"}}function ju(t){return{width:t,height:t}}function hWe(t,e=2){return t.split(/\s+/).map(n=>n[0]).filter(n=>n).slice(0,e)}function yY(t){return Ce(()=>hWe(t.input,t.maxLength).join(""))}H("div",{base:{display:"flex",flexDirection:"column-reverse"}});const mT=H("div",{base:{whiteSpace:"nowrap","& *":{whiteSpace:"nowrap"}}}),jr=H("div",{base:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis","& *":{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}}}),T4=160,D4=120,Tf=420;function Xl(t){const e=ke(()=>{let n=t.width,r=t.height;return n<T4&&(r*=T4/n,n=T4),r<D4&&(n*=D4/r,r=D4),n>Tf&&(r/=n/Tf,n=Tf),r>Tf&&(n/=r/Tf,r=Tf),{width:n,height:r}});return u(fWe,{get style(){return{width:e().width+"px","aspect-ratio":`${e().width} / ${e().height}`}},get children(){return t.children}})}const fWe=H("div",{base:{display:"grid",height:"auto",maxWidth:"100%",overflow:"hidden",borderRadius:"var(--borderRadius-md)",gridTemplateColumns:"1fr",gridTemplateRows:"1fr","& > *":{gridArea:"1 / 1 / 2 / 2",width:"100%",height:"100%",minHeight:0,objectFit:"contain"}}}),mWe=H("div",{base:{flexGrow:1}}),gWe=H("div",{base:{zIndex:1,cursor:"pointer",backdropFilter:"brightness(0.2) contrast(0.8) blur(24px)",display:"grid",placeItems:"center","& span":{padding:"0.6em",fontWeight:600,userSelect:"none",boxShadow:"0 0 8px #00000044",borderRadius:"var(--borderRadius-lg)",color:"var(--md-sys-color-inverse-on-surface)",background:"var(--md-sys-color-inverse-surface)"}}});function cI(t){const[e,n]=ve(!0);return u(X,{get when(){return e()},get children(){return u(gWe,{get class(){return`Spoiler ${t.contentType}`},onClick:()=>n(!1),get children(){return u(Le,{get children(){return u(k,{id:"ne6Rj8"})}})}})}})}var pWe=I("<time>");function fg(t,e){if(e.value instanceof Date||typeof e.value=="number"||typeof e.value=="string")switch(e.format){case"calendar":return t(e.value).calendar(e.referenceTime);case"datetime":return`${fg(t,{format:"date",value:e.value})} ${fg(t,{format:"time",value:e.value})}`;case"date":case"dateNormal":return t(e.value).format("DD/MM/YYYY");case"dateAmerican":return t(e.value).format("MM/DD/YYYY");case"iso8601":return t(e.value).format("YYYY-MM-DD");case"relative":return t(e.value).from(e.referenceTime??Date.now(),e.hideSuffix);case"time12":return t(e.value).format("h:mm A");case"time24":return t(e.value).format("HH:mm");case"time":return t(e.value).format("LT")}else return e.value}function $r(t){const e=Ad(),[n,r]=ve(fg(e,t)),i=setInterval(()=>{const s=fg(e,t);s!==n()&&r(s)},1e3);return wt(()=>clearInterval(i)),(()=>{var s=pWe();return V(s,n),Te(()=>$t(s,"datetime",t.value instanceof Date||typeof t.value=="number"||typeof t.value=="string"?new Date(t.value).toISOString():void 0)),s})()}var vWe=I("<svg><g><foreignObject x=0 y=0 width=32 height=32></svg>",!1,!0,!1);const bWe=H("img",{base:{width:"100%",height:"100%",objectFit:"cover"}}),yWe=H("div",{base:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:600,fontSize:"0.75rem"},variants:{contrast:{true:{color:"var(--md-sys-color-on-primary)",background:"var(--md-sys-color-primary)"},false:{fill:"var(--md-sys-color-on-surface)",color:"var(--md-sys-color-on-surface)",background:"var(--md-sys-color-surface-container-low)"}}},defaultVariants:{contrast:!1}});function zt(t){return u(OWe,{get slot(){return t.slot},get style(){return{width:t.size+"px",height:t.size+"px"}},viewBox:"0 0 32 32",get interactive(){return t.interactive},get onClick(){return t.onClick},get children(){return[(()=>{var e=vWe(),n=e.firstChild;return V(n,u(wWe,{get shape(){return t.shape},get children(){return[u(X,{get when(){return t.interactive},get children(){return u(En,{})}}),u(X,{get when(){return t.src},keyed:!0,get fallback(){return u(yWe,{get contrast(){return t.primaryContrast},get children(){return Ce(()=>typeof t.fallback=="string")()?u(yY,{get input(){return t.fallback},maxLength:2}):t.fallback}})},get children(){return u(bWe,{get src(){return t.src},draggable:!1})}})]}})),Te(r=>{var i=t.holepunch&&t.holepunch!=="none"?`url(#holepunch-${t.holepunch})`:void 0,s=hn({transition:"var(--transitions-fast) filter"});return i!==r.e&&$t(e,"mask",r.e=i),s!==r.t&&$t(n,"class",r.t=s),r},{e:void 0,t:void 0}),e})(),Ce(()=>t.overlay)]}})}const OWe=H("svg",{base:{flexShrink:0,userSelect:"none",cursor:"inherit"},variants:{interactive:{true:{cursor:"pointer"},false:{}}},defaultVariants:{interactive:!1}}),wWe=H("div",{base:{overflow:"hidden",width:"100%",height:"100%"},variants:{shape:{circle:{borderRadius:"var(--borderRadius-circle)"},"rounded-square":{borderRadius:"var(--borderRadius-md)"}}},defaultVariants:{shape:"circle"}});class li extends Bi{emit(e,n){const r=new CustomEvent(e,Object.assign({bubbles:!0,cancelable:!1,composed:!0,detail:{}},n));return this.dispatchEvent(r)}}const yi=_e`${ar}`,ci=ur`:host{box-sizing:border-box}:host *,:host ::after,:host ::before{box-sizing:inherit}:host :focus,:host :focus-visible,:host(:focus),:host(:focus-visible){outline:0}[hidden]{display:none!important}`,kWe=ur`:host{--shape-corner:var(--mdui-shape-corner-full);display:inline-flex;align-items:center;justify-content:center;flex-shrink:0;border-radius:var(--shape-corner);padding-left:.25rem;padding-right:.25rem;color:rgb(var(--mdui-color-on-error));background-color:rgb(var(--mdui-color-error));height:1rem;min-width:1rem;font-size:var(--mdui-typescale-label-small-size);font-weight:var(--mdui-typescale-label-small-weight);letter-spacing:var(--mdui-typescale-label-small-tracking);line-height:var(--mdui-typescale-label-small-line-height)}:host([variant=small]){min-width:0;padding:0;width:.375rem;height:.375rem}`;let X2=class extends li{constructor(){super(...arguments),this.variant="large"}render(){return this.variant==="small"?yi:_e`<slot></slot>`}};X2.styles=[ci,kWe];q([ce({reflect:!0})],X2.prototype,"variant",void 0);X2=q([Rn("mdui-badge")],X2);var SWe=I("<mdui-badge>",!0,!1,!1);function xWe(t){return(()=>{var e=SWe();return e._$owner=Gr(),V(e,()=>t.children),Te(n=>{var r=t.slot??"badge",i=_We();return r!==n.e&&(e.slot=n.e=r),i!==n.t&&ut(e,n.t=i),n},{e:void 0,t:void 0}),e})()}const _We=nn({base:{padding:"var(--gap-sm)"}});var Jn=t=>typeof t=="function"&&!t.length?t():t,a1=navigator.userAgent,g0=window,CWe=/(macintosh|macintel|macppc|mac68k|macos)/i.test(a1),EWe=/iphone/i.test(a1),TWe=/ipad/i.test(a1)&&navigator.maxTouchPoints>1,DWe=/ipod/i.test(a1),OY=EWe||TWe||DWe;g0.opr&&g0.opr.addons||g0.opera;var uI;/constructor/i.test(g0.HTMLElement)||((uI=g0.safari)==null?void 0:uI.pushNotification)+"";function AWe(){const t=new Map,e=(i,s,o,a)=>{const l=a?.once?(...c)=>{t.delete(o),o(...c)}:o;t.set(o,{type:s,eventTarget:i,fn:l,options:a}),i.addEventListener(s,o,a)},n=(i,s,o,a)=>{var l;const c=((l=t.get(o))==null?void 0:l.fn)||o;i.removeEventListener(s,c,a),t.delete(o)},r=()=>{t.forEach((i,s)=>{n(i.eventTarget,i.type,s,i.options)})};return wt(()=>{r()}),{addGlobalListener:e,removeGlobalListener:n,removeAllGlobalListeners:r}}function PWe(t,e){dt(()=>{t.ref=e,wt(()=>{t.ref=()=>{}})})}var RWe=new Set(["id"]),MWe=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),IWe=/^(data-.*)$/;function $We(t,e={}){const{labelable:n,propNames:r}=e,i=[];for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(RWe.has(o)||n&&MWe.has(o)||r?.has(o)||IWe.test(o))&&i.push(o);const[s]=sn(t,i);return s}function Ob(t){if(LWe())t.focus({preventScroll:!0});else{const e=NWe(t);t.focus(),FWe(e)}}var wb=null;function LWe(){if(wb==null){wb=!1;try{document.createElement("div").focus({get preventScroll(){return wb=!0,!0}})}catch{}}return wb}function NWe(t){let e=t.parentNode;const n=[],r=document.scrollingElement||document.documentElement;for(;e instanceof HTMLElement&&e!==r;)(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&n.push({element:e,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),e=e.parentNode;return r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),n}function FWe(t){for(const{element:e,scrollTop:n,scrollLeft:r}of t)e.scrollTop=n,e.scrollLeft=r}var Uf=new Map,h5=new Set;function dI(){if(typeof window>"u")return;const t=n=>{var r;if(!n.target)return;let i=Uf.get(n.target);i||(i=new Set,Uf.set(n.target,i),(r=n.target)==null||r.addEventListener("transitioncancel",e)),i.add(n.propertyName)},e=n=>{var r;if(!n.target)return;const i=Uf.get(n.target);if(i&&(i.delete(n.propertyName),i.size===0&&((r=n.target)==null||r.removeEventListener("transitioncancel",e),Uf.delete(n.target)),Uf.size===0)){for(const s of h5)s();h5.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",e)}typeof document<"u"&&(document.readyState!=="loading"?dI():document.addEventListener("DOMContentLoaded",dI));function BWe(t){requestAnimationFrame(()=>{Uf.size===0?t():h5.add(t)})}function hI(t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}const zWe=/([^:; ]*):\s*([^;]*)/g,fI=t=>t[0]==="o"&&t[1]==="n"&&t.length>2&&t[2]!==":"&&!t.startsWith("oncapture:");function mI(t){const e={};let n;for(;n=zWe.exec(t);)e[n[1]]=n[2];return e}function QWe(t,e){if(typeof t=="object"&&typeof e=="object")return{...t,...e};if(typeof t=="string"&&typeof e=="string")return`${t};${e}`;const n=typeof t=="object"?t:mI(t),r=typeof e=="object"?e:mI(e);return{...n,...r}}function Aw(...t){if(t.length===1)return t[0];const e=ge(...t),n=(i,s)=>{let o;for(const a of t){const l=a[i];o?l&&(o=s(o,l)):o=l}return o},r={};for(const i of t)for(const s in i){if(!fI(s))continue;const o=i[s],a=s.toLowerCase();let l;if(typeof o=="function")l=o;else if(Array.isArray(o))o.length===1?l=o[0]:l=o[0].bind(void 0,o[1]);else{delete r[a];continue}const c=r[a];c?c.push(l):r[a]=[l]}return new Proxy(e,{get(i,s){if(typeof s!="string")return Reflect.get(i,s);if(s==="style")return n("style",QWe);if(s==="ref"){const o=[];for(const a of t){const l=a[s];typeof l=="function"&&o.push(l)}return hI(o)}if(fI(s)){const o=r[s.toLowerCase()];return Array.isArray(o)?hI(o):Reflect.get(i,s)}return s==="class"||s==="className"?n(s,(o,a)=>`${o} ${a}`):s==="classList"?n(s,(o,a)=>({...o,...a})):Reflect.get(i,s)}})}function f5(t){return t.mozInputSource===0&&t.isTrusted?!0:t.detail===0&&!t.pointerType}function UWe(t){const[e,n]=ve(!1),[r,i]=ve(null),s=o=>{var a;if(o.target instanceof HTMLButtonElement||o.target instanceof HTMLInputElement||o.target instanceof HTMLTextAreaElement||o.target instanceof HTMLSelectElement){n(!0);const l=o.target,c=h=>{var f;n(!1),l.disabled&&t(new FocusEvent("blur",h)),(f=r())==null||f.disconnect(),i(null)};l.addEventListener("focusout",c,{once:!0});const d=()=>{var h;e()&&l.disabled&&((h=r())==null||h.disconnect(),l.dispatchEvent(new FocusEvent("blur")),l.dispatchEvent(new FocusEvent("focusout",{bubbles:!0})))};i(new MutationObserver(d)),(a=r())==null||a.observe(l,{attributes:!0,attributeFilter:["disabled"]})}};return wt(()=>{var o;(o=r())==null||o.disconnect(),i(null)}),s}function VWe(t){const e=()=>Jn(t.isDisabled)??!1,n=o=>{var a,l;e()||!t.onBlur&&!t.onFocusChange||((a=t.onBlur)==null||a.call(t,o),(l=t.onFocusChange)==null||l.call(t,!1))},r=UWe(n);return{focusProps:{onFocus:o=>{var a,l;e()||!t.onFocus&&!t.onBlur&&!t.onFocusChange||((a=t.onFocus)==null||a.call(t,o),(l=t.onFocusChange)==null||l.call(t,!0),r(o))},onBlur:n}}}var jWe=new Set,gI=!1,Hh=!1,m5=!1;function gT(t,e){for(const n of jWe)n(t,e)}function qWe(t){return!(t.metaKey||!CWe&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function pI(t){Hh=!0,qWe(t)&&gT("keyboard",t)}function Df(t){(t.type==="mousedown"||t.type==="pointerdown")&&(Hh=!0,gT("pointer",t))}function HWe(t){f5(t)&&(Hh=!0)}function WWe(t){t.target===window||t.target===document||(!Hh&&!m5&&gT("virtual",t),Hh=!1,m5=!1)}function XWe(){Hh=!1,m5=!0}function vI(){if(typeof window>"u"||gI)return;const t=HTMLElement.prototype.focus;HTMLElement.prototype.focus=function(...e){Hh=!0,t.apply(this,e)},document.addEventListener("keydown",pI,!0),document.addEventListener("keyup",pI,!0),document.addEventListener("click",HWe,!0),window.addEventListener("focus",WWe,!0),window.addEventListener("blur",XWe,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",Df,!0),document.addEventListener("pointermove",Df,!0),document.addEventListener("pointerup",Df,!0)):(document.addEventListener("mousedown",Df,!0),document.addEventListener("mousemove",Df,!0),document.addEventListener("mouseup",Df,!0)),gI=!0}typeof document<"u"&&(document.readyState!=="loading"?vI():document.addEventListener("DOMContentLoaded",vI));function YWe(t){const e=()=>Jn(t.isDisabled)??!1;return{keyboardProps:{onKeyDown:s=>{var o;e()||(o=t.onKeyDown)==null||o.call(t,s)},onKeyUp:s=>{var o;e()||(o=t.onKeyUp)==null||o.call(t,s)}}}}var om="default",g5="",by=new WeakMap;function bI(t){OY?(om==="default"&&(g5=document.documentElement.style.webkitUserSelect,document.documentElement.style.webkitUserSelect="none"),om="disabled"):t&&(by.set(t,t.style.userSelect),t.style.userSelect="none")}function kb(t){if(OY){if(om!=="disabled")return;om="restoring",setTimeout(()=>{BWe(()=>{om==="restoring"&&(document.documentElement.style.webkitUserSelect==="none"&&(document.documentElement.style.webkitUserSelect=g5||""),g5="",om="default")})},300)}else if(t&&by.has(t)){const e=by.get(t)??"";t.style.userSelect==="none"&&(t.style.userSelect=e),t.getAttribute("style")===""&&t.removeAttribute("style"),by.delete(t)}}var GWe=yr();function ZWe(t,e){const n=Nn(GWe);if(!n)return t;const[,r]=sn(n,["register","ref"]);return t=Aw(r,t),n.register(),e&&PWe(n,e),t}function KWe(t,e){const[n,r]=sn(ZWe(t,e),["onPress","onPressChange","onPressStart","onPressEnd","onPressUp","isDisabled","isPressed","preventFocusOnPress","shouldCancelOnPointerExit","allowTextSelectionOnPress"]),[i,s]=ve(!1),[o,a]=ve(!1),[l,c]=ve(!1),[d,h]=ve(!1),[f,m]=ve(!1),[g,p]=ve(null),[v,b]=ve(null),[y,C]=ve(!1),[x,O]=ve(null),{addGlobalListener:S,removeAllGlobalListeners:T}=AWe(),$=()=>Jn(n.isPressed)??i(),M=(E,De)=>{var pe,ct;Jn(n.isDisabled)||f()||((pe=n.onPressStart)==null||pe.call(n,{type:"pressstart",pointerType:De,target:E.currentTarget,shiftKey:E.shiftKey,metaKey:E.metaKey,ctrlKey:E.ctrlKey,altKey:E.altKey}),(ct=n.onPressChange)==null||ct.call(n,!0),m(!0),s(!0))},P=(E,De,pe=!0)=>{var ct,Mt,At;f()&&(h(!0),m(!1),(ct=n.onPressEnd)==null||ct.call(n,{type:"pressend",pointerType:De,target:E.currentTarget,shiftKey:E.shiftKey,metaKey:E.metaKey,ctrlKey:E.ctrlKey,altKey:E.altKey}),(Mt=n.onPressChange)==null||Mt.call(n,!1),s(!1),pe&&!Jn(n.isDisabled)&&((At=n.onPress)==null||At.call(n,{type:"press",pointerType:De,target:E.currentTarget,shiftKey:E.shiftKey,metaKey:E.metaKey,ctrlKey:E.ctrlKey,altKey:E.altKey})))},L=(E,De)=>{var pe;Jn(n.isDisabled)||(pe=n.onPressUp)==null||pe.call(n,{type:"pressup",pointerType:De,target:E.currentTarget,shiftKey:E.shiftKey,metaKey:E.metaKey,ctrlKey:E.ctrlKey,altKey:E.altKey})},j=E=>{o()&&(y()&&P(xc(v(),E),x(),!1),a(!1),C(!1),p(null),O(null),T(),Jn(n.allowTextSelectionOnPress)||kb(v()))},te=E=>{var De,pe,ct,Mt;if(o()&&A4(E)){OI(E.target)&&E.preventDefault(),E.stopPropagation(),a(!1);const At=E.target;P(xc(v(),E),"keyboard",(De=v())==null?void 0:De.contains(At)),T(),((pe=v())!=null&&pe.contains(At)&&wY(v())||((ct=v())==null?void 0:ct.getAttribute("role"))==="link")&&((Mt=v())==null||Mt.click())}},U=E=>{E.pointerId===g()&&(Af(E,v())?y()||(C(!0),M(xc(v(),E),x())):y()&&(C(!1),P(xc(v(),E),x(),!1),Jn(n.shouldCancelOnPointerExit)&&j(E)))},N=E=>{E.pointerId===g()&&o()&&E.button===0&&(Af(E,v())?P(xc(v(),E),x()):y()&&P(xc(v(),E),x(),!1),a(!1),C(!1),p(null),O(null),T(),Jn(n.allowTextSelectionOnPress)||kb(v()))},z=E=>{j(E)},K=E=>{if(E.button===0){if(a(!1),T(),l()){c(!1);return}Af(E,v())?P(xc(v(),E),x()):y()&&P(xc(v(),E),x(),!1),C(!1)}},re=E=>{o()&&E.target.contains(v())&&j({currentTarget:v(),shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})},he={onKeyDown:E=>{A4(E)&&E.currentTarget.contains(E.target)&&(OI(E.target)&&E.preventDefault(),E.stopPropagation(),!o()&&!E.repeat&&(b(E.currentTarget),a(!0),M(E,"keyboard"),S(document,"keyup",te,!1)))},onKeyUp:E=>{A4(E)&&!E.repeat&&E.currentTarget.contains(E.target)&&L(xc(v(),E),"keyboard")},onClick:E=>{E&&!E.currentTarget.contains(E.target)||E&&E.button===0&&(E.stopPropagation(),Jn(n.isDisabled)&&E.preventDefault(),!d()&&!l()&&(x()==="virtual"||f5(E))&&(!Jn(n.isDisabled)&&!Jn(n.preventFocusOnPress)&&Ob(E.currentTarget),M(E,"virtual"),L(E,"virtual"),P(E,"virtual")),c(!1),h(!1))}};return typeof PointerEvent<"u"?(he.onPointerDown=E=>{if(E.button!==0||!E.currentTarget.contains(E.target))return;if(nXe(E)){O("virtual");return}P4(E.currentTarget)&&E.preventDefault();const De=O(E.pointerType);if(E.stopPropagation(),o())return;a(!0),C(!0),p(E.pointerId);const pe=b(E.currentTarget);!Jn(n.isDisabled)&&!Jn(n.preventFocusOnPress)&&Ob(E.currentTarget),Jn(n.allowTextSelectionOnPress)||bI(pe),M(E,De),S(document,"pointermove",U,!1),S(document,"pointerup",N,!1),S(document,"pointercancel",z,!1)},he.onMouseDown=E=>{E.currentTarget.contains(E.target)&&E.button===0&&(P4(E.currentTarget)&&E.preventDefault(),E.stopPropagation())},he.onPointerUp=E=>{!E.currentTarget.contains(E.target)||x()==="virtual"||E.button===0&&Af(E,E.currentTarget)&&L(E,x()||E.pointerType)},he.onDragStart=E=>{E.currentTarget.contains(E.target)&&j(E)}):(he.onMouseDown=E=>{if(E.button!==0||!E.currentTarget.contains(E.target)||(P4(E.currentTarget)&&E.preventDefault(),E.stopPropagation(),l()))return;a(!0),C(!0),b(E.currentTarget);const De=O(f5(E)?"virtual":"mouse");!Jn(n.isDisabled)&&!Jn(n.preventFocusOnPress)&&Ob(E.currentTarget),M(E,De),S(document,"mouseup",K,!1)},he.onMouseEnter=E=>{E.currentTarget.contains(E.target)&&(E.stopPropagation(),o()&&!l()&&(C(!0),M(E,x())))},he.onMouseLeave=E=>{E.currentTarget.contains(E.target)&&(E.stopPropagation(),o()&&!l()&&(C(!1),P(E,x(),!1),Jn(n.shouldCancelOnPointerExit)&&j(E)))},he.onMouseUp=E=>{E.currentTarget.contains(E.target)&&!l()&&E.button===0&&L(E,x())},he.onTouchStart=E=>{if(!E.currentTarget.contains(E.target))return;E.stopPropagation();const De=JWe(E);if(!De)return;p(De.identifier),c(!0),C(!0),a(!0);const pe=b(E.currentTarget),ct=O("touch");!Jn(n.isDisabled)&&!Jn(n.preventFocusOnPress)&&Ob(E.currentTarget),Jn(n.allowTextSelectionOnPress)||bI(pe),M(E,ct),S(window,"scroll",re,!0)},he.onTouchMove=E=>{if(!E.currentTarget.contains(E.target)||(E.stopPropagation(),!o()))return;const De=yI(E,g());De&&Af(De,E.currentTarget)?y()||(C(!0),M(E,x())):y()&&(C(!1),P(E,x(),!1),Jn(n.shouldCancelOnPointerExit)&&j(E))},he.onTouchEnd=E=>{if(!E.currentTarget.contains(E.target)||(E.stopPropagation(),!o()))return;const De=yI(E,g());De&&Af(De,E.currentTarget)?(L(E,x()),P(E,x())):y()&&P(E,x(),!1),a(!1),p(null),C(!1),c(!0),Jn(n.allowTextSelectionOnPress)||kb(v()),T()},he.onTouchCancel=E=>{E.currentTarget.contains(E.target)&&(E.stopPropagation(),o()&&j(E))},he.onDragStart=E=>{E.currentTarget.contains(E.target)&&j(E)}),dt(Zt(()=>Jn(n.allowTextSelectionOnPress),E=>{wt(()=>{E||kb(v()??void 0)})})),{isPressed:$,pressProps:Aw(r,he)}}function wY(t){return t.tagName==="A"&&t.hasAttribute("href")}function A4(t){const{key:e,code:n,target:r}=t,i=r,{tagName:s,isContentEditable:o}=i,a=i.getAttribute("role");return(e==="Enter"||e===" "||e==="Spacebar"||n==="Space")&&s!=="INPUT"&&s!=="TEXTAREA"&&o!==!0&&(!wY(i)||a==="button"&&e!=="Enter")&&!(a==="link"&&e!=="Enter")}function JWe(t){const{targetTouches:e}=t;return e.length>0?e[0]:null}function yI(t,e){const n=t.changedTouches;for(let r=0;r<n.length;r++){const i=n[r];if(i.identifier===e)return i}return null}function xc(t,e){return{currentTarget:t,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey,altKey:e.altKey}}function eXe(t){const e=t.width&&t.width/2||t.radiusX||0,n=t.height&&t.height/2||t.radiusY||0;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function tXe(t,e){return!(t.left>e.right||e.left>t.right||t.top>e.bottom||e.top>t.bottom)}function Af(t,e){const n=e.getBoundingClientRect(),r=eXe(t);return tXe(n,r)}function P4(t){return!t.draggable}function OI(t){return!((t.tagName==="INPUT"||t.tagName==="BUTTON")&&t.type==="submit")}function nXe(t){return t.width===0&&t.height===0||t.width===1&&t.height===1&&t.pressure===0&&t.detail===0}function rXe(t,e){const[n,r]=ve(!!Jn(t.autofocus)),{focusProps:i}=VWe(t),{keyboardProps:s}=YWe(t),o={...Aw(i,s),get tabIndex(){return Jn(t.excludeFromTabOrder)&&!Jn(t.isDisabled)?-1:void 0}};return Tn(()=>{n()&&Jn(e)?.focus(),r(!1)}),{focusableProps:o}}function kY(t,e){t=ge({elementType:"button",type:"button"},t);const r={get type(){return t.type},get disabled(){return t.isDisabled}},i={role:"button",get tabIndex(){return t.isDisabled?void 0:0},get href(){return t.elementType==="a"&&t.isDisabled?void 0:t.href},get target(){return t.elementType==="a"?t.target:void 0},get type(){return t.elementType==="input"?t.type:void 0},get disabled(){return t.elementType==="input"?t.isDisabled:void 0},get"aria-disabled"(){return!t.isDisabled||t.elementType==="input"?void 0:t.isDisabled},get rel(){return t.elementType==="a"?t.rel:void 0}},s=ge(ke(()=>t.elementType==="button"?r:i)),[o]=sn(t,["onPressStart","onPressEnd","onPressChange","onPress","isDisabled","preventFocusOnPress"]),{pressProps:a,isPressed:l}=KWe(o,e),{focusableProps:c}=rXe(t,e),d=ge(ke(()=>$We(t,{labelable:!0})));return{buttonProps:Aw(s,c,a,d,{get"aria-haspopup"(){return t["aria-haspopup"]},get"aria-expanded"(){return t["aria-expanded"]},get"aria-controls"(){return t["aria-controls"]},get"aria-pressed"(){return t["aria-pressed"]},get tabIndex(){return t.allowFocusWhenDisabled&&t.isDisabled?-1:c.tabIndex},onClick:m=>{t.onClick&&(t.onClick(m),console.warn("onClick is deprecated, please use onPress"))}}),isPressed:l}}var iXe=I("<button>");function ot(t){const[e,n]=sn(t,["aria-selected","tabIndex","role"]),[r,i]=sn(n,["bg","size","shape","variant","group","groupActive"]);let s;const o=()=>r.group?r.groupActive!==(r.group==="standard")?"round":"square":r.shape,a=()=>r.group?r.groupActive?"filled":"tonal":r.variant;let l=!1;Te(Zt(()=>o(),()=>l=!0,{defer:!0}));const{buttonProps:c}=kY(i,()=>s);return(()=>{var d=iXe();Fe(Xt,d,()=>i["use:floating"]);var h=s;return typeof h=="function"?Fe(h,d):s=d,Se(d,ge(e,c,{get class(){return sXe({shape:o(),variant:a(),size:r.size,group:r.group,disabled:c.disabled,_permitAnimation:l})},get style(){return{"background-color":r.bg}}}),!1,!0),V(d,u(X,{get when(){return!c.disabled},get children(){return u(En,{})}}),null),V(d,()=>i.children,null),d})()}const sXe=nn({base:{...An.raw(),position:"relative",paddingInline:"var(--padding-inline)",flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:500,fontFamily:"inherit",cursor:"pointer",border:"none",transition:"var(--transitions-medium) all",color:"var(--color)",fill:"var(--color)"},variants:{variant:{elevated:{boxShadow:"0 0.5px 1.5px #0004",background:"var(--md-sys-color-surface-container-low)","--color":"var(--md-sys-color-primary)"},filled:{background:"var(--md-sys-color-primary)","--color":"var(--md-sys-color-on-primary)"},tonal:{background:"var(--md-sys-color-secondary-container)","--color":"var(--md-sys-color-on-secondary-container)"},outlined:{border:"1px solid var(--md-sys-color-outline-variant)","--color":"var(--md-sys-color-on-surface-variant)"},text:{"--color":"var(--md-sys-color-primary)"},_error:{background:"var(--md-sys-color-error)","--color":"var(--md-sys-color-on-error)"},success:{fill:"var(--unset-fg)",color:"var(--unset-fg)",background:"var(--unset-bg)"},warning:{fill:"var(--unset-fg)",color:"var(--unset-fg)",background:"var(--unset-bg)"},error:{fill:"var(--unset-fg)",color:"var(--unset-fg)",background:"var(--unset-bg)"},primary:{fill:"var(--unset-fg)",color:"var(--unset-fg)",background:"var(--unset-bg)"},secondary:{fill:"var(--unset-fg)",color:"var(--unset-fg)",background:"var(--unset-bg)"},plain:{fill:"var(--unset-fg)",color:"var(--unset-fg)",background:"var(--unset-bg)"}},shape:{round:{borderRadius:"var(--borderRadius-full)"},square:{}},group:{"connected-start":{},"connected-end":{},connected:{},standard:{}},_permitAnimation:{true:{},false:{}},size:{xs:{height:"32px","--padding-inline":"12px"},sm:{height:"40px","--padding-inline":"16px"},md:{height:"56px","--padding-inline":"24px"},lg:{height:"96px","--padding-inline":"48px"},xl:{height:"136px","--padding-inline":"64px"},icon:{width:"36px",height:"36px"},small:{height:"40px",paddingInline:"16px",borderRadius:"12px",...An.raw()},normal:{height:"38px",minWidth:"96px",padding:"2px 16px",fontSize:"0.8125rem"},fab:{width:"42px",height:"42px",borderRadius:"var(--borderRadius-lg)"},fluid:{borderRadius:"var(--borderRadius-md)"},inline:{padding:"var(--gap-xs) var(--gap-md)",fontSize:"0.8125rem",borderRadius:"var(--borderRadius-md)"},none:{borderRadius:"0"}},disabled:{true:{cursor:"not-allowed"},false:{}}},defaultVariants:{size:"sm",shape:"round",variant:"filled",disabled:!1},compoundVariants:[{variant:["elevated","filled","tonal","outlined"],disabled:!0,css:{"--color":"color-mix(in srgb, 38% var(--md-sys-color-on-surface), transparent)",background:"color-mix(in srgb, 10% var(--md-sys-color-on-surface), transparent)"}},{variant:"text",disabled:!0,css:{"--color":"color-mix(in srgb, 38% var(--md-sys-color-on-surface), transparent)",background:"color-mix(in srgb, 10% var(--md-sys-color-on-surface), transparent)"}},{shape:"square",size:["sm","xs"],css:{borderRadius:"var(--borderRadius-md)"}},{shape:"square",size:"md",css:{borderRadius:"var(--borderRadius-lg)"}},{shape:"square",size:["xl","lg"],css:{borderRadius:"var(--borderRadius-xl)"}},{shape:"round",size:["sm","xs"],css:{borderRadius:"48px"}},{shape:"round",size:["md"],css:{borderRadius:"64px"}},{shape:"round",size:["xl","lg"],css:{borderRadius:"160px"}},{shape:"square",size:["sm","xs"],group:"connected-start",css:{borderRadius:"48px var(--borderRadius-md) var(--borderRadius-md) 48px"}},{shape:"square",size:"md",group:"connected-start",css:{borderRadius:"64px var(--borderRadius-lg) var(--borderRadius-lg) 64px"}},{shape:"square",size:["xl","lg"],group:"connected-start",css:{borderRadius:"160px var(--borderRadius-xl) var(--borderRadius-xl) 160px"}},{shape:"square",size:["sm","xs"],group:"connected-end",css:{borderRadius:"var(--borderRadius-md) 48px 48px var(--borderRadius-md)"}},{shape:"square",size:"md",group:"connected-end",css:{borderRadius:"var(--borderRadius-lg) 64px 64px var(--borderRadius-lg)"}},{shape:"square",size:["xl","lg"],group:"connected-end",css:{borderRadius:"var(--borderRadius-xl) 160px 160px var(--borderRadius-xl)"}},{shape:"square",group:["standard"],_permitAnimation:!0,css:{animationName:"materialPhysicsButtonSelect",animationDuration:"0.3s",animationFillMode:"forwards"}}]});/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const cn=t=>t??ar;/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const oXe=t=>t===null||typeof t!="object"&&typeof t!="function",SY=t=>t.strings===void 0,aXe={},lXe=(t,e=aXe)=>t._$AH=e;/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const vv=Ig(class extends i1{constructor(t){if(super(t),t.type!==Ll.PROPERTY&&t.type!==Ll.ATTRIBUTE&&t.type!==Ll.BOOLEAN_ATTRIBUTE)throw Error("The `live` directive is not allowed on child or event bindings");if(!SY(t))throw Error("`live` bindings can only contain a single expression")}render(t){return t}update(t,[e]){if(e===Ms||e===ar)return e;const n=t.element,r=t.name;if(t.type===Ll.PROPERTY){if(e===n[r])return Ms}else if(t.type===Ll.BOOLEAN_ATTRIBUTE){if(!!e===n.hasAttribute(r))return Ms}else if(t.type===Ll.ATTRIBUTE&&n.getAttribute(r)===e+"")return Ms;return lXe(t),e}});/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const p0=(t,e)=>{const n=t._$AN;if(n===void 0)return!1;for(const r of n)r._$AO?.(e,!1),p0(r,e);return!0},Y2=t=>{let e,n;do{if((e=t._$AM)===void 0)break;n=e._$AN,n.delete(t),t=e}while(n?.size===0)},xY=t=>{for(let e;e=t._$AM;t=e){let n=e._$AN;if(n===void 0)e._$AN=n=new Set;else if(n.has(t))break;n.add(t),dXe(e)}};function cXe(t){this._$AN!==void 0?(Y2(this),this._$AM=t,xY(this)):this._$AM=t}function uXe(t,e=!1,n=0){const r=this._$AH,i=this._$AN;if(i!==void 0&&i.size!==0)if(e)if(Array.isArray(r))for(let s=n;s<r.length;s++)p0(r[s],!1),Y2(r[s]);else r!=null&&(p0(r,!1),Y2(r));else p0(this,t)}const dXe=t=>{t.type==Ll.CHILD&&(t._$AP??=uXe,t._$AQ??=cXe)};class _Y extends i1{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,n,r){super._$AT(e,n,r),xY(this),this.isConnected=e._$AU}_$AO(e,n=!0){e!==this.isConnected&&(this.isConnected=e,e?this.reconnected?.():this.disconnected?.()),n&&(p0(this,e),Y2(this))}setValue(e){if(SY(this._$Ct))this._$Ct._$AI(e,this);else{const n=[...this._$Ct._$AH];n[this._$Ci]=e,this._$Ct._$AI(n,this,0)}}disconnected(){}reconnected(){}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Er=()=>new hXe;let hXe=class{};const R4=new WeakMap,Yn=Ig(class extends _Y{render(t){return ar}update(t,[e]){const n=e!==this.G;return n&&this.G!==void 0&&this.rt(void 0),(n||this.lt!==this.ct)&&(this.G=e,this.ht=t.options?.host,this.rt(this.ct=t.element)),ar}rt(t){if(this.isConnected||(t=void 0),typeof this.G=="function"){const e=this.ht??globalThis;let n=R4.get(e);n===void 0&&(n=new WeakMap,R4.set(e,n)),n.get(this.G)!==void 0&&this.G.call(this.ht,void 0),n.set(this.G,t),t!==void 0&&this.G.call(this.ht,t)}else this.G.value=t}get lt(){return typeof this.G=="function"?R4.get(this.ht??globalThis)?.get(this.G):this.G?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});function wI(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function pT(t={},e={}){Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:wI(e[n])&&wI(t[n])&&Object.keys(e[n]).length>0&&pT(t[n],e[n])})}const CY={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ac(){const t=typeof document<"u"?document:{};return pT(t,CY),t}const fXe={document:CY,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Bg(){const t=typeof window<"u"?window:{};return pT(t,fXe),t}const mXe=t=>t?.nodeName.toLowerCase()??"",vT=(t,e)=>t?.nodeName.toLowerCase()===e.toLowerCase(),Bs=t=>typeof t=="function",Qs=t=>typeof t=="string",bT=t=>typeof t=="number",gXe=t=>typeof t=="boolean",Vo=t=>typeof t>"u",EY=t=>t===null,yT=t=>typeof Window<"u"&&t instanceof Window,OT=t=>typeof Document<"u"&&t instanceof Document,Pw=t=>typeof Element<"u"&&t instanceof Element,pXe=t=>typeof Node<"u"&&t instanceof Node,am=t=>!Bs(t)&&!yT(t)&&bT(t.length),ad=t=>typeof t=="object"&&t!==null,p5=t=>OT(t)?t.documentElement:t,wT=t=>t.replace(/-([a-z])/g,(e,n)=>n.toUpperCase()),TY=t=>t&&t.replace(/^./,t[0].toLowerCase()).replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),DY=()=>!1,ns=(t,e)=>{for(let n=0;n<t.length;n+=1)if(e.call(t[n],t[n],n)===!1)return t;return t},Yo=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const i=n[r];if(e.call(t[i],i,t[i])===!1)return t}return t};class cs{constructor(e){return this.length=0,e?(ns(e,(n,r)=>{this[r]=n}),this.length=e.length,this):this}}const G2=(t=ac())=>/complete|interactive/.test(t.readyState),AY=t=>ac().createElement(t),vXe=(t,e)=>t.appendChild(e),bXe=t=>t.parentNode?t.parentNode.removeChild(t):t,yXe=(t,e)=>{const n=AY(e);return n.innerHTML=t,[].slice.call(n.childNodes)},OXe=()=>{const t=function(e){if(!e)return new cs;if(e instanceof cs)return e;if(Bs(e)){const n=ac();return G2(n)?e.call(n,t):n.addEventListener("DOMContentLoaded",()=>e.call(n,t),{once:!0}),new cs([n])}if(Qs(e)){const n=e.trim();if(n.startsWith("<")&&n.endsWith(">")){let i="div";return Yo({li:"ul",tr:"tbody",td:"tr",th:"tr",tbody:"table",option:"select"},(o,a)=>{if(n.startsWith(`<${o}`))return i=a,!1}),new cs(yXe(n,i))}const r=ac();return new cs(r.querySelectorAll(e))}return am(e)&&!pXe(e)?new cs(e):new cs([e])};return t.fn=cs.prototype,t},Qe=OXe(),PY=(t,e,n)=>{const r=t.getAttribute(e);return EY(r)?n:r},RY=(t,e)=>{t.removeAttribute(e)},MY=(t,e,n)=>{EY(n)?RY(t,e):t.setAttribute(e,n)},Rw=(t,e)=>Bg().getComputedStyle(t).getPropertyValue(TY(e)),IY=t=>Rw(t,"box-sizing")==="border-box",v5=(t,e,n)=>{const r=e==="width"?["Left","Right"]:["Top","Bottom"];return[0,1].reduce((i,s,o)=>{let a=n+r[o];return n==="border"&&(a+="Width"),i+parseFloat(Rw(t,a)||"0")},0)},wXe=(t,e)=>{if(e==="width"||e==="height"){const n=t.getBoundingClientRect()[e];return IY(t)?`${n}px`:`${n-v5(t,e,"border")-v5(t,e,"padding")}px`}return Rw(t,e)},kXe=["animation-iteration-count","column-count","fill-opacity","flex-grow","flex-shrink","font-weight","grid-area","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","line-height","opacity","order","orphans","widows","z-index","zoom"];Qe.fn.each=function(t){return ns(this,(e,n)=>t.call(e,n,e))};ns(["attr","prop","css"],(t,e)=>{const n=(i,s,o)=>{if(Vo(o))return;if(e===0)return MY(i,s,o);if(e===1){i[s]=o;return}s=TY(s);const a=()=>s.startsWith("--")||kXe.includes(s)?"":"px";i.style.setProperty(s,bT(o)?`${o}${a()}`:o)},r=(i,s)=>e===0?PY(i,s):e===1?i[s]:wXe(i,s);Qe.fn[t]=function(i,s){if(ad(i))return Yo(i,(o,a)=>{this[t](o,a)}),this;if(arguments.length===1){const o=this[0];return Pw(o)?r(o,i):void 0}return this.each((o,a)=>{n(a,i,Bs(s)?s.call(a,o,r(a,i)):s)})}});const Vf=new WeakMap,SXe=t=>{const e=[...t.elements],n=Vf.get(t)||[],r=(i,s)=>i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1;return[...e,...n].sort(r)},Mw=t=>[...new Set(t)];class ku{constructor(e,n){this.defined=!1,(this.host=e).addController(this),this.relatedElements=n.relatedElements,this.needDomReady=n.needDomReady||!!n.relatedElements,this.onSlotChange=this.onSlotChange.bind(this)}hostConnected(){this.host.shadowRoot.addEventListener("slotchange",this.onSlotChange)}hostDisconnected(){this.host.shadowRoot.removeEventListener("slotchange",this.onSlotChange)}isDefined(){return this.defined?!0:(this.defined=(!this.needDomReady||G2())&&!this.getUndefinedLocalNames().length,this.defined)}async whenDefined(){if(this.defined)return Promise.resolve();const e=ac();this.needDomReady&&!G2(e)&&await new Promise(r=>{e.addEventListener("DOMContentLoaded",()=>r(),{once:!0})});const n=this.getUndefinedLocalNames();if(n.length){const r=[];n.forEach(i=>{r.push(customElements.whenDefined(i))}),await Promise.all(r)}this.defined=!0}getScopeLocalNameSelector(){const e=this.relatedElements;return e?Array.isArray(e)?e.map(n=>`${n}:not(:defined)`).join(","):Object.keys(e).filter(n=>!e[n]).map(n=>`${n}:not(:defined)`).join(","):null}getGlobalLocalNameSelector(){const e=this.relatedElements;return!e||Array.isArray(e)?null:Object.keys(e).filter(n=>e[n]).map(n=>`${n}:not(:defined)`).join(",")}getUndefinedLocalNames(){const e=this.getScopeLocalNameSelector(),n=this.getGlobalLocalNameSelector(),r=e?[...this.host.querySelectorAll(e)]:[],i=n?[...ac().querySelectorAll(n)]:[],s=[...r,...i].map(o=>o.localName);return Mw(s)}onSlotChange(){const e=this.getScopeLocalNameSelector();e&&this.host.querySelectorAll(e).length&&(this.defined=!1)}}const kp=new WeakMap,zs=new WeakMap;class mf{constructor(e,n){(this.host=e).addController(this),this.definedController=new ku(e,{needDomReady:!0}),this.options={form:r=>{const i=Qe(r).attr("form");return i?r.getRootNode().getElementById(i):r.closest("form")},name:r=>r.name,value:r=>r.value,defaultValue:r=>r.defaultValue,setValue:(r,i)=>r.value=i,disabled:r=>r.disabled,reportValidity:r=>Bs(r.reportValidity)?r.reportValidity():!0,...n},this.onFormData=this.onFormData.bind(this),this.onFormSubmit=this.onFormSubmit.bind(this),this.onFormReset=this.onFormReset.bind(this),this.reportFormValidity=this.reportFormValidity.bind(this)}hostConnected(){this.definedController.whenDefined().then(()=>{this.form=this.options.form(this.host),this.form&&this.attachForm(this.form)})}hostDisconnected(){this.detachForm()}hostUpdated(){this.definedController.whenDefined().then(()=>{const e=this.options.form(this.host);e||this.detachForm(),e&&this.form!==e&&(this.detachForm(),this.attachForm(e))})}getForm(){return this.form??null}reset(e){this.doAction("reset",e)}submit(e){this.doAction("submit",e)}attachForm(e){if(!e){this.form=void 0;return}this.form=e,Vf.has(this.form)?Vf.get(this.form).add(this.host):Vf.set(this.form,new Set([this.host])),this.form.addEventListener("formdata",this.onFormData),this.form.addEventListener("submit",this.onFormSubmit),this.form.addEventListener("reset",this.onFormReset),kp.has(this.form)||(kp.set(this.form,this.form.reportValidity),this.form.reportValidity=()=>this.reportFormValidity())}detachForm(){this.form&&(Vf.get(this.form).delete(this.host),this.form.removeEventListener("formdata",this.onFormData),this.form.removeEventListener("submit",this.onFormSubmit),this.form.removeEventListener("reset",this.onFormReset),kp.has(this.form)&&!Vf.get(this.form).size&&(this.form.reportValidity=kp.get(this.form),kp.delete(this.form)))}doAction(e,n){if(!this.form)return;const r=Qe(`<button type="${e}">`).css({position:"absolute",width:0,height:0,clipPath:"inset(50%)",overflow:"hidden",whiteSpace:"nowrap"}),i=r[0];n&&(i.name=n.name,i.value=n.value,["formaction","formenctype","formmethod","formnovalidate","formtarget"].forEach(s=>{r.attr(s,Qe(n).attr(s))})),this.form.append(i),i.click(),i.remove()}onFormData(e){const n=this.options.disabled(this.host),r=this.options.name(this.host),i=this.options.value(this.host),s=["mdui-button","mdui-button-icon","mdui-chip","mdui-fab","mdui-segmented-button"].includes(this.host.tagName.toLowerCase());!n&&!s&&Qs(r)&&r&&!Vo(i)&&(Array.isArray(i)?i.forEach(o=>{e.formData.append(r,o.toString())}):e.formData.append(r,i.toString()))}onFormSubmit(e){const n=this.options.disabled(this.host),r=this.options.reportValidity;this.form&&!this.form.noValidate&&!n&&!r(this.host)&&(e.preventDefault(),e.stopImmediatePropagation())}onFormReset(){this.form&&(this.options.setValue(this.host,this.options.defaultValue(this.host)),this.host.invalid=!1,zs.has(this.form)?zs.get(this.form).add(this.host):zs.set(this.form,new Set([this.host])))}reportFormValidity(){if(this.form&&!this.form.noValidate){const e=SXe(this.form);for(const n of e)if(Bs(n.reportValidity)&&!n.reportValidity())return!1}return!0}}function zg(t="value"){return(e,n)=>{const r=e.constructor,i=r.prototype.attributeChangedCallback;r.prototype.attributeChangedCallback=function(s,o,a){const l=r.getPropertyOptions(t),c=Qs(l.attribute)?l.attribute:t;if(s===c){const d=l.converter||dg,f=(Bs(d)?d:d?.fromAttribute??dg.fromAttribute)(a,l.type);this[t]!==f&&(this[n]=f)}i.call(this,s,o,a)}}}function mn(t,e=!1){return(n,r)=>{const{update:i}=n;t in n&&(n.update=function(s){if(s.has(t)){const o=s.get(t),a=this[t];o!==a&&(!e||this.hasUpdated)&&this[r](o,a)}i.call(this,s)})}}const St=t=>t!==null&&t.toLowerCase()!=="false",Qa=ur`:host{display:inline-block;width:1em;height:1em;line-height:1;font-size:1.5rem}`;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class b5 extends i1{constructor(e){if(super(e),this.it=ar,e.type!==Ll.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(e){if(e===ar||e==null)return this._t=void 0,this.it=e;if(e===Ms)return e;if(typeof e!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.it)return this._t;this.it=e;const n=[e];return n.raw=n,this._t={_$litType$:this.constructor.resultType,strings:n,values:[]}}}b5.directiveName="unsafeHTML",b5.resultType=1;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class y5 extends b5{}y5.directiveName="unsafeSVG",y5.resultType=2;const $Y=Ig(y5),Ua=t=>_e`<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="currentColor">${$Y(t)}</svg>`;let O5=class extends Bi{render(){return Ua('<path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/>')}};O5.styles=Qa;O5=q([Rn("mdui-icon-check-box-outline-blank")],O5);let w5=class extends Bi{render(){return Ua('<path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>')}};w5.styles=Qa;w5=q([Rn("mdui-icon-check-box")],w5);let k5=class extends Bi{render(){return Ua('<path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"/>')}};k5.styles=Qa;k5=q([Rn("mdui-icon-indeterminate-check-box")],k5);Qe.fn.removeAttr=function(t){const e=t.split(" ").filter(n=>n);return this.each(function(){ns(e,n=>{RY(this,n)})})};let kT=!0;const LY=ac();LY.addEventListener("pointerdown",()=>{kT=!0});LY.addEventListener("keydown",()=>{kT=!1});const Su=t=>{class e extends t{constructor(){super(...arguments),this.autofocus=!1,this.focused=!1,this.focusVisible=!1,this.focusableDefinedController=new ku(this,{relatedElements:[""]}),this._manipulatingTabindex=!1,this._tabIndex=0}get tabIndex(){const r=Qe(this);if(this.focusElement===this)return Number(r.attr("tabindex")||-1);const i=Number(r.attr("tabindex")||0);return this.focusDisabled||i<0?-1:this.focusElement?this.focusElement.tabIndex:i}set tabIndex(r){if(this._manipulatingTabindex){this._manipulatingTabindex=!1;return}const i=Qe(this);if(this.focusElement===this){r!==null&&(this._tabIndex=r),i.attr("tabindex",this.focusDisabled?null:r);return}const s=()=>{this.tabIndex===-1&&(this.tabIndex=0,this.focus({preventScroll:!0}))};if(r===-1?this.addEventListener("pointerdown",s):(this._manipulatingTabindex=!0,this.removeEventListener("pointerdown",s)),r===-1||this.focusDisabled){i.attr("tabindex",-1),r!==-1&&this.manageFocusElementTabindex(r);return}this.hasAttribute("tabindex")||(this._manipulatingTabindex=!1),this.manageFocusElementTabindex(r)}get focusDisabled(){throw new Error("Must implement focusDisabled getter!")}get focusElement(){throw new Error("Must implement focusElement getter!")}connectedCallback(){super.connectedCallback(),this.updateComplete.then(()=>{requestAnimationFrame(()=>{this.manageAutoFocus()})})}click(){this.focusDisabled||(this.focusElement!==this?this.focusElement.click():HTMLElement.prototype.click.apply(this))}focus(r){this.focusDisabled||!this.focusElement||(this.focusElement!==this?this.focusElement.focus(r):HTMLElement.prototype.focus.apply(this,[r]))}blur(){this.focusElement!==this?this.focusElement.blur():HTMLElement.prototype.blur.apply(this)}firstUpdated(r){super.firstUpdated(r),this.focusElement.addEventListener("focus",()=>{this.focused=!0,this.focusVisible=!kT}),this.focusElement.addEventListener("blur",()=>{this.focused=!1,this.focusVisible=!1})}update(r){if(this._lastFocusDisabled===void 0||this._lastFocusDisabled!==this.focusDisabled){this._lastFocusDisabled=this.focusDisabled;const i=Qe(this);this.focusDisabled?i.removeAttr("tabindex"):this.focusElement===this?(this._manipulatingTabindex=!0,i.attr("tabindex",this._tabIndex)):this.tabIndex>-1&&i.removeAttr("tabindex")}super.update(r)}updated(r){super.updated(r),this.focused&&this.focusDisabled&&this.blur()}async manageFocusElementTabindex(r){this.focusElement||await this.updateComplete,r===null?this.focusElement.removeAttribute("tabindex"):this.focusElement.tabIndex=r}manageAutoFocus(){this.autofocus&&(this.dispatchEvent(new KeyboardEvent("keydown",{code:"Tab"})),this.focusElement.focus())}}return q([ce({type:Boolean,reflect:!0,converter:St})],e.prototype,"autofocus",void 0),q([ce({type:Boolean,reflect:!0,converter:St})],e.prototype,"focused",void 0),q([ce({type:Boolean,reflect:!0,converter:St,attribute:"focus-visible"})],e.prototype,"focusVisible",void 0),q([ce({type:Number,attribute:"tabindex"})],e.prototype,"tabIndex",null),e};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const NY="important",xXe=" !"+NY,FY=Ig(class extends i1{constructor(t){if(super(t),t.type!==Ll.ATTRIBUTE||t.name!=="style"||t.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return r==null?e:e+`${n=n.includes("-")?n:n.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${r};`},"")}update(t,[e]){const{style:n}=t.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(e)),this.render(e);for(const r of this.ft)e[r]==null&&(this.ft.delete(r),r.includes("-")?n.removeProperty(r):n[r]=null);for(const r in e){const i=e[r];if(i!=null){this.ft.add(r);const s=typeof i=="string"&&i.endsWith(xXe);r.includes("-")||s?n.setProperty(r,s?i.slice(0,-11):i,s?NY:""):n[r]=i}}return Ms}});/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class _Xe{constructor(e){this.G=e}disconnect(){this.G=void 0}reconnect(e){this.G=e}deref(){return this.G}}class CXe{constructor(){this.Y=void 0,this.Z=void 0}get(){return this.Y}pause(){this.Y??=new Promise(e=>this.Z=e)}resume(){this.Z?.(),this.Y=this.Z=void 0}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const kI=t=>!oXe(t)&&typeof t.then=="function",SI=1073741823;class EXe extends _Y{constructor(){super(...arguments),this._$Cwt=SI,this._$Cbt=[],this._$CK=new _Xe(this),this._$CX=new CXe}render(...e){return e.find(n=>!kI(n))??Ms}update(e,n){const r=this._$Cbt;let i=r.length;this._$Cbt=n;const s=this._$CK,o=this._$CX;this.isConnected||this.disconnected();for(let a=0;a<n.length&&!(a>this._$Cwt);a++){const l=n[a];if(!kI(l))return this._$Cwt=a,l;a<i&&l===r[a]||(this._$Cwt=SI,i=0,Promise.resolve(l).then(async c=>{for(;o.get();)await o.get();const d=s.deref();if(d!==void 0){const h=d._$Cbt.indexOf(l);h>-1&&h<d._$Cwt&&(d._$Cwt=h,d.setValue(c))}}))}return Ms}disconnected(){this._$CK.disconnect(),this._$CX.pause()}reconnected(){this._$CK.reconnect(this),this._$CX.resume()}}const TXe=Ig(EXe),BY=(t,e)=>t!==e&&p5(t).contains(e),zY=(t,e)=>(ns(e,n=>{t.push(n)}),t);Qe.fn.get=function(t){return t===void 0?[].slice.call(this):this[t>=0?t:t+this.length]};Qe.fn.find=function(t){const e=[];return this.each((n,r)=>{zY(e,Qe(r.querySelectorAll(t)).get())}),new cs(e)};const DXe=Bg().CustomEvent;class AXe extends DXe{constructor(e,n){super(e,n),this.data=n.data,this.namespace=n.namespace}}const M4=new WeakMap;let PXe=1;const S5=t=>(M4.has(t)||M4.set(t,++PXe),M4.get(t)),xI=new Map,Z2=t=>{const e=S5(t);return xI.get(e)||xI.set(e,[]).get(e)},ST=t=>{const e=t.split(".");return{type:e[0],namespace:e.slice(1).sort().join(" ")}},QY=t=>new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)"),RXe=(t,e,n,r)=>{const i=ST(e);return Z2(t).filter(s=>s&&(!i.type||s.type===i.type)&&(!i.namespace||QY(i.namespace).test(s.namespace))&&(!n||S5(s.func)===S5(n))&&(!r||s.selector===r))},MXe=(t,e,n,r,i)=>{let s=!1;ad(r)&&r.useCapture&&(s=!0),e.split(" ").forEach(o=>{if(!o)return;const a=ST(o),l=(h,f)=>{n.apply(f,h.detail===null?[h]:[h].concat(h.detail))===!1&&(h.preventDefault(),h.stopPropagation())},c=h=>{h.namespace&&!QY(h.namespace).test(a.namespace)||(h.data=r,i?Qe(t).find(i).get().reverse().forEach(f=>{(f===h.target||BY(f,h.target))&&l(h,f)}):l(h,t))},d={type:a.type,namespace:a.namespace,func:n,selector:i,id:Z2(t).length,proxy:c};Z2(t).push(d),t.addEventListener(d.type,c,s)})},IXe=(t,e,n,r)=>{const i=Z2(t),s=o=>{delete i[o.id],t.removeEventListener(o.type,o.proxy,!1)};e?e.split(" ").forEach(o=>{o&&RXe(t,o,n,r).forEach(a=>{s(a)})}):i.forEach(o=>{s(o)})};Qe.fn.trigger=function(t,e=null,n){const{type:r,namespace:i}=ST(t),s=new AXe(r,{detail:e,data:null,namespace:i,bubbles:!0,cancelable:!1,composed:!0,...n});return this.each((o,a)=>{a.dispatchEvent(s)})};function UY(t,...e){return ns(e,n=>{Yo(n,(r,i)=>{Vo(i)||(t[r]=i)})}),t}const $Xe="ajaxStart",_I="ajaxSuccess",Sb="ajaxError",I4="ajaxComplete",yy={},LXe=t=>["GET","HEAD"].includes(t),CI=(t,e)=>`${t}&${e}`.replace(/[&?]{1,2}/,"?"),NXe=t=>{const e=Bg();return/^([\w-]+:)?\/\/([^/]+)/.test(t)&&RegExp.$2!==e.location.host},FXe=t=>t>=200&&t<300||[0,304].includes(t),BXe=t=>{const e={url:"",method:"GET",data:"",processData:!0,async:!0,cache:!0,username:"",password:"",headers:{},xhrFields:{},statusCode:{},dataType:"",contentType:"application/x-www-form-urlencoded",timeout:0,global:!0};return Yo(yy,(n,r)=>{!["beforeSend","success","error","complete","statusCode"].includes(n)&&!Vo(r)&&(e[n]=r)}),UY({},e,t)},zXe=t=>{if(!ad(t)&&!Array.isArray(t))return"";const e=[],n=(r,i)=>{let s;ad(i)?Yo(i,(o,a)=>{s=Array.isArray(i)&&!ad(a)?"":o,n(`${r}[${s}]`,a)}):(s=i==null||i===""?"=":`=${encodeURIComponent(i)}`,e.push(encodeURIComponent(r)+s))};return Array.isArray(t)?ns(t,({name:r,value:i})=>n(r,i)):Yo(t,n),e.join("&")},QXe=t=>{const e=ac(),n=Bg();let r=!1;const i={},s={},o=BXe(t),a=o.method.toUpperCase();let{data:l,url:c}=o;c=c||n.location.toString();const{processData:d,async:h,cache:f,username:m,password:g,headers:p,xhrFields:v,statusCode:b,dataType:y,contentType:C,timeout:x,global:O}=o,S=LXe(a);l&&(S||d)&&!Qs(l)&&!(l instanceof ArrayBuffer)&&!(l instanceof Blob)&&!(l instanceof Document)&&!(l instanceof FormData)&&(l=zXe(l)),l&&S&&(c=CI(c,l),l=null);const T=(M,P,...L)=>{O&&Qe(e).trigger(M,P==="success"?s:i);let j,te;P in yy&&(j=yy[P](...L)),o[P]&&(te=o[P](...L)),P==="beforeSend"&&[j,te].includes(!1)&&(r=!0)};return(()=>{let M;return new Promise((P,L)=>{const j=N=>L(new Error(N));S&&!f&&(c=CI(c,`_=${Date.now()}`));const te=new XMLHttpRequest;te.open(a,c,h,m,g),(C||l&&!S&&C!==!1)&&te.setRequestHeader("Content-Type",C),y==="json"&&te.setRequestHeader("Accept","application/json, text/javascript"),Yo(p,(N,z)=>{Vo(z)||te.setRequestHeader(N,z+"")}),NXe(c)||te.setRequestHeader("X-Requested-With","XMLHttpRequest"),Yo(v,(N,z)=>{te[N]=z}),i.xhr=s.xhr=te,i.options=s.options=o;let U;if(te.onload=()=>{U&&clearTimeout(U);const N=FXe(te.status);let z;if(N)if(M=te.status===204||a==="HEAD"?"nocontent":te.status===304?"notmodified":"success",y==="json"||!y&&(te.getResponseHeader("content-type")||"").includes("json")){try{z=a==="HEAD"?void 0:JSON.parse(te.responseText),s.response=z}catch{M="parsererror",T(Sb,"error",te,M),j(M)}M!=="parsererror"&&(T(_I,"success",z,M,te),P(z))}else z=a==="HEAD"?void 0:te.responseType==="text"||te.responseType===""?te.responseText:te.response,s.response=z,T(_I,"success",z,M,te),P(z);else M="error",T(Sb,"error",te,M),j(M);ns([yy.statusCode??{},b],K=>{K[te.status]&&(N?K[te.status](z,M,te):K[te.status](te,M))}),T(I4,"complete",te,M)},te.onerror=()=>{U&&clearTimeout(U),T(Sb,"error",te,te.statusText),T(I4,"complete",te,"error"),j(te.statusText)},te.onabort=()=>{let N="abort";U&&(N="timeout",clearTimeout(U)),T(Sb,"error",te,N),T(I4,"complete",te,N),j(N)},T($Xe,"beforeSend",te,o),r)return j("cancel");x>0&&(U=n.setTimeout(()=>te.abort(),x)),te.send(l)})})()};class vc{constructor(e,...n){this.slotNames=[],(this.host=e).addController(this),this.slotNames=n,this.onSlotChange=this.onSlotChange.bind(this)}hostConnected(){this.host.shadowRoot.addEventListener("slotchange",this.onSlotChange),G2()||Qe(()=>{this.host.requestUpdate()})}hostDisconnected(){this.host.shadowRoot.removeEventListener("slotchange",this.onSlotChange)}test(e){return e==="[default]"?this.hasDefaultSlot():this.hasNamedSlot(e)}hasDefaultSlot(){return[...this.host.childNodes].some(e=>e.nodeType===e.TEXT_NODE&&e.textContent.trim()!==""||e.nodeType===e.ELEMENT_NODE&&!e.hasAttribute("slot"))}hasNamedSlot(e){return this.host.querySelector(`:scope > [slot="${e}"]`)!==null}onSlotChange(e){const n=e.target;(this.slotNames.includes("[default]")&&!n.name||n.name&&this.slotNames.includes(n.name))&&this.host.requestUpdate()}}const UXe=ur`:host{display:inline-block;width:1em;height:1em;font-weight:400;font-family:'Material Icons';font-display:block;font-style:normal;line-height:1;direction:ltr;letter-spacing:normal;white-space:nowrap;text-transform:none;word-wrap:normal;-webkit-font-smoothing:antialiased;text-rendering:optimizelegibility;-moz-osx-font-smoothing:grayscale;font-size:1.5rem}::slotted(svg),svg{width:100%;height:100%;fill:currentcolor}`;let bv=class extends li{constructor(){super(...arguments),this.hasSlotController=new vc(this,"[default]")}render(){const e=()=>{if(this.name){const[n,r]=this.name.split("--");return _e`<span style="${FY({fontFamily:new Map([["outlined","Material Icons Outlined"],["filled","Material Icons"],["rounded","Material Icons Round"],["sharp","Material Icons Sharp"],["two-tone","Material Icons Two Tone"]]).get(r)})}">${n}</span>`}return this.src?_e`${TXe(QXe({url:this.src}).then($Y))}`:_e``};return this.hasSlotController.test("[default]")?_e`<slot></slot>`:e()}};bv.styles=[ci,UXe];q([ce({reflect:!0})],bv.prototype,"name",void 0);q([ce({reflect:!0})],bv.prototype,"src",void 0);bv=q([Rn("mdui-icon")],bv);Qe.fn.is=function(t){let e=!1;if(Bs(t))return this.each((r,i)=>{t.call(i,r,i)&&(e=!0)}),e;if(Qs(t))return this.each((r,i)=>{OT(i)||yT(i)||i.matches.call(i,t)&&(e=!0)}),e;const n=Qe(t);return this.each((r,i)=>{n.each((s,o)=>{i===o&&(e=!0)})}),e};Qe.fn.children=function(t){const e=[];return this.each((n,r)=>{ns(r.childNodes,i=>{Pw(i)&&(!t||Qe(i).is(t))&&e.push(i)})}),new cs(Mw(e))};Qe.fn.slice=function(...t){return new cs([].slice.apply(this,t))};Qe.fn.eq=function(t){const e=t===-1?this.slice(t):this.slice(t,+t+1);return new cs(e)};const VXe=(t,e,n,r,i)=>{const s=[];let o;return t.each((a,l)=>{for(o=l[n];o&&Pw(o);){if(e===2){if(r&&Qe(o).is(r))break;(!i||Qe(o).is(i))&&s.push(o)}else if(e===0){(!r||Qe(o).is(r))&&s.push(o);break}else(!r||Qe(o).is(r))&&s.push(o);o=o[n]}}),new cs(Mw(s))};ns(["","s","sUntil"],(t,e)=>{Qe.fn[`parent${t}`]=function(n,r){const i=e?Qe(this.get().reverse()):this;return VXe(i,e,"parentNode",n,r)}});Qe.fn.index=function(t){return arguments.length?Qs(t)?Qe(t).get().indexOf(this[0]):this.get().indexOf(Qe(t)[0]):this.eq(0).parent().children().get().indexOf(this[0])};ns(["add","remove","toggle"],t=>{Qe.fn[`${t}Class`]=function(e){return t==="remove"&&!arguments.length?this.each((n,r)=>{MY(r,"class","")}):this.each((n,r)=>{if(!Pw(r))return;const i=(Bs(e)?e.call(r,n,PY(r,"class","")):e).split(" ").filter(s=>s);ns(i,s=>{r.classList[t](s)})})}});const VY=new WeakMap,xT=t=>VY.get(t)??{},jXe=(t,e)=>{const n=xT(t),r=wT(e);return r in n?n[r]:void 0},jY=(t,e)=>{const n=xT(t);Yo(e,(r,i)=>{n[wT(r)]=i}),VY.set(t,n)},qXe=(t,e,n)=>{jY(t,{[e]:n})},HXe=/^(?:{[\w\W]*\}|\[[\w\W]*\])$/,WXe=t=>t==="true"?!0:t==="false"?!1:t==="null"?null:t===+t+""?+t:HXe.test(t)?JSON.parse(t):t,EI=(t,e,n)=>{if(Vo(n)&&t.nodeType===1&&(n=t.dataset[e],Qs(n)))try{n=WXe(n)}catch{}return n};Qe.fn.data=function(t,e){if(Vo(t)){if(!this.length)return;const n=this[0],r=xT(n);return n.nodeType!==1||Yo(n.dataset,i=>{r[i]=EI(n,i,r[i])}),r}if(ad(t))return this.each(function(){jY(this,t)});if(arguments.length===2&&Vo(e))return this;if(!Vo(e))return this.each(function(){qXe(this,t,e)});if(this.length)return EI(this[0],wT(t),jXe(this[0],t))};function XXe(t,e){return am(t)?ns(t,(n,r)=>e.call(n,r,n)):Yo(t,e)}function YXe(t,e){const n=Bg();let r;const i=[];return XXe(t,(s,o)=>{r=e.call(n,o,s),r!=null&&i.push(r)}),[].concat(...i)}Qe.fn.map=function(t){return new cs(YXe(this,(e,n)=>t.call(e,n,e)))};Qe.fn.filter=function(t){if(Bs(t))return this.map((n,r)=>t.call(r,n,r)?r:void 0);if(Qs(t))return this.map((n,r)=>Qe(r).is(t)?r:void 0);const e=Qe(t);return this.map((n,r)=>e.get().includes(r)?r:void 0)};const qY=(t,e,n,r,i,s)=>{const o=a=>v5(t,e.toLowerCase(),a)*s;return r===2&&i&&(n+=o("margin")),IY(t)?(r===0&&(n-=o("border")),r===1&&(n-=o("border"),n-=o("padding"))):(r===0&&(n+=o("padding")),r===2&&(n+=o("border"),n+=o("padding"))),n},HY=(t,e,n,r)=>{const i=ac(),s=`client${e}`,o=`scroll${e}`,a=`offset${e}`,l=`inner${e}`;if(yT(t))return n===2?t[l]:p5(i)[s];if(OT(t)){const d=p5(t);return Math.max(t.body[o],d[o],t.body[a],d[a],d[s])}const c=parseFloat(Rw(t,e.toLowerCase())||"0");return qY(t,e,c,n,r,1)},GXe=(t,e,n,r,i,s)=>{let o=Bs(s)?s.call(t,e,HY(t,n,r,i)):s;if(o==null)return;const a=Qe(t),l=n.toLowerCase();if(Qs(o)&&["auto","inherit",""].includes(o)){a.css(l,o);return}const c=o.toString().replace(/\b[0-9.]*/,""),d=parseFloat(o);o=qY(t,n,d,r,i,-1)+(c||"px"),a.css(l,o)};ns(["Width","Height"],t=>{ns([`inner${t}`,t.toLowerCase(),`outer${t}`],(e,n)=>{Qe.fn[e]=function(r,i){const s=arguments.length&&(n<2||!gXe(r)),o=r===!0||i===!0;return s?this.each((a,l)=>GXe(l,a,t,n,o,r)):this.length?HY(this[0],t,n,o):void 0}})});Qe.fn.offsetParent=function(){const t=ac();return this.map(function(){let e=this.offsetParent;for(;e&&Qe(e).css("position")==="static";)e=e.offsetParent;return e||t.documentElement})};const xb=(t,e)=>parseFloat(t.css(e));Qe.fn.position=function(){if(!this.length)return;const t=this.eq(0);let e,n={left:0,top:0};if(t.css("position")==="fixed")e=t[0].getBoundingClientRect();else{e=t.offset();const r=t.offsetParent();n=r.offset(),n.top+=xb(r,"border-top-width"),n.left+=xb(r,"border-left-width")}return{top:e.top-n.top-xb(t,"margin-top"),left:e.left-n.left-xb(t,"margin-left")}};const WY=t=>{if(!t.getClientRects().length)return{top:0,left:0};const{top:e,left:n}=t.getBoundingClientRect(),{pageYOffset:r,pageXOffset:i}=t.ownerDocument.defaultView;return{top:e+r,left:n+i}},ZXe=(t,e,n)=>{const r=Qe(t),i=r.css("position");i==="static"&&r.css("position","relative");const s=WY(t),o=r.css("top"),a=r.css("left");let l,c;if((i==="absolute"||i==="fixed")&&(o+a).includes("auto")){const f=r.position();l=f.top,c=f.left}else l=parseFloat(o),c=parseFloat(a);const h=Bs(e)?e.call(t,n,UY({},s)):e;r.css({top:h.top!=null?h.top-s.top+l:void 0,left:h.left!=null?h.left-s.left+c:void 0})};Qe.fn.offset=function(t){return arguments.length?this.each(function(e){ZXe(this,t,e)}):this.length?WY(this[0]):void 0};Qe.fn.off=function(t,e,n){return ad(t)?(Yo(t,(r,i)=>{this.off(r,e,i)}),this):((e===!1||Bs(e))&&(n=e,e=void 0),n===!1&&(n=DY),this.each(function(){IXe(this,t,n,e)}))};Qe.fn.on=function(t,e,n,r,i){if(ad(t))return Qs(e)||(n=n||e,e=void 0),Yo(t,(s,o)=>{this.on(s,e,n,o,i)}),this;if(n==null&&r==null?(r=e,n=e=void 0):r==null&&(Qs(e)?(r=n,n=void 0):(r=n,n=e,e=void 0)),r===!1)r=DY;else if(!r)return this;if(i){const s=this,o=r;r=function(a,...l){return s.off(a.type,e,r),o.call(this,a,...l)}}return this.each(function(){MXe(this,t,r,n,e)})};ns(["insertBefore","insertAfter"],(t,e)=>{Qe.fn[t]=function(n){const r=e?Qe(this.get().reverse()):this,i=Qe(n),s=[];return i.each((o,a)=>{a.parentNode&&r.each((l,c)=>{const d=o?c.cloneNode(!0):c,h=e?a.nextSibling:a;s.push(d),a.parentNode.insertBefore(d,h)})}),Qe(e?s.reverse():s)}});Qe.fn.remove=function(t){return this.each((e,n)=>{(!t||Qe(n).is(t))&&bXe(n)})};ns(["appendTo","prependTo"],(t,e)=>{Qe.fn[t]=function(n){const r=[],i=Qe(n).map((o,a)=>{const l=a.childNodes,c=l.length;if(c)return l[e?0:c-1];const d=AY("div");return vXe(a,d),r.push(d),d}),s=this[e?"insertBefore":"insertAfter"](i);return Qe(r).remove(),s}});const KXe=ur`:host{position:absolute;top:0;left:0;display:block;width:100%;height:100%;overflow:hidden;pointer-events:none}.surface{position:absolute;top:0;left:0;width:100%;height:100%;transition-duration:280ms;transition-property:background-color;pointer-events:none;transition-timing-function:var(--mdui-motion-easing-standard)}.hover{background-color:rgba(var(--mdui-comp-ripple-state-layer-color,var(--mdui-color-on-surface)),var(--mdui-state-layer-hover))}:host-context([focus-visible]) .focused{background-color:rgba(var(--mdui-comp-ripple-state-layer-color,var(--mdui-color-on-surface)),var(--mdui-state-layer-focus))}.dragged{background-color:rgba(var(--mdui-comp-ripple-state-layer-color,var(--mdui-color-on-surface)),var(--mdui-state-layer-dragged))}.wave{position:absolute;z-index:1;background-color:rgb(var(--mdui-comp-ripple-state-layer-color,var(--mdui-color-on-surface)));border-radius:50%;transform:translate3d(0,0,0) scale(.4);opacity:0;animation:225ms ease 0s 1 normal forwards running mdui-comp-ripple-radius-in,75ms ease 0s 1 normal forwards running mdui-comp-ripple-opacity-in;pointer-events:none}.out{transform:translate3d(var(--mdui-comp-ripple-transition-x,0),var(--mdui-comp-ripple-transition-y,0),0) scale(1);animation:150ms ease 0s 1 normal none running mdui-comp-ripple-opacity-out}@keyframes mdui-comp-ripple-radius-in{from{transform:translate3d(0,0,0) scale(.4);animation-timing-function:var(--mdui-motion-easing-standard)}to{transform:translate3d(var(--mdui-comp-ripple-transition-x,0),var(--mdui-comp-ripple-transition-y,0),0) scale(1)}}@keyframes mdui-comp-ripple-opacity-in{from{opacity:0;animation-timing-function:linear}to{opacity:var(--mdui-state-layer-pressed)}}@keyframes mdui-comp-ripple-opacity-out{from{animation-timing-function:linear;opacity:var(--mdui-state-layer-pressed)}to{opacity:0}}`;let Wh=class extends li{constructor(){super(...arguments),this.noRipple=!1,this.hover=!1,this.focused=!1,this.dragged=!1,this.surfaceRef=Er()}startPress(e){if(this.noRipple)return;const n=Qe(this.surfaceRef.value),r=n.innerHeight(),i=n.innerWidth();let s,o;if(!e)s=i/2,o=r/2;else{const h=typeof TouchEvent<"u"&&e instanceof TouchEvent&&e.touches.length?e.touches[0]:e,f=n.offset();if(h.pageX<f.left||h.pageX>f.left+i||h.pageY<f.top||h.pageY>f.top+r)return;s=h.pageX-f.left,o=h.pageY-f.top}const a=Math.max(Math.pow(Math.pow(r,2)+Math.pow(i,2),.5),48),l=`${-s+i/2}px`,c=`${-o+r/2}px`,d=`translate3d(${l}, ${c}, 0) scale(1)`;Qe('<div class="wave"></div>').css({width:a,height:a,marginTop:-a/2,marginLeft:-a/2,left:s,top:o}).each((h,f)=>{f.style.setProperty("--mdui-comp-ripple-transition-x",l),f.style.setProperty("--mdui-comp-ripple-transition-y",c)}).prependTo(this.surfaceRef.value).each((h,f)=>f.clientLeft).css("transform",d).on("animationend",function(h){h.animationName==="mdui-comp-ripple-radius-in"&&Qe(this).data("filled",!0)})}endPress(){const e=Qe(this.surfaceRef.value).children().filter((r,i)=>!Qe(i).data("removing")).data("removing",!0),n=r=>{r.addClass("out").each((i,s)=>s.clientLeft).on("animationend",function(){Qe(this).remove()})};e.filter((r,i)=>!Qe(i).data("filled")).on("animationend",function(r){r.animationName==="mdui-comp-ripple-radius-in"&&n(Qe(this))}),n(e.filter((r,i)=>!!Qe(i).data("filled")))}startHover(){this.hover=!0}endHover(){this.hover=!1}startFocus(){this.focused=!0}endFocus(){this.focused=!1}startDrag(){this.dragged=!0}endDrag(){this.dragged=!1}render(){return _e`<div ${Yn(this.surfaceRef)} class="surface ${No({hover:this.hover,focused:this.focused,dragged:this.dragged})}"></div>`}};Wh.styles=[ci,KXe];q([ce({type:Boolean,reflect:!0,converter:St,attribute:"no-ripple"})],Wh.prototype,"noRipple",void 0);q([Wn()],Wh.prototype,"hover",void 0);q([Wn()],Wh.prototype,"focused",void 0);q([Wn()],Wh.prototype,"dragged",void 0);Wh=q([Rn("mdui-ripple")],Wh);const gf=t=>{class e extends t{constructor(){super(...arguments),this.noRipple=!1,this.rippleIndex=void 0,this.getRippleIndex=()=>this.rippleIndex}get rippleElement(){throw new Error("Must implement rippleElement getter!")}get rippleDisabled(){throw new Error("Must implement rippleDisabled getter!")}get rippleTarget(){return this}firstUpdated(r){super.firstUpdated(r);const i=Qe(this.rippleTarget),s=a=>{am(this.rippleTarget)&&(this.rippleIndex=i.index(a.target))};(am(this.rippleTarget)?this.rippleTarget:[this.rippleTarget]).forEach(a=>{a.addEventListener("pointerdown",l=>{s(l),this.startPress(l)}),a.addEventListener("pointerenter",l=>{s(l),this.startHover(l)}),a.addEventListener("pointerleave",l=>{s(l),this.endHover(l)}),a.addEventListener("focus",l=>{s(l),this.startFocus()}),a.addEventListener("blur",l=>{s(l),this.endFocus()})})}startHover(r){r.pointerType!=="mouse"||this.isRippleDisabled()||(this.getRippleTarget().setAttribute("hover",""),this.getRippleElement().startHover())}endHover(r){r.pointerType!=="mouse"||this.isRippleDisabled()||(this.getRippleTarget().removeAttribute("hover"),this.getRippleElement().endHover())}isRippleDisabled(){const r=this.rippleDisabled;if(!Array.isArray(r))return r;const i=this.getRippleIndex();return i!==void 0?r[i]:r.length?r[0]:!1}getRippleElement(){const r=this.rippleElement;if(!am(r))return r;const i=this.getRippleIndex();return i!==void 0?r[i]:r[0]}getRippleTarget(){const r=this.rippleTarget;if(!am(r))return r;const i=this.getRippleIndex();return i!==void 0?r[i]:r[0]}startFocus(){this.isRippleDisabled()||this.getRippleElement().startFocus()}endFocus(){this.isRippleDisabled()||this.getRippleElement().endFocus()}startPress(r){if(this.isRippleDisabled()||r.button)return;const i=this.getRippleTarget();if(i.setAttribute("pressed",""),["touch","pen"].includes(r.pointerType)){let s=!1,o=setTimeout(()=>{o=0,this.getRippleElement().startPress(r)},70);const a=()=>{o&&(clearTimeout(o),o=0,this.getRippleElement().startPress(r)),s||(s=!0,this.endPress()),i.removeEventListener("pointerup",a),i.removeEventListener("pointercancel",a)},l=()=>{o&&(clearTimeout(o),o=0),i.removeEventListener("touchmove",l)};i.addEventListener("touchmove",l),i.addEventListener("pointerup",a),i.addEventListener("pointercancel",a)}if(r.pointerType==="mouse"&&r.button===0){const s=()=>{this.endPress(),i.removeEventListener("pointerup",s),i.removeEventListener("pointercancel",s),i.removeEventListener("pointerleave",s)};this.getRippleElement().startPress(r),i.addEventListener("pointerup",s),i.addEventListener("pointercancel",s),i.addEventListener("pointerleave",s)}}endPress(){this.isRippleDisabled()||(this.getRippleTarget().removeAttribute("pressed"),this.getRippleElement().endPress())}startDrag(){this.isRippleDisabled()||this.getRippleElement().startDrag()}endDrag(){this.isRippleDisabled()||this.getRippleElement().endDrag()}}return q([ce({type:Boolean,reflect:!0,converter:St,attribute:"no-ripple"})],e.prototype,"noRipple",void 0),e},JXe=ur`:host{position:relative;display:inline-flex;cursor:pointer;-webkit-tap-highlight-color:transparent;border-radius:.125rem;font-size:var(--mdui-typescale-label-large-size);font-weight:var(--mdui-typescale-label-large-weight);letter-spacing:var(--mdui-typescale-label-large-tracking);line-height:var(--mdui-typescale-label-large-line-height)}label{display:inline-flex;align-items:center;width:100%;cursor:inherit;-webkit-user-select:none;user-select:none;touch-action:manipulation;zoom:1;-webkit-user-drag:none}input{position:absolute;padding:0;opacity:0;pointer-events:none;width:1.125rem;height:1.125rem;margin:0 0 0 .6875rem}.icon{display:flex;position:absolute;opacity:1;transform:scale(1);color:rgb(var(--mdui-color-on-surface));font-size:1.5rem;transition:color var(--mdui-motion-duration-short4) var(--mdui-motion-easing-standard)}.checked-icon,.indeterminate-icon{opacity:0;transform:scale(.5);transition-property:color,opacity,transform;transition-duration:var(--mdui-motion-duration-short4);transition-timing-function:var(--mdui-motion-easing-standard)}.icon .i,::slotted([slot=checked-icon]),::slotted([slot=indeterminate-icon]),::slotted([slot=unchecked-icon]){color:inherit;font-size:inherit}i{position:relative;display:flex;align-items:center;justify-content:center;flex-shrink:0;overflow:hidden;border-radius:50%;width:2.5rem;height:2.5rem;--mdui-comp-ripple-state-layer-color:var(--mdui-color-on-surface)}.label{display:flex;width:100%;padding-top:.625rem;padding-bottom:.625rem;color:rgb(var(--mdui-color-on-surface));transition:color var(--mdui-motion-duration-short4) var(--mdui-motion-easing-standard)}:host([checked]:not([checked=false i])) i{--mdui-comp-ripple-state-layer-color:var(--mdui-color-primary)}:host([checked]:not([checked=false i])) .icon{color:rgb(var(--mdui-color-primary))}:host([checked]:not([checked=false i])) .indeterminate-icon{opacity:0;transform:scale(.5)}:host([checked]:not([checked=false i])) .checked-icon{opacity:1;transform:scale(1)}:host([indeterminate]:not([indeterminate=false i])) i{--mdui-comp-ripple-state-layer-color:var(--mdui-color-primary)}:host([indeterminate]:not([indeterminate=false i])) .icon{color:rgb(var(--mdui-color-primary))}:host([indeterminate]:not([indeterminate=false i])) .checked-icon{opacity:0;transform:scale(.5)}:host([indeterminate]:not([indeterminate=false i])) .indeterminate-icon{opacity:1;transform:scale(1)}.invalid i{--mdui-comp-ripple-state-layer-color:var(--mdui-color-error)}.invalid .icon{color:rgb(var(--mdui-color-error))}.invalid .label{color:rgb(var(--mdui-color-error))}:host([disabled]:not([disabled=false i])){cursor:default;pointer-events:none}:host([disabled]:not([disabled=false i])) .icon{color:rgba(var(--mdui-color-on-surface),38%)}:host([disabled]:not([disabled=false i])) .label{color:rgba(var(--mdui-color-on-surface),38%)}:host([disabled][checked]:not([disabled=false i],[checked=false i])) .unchecked-icon,:host([disabled][indeterminate]:not([disabled=false i],[indeterminate=false i])) .unchecked-icon{opacity:0}`;let rs=class extends gf(Su(li)){constructor(){super(...arguments),this.disabled=!1,this.checked=!1,this.defaultChecked=!1,this.indeterminate=!1,this.required=!1,this.name="",this.value="on",this.invalid=!1,this.inputRef=Er(),this.rippleRef=Er(),this.formController=new mf(this,{value:e=>e.checked?e.value:void 0,defaultValue:e=>e.defaultChecked,setValue:(e,n)=>e.checked=n})}get validity(){return this.inputRef.value.validity}get validationMessage(){return this.inputRef.value.validationMessage}get rippleElement(){return this.rippleRef.value}get rippleDisabled(){return this.disabled}get focusElement(){return this.inputRef.value}get focusDisabled(){return this.disabled}async onDisabledChange(){await this.updateComplete,this.invalid=!this.inputRef.value.checkValidity()}async onCheckedChange(){await this.updateComplete;const e=this.formController.getForm();e&&zs.get(e)?.has(this)?(this.invalid=!1,zs.get(e).delete(this)):this.invalid=!this.inputRef.value.checkValidity()}checkValidity(){const e=this.inputRef.value.checkValidity();return e||this.emit("invalid",{bubbles:!1,cancelable:!0,composed:!1}),e}reportValidity(){return this.invalid=!this.inputRef.value.reportValidity(),this.invalid&&(this.emit("invalid",{bubbles:!1,cancelable:!0,composed:!1})||(this.blur(),this.focus())),!this.invalid}setCustomValidity(e){this.inputRef.value.setCustomValidity(e),this.invalid=!this.inputRef.value.checkValidity()}render(){return _e`<label class="${No({invalid:this.invalid})}"><input ${Yn(this.inputRef)} type="checkbox" name="${cn(this.name)}" value="${cn(this.value)}" .indeterminate="${vv(this.indeterminate)}" .disabled="${this.disabled}" .checked="${vv(this.checked)}" .required="${this.required}" @change="${this.onChange}"> <i part="control"><mdui-ripple ${Yn(this.rippleRef)} .noRipple="${this.noRipple}"></mdui-ripple><slot name="unchecked-icon" part="unchecked-icon" class="icon unchecked-icon">${this.uncheckedIcon?_e`<mdui-icon name="${this.uncheckedIcon}" class="i"></mdui-icon>`:_e`<mdui-icon-check-box-outline-blank class="i"></mdui-icon-check-box-outline-blank>`}</slot><slot name="checked-icon" part="checked-icon" class="icon checked-icon">${this.checkedIcon?_e`<mdui-icon name="${this.checkedIcon}" class="i"></mdui-icon>`:_e`<mdui-icon-check-box class="i"></mdui-icon-check-box>`}</slot><slot name="indeterminate-icon" part="indeterminate-icon" class="icon indeterminate-icon">${this.indeterminateIcon?_e`<mdui-icon name="${this.indeterminateIcon}" class="i"></mdui-icon>`:_e`<mdui-icon-indeterminate-check-box class="i"></mdui-icon-indeterminate-check-box>`}</slot></i><slot part="label" class="label"></slot></label>`}onChange(){this.checked=this.inputRef.value.checked,this.indeterminate=!1,this.emit("change")}};rs.styles=[ci,JXe];q([ce({type:Boolean,reflect:!0,converter:St})],rs.prototype,"disabled",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],rs.prototype,"checked",void 0);q([zg("checked")],rs.prototype,"defaultChecked",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],rs.prototype,"indeterminate",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],rs.prototype,"required",void 0);q([ce({reflect:!0})],rs.prototype,"form",void 0);q([ce({reflect:!0})],rs.prototype,"name",void 0);q([ce({reflect:!0})],rs.prototype,"value",void 0);q([ce({reflect:!0,attribute:"unchecked-icon"})],rs.prototype,"uncheckedIcon",void 0);q([ce({reflect:!0,attribute:"checked-icon"})],rs.prototype,"checkedIcon",void 0);q([ce({reflect:!0,attribute:"indeterminate-icon"})],rs.prototype,"indeterminateIcon",void 0);q([Wn()],rs.prototype,"invalid",void 0);q([mn("disabled",!0),mn("indeterminate",!0),mn("required",!0)],rs.prototype,"onDisabledChange",null);q([mn("checked",!0)],rs.prototype,"onCheckedChange",null);rs=q([Rn("mdui-checkbox")],rs);var eYe=I("<mdui-checkbox>",!0,!1,!1);function pr(t){return(()=>{var e=eYe();return Se(e,t,!1,!1),e._$owner=Gr(),e})()}var tYe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z">');const nYe=(t={})=>(()=>{var e=tYe();return Se(e,t,!0,!0),e})();var rYe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M18.41 16.59 13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z">');const iYe=(t={})=>(()=>{var e=rYe();return Se(e,t,!0,!0),e})();var sYe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M5.59 7.41 10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z">');const oYe=(t={})=>(()=>{var e=sYe();return Se(e,t,!0,!0),e})();var TI=I("<tr>"),aYe=I("<tbody>");function Hr(t){const[e,n]=ve(0),[r,i]=ve(0);dt(Zt(()=>t.itemCount,o=>i(a=>a||(o?12:0))));const s=()=>t.itemCount?Math.max(0,Math.floor(t.itemCount/r()-1)):0;return u(lYe,{get children(){return u(cYe,{get children(){return[u(dYe,{get children(){return[u(X,{get when(){return t.header},get children(){var o=TI();return V(o,u(uYe,{get colspan(){return t.columns.length},get children(){return t.header}})),o}}),(()=>{var o=TI();return V(o,u(rt,{get each(){return t.columns},children:a=>u(x5,{children:a})})),o})()]}}),(()=>{var o=aYe();return V(o,()=>t.children(e(),r()),null),V(o,u(X,{get when(){return t.itemCount},get children(){return u(XY,{get children(){return u(x5,{get colspan(){return t.columns.length},get children(){return u(hYe,{get children(){return[u(k,ge(()=>({id:"cY7gFi",values:{0:e()*r()+1,1:Math.min(t.itemCount,e()*r()+r()),2:t.itemCount}}))),u(kt,{get children(){return[u(ot,{shape:"round",get isDisabled(){return e()===0},onPress:()=>n(0),get children(){return u(iYe,{})}}),u(ot,{shape:"round",get isDisabled(){return e()===0},onPress:()=>n(a=>a-1),get children(){return u(nYe,{})}}),u(ot,{shape:"round",get isDisabled(){return e()===s()},onPress:()=>n(a=>a+1),get children(){return u(KO,{})}}),u(ot,{shape:"round",get isDisabled(){return e()===s()},onPress:()=>n(s()),get children(){return u(oYe,{})}})]}})]}})}})}})}}),null),o})()]}})}})}const lYe=H("div",{base:{width:"100%",overflowX:"auto",borderRadius:"var(--borderRadius-md)",border:"1px solid var(--md-sys-color-outline-variant)"}}),cYe=H("table",{base:{width:"100%"}}),uYe=H("td",{base:{padding:"var(--gap-lg)"}}),dYe=H("thead",{base:{color:"var(--md-sys-color-on-surface-variant)"}}),XY=H("tr",{base:{borderBlock:"1px solid var(--md-sys-color-outline-variant)"}}),x5=H("td",{base:{padding:"var(--gap-lg)"}}),hYe=H("div",{base:{display:"flex",alignItems:"center",gap:"32px",justifyContent:"end"}});Hr.Row=XY;Hr.Cell=x5;function Bt(t){return u(uu,{get mount(){return document.getElementById("floating")},get children(){return u(Bt.Scrim,{get show(){return t.show},get onClick(){return t.onClose},get style(){return{"--background":t.scrimBackground?`url('${t.scrimBackground}'), rgba(0, 0, 0, 0.6)`:"rgba(0, 0, 0, 0.6)"}},get children(){return u(bu,{get children(){return u(X,{get when(){return t.show},get children(){return u(gc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,easing:[.05,.7,.1,1]},get children(){return u(fYe,{get style(){return{"min-width":t.minWidth?`${t.minWidth}px`:void 0,padding:t.padding?`${t.padding}px`:void 0}},onClick:e=>e.stopPropagation(),get children(){return[u(X,{get when(){return t.icon},get children(){return u(mYe,{get children(){return t.icon}})}}),u(X,{get when(){return t.title},get children(){return u(gYe,{get withIcon(){return typeof t.icon<"u"},get children(){return t.title}})}}),u(pYe,{get class(){return An()},get children(){return t.children}}),u(X,{get when(){return t.actions},get children(){return u(vYe,{get children(){return u(rt,{get each(){return t.actions},children:e=>u(ot,{variant:"text",size:"small",onPress:()=>{if(e.isDisabled)return;const n=e.onClick?.();n instanceof Promise?n.then(t.onClose).catch(()=>{}):n!==!1&&t.onClose()},get isDisabled(){return e.isDisabled||t.isDisabled},get children(){return e.text}})})}})}})]}})}})}})}})}})}})}Bt.Scrim=H("div",{base:{top:0,left:0,right:0,bottom:0,position:"fixed",zIndex:"100",maxHeight:"100%",display:"grid",userSelect:"none",placeItems:"center",pointerEvents:"all",animationName:"scrimFadeIn",animationDuration:"0.1s",animationFillMode:"forwards",transition:"var(--transitions-medium) all"},variants:{show:{false:{animationName:"unset",pointerEvents:"none",background:"transparent"}},padding:{true:{padding:"80px"}},overflow:{true:{overflowY:"auto"}},dark:{true:{"--background":"rgba(0, 0, 0, 0.9)"},false:{"--background":"rgba(0, 0, 0, 0.6)"}}},defaultVariants:{show:!0,padding:!0,overflow:!0,dark:!1}});const fYe=H("div",{base:{padding:"24px",minWidth:"280px",maxWidth:"560px",borderRadius:"28px",display:"flex",flexDirection:"column",color:"var(--md-sys-color-on-surface)",background:"var(--md-sys-color-surface-container-high)"}}),mYe=H("div",{base:{alignSelf:"center",marginBottom:"16px",fill:"var(--md-sys-color-on-surface)"}}),gYe=H("span",{base:{...An.raw({class:"headline",size:"small"}),marginBlockEnd:"16px"},variants:{withIcon:{true:{textAlign:"center"}}},defaultVariants:{withIcon:!1}}),pYe=H("div",{base:{color:"var(--md-sys-color-on-surface-variant)"}}),vYe=H("div",{base:{gap:"8px",display:"flex",justifyContent:"end",marginBlockStart:"24px"}});var bYe=I("<button>");function On(t){const[e,n]=sn(t,["aria-selected","tabIndex","role"]),[r,i]=sn(n,["size","shape","width","variant","_compositionSendMessage"]);let s;const{buttonProps:o}=kY(i,()=>s);return(()=>{var a=bYe();Fe(Xt,a,()=>i["use:floating"]);var l=s;return typeof l=="function"?Fe(l,a):s=a,Se(a,ge(e,o,{get class(){return yYe({...r,disabled:o.disabled})}}),!1,!0),V(a,u(X,{get when(){return!o.disabled},get children(){return u(En,{})}}),null),V(a,()=>i.children,null),a})()}const yYe=nn({base:{...An.raw(),position:"relative",aspectRatio:"1/1",flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:500,fontFamily:"inherit",cursor:"pointer",border:"none",transition:"var(--transitions-fast) all",color:"var(--colour)",fill:"var(--colour)"},variants:{variant:{filled:{background:"var(--md-sys-color-primary)","--colour":"var(--md-sys-color-on-primary)"},tonal:{background:"var(--md-sys-color-secondary-container)","--colour":"var(--md-sys-color-on-secondary-container)"},outlined:{border:"1px solid var(--md-sys-color-outline-variant)","--colour":"var(--md-sys-color-on-surface-variant)"},standard:{"--colour":"var(--md-sys-color-on-surface-variant)"},_header:{"--colour":"white"}},size:{xs:{height:"32px"},sm:{height:"40px"},md:{height:"56px"},lg:{height:"96px"},xl:{height:"136px"}},shape:{round:{borderRadius:"var(--borderRadius-full)"},square:{}},width:{narrow:{},default:{},wide:{}},disabled:{true:{cursor:"not-allowed"},false:{}},_compositionSendMessage:{true:{width:"48px",aspectRatio:"unset",height:"100% !important",borderEndRadius:"var(--borderRadius-xl)"}}},defaultVariants:{variant:"standard",width:"default",shape:"round",size:"sm",disabled:!1,_compositionSendMessage:!1},compoundVariants:[{variant:["filled","tonal","outlined"],disabled:!0,css:{"--color":"color-mix(in srgb, 38% var(--md-sys-color-on-surface), transparent)",background:"color-mix(in srgb, 10% var(--md-sys-color-on-surface), transparent)"}},{variant:"standard",disabled:!0,css:{"--color":"color-mix(in srgb, 38% var(--md-sys-color-on-surface), transparent)",background:"color-mix(in srgb, 10% var(--md-sys-color-on-surface), transparent)"}},{size:["xs","sm"],width:"narrow",css:{paddingInline:"4px"}},{size:"xs",width:"default",css:{paddingInline:"6px"}},{size:"xs",width:"wide",css:{paddingInline:"10px"}},{size:"sm",width:"default",css:{paddingInline:"8px"}},{size:"sm",width:"wide",css:{paddingInline:"14px"}},{size:"md",width:"narrow",css:{paddingInline:"12px"}},{size:"md",width:"default",css:{paddingInline:"16px"}},{size:"md",width:"wide",css:{paddingInline:"24px"}},{size:"lg",width:"narrow",css:{paddingInline:"16px"}},{size:"lg",width:"default",css:{paddingInline:"32px"}},{size:"lg",width:"wide",css:{paddingInline:"48px"}},{size:"xl",width:"narrow",css:{paddingInline:"32px"}},{size:"xl",width:"default",css:{paddingInline:"48px"}},{size:"xl",width:"wide",css:{paddingInline:"72px"}},{size:["xs","sm"],shape:"square",css:{borderRadius:"var(--borderRadius-md)"}},{size:"md",shape:"square",css:{borderRadius:"var(--borderRadius-lg)"}},{size:["lg","xl"],shape:"square",css:{borderRadius:"var(--borderRadius-xl)"}}]});function pf(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=pf(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}const Iw=t=>{class e extends t{renderAnchor({id:r,className:i,part:s,content:o=_e`<slot></slot>`,refDirective:a,tabIndex:l}){return _e`<a ${a} id="${cn(r)}" class="_a ${i||""}" part="${cn(s)}" href="${cn(this.href)}" download="${cn(this.download)}" target="${cn(this.target)}" rel="${cn(this.rel)}" tabindex="${cn(l)}">${o}</a>`}}return q([ce({reflect:!0})],e.prototype,"href",void 0),q([ce({reflect:!0})],e.prototype,"download",void 0),q([ce({reflect:!0})],e.prototype,"target",void 0),q([ce({reflect:!0})],e.prototype,"rel",void 0),e},OYe=ur`:host{--shape-corner:var(--mdui-shape-corner-none);--shape-corner-rounded:var(--mdui-shape-corner-extra-large);position:relative;display:block;border-radius:var(--shape-corner);--mdui-comp-ripple-state-layer-color:var(--mdui-color-on-surface)}:host([rounded]:not([rounded=false i])),:host([rounded]:not([rounded=false i])) mdui-ripple{border-radius:var(--shape-corner-rounded)}:host([active]:not([active=false i])){background-color:rgb(var(--mdui-color-secondary-container));--mdui-comp-ripple-state-layer-color:var(
      --mdui-color-on-secondary-container
    )}:host([disabled]:not([disabled=false i])){pointer-events:none}.container{cursor:pointer;-webkit-user-select:none;user-select:none;text-decoration:none;color:inherit;-webkit-tap-highlight-color:transparent}:host([disabled]:not([disabled=false i])) .container{cursor:default;opacity:.38}:host([nonclickable]:not([href],[nonclickable=false i])) .container{cursor:auto;-webkit-user-select:auto;user-select:auto}.preset{display:flex;align-items:center;padding:.5rem 1.5rem .5rem 1rem;min-height:3.5rem}:host([alignment=start]) .preset{align-items:flex-start}:host([alignment=end]) .preset{align-items:flex-end}.body{display:flex;flex:1 1 100%;flex-direction:column;justify-content:center;min-width:0}.headline{display:block;color:rgb(var(--mdui-color-on-surface));font-size:var(--mdui-typescale-body-large-size);font-weight:var(--mdui-typescale-body-large-weight);letter-spacing:var(--mdui-typescale-body-large-tracking);line-height:var(--mdui-typescale-body-large-line-height)}:host([active]:not([active=false i])) .headline{color:rgb(var(--mdui-color-on-secondary-container))}.description{display:none;color:rgb(var(--mdui-color-on-surface-variant));font-size:var(--mdui-typescale-body-medium-size);font-weight:var(--mdui-typescale-body-medium-weight);letter-spacing:var(--mdui-typescale-body-medium-tracking);line-height:var(--mdui-typescale-body-medium-line-height)}:host([disabled]:not([disabled=false i])) .description,:host([focused]) .description,:host([hover]) .description,:host([pressed]) .description{color:rgb(var(--mdui-color-on-surface))}.has-description .description{display:block}:host([description-line='1']) .description,:host([headline-line='1']) .headline{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}:host([description-line='2']) .description,:host([description-line='3']) .description,:host([headline-line='2']) .headline,:host([headline-line='3']) .headline{display:-webkit-box;overflow:hidden;text-overflow:ellipsis;-webkit-box-orient:vertical}:host([description-line='2']) .description,:host([headline-line='2']) .headline{-webkit-line-clamp:2}:host([description-line='3']) .description,:host([headline-line='3']) .headline{-webkit-line-clamp:3}.end-icon,.icon{display:flex;flex:0 0 auto;font-size:var(--mdui-typescale-label-small-size);font-weight:var(--mdui-typescale-label-small-weight);letter-spacing:var(--mdui-typescale-label-small-tracking);line-height:var(--mdui-typescale-label-small-line-height);color:rgb(var(--mdui-color-on-surface-variant))}:host([disabled]:not([disabled=false i])) .end-icon,:host([disabled]:not([disabled=false i])) .icon,:host([focused]) .end-icon,:host([focused]) .icon,:host([hover]) .end-icon,:host([hover]) .icon,:host([pressed]) .end-icon,:host([pressed]) .icon{color:rgb(var(--mdui-color-on-surface))}:host([active]:not([active=false i])) .end-icon,:host([active]:not([active=false i])) .icon{color:rgb(var(--mdui-color-on-secondary-container))}.end-icon mdui-icon,.icon mdui-icon,.is-end-icon ::slotted([slot=end-icon]),.is-icon ::slotted([slot=icon]){font-size:1.5rem}.has-icon .icon{margin-right:1rem}.has-icon ::slotted(mdui-checkbox[slot=icon]),.has-icon ::slotted(mdui-radio[slot=icon]){margin-left:-.5rem}.has-end-icon .end-icon{margin-left:1rem}.has-end-icon ::slotted(mdui-checkbox[slot=end-icon]),.has-end-icon ::slotted(mdui-radio[slot=end-icon]){margin-right:-.5rem}`;let ps=class extends Iw(gf(Su(li))){constructor(){super(...arguments),this.disabled=!1,this.active=!1,this.nonclickable=!1,this.rounded=!1,this.alignment="center",this.rippleRef=Er(),this.itemRef=Er(),this.hasSlotController=new vc(this,"[default]","description","icon","end-icon","custom")}get rippleElement(){return this.rippleRef.value}get rippleDisabled(){return this.focusDisabled}get focusElement(){return this.href&&!this.disabled?this.itemRef.value:this}get focusDisabled(){return this.href?this.disabled:this.disabled||this.nonclickable}render(){const e=!this.hasSlotController.test("custom"),n=this.icon||this.hasSlotController.test("icon"),r=this.endIcon||this.hasSlotController.test("end-icon"),i=this.description||this.hasSlotController.test("description"),s=pf({container:!0,preset:e,"has-icon":n,"has-end-icon":r,"has-description":i,"is-icon":vT(this.iconElements[0],"mdui-icon"),"is-end-icon":mXe(this.endIconElements[0]).startsWith("mdui-icon-")});return _e`<mdui-ripple ${Yn(this.rippleRef)} .noRipple="${this.noRipple}"></mdui-ripple>${this.href&&!this.disabled?this.renderAnchor({className:s,content:this.renderInner(),part:"container",refDirective:Yn(this.itemRef)}):_e`<div part="container" class="${s}" ${Yn(this.itemRef)}>${this.renderInner()}</div>`}`}renderInner(){const e=this.hasSlotController.test("[default]");return _e`<slot name="custom"><slot name="icon" part="icon" class="icon">${this.icon?_e`<mdui-icon name="${this.icon}"></mdui-icon>`:yi}</slot><div part="body" class="body">${e?_e`<slot part="headline" class="headline"></slot>`:_e`<div part="headline" class="headline">${this.headline}</div>`}<slot name="description" part="description" class="description">${this.description}</slot></div><slot name="end-icon" part="end-icon" class="end-icon">${this.endIcon?_e`<mdui-icon name="${this.endIcon}"></mdui-icon>`:yi}</slot></slot>`}};ps.styles=[ci,OYe];q([ce({reflect:!0})],ps.prototype,"headline",void 0);q([ce({type:Number,reflect:!0,attribute:"headline-line"})],ps.prototype,"headlineLine",void 0);q([ce({reflect:!0})],ps.prototype,"description",void 0);q([ce({type:Number,reflect:!0,attribute:"description-line"})],ps.prototype,"descriptionLine",void 0);q([ce({reflect:!0})],ps.prototype,"icon",void 0);q([ce({reflect:!0,attribute:"end-icon"})],ps.prototype,"endIcon",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],ps.prototype,"disabled",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],ps.prototype,"active",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],ps.prototype,"nonclickable",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],ps.prototype,"rounded",void 0);q([ce({reflect:!0})],ps.prototype,"alignment",void 0);q([hf({slot:"icon",flatten:!0})],ps.prototype,"iconElements",void 0);q([hf({slot:"end-icon",flatten:!0})],ps.prototype,"endIconElements",void 0);ps=q([Rn("mdui-list-item")],ps);const wYe=ur`:host{display:block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;cursor:default;color:rgb(var(--mdui-color-on-surface-variant));font-size:var(--mdui-typescale-label-small-size);font-weight:var(--mdui-typescale-label-small-weight);letter-spacing:var(--mdui-typescale-label-small-tracking);line-height:var(--mdui-typescale-label-small-line-height);padding-left:1rem;padding-right:1.5rem;height:3.5rem;line-height:3.5rem}`;let _5=class extends li{render(){return _e`<slot></slot>`}};_5.styles=[ci,wYe];_5=q([Rn("mdui-list-subheader")],_5);const kYe=ur`:host{display:block;padding:.5rem 0}::slotted(mdui-divider[middle]){margin-left:1rem;margin-right:1.5rem}`;let C5=class extends li{render(){return _e`<slot></slot>`}};C5.styles=[ci,kYe];C5=q([Rn("mdui-list")],C5);var SYe=I("<mdui-list>",!0,!1,!1),xYe=I("<mdui-list-subheader>",!0,!1,!1),_Ye=I("<mdui-list-item>",!0,!1,!1);function pl(t){return(()=>{var e=SYe();return e._$owner=Gr(),V(e,()=>t.children),e})()}function CYe(t){return(()=>{var e=xYe();return e._$owner=Gr(),V(e,()=>t.children),Te(()=>ut(e,EYe())),e})()}pl.Subheader=CYe;const EYe=nn({base:{paddingInline:"var(--gap-lg)"}});function TYe(t){return(()=>{var e=_Ye();return Se(e,ge({get class(){return DYe()}},t),!1,!1),e._$owner=Gr(),e})()}pl.Item=TYe;const DYe=nn({base:{minHeight:0}}),AYe=ur`:host{position:relative;display:inline-block;flex-shrink:0;width:2.5rem;height:2.5rem;stroke:rgb(var(--mdui-color-primary))}.progress{position:relative;display:inline-block;width:100%;height:100%;text-align:left;transition:opacity var(--mdui-motion-duration-medium1) var(--mdui-motion-easing-linear)}.determinate svg{transform:rotate(-90deg);fill:transparent}.determinate .track{stroke:transparent}.determinate .circle{stroke:inherit;transition:stroke-dashoffset var(--mdui-motion-duration-long2) var(--mdui-motion-easing-standard)}.indeterminate{font-size:0;letter-spacing:0;white-space:nowrap;animation:mdui-comp-circular-progress-rotate 1568ms var(--mdui-motion-easing-linear) infinite}.indeterminate .circle,.indeterminate .layer{position:absolute;width:100%;height:100%}.indeterminate .layer{animation:mdui-comp-circular-progress-layer-rotate 5332ms var(--mdui-motion-easing-standard) infinite both}.indeterminate .circle{fill:transparent;stroke:inherit}.indeterminate .gap-patch{position:absolute;top:0;left:47.5%;width:5%;height:100%;overflow:hidden}.indeterminate .gap-patch .circle{left:-900%;width:2000%;transform:rotate(180deg)}.indeterminate .clipper{position:relative;display:inline-block;width:50%;height:100%;overflow:hidden}.indeterminate .clipper .circle{width:200%}.indeterminate .clipper.left .circle{animation:mdui-comp-circular-progress-left-spin 1333ms var(--mdui-motion-easing-standard) infinite both}.indeterminate .clipper.right .circle{left:-100%;animation:mdui-comp-circular-progress-right-spin 1333ms var(--mdui-motion-easing-standard) infinite both}@keyframes mdui-comp-circular-progress-rotate{to{transform:rotate(360deg)}}@keyframes mdui-comp-circular-progress-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdui-comp-circular-progress-left-spin{0%{transform:rotate(265deg)}50%{transform:rotate(130deg)}100%{transform:rotate(265deg)}}@keyframes mdui-comp-circular-progress-right-spin{0%{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}100%{transform:rotate(-265deg)}}`;let yv=class extends li{constructor(){super(...arguments),this.max=1}render(){const e=!Vo(this.value);return _e`<div class="progress ${No({determinate:e,indeterminate:!e})}">${e?this.renderDeterminate():this.renderInDeterminate()}</div>`}renderDeterminate(){const e=this.value,n=4,r=18,i=3.1415926,s=r+n/2,o=2*i*r,a=(1-e/Math.max(this.max??e,e))*o;return _e`<svg viewBox="0 0 ${s*2} ${s*2}"><circle class="track" cx="${s}" cy="${s}" r="${r}" stroke-width="${n}"></circle><circle class="circle" cx="${s}" cy="${s}" r="${r}" stroke-dasharray="${2*i*r}" stroke-dashoffset="${a}" stroke-width="${n}"></circle></svg>`}renderInDeterminate(){const r=3.1415926,i=18+4/2,s=2*r*18,o=.5*s,a=l=>_e`<svg class="circle" viewBox="0 0 ${i*2} ${i*2}"><circle cx="${i}" cy="${i}" r="${18}" stroke-dasharray="${s}" stroke-dashoffset="${o}" stroke-width="${l}"></circle></svg>`;return _e`<div class="layer"><div class="clipper left">${a(4)}</div><div class="gap-patch">${a(4*.8)}</div><div class="clipper right">${a(4)}</div></div>`}};yv.styles=[ci,AYe];q([ce({type:Number,reflect:!0})],yv.prototype,"max",void 0);q([ce({type:Number})],yv.prototype,"value",void 0);yv=q([Rn("mdui-circular-progress")],yv);var PYe=I("<mdui-circular-progress>",!0,!1,!1);function Zr(){return(()=>{var t=PYe();return t._$owner=Gr(),t})()}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function xa(t,e,n){return t?e(t):n?.(t)}Qe.contains=BY;function Ju(t,e,n){return t?new Promise(r=>{if(n.duration===1/0)throw new Error("Promise-based animations must be finite.");bT(n.duration)&&isNaN(n.duration)&&(n.duration=0),n.easing===""&&(n.easing="linear");const i=t.animate(e,n);i.addEventListener("cancel",r,{once:!0}),i.addEventListener("finish",r,{once:!0})}):Promise.resolve()}function K2(t){return t?Promise.all(t.getAnimations().map(e=>new Promise(n=>{const r=requestAnimationFrame(n);e.addEventListener("cancel",()=>r,{once:!0}),e.addEventListener("finish",()=>r,{once:!0}),e.cancel()}))):Promise.resolve()}const Am=(t,e)=>{const n=`--mdui-motion-easing-${e}`;return Qe(t).css(n).trim()},J2=(t,e)=>{const n=`--mdui-motion-duration-${e}`,r=Qe(t).css(n).trim().toLowerCase();return r.endsWith("ms")?parseFloat(r):parseFloat(r)*1e3};let RYe=0;const $w=()=>++RYe;let E5=class extends Bi{render(){return Ua('<path d="m10 17 5-5-5-5v10z"/>')}};E5.styles=Qa;E5=q([Rn("mdui-icon-arrow-right")],E5);let T5=class extends Bi{render(){return Ua('<path d="M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>')}};T5.styles=Qa;T5=q([Rn("mdui-icon-check")],T5);const MYe=ur`:host{position:relative;display:block}:host([selected]){background-color:rgba(var(--mdui-color-primary),12%)}:host([disabled]:not([disabled=false i])){pointer-events:none}.container{cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}:host([disabled]:not([disabled=false i])) .container{cursor:default;opacity:.38}.preset{display:flex;align-items:center;text-decoration:none;height:3rem;padding:0 .75rem}.preset.dense{height:2rem}.label-container{flex:1 1 100%;min-width:0}.label{display:block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;color:rgb(var(--mdui-color-on-surface));font-size:var(--mdui-typescale-label-large-size);font-weight:var(--mdui-typescale-label-large-weight);letter-spacing:var(--mdui-typescale-label-large-tracking)}.end-icon,.end-text,.icon,.selected-icon{display:none;flex:0 0 auto;color:rgb(var(--mdui-color-on-surface-variant))}.has-end-icon .end-icon,.has-end-text .end-text,.has-icon .icon,.has-icon .selected-icon{display:flex}.end-icon,.icon,.selected-icon{font-size:1.5rem}.end-icon::slotted(mdui-avatar),.icon::slotted(mdui-avatar),.selected-icon::slotted(mdui-avatar){width:1.5rem;height:1.5rem}.dense .end-icon,.dense .icon,.dense .selected-icon{font-size:1.125rem}.dense .end-icon::slotted(mdui-avatar),.dense .icon::slotted(mdui-avatar),.dense .selected-icon::slotted(mdui-avatar){width:1.125rem;height:1.125rem}.end-icon .i,.icon .i,.selected-icon .i,::slotted([slot=end-icon]),::slotted([slot=icon]),::slotted([slot=selected-icon]){font-size:inherit}.end-text{font-size:var(--mdui-typescale-label-large-size);font-weight:var(--mdui-typescale-label-large-weight);letter-spacing:var(--mdui-typescale-label-large-tracking);line-height:var(--mdui-typescale-label-large-line-height)}.icon,.selected-icon{margin-right:.75rem}.end-icon,.end-text{margin-left:.75rem}.arrow-right{color:rgb(var(--mdui-color-on-surface))}.submenu{--shape-corner:var(--mdui-shape-corner-extra-small);display:block;position:absolute;z-index:1;border-radius:var(--shape-corner);background-color:rgb(var(--mdui-color-surface-container));box-shadow:var(--mdui-elevation-level2);min-width:7rem;max-width:17.5rem;padding-top:.5rem;padding-bottom:.5rem;--mdui-comp-ripple-state-layer-color:var(--mdui-color-on-surface)}.submenu::slotted(mdui-divider){margin-top:.5rem;margin-bottom:.5rem}`;let Qi=class extends Iw(gf(Su(li))){constructor(){super(),this.disabled=!1,this.submenuOpen=!1,this.selected=!1,this.dense=!1,this.focusable=!1,this.key=$w(),this.rippleRef=Er(),this.containerRef=Er(),this.submenuRef=Er(),this.hasSlotController=new vc(this,"[default]","icon","end-icon","end-text","submenu","custom"),this.definedController=new ku(this,{relatedElements:[""]}),this.onOuterClick=this.onOuterClick.bind(this),this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this),this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this)}get focusDisabled(){return this.disabled||!this.focusable}get focusElement(){return this.href&&!this.disabled?this.containerRef.value:this}get rippleDisabled(){return this.disabled}get rippleElement(){return this.rippleRef.value}get hasSubmenu(){return this.hasSlotController.test("submenu")}async onOpenChange(){const e=this.hasUpdated;if(!this.submenuOpen&&!e)return;await this.definedController.whenDefined(),e||await this.updateComplete;const n=Am(this,"linear"),r=Am(this,"emphasized-decelerate"),i=Am(this,"emphasized-accelerate");if(this.submenuOpen){if(e&&!this.emit("submenu-open",{cancelable:!0}))return;const s=J2(this,"medium4");await K2(this.submenuRef.value),this.submenuRef.value.hidden=!1,this.updateSubmenuPositioner(),await Promise.all([Ju(this.submenuRef.value,[{transform:"scaleY(0.45)"},{transform:"scaleY(1)"}],{duration:e?s:0,easing:r}),Ju(this.submenuRef.value,[{opacity:0},{opacity:1,offset:.125},{opacity:1}],{duration:e?s:0,easing:n})]),e&&this.emit("submenu-opened")}else{if(!this.emit("submenu-close",{cancelable:!0}))return;const o=J2(this,"short4");await K2(this.submenuRef.value),await Promise.all([Ju(this.submenuRef.value,[{transform:"scaleY(1)"},{transform:"scaleY(0.45)"}],{duration:o,easing:i}),Ju(this.submenuRef.value,[{opacity:1},{opacity:1,offset:.875},{opacity:0}],{duration:o,easing:n})]),this.submenuRef.value&&(this.submenuRef.value.hidden=!0),this.emit("submenu-closed")}}connectedCallback(){super.connectedCallback(),this.definedController.whenDefined().then(()=>{document.addEventListener("pointerdown",this.onOuterClick)})}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("pointerdown",this.onOuterClick)}firstUpdated(e){super.firstUpdated(e),this.definedController.whenDefined().then(()=>{this.addEventListener("focus",this.onFocus),this.addEventListener("blur",this.onBlur),this.addEventListener("click",this.onClick),this.addEventListener("keydown",this.onKeydown),this.addEventListener("mouseenter",this.onMouseEnter),this.addEventListener("mouseleave",this.onMouseLeave)})}render(){const e=this.hasSubmenu,n=this.hasSlotController.test("custom"),r=this.hasSlotController.test("end-icon"),i=!this.endIcon&&e&&!r,s=this.endIcon||e||r,o=!Vo(this.icon)||this.selects==="single"||this.selects==="multiple"||this.hasSlotController.test("icon"),a=!!this.endText||this.hasSlotController.test("end-text"),l=pf({container:!0,dense:this.dense,preset:!n,"has-icon":o,"has-end-text":a,"has-end-icon":s});return _e`<mdui-ripple ${Yn(this.rippleRef)} .noRipple="${this.noRipple}"></mdui-ripple>${this.href&&!this.disabled?this.renderAnchor({part:"container",className:l,content:this.renderInner(i,o),refDirective:Yn(this.containerRef),tabIndex:this.focusable?0:-1}):_e`<div part="container" ${Yn(this.containerRef)} class="${l}">${this.renderInner(i,o)}</div>`} ${xa(e,()=>_e`<slot name="submenu" ${Yn(this.submenuRef)} part="submenu" class="submenu" hidden></slot>`)}`}onOuterClick(e){!this.disabled&&this.submenuOpen&&this!==e.target&&!Qe.contains(this,e.target)&&(this.submenuOpen=!1)}hasTrigger(e){return this.submenuTrigger?this.submenuTrigger.split(" ").includes(e):!1}onFocus(){this.disabled||this.submenuOpen||!this.hasTrigger("focus")||!this.hasSubmenu||(this.submenuOpen=!0)}onBlur(){this.disabled||!this.submenuOpen||!this.hasTrigger("focus")||!this.hasSubmenu||(this.submenuOpen=!1)}onClick(e){this.disabled||e.button||!this.hasTrigger("click")||e.target!==this||!this.hasSubmenu||this.submenuOpen&&(this.hasTrigger("hover")||this.hasTrigger("focus"))||(this.submenuOpen=!this.submenuOpen)}onKeydown(e){this.disabled||!this.hasSubmenu||(!this.submenuOpen&&e.key==="Enter"&&(e.stopPropagation(),this.submenuOpen=!0),this.submenuOpen&&e.key==="Escape"&&(e.stopPropagation(),this.submenuOpen=!1))}onMouseEnter(){this.disabled||!this.hasTrigger("hover")||!this.hasSubmenu||(window.clearTimeout(this.submenuCloseTimeout),this.submenuOpenDelay?this.submenuOpenTimeout=window.setTimeout(()=>{this.submenuOpen=!0},this.submenuOpenDelay):this.submenuOpen=!0)}onMouseLeave(){this.disabled||!this.hasTrigger("hover")||!this.hasSubmenu||(window.clearTimeout(this.submenuOpenTimeout),this.submenuCloseTimeout=window.setTimeout(()=>{this.submenuOpen=!1},this.submenuCloseDelay||50))}updateSubmenuPositioner(){const e=Qe(window),n=Qe(this.submenuRef.value),r=this.getBoundingClientRect(),i=n.innerWidth(),s=n.innerHeight(),o=8;let a="bottom",l="right";e.height()-r.top>s+o?a="bottom":r.top+r.height>s+o&&(a="top"),e.width()-r.left-r.width>i+o?l="right":r.left>i+o&&(l="left"),Qe(this.submenuRef.value).css({top:a==="bottom"?0:r.height-s,left:l==="right"?r.width:-i,transformOrigin:[l==="right"?0:"100%",a==="bottom"?0:"100%"].join(" ")})}renderInner(e,n){return _e`<slot name="custom">${this.selected?_e`<slot name="selected-icon" part="selected-icon" class="selected-icon">${this.selectedIcon?_e`<mdui-icon name="${this.selectedIcon}" class="i"></mdui-icon>`:_e`<mdui-icon-check class="i"></mdui-icon-check>`}</slot>`:_e`<slot name="icon" part="icon" class="icon">${n?_e`<mdui-icon name="${this.icon}" class="i"></mdui-icon>`:yi}</slot>`}<div class="label-container"><slot part="label" class="label"></slot></div><slot name="end-text" part="end-text" class="end-text">${this.endText}</slot>${e?_e`<mdui-icon-arrow-right part="end-icon" class="end-icon arrow-right"></mdui-icon-arrow-right>`:_e`<slot name="end-icon" part="end-icon" class="end-icon">${this.endIcon?_e`<mdui-icon name="${this.endIcon}"></mdui-icon>`:yi}</slot>`}</slot>`}};Qi.styles=[ci,MYe];q([ce({reflect:!0})],Qi.prototype,"value",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],Qi.prototype,"disabled",void 0);q([ce({reflect:!0})],Qi.prototype,"icon",void 0);q([ce({reflect:!0,attribute:"end-icon"})],Qi.prototype,"endIcon",void 0);q([ce({reflect:!0,attribute:"end-text"})],Qi.prototype,"endText",void 0);q([ce({reflect:!0,attribute:"selected-icon"})],Qi.prototype,"selectedIcon",void 0);q([ce({type:Boolean,reflect:!0,converter:St,attribute:"submenu-open"})],Qi.prototype,"submenuOpen",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],Qi.prototype,"selected",void 0);q([Wn()],Qi.prototype,"dense",void 0);q([Wn()],Qi.prototype,"selects",void 0);q([Wn()],Qi.prototype,"submenuTrigger",void 0);q([Wn()],Qi.prototype,"submenuOpenDelay",void 0);q([Wn()],Qi.prototype,"submenuCloseDelay",void 0);q([Wn()],Qi.prototype,"focusable",void 0);q([mn("submenuOpen")],Qi.prototype,"onOpenChange",null);Qi=q([Rn("mdui-menu-item")],Qi);var IYe=I("<mdui-menu-item>",!0,!1,!1);function Co(t){return(()=>{var e=IYe();return Se(e,t,!1,!1),e._$owner=Gr(),e})()}var $Ye=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z">');const _T=(t={})=>(()=>{var e=$Ye();return Se(e,t,!0,!0),e})();var LYe=I("<svg><circle cx=27 cy=5 r=5 fill=var(--md-sys-color-error)></svg>",!1,!0,!1),NYe=I("<svg><foreignObject x=22 y=0 width=10 height=10></svg>",!1,!0,!1),FYe=I("<svg><circle cx=27 cy=5 r=5 fill=var(--md-sys-color-on-surface)></svg>",!1,!0,!1),BYe=I('<svg viewBox="22 0 10 10">');const zYe=H("div",{base:{width:"10px",height:"10px",textAlign:"center",fontSize:"8px",fontWeight:600,color:"var(--md-sys-color-on-error)",fill:"var(--md-sys-color-on-error)"}});function YY(t){return u(Me,{get children(){return[u(Z,{get when(){return t.count>0},get children(){return[LYe(),(()=>{var e=NYe();return V(e,u(zYe,{get children(){return Ce(()=>t.count<10)()?t.count:u(_T,ge(()=>at(10)))}})),e})()]}}),u(Z,{get when(){return t.unread},get children(){return FYe()}})]}})}function v0(t){return(()=>{var e=BYe();return V(e,u(YY,t)),Te(()=>$t(e,"height",t.size)),e})()}v0.Graphic=YY;var QYe=I("<span class=hover-hide>"),UYe=I("<div>");function fh(t){const[e,n]=sn(t,["attention","size","icon","children","alert","actions"]);return(()=>{var r=UYe();return Fe(Xt,r,()=>n["use:floating"]),Se(r,ge(n,{get classList(){return{[VYe({attention:e.attention,size:e.size})]:!0}}}),!1,!0),V(r,u(En,{}),null),V(r,()=>e.icon,null),V(r,u(jYe,{get children(){return e.children}}),null),V(r,u(X,{get when(){return e.alert},get children(){var i=QYe();return V(i,u(v0,{get count(){return typeof e.alert=="number"?e.alert:0},get size(){return typeof e.alert=="number"?"0.85rem":"0.4rem"},unread:!0})),i}}),null),V(r,(()=>{var i=Ce(()=>!!e.actions);return()=>i()&&u(qYe,{class:"hover-show",onClick:s=>s.stopPropagation(),get children(){return e.actions}})})(),null),r})()}const VYe=nn({base:{flexShrink:0,fontWeight:500,fontSize:"15px",userSelect:"none",cursor:"pointer",position:"relative",display:"flex",alignItems:"center",margin:"0 var(--gap-md)",padding:"0 var(--gap-md)",borderRadius:"var(--borderRadius-xl)",color:"var(--color)",fill:"var(--color)","& > svg":{alignSelf:"center"},"&:hover .hover-hide, &:not(:hover) .hover-show":{display:"none"}},variants:{size:{normal:{height:"42px",gap:"var(--gap-md)"},thin:{height:"32px",gap:"var(--gap-sm)",alignItems:"center"}},attention:{normal:{"--color":"var(--md-sys-color-outline)",background:"transparent"},muted:{"--color":"var(--md-sys-color-outline-variant)",background:"transparent","& img":{opacity:"0.3"}},active:{"--color":"var(--md-sys-color-on-surface)",background:"transparent"},selected:{"--color":"var(--md-sys-color-on-primary-container)",background:"var(--md-sys-color-primary-container)"}}},defaultVariants:{size:"normal",attention:"normal"}}),jYe=H("div",{base:{flexGrow:1,minWidth:0}}),qYe=H("div",{base:{alignSelf:"center",display:"flex",alignItems:"center",flexDirection:"row",gap:"var(--gap-sm)"}});Qe.fn.closest=function(t){if(this.is(t))return this;const e=[];return this.parents().each((n,r)=>{if(Qe(r).is(t))return e.push(r),!1}),new cs(e)};const HYe=ur`:host{display:inline-block}fieldset{border:none;padding:0;margin:0;min-width:0}input{position:absolute;padding:0;opacity:0;pointer-events:none;width:1.25rem;height:1.25rem;margin:0 0 0 .625rem}`;let Ia=class extends li{constructor(){super(...arguments),this.disabled=!1,this.name="",this.value="",this.defaultValue="",this.required=!1,this.invalid=!1,this.isInitial=!0,this.inputRef=Er(),this.formController=new mf(this),this.definedController=new ku(this,{relatedElements:["mdui-radio"]})}get validity(){return this.inputRef.value.validity}get validationMessage(){return this.inputRef.value.validationMessage}get items(){return Qe(this).find("mdui-radio").get()}get itemsEnabled(){return Qe(this).find("mdui-radio:not([disabled])").get()}async onValueChange(){this.isInitial=!1,await this.definedController.whenDefined(),this.emit("input"),this.emit("change"),this.updateItems(),this.updateRadioFocusable(),await this.updateComplete;const e=this.formController.getForm();e&&zs.get(e)?.has(this)?(this.invalid=!1,zs.get(e).delete(this)):this.invalid=!this.inputRef.value.checkValidity()}async onInvalidChange(){await this.definedController.whenDefined(),this.updateItems()}checkValidity(){const e=this.inputRef.value.checkValidity();return e||this.emit("invalid",{bubbles:!1,cancelable:!0,composed:!1}),e}reportValidity(){return this.invalid=!this.inputRef.value.reportValidity(),this.invalid&&(this.emit("invalid",{bubbles:!1,cancelable:!0,composed:!1})||(this.inputRef.value.blur(),this.inputRef.value.focus())),!this.invalid}setCustomValidity(e){this.inputRef.value.setCustomValidity(e),this.invalid=!this.inputRef.value.checkValidity()}render(){return _e`<fieldset><input ${Yn(this.inputRef)} type="radio" class="input" name="${cn(this.name)}" value="${cn(this.value)}" .checked="${!!this.value}" .required="${this.required}" tabindex="-1" @keydown="${this.onKeyDown}"><slot @click="${this.onClick}" @keydown="${this.onKeyDown}" @slotchange="${this.onSlotChange}" @change="${this.onCheckedChange}"></slot></fieldset>`}updateRadioFocusable(){const e=this.items,n=e.find(r=>r.checked);n?e.forEach(r=>{r.focusable=r===n}):this.itemsEnabled.forEach((r,i)=>{r.focusable=!i})}async onClick(e){await this.definedController.whenDefined();const r=e.target.closest("mdui-radio");!r||r.disabled||(this.value=r.value,await this.updateComplete,r.focus())}async onKeyDown(e){if(!["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"," "].includes(e.key))return;e.preventDefault(),await this.definedController.whenDefined();const n=this.itemsEnabled,r=n.find(o=>o.checked)??n[0],i=e.key===" "?0:["ArrowUp","ArrowLeft"].includes(e.key)?-1:1;let s=n.indexOf(r)+i;s<0&&(s=n.length-1),s>n.length-1&&(s=0),this.value=n[s].value,await this.updateComplete,n[s].focus()}async onSlotChange(){await this.definedController.whenDefined(),this.updateItems(),this.updateRadioFocusable()}onCheckedChange(e){e.stopPropagation()}updateItems(){this.items.forEach(e=>{e.checked=e.value===this.value,e.invalid=this.invalid,e.groupDisabled=this.disabled,e.isInitial=this.isInitial})}};Ia.styles=[ci,HYe];q([ce({type:Boolean,reflect:!0,converter:St})],Ia.prototype,"disabled",void 0);q([ce({reflect:!0})],Ia.prototype,"form",void 0);q([ce({reflect:!0})],Ia.prototype,"name",void 0);q([ce({reflect:!0})],Ia.prototype,"value",void 0);q([zg()],Ia.prototype,"defaultValue",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],Ia.prototype,"required",void 0);q([Wn()],Ia.prototype,"invalid",void 0);q([mn("value",!0)],Ia.prototype,"onValueChange",null);q([mn("invalid",!0),mn("disabled")],Ia.prototype,"onInvalidChange",null);Ia=q([Rn("mdui-radio-group")],Ia);let D5=class extends Bi{render(){return Ua('<path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2z"/>')}};D5.styles=Qa;D5=q([Rn("mdui-icon-circle")],D5);let A5=class extends Bi{render(){return Ua('<path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/>')}};A5.styles=Qa;A5=q([Rn("mdui-icon-radio-button-unchecked")],A5);const WYe=ur`:host{position:relative;display:inline-flex;align-items:center;cursor:pointer;-webkit-tap-highlight-color:transparent;-webkit-user-select:none;user-select:none;touch-action:manipulation;zoom:1;-webkit-user-drag:none;border-radius:.125rem;font-size:var(--mdui-typescale-label-large-size);font-weight:var(--mdui-typescale-label-large-weight);letter-spacing:var(--mdui-typescale-label-large-tracking);line-height:var(--mdui-typescale-label-large-line-height)}.icon{display:flex;position:absolute;font-size:1.5rem}:not(.initial) .icon{transition-duration:var(--mdui-motion-duration-short4);transition-timing-function:var(--mdui-motion-easing-standard)}.unchecked-icon{transition-property:color;color:rgb(var(--mdui-color-on-surface-variant))}:host([focused]) .unchecked-icon,:host([hover]) .unchecked-icon,:host([pressed]) .unchecked-icon{color:rgb(var(--mdui-color-on-surface))}.checked-icon{opacity:0;transform:scale(.2);transition-property:color,opacity,transform;color:rgb(var(--mdui-color-primary))}.icon .i,::slotted([slot=checked-icon]),::slotted([slot=unchecked-icon]){color:inherit;font-size:inherit}i{position:relative;display:flex;align-items:center;justify-content:center;flex-shrink:0;overflow:hidden;border-radius:50%;width:2.5rem;height:2.5rem;--mdui-comp-ripple-state-layer-color:var(--mdui-color-on-surface)}.label{display:flex;width:100%;padding-top:.625rem;padding-bottom:.625rem;color:rgb(var(--mdui-color-on-surface))}.label:not(.initial){transition:color var(--mdui-motion-duration-short4) var(--mdui-motion-easing-standard)}:host([checked]:not([checked=false i])) i{--mdui-comp-ripple-state-layer-color:var(--mdui-color-primary)}:host([checked]:not([checked=false i])) .icon{color:rgb(var(--mdui-color-primary))}:host([checked]:not([checked=false i])) .checked-icon{opacity:1;transform:scale(.5)}i.invalid{--mdui-comp-ripple-state-layer-color:var(--mdui-color-error)}i.invalid .icon{color:rgb(var(--mdui-color-error))}.label.invalid{color:rgb(var(--mdui-color-error))}:host([disabled]:not([disabled=false i])),:host([group-disabled]){cursor:default;pointer-events:none}:host([disabled]:not([disabled=false i])) .icon,:host([group-disabled]) .icon{color:rgba(var(--mdui-color-on-surface),38%)}:host([disabled]:not([disabled=false i])) .label,:host([group-disabled]) .label{color:rgba(var(--mdui-color-on-surface),38%)}`;let Go=class extends gf(Su(li)){constructor(){super(...arguments),this.value="",this.disabled=!1,this.checked=!1,this.invalid=!1,this.groupDisabled=!1,this.focusable=!0,this.isInitial=!0,this.rippleRef=Er()}get rippleElement(){return this.rippleRef.value}get rippleDisabled(){return this.isDisabled()}get focusElement(){return this}get focusDisabled(){return this.isDisabled()||!this.focusable}onCheckedChange(){this.emit("change")}firstUpdated(e){super.firstUpdated(e),this.addEventListener("click",()=>{this.isDisabled()||(this.checked=!0)})}render(){const e=No({invalid:this.invalid,initial:this.isInitial});return _e`<i part="control" class="${e}"><mdui-ripple ${Yn(this.rippleRef)} .noRipple="${this.noRipple}"></mdui-ripple><slot name="unchecked-icon" part="unchecked-icon" class="icon unchecked-icon">${this.uncheckedIcon?_e`<mdui-icon name="${this.uncheckedIcon}" class="i"></mdui-icon>`:_e`<mdui-icon-radio-button-unchecked class="i"></mdui-icon-radio-button-unchecked>`}</slot><slot name="checked-icon" part="checked-icon" class="icon checked-icon">${this.checkedIcon?_e`<mdui-icon name="${this.checkedIcon}" class="i"></mdui-icon>`:_e`<mdui-icon-circle class="i"></mdui-icon-circle>`}</slot></i><slot part="label" class="label ${e}"></slot>`}isDisabled(){return this.disabled||this.groupDisabled}};Go.styles=[ci,WYe];q([ce({reflect:!0})],Go.prototype,"value",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],Go.prototype,"disabled",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],Go.prototype,"checked",void 0);q([ce({reflect:!0,attribute:"unchecked-icon"})],Go.prototype,"uncheckedIcon",void 0);q([ce({reflect:!0,attribute:"checked-icon"})],Go.prototype,"checkedIcon",void 0);q([Wn()],Go.prototype,"invalid",void 0);q([ce({type:Boolean,reflect:!0,converter:St,attribute:"group-disabled"})],Go.prototype,"groupDisabled",void 0);q([Wn()],Go.prototype,"focusable",void 0);q([Wn()],Go.prototype,"isInitial",void 0);q([mn("checked",!0)],Go.prototype,"onCheckedChange",null);Go=q([Rn("mdui-radio")],Go);var XYe=I("<mdui-radio-group>",!0,!1,!1),YYe=I("<mdui-radio>",!0,!1,!1);function eO(t){return(()=>{var e=XYe();return Se(e,t,!1,!1),e._$owner=Gr(),e})()}eO.Option=function(e){return(()=>{var n=YYe();return Se(n,e,!1,!1),n._$owner=Gr(),n})()};/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function*b0(t,e){if(t!==void 0){let n=0;for(const r of t)yield e(r,n++)}}const GYe=ur`:host{position:relative;display:block;width:100%;-webkit-tap-highlight-color:transparent;height:2.5rem;padding:0 1.25rem}label{position:relative;display:block;width:100%;height:100%}input[type=range]{position:absolute;inset:0;z-index:4;height:100%;cursor:pointer;opacity:0;appearance:none;width:calc(100% + 20rem * 2 / 16);margin:0 -1.25rem;padding:0 .75rem}:host([disabled]:not([disabled=false i])) input[type=range]{cursor:not-allowed}.track-active,.track-inactive{position:absolute;top:50%;height:.25rem;margin-top:-.125rem}.track-inactive{left:-.125rem;right:-.125rem;border-radius:var(--mdui-shape-corner-full);background-color:rgb(var(--mdui-color-surface-container-highest))}.invalid .track-inactive{background-color:rgba(var(--mdui-color-error),.12)}:host([disabled]:not([disabled=false i])) .track-inactive{background-color:rgba(var(--mdui-color-on-surface),.12)}.track-active{background-color:rgb(var(--mdui-color-primary))}.invalid .track-active{background-color:rgb(var(--mdui-color-error))}:host([disabled]:not([disabled=false i])) .track-active{background-color:rgba(var(--mdui-color-on-surface),.38)}.handle{position:absolute;top:50%;transform:translate(-50%);cursor:pointer;z-index:2;width:2.5rem;height:2.5rem;margin-top:-1.25rem;--mdui-comp-ripple-state-layer-color:var(--mdui-color-primary)}.invalid .handle{--mdui-comp-ripple-state-layer-color:var(--mdui-color-error)}.handle .elevation,.handle::before{position:absolute;display:block;content:' ';left:.625rem;top:.625rem;width:1.25rem;height:1.25rem;border-radius:var(--mdui-shape-corner-full)}.handle .elevation{background-color:rgb(var(--mdui-color-primary));box-shadow:var(--mdui-elevation-level1)}.invalid .handle .elevation{background-color:rgb(var(--mdui-color-error))}:host([disabled]:not([disabled=false i])) .handle .elevation{background-color:rgba(var(--mdui-color-on-surface),.38);box-shadow:var(--mdui-elevation-level0)}.handle::before{background-color:rgb(var(--mdui-color-background))}.handle mdui-ripple{border-radius:var(--mdui-shape-corner-full)}.label{position:absolute;left:50%;transform:translateX(-50%) scale(0);transform-origin:center bottom;display:flex;align-items:center;justify-content:center;cursor:default;white-space:nowrap;-webkit-user-select:none;user-select:none;pointer-events:none;transition:transform var(--mdui-motion-duration-short2) var(--mdui-motion-easing-standard);bottom:2.5rem;min-width:1.75rem;height:1.75rem;padding:.375rem .5rem;border-radius:var(--mdui-shape-corner-full);color:rgb(var(--mdui-color-on-primary));font-size:var(--mdui-typescale-label-medium-size);font-weight:var(--mdui-typescale-label-medium-weight);letter-spacing:var(--mdui-typescale-label-medium-tracking);line-height:var(--mdui-typescale-label-medium-line-height);background-color:rgb(var(--mdui-color-primary))}.invalid .label{color:rgb(var(--mdui-color-on-error));background-color:rgb(var(--mdui-color-error))}.label::after{content:' ';position:absolute;z-index:-1;transform:rotate(45deg);width:.875rem;height:.875rem;bottom:-.125rem;background-color:rgb(var(--mdui-color-primary))}.invalid .label::after{background-color:rgb(var(--mdui-color-error))}.label-visible{transform:translateX(-50%) scale(1);transition:transform var(--mdui-motion-duration-short4) var(--mdui-motion-easing-standard)}.tickmark{position:absolute;top:50%;transform:translate(-50%);width:.125rem;height:.125rem;margin-top:-.0625rem;border-radius:var(--mdui-shape-corner-full);background-color:rgba(var(--mdui-color-on-surface-variant),.38)}.invalid .tickmark{background-color:rgba(var(--mdui-color-error),.38)}.tickmark.active{background-color:rgba(var(--mdui-color-on-primary),.38)}.invalid .tickmark.active{background-color:rgba(var(--mdui-color-on-error),.38)}:host([disabled]:not([disabled=false i])) .tickmark{background-color:rgba(var(--mdui-color-on-surface),.38)}`;class Hs extends gf(Su(li)){constructor(){super(...arguments),this.min=0,this.max=100,this.step=1,this.tickmarks=!1,this.nolabel=!1,this.disabled=!1,this.name="",this.invalid=!1,this.labelVisible=!1,this.inputRef=Er(),this.trackActiveRef=Er(),this.labelFormatter=e=>e.toString()}get validity(){return this.inputRef.value.validity}get validationMessage(){return this.inputRef.value.validationMessage}get rippleDisabled(){return this.disabled}get focusElement(){return this.inputRef.value}get focusDisabled(){return this.disabled}onDisabledChange(){this.invalid=!this.inputRef.value.checkValidity()}checkValidity(){const e=this.inputRef.value.checkValidity();return e||this.emit("invalid",{bubbles:!1,cancelable:!0,composed:!1}),e}reportValidity(){return this.invalid=!this.inputRef.value.reportValidity(),this.invalid&&(this.emit("invalid",{bubbles:!1,cancelable:!0,composed:!1})||(this.blur(),this.focus())),!this.invalid}setCustomValidity(e){this.inputRef.value.setCustomValidity(e),this.invalid=!this.inputRef.value.checkValidity()}fixValue(e){const{min:n,max:r,step:i}=this;e=Math.min(Math.max(e,n),r);const s=Math.round((e-n)/i);let o=n+s*i;return o>r&&(o-=i),o}getCandidateValues(){return Array.from({length:this.max-this.min+1},(e,n)=>n+this.min).filter(e=>!((e-this.min)%this.step))}renderLabel(e){return xa(!this.nolabel,()=>_e`<div part="label" class="label ${No({"label-visible":this.labelVisible})}">${this.labelFormatter(e)}</div>`)}onChange(){this.emit("change")}}Hs.styles=[ci,GYe];q([ce({type:Number,reflect:!0})],Hs.prototype,"min",void 0);q([ce({type:Number,reflect:!0})],Hs.prototype,"max",void 0);q([ce({type:Number,reflect:!0})],Hs.prototype,"step",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],Hs.prototype,"tickmarks",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],Hs.prototype,"nolabel",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],Hs.prototype,"disabled",void 0);q([ce({reflect:!0})],Hs.prototype,"form",void 0);q([ce({reflect:!0})],Hs.prototype,"name",void 0);q([Wn()],Hs.prototype,"invalid",void 0);q([Wn()],Hs.prototype,"labelVisible",void 0);q([ce({attribute:!1})],Hs.prototype,"labelFormatter",void 0);q([mn("disabled",!0)],Hs.prototype,"onDisabledChange",null);const ZYe=ur`.track-active{left:-.125rem;border-radius:var(--mdui-shape-corner-full) 0 0 var(--mdui-shape-corner-full)}`;let mg=class extends Hs{constructor(){super(...arguments),this.value=0,this.defaultValue=0,this.rippleRef=Er(),this.handleRef=Er(),this.formController=new mf(this)}get rippleElement(){return this.rippleRef.value}async onValueChange(){this.value=this.fixValue(this.value);const e=this.formController.getForm();e&&zs.get(e)?.has(this)?(this.invalid=!1,zs.get(e).delete(this)):(await this.updateComplete,this.invalid=!this.inputRef.value.checkValidity()),this.updateStyle()}connectedCallback(){super.connectedCallback(),this.value=this.fixValue(this.value)}firstUpdated(e){super.firstUpdated(e);const n=()=>{this.disabled||(this.labelVisible=!0)},r=()=>{this.disabled||(this.labelVisible=!1)};this.addEventListener("touchstart",n),this.addEventListener("mousedown",n),this.addEventListener("touchend",r),this.addEventListener("mouseup",r),this.updateStyle()}render(){return _e`<label class="${No({invalid:this.invalid})}"><input ${Yn(this.inputRef)} type="range" step="${this.step}" min="${this.min}" max="${this.max}" ?disabled="${this.disabled}" .value="${vv(this.value.toString())}" @input="${this.onInput}" @change="${this.onChange}"><div part="track-inactive" class="track-inactive"></div><div ${Yn(this.trackActiveRef)} part="track-active" class="track-active"></div><div ${Yn(this.handleRef)} part="handle" class="handle"><div class="elevation"></div><mdui-ripple ${Yn(this.rippleRef)} .noRipple="${this.noRipple}"></mdui-ripple>${this.renderLabel(this.value)}</div>${xa(this.tickmarks,()=>b0(this.getCandidateValues(),e=>_e`<div part="tickmark" class="tickmark ${No({active:e<this.value})}" style="${FY({left:`${(e-this.min)/this.max*100}%`,display:e===this.value?"none":"block"})}"></div>`))}</label>`}updateStyle(){const e=(this.value-this.min)/(this.max-this.min)*100;this.trackActiveRef.value.style.width=`${e}%`,this.handleRef.value.style.left=`${e}%`}onInput(){this.value=parseFloat(this.inputRef.value.value),this.updateStyle()}};mg.styles=[Hs.styles,ZYe];q([ce({type:Number})],mg.prototype,"value",void 0);q([zg()],mg.prototype,"defaultValue",void 0);q([mn("value",!0)],mg.prototype,"onValueChange",null);mg=q([Rn("mdui-slider")],mg);var KYe=I("<mdui-slider>",!0,!1,!1);function tO(t){const[e,n]=ve(),[r,i]=sn(t,["labelFormatter"]);return dt(Zt(e,s=>{s&&r.labelFormatter&&(s.labelFormatter=r.labelFormatter)})),(()=>{var s=KYe();return Fe(n,s),Se(s,i,!1,!1),s._$owner=Gr(),s})()}var JYe=I('<svg xmlns=http://www.w3.org/2000/svg height=24 width=24 viewBox="0 96 960 960"><path d="M120 936v-60h60v60h-60Zm0-148v-83h60v83h-60Zm0-171v-83h60v83h-60Zm0-170v-83h60v83h-60Zm0-171v-60h60v60h-60Zm148 660v-60h83v60h-83Zm0-660v-60h83v60h-83Zm171 660v-60h83v60h-83Zm0-660v-60h83v60h-83Zm170 660v-60h83v60h-83Zm0-660v-60h83v60h-83Zm171 660v-60h60v60h-60Zm0-148v-83h60v83h-60Zm0-171v-83h60v83h-60Zm0-170v-83h60v83h-60Zm0-171v-60h60v60h-60Z">');const eGe={Override:tGe};function tGe(t){return u(nGe,{role:"radiogroup","aria-orientiation":"horizontal",get"aria-disabled"(){return t.disabled},get children(){return[u($4,{type:"allow",get selected(){return t.value},onClick:()=>!t.disabled&&t.onChange("allow"),role:"radio",get children(){return[u(En,{}),u(z9e,{size:24})]}}),u($4,{type:"neutral",get selected(){return t.value},onClick:()=>!t.disabled&&t.onChange("neutral"),role:"radio",get children(){return[u(En,{}),JYe()]}}),u($4,{type:"deny",get selected(){return t.value},onClick:()=>!t.disabled&&t.onChange("deny"),role:"radio",get children(){return[u(En,{}),u(Aq,{size:24})]}})]}})}const nGe=H("div",{base:{flexShrink:0,width:"fit-content",display:"flex",margin:"4px 0",overflow:"hidden",borderRadius:"var(--borderRadius-md)",transition:"var(--transitions-fast) all",background:"var(--md-sys-color-primary-container)"}}),$4=H("div",{base:{position:"relative",padding:"4px",display:"flex",cursor:"pointer",alignItems:"center",transition:"var(--transitions-fast) all","&:hover":{},"& svg":{stroke:"5px solid red"}},variants:{selected:{allow:{},neutral:{},deny:{}},type:{allow:{},neutral:{},deny:{}}},compoundVariants:[{type:"allow",selected:"allow",css:{color:"green",background:"green"}},{type:"neutral",selected:"neutral",css:{fill:"var(--md-sys-color-inverse-on-surface)",background:"var(--md-sys-color-inverse-surface)"}},{type:"deny",selected:"deny",css:{color:"red",background:"red"}}]});var rGe=I("<div>"),iGe=t=>{let e;const n=ge({initialWidth:0,initialHeight:0},t),[r,i]=ve({width:n.initialWidth,height:n.initialHeight});return Tn(()=>{const s=e.getBoundingClientRect(),o={width:Math.floor(s.width),height:Math.floor(s.height)};(o.width!==r().width||o.height!==r().height)&&(i(o),n.onResize?.(o));const a=new ResizeObserver(l=>{const c=l[0];if(!c)return;const{width:d,height:h}=c.contentRect,f={width:Math.floor(d),height:Math.floor(h)};i(f),n.onResize?.(f)});a.observe(e),wt(()=>{a.disconnect()})}),(()=>{var s=rGe(),o=e;return typeof o=="function"?Fe(o,s):e=s,V(s,()=>n.children(r())),Te(a=>{var l=n.class,c={width:"100%",height:"100%",...n.style};return l!==a.e&&ut(s,a.e=l),a.t=xd(s,c,a.t),a},{e:void 0,t:void 0}),s})()};function ji(t){this.content=t}ji.prototype={constructor:ji,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new ji(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new ji(n)},addToStart:function(t,e){return new ji([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new ji(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new ji(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=ji.from(t),t.size?new ji(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=ji.from(t),t.size?new ji(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=ji.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};ji.from=function(t){if(t instanceof ji)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new ji(e)};function GY(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)n++;return n}if(i.content.size||s.content.size){let o=GY(i.content,s.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function ZY(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let o=t.child(--i),a=e.child(--s),l=o.nodeSize;if(o==a){n-=l,r-=l;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let c=0,d=Math.min(o.text.length,a.text.length);for(;c<d&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let c=ZY(o.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class Pn{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let o=0,a=0;a<n;o++){let l=this.content[o],c=a+l.nodeSize;if(c>e&&r(l,i+a,s||null,o)!==!1&&l.content.size){let d=a+1;l.nodesBetween(Math.max(0,e-d),Math.min(l.content.size,n-d),r,i+d)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",o=!0;return this.nodesBetween(e,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(o?o=!1:s+=r),s+=c},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new Pn(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,o=0;o<n;s++){let a=this.content[s],l=o+a.nodeSize;l>e&&((o<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,n-o-1))),r.push(a),i+=a.nodeSize),o=l}return new Pn(r,i)}cutByIndex(e,n){return e==n?Pn.empty:e==0&&n==this.content.length?this:new Pn(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new Pn(i,s)}addToStart(e){return new Pn([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Pn(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return GY(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return ZY(this,e,n,r)}findIndex(e){if(e==0)return _b(0,e);if(e==this.size)return _b(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),s=r+i.nodeSize;if(s>=e)return s==e?_b(n+1,s):_b(n,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return Pn.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Pn(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Pn.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new Pn(n||e,r)}static from(e){if(!e)return Pn.empty;if(e instanceof Pn)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Pn([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Pn.empty=new Pn([],0);const L4={index:0,offset:0};function _b(t,e){return L4.index=t,L4.offset=e,L4}function nO(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!nO(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!nO(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}class Li{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&nO(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Li.none;if(e instanceof Li)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}}Li.none=[];class rO extends Error{}class ir{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=JY(this.content,e+this.openStart,n);return r&&new ir(r,this.openStart,this.openEnd)}removeBetween(e,n){return new ir(KY(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return ir.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ir(Pn.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new ir(e,r,i)}}ir.empty=new ir(Pn.empty,0,0);function KY(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:o,offset:a}=t.findIndex(n);if(i==e||s.isText){if(a!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(KY(s.content,e-i-1,n-i-1)))}function JY(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),o=t.maybeChild(i);if(s==e||o.isText)return t.cut(0,e).append(n).append(t.cut(e));let a=JY(o.content,e-s-1,n);return a&&t.replaceChild(i,o.copy(a))}function sGe(t,e,n){if(n.openStart>t.depth)throw new rO("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new rO("Inconsistent open depths");return eG(t,e,n,0)}function eG(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let o=eG(t,e,n,r+1);return s.copy(s.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let o=t.parent,a=o.content;return Eh(o,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=oGe(n,t);return Eh(s,nG(t,o,a,e,r))}else return Eh(s,iO(t,e,r))}function tG(t,e){if(!e.type.compatibleContent(t.type))throw new rO("Cannot join "+e.type.name+" onto "+t.type.name)}function P5(t,e,n){let r=t.node(n);return tG(r,e.node(n)),r}function Ch(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function y0(t,e,n,r){let i=(e||t).node(n),s=0,o=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(Ch(t.nodeAfter,r),s++));for(let a=s;a<o;a++)Ch(i.child(a),r);e&&e.depth==n&&e.textOffset&&Ch(e.nodeBefore,r)}function Eh(t,e){return t.type.checkContent(e),t.copy(e)}function nG(t,e,n,r,i){let s=t.depth>i&&P5(t,e,i+1),o=r.depth>i&&P5(n,r,i+1),a=[];return y0(null,t,i,a),s&&o&&e.index(i)==n.index(i)?(tG(s,o),Ch(Eh(s,nG(t,e,n,r,i+1)),a)):(s&&Ch(Eh(s,iO(t,e,i+1)),a),y0(e,n,i,a),o&&Ch(Eh(o,iO(n,r,i+1)),a)),y0(r,null,i,a),new Pn(a)}function iO(t,e,n){let r=[];if(y0(null,t,n,r),t.depth>n){let i=P5(t,e,n+1);Ch(Eh(i,iO(t,e,n+1)),r)}return y0(e,null,n,r),new Pn(r)}function oGe(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(Pn.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Ov{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Li.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new cGe(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(s),c=s-l;if(r.push(o,a,i+l),!c||(o=o.child(a),o.isText))break;s=c-1,i+=l+1}return new Ov(n,r,s)}static resolveCached(e,n){let r=DI.get(e);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==n)return o}else DI.set(e,r=new aGe);let i=r.elts[r.i]=Ov.resolve(e,n);return r.i=(r.i+1)%lGe,i}}class aGe{constructor(){this.elts=[],this.i=0}}const lGe=12,DI=new WeakMap;class cGe{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const uGe=Object.create(null);let Pm=class R5{constructor(e,n,r,i=Li.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||Pn.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&nO(this.attrs,n||e.defaultAttrs||uGe)&&Li.sameSet(this.marks,r||Li.none)}copy(e=null){return e==this.content?this:new R5(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new R5(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return ir.empty;let i=this.resolve(e),s=this.resolve(n),o=r?0:i.sharedDepth(n),a=i.start(o),c=i.node(o).content.cut(i.pos-a,s.pos-a);return new ir(c,i.depth-o,s.depth-o)}replace(e,n,r){return sGe(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Ov.resolveCached(this,e)}resolveNoCache(e){return Ov.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),rG(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=Pn.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Li.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!Li.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=Pn.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};Pm.prototype.text=void 0;class sO extends Pm{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):rG(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new sO(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new sO(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function rG(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Xh{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new dGe(e,n);if(r.next==null)return Xh.empty;let i=iG(r);r.next&&r.err("Unexpected trailing text");let s=bGe(vGe(i));return yGe(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(o,a){let l=o.matchFragment(e,r);if(l&&(!n||l.validEnd))return Pn.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:d,next:h}=o.next[c];if(!(d.isText||d.hasRequiredAttrs())&&i.indexOf(h)==-1){i.push(h);let f=s(h,a.concat(d));if(f)return f}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}Xh.empty=new Xh(!0);class dGe{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function iG(t){let e=[];do e.push(hGe(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function hGe(t){let e=[];do e.push(fGe(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function fGe(t){let e=pGe(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=mGe(t,e);else break;return e}function AI(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function mGe(t,e){let n=AI(t),r=n;return t.eat(",")&&(t.next!="}"?r=AI(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function gGe(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let o=n[s];o.isInGroup(e)&&i.push(o)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function pGe(t){if(t.eat("(")){let e=iG(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=gGe(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function vGe(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(o,a,l){let c={term:l,to:a};return e[o].push(c),c}function i(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(s(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=s(o.exprs[l],a);if(l==o.exprs.length-1)return c;i(c,a=n())}else if(o.type=="star"){let l=n();return r(a,l),i(s(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=n();return i(s(o.expr,a),l),i(s(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let d=n();i(s(o.expr,l),d),l=d}if(o.max==-1)i(s(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let d=n();r(l,d),i(s(o.expr,l),d),l=d}return[r(l)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function sG(t,e){return e-t}function PI(t,e){let n=[];return r(e),n.sort(sG);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&n.indexOf(l)==-1&&r(l)}}}function bGe(t){let e=Object.create(null);return n(PI(t,0));function n(r){let i=[];r.forEach(o=>{t[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let d=0;d<i.length;d++)i[d][0]==a&&(c=i[d][1]);PI(t,l).forEach(d=>{c||i.push([a,c=[]]),c.indexOf(d)==-1&&c.push(d)})})});let s=e[r.join(",")]=new Xh(r.indexOf(t.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(sG);s.next.push({type:i[o][0],next:e[a.join(",")]||n(a)})}return s}}function yGe(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(c)==-1&&r.push(c)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function oG(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function aG(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function lG(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function cG(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new wGe(t,r,e[r]);return n}class oO{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=cG(e,r.attrs),this.defaultAttrs=oG(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Xh.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:aG(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Pm(this,this.computeAttrs(e),Pn.from(n),Li.setFrom(r))}createChecked(e=null,n,r){return n=Pn.from(n),this.checkContent(n),new Pm(this,this.computeAttrs(e),n,Li.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=Pn.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(Pn.empty,!0);return s?new Pm(this,e,n.append(s),Li.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){lG(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Li.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,o)=>r[s]=new oO(s,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}}function OGe(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class wGe{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?OGe(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class CT{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=cG(e,i.attrs),this.excluded=null;let s=oG(this.attrs);this.instance=s?new Li(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Li(this,aG(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new CT(s,i++,n,o)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){lG(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class kGe{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=ji.from(e.nodes),n.marks=ji.from(e.marks||{}),this.nodes=oO.compile(this.spec.nodes,this),this.marks=CT.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=Xh.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?RI(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:RI(this,o.split(" "))}this.nodeFromJSON=i=>Pm.fromJSON(this,i),this.markFromJSON=i=>Li.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof oO){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new sO(r,r.defaultAttrs,e,Li.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function RI(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],o=s;if(s)n.push(s);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}const uG=65535,dG=Math.pow(2,16);function SGe(t,e){return t+e*dG}function MI(t){return t&uG}function xGe(t){return(t-(t&uG))/dG}const hG=1,fG=2,Oy=4,mG=8;class II{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&mG)>0}get deletedBefore(){return(this.delInfo&(hG|Oy))>0}get deletedAfter(){return(this.delInfo&(fG|Oy))>0}get deletedAcross(){return(this.delInfo&Oy)>0}}class Po{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Po.empty)return Po.empty}recover(e){let n=0,r=MI(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+xGe(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+s],d=this.ranges[a+o],h=l+c;if(e<=h){let f=c?e==l?-1:e==h?1:n:n,m=l+i+(f<0?0:d);if(r)return m;let g=e==(n<0?l:h)?null:SGe(a/3,e-l),p=e==l?fG:e==h?hG:Oy;return(n<0?e!=l:e!=h)&&(p|=mG),new II(m,p,g)}i+=d-c}return r?e+i:new II(e+i,0,null)}touches(e,n){let r=0,i=MI(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+s],d=l+c;if(e<=d&&a==i*3)return!0;r+=this.ranges[a+o]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),c=this.ranges[i+n],d=this.ranges[i+r];e(a,a+c,l,l+d),s+=d-c}}invert(){return new Po(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Po.empty:new Po(e<0?[0,-e,0]:[0,0,e])}}Po.empty=new Po([]);const N4=Object.create(null);class bs{getMap(){return Po.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=N4[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in N4)throw new RangeError("Duplicate use of step JSON ID "+e);return N4[e]=n,n.prototype.jsonID=e,n}}class oi{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new oi(e,null)}static fail(e){return new oi(null,e)}static fromReplace(e,n,r,i){try{return oi.ok(e.replace(n,r,i))}catch(s){if(s instanceof rO)return oi.fail(s.message);throw s}}}function ET(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(ET(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return Pn.fromArray(r)}class mh extends bs{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new ir(ET(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return oi.fromReplace(e,this.from,this.to,s)}invert(){return new gh(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new mh(n.pos,r.pos,this.mark)}merge(e){return e instanceof mh&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new mh(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new mh(n.from,n.to,e.markFromJSON(n.mark))}}bs.jsonID("addMark",mh);class gh extends bs{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new ir(ET(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return oi.fromReplace(e,this.from,this.to,r)}invert(){return new mh(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new gh(n.pos,r.pos,this.mark)}merge(e){return e instanceof gh&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new gh(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new gh(n.from,n.to,e.markFromJSON(n.mark))}}bs.jsonID("removeMark",gh);class ph extends bs{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return oi.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return oi.fromReplace(e,this.pos,this.pos+1,new ir(Pn.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new ph(this.pos,n.marks[i]);return new ph(this.pos,this.mark)}}return new wv(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ph(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ph(n.pos,e.markFromJSON(n.mark))}}bs.jsonID("addNodeMark",ph);class wv extends bs{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return oi.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return oi.fromReplace(e,this.pos,this.pos+1,new ir(Pn.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new ph(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new wv(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new wv(n.pos,e.markFromJSON(n.mark))}}bs.jsonID("removeNodeMark",wv);class Lc extends bs{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&M5(e,this.from,this.to)?oi.fail("Structure replace would overwrite content"):oi.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Po([this.from,this.to-this.from,this.slice.size])}invert(e){return new Lc(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Lc(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Lc)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?ir.empty:new ir(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Lc(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?ir.empty:new ir(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Lc(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Lc(n.from,n.to,ir.fromJSON(e,n.slice),!!n.structure)}}bs.jsonID("replace",Lc);class Rm extends bs{constructor(e,n,r,i,s,o,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&(M5(e,this.from,this.gapFrom)||M5(e,this.gapTo,this.to)))return oi.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return oi.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?oi.fromReplace(e,this.from,this.to,r):oi.fail("Content does not fit in gap")}getMap(){return new Po([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Rm(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new Rm(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Rm(n.from,n.to,n.gapFrom,n.gapTo,ir.fromJSON(e,n.slice),n.insert,!!n.structure)}}bs.jsonID("replaceAround",Rm);function M5(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}class O0 extends bs{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return oi.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return oi.fromReplace(e,this.pos,this.pos+1,new ir(Pn.from(i),0,n.isLeaf?0:1))}getMap(){return Po.empty}invert(e){return new O0(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new O0(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new O0(n.pos,n.attr,n.value)}}bs.jsonID("attr",O0);class aO extends bs{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return oi.ok(r)}getMap(){return Po.empty}invert(e){return new aO(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new aO(n.attr,n.value)}}bs.jsonID("docAttr",aO);let kv=class extends Error{};kv=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};kv.prototype=Object.create(Error.prototype);kv.prototype.constructor=kv;kv.prototype.name="TransformError";const F4=Object.create(null);class pi{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new _Ge(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=ir.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],d=e.mapping.slice(s);e.replaceRange(d.map(l.pos),d.map(c.pos),a?ir.empty:n),a==0&&NI(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],l=e.mapping.slice(r),c=l.map(o.pos),d=l.map(a.pos);s?e.deleteRange(c,d):(e.replaceRangeWith(c,d,n),NI(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new Fo(e):jf(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=n<0?jf(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):jf(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Zc(e.node(0))}static atStart(e){return jf(e,e,0,0,1)||new Zc(e)}static atEnd(e){return jf(e,e,e.content.size,e.childCount,-1)||new Zc(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=F4[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in F4)throw new RangeError("Duplicate use of selection JSON ID "+e);return F4[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Fo.between(this.$anchor,this.$head).getBookmark()}}pi.prototype.visible=!0;class _Ge{constructor(e,n){this.$from=e,this.$to=n}}let $I=!1;function LI(t){!$I&&!t.parent.inlineContent&&($I=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Fo extends pi{constructor(e,n=e){LI(e),LI(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return pi.near(r);let i=e.resolve(n.map(this.anchor));return new Fo(i.parent.inlineContent?i:r,r)}replace(e,n=ir.empty){if(super.replace(e,n),n==ir.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Fo&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Lw(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Fo(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=pi.findFrom(n,r,!0)||pi.findFrom(n,-r,!0);if(s)n=s.$head;else return pi.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(pi.findFrom(e,-r,!0)||pi.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new Fo(e,n)}}pi.jsonID("text",Fo);class Lw{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Lw(e.map(this.anchor),e.map(this.head))}resolve(e){return Fo.between(e.resolve(this.anchor),e.resolve(this.head))}}class sl extends pi{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?pi.near(s):new sl(s)}content(){return new ir(Pn.from(this.node),0,0)}eq(e){return e instanceof sl&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new TT(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new sl(e.resolve(n.anchor))}static create(e,n){return new sl(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}sl.prototype.visible=!1;pi.jsonID("node",sl);class TT{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Lw(r,r):new TT(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&sl.isSelectable(r)?new sl(n):pi.near(n)}}class Zc extends pi{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=ir.empty){if(n==ir.empty){e.delete(0,e.doc.content.size);let r=pi.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Zc(e)}map(e){return new Zc(e)}eq(e){return e instanceof Zc}getBookmark(){return CGe}}pi.jsonID("all",Zc);const CGe={map(){return this},resolve(t){return new Zc(t)}};function jf(t,e,n,r,i,s=!1){if(e.inlineContent)return Fo.create(t,n);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let a=e.child(o);if(a.isAtom){if(!s&&sl.isSelectable(a))return sl.create(t,n-(i<0?a.nodeSize:0))}else{let l=jf(t,a,n+i,i<0?a.childCount:0,i,s);if(l)return l}n+=a.nodeSize*i}return null}function NI(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Lc||i instanceof Rm))return;let s=t.mapping.maps[r],o;s.forEach((a,l,c,d)=>{o==null&&(o=d)}),t.setSelection(pi.near(t.doc.resolve(o),n))}function FI(t,e){return!e||!t?t:t.bind(e)}class Cb{constructor(e,n,r){this.name=e,this.init=FI(n.init,r),this.apply=FI(n.apply,r)}}new Cb("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Cb("selection",{init(t,e){return t.selection||pi.atStart(e.doc)},apply(t){return t.selection}}),new Cb("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Cb("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}});const B4=Object.create(null);function EGe(t){return t in B4?t+"$"+ ++B4[t]:(B4[t]=0,t+"$")}class DT{constructor(e="key"){this.key=EGe(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}var BI;(function(t){t.open="open",t.close="close",t.filter="filter",t.up="ArrowUp",t.down="ArrowDown",t.left="ArrowLeft",t.right="ArrowRight",t.enter="enter"})(BI||(BI={}));new DT("autocomplete");const TGe="codemark";new DT(TGe);const Th="code_block";function DGe(t){return t!=null}const Eb=t=>(e,n,r)=>{if(e.selection.empty&&r?.endOfTextblock(t)){const i=t==="left"||t==="up"?-1:1,{$head:s}=e.selection,o=pi.near(e.doc.resolve(i>0?s.after():s.before()),i);if(o.$head&&o.$head.parent.type.name===Th)return n?.(e.tr.setSelection(o)),!0}return!1},AGe=(t,e,n)=>{const{$from:r,$to:i}=t.selection,s=r.node(r.depth);if(s&&s.type.name===Th)return!1;if(r.parentOffset===i.parentOffset&&r.parent.type.name==="paragraph"){const o=r.parent.textContent,a=t.tr,l=t.schema.nodes[Th].createAndFill(n,o?[t.schema.text(r.parent.textContent)]:[]);if(l&&e){const c=r.before(r.depth);a.delete(c,c+r.parent.nodeSize-1),a.insert(c,l),a.setSelection(Fo.create(a.doc,r.pos)),e(a)}return!0}if(e){const o=t.tr,a=t.doc.slice(r.before(r.depth),i.after(i.depth),!0),l=a.content.textBetween(0,a.content.size,`
`),c=t.schema.nodes[Th].createAndFill(n,t.schema.text(l));c&&(o.delete(r.before(a.openStart+1),i.after(a.openEnd+1)),o.insert(r.before(a.openStart+1),c),o.setSelection(Fo.create(o.doc,r.pos,r.pos+c.nodeSize-2)),e(o))}return!0},PGe=(t,e)=>{const{$from:n}=t.selection,r=n.node(n.depth);if(r&&r.type.name===Th){const i=[];r.forEach(l=>{i.push(l)});const s=i.map(l=>t.schema.nodes.paragraph.createAndFill({},[l])).filter(DGe),o=t.tr,a=n.before(n.depth);o.delete(a,a+r.nodeSize-1),o.insert(a,s),o.setSelection(Fo.create(o.doc,n.pos-1)),e&&e(o.scrollIntoView())}return!1},RGe=(t,e,n)=>{const{$from:r}=t.selection;if(r.pos===0)return!1;const i=r.node(r.depth);return i&&i.type.name===Th?PGe(t,e):AGe(t,e,n)},MGe={ArrowLeft:Eb("left"),ArrowRight:Eb("right"),ArrowUp:Eb("up"),ArrowDown:Eb("down")},IGe={"Mod-Alt-c":RGe};Object.assign(Object.assign({},IGe),MGe);var ls,We;(function(t){t.javascript="javascript",t.html="html",t.css="css",t.sql="sql",t.python="python",t.rust="rust",t.xml="xml",t.json="json",t.markdown="markdown",t.java="java",t.cpp="cpp",t.lezer="lezer",t.php="php",t.wast="wast"})(ls||(ls={})),function(t){t.apl="apl",t.asciiarmor="asciiarmor",t.asn1="asn1",t.asterisk="asterisk",t.brainfuck="brainfuck",t.clike="clike",t.clojure="clojure",t.cmake="cmake",t.cobol="cobol",t.coffeescript="coffeescript",t.commonlisp="commonlisp",t.crystal="crystal",t.cypher="cypher",t.d="d",t.diff="diff",t.dockerfile="dockerfile",t.dtd="dtd",t.dylan="dylan",t.ebnf="ebnf",t.ecl="ecl",t.eiffel="eiffel",t.elm="elm",t.erlang="erlang",t.factor="factor",t.fcl="fcl",t.forth="forth",t.fortran="fortran",t.gas="gas",t.gherkin="gherkin",t.go="go",t.groovy="groovy",t.haskell="haskell",t.haxe="haxe",t.http="http",t.idl="idl",t.jinja2="jinja2",t.julia="julia",t.livescript="livescript",t.lua="lua",t.mathematica="mathematica",t.mbox="mbox",t.mirc="mirc",t.mllike="mllike",t.modelica="modelica",t.mscgen="mscgen",t.mumps="mumps",t.nginx="nginx",t.nsis="nsis",t.ntriples="ntriples",t.octave="octave",t.oz="oz",t.pascal="pascal",t.perl="perl",t.pig="pig",t.powershell="powershell",t.properties="properties",t.protobuf="protobuf",t.puppet="puppet",t.q="q",t.r="r",t.rpm="rpm",t.ruby="ruby",t.sas="sas",t.scheme="scheme",t.shell="shell",t.smalltalk="smalltalk",t.solr="solr",t.sparql="sparql",t.spreadsheet="spreadsheet",t.stex="stex",t.stylus="stylus",t.swift="swift",t.tcl="tcl",t.textile="textile",t.tiddlywiki="tiddlywiki",t.tiki="tiki",t.toml="toml",t.troff="troff",t.ttcn="ttcn",t.turtle="turtle",t.vb="vb",t.vbscript="vbscript",t.velocity="velocity",t.verilog="verilog",t.vhdl="vhdl",t.webidl="webidl",t.xquery="xquery",t.yacas="yacas",t.yaml="yaml",t.z80="z80"}(We||(We={}));ls.cpp+"",ls.css+"",ls.html+"",ls.php+"",ls.sql+"",ls.xml+"",ls.javascript+"",ls.java+"",ls.json+"",ls.lezer+"",ls.markdown+"",ls.python+"",ls.rust+"",ls.wast+"";We.apl+"",We.asciiarmor+"",We.asn1+"",We.asterisk+"",We.brainfuck+"",We.clike+"",We.clojure+"",We.cmake+"",We.cobol+"",We.coffeescript+"",We.commonlisp+"",We.crystal+"",We.cypher+"",We.d+"",We.diff+"",We.dockerfile+"",We.dtd+"",We.dylan+"",We.ebnf+"",We.ecl+"",We.eiffel+"",We.elm+"",We.erlang+"",We.factor+"",We.fcl+"",We.forth+"",We.fortran+"",We.gas+"",We.gherkin+"",We.go+"",We.groovy+"",We.haskell+"",We.haxe+"",We.http+"",We.idl+"",We.jinja2+"",We.julia+"",We.livescript+"",We.lua+"",We.mathematica+"",We.mbox+"",We.mirc+"",We.mllike+"",We.modelica+"",We.mscgen+"",We.mumps+"",We.nginx+"",We.nsis+"",We.ntriples+"",We.octave+"",We.oz+"",We.pascal+"",We.perl+"",We.pig+"",We.powershell+"",We.properties+"",We.protobuf+"",We.puppet+"",We.q+"",We.r+"",We.rpm+"",We.ruby+"",We.sas+"",We.scheme+"",We.shell+"",We.smalltalk+"",We.solr+"",We.sparql+"",We.spreadsheet+"",We.stex+"",We.stylus+"",We.swift+"",We.tcl+"",We.textile+"",We.tiddlywiki+"",We.tiki+"",We.toml+"",We.troff+"",We.ttcn+"",We.turtle+"",We.vb+"",We.vbscript+"",We.velocity+"",We.verilog+"",We.vhdl+"",We.webidl+"",We.xquery+"",We.yacas+"",We.yaml+"",We.z80+"";new DT("codemirror-block");function $Ge(t){const e=this;e.compiler=n;function n(r){return tCe(r,{...e.data("settings"),...t,extensions:e.data("toMarkdownExtensions")||[]})}}nY.use($Ge);new kGe({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM(){return["p",0]}},blockquote:{content:"block+",group:"block",parseDOM:[{tag:"blockquote"}],toDOM(){return["blockquote",0]}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM(){return["div",["hr"]]}},heading:{attrs:{level:{default:1}},content:"(text | image | rfm_custom_emoji | rfm_user_mention | rfm_role_mention | rfm_channel_mention)*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM(t){return["h"+t.attrs.level,0]}},[Th]:{content:"text*",group:"block",code:!0,defining:!0,marks:"",attrs:{params:{default:""},lang:{default:null}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:t=>({params:t.getAttribute("data-params")||""})}],toDOM(t){return["pre",t.attrs.params?{"data-params":t.attrs.params}:{},["code",0]]}},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1},tight:{default:!1}},parseDOM:[{tag:"ol",getAttrs(t){return{order:t.hasAttribute("start")?+t.getAttribute("start"):1,tight:t.hasAttribute("data-tight")}}}],toDOM(t){return["ol",{start:t.attrs.order==1?null:t.attrs.order,"data-tight":t.attrs.tight?"true":null},0]}},bullet_list:{content:"list_item+",group:"block",attrs:{tight:{default:!1}},parseDOM:[{tag:"ul",getAttrs:t=>({tight:t.hasAttribute("data-tight")})}],toDOM(t){return["ul",{"data-tight":t.attrs.tight?"true":null},0]}},list_item:{content:"block+",defining:!0,parseDOM:[{tag:"li"}],toDOM(){return["li",0]}},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null},style:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs(t){return{src:t.getAttribute("src"),title:t.getAttribute("title"),alt:t.getAttribute("alt")}}}],toDOM(t){return["img",t.attrs]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return["br"]}},rfm_custom_emoji:{inline:!0,attrs:{id:{},src:{}},group:"inline",draggable:!0,parseDOM:[{tag:"img[emoji-id]",getAttrs(t){return{id:t.getAttribute("emoji-id"),src:t.getAttribute("src")}}}],toDOM(t){return["img",{"emoji-id":t.attrs.id,src:t.attrs.src,style:"width: var(--emoji-size); height: var(--emoji-size); display: inline; object-fit: contain"}]}},rfm_unicode_emoji:{inline:!0,attrs:{id:{},pack:{default:null},src:{}},group:"inline",draggable:!0,parseDOM:[{tag:"img[unicode]",getAttrs(t){return{id:t.getAttribute("unicode"),pack:t.getAttribute("pack"),src:t.getAttribute("src")}}}],toDOM(t){return["img",{unicode:t.attrs.id,pack:t.attrs.pack,src:t.attrs.src,style:"width: var(--emoji-size); height: var(--emoji-size); display: inline; object-fit: contain"}]}},rfm_user_mention:{inline:!0,attrs:{id:{},username:{},avatar:{}},group:"inline",draggable:!0,parseDOM:[{tag:"span[user-id]",getAttrs(t){return{id:t.getAttribute("user-id"),username:t.innerText}}}],toDOM(t){return["span",{"user-id":t.attrs.id,class:Gc({inEditor:!0})},["img",{src:t.attrs.avatar}],t.attrs.username]}},rfm_role_mention:{inline:!0,attrs:{id:{},name:{}},group:"inline",draggable:!0,parseDOM:[{tag:"span[role-id]",getAttrs(t){return{id:t.getAttribute("role-id"),name:t.innerText}}}],toDOM(t){return["span",{"role-id":t.attrs.id,class:Gc({inEditor:!0})},"%"+t.attrs.name]}},rfm_channel_mention:{inline:!0,attrs:{id:{},name:{}},group:"inline",draggable:!0,parseDOM:[{tag:"span[channel-id]",getAttrs(t){return{id:t.getAttribute("channel-id"),name:t.innerText}}}],toDOM(t){return["span",{"channel-id":t.attrs.id,class:Gc({inEditor:!0})},"#"+t.attrs.name]}}},marks:{em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"},{style:"font-style=normal",clearMark:t=>t.type.name=="em"}],toDOM(){return["em"]}},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name=="strong"},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}],toDOM(){return["strong"]}},strikethrough:{parseDOM:[{tag:"s"}],toDOM(){return["s"]}},link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs(t){return{href:t.getAttribute("href"),title:t.getAttribute("title")}}}],toDOM(t){return["a",t.attrs]}},code:{code:!0,parseDOM:[{tag:"code"}],toDOM(){return["code"]}}}});const LGe=Object.keys(dd).sort();LGe.map(t=>({id:t,name:t}));H("div",{base:{display:"flex",alignItems:"center",cursor:"pointer",gap:"var(--gap-md)",background:"transparent",padding:"var(--gap-sm) var(--gap-md)"},variants:{selected:{true:{background:"color-mix(in srgb, var(--md-sys-color-on-surface) 8%, transparent)"}}}});H("div",{base:{fontSize:"0.9em"}});nn({base:{display:"flex",flexDirection:"column",padding:"var(--gap-md) 0",overflow:"hidden",borderRadius:"var(--borderRadius-xs)",background:"var(--md-sys-color-surface-container)",color:"var(--md-sys-color-on-surface)",fill:"var(--md-sys-color-on-surface)",boxShadow:"0 0 3px var(--md-sys-color-shadow)"}});let Mu,z4;const Nw=(t,e)=>{const n=Qe(t),r=$w(),i={unobserve:()=>{n.each((s,o)=>{const a=Mu.get(o),l=a.coArr.findIndex(c=>c.key===r);l!==-1&&a.coArr.splice(l,1),a.coArr.length?Mu.set(o,a):(z4.unobserve(o),Mu.delete(o))})}};return Mu||(Mu=new WeakMap,z4=new ResizeObserver(s=>{s.forEach(o=>{const a=o.target,l=Mu.get(a);l.entry=o,l.coArr.forEach(c=>{c.callback.call(i,o,i)})})})),n.each((s,o)=>{const a=Mu.get(o)??{coArr:[]};a.coArr.length&&a.entry&&e.call(i,a.entry,i),a.coArr.push({callback:e,key:r}),Mu.set(o,a),z4.observe(o)}),i};let I5=class extends Bi{render(){return Ua('<path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>')}};I5.styles=Qa;I5=q([Rn("mdui-icon-clear")],I5);const NGe=ur`.button{position:relative;display:inline-flex;align-items:center;justify-content:center;height:100%;padding:0;overflow:hidden;color:inherit;font-size:inherit;font-family:inherit;font-weight:inherit;letter-spacing:inherit;white-space:nowrap;text-align:center;text-decoration:none;vertical-align:middle;background:0 0;border:none;outline:0;cursor:inherit;-webkit-user-select:none;user-select:none;touch-action:manipulation;zoom:1;-webkit-user-drag:none}`;class Ui extends Iw(gf(Su(li))){constructor(){super(...arguments),this.disabled=!1,this.loading=!1,this.name="",this.value="",this.type="button",this.formNoValidate=!1,this.formController=new mf(this)}get validity(){if(this.isButton())return this.focusElement.validity}get validationMessage(){if(this.isButton())return this.focusElement.validationMessage}get rippleDisabled(){return this.disabled||this.loading}get focusElement(){return this.isButton()?this.renderRoot?.querySelector("._button"):this.focusDisabled?this:this.renderRoot?.querySelector("._a")}get focusDisabled(){return this.disabled||this.loading}checkValidity(){if(this.isButton()){const e=this.focusElement.checkValidity();return e||this.emit("invalid",{bubbles:!1,cancelable:!0,composed:!1}),e}return!0}reportValidity(){if(this.isButton()){const e=!this.focusElement.reportValidity();return e&&this.emit("invalid",{bubbles:!1,cancelable:!0,composed:!1}),!e}return!0}setCustomValidity(e){this.isButton()&&this.focusElement.setCustomValidity(e)}firstUpdated(e){super.firstUpdated(e),this.addEventListener("click",()=>{this.type==="submit"&&this.formController.submit(this),this.type==="reset"&&this.formController.reset(this)})}renderLoading(){return this.loading?_e`<mdui-circular-progress part="loading"></mdui-circular-progress>`:yi}renderButton({id:e,className:n,part:r,content:i=_e`<slot></slot>`}){return _e`<button id="${cn(e)}" class="${pf(["_button",n])}" part="${cn(r)}" ?disabled="${this.rippleDisabled||this.focusDisabled}">${i}</button>`}isButton(){return!this.href}}Ui.styles=[ci,NGe];q([ce({type:Boolean,reflect:!0,converter:St})],Ui.prototype,"disabled",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],Ui.prototype,"loading",void 0);q([ce({reflect:!0})],Ui.prototype,"name",void 0);q([ce({reflect:!0})],Ui.prototype,"value",void 0);q([ce({reflect:!0})],Ui.prototype,"type",void 0);q([ce({reflect:!0})],Ui.prototype,"form",void 0);q([ce({reflect:!0,attribute:"formaction"})],Ui.prototype,"formAction",void 0);q([ce({reflect:!0,attribute:"formenctype"})],Ui.prototype,"formEnctype",void 0);q([ce({reflect:!0,attribute:"formmethod"})],Ui.prototype,"formMethod",void 0);q([ce({type:Boolean,reflect:!0,converter:St,attribute:"formnovalidate"})],Ui.prototype,"formNoValidate",void 0);q([ce({reflect:!0,attribute:"formtarget"})],Ui.prototype,"formTarget",void 0);const FGe=ur`:host{--shape-corner:var(--mdui-shape-corner-small);position:relative;display:inline-block;flex-shrink:0;overflow:hidden;border-radius:var(--shape-corner);cursor:pointer;-webkit-tap-highlight-color:transparent;transition:box-shadow var(--mdui-motion-duration-short4) var(--mdui-motion-easing-linear);height:2rem;background-color:rgb(var(--mdui-color-surface));border:.0625rem solid rgb(var(--mdui-color-outline));color:rgb(var(--mdui-color-on-surface-variant));font-size:var(--mdui-typescale-label-large-size);font-weight:var(--mdui-typescale-label-large-weight);letter-spacing:var(--mdui-typescale-label-large-tracking);line-height:var(--mdui-typescale-label-large-line-height);--mdui-comp-ripple-state-layer-color:var(--mdui-color-on-surface-variant)}.button{padding-right:.4375rem;padding-left:.4375rem}:host([variant=input]) .button{padding-right:.1875rem;padding-left:.1875rem}:host([selected]:not([selected=false i])) .button{padding-right:.5rem;padding-left:.5rem}:host([selected][variant=input]:not([selected=false i])) .button{padding-right:.25rem;padding-left:.25rem}:host([elevated]:not([elevated=false i])) .button{padding-right:.5rem;padding-left:.5rem}:host([variant=assist]){color:rgb(var(--mdui-color-on-surface));--mdui-comp-ripple-state-layer-color:var(--mdui-color-on-surface)}:host([elevated]:not([elevated=false i])){border-width:0;background-color:rgb(var(--mdui-color-surface-container-low));box-shadow:var(--mdui-elevation-level1)}:host([selected]:not([selected=false i])){color:rgb(var(--mdui-color-on-secondary-container));background-color:rgb(var(--mdui-color-secondary-container));border-width:0;--mdui-comp-ripple-state-layer-color:var(
      --mdui-color-on-secondary-container
    )}:host([disabled]:not([disabled=false i])),:host([loading]:not([loading=false i])){cursor:default;pointer-events:none}:host([disabled]:not([disabled=false i])){border-color:rgba(var(--mdui-color-on-surface),12%);color:rgba(var(--mdui-color-on-surface),38%);box-shadow:var(--mdui-elevation-level0)}:host([disabled][elevated]:not([disabled=false i],[elevated=false i])),:host([disabled][selected]:not([disabled=false i],[selected=false i])){background-color:rgba(var(--mdui-color-on-surface),12%)}:host([selected][hover]:not([selected=false i])){box-shadow:var(--mdui-elevation-level1)}:host([elevated][hover]:not([elevated=false i])){color:rgb(var(--mdui-color-on-secondary-container));box-shadow:var(--mdui-elevation-level2)}:host([variant=filter][hover]),:host([variant=input][hover]),:host([variant=suggestion][hover]){color:rgb(var(--mdui-color-on-surface-variant))}:host([variant=filter][focus-visible]),:host([variant=input][focus-visible]),:host([variant=suggestion][focus-visible]){border-color:rgb(var(--mdui-color-on-surface-variant))}:host([dragged]),:host([dragged][hover]){box-shadow:var(--mdui-elevation-level4)}.button{overflow:visible}.label{display:inline-flex;padding-right:.5rem;padding-left:.5rem}.end-icon,.icon,.selected-icon{display:inline-flex;font-size:1.28571429em;color:rgb(var(--mdui-color-on-surface-variant))}:host([variant=assist]) .end-icon,:host([variant=assist]) .icon,:host([variant=assist]) .selected-icon{color:rgb(var(--mdui-color-primary))}:host([selected]:not([selected=false i])) .end-icon,:host([selected]:not([selected=false i])) .icon,:host([selected]:not([selected=false i])) .selected-icon{color:rgb(var(--mdui-color-on-secondary-container))}:host([disabled]:not([disabled=false i])) .end-icon,:host([disabled]:not([disabled=false i])) .icon,:host([disabled]:not([disabled=false i])) .selected-icon{opacity:.38;color:rgb(var(--mdui-color-on-surface))}.end-icon .i,.icon .i,.selected-icon .i,::slotted([slot=end-icon]),::slotted([slot=icon]),::slotted([slot=selected-icon]){font-size:inherit}:host([variant=input]) .has-icon .icon,:host([variant=input]) .has-icon .selected-icon,:host([variant=input]) .has-icon mdui-circular-progress{margin-left:.25rem}:host([variant=input]) .has-end-icon .end-icon{margin-right:.25rem}mdui-circular-progress{display:inline-flex;width:1.125rem;height:1.125rem}:host([disabled]:not([disabled=false i])) mdui-circular-progress{stroke:rgba(var(--mdui-color-on-surface),38%)}::slotted(mdui-avatar[slot=end-icon]),::slotted(mdui-avatar[slot=icon]),::slotted(mdui-avatar[slot=selected-icon]){width:1.5rem;height:1.5rem}:host([disabled]:not([disabled=false i])) ::slotted(mdui-avatar[slot=end-icon]),:host([disabled]:not([disabled=false i])) ::slotted(mdui-avatar[slot=icon]),:host([disabled]:not([disabled=false i])) ::slotted(mdui-avatar[slot=selected-icon]){opacity:.38}::slotted(mdui-avatar[slot=icon]),::slotted(mdui-avatar[slot=selected-icon]){margin-left:-.25rem;margin-right:-.125rem}::slotted(mdui-avatar[slot=end-icon]){margin-right:-.25rem;margin-left:-.125rem}.delete-icon{display:inline-flex;font-size:1.28571429em;transition:background-color var(--mdui-motion-duration-short4) var(--mdui-motion-easing-linear);border-radius:var(--mdui-shape-corner-full);margin-right:-.25rem;margin-left:-.25rem;padding:.25rem;color:rgb(var(--mdui-color-on-surface-variant))}.delete-icon:hover{background-color:rgba(var(--mdui-color-on-surface-variant),12%)}.has-end-icon .delete-icon{margin-left:.25rem}:host([variant=assiat]) .delete-icon{color:rgb(var(--mdui-color-primary))}:host([variant=input]) .delete-icon{margin-right:.0625rem}:host([disabled]:not([disabled=false i])) .delete-icon{color:rgba(var(--mdui-color-on-surface),38%)}.delete-icon .i,::slotted([slot=delete-icon]){font-size:inherit}::slotted(mdui-avatar[slot=delete-icon]){width:1.125rem;height:1.125rem}`;let Zo=class extends Ui{constructor(){super(),this.variant="assist",this.elevated=!1,this.selectable=!1,this.selected=!1,this.deletable=!1,this.rippleRef=Er(),this.hasSlotController=new vc(this,"icon","selected-icon","end-icon"),this.onClick=this.onClick.bind(this),this.onKeyDown=this.onKeyDown.bind(this)}get rippleElement(){return this.rippleRef.value}onSelectedChange(){this.emit("change")}firstUpdated(e){super.firstUpdated(e),this.addEventListener("click",this.onClick),this.addEventListener("keydown",this.onKeyDown)}render(){const e=this.icon||this.hasSlotController.test("icon"),n=this.endIcon||this.hasSlotController.test("end-icon"),r=this.selectedIcon||["assist","filter"].includes(this.variant)||e||this.hasSlotController.test("selected-icon"),i=pf({button:!0,"has-icon":this.loading||!this.selected&&e||this.selected&&r,"has-end-icon":n});return _e`<mdui-ripple ${Yn(this.rippleRef)} .noRipple="${this.noRipple}"></mdui-ripple>${this.isButton()?this.renderButton({className:i,part:"button",content:this.renderInner()}):this.disabled||this.loading?_e`<span part="button" class="${i} _a">${this.renderInner()}</span>`:this.renderAnchor({className:i,part:"button",content:this.renderInner()})}`}onClick(){this.disabled||this.loading||this.selectable&&(this.selected=!this.selected)}onKeyDown(e){this.disabled||this.loading||(this.selectable&&e.key===" "&&(e.preventDefault(),this.selected=!this.selected),this.deletable&&["Delete","Backspace"].includes(e.key)&&this.emit("delete"))}onDelete(e){e.stopPropagation(),this.emit("delete")}renderIcon(){if(this.loading)return this.renderLoading();const e=()=>this.icon?_e`<mdui-icon name="${this.icon}" class="i"></mdui-icon>`:yi,n=()=>this.selectedIcon?_e`<mdui-icon name="${this.selectedIcon}" class="i"></mdui-icon>`:this.variant==="assist"||this.variant==="filter"?_e`<mdui-icon-check class="i"></mdui-icon-check>`:e();return this.selected?_e`<slot name="selected-icon" part="selected-icon" class="selected-icon">${n()}</slot>`:_e`<slot name="icon" part="icon" class="icon">${e()}</slot>`}renderLabel(){return _e`<slot part="label" class="label"></slot>`}renderEndIcon(){return _e`<slot name="end-icon" part="end-icon" class="end-icon">${this.endIcon?_e`<mdui-icon name="${this.endIcon}" class="i"></mdui-icon>`:yi}</slot>`}renderDeleteIcon(){return this.deletable?_e`<slot name="delete-icon" part="delete-icon" class="delete-icon" @click="${this.onDelete}">${this.deleteIcon?_e`<mdui-icon name="${this.deleteIcon}" class="i"></mdui-icon>`:_e`<mdui-icon-clear class="i"></mdui-icon-clear>`}</slot>`:yi}renderInner(){return[this.renderIcon(),this.renderLabel(),this.renderEndIcon(),this.renderDeleteIcon()]}};Zo.styles=[Ui.styles,FGe];q([ce({reflect:!0})],Zo.prototype,"variant",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],Zo.prototype,"elevated",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],Zo.prototype,"selectable",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],Zo.prototype,"selected",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],Zo.prototype,"deletable",void 0);q([ce({reflect:!0})],Zo.prototype,"icon",void 0);q([ce({reflect:!0,attribute:"selected-icon"})],Zo.prototype,"selectedIcon",void 0);q([ce({reflect:!0,attribute:"end-icon"})],Zo.prototype,"endIcon",void 0);q([ce({reflect:!0,attribute:"delete-icon"})],Zo.prototype,"deleteIcon",void 0);q([mn("selected",!0)],Zo.prototype,"onSelectedChange",null);Zo=q([Rn("mdui-chip")],Zo);const BGe=ur`:host{--z-index:2100;display:contents}.panel{display:block;position:fixed;z-index:var(--z-index)}`;let Us=class extends li{constructor(){super(),this.open=!1,this.disabled=!1,this.trigger="click",this.placement="auto",this.stayOpenOnClick=!1,this.openDelay=150,this.closeDelay=150,this.openOnPointer=!1,this.panelRef=Er(),this.definedController=new ku(this,{relatedElements:[""]}),this.onDocumentClick=this.onDocumentClick.bind(this),this.onDocumentKeydown=this.onDocumentKeydown.bind(this),this.onWindowScroll=this.onWindowScroll.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this.onFocus=this.onFocus.bind(this),this.onClick=this.onClick.bind(this),this.onContextMenu=this.onContextMenu.bind(this),this.onMouseEnter=this.onMouseEnter.bind(this),this.onPanelClick=this.onPanelClick.bind(this)}get triggerElement(){return this.triggerElements[0]}async onPositionChange(){this.open&&(await this.definedController.whenDefined(),this.updatePositioner())}async onOpenChange(){const e=this.hasUpdated;if(!this.open&&!e)return;await this.definedController.whenDefined(),e||await this.updateComplete;const n=Am(this,"linear"),r=Am(this,"emphasized-decelerate"),i=Am(this,"emphasized-accelerate");if(this.open){if(e&&!this.emit("open",{cancelable:!0}))return;const s=this.panelElements.find(a=>Bs(a.focus));setTimeout(()=>{s?.focus()});const o=J2(this,"medium4");await K2(this.panelRef.value),this.panelRef.value.hidden=!1,this.updatePositioner(),await Promise.all([Ju(this.panelRef.value,[{transform:`${this.getCssScaleName()}(0.45)`},{transform:`${this.getCssScaleName()}(1)`}],{duration:e?o:0,easing:r}),Ju(this.panelRef.value,[{opacity:0},{opacity:1,offset:.125},{opacity:1}],{duration:e?o:0,easing:n})]),e&&this.emit("opened")}else{if(!this.emit("close",{cancelable:!0}))return;!this.hasTrigger("focus")&&Bs(this.triggerElement?.focus)&&(this.contains(document.activeElement)||this.contains(document.activeElement?.assignedSlot??null))&&this.triggerElement.focus();const o=J2(this,"short4");await K2(this.panelRef.value),await Promise.all([Ju(this.panelRef.value,[{transform:`${this.getCssScaleName()}(1)`},{transform:`${this.getCssScaleName()}(0.45)`}],{duration:o,easing:i}),Ju(this.panelRef.value,[{opacity:1},{opacity:1,offset:.875},{opacity:0}],{duration:o,easing:n})]),this.panelRef.value&&(this.panelRef.value.hidden=!0),this.emit("closed")}}connectedCallback(){super.connectedCallback(),this.definedController.whenDefined().then(()=>{document.addEventListener("pointerdown",this.onDocumentClick),document.addEventListener("keydown",this.onDocumentKeydown),this.overflowAncestors=og(this.triggerElement),this.overflowAncestors.forEach(e=>{e.addEventListener("scroll",this.onWindowScroll)}),this.observeResize=Nw(this.triggerElement,()=>{this.updatePositioner()})})}disconnectedCallback(){!this.open&&this.panelRef.value&&(this.panelRef.value.hidden=!0),super.disconnectedCallback(),document.removeEventListener("pointerdown",this.onDocumentClick),document.removeEventListener("keydown",this.onDocumentKeydown),this.overflowAncestors?.forEach(e=>{e.removeEventListener("scroll",this.onWindowScroll)}),this.observeResize?.unobserve()}firstUpdated(e){super.firstUpdated(e),this.addEventListener("mouseleave",this.onMouseLeave),this.definedController.whenDefined().then(()=>{this.triggerElement.addEventListener("focus",this.onFocus),this.triggerElement.addEventListener("click",this.onClick),this.triggerElement.addEventListener("contextmenu",this.onContextMenu),this.triggerElement.addEventListener("mouseenter",this.onMouseEnter)})}render(){return _e`<slot name="trigger" part="trigger" class="trigger"></slot><slot ${Yn(this.panelRef)} part="panel" class="panel" hidden @click="${this.onPanelClick}"></slot>`}getCssScaleName(){return this.animateDirection==="horizontal"?"scaleX":"scaleY"}onDocumentClick(e){if(this.disabled||!this.open)return;const n=e.composedPath();n.includes(this)||(this.open=!1),this.hasTrigger("contextmenu")&&!this.hasTrigger("click")&&n.includes(this.triggerElement)&&(this.open=!1)}onDocumentKeydown(e){if(!(this.disabled||!this.open)){if(e.key==="Escape"){this.open=!1;return}e.key==="Tab"&&(!this.hasTrigger("focus")&&Bs(this.triggerElement?.focus)&&e.preventDefault(),this.open=!1)}}onWindowScroll(){window.requestAnimationFrame(()=>this.onPositionChange())}hasTrigger(e){return this.trigger.split(" ").includes(e)}onFocus(){this.disabled||this.open||!this.hasTrigger("focus")||(this.open=!0)}onClick(e){this.disabled||e.button||!this.hasTrigger("click")||this.open&&(this.hasTrigger("hover")||this.hasTrigger("focus"))||(this.pointerOffsetX=e.offsetX,this.pointerOffsetY=e.offsetY,this.open=!this.open)}onPanelClick(e){!this.disabled&&!this.stayOpenOnClick&&Qe(e.target).is("mdui-menu-item")&&(this.open=!1)}onContextMenu(e){this.disabled||!this.hasTrigger("contextmenu")||(e.preventDefault(),this.pointerOffsetX=e.offsetX,this.pointerOffsetY=e.offsetY,this.open=!0)}onMouseEnter(){this.disabled||!this.hasTrigger("hover")||(window.clearTimeout(this.closeTimeout),this.openDelay?this.openTimeout=window.setTimeout(()=>{this.open=!0},this.openDelay):this.open=!0)}onMouseLeave(){this.disabled||!this.hasTrigger("hover")||(window.clearTimeout(this.openTimeout),this.closeTimeout=window.setTimeout(()=>{this.open=!1},this.closeDelay||50))}updatePositioner(){const e=Qe(this.panelRef.value),n=Qe(window),r=this.panelElements,i={width:Math.max(...r?.map(p=>p.offsetWidth)??[]),height:r?.map(p=>p.offsetHeight).reduce((p,v)=>p+v,0)},s=this.triggerElement.getBoundingClientRect(),o=this.openOnPointer?{top:this.pointerOffsetY+s.top,left:this.pointerOffsetX+s.left,width:0,height:0}:s,a=8;let l,c,d,h,f=this.placement;if(f==="auto"){const p=n.width(),v=n.height();let b,y;v-o.top-o.height>i.height+a?b="bottom":o.top>i.height+a?b="top":p-o.left-o.width>i.width+a?b="right":o.left>i.width+a?b="left":b="bottom",["top","bottom"].includes(b)?p-o.left>i.width+a?y="start":o.left+o.width/2>i.width/2+a&&p-o.left-o.width/2>i.width/2+a?y=void 0:o.left+o.width>i.width+a?y="end":y="start":v-o.top>i.height+a?y="start":o.top+o.height/2>i.height/2+a&&v-o.top-o.height/2>i.height/2+a?y=void 0:o.top+o.height>i.height+a?y="end":y="start",f=y?[b,y].join("-"):b}const[m,g]=f.split("-");switch(this.animateDirection=["top","bottom"].includes(m)?"vertical":"horizontal",m){case"top":c="bottom",d=o.top-i.height;break;case"bottom":c="top",d=o.top+o.height;break;default:switch(c="center",g){case"start":d=o.top;break;case"end":d=o.top+o.height-i.height;break;default:d=o.top+o.height/2-i.height/2;break}break}switch(m){case"left":l="right",h=o.left-i.width;break;case"right":l="left",h=o.left+o.width;break;default:switch(l="center",g){case"start":h=o.left;break;case"end":h=o.left+o.width-i.width;break;default:h=o.left+o.width/2-i.width/2;break}break}e.css({top:d,left:h,transformOrigin:[l,c].join(" ")})}};Us.styles=[ci,BGe];q([ce({type:Boolean,reflect:!0,converter:St})],Us.prototype,"open",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],Us.prototype,"disabled",void 0);q([ce({reflect:!0})],Us.prototype,"trigger",void 0);q([ce({reflect:!0})],Us.prototype,"placement",void 0);q([ce({type:Boolean,reflect:!0,converter:St,attribute:"stay-open-on-click"})],Us.prototype,"stayOpenOnClick",void 0);q([ce({type:Number,reflect:!0,attribute:"open-delay"})],Us.prototype,"openDelay",void 0);q([ce({type:Number,reflect:!0,attribute:"close-delay"})],Us.prototype,"closeDelay",void 0);q([ce({type:Boolean,reflect:!0,converter:St,attribute:"open-on-pointer"})],Us.prototype,"openOnPointer",void 0);q([hf({slot:"trigger",flatten:!0})],Us.prototype,"triggerElements",void 0);q([hf({flatten:!0})],Us.prototype,"panelElements",void 0);q([mn("placement",!0),mn("openOnPointer",!0)],Us.prototype,"onPositionChange",null);q([mn("open")],Us.prototype,"onOpenChange",null);Us=q([Rn("mdui-dropdown")],Us);Qe.fn.add=function(t){return new cs(Mw(zY(this.get(),Qe(t).get())))};const lO=(t,e)=>{if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>i===r[s])},zGe=(t=0)=>new Promise(e=>setTimeout(e,t)),QGe=ur`:host{--shape-corner:var(--mdui-shape-corner-extra-small);position:relative;display:block;border-radius:var(--shape-corner);background-color:rgb(var(--mdui-color-surface-container));box-shadow:var(--mdui-elevation-level2);min-width:7rem;max-width:17.5rem;padding-top:.5rem;padding-bottom:.5rem;--mdui-comp-ripple-state-layer-color:var(--mdui-color-on-surface)}::slotted(mdui-divider){margin-top:.5rem;margin-bottom:.5rem}`;let Vs=class extends li{constructor(){super(...arguments),this.dense=!1,this.submenuTrigger="click hover",this.submenuOpenDelay=200,this.submenuCloseDelay=200,this.selectedKeys=[],this.isInitial=!0,this.lastActiveItems=[],this.definedController=new ku(this,{relatedElements:["mdui-menu-item"]})}get items(){return Qe(this.childrenItems).find("mdui-menu-item").add(this.childrenItems).get()}get itemsEnabled(){return this.items.filter(e=>!e.disabled)}get isSingle(){return this.selects==="single"}get isMultiple(){return this.selects==="multiple"}get isSelectable(){return this.isSingle||this.isMultiple}get isSubmenu(){return!Qe(this).parent().length}get lastActiveItem(){const e=this.lastActiveItems.length?this.lastActiveItems.length-1:0;return this.lastActiveItems[e]}set lastActiveItem(e){const n=this.lastActiveItems.length?this.lastActiveItems.length-1:0;this.lastActiveItems[n]=e}async onSlotChange(){await this.definedController.whenDefined(),this.items.forEach(e=>{e.dense=this.dense,e.selects=this.selects,e.submenuTrigger=this.submenuTrigger,e.submenuOpenDelay=this.submenuOpenDelay,e.submenuCloseDelay=this.submenuCloseDelay})}async onSelectsChange(){this.isSelectable?this.isSingle&&this.setSelectedKeys(this.selectedKeys.slice(0,1)):this.setSelectedKeys([]),await this.onSelectedKeysChange()}async onSelectedKeysChange(){await this.definedController.whenDefined();const e=this.itemsEnabled.filter(r=>this.selectedKeys.includes(r.key)).map(r=>r.value),n=this.isMultiple?e:e[0]||void 0;this.setValue(n),this.isInitial||this.emit("change")}async onValueChange(){if(this.isInitial=!this.hasUpdated,await this.definedController.whenDefined(),!this.isSelectable){this.updateSelected();return}const e=(this.isSingle?[this.value]:Qs(this.value)?[this.value]:this.value).filter(n=>n);if(!e.length)this.setSelectedKeys([]);else if(this.isSingle){const n=this.itemsEnabled.find(r=>r.value===e[0]);this.setSelectedKeys(n?[n.key]:[])}else this.isMultiple&&this.setSelectedKeys(this.itemsEnabled.filter(n=>e.includes(n.value)).map(n=>n.key));this.updateSelected(),this.updateFocusable()}focus(e){this.lastActiveItem&&this.focusOne(this.lastActiveItem,e)}blur(){this.lastActiveItem&&this.lastActiveItem.blur()}firstUpdated(e){super.firstUpdated(e),this.definedController.whenDefined().then(()=>{this.updateFocusable(),this.lastActiveItem=this.items.find(n=>n.focusable)}),this.addEventListener("submenu-open",n=>{const r=Qe(n.target),i=r.children("mdui-menu-item:not([disabled])").get(),s=r.parents("mdui-menu-item").length+1;i.length&&(this.lastActiveItems[s]=i[0],this.updateFocusable(),this.focusOne(this.lastActiveItems[s]))}),this.addEventListener("submenu-close",n=>{const i=Qe(n.target).parents("mdui-menu-item").length+1;this.lastActiveItems.length-1===i&&(this.lastActiveItems.pop(),this.updateFocusable(),this.lastActiveItems[i-1]&&this.focusOne(this.lastActiveItems[i-1]))})}render(){return _e`<slot @slotchange="${this.onSlotChange}" @click="${this.onClick}" @keydown="${this.onKeyDown}"></slot>`}setSelectedKeys(e){lO(this.selectedKeys,e)||(this.selectedKeys=e)}setValue(e){this.isSingle||Vo(this.value)||Vo(e)?this.value=e:lO(this.value,e)||(this.value=e)}getSiblingsItems(e,n=!1){return Qe(e).parent().children(`mdui-menu-item${n?":not([disabled])":""}`).get()}updateFocusable(){if(this.lastActiveItem){this.items.forEach(e=>{e.focusable=e.key===this.lastActiveItem.key});return}if(!this.selectedKeys.length){this.itemsEnabled.forEach((e,n)=>{e.focusable=!n});return}if(this.isSingle){this.items.forEach(e=>{e.focusable=this.selectedKeys.includes(e.key)});return}if(this.isMultiple){const e=this.items.find(n=>n.focusable);(!e?.key||!this.selectedKeys.includes(e.key))&&this.itemsEnabled.filter(n=>this.selectedKeys.includes(n.key)).forEach((n,r)=>n.focusable=!r)}}updateSelected(){this.items.forEach(e=>{e.selected=this.selectedKeys.includes(e.key)})}selectOne(e){if(this.isMultiple){const n=[...this.selectedKeys];n.includes(e.key)?n.splice(n.indexOf(e.key),1):n.push(e.key),this.setSelectedKeys(n)}this.isSingle&&(this.selectedKeys.includes(e.key)?this.setSelectedKeys([]):this.setSelectedKeys([e.key])),this.isInitial=!1,this.updateSelected()}async focusableOne(e){this.items.forEach(n=>n.focusable=n.key===e.key),await zGe()}focusOne(e,n){e.focus(n)}async onClick(e){if(!this.definedController.isDefined()||this.isSubmenu||e.button)return;const r=e.target.closest("mdui-menu-item");!r||r.disabled||(this.lastActiveItem=r,this.isSelectable&&r.value&&this.selectOne(r),await this.focusableOne(r),this.focusOne(r))}async onKeyDown(e){if(!this.definedController.isDefined()||this.isSubmenu)return;const n=e.target;if(e.key==="Enter"&&(e.preventDefault(),n.click()),e.key===" "&&(e.preventDefault(),this.isSelectable&&n.value&&(this.selectOne(n),await this.focusableOne(n),this.focusOne(n))),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){const r=this.getSiblingsItems(n,!0),i=r.find(o=>o.focusable);let s=i?r.indexOf(i):0;if(r.length>0){e.preventDefault(),e.key==="ArrowDown"?s++:e.key==="ArrowUp"?s--:e.key==="Home"?s=0:e.key==="End"&&(s=r.length-1),s<0&&(s=r.length-1),s>r.length-1&&(s=0),this.lastActiveItem=r[s],await this.focusableOne(r[s]),this.focusOne(r[s]);return}}}};Vs.styles=[ci,QGe];q([ce({reflect:!0})],Vs.prototype,"selects",void 0);q([ce()],Vs.prototype,"value",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],Vs.prototype,"dense",void 0);q([ce({reflect:!0,attribute:"submenu-trigger"})],Vs.prototype,"submenuTrigger",void 0);q([ce({type:Number,reflect:!0,attribute:"submenu-open-delay"})],Vs.prototype,"submenuOpenDelay",void 0);q([ce({type:Number,reflect:!0,attribute:"submenu-close-delay"})],Vs.prototype,"submenuCloseDelay",void 0);q([Wn()],Vs.prototype,"selectedKeys",void 0);q([hf({flatten:!0,selector:"mdui-menu-item"})],Vs.prototype,"childrenItems",void 0);q([mn("dense"),mn("selects"),mn("submenuTrigger"),mn("submenuOpenDelay"),mn("submenuCloseDelay")],Vs.prototype,"onSlotChange",null);q([mn("selects",!0)],Vs.prototype,"onSelectsChange",null);q([mn("selectedKeys",!0)],Vs.prototype,"onSelectedKeysChange",null);q([mn("value")],Vs.prototype,"onValueChange",null);Vs=q([Rn("mdui-menu")],Vs);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const UGe="lit-localize-status";/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const VGe=t=>typeof t!="string"&&"strTag"in t,jGe=(t,e,n)=>{let r=t[0];for(let i=1;i<t.length;i++)r+=e[i-1],r+=t[i];return r};/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const qGe=t=>VGe(t)?jGe(t.strings,t.values):t;let HGe=qGe;/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class WGe{constructor(){this.settled=!1,this.promise=new Promise((e,n)=>{this._resolve=e,this._reject=n})}resolve(e){this.settled=!0,this._resolve(e)}reject(e){this.settled=!0,this._reject(e)}}/**
 * @license
 * Copyright 2014 Travis Webb
 * SPDX-License-Identifier: MIT
 */for(let t=0;t<256;t++)(t>>4&15).toString(16)+(t&15).toString(16);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let XGe=new WGe;XGe.resolve();let $5=class extends Bi{render(){return Ua('<path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"/>')}};$5.styles=Qa;$5=q([Rn("mdui-icon-cancel--outlined")],$5);let L5=class extends Bi{render(){return Ua('<path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/>')}};L5.styles=Qa;L5=q([Rn("mdui-icon-error")],L5);let N5=class extends Bi{render(){return Ua('<path d="M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46A11.804 11.804 0 0 0 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"/>')}};N5.styles=Qa;N5=q([Rn("mdui-icon-visibility-off")],N5);let F5=class extends Bi{render(){return Ua('<path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>')}};F5.styles=Qa;F5=q([Rn("mdui-icon-visibility")],F5);let zI=!1;const wy=new Map,YGe=(t,e)=>{zI||(zI=!0,Bg().addEventListener(UGe,i=>{i.detail.status==="ready"&&wy.forEach(s=>{s.forEach(o=>o())})}));const n=wy.get(t)||[];n.push(e),wy.set(t,n)},Q4=t=>{wy.delete(t)},GGe=ur`:host{--shape-corner:var(--mdui-shape-corner-full);position:relative;display:inline-block;flex-shrink:0;overflow:hidden;text-align:center;border-radius:var(--shape-corner);cursor:pointer;-webkit-tap-highlight-color:transparent;font-size:1.5rem;width:2.5rem;height:2.5rem}:host([variant=standard]){color:rgb(var(--mdui-color-on-surface-variant));--mdui-comp-ripple-state-layer-color:var(--mdui-color-on-surface-variant)}:host([variant=filled]){color:rgb(var(--mdui-color-primary));background-color:rgb(var(--mdui-color-surface-container-highest));--mdui-comp-ripple-state-layer-color:var(--mdui-color-primary)}:host([variant=tonal]){color:rgb(var(--mdui-color-on-surface-variant));background-color:rgb(var(--mdui-color-surface-container-highest));--mdui-comp-ripple-state-layer-color:var(--mdui-color-on-surface-variant)}:host([variant=outlined]){border:.0625rem solid rgb(var(--mdui-color-outline));color:rgb(var(--mdui-color-on-surface-variant));--mdui-comp-ripple-state-layer-color:var(--mdui-color-on-surface-variant)}:host([variant=outlined][pressed]){color:rgb(var(--mdui-color-on-surface));--mdui-comp-ripple-state-layer-color:var(--mdui-color-on-surface)}:host([variant=standard][selected]:not([selected=false i])){color:rgb(var(--mdui-color-primary));--mdui-comp-ripple-state-layer-color:var(--mdui-color-primary)}:host([variant=filled]:not([selectable])),:host([variant=filled][selectable=false i]),:host([variant=filled][selected]:not([selected=false i])){color:rgb(var(--mdui-color-on-primary));background-color:rgb(var(--mdui-color-primary));--mdui-comp-ripple-state-layer-color:var(--mdui-color-on-primary)}:host([variant=tonal]:not([selectable])),:host([variant=tonal][selectable=false i]),:host([variant=tonal][selected]:not([selected=false i])){color:rgb(var(--mdui-color-on-secondary-container));background-color:rgb(var(--mdui-color-secondary-container));--mdui-comp-ripple-state-layer-color:var(
      --mdui-color-on-secondary-container
    )}:host([variant=outlined][selected]:not([selected=false i])){border:none;color:rgb(var(--mdui-color-inverse-on-surface));background-color:rgb(var(--mdui-color-inverse-surface));--mdui-comp-ripple-state-layer-color:var(--mdui-color-inverse-on-surface)}:host([variant=filled][disabled]:not([disabled=false i])),:host([variant=outlined][disabled]:not([disabled=false i])),:host([variant=tonal][disabled]:not([disabled=false i])){background-color:rgba(var(--mdui-color-on-surface),.12);border-color:rgba(var(--mdui-color-on-surface),.12)}:host([disabled]:not([disabled=false i])),:host([loading]:not([loading=false i])){cursor:default;pointer-events:none}:host([disabled]:not([disabled=false i])){color:rgba(var(--mdui-color-on-surface),.38)!important}:host([loading]:not([loading=false i])) .button,:host([loading]:not([loading=false i])) mdui-ripple{opacity:0}.button{float:left;width:100%}.icon,.selected-icon mdui-icon,::slotted(*){font-size:inherit}mdui-circular-progress{display:flex;position:absolute;top:calc(50% - 1.5rem / 2);left:calc(50% - 1.5rem / 2);width:1.5rem;height:1.5rem}:host([variant=filled]:not([disabled])) mdui-circular-progress,:host([variant=filled][disabled=false i]) mdui-circular-progress{stroke:rgb(var(--mdui-color-on-primary))}:host([disabled]:not([disabled=false i])) mdui-circular-progress{stroke:rgba(var(--mdui-color-on-surface),38%)}`;let lu=class extends Ui{constructor(){super(...arguments),this.variant="standard",this.selectable=!1,this.selected=!1,this.rippleRef=Er(),this.hasSlotController=new vc(this,"[default]","selected-icon")}get rippleElement(){return this.rippleRef.value}onSelectedChange(){this.emit("change")}firstUpdated(e){super.firstUpdated(e),this.addEventListener("click",()=>{!this.selectable||this.disabled||(this.selected=!this.selected)})}render(){return _e`<mdui-ripple ${Yn(this.rippleRef)} .noRipple="${this.noRipple}"></mdui-ripple>${this.isButton()?this.renderButton({className:"button",part:"button",content:this.renderIcon()}):this.disabled||this.loading?_e`<span part="button" class="button _a">${this.renderIcon()}</span>`:this.renderAnchor({className:"button",part:"button",content:this.renderIcon()})} ${this.renderLoading()}`}renderIcon(){const e=()=>this.hasSlotController.test("[default]")?_e`<slot></slot>`:this.icon?_e`<mdui-icon part="icon" class="icon" name="${this.icon}"></mdui-icon>`:yi,n=()=>this.hasSlotController.test("selected-icon")||this.selectedIcon?_e`<slot name="selected-icon" part="selected-icon" class="selected-icon"><mdui-icon name="${this.selectedIcon}"></mdui-icon></slot>`:e();return this.selected?n():e()}};lu.styles=[Ui.styles,GGe];q([ce({reflect:!0})],lu.prototype,"variant",void 0);q([ce({reflect:!0})],lu.prototype,"icon",void 0);q([ce({reflect:!0,attribute:"selected-icon"})],lu.prototype,"selectedIcon",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],lu.prototype,"selectable",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],lu.prototype,"selected",void 0);q([mn("selected",!0)],lu.prototype,"onSelectedChange",null);lu=q([Rn("mdui-button-icon")],lu);const ZGe=ur`:host{display:inline-block;width:100%}:host([disabled]:not([disabled=false i])){pointer-events:none}:host([type=hidden]){display:none}.container{position:relative;display:flex;align-items:center;height:100%;padding:.125rem .125rem .125rem 1rem;transition:box-shadow var(--mdui-motion-duration-short4) var(--mdui-motion-easing-standard)}.container.has-icon{padding-left:.75rem}.container.has-action,.container.has-right-icon,.container.has-suffix{padding-right:.75rem}:host([variant=filled]) .container{box-shadow:inset 0 -.0625rem 0 0 rgb(var(--mdui-color-on-surface-variant));background-color:rgb(var(--mdui-color-surface-container-highest));border-radius:var(--mdui-shape-corner-extra-small) var(--mdui-shape-corner-extra-small) 0 0}:host([variant=filled]) .container.invalid,:host([variant=filled]) .container.invalid-style{box-shadow:inset 0 -.0625rem 0 0 rgb(var(--mdui-color-error))}:host([variant=filled]:hover) .container{box-shadow:inset 0 -.0625rem 0 0 rgb(var(--mdui-color-on-surface))}:host([variant=filled]:hover) .container.invalid,:host([variant=filled]:hover) .container.invalid-style{box-shadow:inset 0 -.0625rem 0 0 rgb(var(--mdui-color-on-error-container))}:host([variant=filled][focused-style]) .container,:host([variant=filled][focused]) .container{box-shadow:inset 0 -.125rem 0 0 rgb(var(--mdui-color-primary))}:host([variant=filled][focused-style]) .container.invalid,:host([variant=filled][focused-style]) .container.invalid-style,:host([variant=filled][focused]) .container.invalid,:host([variant=filled][focused]) .container.invalid-style{box-shadow:inset 0 -.125rem 0 0 rgb(var(--mdui-color-error))}:host([variant=filled][disabled]:not([disabled=false i])) .container{box-shadow:inset 0 -.0625rem 0 0 rgba(var(--mdui-color-on-surface),38%);background-color:rgba(var(--mdui-color-on-surface),4%)}:host([variant=outlined]) .container{box-shadow:inset 0 0 0 .0625rem rgb(var(--mdui-color-outline));border-radius:var(--mdui-shape-corner-extra-small)}:host([variant=outlined]) .container.invalid,:host([variant=outlined]) .container.invalid-style{box-shadow:inset 0 0 0 .0625rem rgb(var(--mdui-color-error))}:host([variant=outlined]:hover) .container{box-shadow:inset 0 0 0 .0625rem rgb(var(--mdui-color-on-surface))}:host([variant=outlined]:hover) .container.invalid,:host([variant=outlined]:hover) .container.invalid-style{box-shadow:inset 0 0 0 .0625rem rgb(var(--mdui-color-on-error-container))}:host([variant=outlined][focused-style]) .container,:host([variant=outlined][focused]) .container{box-shadow:inset 0 0 0 .125rem rgb(var(--mdui-color-primary))}:host([variant=outlined][focused-style]) .container.invalid,:host([variant=outlined][focused-style]) .container.invalid-style,:host([variant=outlined][focused]) .container.invalid,:host([variant=outlined][focused]) .container.invalid-style{box-shadow:inset 0 0 0 .125rem rgb(var(--mdui-color-error))}:host([variant=outlined][disabled]:not([disabled=false i])) .container{box-shadow:inset 0 0 0 .125rem rgba(var(--mdui-color-on-surface),12%)}.action,.icon,.prefix,.right-icon,.suffix{display:flex;-webkit-user-select:none;user-select:none;color:rgb(var(--mdui-color-on-surface-variant))}:host([disabled]:not([disabled=false i])) .action,:host([disabled]:not([disabled=false i])) .icon,:host([disabled]:not([disabled=false i])) .prefix,:host([disabled]:not([disabled=false i])) .right-icon,:host([disabled]:not([disabled=false i])) .suffix{color:rgba(var(--mdui-color-on-surface),38%)}.invalid .right-icon,.invalid-style .right-icon{color:rgb(var(--mdui-color-error))}:host(:hover) .invalid .right-icon,:host(:hover) .invalid-style .right-icon{color:rgb(var(--mdui-color-on-error-container))}:host([focused-style]) .invalid .right-icon,:host([focused-style]) .invalid-style .right-icon,:host([focused]) .invalid .right-icon,:host([focused]) .invalid-style .right-icon{color:rgb(var(--mdui-color-error))}.action,.icon,.right-icon{font-size:1.5rem}.action mdui-button-icon,.icon mdui-button-icon,.right-icon mdui-button-icon,::slotted(mdui-button-icon[slot]){margin-left:-.5rem;margin-right:-.5rem}.action .i,.icon .i,.right-icon .i,::slotted([slot$=icon]){font-size:inherit}.has-icon .icon{margin-right:1rem}.has-prefix .prefix{padding-right:.125rem}.has-action .action{margin-left:.75rem}.has-suffix .suffix{padding-right:.25rem;padding-left:.125rem}.has-right-icon .right-icon{margin-left:.75rem}.prefix,.suffix{display:none;font-size:var(--mdui-typescale-body-large-size);font-weight:var(--mdui-typescale-body-large-weight);letter-spacing:var(--mdui-typescale-body-large-tracking);line-height:var(--mdui-typescale-body-large-line-height)}:host([variant=filled][label]) .prefix,:host([variant=filled][label]) .suffix{padding-top:1rem}.has-value .prefix,.has-value .suffix,:host([focused-style]) .prefix,:host([focused-style]) .suffix,:host([focused]) .prefix,:host([focused]) .suffix{display:flex}.input-container{display:flex;width:100%;height:100%}.label{position:absolute;pointer-events:none;max-width:calc(100% - 1rem);display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:1;transition:all var(--mdui-motion-duration-short4) var(--mdui-motion-easing-standard);top:1rem;color:rgb(var(--mdui-color-on-surface-variant));font-size:var(--mdui-typescale-body-large-size);font-weight:var(--mdui-typescale-body-large-weight);letter-spacing:var(--mdui-typescale-body-large-tracking);line-height:var(--mdui-typescale-body-large-line-height)}.invalid .label,.invalid-style .label{color:rgb(var(--mdui-color-error))}:host([variant=outlined]) .label{padding:0 .25rem;margin:0 -.25rem}:host([variant=outlined]:hover) .label{color:rgb(var(--mdui-color-on-surface))}:host([variant=filled]:hover) .invalid .label,:host([variant=filled]:hover) .invalid-style .label,:host([variant=outlined]:hover) .invalid .label,:host([variant=outlined]:hover) .invalid-style .label{color:rgb(var(--mdui-color-on-error-container))}:host([variant=filled][focused-style]) .label,:host([variant=filled][focused]) .label,:host([variant=outlined][focused-style]) .label,:host([variant=outlined][focused]) .label{color:rgb(var(--mdui-color-primary))}:host([variant=filled]) .has-value .label,:host([variant=filled][focused-style]) .label,:host([variant=filled][focused]) .label,:host([variant=filled][type=date]) .label,:host([variant=filled][type=datetime-local]) .label,:host([variant=filled][type=month]) .label,:host([variant=filled][type=time]) .label,:host([variant=filled][type=week]) .label{font-size:var(--mdui-typescale-body-small-size);font-weight:var(--mdui-typescale-body-small-weight);letter-spacing:var(--mdui-typescale-body-small-tracking);line-height:var(--mdui-typescale-body-small-line-height);top:.25rem}:host([variant=outlined]) .has-value .label,:host([variant=outlined][focused-style]) .label,:host([variant=outlined][focused]) .label,:host([variant=outlined][type=date]) .label,:host([variant=outlined][type=datetime-local]) .label,:host([variant=outlined][type=month]) .label,:host([variant=outlined][type=time]) .label,:host([variant=outlined][type=week]) .label{font-size:var(--mdui-typescale-body-small-size);font-weight:var(--mdui-typescale-body-small-weight);letter-spacing:var(--mdui-typescale-body-small-tracking);line-height:var(--mdui-typescale-body-small-line-height);top:-.5rem;left:.75rem;background-color:rgb(var(--mdui-color-background))}:host([variant=filled][focused-style]) .invalid .label,:host([variant=filled][focused-style]) .invalid-style .label,:host([variant=filled][focused]) .invalid .label,:host([variant=filled][focused]) .invalid-style .label,:host([variant=outlined][focused-style]) .invalid .label,:host([variant=outlined][focused-style]) .invalid-style .label,:host([variant=outlined][focused]) .invalid .label,:host([variant=outlined][focused]) .invalid-style .label{color:rgb(var(--mdui-color-error))}:host([variant=filled][disabled]:not([disabled=false i])) .label,:host([variant=outlined][disabled]:not([disabled=false i])) .label{color:rgba(var(--mdui-color-on-surface),38%)}.input{display:block;width:100%;border:none;outline:0;background:0 0;appearance:none;resize:none;cursor:inherit;font-family:inherit;padding:.875rem .875rem .875rem 0;font-size:var(--mdui-typescale-body-large-size);font-weight:var(--mdui-typescale-body-large-weight);letter-spacing:var(--mdui-typescale-body-large-tracking);line-height:var(--mdui-typescale-body-large-line-height);color:rgb(var(--mdui-color-on-surface));caret-color:rgb(var(--mdui-color-primary))}.has-action .input,.has-right-icon .input{padding-right:.25rem}.has-suffix .input{padding-right:0}.input.hide-input{opacity:0;height:0;min-height:0;width:0;padding:0!important;overflow:hidden}.input::placeholder{color:rgb(var(--mdui-color-on-surface-variant))}.invalid .input,.invalid-style .input{caret-color:rgb(var(--mdui-color-error))}:host([disabled]:not([disabled=false i])) .input{color:rgba(var(--mdui-color-on-surface),38%)}:host([end-aligned]:not([end-aligned=false i])) .input{text-align:right}textarea.input{padding-top:0;margin-top:.875rem}:host([variant=filled]) .label+.input{padding-top:1.375rem;padding-bottom:.375rem}:host([variant=filled]) .label+textarea.input{padding-top:0;margin-top:1.375rem}.supporting{display:flex;justify-content:space-between;padding:.25rem 1rem;color:rgb(var(--mdui-color-on-surface-variant))}.supporting.invalid,.supporting.invalid-style{color:rgb(var(--mdui-color-error))}.helper{display:block;opacity:1;transition:opacity var(--mdui-motion-duration-short4) var(--mdui-motion-easing-linear);font-size:var(--mdui-typescale-body-small-size);font-weight:var(--mdui-typescale-body-small-weight);letter-spacing:var(--mdui-typescale-body-small-tracking);line-height:var(--mdui-typescale-body-small-line-height)}:host([disabled]:not([disabled=false i])) .helper{color:rgba(var(--mdui-color-on-surface),38%)}:host([helper-on-focus]:not([helper-on-focus=false i])) .helper{opacity:0}:host([helper-on-focus][focused-style]:not([helper-on-focus=false i])) .helper,:host([helper-on-focus][focused]:not([helper-on-focus=false i])) .helper{opacity:1}.error{font-size:var(--mdui-typescale-body-small-size);font-weight:var(--mdui-typescale-body-small-weight);letter-spacing:var(--mdui-typescale-body-small-tracking);line-height:var(--mdui-typescale-body-small-line-height)}.counter{flex-wrap:nowrap;padding-left:1rem;font-size:var(--mdui-typescale-body-small-size);font-weight:var(--mdui-typescale-body-small-weight);letter-spacing:var(--mdui-typescale-body-small-tracking);line-height:var(--mdui-typescale-body-small-line-height)}::-ms-reveal{display:none}.input[type=number]::-webkit-inner-spin-button,.input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;display:none}.input[type=number]{-moz-appearance:textfield}.input[type=search]::-webkit-search-cancel-button{-webkit-appearance:none}`;let Ft=class extends Su(li){constructor(){super(...arguments),this.variant="filled",this.type="text",this.name="",this.value="",this.defaultValue="",this.helperOnFocus=!1,this.clearable=!1,this.endAligned=!1,this.readonly=!1,this.disabled=!1,this.required=!1,this.autosize=!1,this.counter=!1,this.togglePassword=!1,this.spellcheck=!1,this.invalid=!1,this.invalidStyle=!1,this.focusedStyle=!1,this.isPasswordVisible=!1,this.hasValue=!1,this.error="",this.inputRef=Er(),this.formController=new mf(this),this.hasSlotController=new vc(this,"icon","end-icon","helper","input"),this.readonlyButClearable=!1}get validity(){return this.inputRef.value.validity}get validationMessage(){return this.inputRef.value.validationMessage}get valueAsNumber(){return this.inputRef.value?.valueAsNumber??parseFloat(this.value)}set valueAsNumber(e){const n=document.createElement("input");n.type="number",n.valueAsNumber=e,this.value=n.value}get focusElement(){return this.inputRef.value}get focusDisabled(){return this.disabled}get isFocusedStyle(){return this.focused||this.focusedStyle}get isTextarea(){return this.rows&&this.rows>1||this.autosize}onDisabledChange(){this.inputRef.value.disabled=this.disabled,this.invalid=!this.inputRef.value.checkValidity()}async onValueChange(){if(this.hasValue=!["",null].includes(this.value),this.hasUpdated){await this.updateComplete,this.setTextareaHeight();const e=this.formController.getForm();e&&zs.get(e)?.has(this)?(this.invalid=!1,zs.get(e).delete(this)):this.invalid=!this.inputRef.value.checkValidity()}}onRowsChange(){this.setTextareaHeight()}async onMaxRowsChange(){if(!this.autosize)return;this.hasUpdated||await this.updateComplete;const e=Qe(this.inputRef.value);e.css("max-height",parseFloat(e.css("line-height"))*(this.maxRows??1)+parseFloat(e.css("padding-top"))+parseFloat(e.css("padding-bottom")))}async onMinRowsChange(){if(!this.autosize)return;this.hasUpdated||await this.updateComplete;const e=Qe(this.inputRef.value);e.css("min-height",parseFloat(e.css("line-height"))*(this.minRows??1)+parseFloat(e.css("padding-top"))+parseFloat(e.css("padding-bottom")))}connectedCallback(){super.connectedCallback(),this.updateComplete.then(()=>{this.setTextareaHeight(),this.observeResize=Nw(this.inputRef.value,()=>this.setTextareaHeight())})}disconnectedCallback(){super.disconnectedCallback(),this.observeResize?.unobserve(),Q4(this)}select(){this.inputRef.value.select()}setSelectionRange(e,n,r="none"){this.inputRef.value.setSelectionRange(e,n,r)}setRangeText(e,n,r,i="preserve"){this.inputRef.value.setRangeText(e,n,r,i),this.value!==this.inputRef.value.value&&(this.value=this.inputRef.value.value,this.setTextareaHeight(),this.emit("input"),this.emit("change"))}checkValidity(){const e=this.inputRef.value.checkValidity();return e||this.emit("invalid",{bubbles:!1,cancelable:!0,composed:!1}),e}reportValidity(){return this.invalid=!this.inputRef.value.reportValidity(),this.invalid&&(this.emit("invalid",{bubbles:!1,cancelable:!0,composed:!1}),this.focus()),!this.invalid}setCustomValidity(e){this.setCustomValidityInternal(e),Q4(this)}render(){const e=!!this.icon||this.hasSlotController.test("icon"),n=!!this.endIcon||this.hasSlotController.test("end-icon"),r=this.invalid||this.invalidStyle,i=this.type==="password"&&this.togglePassword&&!this.disabled,s=this.clearable&&!this.disabled&&(!this.readonly||this.readonlyButClearable)&&(typeof this.value=="number"||this.value.length>0),o=!!this.prefix||this.hasSlotController.test("prefix"),a=!!this.suffix||this.hasSlotController.test("suffix"),l=!!this.helper||this.hasSlotController.test("helper"),c=r&&!!(this.error||this.inputRef.value.validationMessage),d=this.counter&&!!this.maxlength,h=this.hasSlotController.test("input"),f={invalid:this.invalid,"invalid-style":this.invalidStyle},m=No({container:!0,"has-value":this.hasValue,"has-icon":e,"has-right-icon":n||r,"has-action":s||i,"has-prefix":o,"has-suffix":a,"is-firefox":navigator.userAgent.includes("Firefox"),...f});return _e`<div part="container" class="${m}">${this.renderPrefix()}<div class="input-container">${this.renderLabel()} ${this.isTextarea?this.renderTextArea(h):this.renderInput(h)} ${xa(h,()=>_e`<slot name="input" class="input"></slot>`)}</div>${this.renderSuffix()}${this.renderClearButton(s)} ${this.renderTogglePasswordButton(i)} ${this.renderRightIcon(r)}</div>${xa(c||l||d,()=>_e`<div part="supporting" class="${No({supporting:!0,...f})}">${this.renderHelper(c,l)} ${this.renderCounter(d)}</div>`)}`}setCustomValidityInternal(e){this.inputRef.value.setCustomValidity(e),this.invalid=!this.inputRef.value.checkValidity(),this.requestUpdate()}onChange(){this.value=this.inputRef.value.value,this.isTextarea&&this.setTextareaHeight(),this.emit("change")}onClear(e){this.value="",this.emit("clear"),this.emit("input"),this.emit("change"),this.focus(),e.stopPropagation()}onInput(e){e.stopPropagation(),this.value=this.inputRef.value.value,this.isTextarea&&this.setTextareaHeight(),this.emit("input")}onInvalid(e){e.preventDefault()}onKeyDown(e){const n=e.metaKey||e.ctrlKey||e.shiftKey||e.altKey;e.key==="Enter"&&!n&&setTimeout(()=>{e.defaultPrevented||this.formController.submit()})}onTextAreaKeyUp(){if(this.pattern){const e=new RegExp(this.pattern);this.value&&!this.value.match(e)?(this.setCustomValidityInternal(this.getPatternErrorMsg()),YGe(this,()=>{this.setCustomValidityInternal(this.getPatternErrorMsg())})):(this.setCustomValidityInternal(""),Q4(this))}}onTogglePassword(){this.isPasswordVisible=!this.isPasswordVisible}getPatternErrorMsg(){return HGe("Please match the requested format.")}setTextareaHeight(){this.autosize?(this.inputRef.value.style.height="auto",this.inputRef.value.style.height=`${this.inputRef.value.scrollHeight}px`):this.inputRef.value.style.height=void 0}renderLabel(){return this.label?_e`<label part="label" class="label">${this.label}</label>`:yi}renderPrefix(){return _e`<slot name="icon" part="icon" class="icon">${this.icon?_e`<mdui-icon name="${this.icon}" class="i"></mdui-icon>`:yi}</slot><slot name="prefix" part="prefix" class="prefix">${this.prefix}</slot>`}renderSuffix(){return _e`<slot name="suffix" part="suffix" class="suffix">${this.suffix}</slot>`}renderRightIcon(e){return e?_e`<slot name="error-icon" part="error-icon" class="right-icon">${this.errorIcon?_e`<mdui-icon name="${this.errorIcon}" class="i"></mdui-icon>`:_e`<mdui-icon-error class="i"></mdui-icon-error>`}</slot>`:_e`<slot name="end-icon" part="end-icon" class="end-icon right-icon">${this.endIcon?_e`<mdui-icon name="${this.endIcon}" class="i"></mdui-icon>`:yi}</slot>`}renderClearButton(e){return xa(e,()=>_e`<slot name="clear-button" part="clear-button" class="action" @click="${this.onClear}"><mdui-button-icon tabindex="-1"><slot name="clear-icon" part="clear-icon">${this.clearIcon?_e`<mdui-icon name="${this.clearIcon}" class="i"></mdui-icon>`:_e`<mdui-icon-cancel--outlined class="i"></mdui-icon-cancel--outlined>`}</slot></mdui-button-icon></slot>`)}renderTogglePasswordButton(e){return xa(e,()=>_e`<slot name="toggle-password-button" part="toggle-password-button" class="action" @click="${this.onTogglePassword}"><mdui-button-icon tabindex="-1">${this.isPasswordVisible?_e`<slot name="show-password-icon" part="show-password-icon">${this.showPasswordIcon?_e`<mdui-icon name="${this.showPasswordIcon}" class="i"></mdui-icon>`:_e`<mdui-icon-visibility-off class="i"></mdui-icon-visibility-off>`}</slot>`:_e`<slot name="hide-password-icon" part="hide-password-icon">${this.hidePasswordIcon?_e`<mdui-icon name="${this.hidePasswordIcon}" class="i"></mdui-icon>`:_e`<mdui-icon-visibility class="i"></mdui-icon-visibility>`}</slot>`}</mdui-button-icon></slot>`)}renderInput(e){return _e`<input ${Yn(this.inputRef)} part="input" class="input ${No({"hide-input":e})}" type="${this.type==="password"&&this.isPasswordVisible?"text":this.type}" name="${cn(this.name)}" .value="${vv(this.value)}" placeholder="${cn(!this.label||this.isFocusedStyle||this.hasValue?this.placeholder:void 0)}" ?readonly="${this.readonly}" ?disabled="${this.disabled}" ?required="${this.required}" minlength="${cn(this.minlength)}" maxlength="${cn(this.maxlength)}" min="${cn(this.min)}" max="${cn(this.max)}" step="${cn(this.step)}" autocapitalize="${cn(this.type==="password"?"off":this.autocapitalize)}" autocomplete="${this.autocomplete}" autocorrect="${cn(this.type==="password"?"off":this.autocorrect)}" spellcheck="${cn(this.spellcheck)}" pattern="${cn(this.pattern)}" enterkeyhint="${cn(this.enterkeyhint)}" inputmode="${cn(this.inputmode)}" @change="${this.onChange}" @input="${this.onInput}" @invalid="${this.onInvalid}" @keydown="${this.onKeyDown}">`}renderTextArea(e){return _e`<textarea ${Yn(this.inputRef)} part="input" class="input ${No({"hide-input":e})}" name="${cn(this.name)}" .value="${vv(this.value)}" placeholder="${cn(!this.label||this.isFocusedStyle||this.hasValue?this.placeholder:void 0)}" ?readonly="${this.readonly}" ?disabled="${this.disabled}" ?required="${this.required}" minlength="${cn(this.minlength)}" maxlength="${cn(this.maxlength)}" rows="${this.rows??1}" autocapitalize="${cn(this.autocapitalize)}" autocorrect="${cn(this.autocorrect)}" spellcheck="${cn(this.spellcheck)}" enterkeyhint="${cn(this.enterkeyhint)}" inputmode="${cn(this.inputmode)}" @change="${this.onChange}" @input="${this.onInput}" @invalid="${this.onInvalid}" @keydown="${this.onKeyDown}" @keyup="${this.onTextAreaKeyUp}"></textarea>`}renderHelper(e,n){return e?_e`<div part="error" class="error">${this.error||this.inputRef.value.validationMessage}</div>`:n?_e`<slot name="helper" part="helper" class="helper">${this.helper}</slot>`:_e`<span></span>`}renderCounter(e){return e?_e`<div part="counter" class="counter">${this.value.length}/${this.maxlength}</div>`:yi}};Ft.styles=[ci,ZGe];q([ce({reflect:!0})],Ft.prototype,"variant",void 0);q([ce({reflect:!0})],Ft.prototype,"type",void 0);q([ce({reflect:!0})],Ft.prototype,"name",void 0);q([ce()],Ft.prototype,"value",void 0);q([zg()],Ft.prototype,"defaultValue",void 0);q([ce({reflect:!0})],Ft.prototype,"label",void 0);q([ce({reflect:!0})],Ft.prototype,"placeholder",void 0);q([ce({reflect:!0})],Ft.prototype,"helper",void 0);q([ce({type:Boolean,reflect:!0,converter:St,attribute:"helper-on-focus"})],Ft.prototype,"helperOnFocus",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],Ft.prototype,"clearable",void 0);q([ce({reflect:!0,attribute:"clear-icon"})],Ft.prototype,"clearIcon",void 0);q([ce({type:Boolean,reflect:!0,converter:St,attribute:"end-aligned"})],Ft.prototype,"endAligned",void 0);q([ce({reflect:!0})],Ft.prototype,"prefix",void 0);q([ce({reflect:!0})],Ft.prototype,"suffix",void 0);q([ce({reflect:!0})],Ft.prototype,"icon",void 0);q([ce({reflect:!0,attribute:"end-icon"})],Ft.prototype,"endIcon",void 0);q([ce({reflect:!0,attribute:"error-icon"})],Ft.prototype,"errorIcon",void 0);q([ce({reflect:!0})],Ft.prototype,"form",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],Ft.prototype,"readonly",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],Ft.prototype,"disabled",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],Ft.prototype,"required",void 0);q([ce({type:Number,reflect:!0})],Ft.prototype,"rows",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],Ft.prototype,"autosize",void 0);q([ce({type:Number,reflect:!0,attribute:"min-rows"})],Ft.prototype,"minRows",void 0);q([ce({type:Number,reflect:!0,attribute:"max-rows"})],Ft.prototype,"maxRows",void 0);q([ce({type:Number,reflect:!0})],Ft.prototype,"minlength",void 0);q([ce({type:Number,reflect:!0})],Ft.prototype,"maxlength",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],Ft.prototype,"counter",void 0);q([ce({type:Number,reflect:!0})],Ft.prototype,"min",void 0);q([ce({type:Number,reflect:!0})],Ft.prototype,"max",void 0);q([ce({type:Number,reflect:!0})],Ft.prototype,"step",void 0);q([ce({reflect:!0})],Ft.prototype,"pattern",void 0);q([ce({type:Boolean,reflect:!0,converter:St,attribute:"toggle-password"})],Ft.prototype,"togglePassword",void 0);q([ce({reflect:!0,attribute:"show-password-icon"})],Ft.prototype,"showPasswordIcon",void 0);q([ce({reflect:!0,attribute:"hide-password-icon"})],Ft.prototype,"hidePasswordIcon",void 0);q([ce({reflect:!0})],Ft.prototype,"autocapitalize",void 0);q([ce({reflect:!0})],Ft.prototype,"autocorrect",void 0);q([ce({reflect:!0})],Ft.prototype,"autocomplete",void 0);q([ce({reflect:!0})],Ft.prototype,"enterkeyhint",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],Ft.prototype,"spellcheck",void 0);q([ce({reflect:!0})],Ft.prototype,"inputmode",void 0);q([Wn()],Ft.prototype,"invalid",void 0);q([Wn()],Ft.prototype,"invalidStyle",void 0);q([ce({type:Boolean,reflect:!0,converter:St,attribute:"focused-style"})],Ft.prototype,"focusedStyle",void 0);q([Wn()],Ft.prototype,"isPasswordVisible",void 0);q([Wn()],Ft.prototype,"hasValue",void 0);q([Wn()],Ft.prototype,"error",void 0);q([mn("disabled",!0)],Ft.prototype,"onDisabledChange",null);q([mn("value")],Ft.prototype,"onValueChange",null);q([mn("rows",!0)],Ft.prototype,"onRowsChange",null);q([mn("maxRows")],Ft.prototype,"onMaxRowsChange",null);q([mn("minRows")],Ft.prototype,"onMinRowsChange",null);Ft=q([Rn("mdui-text-field")],Ft);const KGe=ur`:host{display:inline-block;width:100%}.hidden-input{display:none}.text-field{cursor:pointer}.chips{display:flex;flex-wrap:wrap;margin:-.5rem -.25rem;min-height:2.5rem}:host([variant=filled][label]) .chips{margin:0 -.25rem -1rem -.25rem}.chip{margin:.25rem}mdui-menu{max-width:none}`;let br=class extends Su(li){constructor(){super(...arguments),this.variant="filled",this.multiple=!1,this.name="",this.value="",this.defaultValue="",this.clearable=!1,this.placement="auto",this.endAligned=!1,this.readonly=!1,this.disabled=!1,this.required=!1,this.invalid=!1,this.menuRef=Er(),this.textFieldRef=Er(),this.hiddenInputRef=Er(),this.formController=new mf(this),this.hasSlotController=new vc(this,"icon","end-icon","error-icon","prefix","suffix","clear-button","clear-icon","helper"),this.definedController=new ku(this,{relatedElements:["mdui-menu-item"]})}get validity(){return this.hiddenInputRef.value.validity}get validationMessage(){return this.hiddenInputRef.value.validationMessage}get focusElement(){return this.textFieldRef.value}get focusDisabled(){return this.disabled}connectedCallback(){super.connectedCallback(),this.value=this.multiple&&Qs(this.value)?this.value?[this.value]:[]:this.value,this.defaultValue=this.multiple?[]:"",this.definedController.whenDefined().then(()=>{this.requestUpdate()}),this.updateComplete.then(()=>{this.observeResize=Nw(this.textFieldRef.value,()=>this.resizeMenu())})}disconnectedCallback(){super.disconnectedCallback(),this.observeResize?.unobserve()}checkValidity(){const e=this.hiddenInputRef.value.checkValidity();return e||this.emit("invalid",{bubbles:!1,cancelable:!0,composed:!1}),e}reportValidity(){return this.invalid=!this.hiddenInputRef.value.reportValidity(),this.invalid&&(this.emit("invalid",{bubbles:!1,cancelable:!0,composed:!1}),this.focus()),!this.invalid}setCustomValidity(e){this.hiddenInputRef.value.setCustomValidity(e),this.invalid=!this.hiddenInputRef.value.checkValidity()}render(){const e=this.multiple?!!this.value.length:!!this.value;return _e`${this.multiple?_e`<select ${Yn(this.hiddenInputRef)} class="hidden-input" name="${cn(this.name)}" value="${cn(this.value)}" .required="${this.required}" .disabled="${this.disabled}" multiple="multiple" tabindex="-1">${b0(this.value,n=>_e`<option selected="selected" value="${n}"></option>`)}</select>`:_e`<input ${Yn(this.hiddenInputRef)} type="radio" class="hidden-input" name="${cn(this.name)}" value="${cn(this.value)}" .required="${this.required}" .disabled="${this.disabled}" .checked="${e}" tabindex="-1">`}<mdui-dropdown .stayOpenOnClick="${this.multiple}" .disabled="${this.readonly||this.disabled}" .placement="${this.placement==="top"?"top-start":this.placement==="bottom"?"bottom-start":"auto"}" @open="${this.onDropdownOpen}" @close="${this.onDropdownClose}"><mdui-text-field ${Yn(this.textFieldRef)} slot="trigger" part="text-field" class="text-field" exportparts="${["container","icon","end-icon","error-icon","prefix","suffix","label","input","clear-button","clear-icon","supporting","helper","error"].map(n=>`${n}:text-field__${n}`).join(",")}" readonly="readonly" .readonlyButClearable="${!0}" .variant="${this.variant}" .name="${this.name}" .value="${this.multiple?this.value.length?" ":"":this.getMenuItemLabelByValue(this.value)}" .label="${this.label}" .placeholder="${this.placeholder}" .helper="${this.helper}" .error="${this.hiddenInputRef.value?.validationMessage}" .clearable="${this.clearable}" .clearIcon="${this.clearIcon}" .endAligned="${this.endAligned}" .prefix="${this.prefix}" .suffix="${this.suffix}" .icon="${this.icon}" .endIcon="${this.endIcon}" .errorIcon="${this.errorIcon}" .form="${this.form}" .disabled="${this.disabled}" .required="${this.required}" .invalidStyle="${this.invalid}" @clear="${this.onClear}" @change="${n=>n.stopPropagation()}" @keydown="${this.onTextFieldKeyDown}">${b0(["icon","end-icon","error-icon","prefix","suffix","clear-button","clear-icon","helper"],n=>this.hasSlotController.test(n)?_e`<slot name="${n}" slot="${n}"></slot>`:ar)} ${xa(this.multiple&&this.value.length,()=>_e`<div slot="input" class="chips" part="chips">${b0(this.value,n=>_e`<mdui-chip class="chip" part="chip" exportparts="${["button","label","delete-icon"].map(r=>`${r}:chip__${r}`).join(",")}" variant="input" deletable tabindex="-1" @delete="${()=>this.onDeleteOneValue(n)}">${this.getMenuItemLabelByValue(n)}</mdui-chip>`)}</div>`)}</mdui-text-field><mdui-menu ${Yn(this.menuRef)} part="menu" .selects="${this.multiple?"multiple":"single"}" .value="${this.value}" @change="${this.onValueChange}"><slot></slot></mdui-menu></mdui-dropdown>`}getMenuItemLabelByValue(e){return this.menuItems.length&&this.menuItems.find(n=>n.value===e)?.textContent?.trim()||e}resizeMenu(){this.menuRef.value.style.width=`${this.textFieldRef.value.clientWidth}px`}async onDropdownOpen(){this.textFieldRef.value.focusedStyle=!0}onDropdownClose(){this.textFieldRef.value.focusedStyle=!1,(this.contains(document.activeElement)||this.contains(document.activeElement?.assignedSlot??null))&&setTimeout(()=>{this.focus()})}async onValueChange(e){const n=e.target;this.value=this.multiple?n.value.map(i=>i??""):n.value??"",await this.updateComplete;const r=this.formController.getForm();r&&zs.get(r)?.has(this)?(this.invalid=!1,zs.get(r).delete(this)):this.invalid=!this.hiddenInputRef.value.checkValidity()}onDeleteOneValue(e){const n=[...this.value];n.includes(e)&&n.splice(n.indexOf(e),1),this.value=n}onClear(){this.value=this.multiple?[]:""}onTextFieldKeyDown(e){e.key==="Enter"&&(e.preventDefault(),this.textFieldRef.value.click())}};br.styles=[ci,KGe];q([ce({reflect:!0})],br.prototype,"variant",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],br.prototype,"multiple",void 0);q([ce({reflect:!0})],br.prototype,"name",void 0);q([ce()],br.prototype,"value",void 0);q([zg()],br.prototype,"defaultValue",void 0);q([ce({reflect:!0})],br.prototype,"label",void 0);q([ce({reflect:!0})],br.prototype,"placeholder",void 0);q([ce({reflect:!0})],br.prototype,"helper",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],br.prototype,"clearable",void 0);q([ce({reflect:!0,attribute:"clear-icon"})],br.prototype,"clearIcon",void 0);q([ce({reflect:!0})],br.prototype,"placement",void 0);q([ce({type:Boolean,reflect:!0,converter:St,attribute:"end-aligned"})],br.prototype,"endAligned",void 0);q([ce({reflect:!0})],br.prototype,"prefix",void 0);q([ce({reflect:!0})],br.prototype,"suffix",void 0);q([ce({reflect:!0})],br.prototype,"icon",void 0);q([ce({reflect:!0,attribute:"end-icon"})],br.prototype,"endIcon",void 0);q([ce({reflect:!0,attribute:"error-icon"})],br.prototype,"errorIcon",void 0);q([ce({reflect:!0})],br.prototype,"form",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],br.prototype,"readonly",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],br.prototype,"disabled",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],br.prototype,"required",void 0);q([Wn()],br.prototype,"invalid",void 0);q([hf({flatten:!0,selector:"mdui-menu-item"})],br.prototype,"menuItems",void 0);br=q([Rn("mdui-select")],br);var JGe=I("<mdui-text-field>",!0,!1,!1),eZe=I("<mdui-select>",!0,!1,!1);function es(t){return(()=>{var e=JGe();return Fe(Gge,e,()=>t["use:autoComplete"]),Se(e,t,!1,!1),e._$owner=Gr(),e})()}function tZe(t){return(()=>{var e=eZe();return Se(e,t,!1,!1),e._$owner=Gr(),e})()}es.Select=tZe;var nZe=I("<svg><circle cx=27 cy=27 r=5></svg>",!1,!0,!1),rZe=I('<svg viewBox="22 22 10 10">');const gG=t=>{const e=()=>t.status?.toLowerCase()??"invisible";return(()=>{var n=nZe();return Te(r=>{var i=`var(--brand-presence-${e()})`,s=`url(#accessible-status-${e()})`;return i!==r.e&&$t(n,"fill",r.e=i),s!==r.t&&$t(n,"mask",r.t=s),r},{e:void 0,t:void 0}),n})()};function Ro(t){return(()=>{var e=rZe();return V(e,u(gG,t)),Te(()=>$t(e,"height",t.size)),e})()}Ro.Graphic=gG;function iZe(t){return u(sZe,{wrap:!0,align:!0,get children(){return u(rt,{get each(){return t.elements},children:(e,n)=>{const r=()=>t.elements.slice(0,n()+1),i=()=>t.navigate(r());return[u(X,{get when(){return n()!==0},get children(){return u(K9e,{size:"0.6em"})}}),u(Me,{get fallback(){return u(oZe,{onClick:i,get children(){return t.renderElement(r().join("/"))}})},get children(){return u(Z,{get when(){return n()===t.elements.length-1},get children(){return u(aZe,{get children(){return t.renderElement(r().join("/"))}})}})}})]}})}})}const sZe=H(kt,{base:{userSelect:"none",color:"var(--md-sys-color-outline)"}}),oZe=H("div",{base:{cursor:"pointer",transition:"var(--transitions-fast) filter"}}),aZe=H("div",{base:{color:"var(--md-sys-color-on-surface)"}}),lZe=ur`:host{--shape-corner-indicator:var(--mdui-shape-corner-full);position:relative;z-index:0;width:100%;--mdui-comp-ripple-state-layer-color:var(--mdui-color-on-surface-variant)}.container{display:flex;flex-direction:column;align-items:center;justify-content:center;text-decoration:none;cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;height:3.5rem}.container:not(.initial){transition:padding var(--mdui-motion-duration-short4) var(--mdui-motion-easing-standard)}mdui-ripple{z-index:1;width:3.5rem;height:2rem;border-radius:var(--mdui-shape-corner-full)}.container:not(.has-label)+mdui-ripple{height:3.5rem}.indicator{position:relative;display:flex;align-items:center;justify-content:center;background-color:transparent;border-radius:var(--shape-corner-indicator);height:2rem;width:2rem}:not(.initial) .indicator{transition:background-color var(--mdui-motion-duration-short1) var(--mdui-motion-easing-standard),width var(--mdui-motion-duration-short4) var(--mdui-motion-easing-standard),height var(--mdui-motion-duration-short4) var(--mdui-motion-easing-standard)}::slotted([slot=badge]){position:absolute;transform:translate(50%,-50%)}.placement-right::slotted([slot=badge]){transform:translate(-50%,-50%)}::slotted([slot=badge][variant=small]){transform:translate(.5625rem,-.5625rem)}.placement-right::slotted([slot=badge][variant=small]){transform:translate(-.5625rem,-.5625rem)}.active-icon,.icon{color:rgb(var(--mdui-color-on-surface-variant));font-size:1.5rem}.active-icon mdui-icon,.icon mdui-icon,::slotted([slot=active-icon]),::slotted([slot=icon]){font-size:inherit}.icon{display:flex}.active-icon{display:none}.label{display:flex;align-items:center;height:1rem;color:rgb(var(--mdui-color-on-surface-variant));margin-top:.25rem;margin-bottom:.25rem;font-size:var(--mdui-typescale-label-medium-size);font-weight:var(--mdui-typescale-label-medium-weight);letter-spacing:var(--mdui-typescale-label-medium-tracking);line-height:var(--mdui-typescale-label-medium-line-height)}:not(.initial) .label{transition:opacity var(--mdui-motion-duration-short4) var(--mdui-motion-easing-linear)}:host([active]){--mdui-comp-ripple-state-layer-color:var(--mdui-color-on-surface)}:host([active]) .indicator{width:3.5rem;background-color:rgb(var(--mdui-color-secondary-container))}:host([active]) :not(.has-label) .indicator{height:3.5rem}:host([active]) .active-icon,:host([active]) .icon{color:rgb(var(--mdui-color-on-secondary-container))}:host([active]) .has-active-icon .active-icon{display:flex}:host([active]) .has-active-icon .icon{display:none}:host([active]) .label{color:rgb(var(--mdui-color-on-surface))}`;let lc=class extends Iw(gf(Su(li))){constructor(){super(...arguments),this.active=!1,this.isInitial=!0,this.placement="left",this.disabled=!1,this.key=$w(),this.rippleRef=Er(),this.hasSlotController=new vc(this,"[default]","active-icon")}get rippleElement(){return this.rippleRef.value}get rippleDisabled(){return this.disabled}get focusElement(){return this.href?this.renderRoot?.querySelector("._a"):this}get focusDisabled(){return this.disabled}render(){const e=this.hasSlotController.test("[default]"),n=pf({container:!0,"has-label":e,"has-active-icon":this.activeIcon||this.hasSlotController.test("active-icon"),initial:this.isInitial});return _e`${this.href?this.renderAnchor({part:"container",className:n,content:this.renderInner(e)}):_e`<div part="container" class="${n}">${this.renderInner(e)}</div>`}<mdui-ripple .noRipple="${!this.active||this.noRipple}" ${Yn(this.rippleRef)}></mdui-ripple>`}renderInner(e){return _e`<div part="indicator" class="indicator"><slot name="badge" part="badge" class="${No({badge:!0,"placement-right":this.placement==="right"})}"></slot><slot name="active-icon" part="active-icon" class="active-icon">${this.activeIcon?_e`<mdui-icon name="${this.activeIcon}"></mdui-icon>`:yi}</slot><slot name="icon" part="icon" class="icon">${this.icon?_e`<mdui-icon name="${this.icon}"></mdui-icon>`:yi}</slot></div>${e?_e`<slot part="label" class="label"></slot>`:ar}`}};lc.styles=[ci,lZe];q([ce({reflect:!0})],lc.prototype,"icon",void 0);q([ce({reflect:!0,attribute:"active-icon"})],lc.prototype,"activeIcon",void 0);q([ce({reflect:!0})],lc.prototype,"value",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],lc.prototype,"active",void 0);q([Wn()],lc.prototype,"isInitial",void 0);q([Wn()],lc.prototype,"placement",void 0);q([Wn()],lc.prototype,"disabled",void 0);lc=q([Rn("mdui-navigation-rail-item")],lc);class cZe{constructor(){this.states=[]}registerMain(e){this.$main=Qe(e)}unregisterMain(){this.$main=void 0}registerItem(e){const n={element:e};this.states.push(n),n.observeResize=Nw(n.element,()=>{this.updateLayout(n.element,{width:this.isNoWidth(n)?0:void 0})}),this.items=void 0,this.resort(),this.updateLayout()}unregisterItem(e){const n=this.states.findIndex(i=>i.element===e);if(n<0)return;this.states[n].observeResize?.unobserve(),this.items=void 0,this.states.splice(n,1),this.states[n]&&this.updateLayout(this.states[n].element)}getItems(){if(!this.items){const e=this.states.map(n=>n.element);this.items=e.sort((n,r)=>{const i=n.compareDocumentPosition(r);return i&Node.DOCUMENT_POSITION_FOLLOWING?-1:i&Node.DOCUMENT_POSITION_PRECEDING?1:0})}return this.items}getMain(){return this.$main?this.$main[0]:void 0}getItemsAndMain(){return[...this.getItems(),this.getMain()].filter(e=>e)}updateOrder(){this.resort(),this.updateLayout()}updateLayout(e,n){const r=e?{element:e,width:n?.width,height:n?.height}:void 0,i=r?this.states.findIndex(o=>o.element===r.element):0;if(i<0)return;Object.assign(this.states[i],r),this.states.forEach((o,a)=>{if(a<i)return;const l=o.element.layoutPlacement,c=a>0?this.states[a-1]:void 0,d=c?.top??0,h=c?.right??0,f=c?.bottom??0,m=c?.left??0;switch(Object.assign(o,{top:d,right:h,bottom:f,left:m}),l){case"top":case"bottom":o[l]+=o.height??o.element.offsetHeight;break;case"right":case"left":o[l]+=(this.isNoWidth(o)?0:o.width)??o.element.offsetWidth;break}o.height=o.width=void 0,Qe(o.element).css({position:"absolute",top:l==="bottom"?null:d,right:l==="left"?null:h,bottom:l==="top"?null:f,left:l==="right"?null:m})});const s=this.states[this.states.length-1];this.$main&&this.$main.css({paddingTop:s.top,paddingRight:s.right,paddingBottom:s.bottom,paddingLeft:s.left})}resort(){const e=this.getItems();this.states.sort((n,r)=>{const i=n.element.order??0,s=r.element.order??0;return i>s?1:i<s?-1:e.indexOf(n.element)>e.indexOf(r.element)?1:e.indexOf(n.element)<e.indexOf(r.element)?-1:0})}isNoWidth(e){return vT(e.element,"mdui-navigation-drawer")&&e.element.isModal}}const U4=new WeakMap,uZe=t=>(U4.has(t)||U4.set(t,new cZe),U4.get(t));class AT extends li{constructor(){super(...arguments),this.isParentLayout=!1}get layoutPlacement(){throw new Error("Must implement placement getter!")}onOrderChange(){this.layoutManager?.updateOrder()}connectedCallback(){super.connectedCallback();const e=this.parentElement;this.isParentLayout=vT(e,"mdui-layout"),this.isParentLayout&&(this.layoutManager=uZe(e),this.layoutManager.registerItem(this))}disconnectedCallback(){super.disconnectedCallback(),this.layoutManager&&this.layoutManager.unregisterItem(this)}}q([ce({type:Number,reflect:!0})],AT.prototype,"order",void 0);q([mn("order",!0)],AT.prototype,"onOrderChange",null);const dZe=ur`:host{--shape-corner:var(--mdui-shape-corner-none);--z-index:2000;position:fixed;top:0;bottom:0;left:0;display:flex;flex-direction:column;align-items:center;border-radius:0 var(--shape-corner) var(--shape-corner) 0;z-index:var(--z-index);width:5rem;background-color:rgb(var(--mdui-color-surface));padding:.375rem .75rem}:host([contained]:not([contained=false i])){position:absolute}:host([divider]:not([divider=false i])){border-right:.0625rem solid rgb(var(--mdui-color-surface-variant));width:5.0625rem}:host([placement=right]){left:initial;right:0;border-radius:var(--shape-corner) 0 0 var(--shape-corner)}:host([placement=right][divider]:not([divider=false i])){border-right:none;border-left:.0625rem solid rgb(var(--mdui-color-surface-variant))}.bottom,.items,.top{display:flex;flex-direction:column;align-items:center;width:100%}.top{margin-bottom:1.75rem}.bottom{margin-top:1.75rem}::slotted([slot=bottom]),::slotted([slot=top]),::slotted(mdui-navigation-rail-item){margin-top:.375rem;margin-bottom:.375rem}:host([alignment=start]) .top-spacer{flex-grow:0}:host([alignment=start]) .bottom-spacer{flex-grow:1}:host([alignment=end]) .top-spacer{flex-grow:1}:host([alignment=end]) .bottom-spacer{flex-grow:0}:host([alignment=center]){justify-content:center}:host([alignment=center]) .bottom,:host([alignment=center]) .top{position:absolute}:host([alignment=center]) .top{top:.375rem}:host([alignment=center]) .bottom{bottom:.375rem}`;let co=class extends AT{constructor(){super(...arguments),this.placement="left",this.alignment="start",this.contained=!1,this.divider=!1,this.activeKey=0,this.hasSlotController=new vc(this,"top","bottom"),this.definedController=new ku(this,{relatedElements:["mdui-navigation-rail-item"]}),this.isInitial=!0}get layoutPlacement(){return this.placement}get parentTarget(){return this.contained||this.isParentLayout?this.parentElement:document.body}get isRight(){return this.placement==="right"}get paddingValue(){return["fixed","absolute"].includes(Qe(this).css("position"))?this.offsetWidth:void 0}async onActiveKeyChange(){await this.definedController.whenDefined();const e=this.items.find(n=>n.key===this.activeKey);this.value=e?.value,this.isInitial||this.emit("change")}async onValueChange(){this.isInitial=!this.hasUpdated,await this.definedController.whenDefined();const e=this.items.find(n=>n.value===this.value);this.activeKey=e?.key??0,this.updateItems()}async onContainedChange(){this.isParentLayout||(await this.definedController.whenDefined(),Qe(document.body).css({paddingLeft:this.contained||this.isRight?null:this.paddingValue,paddingRight:this.contained||!this.isRight?null:this.paddingValue}),Qe(this.parentElement).css({paddingLeft:this.contained&&!this.isRight?this.paddingValue:null,paddingRight:this.contained&&this.isRight?this.paddingValue:null}))}async onPlacementChange(){await this.definedController.whenDefined(),this.layoutManager?.updateLayout(this),this.items.forEach(e=>{e.placement=this.placement}),this.isParentLayout||Qe(this.parentTarget).css({paddingLeft:this.isRight?null:this.paddingValue,paddingRight:this.isRight?this.paddingValue:null})}connectedCallback(){super.connectedCallback(),this.isParentLayout||this.definedController.whenDefined().then(()=>{Qe(this.parentTarget).css({paddingLeft:this.isRight?null:this.paddingValue,paddingRight:this.isRight?this.paddingValue:null})})}disconnectedCallback(){super.disconnectedCallback(),!this.isParentLayout&&this.definedController.isDefined()&&Qe(this.parentTarget).css({paddingLeft:this.isRight?void 0:null,paddingRight:this.isRight?null:void 0})}render(){const e=this.hasSlotController.test("top"),n=this.hasSlotController.test("bottom");return _e`${xa(e,()=>_e`<slot name="top" part="top" class="top"></slot>`)} <span class="top-spacer"></span><slot part="items" class="items" @slotchange="${this.onSlotChange}" @click="${this.onClick}"></slot><span class="bottom-spacer"></span> ${xa(n,()=>_e`<slot name="bottom" part="bottom" class="bottom"></slot>`)}`}onClick(e){if(e.button)return;const r=e.target.closest("mdui-navigation-rail-item");r&&(this.activeKey=r.key,this.isInitial=!1,this.updateItems())}updateItems(){this.items.forEach(e=>{e.active=this.activeKey===e.key,e.placement=this.placement,e.isInitial=this.isInitial})}async onSlotChange(){await this.definedController.whenDefined(),this.updateItems()}};co.styles=[ci,dZe];q([ce({reflect:!0})],co.prototype,"value",void 0);q([ce({reflect:!0})],co.prototype,"placement",void 0);q([ce({reflect:!0})],co.prototype,"alignment",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],co.prototype,"contained",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],co.prototype,"divider",void 0);q([Wn()],co.prototype,"activeKey",void 0);q([hf({selector:"mdui-navigation-rail-item",flatten:!0})],co.prototype,"items",void 0);q([mn("activeKey",!0)],co.prototype,"onActiveKeyChange",null);q([mn("value")],co.prototype,"onValueChange",null);q([mn("contained",!0)],co.prototype,"onContainedChange",null);q([mn("placement",!0)],co.prototype,"onPlacementChange",null);co=q([Rn("mdui-navigation-rail")],co);var hZe=I("<mdui-navigation-rail>",!0,!1,!1),fZe=I("<mdui-navigation-rail-item> <div slot=icon>",!0,!1,!1);function PT(t){return(()=>{var e=hZe();return e.addEventListener("change",n=>t.onValue(n.currentTarget.value)),e._$owner=Gr(),V(e,()=>t.children),Te(n=>{var r=mZe(),i=t.contained;return r!==n.e&&ut(e,n.e=r),i!==n.t&&(e.contained=n.t=i),n},{e:void 0,t:void 0}),Te(()=>e.value=t.value()),e})()}const mZe=nn({base:{background:"transparent",paddingBlock:"8px",width:"56px"}}),gZe=nn({base:{fill:"var(--md-sys-color-on-surface-variant)"}});function pZe(t){return(()=>{var e=fZe(),n=e.firstChild,r=n.nextSibling;return e._$owner=Gr(),V(e,()=>t.children,n),V(r,()=>t.icon),Te(()=>ut(r,gZe())),Te(()=>e.value=t.value),e})()}PT.Item=pZe;const vZe=H("select",{base:{padding:"4px",height:"fit-content",fontWeight:500,fontSize:"0.9375rem",fontFamily:"inherit",color:"var(--colours-component-combo-foreground)",background:"var(--colours-component-combo-background)",boxSizing:"border-box",borderRadius:"var(--borderRadius-md)",border:"2px solid var(--colours-component-combo-foreground)",outline:"none",cursor:"pointer","&:focus-visible":{boxShadow:"0 0 0 1.5pt var(--colours-component-combo-focus)"}}});H("input",{base:{width:"100%",margin:"0.2em 0",padding:"0.75em 1em",fontSize:"0.9375rem",fontFamily:"inherit",fontWeight:500,outline:"none",border:"2px solid transparent",borderRadius:"var(--borderRadius-md)",transition:"var(--transitions-fast) all","&:disabled":{filter:"brightness(0.9)"},"&:focus-visible":{boxShadow:"0 0 0 1.5pt var(--colours-component-input-focus)"},color:"var(--colours-component-input-foreground)","&:hover":{background:"var(--colours-component-input-hover-primary)"},"&:focus":{outlineOffset:"4px",borderColor:"var(--customColours-warning-color)"},"&:valid":{borderColor:"transparent"}},variants:{palette:{primary:{background:"var(--colours-component-input-background-primary)"},secondary:{background:"var(--colours-component-input-background-secondary)"}},submissionTried:{true:{"&:invalid":{borderColor:"var(--customColours-error-color)"}}}}});H("label",{base:{gap:"10px",padding:"4px",display:"flex",cursor:"pointer",userSelect:"none",alignItems:"center",borderRadius:"var(--borderRadius-md)",transition:"0.1s ease background-color","& input":{display:"none"},"&:hover .check":{visibility:"visible",opacity:1},"& [disabled]":{opacity:.8,cursor:"not-allowed"}}});H("div",{base:{flexDirection:"column",display:"flex",flexGrow:1,gap:"3px"}});H("div",{base:{display:"flex",alignItems:"center",gap:"8px",color:"var(--colours-foreground)"}});H("div",{base:{fontSize:"0.9375rem",fontWeight:600,display:"-webkit-box",overflow:"hidden"}});H("div",{base:{fontSize:"0.75rem",fontWeight:500,color:"var(--foreground)",display:"-webkit-box",overflow:"hidden"}});H("div",{base:{display:"flex",alignItems:"center",justifyContent:"center",width:"24px",height:"24px",border:"2px solid var(--foreground)",borderRadius:"var(--borderRadius-md)",flexShrink:0,margin:"4px",transition:"0.1s ease-in-out all","& .check":{transition:"inherit",color:"var(--foreground)",visibility:"hidden",opacity:0}},variants:{value:{true:{borderColor:"var(--foreground)",".check":{visibility:"visible",opacity:1,color:"var(--accent-contrast)"}}}}});H("label",{base:{border:"2px solid var(--foreground)",padding:"10px",gap:"10px",display:"flex",cursor:"pointer",userSelect:"none",transition:"var(--transitions-fast)",borderRadius:"var(--borderRadius-md)","& input":{display:"none"},"&:hover svg":{visibility:"visible",opacity:1}},variants:{selected:{true:{color:"var(--foreground)",cursor:"default",div:{svg:{color:"var(--foreground)",visibility:"visible",opacity:1}}}}}});H("div",{base:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,borderRadius:"var(--borderRadius-lg)",height:"20px",width:"20px",transition:"inherit","& svg":{transition:"inherit",color:"var(--foreground)",flexShrink:0,visibility:"hidden",opacity:0}}});H("div",{base:{display:"flex",flexDirection:"column",wordBreak:"break-word",transition:"inherit"}});H("div",{base:{fontSize:"0.875rem",fontWeight:600,color:"var(--colours-foreground)",transition:"inherit",lineClamp:2,overflow:"hidden"},variants:{selected:{true:{color:"var(--foreground)"}}}});H("div",{base:{fontSize:"0.6875rem",fontWeight:500,color:"var(--foreground)",transition:"inherit",lineClamp:3,overflow:"hidden"},variants:{selected:{true:{color:"var(--foreground)"}}}});const bZe=ur`:host{--shape-corner:var(--mdui-shape-corner-full);position:relative;display:inline-flex;vertical-align:middle;height:2.5rem;font-size:var(--mdui-typescale-label-large-size);font-weight:var(--mdui-typescale-label-large-weight);letter-spacing:var(--mdui-typescale-label-large-tracking);line-height:var(--mdui-typescale-label-large-line-height);color:rgb(var(--mdui-color-on-surface));--mdui-comp-ripple-state-layer-color:var(--mdui-color-on-surface)}:host([full-width]:not([full-width=false i])){display:flex;flex-wrap:nowrap}input,select{position:absolute;width:100%;height:100%;padding:0;opacity:0;pointer-events:none}`;let is=class extends li{constructor(){super(...arguments),this.fullWidth=!1,this.disabled=!1,this.required=!1,this.name="",this.value="",this.defaultValue="",this.selectedKeys=[],this.invalid=!1,this.isInitial=!0,this.inputRef=Er(),this.formController=new mf(this),this.definedController=new ku(this,{relatedElements:["mdui-segmented-button"]})}get validity(){return this.inputRef.value.validity}get validationMessage(){return this.inputRef.value.validationMessage}get items(){return Qe(this).find("mdui-segmented-button").get()}get itemsEnabled(){return Qe(this).find("mdui-segmented-button:not([disabled])").get()}get isSingle(){return this.selects==="single"}get isMultiple(){return this.selects==="multiple"}get isSelectable(){return this.isSingle||this.isMultiple}async onSelectsChange(){this.isSelectable?this.isSingle&&this.setSelectedKeys(this.selectedKeys.slice(0,1)):this.setSelectedKeys([]),await this.onSelectedKeysChange()}async onSelectedKeysChange(){await this.definedController.whenDefined();const e=this.itemsEnabled.filter(r=>this.selectedKeys.includes(r.key)).map(r=>r.value),n=this.isMultiple?e:e[0]||"";this.setValue(n),this.isInitial||this.emit("change")}async onValueChange(){if(this.isInitial=!this.hasUpdated,await this.definedController.whenDefined(),!this.isSelectable){this.updateItems();return}const e=(this.isSingle?[this.value]:Qs(this.value)?[this.value]:this.value).filter(n=>n);if(!e.length)this.setSelectedKeys([]);else if(this.isSingle){const n=this.itemsEnabled.find(r=>r.value===e[0]);this.setSelectedKeys(n?[n.key]:[])}else this.isMultiple&&this.setSelectedKeys(this.itemsEnabled.filter(n=>e.includes(n.value)).map(n=>n.key));if(this.updateItems(),!this.isInitial){const n=this.formController.getForm();n&&zs.get(n)?.has(this)?(this.invalid=!1,zs.get(n).delete(this)):this.invalid=!this.inputRef.value.checkValidity()}}async onInvalidChange(){await this.definedController.whenDefined(),this.updateItems()}connectedCallback(){super.connectedCallback(),this.value=this.isMultiple&&Qs(this.value)?this.value?[this.value]:[]:this.value,this.defaultValue=this.selects==="multiple"?[]:""}checkValidity(){const e=this.inputRef.value.checkValidity();return e||this.emit("invalid",{bubbles:!1,cancelable:!0,composed:!1}),e}reportValidity(){return this.invalid=!this.inputRef.value.reportValidity(),this.invalid&&(this.emit("invalid",{bubbles:!1,cancelable:!0,composed:!1})||(this.inputRef.value.blur(),this.inputRef.value.focus())),!this.invalid}setCustomValidity(e){this.inputRef.value.setCustomValidity(e),this.invalid=!this.inputRef.value.checkValidity()}render(){return _e`${xa(this.isSelectable&&this.isSingle,()=>_e`<input ${Yn(this.inputRef)} type="radio" name="${cn(this.name)}" value="1" .disabled="${this.disabled}" .required="${this.required}" .checked="${!!this.value}" tabindex="-1" @keydown="${this.onInputKeyDown}">`)}${xa(this.isSelectable&&this.isMultiple,()=>_e`<select ${Yn(this.inputRef)} name="${cn(this.name)}" .disabled="${this.disabled}" .required="${this.required}" multiple="multiple" tabindex="-1" @keydown="${this.onInputKeyDown}">${b0(this.value,e=>_e`<option selected="selected" value="${e}"></option>`)}</select>`)}<slot @slotchange="${this.onSlotChange}" @click="${this.onClick}"></slot>`}selectOne(e){if(this.isMultiple){const n=[...this.selectedKeys];n.includes(e.key)?n.splice(n.indexOf(e.key),1):n.push(e.key),this.setSelectedKeys(n)}this.isSingle&&(this.selectedKeys.includes(e.key)?this.setSelectedKeys([]):this.setSelectedKeys([e.key])),this.isInitial=!1,this.updateItems()}async onClick(e){if(e.button)return;await this.definedController.whenDefined();const r=e.target.closest("mdui-segmented-button");!r||r.disabled||this.isSelectable&&r.value&&this.selectOne(r)}async onInputKeyDown(e){if(["Enter"," "].includes(e.key)){if(e.preventDefault(),await this.definedController.whenDefined(),this.isSingle){const n=e.target;n.checked=!n.checked,this.selectOne(this.itemsEnabled[0]),this.itemsEnabled[0].focus()}this.isMultiple&&(this.selectOne(this.itemsEnabled[0]),this.itemsEnabled[0].focus())}}async onSlotChange(){await this.definedController.whenDefined(),this.updateItems(!0)}setSelectedKeys(e){lO(this.selectedKeys,e)||(this.selectedKeys=e)}setValue(e){this.isSingle?this.value=e:lO(this.value,e)||(this.value=e)}updateItems(e=!1){const n=this.items;n.forEach((r,i)=>{r.invalid=this.invalid,r.groupDisabled=this.disabled,r.selected=this.selectedKeys.includes(r.key),e&&(r.classList.toggle("mdui-segmented-button-first",i===0),r.classList.toggle("mdui-segmented-button-last",i===n.length-1))})}};is.styles=[ci,bZe];q([ce({type:Boolean,reflect:!0,converter:St,attribute:"full-width"})],is.prototype,"fullWidth",void 0);q([ce({reflect:!0})],is.prototype,"selects",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],is.prototype,"disabled",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],is.prototype,"required",void 0);q([ce({reflect:!0})],is.prototype,"form",void 0);q([ce({reflect:!0})],is.prototype,"name",void 0);q([ce()],is.prototype,"value",void 0);q([zg()],is.prototype,"defaultValue",void 0);q([Wn()],is.prototype,"selectedKeys",void 0);q([Wn()],is.prototype,"invalid",void 0);q([mn("selects",!0)],is.prototype,"onSelectsChange",null);q([mn("selectedKeys",!0)],is.prototype,"onSelectedKeysChange",null);q([mn("value")],is.prototype,"onValueChange",null);q([mn("invalid",!0),mn("disabled")],is.prototype,"onInvalidChange",null);is=q([Rn("mdui-segmented-button-group")],is);const yZe=ur`:host{position:relative;display:inline-flex;flex-grow:1;flex-shrink:0;float:left;height:100%;overflow:hidden;cursor:pointer;-webkit-tap-highlight-color:transparent;border:.0625rem solid rgb(var(--mdui-color-outline))}.button{width:100%;padding:0 .75rem}:host([invalid]){color:rgb(var(--mdui-color-error));border-color:rgb(var(--mdui-color-error))}:host([invalid]) .button{background-color:rgb(var(--mdui-color-error-container))}:host([selected]){color:rgb(var(--mdui-color-on-secondary-container));background-color:rgb(var(--mdui-color-secondary-container));--mdui-comp-ripple-state-layer-color:var(
      --mdui-color-on-secondary-container
    )}:host([disabled]:not([disabled=false i])),:host([group-disabled]){cursor:default;pointer-events:none;color:rgba(var(--mdui-color-on-surface),38%);border-color:rgba(var(--mdui-color-on-surface),12%)}:host([loading]:not([loading=false i])){cursor:default;pointer-events:none}:host(:not(.mdui-segmented-button-first)){margin-left:-.0625rem}:host(.mdui-segmented-button-first){border-radius:var(--shape-corner) 0 0 var(--shape-corner)}:host(.mdui-segmented-button-last){border-radius:0 var(--shape-corner) var(--shape-corner) 0}.end-icon,.icon,.selected-icon{display:inline-flex;font-size:1.28571429em}.end-icon .i,.icon .i,.selected-icon .i,::slotted([slot=end-icon]),::slotted([slot=icon]),::slotted([slot=selected-icon]){font-size:inherit}mdui-circular-progress{width:1.125rem;height:1.125rem}:host([disabled]:not([disabled=false i])) mdui-circular-progress{opacity:.38}.label{display:inline-flex}.has-icon .label{padding-left:.5rem}.has-end-icon .label{padding-right:.5rem}`;let cu=class extends Ui{constructor(){super(...arguments),this.selected=!1,this.invalid=!1,this.groupDisabled=!1,this.key=$w(),this.rippleRef=Er(),this.hasSlotController=new vc(this,"[default]","icon","end-icon")}get rippleElement(){return this.rippleRef.value}get rippleDisabled(){return this.isDisabled()||this.loading}get focusDisabled(){return this.isDisabled()||this.loading}render(){const e=pf({button:!0,"has-icon":this.icon||this.selected||this.loading||this.hasSlotController.test("icon"),"has-end-icon":this.endIcon||this.hasSlotController.test("end-icon")});return _e`<mdui-ripple ${Yn(this.rippleRef)} .noRipple="${this.noRipple}"></mdui-ripple>${this.isButton()?this.renderButton({className:e,part:"button",content:this.renderInner()}):this.isDisabled()||this.loading?_e`<span part="button" class="_a ${e}">${this.renderInner()}</span>`:this.renderAnchor({className:e,part:"button",content:this.renderInner()})}`}isDisabled(){return this.disabled||this.groupDisabled}renderIcon(){return this.loading?this.renderLoading():this.selected?_e`<slot name="selected-icon" part="selected-icon" class="selected-icon">${this.selectedIcon?_e`<mdui-icon name="${this.selectedIcon}" class="i"></mdui-icon>`:_e`<mdui-icon-check class="i"></mdui-icon-check>`}</slot>`:_e`<slot name="icon" part="icon" class="icon">${this.icon?_e`<mdui-icon name="${this.icon}" class="i"></mdui-icon>`:yi}</slot>`}renderLabel(){return this.hasSlotController.test("[default]")?_e`<slot part="label" class="label"></slot>`:yi}renderEndIcon(){return _e`<slot name="end-icon" part="end-icon" class="end-icon">${this.endIcon?_e`<mdui-icon name="${this.endIcon}" class="i"></mdui-icon>`:yi}</slot>`}renderInner(){return[this.renderIcon(),this.renderLabel(),this.renderEndIcon()]}};cu.styles=[Ui.styles,yZe];q([ce({reflect:!0})],cu.prototype,"icon",void 0);q([ce({reflect:!0,attribute:"end-icon"})],cu.prototype,"endIcon",void 0);q([ce({reflect:!0,attribute:"selected-icon"})],cu.prototype,"selectedIcon",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],cu.prototype,"selected",void 0);q([ce({type:Boolean,reflect:!0,converter:St})],cu.prototype,"invalid",void 0);q([ce({type:Boolean,reflect:!0,converter:St,attribute:"group-disabled"})],cu.prototype,"groupDisabled",void 0);cu=q([Rn("mdui-segmented-button")],cu);nn({base:{border:"1px solid var(--md-sys-color-on-surface)","&:nth-child(1)":{borderLeft:"1px solid var(--md-sys-color-on-surface)"},"&:not(:nth-child(1))":{borderLeft:"none"},"&[selected]":{color:"rgb(var(--mdui-color-on-secondary-container))",background:"rgb(var(--mdui-color-secondary-container))"}}});var OZe=I("<span>");function Fw(t){const[e,n]=sn(t,["username","colour"]);return(()=>{var r=OZe();return Se(r,ge(n,{get class(){return An({class:"label",size:"large"})}}),!1,!0),V(r,u(tf,{get colour(){return e.colour},get children(){return e.username}})),r})()}Bt.Scrim;const pG=pl.Item,wZe=pl.Subheader,Tb=PT.Item;es.Select;const Kc=Xe.Group,Qg=Xe.Collapse,kZe=eGe.Override,vG=pr,SZe=H("div",{base:{position:"relative",display:"flex",alignItems:"center",gap:"var(--gap-s)",marginTop:"var(--gap-md)",borderRadius:"var(--borderRadius-md)",padding:"var(--gap-sm) var(--gap-xxl)",fontSize:"0.8em",color:"var(--md-sys-color-outline)",fill:"var(--md-sys-color-outline)"}});function xZe(t){return u(SZe,{get children(){return[u(En,{}),u(hT,ge(()=>at(16)))," ",u(k,ge(()=>({id:"7fepVf",values:{0:t.count}})))]}})}function _Ze(t){return u(CZe,{get children(){return[u(X,{get when(){return t.channel.type!=="SavedMessages"},get children(){return u(Le,{class:"headline",size:"large",get children(){return t.channel.name??t.channel.recipient?.username}})}}),u(Le,{class:"title",get children(){return u(Me,{get fallback(){return u(k,{id:"zqaa5E"})},get children(){return u(Z,{get when(){return t.channel.type==="SavedMessages"},get children(){return u(k,{id:"nzMeNW"})}})}})}})]}})}const CZe=H("div",{base:{display:"flex",userSelect:"none",flexDirection:"column",margin:"18px 16px 10px 16px",color:"var(--md-sys-color-on-surface)"}});var EZe=I("<time>");const TZe=H("div",{base:{height:0,display:"flex",userSelect:"none",alignItems:"center",margin:"17px 12px 17px 8px","& time":{marginTop:"-2px",fontSize:"0.6875rem",lineHeight:"0.6875rem",fontWeight:600,paddingInline:"5px 5px",borderRadius:"var(--borderRadius-md)",color:"var(--md-sys-color-outline)",background:"var(--md-sys-color-surface-container-lowest)"}},variants:{unread:{true:{borderTop:"thin solid var(--md-sys-color-primary)"},false:{borderTop:"thin solid var(--md-sys-color-outline-variant)"}}},defaultVariants:{unread:!1}}),DZe=H("div",{base:{fontSize:"0.625rem",fontWeight:600,color:"var(--md-sys-color-on-primary)",background:"var(--md-sys-color-primary)",padding:"0 6px",marginTop:"-1px",borderRadius:"60px"}});function AZe(t){return u(TZe,{get unread(){return t.unread},get children(){return[u(X,{get when(){return t.unread},get children(){return u(DZe,{get children(){return u(k,{id:"p6NueD"})}})}}),u(X,{get when(){return t.date},get children(){var e=EZe();return V(e,()=>t.date),e}})]}})}var PZe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z">');const RZe=(t={})=>(()=>{var e=PZe();return Se(e,t,!0,!0),e})(),bG=H("div",{base:{position:"relative",display:"flex",userSelect:"none",alignItems:"center",width:"100%",gap:"var(--gap-md)",padding:"var(--gap-md)",borderRadius:"var(--borderRadius-lg)",cursor:"pointer",backdropFilter:"var(--effects-blur-md)",...An.raw({size:"small"}),fill:"var(--md-sys-color-on-primary)",color:"var(--md-sys-color-on-primary)",backgroundColor:"color-mix(in srgb, var(--md-sys-color-primary) 55%, transparent)",animation:"slideIn 340ms cubic-bezier(0.2, 0.9, 0.5, 1.16) forwards"},variants:{position:{top:{"--translateY":"-33px"},bottom:{"--translateY":"33px"}}}});var QI=I("<span>");function MZe(t){return u(bG,{position:"bottom",get onClick(){return t.onClick},get children(){return[u(En,{}),(()=>{var e=QI();return e.style.setProperty("flex-grow","1"),V(e,u(k,{id:"9nffag"})),e})(),(()=>{var e=QI();return V(e,u(k,{id:"QOF7H+"})),e})(),u(RZe,ge(()=>at(16)))]}})}var UI=I("<span>");function IZe(t){const e=Ad();function n(r){r.stopPropagation(),t.dismiss()}return u(X,{get when(){return t.lastId()},get children(){return u(bG,{position:"top",get onClick(){return t.jumpBack},get children(){return[u(En,{}),(()=>{var r=UI();return V(r,u(k,ge(()=>({id:"VTzM7q",values:{0:e(Wo(t.lastId())).fromNow()}})))),Te(()=>ut(r,hn({flexGrow:1}))),r})(),(()=>{var r=UI();return V(r,u(k,{id:"pySJVB"})),r})(),u($Ze,{onClick:n,get children(){return u(hT,ge(()=>at(16)))}})]}})}})}const $Ze=H("div",{base:{height:"16px"}});var LZe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm4 18H6V4h7v5h5z">');const NZe=(t={})=>(()=>{var e=LZe();return Se(e,t,!0,!0),e})();var FZe=I("<div>");function BZe(t){return t>1e6?`${(t/1e6).toFixed(2)} MB`:t>1e3?`${(t/1e3).toFixed(2)} KB`:`${t} B`}function zZe(t){return u(X,{get when(){return t.files.length},get children(){return u(YZe,{get children(){var e=FZe();return Fe(hu,e,()=>({direction:"x"})),V(e,u(rt,{get each(){return t.files},children:(n,r)=>{const i=()=>t.getFile(n),s=()=>t.removeFile(n);return[u(X,{get when(){return r()===Qn.MAX_ATTACHMENTS},get children(){return u(WZe,{})}}),u(jZe,{get ignored(){return r()>=Qn.MAX_ATTACHMENTS},get children(){return[u(QZe,{onClick:s,get image(){return r_.includes(i().file.type)},get children(){return[u(Me,{get fallback(){return u(VI,{get children(){return u(NZe,ge(()=>at(36)))}})},get children(){return u(Z,{get when(){return r_.includes(i().file.type)},get children(){return u(UZe,{get src(){return i().dataUri},get alt(){return i().file.name},loading:"eager"})}})}}),u(VZe,{get children(){return u(y_,ge(()=>at(36)))}})]}}),u(qZe,{get children(){return u(jr,{get children(){return i().file.name}})}}),u(HZe,{get children(){return BZe(i().file.size)}})]}})]}}),null),V(e,u(VI,{get onClick(){return t.addFile},get children(){return[u(En,{}),u(_T,ge(()=>at(48)))]}}),null),Te(()=>ut(e,XZe())),e}})}})}const QZe=H("div",{base:{display:"grid",justifyItems:"center",gridTemplate:'"main" var(--preview-size) / minmax(var(--preview-size), 1fr)',cursor:"pointer",overflow:"hidden",borderRadius:"var(--gap-md)",fill:"white",background:"var(--md-sys-color-surface-variant)","& > *":{gridArea:"main"}},variants:{image:{true:{}}}}),UZe=H("img",{base:{width:"100%",objectFit:"cover",marginBottom:"var(--gap-md)",height:"var(--preview-size)"}}),VZe=H("div",{base:{zIndex:1,display:"grid",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",opacity:0,color:"white",background:"rgba(0, 0, 0, 0.8)",transition:"var(--transitions-fast) opacity","&:hover":{opacity:1}}}),VI=H("div",{base:{position:"relative",display:"grid",flexShrink:0,placeItems:"center",width:"var(--preview-size)",height:"var(--preview-size)",cursor:"pointer",borderRadius:"var(--gap-md)",fill:"var(--md-sys-color-on-surface-variant)",background:"var(--md-sys-color-surface-variant)"}}),jZe=H("div",{base:{display:"flex",alignItems:"center",flexDirection:"column",opacity:1},variants:{ignored:{true:{opacity:.4}}}}),qZe=H("span",{base:{maxWidth:"var(--preview-size)",textAlign:"center",...An.raw({class:"label"})}}),HZe=H("span",{base:{...An.raw({class:"label",size:"small"})}}),WZe=H("div",{base:{height:"130px",flexShrink:0,width:"var(--gap-sm)",borderRadius:"var(--borderRadius-md)",background:"var(--md-sys-color-outline)"}}),XZe=nn({base:{display:"flex",flexShrink:0,flexDirection:"row",overflowX:"auto !important",gap:"var(--gap-md)"}}),YZe=H("div",{base:{display:"flex",userSelect:"none",flexDirection:"column",gap:"var(--gap-md)",padding:"var(--gap-md)",margin:"var(--gap-md) 0",borderRadius:"var(--borderRadius-lg)",background:"var(--md-sys-color-primary-container)",color:"var(--md-sys-color-on-primary-container)","--preview-size":"100px"}}),GZe=H("div",{base:{flexGrow:1,paddingInlineEnd:"var(--gap-md)",paddingBlock:"var(--gap-sm)",borderStartRadius:"var(--borderRadius-xl)",display:"flex",background:"var(--md-sys-color-surface-container-high)",color:"var(--md-sys-color-on-surface)"},variants:{hasActionsAppend:{true:{borderEndRadius:"var(--borderRadius-md)"},false:{borderEndRadius:"var(--borderRadius-xl)"}}},defaultVariants:{hasActionsAppend:!1}}),ZZe=H("div",{base:{flexGrow:1,flexShrink:0,display:"flex",gap:"var(--gap-md)",margin:"0 0 var(--gap-md) 0"}}),jI=H(kt,{base:{flexGrow:1,fontSize:"14px",userSelect:"none",padding:"var(--gap-md)"}}),yG=H("div",{base:{flexShrink:0,display:"flex",alignItems:"end",justifyContent:"center"},variants:{size:{short:{width:"14px"},normal:{width:"42px"},wide:{width:"62px"}}}});function qf(t){return Tn(()=>t.updateDraftSelection?.(t.content.length,t.content.length)),u(ZZe,{get children(){return[u(GZe,{get hasActionsAppend(){return t.hasActionsAppend},get children(){return[u(Me,{get fallback(){return t.actionsStart},get children(){return u(Z,{get when(){return!t.sendingAllowed},get children(){return u(yG,{size:"wide",get children(){return u(jI,{get children(){return u(F9e,{size:24})}})}})}})}}),u(Me,{get fallback(){return[u(dT,{get placeholder(){return t.placeholder},get initialValue(){return t.initialValue},get nodeReplacement(){return t.nodeReplacement},get onChange(){return t.setContent},get onComplete(){return t.onSendMessage},get onTyping(){return t.onTyping},get onPreviousContext(){return t.onEditLastMessage},get autoCompleteSearchSpace(){return t.autoCompleteSearchSpace}}),u(X,{get when(){return t.sendingAllowed},get children(){return t.actionsEnd}})]},get children(){return u(Z,{get when(){return!t.sendingAllowed},get children(){return u(jI,{align:!0,get children(){return u(k,{id:"OX0KxY"})}})}})}})]}}),u(X,{get when(){return t.sendingAllowed},get children(){return t.actionsAppend}})]}})}qf.InlineIcon=yG;var KZe=I("<span>"),JZe=I("<a target=_blank>");const eKe=H(kt,{base:{}});function V4(t){return u(eKe,{align:!0,get children(){return[u(Me,{get fallback(){return u(d6,{size:24})},get children(){return[u(Z,{get when(){return t.file?.metadata.type==="Image"||t.embed?.type==="Image"},get children(){return u(Mq,{size:24})}}),u(Z,{get when(){return t.file?.metadata.type==="Video"||t.embed?.type==="Video"},get children(){return u(hRe,{size:24})}}),u(Z,{get when(){return t.file?.metadata.type==="Audio"},get children(){return u(V9e,{size:24})}}),u(Z,{get when(){return t.file?.metadata.type==="Text"},get children(){return u(Rq,{size:24})}})]}}),u(Ae,{grow:!0,get children(){return[(()=>{var e=KZe();return V(e,()=>t.file?.filename),e})(),u(X,{get when(){return t.file?.size},get children(){return u(Le,{class:"label",size:"small",get children(){return W2(t.file.size)}})}})]}}),u(X,{get when(){return t.file},get children(){var e=JZe();return V(e,u(On,{get children(){return u(yt,{children:"download"})}})),Te(n=>{var r=t.file?.originalUrl,i=t.file?.filename;return r!==n.e&&$t(e,"href",n.e=r),i!==n.t&&$t(e,"download",n.t=i),n},{e:void 0,t:void 0}),e}})]}})}var tKe=I("<code>");const nKe=H("pre",{base:{display:"flex",overflow:"auto",scrollbarWidth:"thin",flexDirection:"column"}}),qI=5e4;function rKe(t){const[e,n]=ve(!1),[r,i]=ve(void 0);async function s(){n(!0);const a=await(await fetch(t.file.originalUrl)).text();i(a)}return Tn(()=>{t.file.size&&t.file.size<=qI&&s()}),u(nKe,{get children(){return u(Me,{get fallback(){return u(Zr,{})},get children(){return[u(Z,{get when(){return!e()&&!r()&&(!t.file.size||t.file.size>qI)},get children(){return u(kt,{align:!0,justify:!0,grow:!0,get children(){return u(ot,{variant:"filled",onPress:s,get children(){return u(k,ge(()=>({id:"ilSVdI",values:{0:W2(t.file.size??0)}})))}})}})}}),u(Z,{get when(){return typeof r()<"u"},get children(){var o=tKe();return V(o,r),o}})]}})}})}var iKe=I("<img loading=lazy>",!0,!1,!1),sKe=I("<video controls preload=metadata>"),oKe=I("<audio controls>");const j4=H(Ae,{base:{padding:"var(--gap-md)",borderRadius:"var(--borderRadius-md)",color:"var(--md-sys-color-inverse-on-surface)",background:"var(--md-sys-color-inverse-surface)"}});function OG(t){const{openModal:e}=Ne();return u(Me,{get fallback(){return`Could not render ${t.file.metadata.type}!`},get children(){return[u(Z,{get when(){return t.file.metadata.type==="Image"},get children(){return u(Xl,{get width(){return t.file.metadata.width},get height(){return t.file.metadata.height},get children(){return[u(X,{get when(){return t.file.isSpoiler},get children(){return u(cI,{contentType:"Image"})}}),(()=>{var n=iKe();return Fe(Xt,n,()=>({contextMenu:()=>u(a0,{get message(){return t.message},get file(){return t.file}})})),n.$$click=()=>e({type:"image_viewer",file:t.file}),Te(r=>{var i=hn({cursor:"pointer"}),s=t.file.createFileURL();return i!==r.e&&ut(n,r.e=i),s!==r.t&&$t(n,"src",r.t=s),r},{e:void 0,t:void 0}),n})()]}})}}),u(Z,{get when(){return t.file.metadata.type==="Video"},get children(){return u(Xl,{get width(){return t.file.metadata.width},get height(){return t.file.metadata.height},get children(){return[u(X,{get when(){return t.file.isSpoiler},get children(){return u(cI,{contentType:"Video"})}}),(()=>{var n=sKe();return Fe(Xt,n,()=>({contextMenu:()=>u(a0,{get message(){return t.message},get file(){return t.file}})})),Te(()=>$t(n,"src",t.file.originalUrl)),n})()]}})}}),u(Z,{get when(){return t.file.metadata.type==="Audio"},get children(){return u(j4,{get children(){return[u(V4,{get file(){return t.file}}),u(Xl,{width:360,height:48,get children(){var n=oKe();return Fe(Xt,n,()=>({contextMenu:()=>u(a0,{get message(){return t.message},get file(){return t.file}})})),Te(()=>$t(n,"src",t.file.originalUrl)),n}})]}})}}),u(Z,{get when(){return t.file.metadata.type==="File"},get children(){return u(j4,{get children(){return u(V4,{get file(){return t.file}})}})}}),u(Z,{get when(){return t.file.metadata.type==="Text"},get children(){return u(j4,{get children(){return[u(V4,{get file(){return t.file}}),u(Xl,{width:480,height:120,get children(){return u(rKe,{get file(){return t.file}})}})]}})}})]}})}Tr(["click"]);var aKe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><circle cx=15.5 cy=9.5 r=1.5></circle><circle cx=8.5 cy=9.5 r=1.5></circle><path d="M12 18c2.28 0 4.22-1.66 5-4H7c.78 2.34 2.72 4 5 4"></path><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8">');const lKe=(t={})=>(()=>{var e=aKe();return Se(e,t,!0,!0),e})();var cKe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2">');const uKe=(t={})=>(()=>{var e=cKe();return Se(e,t,!0,!0),e})();var Sp=I("<div>");function dKe(t){const e=ff(),n=Ht(),{openModal:r}=Ne();function i(s){s.shiftKey?t.message?.delete():t.message&&r({type:"delete_message",message:t.message})}return u(hKe,{class:"Toolbar",get children(){return[u(X,{get when(){return t.message?.channel?.havePermission("SendMessage")},get children(){var s=Sp();return s.$$click=()=>n.draft.addReply(t.message,e().id),V(s,u(En,{}),null),V(s,u(bq,ge(()=>at(20))),null),Te(()=>ut(s,xp())),s}}),u(X,{get when(){return t.message?.channel?.havePermission("React")},get children(){return u(IT,{onMessage:s=>t.message?.channel?.sendMessage({content:s,replies:[{id:t.message.id,mention:!0}]}),onTextReplacement:s=>t.message.react(s.startsWith(":")?s.slice(1,s.length-1):Fj(s)?s.slice(1):s),children:s=>(()=>{var o=Sp();Dn(o,"click",s.onClickEmoji,!0);var a=s.ref;return typeof a=="function"?Fe(a,o):s.ref=o,V(o,u(En,{}),null),V(o,u(lKe,ge(()=>at(20))),null),Te(()=>ut(o,xp())),o})()})}}),u(X,{get when(){return t.message?.author?.self},get children(){var s=Sp();return s.$$click=()=>n.draft.setEditingMessage(t.message),V(s,u(En,{}),null),V(s,u(s6,ge(()=>at(20))),null),Te(()=>ut(s,xp())),s}}),u(X,{get when(){return t.message?.author?.self||t.message?.channel?.havePermission("ManageMessages")},get children(){var s=Sp();return s.$$click=i,V(s,u(En,{}),null),V(s,u(Ol,ge(()=>at(20))),null),Te(()=>ut(s,xp())),s}}),(()=>{var s=Sp();return Fe(Xt,s,()=>({contextMenu:()=>u(a0,{get message(){return t.message}}),contextMenuHandler:"click"})),V(s,u(En,{}),null),V(s,u(uKe,ge(()=>at(20))),null),Te(()=>ut(s,xp())),s})()]}})}const hKe=H("div",{base:{top:"-18px",right:"16px",position:"absolute",alignItems:"center",display:"none",overflow:"hidden",borderRadius:"var(--borderRadius-xs)",boxShadow:"0 0 3px var(--md-sys-color-shadow)",fill:"var(--md-sys-color-on-secondary-container)",background:"var(--md-sys-color-secondary-container)"}}),xp=nn({base:{cursor:"pointer",position:"relative",padding:"var(--gap-sm)"}});Tr(["click"]);var Db=I("<div>"),fKe=I("<span>"),mKe=I("<span>(edited)"),HI=I("<span> ");const gKe=nn({base:{position:"relative",display:"flex",flexDirection:"column",padding:"2px 0",background:"transparent",borderRadius:"var(--borderRadius-md)",minHeight:"1em",transition:"background-color var(--transitions-fast)","& a:hover":{textDecoration:"underline"},"&:hover .Toolbar":{display:"flex"}},variants:{tail:{true:{marginTop:0}},mentioned:{true:{background:"var(--md-sys-color-primary-container)"}},highlight:{true:{animation:"highlightMessage 3s"}},sendStatus:{failed:{color:"var(--md-sys-color-error)"},sending:{color:"var(--md-sys-color-outline)"},sent:{color:"var(--md-sys-color-on-surface)"}},isLink:{true:{cursor:"pointer",userSelect:"none",position:"relative","& *":{pointerEvents:"none"}},false:{marginTop:"var(--message-group-spacing) !important","&:hover":{background:"var(--md-sys-color-surface-container)"}},hide:{}}},defaultVariants:{isLink:!1,sendStatus:"sent"}}),pKe=H("div",{base:{display:"flex",flexShrink:0,justifyContent:"end",padding:"2px var(--gap-sm)"},variants:{tail:{true:{padding:0}},compact:{true:{},false:{width:"52px"}}},defaultVariants:{compact:!1}}),vKe=H("div",{base:{flexGrow:1,display:"flex",flexDirection:"column",minWidth:0,overflow:"hidden",maxHeight:"200vh",paddingInlineEnd:"var(--gap-lg)"},variants:{editing:{true:{flexGrow:1}}}}),bKe=H("div",{base:{minWidth:0,display:"flex",gap:"var(--gap-sm)",flexDirection:"column",...An.raw({class:"_messages"})}}),q4=nn({base:{display:"flex",alignItems:"center",gap:"var(--gap-sm)",color:"var(--md-sys-color-outline)",...An.raw({class:"body",size:"small"})},variants:{prefix:{true:{width:"calc(7ch * var(--gap-sm))",fontSize:"0.7em",display:"block",textAlign:"right",marginTop:"0.15em"}},hidden:{true:{opacity:0,transition:"var(--transitions-fast) opacity",_groupHover:{opacity:1}}}}}),yKe=H(kt,{base:{flexShrink:0,marginTop:"-2px",height:"fit-content",paddingInline:"var(--gap-lg) 0"}});function cO(t){const{_:e}=Dt();return(()=>{var n=Db();return Fe(Xt,n,()=>({contextMenu:t.contextMenu})),n.addEventListener("mouseleave",()=>t.onHover&&t.onHover(!1)),n.addEventListener("mouseenter",()=>t.onHover&&t.onHover(!0)),V(n,u(X,{get when(){return t.message&&t.isLink!==!0&&t.isLink!=="hide"},get children(){return u(dKe,{get message(){return t.message}})}}),null),V(n,u(X,{get when(){return t.isLink},get children(){return u(En,{})}}),null),V(n,()=>t.header,null),V(n,u(kt,{get children(){return[u(pKe,{get tail(){return t.tail},get compact(){return t.compact},get children(){return u(Me,{get fallback(){return t.avatar},get children(){return[Ce(()=>t.infoMatch??u(Z,{when:!1,children:null})),u(Z,{get when(){return t.compact},get children(){return u(yKe,{gap:"sm",align:!0,get children(){return[(()=>{var r=Db();return Fe(Xt,r,()=>({tooltip:{placement:"top",content:[Ce(()=>e({id:"h69WC6"}))," ",u($r,{format:"datetime",get value(){return t.timestamp},get referenceTime(){return t._referenceTime}})]}})),V(r,u($r,{format:"time",get value(){return t.timestamp},get referenceTime(){return t._referenceTime}})),Te(()=>ut(r,q4())),r})(),Ce(()=>t.username),Ce(()=>t.info)]}})}}),u(Z,{get when(){return t.tail},get children(){var r=Db();return Fe(Xt,r,()=>({tooltip:{placement:"top",content:u(Ae,{get children(){return[(()=>{var i=HI(),s=i.firstChild;return V(i,()=>e({id:"h69WC6"}),s),V(i,u($r,{format:"datetime",get value(){return t.timestamp},get referenceTime(){return t._referenceTime}}),null),i})(),u(X,{get when(){return t.edited},get children(){var i=HI(),s=i.firstChild;return V(i,()=>e({id:"MRZxAn"}),s),V(i,u($r,{format:"datetime",get value(){return t.edited},get referenceTime(){return t._referenceTime}}),null),i}})]}})}})),V(r,u(X,{get when(){return t.edited},children:"(edited)"}),null),V(r,u(X,{get when(){return!t.edited},get children(){return u($r,{get value(){return t.timestamp},format:"time",get referenceTime(){return t._referenceTime}})}}),null),Te(()=>ut(r,q4({hidden:!t.edited,prefix:!0}))),r}})]}})}}),u(vKe,{get editing(){return t.editing},get children(){return[u(X,{get when(){return!t.tail&&!t.compact},get children(){return u(kt,{gap:"sm",align:!0,get children(){return[u(jr,{get children(){return t.username}}),u(mT,{get children(){var r=Db();return V(r,()=>t.info,null),V(r,u(Me,{get fallback(){return t.timestamp},get children(){return u(Z,{get when(){return t.timestamp instanceof Date},get children(){var i=fKe();return Fe(Xt,i,()=>({tooltip:{placement:"top",content:[Ce(()=>e({id:"h69WC6"}))," ",u($r,{format:"datetime",get value(){return t.timestamp},get referenceTime(){return t._referenceTime}})]}})),V(i,u($r,{format:"calendar",get value(){return t.timestamp},get referenceTime(){return t._referenceTime}})),i}})}}),null),V(r,u(X,{get when(){return t.edited},get children(){var i=mKe();return Fe(Xt,i,()=>({tooltip:{placement:"top",content:[Ce(()=>e({id:"MRZxAn"}))," ",u($r,{format:"datetime",get value(){return t.edited},get referenceTime(){return t._referenceTime}})]}})),i}}),null),Te(()=>ut(r,q4())),r}})]}})}}),u(bKe,{get children(){return t.children}})]}})]}}),null),Te(r=>{var i=t.message?.id,s="group "+gKe({tail:t.tail,mentioned:t.mentioned,highlight:t.highlight,sendStatus:t.sendStatus,isLink:t.isLink});return i!==r.e&&$t(n,"id",r.e=i),s!==r.t&&ut(n,r.t=s),r},{e:void 0,t:void 0}),n})()}var OKe=I("<iframe loading=lazy scrolling=no allowfullscreen allowtransparency frameborder=0>",!0,!1,!1);function wKe(t){function e(){const n=t.embed.specialContent;let r=0,i=0;switch(n.type){case"YouTube":{r=t.embed.video?.width??1280,i=t.embed.video?.height??720;break}case"Twitch":{r=1280,i=720;break}case"Lightspeed":{r=1280,i=720;break}case"Spotify":{r=420,i=355;break}case"Soundcloud":{r=480,i=460;break}case"Bandcamp":{r=t.embed.video?.width??1280,i=t.embed.video?.height??720;break}}return{width:r,height:i}}return u(Xl,{get width(){return e()?.width},get height(){return e()?.height},get children(){var n=OKe();return Te(()=>$t(n,"src",t.embed.embedURL)),n}})}var kKe=I("<video controls preload=metadata>"),SKe=I("<img loading=lazy>",!0,!1,!1);const xKe=H("div",{base:{width:"fit-content",display:"flex",maxWidth:"calc(min(100%, 420px))",flexDirection:"row",gap:"var(--gap-md)",padding:"var(--gap-md)",borderRadius:"var(--borderRadius-md)",color:"var(--md-sys-color-on-primary-container)",background:"var(--md-sys-color-primary-container)",borderInlineStart:"var(--gap-sm) solid var(--md-sys-color-primary)"}}),_Ke=H("div",{base:{display:"flex",flexDirection:"row",gap:"var(--gap-md)"}}),CKe=H("img",{base:{width:"14px",height:"14px",flexShrink:0}}),EKe=H("img",{base:{maxWidth:"120px",maxHeight:"120px",borderRadius:"var(--borderRadius-md)"}}),TKe=H("span",{base:{minWidth:0,flexShrink:1,fontSize:"16px",color:"var(--md-sys-color-primary) !important"}}),DKe=H(Ae,{base:{minWidth:0}}),AKe=H("div",{base:{fontSize:"12px",overflow:"hidden",wordWrap:"break-word"}});function PKe(t){const{openModal:e}=Ne();return u(xKe,{get style(){return{"border-color":t.embed.colour}},get children(){return[u(DKe,{gap:"md",grow:!0,get children(){return[u(X,{get when(){return t.embed.type==="Website"&&t.embed.siteName},get children(){return u(_Ke,{get children(){return[u(X,{get when(){return t.embed.iconUrl},get children(){return u(CKe,{loading:"lazy",draggable:!1,get src(){return t.embed.proxiedIconURL},onError:n=>n.currentTarget.style.display="none"})}}),u(jr,{get children(){return u(Le,{class:"label",size:"small",get children(){return t.embed.siteName}})}})]}})}}),u(X,{get when(){return t.embed.title},get children(){return u(rv,{get href(){return t.embed.url},get children(){return u(TKe,{get children(){return u(jr,{get children(){return t.embed.title}})}})}})}}),u(X,{get when(){return t.embed.description},get children(){return u(AKe,{get children(){return u(Me,{get fallback(){return t.embed.description},get children(){return u(Z,{get when(){return t.embed.type==="Text"},get children(){return u(Md,{get content(){return t.embed.description}})}})}})}})}}),u(X,{get when(){return t.embed.type==="Text"&&t.embed.media},get children(){return u(OG,{get file(){return t.embed.media}})}}),u(X,{get when(){return t.embed.type==="Website"},get children(){return u(Me,{get children(){return[u(Z,{get when(){return t.embed.specialContent?.type&&t.embed.specialContent?.type!=="None"},get children(){return u(wKe,{get embed(){return t.embed}})}}),u(Z,{get when(){return t.embed.video},get children(){return u(Xl,{get width(){return t.embed.video.width},get height(){return t.embed.video.height},get children(){var n=kKe();return Te(()=>$t(n,"src",t.embed.video.proxiedURL)),n}})}}),u(Z,{get when(){return t.embed.image?.size==="Large"},get children(){return u(Xl,{get width(){return t.embed.image.width},get height(){return t.embed.image.height},get children(){var n=SKe();return n.$$click=()=>e({type:"image_viewer",embed:t.embed.image}),Te(r=>{var i=t.embed.image.proxiedURL,s=hn({cursor:"pointer"});return i!==r.e&&$t(n,"src",r.e=i),s!==r.t&&ut(n,r.t=s),r},{e:void 0,t:void 0}),n}})}})]}})}})]}}),u(X,{get when(){return t.embed.type==="Website"&&t.embed.image?.size==="Preview"&&!t.embed.video},get children(){return u(EKe,{get src(){return t.embed.image.proxiedURL},loading:"lazy"})}})]}})}Tr(["click"]);var RKe=I("<img loading=lazy>",!0,!1,!1),MKe=I("<video preload=metadata>");function IKe(t){const{openModal:e}=Ne(),n=()=>t.embed.type==="Website"&&(t.embed.specialContent?.type==="GIF"||t.embed.originalUrl?.startsWith("https://tenor.com")),r=()=>(t.embed.type==="Video"?t.embed:n()&&t.embed.video)||void 0,i=()=>(t.embed.type==="Image"?t.embed:n()&&t.embed.image)||void 0;return u(Me,{get fallback(){return`Could not render ${t.embed.type}!`},get children(){return[u(Z,{get when(){return i()},get children(){return u(Xl,{get width(){return i().width},get height(){return i().height},get children(){var s=RKe();return s.$$click=()=>e({type:"image_viewer",embed:i()}),Te(o=>{var a=n()?i().url:i().proxiedURL,l=hn({cursor:"pointer"});return a!==o.e&&$t(s,"src",o.e=a),l!==o.t&&ut(s,o.t=l),o},{e:void 0,t:void 0}),s}})}}),u(Z,{get when(){return r()},get children(){return u(Xl,{get width(){return r().width},get height(){return r().height},get children(){var s=MKe();return s.$$click=()=>n()&&e({type:"image_viewer",gif:r()}),Te(o=>{var a=n(),l=n(),c=n(),d=!n(),h=n()?r().url:r().proxiedURL,f=hn({cursor:n()?"pointer":"unset"});return a!==o.e&&(s.loop=o.e=a),l!==o.t&&(s.muted=o.t=l),c!==o.a&&(s.autoplay=o.a=c),d!==o.o&&(s.controls=o.o=d),h!==o.i&&$t(s,"src",o.i=h),f!==o.n&&ut(s,o.n=f),o},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),s}})}}),u(Z,{get when(){return t.embed.type==="Website"||t.embed.type==="Text"},get children(){return u(PKe,{get embed(){return t.embed}})}}),u(Z,{get when(){return t.embed.type==="None"},children:" "})]}})}Tr(["click"]);var $Ke=I("<div>");const LKe=H("div",{base:{...An.raw({class:"_messages"}),maxHeight:"1.5em",overflow:"hidden",minWidth:0,flexGrow:1,display:"flex",userSelect:"none",alignItems:"center",gap:"var(--gap-sm)",color:"var(--md-sys-color-on-surface)","& a:link":{textDecoration:"none"},"&::before":{width:"22px",height:"12px",flexShrink:0,alignSelf:"flex-end",borderStartStartRadius:"4px",borderInlineStart:"2px solid var(--md-sys-color-outline-variant)",borderTop:"2px solid var(--md-sys-color-outline-variant)"}},variants:{noDecorations:{true:{},false:{"&::before":{content:'""',display:"block",marginInlineEnd:"6px",marginInlineStart:"30px"}}}},defaultVariants:{noDecorations:!1}}),NKe=nn({base:{display:"flex",alignItems:"center",gap:"var(--gap-sm)"}}),FKe=H("em",{base:{display:"inline-flex",alignItems:"center",gap:"var(--gap-sm)",whiteSpace:"nowrap"}}),BKe=H("a",{base:{minWidth:0,display:"flex",alignItems:"center",gap:"var(--gap-md)"}});function RT(t){const e=n=>(n.length>128&&(n=n.slice(0,128)+"..."),dVe(n.replace(/\n/g," ")));return u(LKe,{get noDecorations(){return t.noDecorations},get children(){return u(Me,{get fallback(){return u(k,{id:"Dvbuou"})},get children(){return[u(Z,{get when(){return t.message?.author?.relationship==="Blocked"},get children(){return u(k,{id:"tpPP64"})}}),u(Z,{get when(){return t.message},get children(){return[(()=>{var n=$Ke();return Fe(Xt,n,()=>O_(t.message)),V(n,u(zt,{get src(){return t.message.avatarURL},size:14}),null),V(n,u(mT,{get children(){return u(Fw,{get colour(){return t.message.roleColour},get username(){return(t.mention?"@":"")+t.message.username}})}}),null),Te(()=>ut(n,NKe())),n})(),u(BKe,{get href(){return t.message.path},get children(){return[u(X,{get when(){return t.message.attachments},get children(){return u(FKe,{get children(){return[u(d6,{size:16}),u(Me,{get fallback(){return u(k,{id:"EqWYax"})},get children(){return u(Z,{get when(){return t.message.attachments.length>1},get children(){return u(k,{id:"ItAGEw"})}})}})]}})}}),u(X,{get when(){return t.message.content},get children(){return u(zKe,{get children(){return e(t.message.content)}})}})]}})]}})]}})}})}const zKe=H("div",{base:{display:"flex",overflow:"hidden",alignItems:"center",whiteSpace:"nowrap",textOverflow:"ellipsis"}});function QKe(t){const n=Ht().settings.getValue("appearance:unicode_emoji");return u(UKe,{get children(){return u(Me,{get children(){return[u(Z,{get when(){return t.state().matched==="emoji"},get children(){return u(rt,{get each(){return t.state().matches},children:(r,i)=>u(Ab,{get selected(){return i()===t.selection()},onMouseDown:()=>t.select(i()),onMouseEnter:()=>t.setSelection(i()),get children(){return u(Me,{get fallback(){return[u(va,{get emoji(){return r.codepoint},pack:n})," ",u(_p,{get children(){return[":",Ce(()=>r.shortcode),":"]}})]},get children(){return u(Z,{get when(){return r.type==="custom"},get children(){return[u(Kv,{get id(){return r.id}})," ",u(_p,{get children(){return[":",Ce(()=>r.shortcode),":"]}})]}})}})}})})}}),u(Z,{get when(){return t.state().matched==="user"},get children(){return u(rt,{get each(){return t.state().matches},children:(r,i)=>u(Ab,{get selected(){return i()===t.selection()},onMouseDown:()=>t.select(i()),onMouseEnter:()=>t.setSelection(i()),get children(){return[u(zt,{get src(){return r.user.animatedAvatarURL},size:24})," ",u(_p,{get children(){return r.user.displayName}}),Ce(()=>Ce(()=>r.user instanceof A0&&r.user.displayName!==r.user.user?.username)()&&[" ","@",Ce(()=>r.user.user?.username),"#",Ce(()=>r.user.user?.discriminator)])]}})})}}),u(Z,{get when(){return t.state().matched==="role"},get children(){return u(rt,{get each(){return t.state().matches},children:(r,i)=>u(Ab,{get selected(){return i()===t.selection()},onMouseDown:()=>t.select(i()),onMouseEnter:()=>t.setSelection(i()),get children(){return u(_p,{get children(){return u(tf,{get colour(){return r.role.colour},get children(){return r.role.name}})}})}})})}}),u(Z,{get when(){return t.state().matched==="channel"},get children(){return u(rt,{get each(){return t.state().matches},children:(r,i)=>u(Ab,{get selected(){return i()===t.selection()},onMouseDown:()=>t.select(i()),onMouseEnter:()=>t.setSelection(i()),get children(){return u(_p,{get children(){return["#",Ce(()=>r.channel.name)]}})}})})}})]}})}})}const Ab=H("div",{base:{display:"flex",alignItems:"center",cursor:"pointer",padding:"var(--gap-sm) var(--gap-md)",background:"transparent"},variants:{selected:{true:{background:"color-mix(in srgb, var(--md-sys-color-on-surface) 8%, transparent)"}}}}),_p=H("div",{base:{fontSize:"0.9em"}}),UKe=H(Ae,{base:{"--emoji-size":"1.4em",padding:"var(--gap-md) 0",borderRadius:"var(--borderRadius-xs)",color:"var(--md-sys-color-on-surface)",background:"var(--md-sys-color-surface-container)",boxShadow:"0 0 3px var(--md-sys-color-shadow)"}});var VKe=I("<div>");const jKe=H("div",{base:{color:"white",background:"black",padding:"var(--gap-md)",borderRadius:"var(--borderRadius-md)",...An.raw({class:"label",size:"small"})}});function vi(t){const[e,n]=sn(t,["children"]);return(()=>{var r=VKe();return Fe(Xt,r,()=>({tooltip:n})),V(r,()=>e.children),r})()}var qKe=I("<div>");const HKe=nn({base:{color:"var(--md-sys-color-on-surface)",background:"var(--md-sys-color-surface-container-high)",boxShadow:"0 0 3px var(--md-sys-color-shadow)",width:"340px",height:"400px",borderRadius:"var(--borderRadius-xl)"}});function WKe(t){const{openModal:e}=Ne(),n=Ho(()=>({queryKey:["profile",t.user.id],queryFn:()=>t.user.fetchProfile()}));function r(){e({type:"user_profile",user:t.user}),t.onClose()}return(()=>{var i=qKe();return i.$$mousedown=s=>{s.preventDefault(),s.stopImmediatePropagation()},Fe(nc,i,()=>({class:HKe()})),V(i,u(XKe,{get children(){return[u(no.Banner,{width:2,get user(){return t.user},get member(){return t.member},get bannerUrl(){return n.data?.animatedBannerURL},onClick:r}),u(no.Actions,{get user(){return t.user},get member(){return t.member},width:2}),u(no.Roles,{get member(){return t.member}}),u(no.Badges,{get user(){return t.user}}),u(no.Status,{get user(){return t.user}}),u(no.Joined,{get user(){return t.user},get member(){return t.member}}),u(no.Bio,{get content(){return n.data?.content},onClick:r})]}})),i})()}const XKe=H("div",{base:{display:"grid",gap:"var(--gap-md)",padding:"var(--gap-md)",gridTemplateColumns:"repeat(2, 1fr)"}});Tr(["mousedown"]);var YKe=I("<div>");function GKe(){let t=0,e=0;function n({clientX:i,clientY:s}){t=i,e=s}Tn(()=>document.addEventListener("mousemove",n)),wt(()=>document.addEventListener("mousemove",n));function r(){return Y7().find(i=>i.show())}return u(uu,{get mount(){return document.getElementById("floating")},get children(){return[u(rt,{get each(){return Y7()},children:i=>u(bu,{get children(){return u(X,{get when(){return i.show()},get children(){return u(ZKe,ge(i,{mouseX:t,mouseY:e}))}})}})}),u(X,{get when(){return r()},get children(){return u(FO,{get keybind(){return _n.CLOSE_FLOATING},onPressed:Sv})}})]}})}function ZKe(t){const[e,n]=ve(),s=cw(()=>t.show()?.contextMenu?{getBoundingClientRect(){return{width:0,height:0,x:t.mouseX,y:t.mouseY,left:t.mouseX,right:t.mouseX,top:t.mouseY,bottom:t.mouseY}}}:t.element,e,{placement:(()=>{const l=t.show();if(l){if(l.tooltip)return l.tooltip.placement;if(l.userCard)return"right-start";if(l.contextMenu)return"right-start";if(l.autoComplete)return"top-start"}})(),middleware:[aw(5),nq(),lw()],whileElementsMounted:t.show()?.tooltip||t.show()?.autoComplete?n6:void 0});function o(){const l=t.show();!l?.contextMenu&&!l?.userCard||t.hide()}(t.config().contextMenu||t.config().userCard)&&(Tn(()=>document.addEventListener("mousedown",o)),wt(()=>document.removeEventListener("mousedown",o)));function a(){t.show()?.contextMenu&&t.hide()}return t.config().contextMenu&&(Tn(()=>document.addEventListener("click",a)),wt(()=>document.removeEventListener("click",a))),u(gc,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.1,easing:[.87,0,.13,1]},get children(){var l=YKe();return Fe(n,l),V(l,u(Me,{get children(){return[u(Z,{get when(){return t.show()?.tooltip},get children(){return u(jKe,{get children(){return Ce(()=>typeof t.show().tooltip.content=="function")()?t.show().tooltip.content({}):t.show().tooltip.content}})}}),u(Z,{get when(){return t.show()?.userCard},get children(){return u(WKe,{get user(){return t.show().userCard.user},get member(){return t.show().userCard.member},get onClose(){return t.hide}})}}),u(Z,{get when(){return t.show()?.contextMenu},get children(){return t.show().contextMenu({})}}),u(Z,{get when(){return t.show()?.autoComplete},get children(){return u(QKe,ge(()=>t.show().autoComplete))}})]}})),Te(c=>{var d=s.strategy,h=`${s.y??0}px`,f=`${s.x??0}px`,m=(999-(t.show()?.userCard?1:0)).toString();return d!==c.e&&((c.e=d)!=null?l.style.setProperty("position",d):l.style.removeProperty("position")),h!==c.t&&((c.t=h)!=null?l.style.setProperty("top",h):l.style.removeProperty("top")),f!==c.a&&((c.a=f)!=null?l.style.setProperty("left",f):l.style.removeProperty("left")),m!==c.o&&((c.o=m)!=null?l.style.setProperty("z-index",m):l.style.removeProperty("z-index")),c},{e:void 0,t:void 0,a:void 0,o:void 0}),l}})}function Sv(){document.dispatchEvent(new Event("mousedown"))}var KKe=I("<div>"),JKe=I("<span>");function eJe(t){const e=ke(()=>{const r=new Set,i=new Set;if(t.interactions?.reactions)for(const s of t.interactions.reactions)r.add(s);if(t.reactions)for(const s of t.reactions.keys())r.has(s)||i.add(s);return{required:Array.from(r),optional:Array.from(i)}}),n=r=>{const{required:i,optional:s}=e();return r?i.length&&s.length:i.length||s.length};return u(X,{get when(){return n()},get children(){return u(rJe,{get children(){return[u(rt,{get each(){return e().required},children:r=>u(WI,{reaction:r,get active(){return t.reactions?.get(r)?.has(t.userId)},get users(){return t.reactions?.get(r)},get addReaction(){return t.addReaction},get removeReaction(){return t.removeReaction}})}),u(X,{get when(){return n(!0)},get children(){return u(nJe,{})}}),u(rt,{get each(){return e().optional},children:r=>u(WI,{reaction:r,get active(){return t.reactions?.get(r)?.has(t.userId)},get users(){return t.reactions?.get(r)},get addReaction(){return t.addReaction},get removeReaction(){return t.removeReaction}})}),u(IT,{get onMessage(){return t.sendGIF},onTextReplacement:r=>t.addReaction(r.startsWith(":")?r.slice(1,r.length-1):Fj(r)?r.slice(1):r),children:r=>(()=>{var i=KKe();Dn(i,"click",r.onClickEmoji,!0);var s=r.ref;return typeof s=="function"?Fe(s,i):r.ref=i,V(i,u(tJe,{class:"add",get children(){return[u(En,{}),u(_T,{})]}})),i})()})]}})}})}function WI(t){const{_:e}=Dt(),n=ew(()=>[...t.users?.values()??[]]);function r(){t.active?t.removeReaction(t.reaction):t.addReaction(t.reaction)}const i=()=>{const s=n(),o=s.filter(c=>c),a=s.filter(c=>!c).length+Math.max(0,o.length-3),l=o.slice(0,2).map(c=>c?.username).join(", ");return e(a?l?{id:"1MjXH/",values:{usernames:l,unknown:a}}:a===1?{id:"rsnDOl"}:{id:"sRgRiT",values:{unknown:a}}:{id:"9PefQY",values:{usernames:l}})};return u(vi,{placement:"top",content:()=>u(kt,{align:!0,gap:"lg",get children(){return[(()=>{var s=JKe();return s.style.setProperty("--emoji-size","3em"),V(s,u(a_,{get emoji(){return t.reaction}})),s})(),u(Le,{class:"_messages",get children(){return u(iJe,{get children(){return i()}})}})]}}),get aria(){return i()},get children(){return u(wG,{get active(){return t.active},onClick:r,get children(){return[u(En,{}),u(a_,{get emoji(){return t.reaction}})," ",Ce(()=>t.users?.size||0)]}})}})}const wG=H("div",{base:{position:"relative",display:"flex",overflow:"hidden",flexDirection:"row",gap:"var(--gap-md)",cursor:"pointer",userSelect:"none",verticalAlign:"middle",padding:"var(--gap-md)",borderRadius:"var(--borderRadius-md)",transition:"var(--transitions-fast) all",fontWeight:600,fontFeatureSettings:"'tnum' 1","& img":{width:"1.2em",height:"1.2em",objectFit:"contain"}},variants:{active:{true:{color:"var(--md-sys-color-on-secondary-container)",background:"var(--md-sys-color-secondary-container)"},false:{color:"var(--md-sys-color-on-surface)",background:"var(--md-sys-color-surface-container-low)"}}},defaultVariants:{active:!1}}),tJe=H(wG,{base:{position:"relative",opacity:0,justifyContent:"center",fontSize:"var(--emoji-size)",background:"var(--md-sys-color-surface-bright)",height:"33px",aspectRatio:"1/1",padding:"var(--gap-sm)"}}),nJe=H("div",{base:{width:"1px",height:"14px",background:"var(--md-sys-color-outline-variant)"}}),rJe=H("div",{base:{width:"100%",display:"flex",flexWrap:"wrap",alignItems:"center",gap:"var(--gap-sm)","&:hover .add":{opacity:1}}}),iJe=H("span",{base:{lineClamp:2,maxWidth:"200px",overflow:"hidden",whiteSpace:"pre-wrap",textOverflow:"ellipsis"}});Tr(["click"]);var sJe=I("<span>"),oJe=I("<strong>");function aJe(t){const e=du(),n=Ad();return u(lJe,{get children(){return u(Me,{get fallback(){return t.systemMessage.type},get children(){return[u(Z,{get when(){return t.systemMessage.type==="user_added"},get children(){return u(k,{id:"NexPDe",components:{0:u(di,{get userId(){return t.systemMessage.userId}}),1:u(di,{get userId(){return t.systemMessage.byId}})}})}}),u(Z,{get when(){return t.systemMessage.type==="user_left"&&!t.isServer},get children(){return u(k,{id:"O8cm2i",components:{0:u(di,{get userId(){return t.systemMessage.userId}})}})}}),u(Z,{get when(){return t.systemMessage.type==="user_remove"},get children(){return u(k,{id:"q0DiwX",components:{0:u(di,{get userId(){return t.systemMessage.userId}}),1:u(di,{get userId(){return t.systemMessage.byId}})}})}}),u(Z,{get when(){return t.systemMessage.type==="user_kicked"},get children(){return u(k,{id:"iZjytO",components:{0:u(di,{get userId(){return t.systemMessage.userId}})}})}}),u(Z,{get when(){return t.systemMessage.type==="user_banned"},get children(){return u(k,{id:"IcMmvx",components:{0:u(di,{get userId(){return t.systemMessage.userId}})}})}}),u(Z,{get when(){return t.systemMessage.type==="user_joined"},get children(){return u(k,{id:"1S+lXN",components:{0:u(di,{get userId(){return t.systemMessage.userId}})}})}}),u(Z,{get when(){return t.systemMessage.type==="user_left"&&t.isServer},get children(){return u(k,{id:"Hz0fNl",components:{0:u(di,{get userId(){return t.systemMessage.userId}})}})}}),u(Z,{get when(){return t.systemMessage.type==="channel_renamed"},get children(){return u(k,ge(()=>({id:"lavCXh",values:{0:t.systemMessage.name},components:{0:u(di,{get userId(){return t.systemMessage.byId}}),1:oJe()}})))}}),u(Z,{get when(){return t.systemMessage.type==="channel_description_changed"},get children(){return u(k,{id:"7CtNua",components:{0:u(di,{get userId(){return t.systemMessage.byId}})}})}}),u(Z,{get when(){return t.systemMessage.type==="channel_icon_changed"},get children(){return u(k,{id:"FgK7kh",components:{0:u(di,{get userId(){return t.systemMessage.byId}})}})}}),u(Z,{get when(){return t.systemMessage.type==="channel_ownership_changed"},get children(){return u(k,{id:"SynpeZ",components:{0:u(di,{get userId(){return t.systemMessage.fromId}}),1:u(di,{get userId(){return t.systemMessage.toId}})}})}}),u(Z,{get when(){return t.systemMessage.type==="message_pinned"},get children(){return u(k,{id:"yd5o8J",components:{0:u(di,{get userId(){return t.systemMessage.byId}}),1:u(rv,{get href(){return location.origin+(e().serverId?`/server/${e().serverId}`:"")+`/channel/${e().channelId}/${t.systemMessage.messageId}`}})}})}}),u(Z,{get when(){return t.systemMessage.type==="message_unpinned"},get children(){return u(k,{id:"oJOfyZ",components:{0:u(di,{get userId(){return t.systemMessage.byId}}),1:u(rv,{get href(){return location.origin+(e().serverId?`/server/${e().serverId}`:"")+`/channel/${e().channelId}/${t.systemMessage.messageId}`}})}})}}),u(Z,{get when(){return t.systemMessage.type==="call_started"},get children(){return u(X,{get when(){return t.systemMessage.finishedAt!=null},get fallback(){return u(k,{id:"Nwo3hz",components:{0:u(di,{get userId(){return t.systemMessage.byId}})}})},get children(){return[u(k,{id:"Wwa7qY",components:{0:u(di,{get userId(){return t.systemMessage.byId}})}}),(()=>{var r=sJe();return Fe(Xt,r,()=>({tooltip:{placement:"top",content:()=>u($r,{format:"datetime",get value(){return t.systemMessage.finishedAt}}),aria:fg(n,{format:"datetime",value:t.systemMessage.finishedAt})}})),V(r,u($r,{get value(){return t.systemMessage.finishedAt},get referenceTime(){return t.systemMessage.startedAt},hideSuffix:!0,format:"relative"})),Te(()=>ut(r,VE())),r})()]}})}}),u(Z,{get when(){return t.systemMessage.type==="text"},get children(){return t.systemMessage.content}})]}})}})}const lJe=H("div",{base:{minHeight:"20px",alignItems:"center"}});function cJe(t){const e=Ad();return u(uJe,{get type(){return t.systemMessage.type},get children(){return u(vi,{content:()=>u($r,{format:"relative",get value(){return t.createdAt}}),get aria(){return fg(e,{format:"relative",value:t.createdAt})},placement:"top",get children(){return u(Me,{get fallback(){return u(h6,{size:16})},get children(){return[u(Z,{get when(){return t.systemMessage.type==="user_added"},get children(){return u(X9e,{size:16})}}),u(Z,{get when(){return t.systemMessage.type==="user_left"&&!t.isServer},get children(){return u(q9e,{size:16})}}),u(Z,{get when(){return t.systemMessage.type==="user_remove"},get children(){return u(Aq,{size:16})}}),u(Z,{get when(){return t.systemMessage.type==="user_kicked"},get children(){return u(fRe,{size:16})}}),u(Z,{get when(){return t.systemMessage.type==="user_banned"},get children(){return u(aRe,{size:16})}}),u(Z,{get when(){return t.systemMessage.type==="user_joined"},get children(){return u(G9e,{size:16})}}),u(Z,{get when(){return t.systemMessage.type==="user_left"&&t.isServer},get children(){return u(j9e,{size:16})}}),u(Z,{get when(){return t.systemMessage.type==="channel_renamed"},get children(){return u(oRe,{size:16})}}),u(Z,{get when(){return t.systemMessage.type==="channel_description_changed"},get children(){return u(L9e,{size:16})}}),u(Z,{get when(){return t.systemMessage.type==="channel_icon_changed"},get children(){return u(Mq,{size:16})}}),u(Z,{get when(){return t.systemMessage.type==="channel_ownership_changed"},get children(){return u(Iq,{size:16})}}),u(Z,{get when(){return t.systemMessage.type==="message_pinned"||t.systemMessage.type==="message_unpinned"},get children(){return u(W9e,{size:16})}}),u(Z,{get when(){return t.systemMessage.type==="call_started"},get children(){return u(H9e,{size:16})}})]}})}})}})}const uJe=H("div",{base:{width:"62px",display:"grid",placeItems:"center"},variants:{type:{user_added:{color:"var(--md-sys-color-primary)"},user_joined:{color:"var(--md-sys-color-primary)"},channel_ownership_changed:{color:"var(--md-sys-color-primary)"},user_left:{color:"var(--md-sys-color-error)"},user_kicked:{color:"var(--md-sys-color-error)"},user_banned:{color:"var(--md-sys-color-error)"},text:{color:"var(--md-sys-color-primary)"},user_remove:{color:"var(--md-sys-color-primary)"},channel_renamed:{color:"var(--md-sys-color-primary)"},channel_description_changed:{color:"var(--md-sys-color-primary)"},channel_icon_changed:{color:"var(--md-sys-color-primary)"},message_pinned:{color:"var(--md-sys-color-primary)"},message_unpinned:{color:"var(--md-sys-color-primary)"},call_started:{color:"var(--md-sys-color-primary)"}}}}),dJe=H("span",{base:{flexShrink:0}}),hJe=H("a",{base:{display:"flex",flexShrink:0,alignItems:"center",flexDirection:"row",textTransform:"uppercase",gap:"var(--gap-sm)",cursor:"pointer"},variants:{mention:{false:{color:"var(--md-sys-color-outline)"}}}}),fJe=H("a",{base:{display:"grid",placeItems:"center",cursor:"pointer"}}),mJe=H(kt,{base:{fontSize:"0.8em",userSelect:"none",marginBlockEnd:"var(--gap-md)",padding:"var(--gap-md) var(--gap-lg)",borderRadius:"var(--borderRadius-lg)",background:"var(--md-sys-color-primary-container)",color:"var(--md-sys-color-on-primary-container)","& a:hover":{filter:"brightness(1.2)"}}});function gJe(t){return u(mJe,{gap:"md",align:!0,get children(){return[u(dJe,{get children(){return u(k,{id:"VKsaTi"})}}),u(RT,{get message(){return t.message},noDecorations:!0}),u(kt,{gap:"lg",align:!0,get children(){return[u(X,{get when(){return!t.self},get children(){return u(hJe,{get mention(){return t.mention},get onClick(){return t.toggle},get children(){return[u(yt,{size:16,children:"alternate_email"}),u(Me,{get fallback(){return u(k,{id:"az8lvo"})},get children(){return u(Z,{get when(){return t.mention},get children(){return u(k,{id:"Z5HWHd"})}})}})]}})}}),u(fJe,{get onClick(){return t.dismiss},get children(){return u(yt,{size:16,fill:!0,children:"cancel"})}})]}})]}})}var XI=I("<div>"),pJe=I("<img>"),kG=I("<span>");const ky=10;function vJe(){const t=pt(),e=Ht(),[n,r]=ve("");let i,s;const o=ke(()=>{const a=n().toLowerCase();if(a)return[...e.ordering.orderedServers(t()).flatMap(c=>c.emojis.filter(d=>d.name.toLowerCase().includes(a)).map(d=>({t:2,emoji:d}))),...Object.entries(dd).filter(([c])=>c.toLowerCase().includes(a)).map(([c,d])=>({t:4,name:c,text:d}))];const l=[];for(const c of e.ordering.orderedServers(t())){const d=c.emojis;if(d.length!==0){for(l.push({t:0,server:c});l.length%ky;)l.push({t:1});for(const h of d)l.push({t:2,emoji:h});for(;l.length%ky;)l.push({t:1})}}for(l.push({t:3,title:"Default"});l.length%ky;)l.push({t:1});for(const c of Object.entries(dd))l.push({t:4,name:c[0],text:c[1]});return l});return u(bJe,{get children(){return[u(es,{autoFocus:!0,variant:"filled",placeholder:"Search for emojis...",get value(){return n()},onMouseDown:a=>{a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation()},onInput:a=>r(a.currentTarget.value)}),u(kt,{get class(){return LJe()},get children(){return[(()=>{var a=XI();Fe(nc,a,()=>({class:YI({component:"serverRail"})}));var l=i;return typeof l=="function"?Fe(l,a):i=a,V(a,u(eu,{items:[1,2,3],scrollTarget:i,itemSize:{height:40},children:yJe})),a})(),(()=>{var a=XI();Fe(nc,a,()=>({class:YI({component:"emoji"})}));var l=s;return typeof l=="function"?Fe(l,a):s=a,V(a,u(eu,{get items(){return o()},scrollTarget:s,itemSize:{height:40,width:40},crossAxisCount:c=>Math.floor(c.container.cross/c.itemSize.cross),children:wJe})),a})()]}})]}})}const bJe=H("div",{base:{minHeight:0,display:"flex",flexDirection:"column"}}),YI=nn({base:{},variants:{component:{serverRail:{display:"none"},emoji:{flexGrow:1}}}}),yJe=t=>u(OJe,{get style(){return t.style},get tabIndex(){return t.tabIndex},role:"listitem",get children(){return t.item}}),OJe=H("div",{base:{width:"100%"}}),wJe=t=>{const e=Ht(),{onTextReplacement:n}=Nn(MT);return u(kJe,{get style(){return t.style},get type(){return t.item.t},get tabIndex(){return t.tabIndex},role:"listitem",onClick:()=>{t.item.t===2&&n(`:${t.item.emoji.id}:`),t.item.t===4&&n(`${Lj[e.settings.getValue("appearance:unicode_emoji")]??""}${t.item.text}`)},get children(){return u(Me,{get children(){return[u(Z,{get when(){return t.item.t===0},get children(){return u(SJe,{get server(){return t.item.server}})}}),u(Z,{get when(){return t.item.t===2},get children(){return[u(En,{}),u(X,{keyed:!0,get when(){return t.item.emoji.id},get children(){var r=pJe();return Te(()=>$t(r,"src",t.item.emoji.url)),r}})]}}),u(Z,{get when(){return t.item.t===3},get children(){var r=kG();return V(r,()=>t.item.title),r}}),u(Z,{get when(){return t.item.t===4},get children(){return[u(En,{}),u(X,{keyed:!0,get when(){return t.item.text},get children(){return u(va,{get emoji(){return t.item.text},get pack(){return e.settings.getValue("appearance:unicode_emoji")}})}})]}})]}})}})},kJe=H("div",{base:{},variants:{type:{0:{},1:{},2:{},3:{},4:{}}},compoundVariants:[{type:[0,3],css:{display:"flex",alignItems:"center",paddingInline:"var(--gap-md)",width:`calc(40px * ${ky}) !important`}},{type:[2,4],css:{width:"100%",cursor:"pointer",position:"relative",padding:"var(--gap-sm)",borderRadius:"var(--borderRadius-sm)","--emoji-size":"100%","& img":{width:"100%",height:"100%",objectFit:"contain"}}}]});function SJe(t){return u(kt,{align:!0,get children(){return[u(zt,{size:24,get src(){return t.server.animatedIconURL},get fallback(){return t.server.name}}),(()=>{var e=kG();return V(e,()=>t.server.name),e})()]}})}var SG=I("<div>");const xG=yr();function xJe(){const[t,e]=ve(""),n=()=>t().toLowerCase();return u(_Je,{get children(){return[u(es,{autoFocus:!0,variant:"filled",placeholder:"Search for GIFs...",get value(){return t()},onMouseDown:r=>{r.preventDefault(),r.stopPropagation(),r.stopImmediatePropagation()},onChange:r=>e(r.currentTarget.value)}),u(Ev,{get fallback(){return u(Zr,{})},get children(){return u(Me,{get fallback(){return u(xG.Provider,{value:e,get children(){return u(CJe,{})}})},get children(){return u(Z,{get when(){return n()},get children(){return u(DJe,{get query(){return n()}})}})}})}})]}})}const _Je=H("div",{base:{minHeight:0,display:"flex",flexDirection:"column"}});function CJe(){let t;const e=pt(),n=Ho(()=>({queryKey:["trendingGifCategories"],queryFn:()=>{const[s,o]=e().authenticationHeader;return fetch("https://api.gifbox.me/categories?locale=en_US",{headers:{[s]:o}}).then(a=>a.json())},refetchOnReconnect:!1,refetchOnWindowFocus:!1})),r=Ho(()=>({queryKey:["trendingGif1"],queryFn:()=>{const[s,o]=e().authenticationHeader;return fetch("https://api.gifbox.me/trending?locale=en_US&limit=1",{headers:{[s]:o}}).then(a=>a.json()).then(a=>a.results[0])},refetchOnReconnect:!1,refetchOnWindowFocus:!1,initialData:null})),i=ke(()=>[{t:1,gif:r.data},...n.data?.map(s=>({t:0,category:s}))??[]]);return(()=>{var s=SG();Fe(nc,s,()=>!0);var o=t;return typeof o=="function"?Fe(o,s):t=s,V(s,u(eu,{get items(){return i()},scrollTarget:t,itemSize:{height:120,width:200},crossAxisCount:a=>Math.floor(a.container.cross/a.itemSize.cross),children:EJe})),s})()}const EJe=t=>{const e=Nn(xG);return u(TJe,{get style(){return{...t.style,"background-image":`linear-gradient(to right, #0006, #0006), url("${t.item.t===0?t.item.category.image:t.item.gif?.url}")`}},get tabIndex(){return t.tabIndex},role:"listitem",onClick:()=>e(t.item.t===0?t.item.category.title:"trending"),onMouseDown:n=>{n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation()},get children(){return u(Me,{get fallback(){return u(k,{id:"Nqw9Fh"})},get children(){return u(Z,{get when(){return t.item.t===0},get children(){return t.item.category.title}})}})}})},TJe=H("div",{base:{...An.raw({class:"title",size:"small"}),width:"200px",height:"120px",backgroundSize:"cover",backgroundPosition:"center",color:"white",display:"flex",padding:"var(--gap-md)",alignItems:"end",justifyContent:"end",cursor:"pointer"}});function DJe(t){let e;const n=pt(),r=Ho(()=>({queryKey:["gifs",t.query],queryFn:()=>{const[i,s]=n().authenticationHeader;return fetch("https://api.gifbox.me/"+(t.query==="trending"?"trending?locale=en_US":`search?locale=en_US&query=${encodeURIComponent(t.query)}`),{headers:{[i]:s}}).then(o=>o.json()).then(o=>o.results)},refetchOnReconnect:!1,refetchOnWindowFocus:!1}));return(()=>{var i=SG();Fe(nc,i,()=>!0);var s=e;return typeof s=="function"?Fe(s,i):e=i,V(i,u(eu,{get items(){return r.data},scrollTarget:e,itemSize:{height:120,width:200},crossAxisCount:o=>Math.floor(o.container.cross/o.itemSize.cross),children:AJe})),i})()}const AJe=t=>{const{onMessage:e}=Nn(MT);return u(PJe,{loop:!0,autoplay:!0,muted:!0,preload:"auto",role:"listitem",get style(){return t.style},get tabIndex(){return t.tabIndex},get src(){return t.item.media_formats.tinywebm.url},onClick:()=>e(t.item.url)})},PJe=H("video",{base:{width:"200px",height:"120px",cursor:"pointer",objectFit:"cover"}});var RJe=I("<span>Not available yet.");const MT=yr(null);function IT(t){const[e,n]=ve(),[r,i]=ve();return u(MT.Provider,{value:t,get children(){return[Ce(()=>t.children({ref:n,onClickGif:()=>i(s=>s==="gif"?void 0:"gif"),onClickEmoji:()=>i(s=>s==="emoji"?void 0:"emoji")})),u(uu,{get mount(){return document.getElementById("floating")},get children(){return u(bu,{get children(){return u(X,{get when(){return r()},get children(){return u(gc,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,easing:[.87,0,.13,1]},get children(){return u(MJe,{anchor:e,show:r,setShow:i,get onMessage(){return t.onMessage},get onTextReplacement(){return t.onTextReplacement}})}})}})}})}})]}})}function MJe(t){const[e,n]=ve(),r=cw(()=>t.anchor(),e,{placement:"top-end",middleware:[aw(5),nq(),lw()]});function i(){t.setShow()}return Tn(()=>document.addEventListener("mousedown",i)),wt(()=>document.removeEventListener("mousedown",i)),u(IJe,{ref:n,get style(){return{position:r.strategy,top:`${r.y??0}px`,left:`${r.x??0}px`}},get children(){return u($Je,{get children(){return[u(kt,{justify:!0,class:"CompositionButton",get children(){return[u(ot,{get groupActive(){return t.show()==="gif"},onPress:()=>t.setShow("gif"),group:"connected-start",children:"GIFs"}),u(ot,{get groupActive(){return t.show()==="emoji"},onPress:()=>t.setShow("emoji"),group:"connected-end",children:"Emoji"})]}}),u(Me,{get fallback(){return RJe()},get children(){return[u(Z,{get when(){return t.show()==="gif"},get children(){return u(xJe,{})}}),u(Z,{get when(){return t.show()==="emoji"},get children(){return u(vJe,{})}})]}})]}})}})}const IJe=H("div",{base:{width:"400px",height:"400px"}}),$Je=H("div",{base:{width:"100%",height:"100%",userSelect:"none",display:"flex",flexDirection:"column",gap:"var(--gap-md)",alignItems:"stretch",overflow:"hidden",padding:"var(--gap-md) 0",borderRadius:"var(--borderRadius-lg)",color:"var(--md-sys-color-on-surface)",fill:"var(--md-sys-color-on-surface)",boxShadow:"0 0 3px var(--md-sys-color-shadow)",background:"var(--md-sys-color-surface-container)"}}),LJe=nn({base:{flexGrow:1,minHeight:0}});function NJe(t){const n=ew(()=>t.users.filter(r=>typeof r<"u"&&r.id!==t.ownId&&r.relationship!=="Blocked").sort((r,i)=>r.id.toUpperCase().localeCompare(i.id.toUpperCase())).map(r=>r.id),!0);return u(Me,{get fallback(){return u(GI,{})},get children(){return u(Z,{get when(){return n().length},get children(){return u(GI,{get children(){return[u(FJe,{get children(){return u(rt,{get each(){return n()},children:(r,i)=>u(zt,{get src(){return r.avatar},size:15,get holepunch(){return i()+1<n().length?"overlap-subtle":"none"}})})}}),u(jr,{get class(){return An({class:"body",size:"small"})},get children(){return u(Me,{get fallback(){return u(k,{id:"3QuNUr"})},get children(){return[u(Z,{get when(){return n().length===1},get children(){return u(k,ge(()=>({id:"Mj6oCJ",values:{0:n()[0].username}})))}}),u(Z,{get when(){return n().length<5},get children(){return u(k,ge(()=>({id:"5KHDCi",values:{0:n().slice(0,-1).map(r=>r.username).join(", "),1:n().slice(-1)[0].username}})))}})]}})}})]}})}})}})}const FJe=H("div",{base:{display:"flex",flexShrink:0,height:"fit-content","& :not(:first-child)":{marginInlineStart:"-6px"}}}),GI=H("div",{base:{width:"100%",minHeight:"26px",padding:"0 var(--gap-lg)",borderRadius:"var(--borderRadius-lg)",display:"flex",gap:"var(--gap-md)",userSelect:"none",alignItems:"center",flexDirection:"row",color:"var(--md-sys-color-on-surface)"}});var BJe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z">');const zJe=(t={})=>(()=>{var e=BJe();return Se(e,t,!0,!0),e})();var QJe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z">');const UJe=(t={})=>(()=>{var e=QJe();return Se(e,t,!0,!0),e})();var VJe=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2">');const jJe=(t={})=>(()=>{var e=VJe();return Se(e,t,!0,!0),e})();function qJe(t){const e=Dr(),{openModal:n}=Ne();function r(){t.user.openDM().then(s=>e(s.url))}function i(){t.member?n({type:"server_identity",member:t.member}):n({type:"settings",config:"user"}),Sv()}return u(HJe,{get width(){return t.width},get children(){return[u(X,{get when(){return t.user.relationship==="None"&&!t.user.bot},get children(){return u(ot,{onPress:()=>t.user.addFriend(),children:"Add Friend"})}}),u(X,{get when(){return t.user.relationship==="Incoming"},get children(){return[u(ot,{onPress:()=>t.user.addFriend(),children:"Accept friend request"}),u(On,{onPress:()=>t.user.removeFriend(),get children(){return u(zJe,{})}})]}}),u(X,{get when(){return t.user.relationship==="Outgoing"},get children(){return u(ot,{onPress:()=>t.user.removeFriend(),children:"Cancel friend request"})}}),u(X,{get when(){return t.user.relationship==="Friend"},get children(){return u(ot,{onPress:r,children:"Message"})}}),u(X,{get when(){return Ce(()=>!!t.member)()?Ce(()=>!!t.user.self)()?t.member.server.havePermission("ChangeNickname")||t.member.server.havePermission("ChangeAvatar"):Ce(()=>!!(t.member.server.havePermission("ManageNicknames")||t.member.server.havePermission("RemoveAvatars")))()&&t.member.inferiorTo(t.member.server.member):t.user.self},get children(){return u(On,{onPress:i,get children(){return u(UJe,ge(()=>at(16)))}})}}),u(On,{"use:floating":{contextMenu:()=>u(cf,{get user(){return t.user},get member(){return t.member}}),contextMenuHandler:"click"},get children(){return u(jJe,{})}})]}})}const HJe=H("div",{base:{display:"flex",gap:"var(--gap-md)",justifyContent:"flex-end"},variants:{width:{3:{gridColumn:"1 / 4"},2:{gridColumn:"1 / 3"}}}}),WJe="data:image/svg+xml,%3csvg%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='64.00001046823172'%20xmlns='http://www.w3.org/2000/svg'%20id='screenshot'%20version='1.1'%20viewBox='-0.000008942940667111543%20-0.0000033745862566547657%2064.00001046823172%2064.00000545874563'%20height='64.00000545874563'%20style='-webkit-print-color-adjust:%20exact;'%3e%3cg%20id='shape-d9b11490-3403-11ec-bc16-7b519797d558'%3e%3crect%20rx='0'%20ry='0'%20x='0'%20y='0'%20transform='matrix(1.0000000000000007,-8.726646259971662e-8,-1.5707963280665485e-7,1.0000000000000124,0.000005026548230091521,0.0000027925264056705146)'%20width='64'%20height='64'%20style='fill:%20rgb(255,%20255,%20255);%20fill-opacity:%201;'/%3e%3c/g%3e%3c/svg%3e",XJe="data:image/svg+xml,%3csvg%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='64.00001046823172'%20xmlns='http://www.w3.org/2000/svg'%20id='screenshot'%20version='1.1'%20viewBox='-0.000008942940667111543%20-0.0000033745862566547657%2064.00001046823172%2064.00000545874563'%20height='64.00000545874563'%20style='-webkit-print-color-adjust:%20exact;'%3e%3cg%20id='shape-d9b11490-3403-11ec-bc16-7b519797d558'%3e%3crect%20rx='0'%20ry='0'%20x='0'%20y='0'%20transform='matrix(1.0000000000000007,-8.726646259971662e-8,-1.5707963280665485e-7,1.0000000000000124,0.000005026548230091521,0.0000027925264056705146)'%20width='64'%20height='64'%20style='fill:%20rgb(255,%20255,%20255);%20fill-opacity:%201;'/%3e%3c/g%3e%3c/svg%3e",YJe="data:image/svg+xml,%3csvg%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='64.00001046823172'%20xmlns='http://www.w3.org/2000/svg'%20id='screenshot'%20version='1.1'%20viewBox='-0.000008942940667111543%20-0.0000033745862566547657%2064.00001046823172%2064.00000545874563'%20height='64.00000545874563'%20style='-webkit-print-color-adjust:%20exact;'%3e%3cg%20id='shape-d9b11490-3403-11ec-bc16-7b519797d558'%3e%3crect%20rx='0'%20ry='0'%20x='0'%20y='0'%20transform='matrix(1.0000000000000007,-8.726646259971662e-8,-1.5707963280665485e-7,1.0000000000000124,0.000005026548230091521,0.0000027925264056705146)'%20width='64'%20height='64'%20style='fill:%20rgb(255,%20255,%20255);%20fill-opacity:%201;'/%3e%3c/g%3e%3c/svg%3e",GJe="data:image/svg+xml,%3csvg%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='64.00001046823172'%20xmlns='http://www.w3.org/2000/svg'%20id='screenshot'%20version='1.1'%20viewBox='-0.000008942940667111543%20-0.0000033745862566547657%2064.00001046823172%2064.00000545874563'%20height='64.00000545874563'%20style='-webkit-print-color-adjust:%20exact;'%3e%3cg%20id='shape-d9b11490-3403-11ec-bc16-7b519797d558'%3e%3crect%20rx='0'%20ry='0'%20x='0'%20y='0'%20transform='matrix(1.0000000000000007,-8.726646259971662e-8,-1.5707963280665485e-7,1.0000000000000124,0.000005026548230091521,0.0000027925264056705146)'%20width='64'%20height='64'%20style='fill:%20rgb(255,%20255,%20255);%20fill-opacity:%201;'/%3e%3c/g%3e%3c/svg%3e",ZJe="data:image/svg+xml,%3csvg%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='64.00001046823172'%20xmlns='http://www.w3.org/2000/svg'%20id='screenshot'%20version='1.1'%20viewBox='-0.000008942940667111543%20-0.0000033745862566547657%2064.00001046823172%2064.00000545874563'%20height='64.00000545874563'%20style='-webkit-print-color-adjust:%20exact;'%3e%3cg%20id='shape-d9b11490-3403-11ec-bc16-7b519797d558'%3e%3crect%20rx='0'%20ry='0'%20x='0'%20y='0'%20transform='matrix(1.0000000000000007,-8.726646259971662e-8,-1.5707963280665485e-7,1.0000000000000124,0.000005026548230091521,0.0000027925264056705146)'%20width='64'%20height='64'%20style='fill:%20rgb(255,%20255,%20255);%20fill-opacity:%201;'/%3e%3c/g%3e%3c/svg%3e",KJe="data:image/svg+xml,%3csvg%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='64.00001046823172'%20xmlns='http://www.w3.org/2000/svg'%20id='screenshot'%20version='1.1'%20viewBox='-0.000008942940667111543%20-0.0000033745862566547657%2064.00001046823172%2064.00000545874563'%20height='64.00000545874563'%20style='-webkit-print-color-adjust:%20exact;'%3e%3cg%20id='shape-d9b11490-3403-11ec-bc16-7b519797d558'%3e%3crect%20rx='0'%20ry='0'%20x='0'%20y='0'%20transform='matrix(1.0000000000000007,-8.726646259971662e-8,-1.5707963280665485e-7,1.0000000000000124,0.000005026548230091521,0.0000027925264056705146)'%20width='64'%20height='64'%20style='fill:%20rgb(255,%20255,%20255);%20fill-opacity:%201;'/%3e%3c/g%3e%3c/svg%3e",JJe="data:image/svg+xml,%3csvg%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='64.00001046823172'%20xmlns='http://www.w3.org/2000/svg'%20id='screenshot'%20version='1.1'%20viewBox='-0.000008942940667111543%20-0.0000033745862566547657%2064.00001046823172%2064.00000545874563'%20height='64.00000545874563'%20style='-webkit-print-color-adjust:%20exact;'%3e%3cg%20id='shape-d9b11490-3403-11ec-bc16-7b519797d558'%3e%3crect%20rx='0'%20ry='0'%20x='0'%20y='0'%20transform='matrix(1.0000000000000007,-8.726646259971662e-8,-1.5707963280665485e-7,1.0000000000000124,0.000005026548230091521,0.0000027925264056705146)'%20width='64'%20height='64'%20style='fill:%20rgb(255,%20255,%20255);%20fill-opacity:%201;'/%3e%3c/g%3e%3c/svg%3e",eet="data:image/svg+xml,%3csvg%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='64.00001046823172'%20xmlns='http://www.w3.org/2000/svg'%20id='screenshot'%20version='1.1'%20viewBox='-0.000008942940667111543%20-0.0000033745862566547657%2064.00001046823172%2064.00000545874563'%20height='64.00000545874563'%20style='-webkit-print-color-adjust:%20exact;'%3e%3cg%20id='shape-d9b11490-3403-11ec-bc16-7b519797d558'%3e%3crect%20rx='0'%20ry='0'%20x='0'%20y='0'%20transform='matrix(1.0000000000000007,-8.726646259971662e-8,-1.5707963280665485e-7,1.0000000000000124,0.000005026548230091521,0.0000027925264056705146)'%20width='64'%20height='64'%20style='fill:%20rgb(255,%20255,%20255);%20fill-opacity:%201;'/%3e%3c/g%3e%3c/svg%3e",tet="data:image/svg+xml,%3csvg%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='64.00001046823172'%20xmlns='http://www.w3.org/2000/svg'%20id='screenshot'%20version='1.1'%20viewBox='-0.000008942940667111543%20-0.0000033745862566547657%2064.00001046823172%2064.00000545874563'%20height='64.00000545874563'%20style='-webkit-print-color-adjust:%20exact;'%3e%3cg%20id='shape-d9b11490-3403-11ec-bc16-7b519797d558'%3e%3crect%20rx='0'%20ry='0'%20x='0'%20y='0'%20transform='matrix(1.0000000000000007,-8.726646259971662e-8,-1.5707963280665485e-7,1.0000000000000124,0.000005026548230091521,0.0000027925264056705146)'%20width='64'%20height='64'%20style='fill:%20rgb(255,%20255,%20255);%20fill-opacity:%201;'/%3e%3c/g%3e%3c/svg%3e",net="data:image/svg+xml,%3csvg%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='64.00001046823172'%20xmlns='http://www.w3.org/2000/svg'%20id='screenshot'%20version='1.1'%20viewBox='-0.000008942940667111543%20-0.0000033745862566547657%2064.00001046823172%2064.00000545874563'%20height='64.00000545874563'%20style='-webkit-print-color-adjust:%20exact;'%3e%3cg%20id='shape-d9b11490-3403-11ec-bc16-7b519797d558'%3e%3crect%20rx='0'%20ry='0'%20x='0'%20y='0'%20transform='matrix(1.0000000000000007,-8.726646259971662e-8,-1.5707963280665485e-7,1.0000000000000124,0.000005026548230091521,0.0000027925264056705146)'%20width='64'%20height='64'%20style='fill:%20rgb(255,%20255,%20255);%20fill-opacity:%201;'/%3e%3c/g%3e%3c/svg%3e",Yh=H("div",{base:{position:"relative",minWidth:0,height:"100%",width:"100%",userSelect:"none",color:"var(--md-sys-color-on-surface)",background:"var(--md-sys-color-surface-container-low)",padding:"var(--gap-lg)",borderRadius:"var(--borderRadius-lg)",display:"flex",gap:"var(--gap-sm)",flexDirection:"column"},variants:{width:{1:{overflow:"hidden",aspectRatio:"1/1"},2:{gridColumn:"1 / 3"},3:{gridColumn:"1 / 4"}},constraint:{half:{overflow:"hidden",aspectRatio:"2/1"}},isLink:{true:{cursor:"pointer"}}},defaultVariants:{width:1}});var _c=I("<img>"),ret=I("<span><img>"),iet=I("<span>");function set(t){const{_:e}=Dt();return u(X,{get when(){return t.user.badges},get children(){return u(Yh,{get children(){return[u(Le,{class:"title",size:"large",get children(){return u(k,{id:"+YFgJi"})}}),u(oet,{get children(){return[u(X,{get when(){return t.user.badges&aa.Founder},get children(){var n=_c();return Fe(Xt,n,()=>({tooltip:{placement:"top",content:e({id:"ggOh4M"})}})),$t(n,"src",ZJe),n}}),u(X,{get when(){return t.user.badges&aa.Developer},get children(){var n=_c();return Fe(Xt,n,()=>({tooltip:{placement:"top",content:e({id:"j0nE0x"})}})),$t(n,"src",YJe),n}}),u(X,{get when(){return t.user.badges&aa.Supporter},get children(){var n=_c();return Fe(Xt,n,()=>({tooltip:{placement:"top",content:e({id:"wvaz2C"})}})),$t(n,"src",tet),n}}),u(X,{get when(){return t.user.badges&aa.Translator},get children(){var n=_c();return Fe(Xt,n,()=>({tooltip:{placement:"top",content:e({id:"eMIuqg"})}})),$t(n,"src",net),n}}),u(X,{get when(){return t.user.badges&aa.EarlyAdopter},get children(){var n=_c();return Fe(Xt,n,()=>({tooltip:{placement:"top",content:e({id:"zxB685"})}})),$t(n,"src",GJe),n}}),u(X,{get when(){return t.user.badges&aa.PlatformModeration},get children(){var n=ret(),r=n.firstChild;return Fe(Xt,n,()=>({tooltip:{placement:"top",content:e({id:"kvNfhr"})}})),$t(r,"src",KJe),n}}),u(X,{get when(){return t.user.badges&aa.ResponsibleDisclosure},get children(){var n=iet();return Fe(Xt,n,()=>({tooltip:{placement:"top",content:e({id:"iTf46S"})}})),V(n,u(lRe,{})),n}}),u(X,{get when(){return t.user.badges&aa.ReservedRelevantJokeBadge1},get children(){var n=_c();return Fe(Xt,n,()=>({tooltip:{placement:"top",content:e({id:"GrnHKn"})}})),$t(n,"src",WJe),n}}),u(X,{get when(){return t.user.badges&aa.ReservedRelevantJokeBadge1},get children(){var n=_c();return Fe(Xt,n,()=>({tooltip:{placement:"top",content:e({id:"v/QmhM"})}})),$t(n,"src",XJe),n}}),u(X,{get when(){return t.user.badges&aa.Paw},get children(){var n=_c();return Fe(Xt,n,()=>({tooltip:{placement:"top",content:""}})),$t(n,"src",JJe),n}}),u(X,{get when(){return t.user.id==="01EX2NCWQ0CHS3QJF0FEQS1GR4"},get children(){var n=_c();return Fe(Xt,n,()=>({tooltip:{placement:"top",content:""}})),$t(n,"src",eet),n}})]}})]}})}})}const oet=H("div",{base:{gap:"var(--gap-md)",display:"flex",flexWrap:"wrap","& img, & svg":{width:"24px",height:"24px",aspectRatio:"1/1"}}});var aet=I("<span>"),cet=I("<span><span>#");function uet(t){return u(det,{get style(){return{"background-image":`linear-gradient(rgba(0, 0, 0, 0.2),rgba(0, 0, 0, 0.7)), url('${t.bannerUrl}')`}},get isLink(){return typeof t.onClick<"u"},get onClick(){return t.onClick},get width(){return t.width},get children(){return[u(X,{get when(){return typeof t.onClick<"u"},get children(){return u(En,{})}}),u(kt,{align:!0,gap:"lg",get children(){return[u(zt,{get src(){return t.user.animatedAvatarURL},size:48,holepunch:"bottom-right",get onClick(){return t.onClickAvatar},get interactive(){return t.user.avatar&&!!t.onClickAvatar},get overlay(){return u(Ro.Graphic,{get status(){return t.user.presence}})}}),u(het,{get children(){return[u(X,{get when(){return(t.member?.displayName??t.user.displayName)!==t.user.username},get children(){var e=aet();return V(e,()=>t.member?.displayName??t.user.displayName),Te(()=>ut(e,hn({fontWeight:600}))),e}}),(()=>{var e=cet(),n=e.firstChild;return n.firstChild,V(e,()=>t.user.username,n),V(n,()=>t.user.discriminator,null),Te(()=>ut(n,hn({fontWeight:200}))),e})()]}})]}})]}})}const det=H("div",{base:{position:"relative",userSelect:"none",height:"120px",padding:"var(--gap-lg)",display:"flex",flexDirection:"column",justifyContent:"end",backgroundSize:"cover",backgroundPosition:"center",borderRadius:"var(--borderRadius-xl)",color:"white"},variants:{width:{3:{gridColumn:"1 / 4"},2:{gridColumn:"1 / 3"}},isLink:{true:{cursor:"pointer"}}}}),het=H("div",{base:{...An.raw(),display:"flex",lineHeight:"1em",gap:"var(--gap-xs)",flexDirection:"column"}});function fet(t){return u(X,{get when(){return t.content},get children(){return u(Yh,{get onClick(){return t.onClick},get isLink(){return typeof t.onClick<"u"},get width(){return t.full?3:2},get constraint(){return t.full?void 0:"half"},get children(){return[u(X,{get when(){return t.onClick},get children(){return u(En,{})}}),u(Le,{class:"title",size:"large",children:"Bio"}),u(met,{get children(){return u(Md,{get content(){return t.content}})}})]}})}})}const met=H("span",{base:{...An.raw({class:"_messages"}),userSelect:"text"}});function get(t){const e=Ad();return u(Yh,{get children(){return[u(Le,{class:"title",size:"large",get children(){return u(k,{id:"2gMuHR"})}}),u(Le,{class:"label",get children(){return u(jr,{children:"Stoat"})}}),u(Le,{get children(){return e(t.user.createdAt).format("DD MMM YYYY")}}),u(X,{get when(){return t.member},get children(){return[u(Le,{class:"label",get children(){return u(jr,{get children(){return t.member.server.name}})}}),u(Le,{get children(){return e(t.member.joinedAt).format("DD MMM YYYY")}})]}})]}})}function pet(t){const e=pt(),{openModal:n}=Ne(),r=Ho(()=>({queryKey:["mutual",t.user.id],queryFn:async()=>{if(t.user.self||t.user.bot)return{users:[],groups:[]};const o=e(),{users:a,servers:l}=await t.user.fetchMutual();return{users:a.map(c=>o.users.get(c)).filter(c=>c),groups:[...l.map(c=>o.servers.get(c)).filter(c=>c),...o.channels.filter(c=>c.type==="Group"&&c.recipientIds.has(t.user.id))]}}}));function i(){n({type:"user_profile_mutual_friends",users:r.data.users}),Sv()}function s(){n({type:"user_profile_mutual_groups",groups:r.data.groups}),Sv()}return[u(X,{get when(){return r.data?.users.length},get children(){return u(Yh,{isLink:!0,onClick:i,get children(){return[u(En,{}),u(Le,{class:"title",size:"large",children:"Mutuals"}),u(ZI,{get children(){return u(rt,{get each(){return r.data?.users},children:o=>u(zt,{get src(){return o?.animatedAvatarURL},get fallback(){return o?.displayName},size:20})})}})]}})}}),u(X,{get when(){return r.data?.users.length},get children(){return u(Yh,{isLink:!0,onClick:s,get children(){return[u(En,{}),u(Le,{class:"title",size:"large",children:"Groups"}),u(ZI,{get children(){return u(rt,{get each(){return r.data?.groups},children:o=>u(zt,{get src(){return o.animatedIconURL},get fallback(){return o.name},size:20})})}})]}})}})]}const ZI=H("div",{base:{gap:"var(--gap-md)",display:"flex",flexWrap:"wrap"}});var vet=I("<div>");function bet(t){const{openModal:e}=Ne();function n(){e({type:"user_profile_roles",member:t.member}),Sv()}return u(X,{get when(){return t.member?.roles.length},get children(){return u(Yh,{isLink:!0,onClick:n,get children(){return[u(En,{}),u(Le,{class:"title",size:"large",get children(){return u(k,{id:"5dJK4M"})}}),(()=>{var r=vet();return Fe(nc,r,()=>!0),V(r,u(rt,{get each(){return t.member.orderedRoles.toReversed()},children:i=>u(kt,{align:!0,get children(){return[u(yet,{get children(){return i.name}}),u(Oet,{get style(){return{background:i.colour??"var(--md-sys-color-outline-variant)"}}})]}})})),r})()]}})}})}const yet=H("span",{base:{flexGrow:1,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",...An.raw({class:"label"})}}),Oet=H("div",{base:{width:"8px",height:"8px",aspectRatio:"1/1",borderRadius:"100%"}});function wet(t){const{_:e}=Dt();return u(X,{get when(){return t.user.status?.text},get children(){return u(Yh,{get children(){return[u(Le,{class:"title",size:"large",get children(){return u(k,{id:"uAQUqI"})}}),u(ket,{get children(){return t.user.statusMessage(n=>e(n==="Online"?{id:"oXOSPE"}:n==="Busy"?{id:"kVHATU"}:n==="Focus"?{id:"Fsd1Wl"}:n==="Idle"?{id:"QSzGDE"}:{id:"6Aih4U"}))}})]}})}})}const ket=H("span",{base:{...An.raw(),userSelect:"text"}}),no={Actions:qJe,Badges:set,Banner:uet,Bio:fet,Joined:get,Mutuals:pet,Roles:bet,Status:wet};var xet=I("<svg width=0 height=0><defs><mask id=holepunch-top-left><rect x=0 y=0 width=32 height=32 fill=white></rect><circle cx=5 cy=5 r=7 fill=black></circle></mask><mask id=holepunch-top-right><rect x=0 y=0 width=32 height=32 fill=white></rect><circle cx=27 cy=5 r=7 fill=black></circle></mask><mask id=holepunch-bottom-right><rect x=0 y=0 width=32 height=32 fill=white></rect><circle cx=27 cy=27 r=7 fill=black></circle></mask><mask id=holepunch-right><rect x=0 y=0 width=32 height=32 fill=white></rect><circle cx=27 cy=5 r=7 fill=black></circle><circle cx=27 cy=27 r=7 fill=black></circle></mask><mask id=holepunch-overlap><rect x=0 y=0 width=32 height=32 fill=white></rect><circle cx=32 cy=16 r=18 fill=black></circle></mask><mask id=holepunch-overlap-subtle><rect x=0 y=0 width=32 height=32 fill=white></rect><circle cx=33 cy=16 r=18 fill=black></circle></mask><mask id=accessible-status-offline><circle cx=27 cy=27 r=5 fill=white></circle><circle cx=27 cy=27 r=3 fill=black></circle></mask><mask id=accessible-status-idle><circle cx=27 cy=27 r=5 fill=white></circle><circle cx=25 cy=25 r=4 fill=black></circle></mask><mask id=accessible-status-busy><circle cx=27 cy=27 r=5 fill=white></circle><line x1=24 y1=27 x2=30 y2=27 stroke=black stroke-width=2></line></mask><mask id=accessible-status-focus><circle cx=27 cy=27 r=5 fill=white></circle><circle cx=27 cy=27 r=4 fill=black></circle><circle cx=27 cy=27 r=2 fill=white>");function _et(){return(()=>{var t=xet();return t.style.setProperty("position","fixed"),t})()}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(t){return t<0?-1:t===0?0:1}function w0(t,e,n){return(1-n)*t+n*e}function Cet(t,e,n){return n<t?t:n>e?e:n}function uO(t,e,n){return n<t?t:n>e?e:n}function KI(t){return t=t%360,t<0&&(t=t+360),t}function jo(t){return t=t%360,t<0&&(t=t+360),t}function Eet(t,e){return jo(e-t)<=180?1:-1}function Tet(t,e){return 180-Math.abs(Math.abs(t-e)-180)}function B5(t,e){const n=t[0]*e[0][0]+t[1]*e[0][1]+t[2]*e[0][2],r=t[0]*e[1][0]+t[1]*e[1][1]+t[2]*e[1][2],i=t[0]*e[2][0]+t[1]*e[2][1]+t[2]*e[2][2];return[n,r,i]}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _G=[[.41233895,.35762064,.18051042],[.2126,.7152,.0722],[.01932141,.11916382,.95034478]],Det=[[3.2413774792388685,-1.5376652402851851,-.49885366846268053],[-.9691452513005321,1.8758853451067872,.04156585616912061],[.05562093689691305,-.20395524564742123,1.0571799111220335]],CG=[95.047,100,108.883];function $T(t,e,n){return(255<<24|(t&255)<<16|(e&255)<<8|n&255)>>>0}function JI(t){const e=Dh(t[0]),n=Dh(t[1]),r=Dh(t[2]);return $T(e,n,r)}function LT(t){return t>>16&255}function NT(t){return t>>8&255}function FT(t){return t&255}function Aet(t,e,n){const r=Det,i=r[0][0]*t+r[0][1]*e+r[0][2]*n,s=r[1][0]*t+r[1][1]*e+r[1][2]*n,o=r[2][0]*t+r[2][1]*e+r[2][2]*n,a=Dh(i),l=Dh(s),c=Dh(o);return $T(a,l,c)}function Pet(t){const e=Jc(LT(t)),n=Jc(NT(t)),r=Jc(FT(t));return B5([e,n,r],_G)}function Ret(t){const e=Jc(LT(t)),n=Jc(NT(t)),r=Jc(FT(t)),i=_G,s=i[0][0]*e+i[0][1]*n+i[0][2]*r,o=i[1][0]*e+i[1][1]*n+i[1][2]*r,a=i[2][0]*e+i[2][1]*n+i[2][2]*r,l=CG,c=s/l[0],d=o/l[1],h=a/l[2],f=k0(c),m=k0(d),g=k0(h),p=116*m-16,v=500*(f-m),b=200*(m-g);return[p,v,b]}function Met(t){const e=ed(t),n=Dh(e);return $T(n,n,n)}function z5(t){const e=Pet(t)[1];return 116*k0(e/100)-16}function ed(t){return 100*$et((t+16)/116)}function Q5(t){return k0(t/100)*116-16}function Jc(t){const e=t/255;return e<=.040449936?e/12.92*100:Math.pow((e+.055)/1.055,2.4)*100}function Dh(t){const e=t/100;let n=0;return e<=.0031308?n=e*12.92:n=1.055*Math.pow(e,1/2.4)-.055,Cet(0,255,Math.round(n*255))}function Iet(){return CG}function k0(t){const e=.008856451679035631,n=24389/27;return t>e?Math.pow(t,1/3):(n*t+16)/116}function $et(t){const e=.008856451679035631,n=24389/27,r=t*t*t;return r>e?r:(116*t-16)/n}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{static make(e=Iet(),n=200/Math.PI*ed(50)/100,r=50,i=2,s=!1){const o=e,a=o[0]*.401288+o[1]*.650173+o[2]*-.051461,l=o[0]*-.250268+o[1]*1.204414+o[2]*.045854,c=o[0]*-.002079+o[1]*.048952+o[2]*.953127,d=.8+i/10,h=d>=.9?w0(.59,.69,(d-.9)*10):w0(.525,.59,(d-.8)*10);let f=s?1:d*(1-1/3.6*Math.exp((-n-42)/92));f=f>1?1:f<0?0:f;const m=d,g=[f*(100/a)+1-f,f*(100/l)+1-f,f*(100/c)+1-f],p=1/(5*n+1),v=p*p*p*p,b=1-v,y=v*n+.1*b*b*Math.cbrt(5*n),C=ed(r)/e[1],x=1.48+Math.sqrt(C),O=.725/Math.pow(C,.2),S=O,T=[Math.pow(y*g[0]*a/100,.42),Math.pow(y*g[1]*l/100,.42),Math.pow(y*g[2]*c/100,.42)],$=[400*T[0]/(T[0]+27.13),400*T[1]/(T[1]+27.13),400*T[2]/(T[2]+27.13)],M=(2*$[0]+$[1]+.05*$[2])*O;return new Yl(C,M,O,S,h,m,g,y,Math.pow(y,.25),x)}constructor(e,n,r,i,s,o,a,l,c,d){this.n=e,this.aw=n,this.nbb=r,this.ncb=i,this.c=s,this.nc=o,this.rgbD=a,this.fl=l,this.fLRoot=c,this.z=d}}Yl.DEFAULT=Yl.make();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n,r,i,s,o,a,l,c){this.hue=e,this.chroma=n,this.j=r,this.q=i,this.m=s,this.s=o,this.jstar=a,this.astar=l,this.bstar=c}distance(e){const n=this.jstar-e.jstar,r=this.astar-e.astar,i=this.bstar-e.bstar,s=Math.sqrt(n*n+r*r+i*i);return 1.41*Math.pow(s,.63)}static fromInt(e){return Pi.fromIntInViewingConditions(e,Yl.DEFAULT)}static fromIntInViewingConditions(e,n){const r=(e&16711680)>>16,i=(e&65280)>>8,s=e&255,o=Jc(r),a=Jc(i),l=Jc(s),c=.41233895*o+.35762064*a+.18051042*l,d=.2126*o+.7152*a+.0722*l,h=.01932141*o+.11916382*a+.95034478*l,f=.401288*c+.650173*d-.051461*h,m=-.250268*c+1.204414*d+.045854*h,g=-.002079*c+.048952*d+.953127*h,p=n.rgbD[0]*f,v=n.rgbD[1]*m,b=n.rgbD[2]*g,y=Math.pow(n.fl*Math.abs(p)/100,.42),C=Math.pow(n.fl*Math.abs(v)/100,.42),x=Math.pow(n.fl*Math.abs(b)/100,.42),O=Zs(p)*400*y/(y+27.13),S=Zs(v)*400*C/(C+27.13),T=Zs(b)*400*x/(x+27.13),$=(11*O+-12*S+T)/11,M=(O+S-2*T)/9,P=(20*O+20*S+21*T)/20,L=(40*O+20*S+T)/20,te=Math.atan2(M,$)*180/Math.PI,U=te<0?te+360:te>=360?te-360:te,N=U*Math.PI/180,z=L*n.nbb,K=100*Math.pow(z/n.aw,n.c*n.z),re=4/n.c*Math.sqrt(K/100)*(n.aw+4)*n.fLRoot,Q=U<20.14?U+360:U,D=.25*(Math.cos(Q*Math.PI/180+2)+3.8),he=5e4/13*D*n.nc*n.ncb*Math.sqrt($*$+M*M)/(P+.305),E=Math.pow(he,.9)*Math.pow(1.64-Math.pow(.29,n.n),.73),De=E*Math.sqrt(K/100),pe=De*n.fLRoot,ct=50*Math.sqrt(E*n.c/(n.aw+4)),Mt=(1+100*.007)*K/(1+.007*K),At=1/.0228*Math.log(1+.0228*pe),on=At*Math.cos(N),Wt=At*Math.sin(N);return new Pi(U,De,K,re,pe,ct,Mt,on,Wt)}static fromJch(e,n,r){return Pi.fromJchInViewingConditions(e,n,r,Yl.DEFAULT)}static fromJchInViewingConditions(e,n,r,i){const s=4/i.c*Math.sqrt(e/100)*(i.aw+4)*i.fLRoot,o=n*i.fLRoot,a=n/Math.sqrt(e/100),l=50*Math.sqrt(a*i.c/(i.aw+4)),c=r*Math.PI/180,d=(1+100*.007)*e/(1+.007*e),h=1/.0228*Math.log(1+.0228*o),f=h*Math.cos(c),m=h*Math.sin(c);return new Pi(r,n,e,s,o,l,d,f,m)}static fromUcs(e,n,r){return Pi.fromUcsInViewingConditions(e,n,r,Yl.DEFAULT)}static fromUcsInViewingConditions(e,n,r,i){const s=n,o=r,a=Math.sqrt(s*s+o*o),c=(Math.exp(a*.0228)-1)/.0228/i.fLRoot;let d=Math.atan2(o,s)*(180/Math.PI);d<0&&(d+=360);const h=e/(1-(e-100)*.007);return Pi.fromJchInViewingConditions(h,c,d,i)}toInt(){return this.viewed(Yl.DEFAULT)}viewed(e){const n=this.chroma===0||this.j===0?0:this.chroma/Math.sqrt(this.j/100),r=Math.pow(n/Math.pow(1.64-Math.pow(.29,e.n),.73),1/.9),i=this.hue*Math.PI/180,s=.25*(Math.cos(i+2)+3.8),o=e.aw*Math.pow(this.j/100,1/e.c/e.z),a=s*(5e4/13)*e.nc*e.ncb,l=o/e.nbb,c=Math.sin(i),d=Math.cos(i),h=23*(l+.305)*r/(23*a+11*r*d+108*r*c),f=h*d,m=h*c,g=(460*l+451*f+288*m)/1403,p=(460*l-891*f-261*m)/1403,v=(460*l-220*f-6300*m)/1403,b=Math.max(0,27.13*Math.abs(g)/(400-Math.abs(g))),y=Zs(g)*(100/e.fl)*Math.pow(b,1/.42),C=Math.max(0,27.13*Math.abs(p)/(400-Math.abs(p))),x=Zs(p)*(100/e.fl)*Math.pow(C,1/.42),O=Math.max(0,27.13*Math.abs(v)/(400-Math.abs(v))),S=Zs(v)*(100/e.fl)*Math.pow(O,1/.42),T=y/e.rgbD[0],$=x/e.rgbD[1],M=S/e.rgbD[2],P=1.86206786*T-1.01125463*$+.14918677*M,L=.38752654*T+.62144744*$-.00897398*M,j=-.0158415*T-.03412294*$+1.04996444*M;return Aet(P,L,j)}static fromXyzInViewingConditions(e,n,r,i){const s=.401288*e+.650173*n-.051461*r,o=-.250268*e+1.204414*n+.045854*r,a=-.002079*e+.048952*n+.953127*r,l=i.rgbD[0]*s,c=i.rgbD[1]*o,d=i.rgbD[2]*a,h=Math.pow(i.fl*Math.abs(l)/100,.42),f=Math.pow(i.fl*Math.abs(c)/100,.42),m=Math.pow(i.fl*Math.abs(d)/100,.42),g=Zs(l)*400*h/(h+27.13),p=Zs(c)*400*f/(f+27.13),v=Zs(d)*400*m/(m+27.13),b=(11*g+-12*p+v)/11,y=(g+p-2*v)/9,C=(20*g+20*p+21*v)/20,x=(40*g+20*p+v)/20,S=Math.atan2(y,b)*180/Math.PI,T=S<0?S+360:S>=360?S-360:S,$=T*Math.PI/180,M=x*i.nbb,P=100*Math.pow(M/i.aw,i.c*i.z),L=4/i.c*Math.sqrt(P/100)*(i.aw+4)*i.fLRoot,j=T<20.14?T+360:T,te=1/4*(Math.cos(j*Math.PI/180+2)+3.8),N=5e4/13*te*i.nc*i.ncb*Math.sqrt(b*b+y*y)/(C+.305),z=Math.pow(N,.9)*Math.pow(1.64-Math.pow(.29,i.n),.73),K=z*Math.sqrt(P/100),re=K*i.fLRoot,Q=50*Math.sqrt(z*i.c/(i.aw+4)),D=(1+100*.007)*P/(1+.007*P),se=Math.log(1+.0228*re)/.0228,he=se*Math.cos($),E=se*Math.sin($);return new Pi(T,K,P,L,re,Q,D,he,E)}xyzInViewingConditions(e){const n=this.chroma===0||this.j===0?0:this.chroma/Math.sqrt(this.j/100),r=Math.pow(n/Math.pow(1.64-Math.pow(.29,e.n),.73),1/.9),i=this.hue*Math.PI/180,s=.25*(Math.cos(i+2)+3.8),o=e.aw*Math.pow(this.j/100,1/e.c/e.z),a=s*(5e4/13)*e.nc*e.ncb,l=o/e.nbb,c=Math.sin(i),d=Math.cos(i),h=23*(l+.305)*r/(23*a+11*r*d+108*r*c),f=h*d,m=h*c,g=(460*l+451*f+288*m)/1403,p=(460*l-891*f-261*m)/1403,v=(460*l-220*f-6300*m)/1403,b=Math.max(0,27.13*Math.abs(g)/(400-Math.abs(g))),y=Zs(g)*(100/e.fl)*Math.pow(b,1/.42),C=Math.max(0,27.13*Math.abs(p)/(400-Math.abs(p))),x=Zs(p)*(100/e.fl)*Math.pow(C,1/.42),O=Math.max(0,27.13*Math.abs(v)/(400-Math.abs(v))),S=Zs(v)*(100/e.fl)*Math.pow(O,1/.42),T=y/e.rgbD[0],$=x/e.rgbD[1],M=S/e.rgbD[2],P=1.86206786*T-1.01125463*$+.14918677*M,L=.38752654*T+.62144744*$-.00897398*M,j=-.0158415*T-.03412294*$+1.04996444*M;return[P,L,j]}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{static sanitizeRadians(e){return(e+Math.PI*8)%(Math.PI*2)}static trueDelinearized(e){const n=e/100;let r=0;return n<=.0031308?r=n*12.92:r=1.055*Math.pow(n,1/2.4)-.055,r*255}static chromaticAdaptation(e){const n=Math.pow(Math.abs(e),.42);return Zs(e)*400*n/(n+27.13)}static hueOf(e){const n=B5(e,Vt.SCALED_DISCOUNT_FROM_LINRGB),r=Vt.chromaticAdaptation(n[0]),i=Vt.chromaticAdaptation(n[1]),s=Vt.chromaticAdaptation(n[2]),o=(11*r+-12*i+s)/11,a=(r+i-2*s)/9;return Math.atan2(a,o)}static areInCyclicOrder(e,n,r){const i=Vt.sanitizeRadians(n-e),s=Vt.sanitizeRadians(r-e);return i<s}static intercept(e,n,r){return(n-e)/(r-e)}static lerpPoint(e,n,r){return[e[0]+(r[0]-e[0])*n,e[1]+(r[1]-e[1])*n,e[2]+(r[2]-e[2])*n]}static setCoordinate(e,n,r,i){const s=Vt.intercept(e[i],n,r[i]);return Vt.lerpPoint(e,s,r)}static isBounded(e){return 0<=e&&e<=100}static nthVertex(e,n){const r=Vt.Y_FROM_LINRGB[0],i=Vt.Y_FROM_LINRGB[1],s=Vt.Y_FROM_LINRGB[2],o=n%4<=1?0:100,a=n%2===0?0:100;if(n<4){const l=o,c=a,d=(e-l*i-c*s)/r;return Vt.isBounded(d)?[d,l,c]:[-1,-1,-1]}else if(n<8){const l=o,c=a,d=(e-c*r-l*s)/i;return Vt.isBounded(d)?[c,d,l]:[-1,-1,-1]}else{const l=o,c=a,d=(e-l*r-c*i)/s;return Vt.isBounded(d)?[l,c,d]:[-1,-1,-1]}}static bisectToSegment(e,n){let r=[-1,-1,-1],i=r,s=0,o=0,a=!1,l=!0;for(let c=0;c<12;c++){const d=Vt.nthVertex(e,c);if(d[0]<0)continue;const h=Vt.hueOf(d);if(!a){r=d,i=d,s=h,o=h,a=!0;continue}(l||Vt.areInCyclicOrder(s,h,o))&&(l=!1,Vt.areInCyclicOrder(s,n,h)?(i=d,o=h):(r=d,s=h))}return[r,i]}static midpoint(e,n){return[(e[0]+n[0])/2,(e[1]+n[1])/2,(e[2]+n[2])/2]}static criticalPlaneBelow(e){return Math.floor(e-.5)}static criticalPlaneAbove(e){return Math.ceil(e-.5)}static bisectToLimit(e,n){const r=Vt.bisectToSegment(e,n);let i=r[0],s=Vt.hueOf(i),o=r[1];for(let a=0;a<3;a++)if(i[a]!==o[a]){let l=-1,c=255;i[a]<o[a]?(l=Vt.criticalPlaneBelow(Vt.trueDelinearized(i[a])),c=Vt.criticalPlaneAbove(Vt.trueDelinearized(o[a]))):(l=Vt.criticalPlaneAbove(Vt.trueDelinearized(i[a])),c=Vt.criticalPlaneBelow(Vt.trueDelinearized(o[a])));for(let d=0;d<8&&!(Math.abs(c-l)<=1);d++){const h=Math.floor((l+c)/2),f=Vt.CRITICAL_PLANES[h],m=Vt.setCoordinate(i,f,o,a),g=Vt.hueOf(m);Vt.areInCyclicOrder(s,n,g)?(o=m,c=h):(i=m,s=g,l=h)}}return Vt.midpoint(i,o)}static inverseChromaticAdaptation(e){const n=Math.abs(e),r=Math.max(0,27.13*n/(400-n));return Zs(e)*Math.pow(r,1/.42)}static findResultByJ(e,n,r){let i=Math.sqrt(r)*11;const s=Yl.DEFAULT,o=1/Math.pow(1.64-Math.pow(.29,s.n),.73),l=.25*(Math.cos(e+2)+3.8)*(5e4/13)*s.nc*s.ncb,c=Math.sin(e),d=Math.cos(e);for(let h=0;h<5;h++){const f=i/100,m=n===0||i===0?0:n/Math.sqrt(f),g=Math.pow(m*o,1/.9),v=s.aw*Math.pow(f,1/s.c/s.z)/s.nbb,b=23*(v+.305)*g/(23*l+11*g*d+108*g*c),y=b*d,C=b*c,x=(460*v+451*y+288*C)/1403,O=(460*v-891*y-261*C)/1403,S=(460*v-220*y-6300*C)/1403,T=Vt.inverseChromaticAdaptation(x),$=Vt.inverseChromaticAdaptation(O),M=Vt.inverseChromaticAdaptation(S),P=B5([T,$,M],Vt.LINRGB_FROM_SCALED_DISCOUNT);if(P[0]<0||P[1]<0||P[2]<0)return 0;const L=Vt.Y_FROM_LINRGB[0],j=Vt.Y_FROM_LINRGB[1],te=Vt.Y_FROM_LINRGB[2],U=L*P[0]+j*P[1]+te*P[2];if(U<=0)return 0;if(h===4||Math.abs(U-r)<.002)return P[0]>100.01||P[1]>100.01||P[2]>100.01?0:JI(P);i=i-(U-r)*i/(2*U)}return 0}static solveToInt(e,n,r){if(n<1e-4||r<1e-4||r>99.9999)return Met(r);e=jo(e);const i=e/180*Math.PI,s=ed(r),o=Vt.findResultByJ(i,n,s);if(o!==0)return o;const a=Vt.bisectToLimit(s,i);return JI(a)}static solveToCam(e,n,r){return Pi.fromInt(Vt.solveToInt(e,n,r))}}Vt.SCALED_DISCOUNT_FROM_LINRGB=[[.001200833568784504,.002389694492170889,.0002795742885861124],[.0005891086651375999,.0029785502573438758,.0003270666104008398],[.00010146692491640572,.0005364214359186694,.0032979401770712076]];Vt.LINRGB_FROM_SCALED_DISCOUNT=[[1373.2198709594231,-1100.4251190754821,-7.278681089101213],[-271.815969077903,559.6580465940733,-32.46047482791194],[1.9622899599665666,-57.173814538844006,308.7233197812385]];Vt.Y_FROM_LINRGB=[.2126,.7152,.0722];Vt.CRITICAL_PLANES=[.015176349177441876,.045529047532325624,.07588174588720938,.10623444424209313,.13658714259697685,.16693984095186062,.19729253930674434,.2276452376616281,.2579979360165119,.28835063437139563,.3188300904430532,.350925934958123,.3848314933096426,.42057480301049466,.458183274052838,.4976837250274023,.5391024159806381,.5824650784040898,.6277969426914107,.6751227633498623,.7244668422128921,.775853049866786,.829304845476233,.8848452951698498,.942497089126609,1.0022825574869039,1.0642236851973577,1.1283421258858297,1.1946592148522128,1.2631959812511864,1.3339731595349034,1.407011200216447,1.4823302800086415,1.5599503113873272,1.6398909516233677,1.7221716113234105,1.8068114625156377,1.8938294463134073,1.9832442801866852,2.075074464868551,2.1693382909216234,2.2660538449872063,2.36523901573795,2.4669114995532007,2.5710888059345764,2.6777882626779785,2.7870270208169257,2.898822059350997,3.0131901897720907,3.1301480604002863,3.2497121605402226,3.3718988244681087,3.4967242352587946,3.624204428461639,3.754355295633311,3.887192587735158,4.022731918402185,4.160988767090289,4.301978482107941,4.445716283538092,4.592217266055746,4.741496401646282,4.893568542229298,5.048448422192488,5.20615066083972,5.3666897647573375,5.5300801301023865,5.696336044816294,5.865471690767354,6.037501145825082,6.212438385869475,6.390297286737924,6.571091626112461,6.7548350853498045,6.941541251256611,7.131223617812143,7.323895587840543,7.5195704746346665,7.7182615035334345,7.919981813454504,8.124744458384042,8.332562408825165,8.543448553206703,8.757415699253682,8.974476575321063,9.194643831691977,9.417930041841839,9.644347703669503,9.873909240696694,10.106627003236781,10.342513269534024,10.58158024687427,10.8238400726681,11.069304815507364,11.317986476196008,11.569896988756009,11.825048221409341,12.083451977536606,12.345119996613247,12.610063955123938,12.878295467455942,13.149826086772048,13.42466730586372,13.702830557985108,13.984327217668513,14.269168601521828,14.55736596900856,14.848930523210871,15.143873411576273,15.44220572664832,15.743938506781891,16.04908273684337,16.35764934889634,16.66964922287304,16.985093187232053,17.30399201960269,17.62635644741625,17.95219714852476,18.281524751807332,18.614349837764564,18.95068293910138,19.290534541298456,19.633915083172692,19.98083495742689,20.331304511189067,20.685334046541502,21.042933821039977,21.404114048223256,21.76888489811322,22.137256497705877,22.50923893145328,22.884842241736916,23.264076429332462,23.6469514538663,24.033477234264016,24.42366364919083,24.817520537484558,25.21505769858089,25.61628489293138,26.021211842414342,26.429848230738664,26.842203703840827,27.258287870275353,27.678110301598522,28.10168053274597,28.529008062403893,28.96010235337422,29.39497283293396,29.83362889318845,30.276079891419332,30.722335150426627,31.172403958865512,31.62629557157785,32.08401920991837,32.54558406207592,33.010999283389665,33.4802739966603,33.953417292456834,34.430438229418264,34.911345834551085,35.39614910352207,35.88485700094671,36.37747846067349,36.87402238606382,37.37449765026789,37.87891309649659,38.38727753828926,38.89959975977785,39.41588851594697,39.93615253289054,40.460400508064545,40.98864111053629,41.520882981230194,42.05713473317016,42.597404951718396,43.141702194811224,43.6900349931913,44.24241185063697,44.798841244188324,45.35933162437017,45.92389141541209,46.49252901546552,47.065252796817916,47.64207110610409,48.22299226451468,48.808024568002054,49.3971762874833,49.9904556690408,50.587870934119984,51.189430279724725,51.79514187861014,52.40501387947288,53.0190544071392,53.637271562750364,54.259673423945976,54.88626804504493,55.517063457223934,56.15206766869424,56.79128866487574,57.43473440856916,58.08241284012621,58.734331877617365,59.39049941699807,60.05092333227251,60.715611475655585,61.38457167773311,62.057811747619894,62.7353394731159,63.417162620860914,64.10328893648692,64.79372614476921,65.48848194977529,66.18756403501224,66.89098006357258,67.59873767827808,68.31084450182222,69.02730813691093,69.74813616640164,70.47333615344107,71.20291564160104,71.93688215501312,72.67524319850172,73.41800625771542,74.16517879925733,74.9167682708136,75.67278210128072,76.43322770089146,77.1981124613393,77.96744375590167,78.74122893956174,79.51947534912904,80.30219030335869,81.08938110306934,81.88105503125999,82.67721935322541,83.4778813166706,84.28304815182372,85.09272707154808,85.90692527145302,86.72564993000343,87.54890820862819,88.3767072518277,89.2090541872801,90.04595612594655,90.88742016217518,91.73345337380438,92.58406282226491,93.43925555268066,94.29903859396902,95.16341895893969,96.03240364439274,96.9059996312159,97.78421388448044,98.6670533535366,99.55452497210776];/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{static from(e,n,r){return new Vr(Vt.solveToInt(e,n,r))}static fromInt(e){return new Vr(e)}toInt(){return this.argb}get hue(){return this.internalHue}set hue(e){this.setInternalState(Vt.solveToInt(e,this.internalChroma,this.internalTone))}get chroma(){return this.internalChroma}set chroma(e){this.setInternalState(Vt.solveToInt(this.internalHue,e,this.internalTone))}get tone(){return this.internalTone}set tone(e){this.setInternalState(Vt.solveToInt(this.internalHue,this.internalChroma,e))}constructor(e){this.argb=e;const n=Pi.fromInt(e);this.internalHue=n.hue,this.internalChroma=n.chroma,this.internalTone=z5(e),this.argb=e}setInternalState(e){const n=Pi.fromInt(e);this.internalHue=n.hue,this.internalChroma=n.chroma,this.internalTone=z5(e),this.argb=e}inViewingConditions(e){const r=Pi.fromInt(this.toInt()).xyzInViewingConditions(e),i=Pi.fromXyzInViewingConditions(r[0],r[1],r[2],Yl.make());return Vr.from(i.hue,i.chroma,Q5(r[1]))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{static harmonize(e,n){const r=Vr.fromInt(e),i=Vr.fromInt(n),s=Tet(r.hue,i.hue),o=Math.min(s*.5,15),a=jo(r.hue+o*Eet(r.hue,i.hue));return Vr.from(a,r.chroma,r.tone).toInt()}static hctHue(e,n,r){const i=BT.cam16Ucs(e,n,r),s=Pi.fromInt(i),o=Pi.fromInt(e);return Vr.from(s.hue,o.chroma,z5(e)).toInt()}static cam16Ucs(e,n,r){const i=Pi.fromInt(e),s=Pi.fromInt(n),o=i.jstar,a=i.astar,l=i.bstar,c=s.jstar,d=s.astar,h=s.bstar,f=o+(c-o)*r,m=a+(d-a)*r,g=l+(h-l)*r;return Pi.fromUcs(f,m,g).toInt()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{static ratioOfTones(e,n){return e=uO(0,100,e),n=uO(0,100,n),Ci.ratioOfYs(ed(e),ed(n))}static ratioOfYs(e,n){const r=e>n?e:n,i=r===n?e:n;return(r+5)/(i+5)}static lighter(e,n){if(e<0||e>100)return-1;const r=ed(e),i=n*(r+5)-5,s=Ci.ratioOfYs(i,r),o=Math.abs(s-n);if(s<n&&o>.04)return-1;const a=Q5(i)+.4;return a<0||a>100?-1:a}static darker(e,n){if(e<0||e>100)return-1;const r=ed(e),i=(r+5)/n-5,s=Ci.ratioOfYs(r,i),o=Math.abs(s-n);if(s<n&&o>.04)return-1;const a=Q5(i)-.4;return a<0||a>100?-1:a}static lighterUnsafe(e,n){const r=Ci.lighter(e,n);return r<0?100:r}static darkerUnsafe(e,n){const r=Ci.darker(e,n);return r<0?0:r}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{static isDisliked(e){const n=Math.round(e.hue)>=90&&Math.round(e.hue)<=111,r=Math.round(e.chroma)>16,i=Math.round(e.tone)<65;return n&&r&&i}static fixIfDisliked(e){return l1.isDisliked(e)?Vr.from(e.hue,e.chroma,70):e}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static fromPalette(e){return new vt(e.name??"",e.palette,e.tone,e.isBackground??!1,e.background,e.secondBackground,e.contrastCurve,e.toneDeltaPair)}constructor(e,n,r,i,s,o,a,l){if(this.name=e,this.palette=n,this.tone=r,this.isBackground=i,this.background=s,this.secondBackground=o,this.contrastCurve=a,this.toneDeltaPair=l,this.hctCache=new Map,!s&&o)throw new Error(`Color ${e} has secondBackgrounddefined, but background is not defined.`);if(!s&&a)throw new Error(`Color ${e} has contrastCurvedefined, but background is not defined.`);if(s&&!a)throw new Error(`Color ${e} has backgrounddefined, but contrastCurve is not defined.`)}getArgb(e){return this.getHct(e).toInt()}getHct(e){const n=this.hctCache.get(e);if(n!=null)return n;const r=this.getTone(e),i=this.palette(e).getHct(r);return this.hctCache.size>4&&this.hctCache.clear(),this.hctCache.set(e,i),i}getTone(e){const n=e.contrastLevel<0;if(this.toneDeltaPair){const r=this.toneDeltaPair(e),i=r.roleA,s=r.roleB,o=r.delta,a=r.polarity,l=r.stayTogether,d=this.background(e).getTone(e),h=a==="nearer"||a==="lighter"&&!e.isDark||a==="darker"&&e.isDark,f=h?i:s,m=h?s:i,g=this.name===f.name,p=e.isDark?1:-1,v=f.contrastCurve.get(e.contrastLevel),b=m.contrastCurve.get(e.contrastLevel),y=f.tone(e);let C=Ci.ratioOfTones(d,y)>=v?y:vt.foregroundTone(d,v);const x=m.tone(e);let O=Ci.ratioOfTones(d,x)>=b?x:vt.foregroundTone(d,b);return n&&(C=vt.foregroundTone(d,v),O=vt.foregroundTone(d,b)),(O-C)*p>=o||(O=uO(0,100,C+o*p),(O-C)*p>=o||(C=uO(0,100,O-o*p))),50<=C&&C<60?p>0?(C=60,O=Math.max(O,C+o*p)):(C=49,O=Math.min(O,C+o*p)):50<=O&&O<60&&(l?p>0?(C=60,O=Math.max(O,C+o*p)):(C=49,O=Math.min(O,C+o*p)):p>0?O=60:O=49),g?C:O}else{let r=this.tone(e);if(this.background==null)return r;const i=this.background(e).getTone(e),s=this.contrastCurve.get(e.contrastLevel);if(Ci.ratioOfTones(i,r)>=s||(r=vt.foregroundTone(i,s)),n&&(r=vt.foregroundTone(i,s)),this.isBackground&&50<=r&&r<60&&(Ci.ratioOfTones(49,i)>=s?r=49:r=60),this.secondBackground){const[o,a]=[this.background,this.secondBackground],[l,c]=[o(e).getTone(e),a(e).getTone(e)],[d,h]=[Math.max(l,c),Math.min(l,c)];if(Ci.ratioOfTones(d,r)>=s&&Ci.ratioOfTones(h,r)>=s)return r;const f=Ci.lighter(d,s),m=Ci.darker(h,s),g=[];return f!==-1&&g.push(f),m!==-1&&g.push(m),vt.tonePrefersLightForeground(l)||vt.tonePrefersLightForeground(c)?f<0?100:f:g.length===1?g[0]:m<0?0:m}return r}}static foregroundTone(e,n){const r=Ci.lighterUnsafe(e,n),i=Ci.darkerUnsafe(e,n),s=Ci.ratioOfTones(r,e),o=Ci.ratioOfTones(i,e);if(vt.tonePrefersLightForeground(e)){const l=Math.abs(s-o)<.1&&s<n&&o<n;return s>=n||s>=o||l?r:i}else return o>=n||o>=s?i:r}static tonePrefersLightForeground(e){return Math.round(e)<60}static toneAllowsLightForeground(e){return Math.round(e)<=49}static enableLightForeground(e){return vt.tonePrefersLightForeground(e)&&!vt.toneAllowsLightForeground(e)?49:e}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromInt(e){const n=Vr.fromInt(e);return Et.fromHct(n)}static fromHct(e){return new Et(e.hue,e.chroma,e)}static fromHueAndChroma(e,n){const r=new Let(e,n).create();return new Et(e,n,r)}constructor(e,n,r){this.hue=e,this.chroma=n,this.keyColor=r,this.cache=new Map}tone(e){let n=this.cache.get(e);return n===void 0&&(n=Vr.from(this.hue,this.chroma,e).toInt(),this.cache.set(e,n)),n}getHct(e){return Vr.fromInt(this.tone(e))}}class Let{constructor(e,n){this.hue=e,this.requestedChroma=n,this.chromaCache=new Map,this.maxChromaValue=200}create(){let i=0,s=100;for(;i<s;){const o=Math.floor((i+s)/2),a=this.maxChroma(o)<this.maxChroma(o+1);if(this.maxChroma(o)>=this.requestedChroma-.01)if(Math.abs(i-50)<Math.abs(s-50))s=o;else{if(i===o)return Vr.from(this.hue,this.requestedChroma,i);i=o}else a?i=o+1:s=o}return Vr.from(this.hue,this.requestedChroma,i)}maxChroma(e){if(this.chromaCache.has(e))return this.chromaCache.get(e);const n=Vr.from(this.hue,this.maxChromaValue,e).chroma;return this.chromaCache.set(e,n),n}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n,r,i){this.low=e,this.normal=n,this.medium=r,this.high=i}get(e){return e<=-1?this.low:e<0?w0(this.low,this.normal,(e- -1)/1):e<.5?w0(this.normal,this.medium,(e-0)/.5):e<1?w0(this.medium,this.high,(e-.5)/.5):this.high}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,n,r,i,s){this.roleA=e,this.roleB=n,this.delta=r,this.polarity=i,this.stayTogether=s}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uo;(function(t){t[t.MONOCHROME=0]="MONOCHROME",t[t.NEUTRAL=1]="NEUTRAL",t[t.TONAL_SPOT=2]="TONAL_SPOT",t[t.VIBRANT=3]="VIBRANT",t[t.EXPRESSIVE=4]="EXPRESSIVE",t[t.FIDELITY=5]="FIDELITY",t[t.CONTENT=6]="CONTENT",t[t.RAINBOW=7]="RAINBOW",t[t.FRUIT_SALAD=8]="FRUIT_SALAD"})(uo||(uo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(t){return t.variant===uo.FIDELITY||t.variant===uo.CONTENT}function Nr(t){return t.variant===uo.MONOCHROME}function Net(t,e,n,r){let i=n,s=Vr.from(t,e,n);if(s.chroma<e){let o=s.chroma;for(;s.chroma<e;){i+=r?-1:1;const a=Vr.from(t,e,i);if(o>a.chroma||Math.abs(a.chroma-e)<.4)break;const l=Math.abs(a.chroma-e),c=Math.abs(s.chroma-e);l<c&&(s=a),o=Math.max(o,a.chroma)}}return i}class de{static highestSurface(e){return e.isDark?de.surfaceBright:de.surfaceDim}}de.contentAccentToneDelta=15;de.primaryPaletteKeyColor=vt.fromPalette({name:"primary_palette_key_color",palette:t=>t.primaryPalette,tone:t=>t.primaryPalette.keyColor.tone});de.secondaryPaletteKeyColor=vt.fromPalette({name:"secondary_palette_key_color",palette:t=>t.secondaryPalette,tone:t=>t.secondaryPalette.keyColor.tone});de.tertiaryPaletteKeyColor=vt.fromPalette({name:"tertiary_palette_key_color",palette:t=>t.tertiaryPalette,tone:t=>t.tertiaryPalette.keyColor.tone});de.neutralPaletteKeyColor=vt.fromPalette({name:"neutral_palette_key_color",palette:t=>t.neutralPalette,tone:t=>t.neutralPalette.keyColor.tone});de.neutralVariantPaletteKeyColor=vt.fromPalette({name:"neutral_variant_palette_key_color",palette:t=>t.neutralVariantPalette,tone:t=>t.neutralVariantPalette.keyColor.tone});de.background=vt.fromPalette({name:"background",palette:t=>t.neutralPalette,tone:t=>t.isDark?6:98,isBackground:!0});de.onBackground=vt.fromPalette({name:"on_background",palette:t=>t.neutralPalette,tone:t=>t.isDark?90:10,background:t=>de.background,contrastCurve:new Jt(3,3,4.5,7)});de.surface=vt.fromPalette({name:"surface",palette:t=>t.neutralPalette,tone:t=>t.isDark?6:98,isBackground:!0});de.surfaceDim=vt.fromPalette({name:"surface_dim",palette:t=>t.neutralPalette,tone:t=>t.isDark?6:new Jt(87,87,80,75).get(t.contrastLevel),isBackground:!0});de.surfaceBright=vt.fromPalette({name:"surface_bright",palette:t=>t.neutralPalette,tone:t=>t.isDark?new Jt(24,24,29,34).get(t.contrastLevel):98,isBackground:!0});de.surfaceContainerLowest=vt.fromPalette({name:"surface_container_lowest",palette:t=>t.neutralPalette,tone:t=>t.isDark?new Jt(4,4,2,0).get(t.contrastLevel):100,isBackground:!0});de.surfaceContainerLow=vt.fromPalette({name:"surface_container_low",palette:t=>t.neutralPalette,tone:t=>t.isDark?new Jt(10,10,11,12).get(t.contrastLevel):new Jt(96,96,96,95).get(t.contrastLevel),isBackground:!0});de.surfaceContainer=vt.fromPalette({name:"surface_container",palette:t=>t.neutralPalette,tone:t=>t.isDark?new Jt(12,12,16,20).get(t.contrastLevel):new Jt(94,94,92,90).get(t.contrastLevel),isBackground:!0});de.surfaceContainerHigh=vt.fromPalette({name:"surface_container_high",palette:t=>t.neutralPalette,tone:t=>t.isDark?new Jt(17,17,21,25).get(t.contrastLevel):new Jt(92,92,88,85).get(t.contrastLevel),isBackground:!0});de.surfaceContainerHighest=vt.fromPalette({name:"surface_container_highest",palette:t=>t.neutralPalette,tone:t=>t.isDark?new Jt(22,22,26,30).get(t.contrastLevel):new Jt(90,90,84,80).get(t.contrastLevel),isBackground:!0});de.onSurface=vt.fromPalette({name:"on_surface",palette:t=>t.neutralPalette,tone:t=>t.isDark?90:10,background:t=>de.highestSurface(t),contrastCurve:new Jt(4.5,7,11,21)});de.surfaceVariant=vt.fromPalette({name:"surface_variant",palette:t=>t.neutralVariantPalette,tone:t=>t.isDark?30:90,isBackground:!0});de.onSurfaceVariant=vt.fromPalette({name:"on_surface_variant",palette:t=>t.neutralVariantPalette,tone:t=>t.isDark?80:30,background:t=>de.highestSurface(t),contrastCurve:new Jt(3,4.5,7,11)});de.inverseSurface=vt.fromPalette({name:"inverse_surface",palette:t=>t.neutralPalette,tone:t=>t.isDark?90:20});de.inverseOnSurface=vt.fromPalette({name:"inverse_on_surface",palette:t=>t.neutralPalette,tone:t=>t.isDark?20:95,background:t=>de.inverseSurface,contrastCurve:new Jt(4.5,7,11,21)});de.outline=vt.fromPalette({name:"outline",palette:t=>t.neutralVariantPalette,tone:t=>t.isDark?60:50,background:t=>de.highestSurface(t),contrastCurve:new Jt(1.5,3,4.5,7)});de.outlineVariant=vt.fromPalette({name:"outline_variant",palette:t=>t.neutralVariantPalette,tone:t=>t.isDark?30:80,background:t=>de.highestSurface(t),contrastCurve:new Jt(1,1,3,4.5)});de.shadow=vt.fromPalette({name:"shadow",palette:t=>t.neutralPalette,tone:t=>0});de.scrim=vt.fromPalette({name:"scrim",palette:t=>t.neutralPalette,tone:t=>0});de.surfaceTint=vt.fromPalette({name:"surface_tint",palette:t=>t.primaryPalette,tone:t=>t.isDark?80:40,isBackground:!0});de.primary=vt.fromPalette({name:"primary",palette:t=>t.primaryPalette,tone:t=>Nr(t)?t.isDark?100:0:t.isDark?80:40,isBackground:!0,background:t=>de.highestSurface(t),contrastCurve:new Jt(3,4.5,7,7),toneDeltaPair:t=>new go(de.primaryContainer,de.primary,10,"nearer",!1)});de.onPrimary=vt.fromPalette({name:"on_primary",palette:t=>t.primaryPalette,tone:t=>Nr(t)?t.isDark?10:90:t.isDark?20:100,background:t=>de.primary,contrastCurve:new Jt(4.5,7,11,21)});de.primaryContainer=vt.fromPalette({name:"primary_container",palette:t=>t.primaryPalette,tone:t=>Ug(t)?t.sourceColorHct.tone:Nr(t)?t.isDark?85:25:t.isDark?30:90,isBackground:!0,background:t=>de.highestSurface(t),contrastCurve:new Jt(1,1,3,4.5),toneDeltaPair:t=>new go(de.primaryContainer,de.primary,10,"nearer",!1)});de.onPrimaryContainer=vt.fromPalette({name:"on_primary_container",palette:t=>t.primaryPalette,tone:t=>Ug(t)?vt.foregroundTone(de.primaryContainer.tone(t),4.5):Nr(t)?t.isDark?0:100:t.isDark?90:30,background:t=>de.primaryContainer,contrastCurve:new Jt(3,4.5,7,11)});de.inversePrimary=vt.fromPalette({name:"inverse_primary",palette:t=>t.primaryPalette,tone:t=>t.isDark?40:80,background:t=>de.inverseSurface,contrastCurve:new Jt(3,4.5,7,7)});de.secondary=vt.fromPalette({name:"secondary",palette:t=>t.secondaryPalette,tone:t=>t.isDark?80:40,isBackground:!0,background:t=>de.highestSurface(t),contrastCurve:new Jt(3,4.5,7,7),toneDeltaPair:t=>new go(de.secondaryContainer,de.secondary,10,"nearer",!1)});de.onSecondary=vt.fromPalette({name:"on_secondary",palette:t=>t.secondaryPalette,tone:t=>Nr(t)?t.isDark?10:100:t.isDark?20:100,background:t=>de.secondary,contrastCurve:new Jt(4.5,7,11,21)});de.secondaryContainer=vt.fromPalette({name:"secondary_container",palette:t=>t.secondaryPalette,tone:t=>{const e=t.isDark?30:90;return Nr(t)?t.isDark?30:85:Ug(t)?Net(t.secondaryPalette.hue,t.secondaryPalette.chroma,e,!t.isDark):e},isBackground:!0,background:t=>de.highestSurface(t),contrastCurve:new Jt(1,1,3,4.5),toneDeltaPair:t=>new go(de.secondaryContainer,de.secondary,10,"nearer",!1)});de.onSecondaryContainer=vt.fromPalette({name:"on_secondary_container",palette:t=>t.secondaryPalette,tone:t=>Nr(t)?t.isDark?90:10:Ug(t)?vt.foregroundTone(de.secondaryContainer.tone(t),4.5):t.isDark?90:30,background:t=>de.secondaryContainer,contrastCurve:new Jt(3,4.5,7,11)});de.tertiary=vt.fromPalette({name:"tertiary",palette:t=>t.tertiaryPalette,tone:t=>Nr(t)?t.isDark?90:25:t.isDark?80:40,isBackground:!0,background:t=>de.highestSurface(t),contrastCurve:new Jt(3,4.5,7,7),toneDeltaPair:t=>new go(de.tertiaryContainer,de.tertiary,10,"nearer",!1)});de.onTertiary=vt.fromPalette({name:"on_tertiary",palette:t=>t.tertiaryPalette,tone:t=>Nr(t)?t.isDark?10:90:t.isDark?20:100,background:t=>de.tertiary,contrastCurve:new Jt(4.5,7,11,21)});de.tertiaryContainer=vt.fromPalette({name:"tertiary_container",palette:t=>t.tertiaryPalette,tone:t=>{if(Nr(t))return t.isDark?60:49;if(!Ug(t))return t.isDark?30:90;const e=t.tertiaryPalette.getHct(t.sourceColorHct.tone);return l1.fixIfDisliked(e).tone},isBackground:!0,background:t=>de.highestSurface(t),contrastCurve:new Jt(1,1,3,4.5),toneDeltaPair:t=>new go(de.tertiaryContainer,de.tertiary,10,"nearer",!1)});de.onTertiaryContainer=vt.fromPalette({name:"on_tertiary_container",palette:t=>t.tertiaryPalette,tone:t=>Nr(t)?t.isDark?0:100:Ug(t)?vt.foregroundTone(de.tertiaryContainer.tone(t),4.5):t.isDark?90:30,background:t=>de.tertiaryContainer,contrastCurve:new Jt(3,4.5,7,11)});de.error=vt.fromPalette({name:"error",palette:t=>t.errorPalette,tone:t=>t.isDark?80:40,isBackground:!0,background:t=>de.highestSurface(t),contrastCurve:new Jt(3,4.5,7,7),toneDeltaPair:t=>new go(de.errorContainer,de.error,10,"nearer",!1)});de.onError=vt.fromPalette({name:"on_error",palette:t=>t.errorPalette,tone:t=>t.isDark?20:100,background:t=>de.error,contrastCurve:new Jt(4.5,7,11,21)});de.errorContainer=vt.fromPalette({name:"error_container",palette:t=>t.errorPalette,tone:t=>t.isDark?30:90,isBackground:!0,background:t=>de.highestSurface(t),contrastCurve:new Jt(1,1,3,4.5),toneDeltaPair:t=>new go(de.errorContainer,de.error,10,"nearer",!1)});de.onErrorContainer=vt.fromPalette({name:"on_error_container",palette:t=>t.errorPalette,tone:t=>Nr(t)?t.isDark?90:10:t.isDark?90:30,background:t=>de.errorContainer,contrastCurve:new Jt(3,4.5,7,11)});de.primaryFixed=vt.fromPalette({name:"primary_fixed",palette:t=>t.primaryPalette,tone:t=>Nr(t)?40:90,isBackground:!0,background:t=>de.highestSurface(t),contrastCurve:new Jt(1,1,3,4.5),toneDeltaPair:t=>new go(de.primaryFixed,de.primaryFixedDim,10,"lighter",!0)});de.primaryFixedDim=vt.fromPalette({name:"primary_fixed_dim",palette:t=>t.primaryPalette,tone:t=>Nr(t)?30:80,isBackground:!0,background:t=>de.highestSurface(t),contrastCurve:new Jt(1,1,3,4.5),toneDeltaPair:t=>new go(de.primaryFixed,de.primaryFixedDim,10,"lighter",!0)});de.onPrimaryFixed=vt.fromPalette({name:"on_primary_fixed",palette:t=>t.primaryPalette,tone:t=>Nr(t)?100:10,background:t=>de.primaryFixedDim,secondBackground:t=>de.primaryFixed,contrastCurve:new Jt(4.5,7,11,21)});de.onPrimaryFixedVariant=vt.fromPalette({name:"on_primary_fixed_variant",palette:t=>t.primaryPalette,tone:t=>Nr(t)?90:30,background:t=>de.primaryFixedDim,secondBackground:t=>de.primaryFixed,contrastCurve:new Jt(3,4.5,7,11)});de.secondaryFixed=vt.fromPalette({name:"secondary_fixed",palette:t=>t.secondaryPalette,tone:t=>Nr(t)?80:90,isBackground:!0,background:t=>de.highestSurface(t),contrastCurve:new Jt(1,1,3,4.5),toneDeltaPair:t=>new go(de.secondaryFixed,de.secondaryFixedDim,10,"lighter",!0)});de.secondaryFixedDim=vt.fromPalette({name:"secondary_fixed_dim",palette:t=>t.secondaryPalette,tone:t=>Nr(t)?70:80,isBackground:!0,background:t=>de.highestSurface(t),contrastCurve:new Jt(1,1,3,4.5),toneDeltaPair:t=>new go(de.secondaryFixed,de.secondaryFixedDim,10,"lighter",!0)});de.onSecondaryFixed=vt.fromPalette({name:"on_secondary_fixed",palette:t=>t.secondaryPalette,tone:t=>10,background:t=>de.secondaryFixedDim,secondBackground:t=>de.secondaryFixed,contrastCurve:new Jt(4.5,7,11,21)});de.onSecondaryFixedVariant=vt.fromPalette({name:"on_secondary_fixed_variant",palette:t=>t.secondaryPalette,tone:t=>Nr(t)?25:30,background:t=>de.secondaryFixedDim,secondBackground:t=>de.secondaryFixed,contrastCurve:new Jt(3,4.5,7,11)});de.tertiaryFixed=vt.fromPalette({name:"tertiary_fixed",palette:t=>t.tertiaryPalette,tone:t=>Nr(t)?40:90,isBackground:!0,background:t=>de.highestSurface(t),contrastCurve:new Jt(1,1,3,4.5),toneDeltaPair:t=>new go(de.tertiaryFixed,de.tertiaryFixedDim,10,"lighter",!0)});de.tertiaryFixedDim=vt.fromPalette({name:"tertiary_fixed_dim",palette:t=>t.tertiaryPalette,tone:t=>Nr(t)?30:80,isBackground:!0,background:t=>de.highestSurface(t),contrastCurve:new Jt(1,1,3,4.5),toneDeltaPair:t=>new go(de.tertiaryFixed,de.tertiaryFixedDim,10,"lighter",!0)});de.onTertiaryFixed=vt.fromPalette({name:"on_tertiary_fixed",palette:t=>t.tertiaryPalette,tone:t=>Nr(t)?100:10,background:t=>de.tertiaryFixedDim,secondBackground:t=>de.tertiaryFixed,contrastCurve:new Jt(4.5,7,11,21)});de.onTertiaryFixedVariant=vt.fromPalette({name:"on_tertiary_fixed_variant",palette:t=>t.tertiaryPalette,tone:t=>Nr(t)?90:30,background:t=>de.tertiaryFixedDim,secondBackground:t=>de.tertiaryFixed,contrastCurve:new Jt(3,4.5,7,11)});/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.sourceColorArgb=e.sourceColorArgb,this.variant=e.variant,this.contrastLevel=e.contrastLevel,this.isDark=e.isDark,this.sourceColorHct=Vr.fromInt(e.sourceColorArgb),this.primaryPalette=e.primaryPalette,this.secondaryPalette=e.secondaryPalette,this.tertiaryPalette=e.tertiaryPalette,this.neutralPalette=e.neutralPalette,this.neutralVariantPalette=e.neutralVariantPalette,this.errorPalette=Et.fromHueAndChroma(25,84)}static getRotatedHue(e,n,r){const i=e.hue;if(n.length!==r.length)throw new Error(`mismatch between hue length ${n.length} & rotations ${r.length}`);if(r.length===1)return jo(e.hue+r[0]);const s=n.length;for(let o=0;o<=s-2;o++){const a=n[o],l=n[o+1];if(a<i&&i<l)return jo(i+r[o])}return i}getArgb(e){return e.getArgb(this)}getHct(e){return e.getHct(this)}get primaryPaletteKeyColor(){return this.getArgb(de.primaryPaletteKeyColor)}get secondaryPaletteKeyColor(){return this.getArgb(de.secondaryPaletteKeyColor)}get tertiaryPaletteKeyColor(){return this.getArgb(de.tertiaryPaletteKeyColor)}get neutralPaletteKeyColor(){return this.getArgb(de.neutralPaletteKeyColor)}get neutralVariantPaletteKeyColor(){return this.getArgb(de.neutralVariantPaletteKeyColor)}get background(){return this.getArgb(de.background)}get onBackground(){return this.getArgb(de.onBackground)}get surface(){return this.getArgb(de.surface)}get surfaceDim(){return this.getArgb(de.surfaceDim)}get surfaceBright(){return this.getArgb(de.surfaceBright)}get surfaceContainerLowest(){return this.getArgb(de.surfaceContainerLowest)}get surfaceContainerLow(){return this.getArgb(de.surfaceContainerLow)}get surfaceContainer(){return this.getArgb(de.surfaceContainer)}get surfaceContainerHigh(){return this.getArgb(de.surfaceContainerHigh)}get surfaceContainerHighest(){return this.getArgb(de.surfaceContainerHighest)}get onSurface(){return this.getArgb(de.onSurface)}get surfaceVariant(){return this.getArgb(de.surfaceVariant)}get onSurfaceVariant(){return this.getArgb(de.onSurfaceVariant)}get inverseSurface(){return this.getArgb(de.inverseSurface)}get inverseOnSurface(){return this.getArgb(de.inverseOnSurface)}get outline(){return this.getArgb(de.outline)}get outlineVariant(){return this.getArgb(de.outlineVariant)}get shadow(){return this.getArgb(de.shadow)}get scrim(){return this.getArgb(de.scrim)}get surfaceTint(){return this.getArgb(de.surfaceTint)}get primary(){return this.getArgb(de.primary)}get onPrimary(){return this.getArgb(de.onPrimary)}get primaryContainer(){return this.getArgb(de.primaryContainer)}get onPrimaryContainer(){return this.getArgb(de.onPrimaryContainer)}get inversePrimary(){return this.getArgb(de.inversePrimary)}get secondary(){return this.getArgb(de.secondary)}get onSecondary(){return this.getArgb(de.onSecondary)}get secondaryContainer(){return this.getArgb(de.secondaryContainer)}get onSecondaryContainer(){return this.getArgb(de.onSecondaryContainer)}get tertiary(){return this.getArgb(de.tertiary)}get onTertiary(){return this.getArgb(de.onTertiary)}get tertiaryContainer(){return this.getArgb(de.tertiaryContainer)}get onTertiaryContainer(){return this.getArgb(de.onTertiaryContainer)}get error(){return this.getArgb(de.error)}get onError(){return this.getArgb(de.onError)}get errorContainer(){return this.getArgb(de.errorContainer)}get onErrorContainer(){return this.getArgb(de.onErrorContainer)}get primaryFixed(){return this.getArgb(de.primaryFixed)}get primaryFixedDim(){return this.getArgb(de.primaryFixedDim)}get onPrimaryFixed(){return this.getArgb(de.onPrimaryFixed)}get onPrimaryFixedVariant(){return this.getArgb(de.onPrimaryFixedVariant)}get secondaryFixed(){return this.getArgb(de.secondaryFixed)}get secondaryFixedDim(){return this.getArgb(de.secondaryFixedDim)}get onSecondaryFixed(){return this.getArgb(de.onSecondaryFixed)}get onSecondaryFixedVariant(){return this.getArgb(de.onSecondaryFixedVariant)}get tertiaryFixed(){return this.getArgb(de.tertiaryFixed)}get tertiaryFixedDim(){return this.getArgb(de.tertiaryFixedDim)}get onTertiaryFixed(){return this.getArgb(de.onTertiaryFixed)}get onTertiaryFixedVariant(){return this.getArgb(de.onTertiaryFixedVariant)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{static of(e){return new Wi(e,!1)}static contentOf(e){return new Wi(e,!0)}static fromColors(e){return Wi.createPaletteFromColors(!1,e)}static contentFromColors(e){return Wi.createPaletteFromColors(!0,e)}static createPaletteFromColors(e,n){const r=new Wi(n.primary,e);if(n.secondary){const i=new Wi(n.secondary,e);r.a2=i.a1}if(n.tertiary){const i=new Wi(n.tertiary,e);r.a3=i.a1}if(n.error){const i=new Wi(n.error,e);r.error=i.a1}if(n.neutral){const i=new Wi(n.neutral,e);r.n1=i.n1}if(n.neutralVariant){const i=new Wi(n.neutralVariant,e);r.n2=i.n2}return r}constructor(e,n){const r=Vr.fromInt(e),i=r.hue,s=r.chroma;n?(this.a1=Et.fromHueAndChroma(i,s),this.a2=Et.fromHueAndChroma(i,s/3),this.a3=Et.fromHueAndChroma(i+60,s/2),this.n1=Et.fromHueAndChroma(i,Math.min(s/12,4)),this.n2=Et.fromHueAndChroma(i,Math.min(s/6,8))):(this.a1=Et.fromHueAndChroma(i,Math.max(48,s)),this.a2=Et.fromHueAndChroma(i,16),this.a3=Et.fromHueAndChroma(i+60,24),this.n1=Et.fromHueAndChroma(i,4),this.n2=Et.fromHueAndChroma(i,8)),this.error=Et.fromHueAndChroma(25,84)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{get primary(){return this.props.primary}get onPrimary(){return this.props.onPrimary}get primaryContainer(){return this.props.primaryContainer}get onPrimaryContainer(){return this.props.onPrimaryContainer}get secondary(){return this.props.secondary}get onSecondary(){return this.props.onSecondary}get secondaryContainer(){return this.props.secondaryContainer}get onSecondaryContainer(){return this.props.onSecondaryContainer}get tertiary(){return this.props.tertiary}get onTertiary(){return this.props.onTertiary}get tertiaryContainer(){return this.props.tertiaryContainer}get onTertiaryContainer(){return this.props.onTertiaryContainer}get error(){return this.props.error}get onError(){return this.props.onError}get errorContainer(){return this.props.errorContainer}get onErrorContainer(){return this.props.onErrorContainer}get background(){return this.props.background}get onBackground(){return this.props.onBackground}get surface(){return this.props.surface}get onSurface(){return this.props.onSurface}get surfaceVariant(){return this.props.surfaceVariant}get onSurfaceVariant(){return this.props.onSurfaceVariant}get outline(){return this.props.outline}get outlineVariant(){return this.props.outlineVariant}get shadow(){return this.props.shadow}get scrim(){return this.props.scrim}get inverseSurface(){return this.props.inverseSurface}get inverseOnSurface(){return this.props.inverseOnSurface}get inversePrimary(){return this.props.inversePrimary}static light(e){return Nc.lightFromCorePalette(Wi.of(e))}static dark(e){return Nc.darkFromCorePalette(Wi.of(e))}static lightContent(e){return Nc.lightFromCorePalette(Wi.contentOf(e))}static darkContent(e){return Nc.darkFromCorePalette(Wi.contentOf(e))}static lightFromCorePalette(e){return new Nc({primary:e.a1.tone(40),onPrimary:e.a1.tone(100),primaryContainer:e.a1.tone(90),onPrimaryContainer:e.a1.tone(10),secondary:e.a2.tone(40),onSecondary:e.a2.tone(100),secondaryContainer:e.a2.tone(90),onSecondaryContainer:e.a2.tone(10),tertiary:e.a3.tone(40),onTertiary:e.a3.tone(100),tertiaryContainer:e.a3.tone(90),onTertiaryContainer:e.a3.tone(10),error:e.error.tone(40),onError:e.error.tone(100),errorContainer:e.error.tone(90),onErrorContainer:e.error.tone(10),background:e.n1.tone(99),onBackground:e.n1.tone(10),surface:e.n1.tone(99),onSurface:e.n1.tone(10),surfaceVariant:e.n2.tone(90),onSurfaceVariant:e.n2.tone(30),outline:e.n2.tone(50),outlineVariant:e.n2.tone(80),shadow:e.n1.tone(0),scrim:e.n1.tone(0),inverseSurface:e.n1.tone(20),inverseOnSurface:e.n1.tone(95),inversePrimary:e.a1.tone(80)})}static darkFromCorePalette(e){return new Nc({primary:e.a1.tone(80),onPrimary:e.a1.tone(20),primaryContainer:e.a1.tone(30),onPrimaryContainer:e.a1.tone(90),secondary:e.a2.tone(80),onSecondary:e.a2.tone(20),secondaryContainer:e.a2.tone(30),onSecondaryContainer:e.a2.tone(90),tertiary:e.a3.tone(80),onTertiary:e.a3.tone(20),tertiaryContainer:e.a3.tone(30),onTertiaryContainer:e.a3.tone(90),error:e.error.tone(80),onError:e.error.tone(20),errorContainer:e.error.tone(30),onErrorContainer:e.error.tone(80),background:e.n1.tone(10),onBackground:e.n1.tone(90),surface:e.n1.tone(10),onSurface:e.n1.tone(90),surfaceVariant:e.n2.tone(30),onSurfaceVariant:e.n2.tone(80),outline:e.n2.tone(60),outlineVariant:e.n2.tone(30),shadow:e.n1.tone(0),scrim:e.n1.tone(0),inverseSurface:e.n1.tone(90),inverseOnSurface:e.n1.tone(20),inversePrimary:e.a1.tone(40)})}constructor(e){this.props=e}toJSON(){return{...this.props}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e){this.input=e,this.hctsByTempCache=[],this.hctsByHueCache=[],this.tempsByHctCache=new Map,this.inputRelativeTemperatureCache=-1,this.complementCache=null}get hctsByTemp(){if(this.hctsByTempCache.length>0)return this.hctsByTempCache;const e=this.hctsByHue.concat([this.input]),n=this.tempsByHct;return e.sort((r,i)=>n.get(r)-n.get(i)),this.hctsByTempCache=e,e}get warmest(){return this.hctsByTemp[this.hctsByTemp.length-1]}get coldest(){return this.hctsByTemp[0]}analogous(e=5,n=12){const r=Math.round(this.input.hue),i=this.hctsByHue[r];let s=this.relativeTemperature(i);const o=[i];let a=0;for(let g=0;g<360;g++){const p=KI(r+g),v=this.hctsByHue[p],b=this.relativeTemperature(v),y=Math.abs(b-s);s=b,a+=y}let l=1;const c=a/n;let d=0;for(s=this.relativeTemperature(i);o.length<n;){const g=KI(r+l),p=this.hctsByHue[g],v=this.relativeTemperature(p),b=Math.abs(v-s);d+=b;const y=o.length*c;let C=d>=y,x=1;for(;C&&o.length<n;){o.push(p);const O=(o.length+x)*c;C=d>=O,x++}if(s=v,l++,l>360){for(;o.length<n;)o.push(p);break}}const h=[this.input],f=Math.floor((e-1)/2);for(let g=1;g<f+1;g++){let p=0-g;for(;p<0;)p=o.length+p;p>=o.length&&(p=p%o.length),h.splice(0,0,o[p])}const m=e-f-1;for(let g=1;g<m+1;g++){let p=g;for(;p<0;)p=o.length+p;p>=o.length&&(p=p%o.length),h.push(o[p])}return h}get complement(){if(this.complementCache!=null)return this.complementCache;const e=this.coldest.hue,n=this.tempsByHct.get(this.coldest),r=this.warmest.hue,s=this.tempsByHct.get(this.warmest)-n,o=Mm.isBetween(this.input.hue,e,r),a=o?r:e,l=o?e:r,c=1;let d=1e3,h=this.hctsByHue[Math.round(this.input.hue)];const f=1-this.inputRelativeTemperature;for(let m=0;m<=360;m+=1){const g=jo(a+c*m);if(!Mm.isBetween(g,a,l))continue;const p=this.hctsByHue[Math.round(g)],v=(this.tempsByHct.get(p)-n)/s,b=Math.abs(f-v);b<d&&(d=b,h=p)}return this.complementCache=h,this.complementCache}relativeTemperature(e){const n=this.tempsByHct.get(this.warmest)-this.tempsByHct.get(this.coldest),r=this.tempsByHct.get(e)-this.tempsByHct.get(this.coldest);return n===0?.5:r/n}get inputRelativeTemperature(){return this.inputRelativeTemperatureCache>=0?this.inputRelativeTemperatureCache:(this.inputRelativeTemperatureCache=this.relativeTemperature(this.input),this.inputRelativeTemperatureCache)}get tempsByHct(){if(this.tempsByHctCache.size>0)return this.tempsByHctCache;const e=this.hctsByHue.concat([this.input]),n=new Map;for(const r of e)n.set(r,Mm.rawTemperature(r));return this.tempsByHctCache=n,n}get hctsByHue(){if(this.hctsByHueCache.length>0)return this.hctsByHueCache;const e=[];for(let n=0;n<=360;n+=1){const r=Vr.from(n,this.input.chroma,this.input.tone);e.push(r)}return this.hctsByHueCache=e,this.hctsByHueCache}static isBetween(e,n,r){return n<r?n<=e&&e<=r:n<=e||e<=r}static rawTemperature(e){const n=Ret(e.toInt()),r=jo(Math.atan2(n[2],n[1])*180/Math.PI),i=Math.sqrt(n[1]*n[1]+n[2]*n[2]);return-.5+.02*Math.pow(i,1.07)*Math.cos(jo(r-50)*Math.PI/180)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fet extends qo{constructor(e,n,r){super({sourceColorArgb:e.toInt(),variant:uo.CONTENT,contrastLevel:r,isDark:n,primaryPalette:Et.fromHueAndChroma(e.hue,e.chroma),secondaryPalette:Et.fromHueAndChroma(e.hue,Math.max(e.chroma-32,e.chroma*.5)),tertiaryPalette:Et.fromInt(l1.fixIfDisliked(new Mm(e).analogous(3,6)[2]).toInt()),neutralPalette:Et.fromHueAndChroma(e.hue,e.chroma/8),neutralVariantPalette:Et.fromHueAndChroma(e.hue,e.chroma/8+4)})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc extends qo{constructor(e,n,r){super({sourceColorArgb:e.toInt(),variant:uo.EXPRESSIVE,contrastLevel:r,isDark:n,primaryPalette:Et.fromHueAndChroma(jo(e.hue+240),40),secondaryPalette:Et.fromHueAndChroma(qo.getRotatedHue(e,jc.hues,jc.secondaryRotations),24),tertiaryPalette:Et.fromHueAndChroma(qo.getRotatedHue(e,jc.hues,jc.tertiaryRotations),32),neutralPalette:Et.fromHueAndChroma(e.hue+15,8),neutralVariantPalette:Et.fromHueAndChroma(e.hue+15,12)})}}jc.hues=[0,21,51,121,151,191,271,321,360];jc.secondaryRotations=[45,95,45,20,45,90,45,45,45];jc.tertiaryRotations=[120,120,20,45,20,15,20,120,120];/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bet extends qo{constructor(e,n,r){super({sourceColorArgb:e.toInt(),variant:uo.FIDELITY,contrastLevel:r,isDark:n,primaryPalette:Et.fromHueAndChroma(e.hue,e.chroma),secondaryPalette:Et.fromHueAndChroma(e.hue,Math.max(e.chroma-32,e.chroma*.5)),tertiaryPalette:Et.fromInt(l1.fixIfDisliked(new Mm(e).complement).toInt()),neutralPalette:Et.fromHueAndChroma(e.hue,e.chroma/8),neutralVariantPalette:Et.fromHueAndChroma(e.hue,e.chroma/8+4)})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zet extends qo{constructor(e,n,r){super({sourceColorArgb:e.toInt(),variant:uo.FRUIT_SALAD,contrastLevel:r,isDark:n,primaryPalette:Et.fromHueAndChroma(jo(e.hue-50),48),secondaryPalette:Et.fromHueAndChroma(jo(e.hue-50),36),tertiaryPalette:Et.fromHueAndChroma(e.hue,36),neutralPalette:Et.fromHueAndChroma(e.hue,10),neutralVariantPalette:Et.fromHueAndChroma(e.hue,16)})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qet extends qo{constructor(e,n,r){super({sourceColorArgb:e.toInt(),variant:uo.MONOCHROME,contrastLevel:r,isDark:n,primaryPalette:Et.fromHueAndChroma(e.hue,0),secondaryPalette:Et.fromHueAndChroma(e.hue,0),tertiaryPalette:Et.fromHueAndChroma(e.hue,0),neutralPalette:Et.fromHueAndChroma(e.hue,0),neutralVariantPalette:Et.fromHueAndChroma(e.hue,0)})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uet extends qo{constructor(e,n,r){super({sourceColorArgb:e.toInt(),variant:uo.NEUTRAL,contrastLevel:r,isDark:n,primaryPalette:Et.fromHueAndChroma(e.hue,12),secondaryPalette:Et.fromHueAndChroma(e.hue,8),tertiaryPalette:Et.fromHueAndChroma(e.hue,16),neutralPalette:Et.fromHueAndChroma(e.hue,2),neutralVariantPalette:Et.fromHueAndChroma(e.hue,2)})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vet extends qo{constructor(e,n,r){super({sourceColorArgb:e.toInt(),variant:uo.RAINBOW,contrastLevel:r,isDark:n,primaryPalette:Et.fromHueAndChroma(e.hue,48),secondaryPalette:Et.fromHueAndChroma(e.hue,16),tertiaryPalette:Et.fromHueAndChroma(jo(e.hue+60),24),neutralPalette:Et.fromHueAndChroma(e.hue,0),neutralVariantPalette:Et.fromHueAndChroma(e.hue,0)})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jet extends qo{constructor(e,n,r){super({sourceColorArgb:e.toInt(),variant:uo.TONAL_SPOT,contrastLevel:r,isDark:n,primaryPalette:Et.fromHueAndChroma(e.hue,36),secondaryPalette:Et.fromHueAndChroma(e.hue,16),tertiaryPalette:Et.fromHueAndChroma(jo(e.hue+60),24),neutralPalette:Et.fromHueAndChroma(e.hue,6),neutralVariantPalette:Et.fromHueAndChroma(e.hue,8)})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc extends qo{constructor(e,n,r){super({sourceColorArgb:e.toInt(),variant:uo.VIBRANT,contrastLevel:r,isDark:n,primaryPalette:Et.fromHueAndChroma(e.hue,200),secondaryPalette:Et.fromHueAndChroma(qo.getRotatedHue(e,qc.hues,qc.secondaryRotations),24),tertiaryPalette:Et.fromHueAndChroma(qo.getRotatedHue(e,qc.hues,qc.tertiaryRotations),32),neutralPalette:Et.fromHueAndChroma(e.hue,10),neutralVariantPalette:Et.fromHueAndChroma(e.hue,12)})}}qc.hues=[0,41,61,101,131,181,251,301,360];qc.secondaryRotations=[18,15,10,12,15,18,15,12,12];qc.tertiaryRotations=[35,30,20,25,30,35,30,25,25];/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(t){const e=LT(t),n=NT(t),r=FT(t),i=[e.toString(16),n.toString(16),r.toString(16)];for(const[s,o]of i.entries())o.length===1&&(i[s]="0"+o);return"#"+i.join("")}function jp(t){t=t.replace("#","");const e=t.length===3,n=t.length===6,r=t.length===8;if(!e&&!n&&!r)throw new Error("unexpected hex "+t);let i=0,s=0,o=0;return e?(i=Cc(t.slice(0,1).repeat(2)),s=Cc(t.slice(1,2).repeat(2)),o=Cc(t.slice(2,3).repeat(2))):n?(i=Cc(t.slice(0,2)),s=Cc(t.slice(2,4)),o=Cc(t.slice(4,6))):r&&(i=Cc(t.slice(2,4)),s=Cc(t.slice(4,6)),o=Cc(t.slice(6,8))),(255<<24|(i&255)<<16|(s&255)<<8|o&255)>>>0}function Cc(t){return parseInt(t,16)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qet(t,e=[]){const n=Wi.of(t);return{source:t,schemes:{light:Nc.light(t),dark:Nc.dark(t)},palettes:{primary:n.a1,secondary:n.a2,tertiary:n.a3,neutral:n.n1,neutralVariant:n.n2,error:n.error},customColors:e.map(r=>Het(t,r))}}function Het(t,e){let n=e.value;const r=n,i=t;e.blend&&(n=BT.harmonize(r,i));const o=Wi.of(n).a1;return{color:e,value:n,light:{color:o.tone(40),onColor:o.tone(100),colorContainer:o.tone(90),onColorContainer:o.tone(10)},dark:{color:o.tone(80),onColor:o.tone(20),colorContainer:o.tone(30),onColorContainer:o.tone(90)}}}function Wet(t){const e={},n={};return Object.keys(Object.getOwnPropertyDescriptors(Object.getPrototypeOf(t))).filter(r=>typeof t[r]=="number").forEach(r=>{const i=Vr.fromInt(t[r]);e[r]=Yt(i.toInt()),n[r]=Et.fromInt(i.toInt())}),{scheme:e,tones:n}}function H4(t){const[e,n,r,i]=/#([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})/i.exec(t);return`${parseInt(n,16)}, ${parseInt(r,16)}, ${parseInt(i,16)}`}const Xet=(t="#FF5733",e=!1)=>{const n=qet(jp(t),[{name:"success",value:jp("#65E572"),blend:!0},{name:"warning",value:jp("#FAA352"),blend:!0},{name:"error",value:jp("#FF3322"),blend:!0}]),r={"status-online":{color:"#3ABF7E",onColor:"black"},"status-idle":{color:"#F39F00",onColor:"black"},"status-focus":{color:"#4799F0",onColor:"black"},"status-busy":{color:"#F84848",onColor:"white"},"status-invisible":{color:"#A5A5A5",onColor:"black"}};for(const o of n.customColors){const a={},l=o[e?"dark":"light"];Object.keys(l).forEach(c=>a[c]=Yt(l[c])),r[o.color.name]=a}const i=Wet(n.schemes[e?"dark":"light"]);function s(o,a){return a?Yt(i.tones[o].getHct(e?100-a:a).toInt()):i.scheme[o]}return{colours:{link:"#0088ce",background:s("background"),foreground:s("onBackground"),"component-btn-background-primary":s("primary"),"component-btn-foreground-primary":s("onBackground",98),"component-btn-background-secondary":s("surfaceVariant"),"component-btn-foreground-secondary":s("onSurfaceVariant",30),"component-btn-foreground-plain":s("onBackground"),"component-btn-foreground-plain-secondary":s("onBackground",40),"component-breadcrumbs-foreground":s("onBackground",60),"component-breadcrumbs-foreground-active":s("onBackground"),"component-menubtn-default-background":"transparent","component-menubtn-default-foreground":s("onSurfaceVariant",55),"component-menubtn-selected-background":s("surfaceVariant"),"component-menubtn-selected-foreground":s("onSurfaceVariant",30),"component-menubtn-muted-background":"transparent","component-menubtn-muted-foreground":s("onSurfaceVariant",45),"component-menubtn-hover-background":s("surfaceVariant"),"component-menubtn-hover-foreground":s("onSurfaceVariant",25),"component-input-focus":s("primary"),"component-input-foreground":s("onBackground"),"component-input-background-primary":s("background",100),"component-input-background-secondary":s("background",98),"component-input-hover-primary":s("background",98),"component-input-hover-secondary":s("background",100),"component-checkbox-background":s("primary",92),"component-checkbox-foreground":s("primary"),"component-checkbox-foreground-check":s("onPrimary"),"component-fab-background":s("primary"),"component-fab-foreground":s("primary",90),"component-scrollbar-background":"transparent","component-scrollbar-foreground":s("primary",85),"component-categorybtn-background":s("background",99),"component-categorybtn-background-icon":s("primary",90),"component-categorybtn-background-collapse":s("background",97),"component-categorybtn-background-hover":s("background",100),"component-categorybtn-background-active":s("background",94),"component-categorybtn-foreground":s("onBackground",10),"component-categorybtn-foreground-description":s("onBackground",30),"component-modal-background":s("secondary",96),"component-modal-foreground":s("onBackground"),"component-avatar-fallback-background":s("onBackground",94),"component-avatar-fallback-foreground":s("onBackground"),"component-avatar-fallback-contrast-background":s("primary"),"component-avatar-fallback-contrast-foreground":s("onPrimary"),"component-context-menu-background":s("surfaceVariant",97),"component-context-menu-foreground":s("onSurface"),"component-context-menu-item-hover-background":s("surfaceVariant",92),"component-context-menu-divider":s("onSurface",92),"component-context-menu-shadow":"#0004","component-key-background":s("secondary"),"component-key-foreground":s("onSecondary"),"component-combo-focus":s("primary"),"component-combo-foreground":s("onBackground"),"component-combo-background":s("background",100),"preloader-foreground":s("primary"),"sidebar-channels-background":s("onBackground",94),"sidebar-channels-foreground":s("onPrimaryContainer"),"sidebar-members-background":s("onBackground",94),"sidebar-members-foreground":s("onPrimaryContainer"),"sidebar-header-background":s("onBackground",94),"sidebar-header-foreground":s("onPrimaryContainer"),"sidebar-header-transparent-background":`rgba(${H4(s("onBackground",94))}, 0.75)`,"sidebar-header-with-image-text-background":`rgba(${H4(s("onBackground"))}, 0.5)`,"sidebar-header-with-image-text-foreground":s("background"),"sidebar-server-list-foreground":s("onBackground",80),"sidebar-channels-category-foreground":s("onSurfaceVariant",60),"messaging-channel-header-divider":s("onBackground",80),"messaging-indicator-background":`rgba(${H4(s("background",94))}, 0.50)`,"messaging-indicator-foreground":s("onBackground"),"messaging-indicator-reply-enabled":s("primary"),"messaging-indicator-reply-disabled":s("onBackground",60),"messaging-upload-file-background":s("surfaceVariant",80),"messaging-upload-file-new":s("surfaceVariant",85),"messaging-upload-file-foreground":s("onBackground",98),"messaging-upload-divider":s("primary",85),testing:s("onBackground",88),"messaging-message-box-background":s("onBackground",94),"messaging-message-box-foreground":s("onPrimaryContainer"),"messaging-message-mentioned-background":s("surfaceVariant",97),"messaging-message-info-text":s("onBackground",50),"messaging-component-container-background":s("background",95),"messaging-component-blocked-message-background":"transparent","messaging-component-blocked-message-foreground":s("onBackground",60),"messaging-component-system-message-foreground":s("onBackground",40),"messaging-component-message-reply-hook":s("onBackground",90),"messaging-component-code-block-background":s("surfaceVariant"),"messaging-component-code-block-foreground":s("onSurfaceVariant"),"messaging-component-code-block-language-background":s("primary"),"messaging-component-code-block-language-foreground":s("onPrimary"),"messaging-component-blockquote-background":s("surfaceVariant"),"messaging-component-blockquote-foreground":s("onSurfaceVariant"),"messaging-component-text-embed-background":s("surfaceVariant"),"messaging-component-text-embed-foreground":s("onSurfaceVariant"),"messaging-component-attachment-background":s("surfaceVariant"),"messaging-component-attachment-foreground":s("onSurfaceVariant"),"messaging-component-message-divider-background":s("onSurfaceVariant",80),"messaging-component-message-divider-foreground":s("onSurfaceVariant",60),"messaging-component-message-divider-unread-background":s("primary"),"messaging-component-message-divider-unread-foreground":s("onPrimary"),"messaging-component-reaction-background":s("onBackground",97),"messaging-component-reaction-foreground":s("onBackground"),"messaging-component-reaction-selected-background":s("primaryContainer"),"messaging-component-reaction-selected-foreground":s("onPrimaryContainer"),"messaging-component-mention-background":s("surfaceVariant"),"messaging-component-mention-foreground":s("onSurfaceVariant"),"settings-background":s("secondary",92),"settings-foreground":s("onSecondaryContainer"),"settings-content-background":s("secondary",96),"settings-content-foreground":s("onSecondary",20),"settings-content-scroll-thumb":s("secondary",70),"settings-close-anchor":s("primary"),"settings-close-anchor-hover":s("onPrimary"),"settings-sidebar-category":s("primary"),"settings-sidebar-foreground":s("onSecondary",20),"settings-sidebar-button-hover":s("secondary",90),"settings-sidebar-button-active":s("secondary",82),"temp-1":s("secondary",85)}}};function Yet(){const t=Ht();return dt(()=>{const e=t.theme.activeTheme;Gq[t.theme.interfaceFont].load(),Zq[t.theme.monospaceFont].load();for(const[n,r]of Object.entries({...Object.keys(Xet().colours).reduce((i,s)=>({...i,[`--colours-${s}`]:s.includes("background")?"var(--unset-bg)":"var(--unset-fg)"}),{}),...Ket(e),...EG(e,"--md-sys-color-"),...Get(e,"--mdui-color-")}))document.body.style.setProperty(n,r)}),u(_et,{})}function EG(t,e){switch(t.preset){case"you":return Object.entries(Zet(t.accent,t.darkMode,t.contrast,t.variant)).reduce((n,[r,i])=>({...n,[`${e}${r}`]:i}),{});default:return{}}}function Get(t,e){const n=EG(t,e);for(const r in n){const[i,s,o,a]=/#([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})/i.exec(n[r]);n[r]=`${parseInt(s,16)}, ${parseInt(o,16)}, ${parseInt(a,16)}`}return n}function Zet(t,e,n,r){const i=Vr.fromInt(jp(t));let s;switch(r){case"content":s=new Fet(i,e,n);break;case"expressive":s=new jc(i,e,n);break;case"fidelity":s=new Bet(i,e,n);break;case"fruit_salad":s=new zet(i,e,n);break;case"monochrome":s=new Qet(i,e,n);break;case"neutral":s=new Uet(i,e,n);break;case"rainbow":s=new Vet(i,e,n);break;case"vibrant":s=new qc(i,e,n);break;case"tonal_spot":default:s=new jet(i,e,n);break}return{primary:Yt(s.primary),"on-primary":Yt(s.onPrimary),"primary-container":Yt(s.primaryContainer),"on-primary-container":Yt(s.onPrimaryContainer),secondary:Yt(s.secondary),"on-secondary":Yt(s.onSecondary),"secondary-container":Yt(s.secondaryContainer),"on-secondary-container":Yt(s.onSecondaryContainer),tertiary:Yt(s.tertiary),"on-tertiary":Yt(s.onTertiary),"tertiary-container":Yt(s.tertiaryContainer),"on-tertiary-container":Yt(s.onTertiaryContainer),error:Yt(s.error),"on-error":Yt(s.onError),"error-container":Yt(s.errorContainer),"on-error-container":Yt(s.onErrorContainer),"primary-fixed":Yt(s.primaryFixed),"primary-fixed-dim":Yt(s.primaryFixedDim),"on-primary-fixed":Yt(s.onPrimaryFixed),"on-primary-fixed-variant":Yt(s.onPrimaryFixedVariant),"secondary-fixed":Yt(s.secondaryFixed),"secondary-fixed-dim":Yt(s.onSecondaryFixed),"on-secondary-fixed":Yt(s.onSecondaryFixed),"on-secondary-fixed-variant":Yt(s.onSecondaryFixedVariant),"tertiary-fixed":Yt(s.tertiaryFixed),"tertiary-fixed-dim":Yt(s.tertiaryFixedDim),"on-tertiary-fixed":Yt(s.onTertiaryFixed),"on-tertiary-fixed-variant":Yt(s.onTertiaryFixedVariant),"surface-dim":Yt(s.surfaceDim),surface:Yt(s.surface),"surface-bright":Yt(s.surfaceBright),"surface-container-lowest":Yt(s.surfaceContainerLowest),"surface-container-low":Yt(s.surfaceContainerLow),"surface-container":Yt(s.surfaceContainer),"surface-container-high":Yt(s.surfaceContainerHigh),"surface-container-highest":Yt(s.surfaceContainerHighest),"on-surface":Yt(s.onSurface),"on-surface-variant":Yt(s.onSurfaceVariant),outline:Yt(s.outline),"outline-variant":Yt(s.outlineVariant),"inverse-surface":Yt(s.inverseSurface),"inverse-on-surface":Yt(s.inverseOnSurface),"inverse-primary":Yt(s.inversePrimary),scrim:Yt(s.scrim),shadow:Yt(s.shadow)}}function Ket(t){return{"--unset-fg":"red","--unset-bg":"linear-gradient(to right, red, blue)","--message-size":`${t.messageSize}px`,"--message-group-spacing":`${t.messageGroupSpacing}px`,"--emoji-size":"1.4em","--emoji-size-medium":"48px","--emoji-size-large":"96px","--effects-blur-md":t.blur?"blur(20px)":"unset","--effects-invert-black":t.darkMode?"invert(100%)":"invert(0%)","--effects-invert-light":t.darkMode?"invert(0%)":"invert(1000%)","--transitions-fast":".1s ease-in-out","--transitions-medium":".2s ease","--brand-presence-online":"#3ABF7E","--brand-presence-idle":"#F39F00","--brand-presence-busy":"#F84848","--brand-presence-focus":"#4799F0","--brand-presence-invisible":"#A5A5A5","--fonts-primary":`"${t.interfaceFont}", "Inter", sans-serif`,"--fonts-monospace":`"${t.monospaceFont}", "Jetbrains Mono", sans-serif`,...W4(X4.borderRadius,"--borderRadius-"),...W4(X4.gap,"--gap-"),...W4(X4.layout,"--layout-")}}function W4(t,e){return Object.entries(t).reduce((n,[r,i])=>({...n,[`${e}${r}`]:i}),{})}const X4={borderRadius:{none:"0px",xs:"4px",sm:"8px",md:"12px",lg:"16px",li:"20px",xl:"28px",xli:"32px",xxl:"48px",full:"calc(infinity * 1px)",circle:"100%"},gap:{none:"0",xxs:"1px",xs:"2px",s:"6px",sm:"4px",md:"8px",l:"12px",lg:"15px",x:"28px",xl:"32px",xxl:"64px"},layout:{"width-channel-sidebar":"248px","width-user-context-menu-truncate":"300px"}};var Jet=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z">');const dO=(t={})=>(()=>{var e=Jet();return Se(e,t,!0,!0),e})();const ett="data:image/svg+xml,%3csvg%20clip-rule='evenodd'%20fill-rule='evenodd'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-miterlimit='1.5'%20viewBox='0%200%2032%2032'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cclipPath%20id='a'%3e%3cpath%20clip-rule='evenodd'%20d='m0%200h32v32h-32z'/%3e%3c/clipPath%3e%3cclipPath%20id='b'%3e%3cpath%20clip-rule='evenodd'%20d='m28%2016c0-.53-.211-1.039-.586-1.414s-.884-.586-1.414-.586c-4.52%200-15.48%200-20%200-.53%200-1.039.211-1.414.586s-.586.884-.586%201.414v12c0%20.53.211%201.039.586%201.414s.884.586%201.414.586h20c.53%200%201.039-.211%201.414-.586s.586-.884.586-1.414c0-3.074%200-8.926%200-12z'/%3e%3c/clipPath%3e%3cpath%20d='m0%200h32v32h-32z'%20fill='none'/%3e%3cg%20clip-path='url(%23a)'%3e%3cg%20fill='none'%3e%3cpath%20d='m28%2016c0-.53-.211-1.039-.586-1.414s-.884-.586-1.414-.586c-4.52%200-15.48%200-20%200-.53%200-1.039.211-1.414.586s-.586.884-.586%201.414v12c0%20.53.211%201.039.586%201.414s.884.586%201.414.586h20c.53%200%201.039-.211%201.414-.586s.586-.884.586-1.414c0-3.074%200-8.926%200-12z'%20stroke='%23000'%20stroke-width='4'/%3e%3cpath%20d='m8%2010v-4.5'%20stroke='%23000'%20stroke-width='7'/%3e%3cpath%20d='m24%2010.5v-5'%20stroke='%23000'%20stroke-width='7'/%3e%3cpath%20d='m16%207.5v-4'%20stroke='%23000'%20stroke-width='7'/%3e%3cpath%20d='m8%2010.5v-5'%20stroke='%23fff'%20stroke-width='3'/%3e%3cpath%20d='m24%2010.5v-5'%20stroke='%23fff'%20stroke-width='3'/%3e%3cpath%20d='m16%207.5v-4'%20stroke='%23fff'%20stroke-width='3'/%3e%3c/g%3e%3cpath%20d='m28%2016c0-.53-.211-1.039-.586-1.414s-.884-.586-1.414-.586c-4.52%200-15.48%200-20%200-.53%200-1.039.211-1.414.586s-.586.884-.586%201.414v12c0%20.53.211%201.039.586%201.414s.884.586%201.414.586h20c.53%200%201.039-.211%201.414-.586s.586-.884.586-1.414c0-3.074%200-8.926%200-12z'%20fill='%23fff'/%3e%3cg%20clip-path='url(%23b)'%20stroke-width='2'%3e%3cpath%20d='m4%2030%2012-11.556%2012%2011.556'%20fill='none'%20stroke='%23ccc'/%3e%3cpath%20d='m4%2014s6.595%205.862%2010.007%208.895c1.137%201.01%202.849%201.01%203.986%200%203.412-3.033%2010.007-8.895%2010.007-8.895'%20fill='%23fff'%20stroke='%23999'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",ttt="/DRKZXCHAT/assets/wave-CqpZubpG.svg",ntt=H("div",{base:{display:"flex",flexDirection:"column",gap:"var(--gap-lg)",flexGrow:0,background:"var(--md-sys-color-surface-container)",color:"var(--md-sys-color-on-surface)",width:"360px",maxWidth:"360px",maxHeight:"600px",padding:"45px 40px",borderRadius:"32px",marginTop:"20px",marginBottom:"20px",justifySelf:"center",marginInline:"auto"}}),rtt={fadeIn:{"0%":{transform:"rotate(0)"},"10%":{transform:"rotate(14deg)"},"20%":{transform:"rotate(-8deg)"},"30%":{transform:"rotate(14deg)"},"40%":{transform:"rotate(-4deg)"},"50%":{transform:"rotate(10deg)"},"60%":{transform:"rotate(0)"},"100%":{transform:"rotate(0)"}}},itt={fadeIn:{"0%":{opacity:0,transform:"translateY(-24px)"},"100%":{opacity:1,transform:"translateY(-4px)"}}},stt=H("img",{base:{height:"1.8em",animationDuration:"2.5s",animationIterationCount:1,animationName:rtt}}),ott=H("img",{base:{height:"1.8em",transform:"translateY(-4px)",animationDuration:"0.5s",animationIterationCount:1,animationTimingFunction:"ease",animationName:itt}});function cl(t){return u(Ae,{get children(){return[u(kt,{align:!0,gap:"sm",get children(){return[u(X,{get when(){return t.emoji==="wave"},get children(){return u(stt,{src:ttt})}}),u(X,{get when(){return t.emoji==="mail"},get children(){return u(ott,{src:ett})}}),u(Le,{class:"title",size:"large",get children(){return t.children}})]}}),u(X,{get when(){return t.subtitle},get children(){return u(Le,{class:"title",get children(){return t.subtitle}})}})]}})}var att=I("<a target=_blank rel=noreferrer>");function ltt(t){if(!t)return;const e=/@(.+)/.exec(t);if(e===null)return;const n=e[1];switch(n){case"gmail.com":case"googlemail.com":return["Gmail","https://gmail.com"];case"tuta.io":return["Tutanota","https://mail.tutanota.com"];case"outlook.com":case"hotmail.com":case"outlook.jp":case"outlook.fr":case"outlook.dk":case"outlook.com.ar":case"outlook.com.au":case"outlook.at":case"outlook.be":case"outlook.com.br":case"outlook.cl":case"outlook.cz":case"outlook.com.gr":case"outlook.co.il":case"outlook.in":case"outlook.co.id":case"outlook.ie":case"outlook.it":case"outlook.hu":case"outlook.kr":case"outlook.lv":case"outlook.my":case"outlook.co.nz":case"outlook.com.pe":case"outlook.ph":case"outlook.pt":case"outlook.sa":case"outlook.sg":case"outlook.sk":case"outlook.es":case"outlook.co.th":case"outlook.com.tr":case"outlook.com.vn":return["Outlook","https://outlook.live.com"];case"yahoo.com":return["Yahoo","https://mail.yahoo.com"];case"wp.pl":return["WP Poczta","https://poczta.wp.pl"];case"protonmail.com":case"protonmail.ch":case"pm.me":return["ProtonMail","https://mail.protonmail.com"];case"seznam.cz":case"email.cz":case"post.cz":return["Seznam","https://email.seznam.cz"];case"zoho.com":return["Zoho Mail","https://mail.zoho.com/zm/"];case"aol.com":case"aim.com":return["AOL Mail","https://mail.aol.com/"];case"icloud.com":return["iCloud Mail","https://mail.icloud.com/"];case"mail.com":case"email.com":return["mail.com","https://www.mail.com/mail/"];case"yandex.ru":case"yandex.by":case"yandex.ua":case"yandex.com":return["Yandex Mail","https://mail.yandex.com/"];case"hey.com":return["HEY","https://app.hey.com/"];case"mail.ru":case"bk.ru":case"inbox.ru":case"list.ru":case"internet.ru":return["Mail.ru","https://mail.ru/"];case"rambler.ru":case"lenta.ru":case"autorambler.ru":case"myrambler.ru":case"ro.ru":case"rambler.ua":return["Rambler","https://rambler.ru/"];case"revolt.chat":case"revolt.wtf":case"stoat.chat":return["Stoat Mail","https://webmail.revolt.wtf"];default:return[n,`https://${n}`]}}function ctt(t){const e=()=>ltt(t.email);return u(X,{get when(){return e()},get children(){var n=att();return V(n,u(ot,{get children(){return u(k,ge(()=>({id:"HWAICJ",values:{0:e()[0]}})))}})),Te(()=>$t(n,"href",e()[1])),n}})}var utt=I("<a href=..>"),dtt=I("<div>Mock Verify");let U5="postmaster@revolt.wtf";function hO(t){U5=t}function htt(){const t=Dr();return[u(cl,{get subtitle(){return u(k,{id:"MHFv7m"})},emoji:"mail",get children(){return u(k,{id:"QqoBlW"})}}),u(kt,{align:!0,justify:!0,get children(){return[(()=>{var e=utt();return V(e,u(ot,{variant:"text",get children(){return[u(dO,ge(()=>at("1.2em")))," ",u(k,{id:"iH8pgl"})]}})),e})(),u(X,{when:U5,get children(){return u(ctt,{email:U5})}})]}}),Ce(()=>Ce(()=>!1)()&&(()=>{var e=dtt();return e.$$click=()=>{t("/login/verify/abc",{replace:!0})},e.style.setProperty("position","fixed"),e.style.setProperty("top","0"),e.style.setProperty("left","0"),e.style.setProperty("background","white"),e.style.setProperty("color","black"),e.style.setProperty("cursor","pointer"),e})())]}Tr(["click"]);const ftt=["src"];function mtt(t){const e=document.createElement("script"),n=Object.keys(t).filter(o=>o.startsWith("on")),[r,i,s]=sn(t,ftt,n);return setTimeout(()=>Se(e,s,!1,!0)),Te(()=>{Object.entries(i).forEach(([l,c])=>e.addEventListener(/^on:?(.*)/.test(l)?l.startsWith("on:")?RegExp.$1:RegExp.$1.toLowerCase():l,d=>{Object.defineProperties(d,{target:{value:e,enumerable:!0},currentTarget:{value:e,enumerable:!0}}),Array.isArray(c)?c[0](c[1],d):typeof c=="function"&&c.call(null,Object.assign(d))}));const o=typeof r.src=="string"?r.src:r.src(),a=/^(https?:|\w[\.\w-_%]+|)\//.test(o)?"src":"textContent";e[a]!==o&&(e[a]=o,document.head.appendChild(e))}),wt(()=>document.head.contains(e)&&document.head.removeChild(e)),e}var gtt=I("<div>"),ptt=(t,e,n)=>{const r=n||"https://js.hcaptcha.com",i=new URL(r);i.pathname="/1/api.js";for(const[s,o]of Object.entries(t))o&&i.searchParams.set(encodeURIComponent(s),encodeURIComponent(o));return i.searchParams.set("render","explicit"),i.searchParams.set("onload",e),i.toString()},Y4="__hCaptchaOnLoad__",vtt=t=>{const e=()=>ptt({assethost:t.config?.assethost,endpoint:t.config?.endpoint,hl:t.config?.hl,host:t.config?.host,imghost:t.config?.imghost,recaptchacompat:t.config?.recaptchacompat===!1?"off":null,reportapi:t.config?.reportapi,sentry:t.config?.sentry,custom:t.config?.custom},Y4,t.config?.apihost),n=()=>typeof window.hcaptcha<"u",r=()=>{const{isRemoved:T}=s;return n()&&!T};let i;const[s,o]=$a({isRemoved:!1,captchaId:null}),a=T=>{if(!i)return;const $=Object.assign({"open-callback":x,"close-callback":O,"error-callback":C,"chalexpired-callback":S,"expired-callback":y,callback:b},t.config,{sitekey:t.sitekey,tabindex:t.tabindex||0,theme:t.theme||"light",size:t.size||"normal"}),M=hcaptcha.render(i,$);o({isRemoved:!1,captchaId:M}),T&&T()},p={execute:async()=>!r()||!s.captchaId?void 0:await hcaptcha.execute(s.captchaId,{async:!0}),executeSync:()=>{if(!(!r()||!s.captchaId))return hcaptcha.execute(s.captchaId,{async:!1})},getRespKey:()=>s.captchaId?hcaptcha.getRespKey(s.captchaId):null,getResponse:()=>s.captchaId?hcaptcha.getResponse(s.captchaId):null,removeCaptcha:T=>{!r()||!s.captchaId||(o({isRemoved:!0}),hcaptcha.remove(s.captchaId),T&&T())},renderCaptcha:a,resetCaptcha:()=>{!r()||!s.captchaId||hcaptcha.reset(s.captchaId)},setData:T=>{if(!(!r()||!s.captchaId))return hcaptcha.setData(s.captchaId,T)}},v=()=>{window[Y4]=()=>{},a(()=>t.onLoad?.(p))},b=()=>{if(typeof hcaptcha>"u"||s.isRemoved||!s.captchaId||!t.onVerify)return;const T=hcaptcha.getResponse(s.captchaId),$=hcaptcha.getRespKey(s.captchaId);t.onVerify(T,$)},y=()=>{!r()||!s.captchaId||(hcaptcha.reset(s.captchaId),t.onExpire?.())},C=T=>{!r()||!s.captchaId||(hcaptcha.reset(s.captchaId),t.onError?.(T))},x=()=>{r()&&t.onOpen?.()},O=()=>{r()&&t.onClose?.()},S=()=>{r()&&t.onChallengeExpired?.()};return Tn(()=>{n()?v():(window[Y4]=v,mtt({src:e()}))}),wt(()=>{!r()||!s.captchaId||(hcaptcha.reset(s.captchaId),hcaptcha.remove(s.captchaId),window.hcaptcha=void 0)}),(()=>{var T=gtt(),$=i;return typeof $=="function"?Fe($,T):i=T,Te(()=>$t(T,"id",t.id)),T})()},btt=vtt,ytt=btt,Ott=I("<label>"),wtt=I("<form>");const ktt=()=>{const{_:t}=Dt();return{email:{type:"email",name:()=>t({id:"O3oNi5"}),placeholder:()=>t({id:"hV+cYN"}),autocomplete:"email"},password:{minLength:8,type:"password",name:()=>t({id:"8ZsakT"}),placeholder:()=>t({id:"H/BGLa"})},"new-password":{minLength:8,type:"password",autocomplete:"new-password",name:()=>t({id:"7vhWI8"}),placeholder:()=>t({id:"ALmSzh"})},"log-out":{name:()=>t({id:"/QRdA3"})},username:{minLength:2,type:"text",autocomplete:"none",name:()=>t({id:"7sNhEz"}),placeholder:()=>t({id:"8u3L/H"})}}};function gg(t){const e=ktt();return u(rt,{get each(){return t.fields},children:n=>(()=>{var r=Ott();return V(r,n==="log-out"?u(vG,{name:"log-out",get children(){return e["log-out"].name()}}):u(es,ge({required:!0},()=>e[n],{name:n,get label(){return e[n].name()},get placeholder(){return e[n].placeholder()}}))),r})()})}function pg(t){const[e,n]=ve(),r=YE();let i;async function s(o){o.preventDefault();const a=new FormData(o.currentTarget);if(t.captcha){if(!i)return alert("hCaptcha not loaded!");const l=await i.execute();a.set("captcha",l.response)}try{await t.onSubmit(a)}catch(l){n(l)}}return(()=>{var o=wtt();return o.addEventListener("submit",s),V(o,u(Ae,{gap:"lg",get children(){return[Ce(()=>t.children),u(X,{get when(){return e()},get children(){return u(Le,{class:"label",size:"small",get children(){return r(e())}})}})]}}),null),V(o,u(X,{get when(){return t.captcha},get children(){return u(ytt,{get sitekey(){return t.captcha},onLoad:a=>i=a,size:"invisible"})}}),null),o})()}var Stt=I("<a href=/login/auth>");function xtt(){const t=Ng(),{token:e}=_d(),n=Dr();async function r(i){const s=i.get("new-password"),o=!!i.get("log-out");await t.patch("/auth/account/reset_password",{password:s,token:e,remove_sessions:o}),n("/login/auth",{replace:!0})}return[u(cl,{get children(){return u(k,{id:"RfwZxd"})}}),u(pg,{onSubmit:r,get children(){return[u(gg,{fields:["new-password","log-out"]}),u(ot,{type:"submit",get children(){return u(k,{id:"OfhWJH"})}})]}}),(()=>{var i=Stt();return V(i,u(ot,{variant:"text",get children(){return u(k,{id:"jZUk0D"})}})),i})()]}var _tt=I("<a href=..>"),Ctt=I("<div>Mock Submission");function Ett(){const t=Ng(),e=Dr();async function n(r){const i=r.get("email"),s=r.get("password"),o=r.get("captcha");await t.post("/auth/account/create",{email:i,password:s,captcha:o}),hO(i),e("/login/check",{replace:!0})}return[u(cl,{get subtitle(){return u(k,{id:"3T8ziB"})},emoji:"wave",get children(){return u(k,{id:"mAYvqA"})}}),u(pg,{onSubmit:n,get captcha(){return Qn.HCAPTCHA_SITEKEY},get children(){return[u(gg,{fields:["email","password"]}),u(kt,{justify:!0,get children(){return[(()=>{var r=_tt();return V(r,u(ot,{variant:"text",get children(){return[u(dO,ge(()=>at("1.2em")))," ",u(k,{id:"iH8pgl"})]}})),r})(),u(ot,{type:"submit",get children(){return u(k,{id:"fgLNSM"})}})]}})]}}),Ce(()=>Ce(()=>!1)()&&(()=>{var r=Ctt();return r.$$click=()=>{hO("insert@stoat.chat"),e("/login/check",{replace:!0})},r.style.setProperty("position","fixed"),r.style.setProperty("top","0"),r.style.setProperty("left","0"),r.style.setProperty("background","white"),r.style.setProperty("color","black"),r.style.setProperty("cursor","pointer"),r})())]}Tr(["click"]);var Ttt=I("<span>");function Dtt(){const t=Ng(),e=_d(),[n,r]=ve(!1);return Tn(()=>{t.put("/auth/account/delete",{token:e.token}).then(()=>r(!0)).catch(()=>r("error"))}),[u(cl,{children:"Delete Account"}),(()=>{var i=Ttt();return V(i,u(Me,{fallback:"Please wait...",get children(){return[u(Z,{get when(){return n()==="error"},children:"Error occurred, please email support."}),u(Z,{get when(){return n()===!0},children:"Account has been queued for deletion!"})]}})),i})()]}var Att=I('<svg xmlns=http://www.w3.org/2000/svg width=500 height=94 fill=none><path d="M478.909 70.636q-5.59 0-9.636-2.136-4.023-2.16-6.205-6.182-2.159-4.045-2.159-9.682 0-5.409 2.182-9.454t6.159-6.296 9.386-2.25q3.955 0 7.159 1.228 3.205 1.227 5.478 3.568 2.273 2.318 3.5 5.636T496 52.545v2.91h-31.182v-6.91h19.637q-.024-1.5-.773-2.636a4.9 4.9 0 0 0-1.977-1.795q-1.228-.66-2.796-.66-1.523 0-2.795.66a5.3 5.3 0 0 0-2.046 1.772q-.75 1.136-.795 2.66V56q0 1.681.704 3A5.1 5.1 0 0 0 476 61.068q1.318.75 3.182.75 1.295 0 2.363-.363 1.092-.364 1.864-1.046.773-.704 1.136-1.682H496q-.591 3.636-2.795 6.319-2.205 2.658-5.841 4.136-3.614 1.454-8.455 1.454M440.188 70.636q-5.682 0-9.728-2.25-4.046-2.272-6.204-6.318-2.16-4.068-2.159-9.432 0-5.363 2.159-9.409 2.159-4.068 6.204-6.318 4.046-2.273 9.728-2.273 5.136 0 8.886 1.864 3.772 1.841 5.841 5.227 2.069 3.365 2.091 7.91h-11.637q-.25-2.751-1.591-4.182Q442.461 44 440.369 44q-1.636 0-2.863.955-1.228.931-1.909 2.84-.682 1.887-.682 4.75t.682 4.773q.68 1.887 1.909 2.841 1.227.932 2.863.932 1.387 0 2.455-.636 1.068-.66 1.727-1.91.682-1.272.818-3.09h11.637q-.068 4.613-2.114 8.045-2.046 3.409-5.795 5.273-3.728 1.863-8.909 1.863M394.54 50.364V70h-12.546V35.09h11.909v6.637h.364q1.137-3.318 4-5.204 2.886-1.887 6.727-1.887 3.705 0 6.432 1.705 2.75 1.682 4.25 4.636 1.522 2.955 1.5 6.75V70h-12.545V50.364q.022-2.592-1.319-4.068-1.318-1.478-3.681-1.478-1.546 0-2.705.682-1.136.66-1.75 1.91-.613 1.226-.636 2.954M353.909 70.546q-3.34 0-5.909-1.092-2.545-1.113-4-3.363t-1.455-5.727q0-2.864.978-4.887.976-2.045 2.727-3.34 1.75-1.296 4.068-1.978 2.341-.681 5.046-.886 2.931-.228 4.704-.546 1.796-.341 2.591-.931.796-.614.796-1.614v-.091q0-1.364-1.046-2.091t-2.682-.727q-1.795 0-2.932.795-1.113.772-1.34 2.387h-11.546a11.9 11.9 0 0 1 2.023-5.864q1.818-2.704 5.295-4.318 3.477-1.637 8.682-1.637 3.75 0 6.727.887 2.978.863 5.069 2.432 2.09 1.545 3.181 3.636Q376 43.659 376 46.09V70h-11.727v-4.91H364q-1.045 1.956-2.545 3.16a9.4 9.4 0 0 1-3.387 1.75q-1.886.546-4.159.546m4.091-7.91q1.432 0 2.682-.59a5.17 5.17 0 0 0 2.068-1.705q.795-1.113.795-2.705v-2.909q-.5.205-1.068.387-.545.181-1.182.34-.613.16-1.318.296-.682.136-1.432.25-1.454.227-2.386.75-.91.5-1.364 1.25a3.15 3.15 0 0 0-.431 1.636q0 1.455 1.022 2.228 1.023.772 2.614.772M339.062 35.09v9.092h-23V35.09zm-18.545-8.363h12.545v32.046q0 .728.25 1.227.25.477.773.727.523.228 1.341.228a7.5 7.5 0 0 0 1.318-.137q.773-.135 1.137-.227l1.818 8.818q-.841.25-2.409.614-1.546.363-3.682.477-4.319.227-7.25-.886-2.932-1.137-4.409-3.568-1.477-2.433-1.432-6.092zM312.528 46.455h-11.545a3.2 3.2 0 0 0-.75-1.841q-.659-.773-1.705-1.182-1.022-.432-2.272-.432-1.614 0-2.773.59-1.16.592-1.136 1.683-.024.772.659 1.431.704.66 2.704 1.023L302.801 49q5.364.977 7.977 3.295 2.636 2.295 2.66 6.16-.024 3.727-2.228 6.477-2.181 2.727-5.977 4.227-3.772 1.477-8.614 1.477-8 0-12.522-3.272-4.5-3.273-5.023-8.637h12.454q.25 1.659 1.637 2.569 1.409.886 3.545.886 1.728 0 2.841-.591 1.137-.591 1.159-1.682-.022-1-1-1.59-.954-.592-3-.955l-6.182-1.091q-5.34-.932-8-3.546-2.658-2.613-2.636-6.727-.023-3.636 1.909-6.16 1.954-2.544 5.568-3.863 3.637-1.34 8.614-1.34 7.568 0 11.932 3.136 4.386 3.136 4.613 8.682M251.79 50.364V70h-12.546V35.09h11.909v6.637h.364q1.137-3.318 4-5.204 2.886-1.887 6.727-1.887 3.705 0 6.432 1.705 2.75 1.682 4.25 4.636 1.522 2.955 1.5 6.75V70h-12.545V50.364q.022-2.592-1.319-4.068-1.318-1.478-3.681-1.478-1.546 0-2.705.682-1.136.66-1.75 1.91-.613 1.226-.636 2.954M233.074 23.455V70h-12.636V23.454zM202.75 35.09v9.092h-23V35.09zm-18.545-8.363h12.545v32.046q0 .728.25 1.227.25.477.773.727.522.228 1.341.228a7.5 7.5 0 0 0 1.318-.137q.773-.135 1.136-.227l1.818 8.818q-.84.25-2.409.614-1.545.363-3.682.477-4.317.227-7.25-.886-2.931-1.137-4.409-3.568-1.477-2.433-1.431-6.092zM175.54 23.455V70h-12.546V23.454zM139.812 70.636q-5.681 0-9.727-2.25-4.046-2.272-6.204-6.318-2.16-4.068-2.159-9.432 0-5.363 2.159-9.409 2.158-4.068 6.204-6.318 4.046-2.273 9.727-2.273 5.682 0 9.728 2.273 4.046 2.25 6.204 6.318 2.16 4.046 2.159 9.41 0 5.364-2.159 9.431-2.158 4.045-6.204 6.318-4.046 2.25-9.728 2.25m.091-9.272q1.592 0 2.75-1.069 1.16-1.068 1.796-3.045t.636-4.705q0-2.75-.636-4.704-.636-1.977-1.796-3.046-1.158-1.068-2.75-1.068-1.681 0-2.886 1.069t-1.841 3.045q-.636 1.954-.636 4.704 0 2.728.636 4.705t1.841 3.045q1.204 1.07 2.886 1.069M120.489 35.09 108.761 70H94.216L82.489 35.09H95.67l5.636 23.092h.363l5.637-23.091zM63.972 70.636q-5.592 0-9.637-2.136-4.023-2.16-6.204-6.182-2.16-4.045-2.16-9.682 0-5.409 2.182-9.454t6.16-6.296 9.386-2.25q3.955 0 7.159 1.228t5.477 3.568q2.273 2.318 3.5 5.636t1.228 7.477v2.91H49.88v-6.91h19.636q-.023-1.5-.773-2.636a4.9 4.9 0 0 0-1.977-1.795q-1.227-.66-2.795-.66-1.523 0-2.796.66a5.3 5.3 0 0 0-2.045 1.772q-.75 1.136-.796 2.66V56q0 1.681.705 3a5.1 5.1 0 0 0 2.023 2.068q1.318.75 3.181.75 1.296 0 2.364-.363 1.09-.364 1.864-1.046.773-.704 1.136-1.682h11.454q-.59 3.636-2.795 6.319-2.205 2.658-5.84 4.136-3.615 1.454-8.455 1.454M5.063 70V23.454h20.09q5.183 0 9.069 1.887t6.045 5.432 2.16 8.5q0 5-2.228 8.432-2.205 3.431-6.205 5.181-3.977 1.75-9.295 1.75h-12v-9.818h9.454q2.227 0 3.796-.545 1.59-.57 2.432-1.796.863-1.227.863-3.204 0-2-.863-3.25-.841-1.273-2.432-1.864-1.568-.614-3.796-.614H17.7V70zm27.272-21.364L43.972 70H30.244L18.881 48.636z">');const zT=(t={})=>(()=>{var e=Att();return Se(e,t,!0,!0),e})();var Ptt=I("<h1>"),Rtt=I("<b><span>"),Mtt=I("<span>"),Itt=I("<a href=/login/auth>"),$tt=I("<a href=/login/create>"),Ltt=I("<wbr>"),Ntt=I("<br>");function Ftt(){const t=Ht(),{lifecycle:e,isLoggedIn:n,isError:r}=wu();return u(Me,{get fallback(){return[u(X,{get when(){return n()},get children(){return u(Ph,{get href(){return t.layout.popNextPath()??"/app"}})}}),u(Ae,{gap:"xl",get children(){return[u(zT,{get class(){return hn({width:"60%",margin:"auto",fill:"var(--md-sys-color-on-surface)"})}}),u(Ae,{get children(){return[(()=>{var i=Rtt(),s=i.firstChild;return i.style.setProperty("font-weight","800"),i.style.setProperty("font-size","1.4em"),i.style.setProperty("display","flex"),i.style.setProperty("flex-direction","column"),i.style.setProperty("align-items","center"),i.style.setProperty("text-align","center"),V(s,u(k,{id:"ohmwVN",components:{0:Ltt(),1:Ntt()}})),i})(),(()=>{var i=Mtt();return i.style.setProperty("text-align","center"),i.style.setProperty("opacity","0.5"),V(i,u(k,{id:"+bdmu3"})),i})()]}}),u(Ae,{get children(){return[(()=>{var i=Itt();return V(i,u(Ae,{get children(){return u(ot,{get children(){return u(k,{id:"ADVQ46"})}})}})),i})(),(()=>{var i=$tt();return V(i,u(Ae,{get children(){return u(ot,{variant:"tonal",get children(){return u(k,{id:"mErq7F"})}})}})),i})()]}})]}})]},get children(){return u(Z,{get when(){return r()},get children(){return[u(Me,{fallback:"an unknown error occurred",get children(){return u(Z,{get when(){return e.permanentError==="InvalidSession"},get children(){var i=Ptt();return V(i,u(k,{id:"fhYw6u"})),i}})}}),u(ot,{variant:"filled",onPress:()=>e.transition({type:av.Dismiss}),get children(){return u(k,{id:"zga9sT"})}})]}})}})}var Btt=I("<a href=/login/reset>"),ztt=I("<a href=/login/resend>"),Qtt=I("<a href=..>");function Utt(){const t=Ht(),e=Ne(),{lifecycle:n,isLoggedIn:r,login:i,selectUsername:s}=wu();async function o(l){const c=l.get("email"),d=l.get("password");await i({email:c,password:d},e)}async function a(l){const c=l.get("username");await s(c)}return u(Me,{get fallback(){return[u(cl,{get subtitle(){return u(k,{id:"+au1ux"})},emoji:"wave",get children(){return u(k,{id:"klH6ct"})}}),u(pg,{onSubmit:o,get children(){return[u(gg,{fields:["email","password"]}),u(Ae,{gap:"xl",align:!0,get children(){return[(()=>{var l=Btt();return V(l,u(ot,{variant:"text",get children(){return u(k,{id:"RfwZxd"})}})),l})(),(()=>{var l=ztt();return V(l,u(ot,{variant:"text",get children(){return u(k,{id:"HT2UjS"})}})),l})()]}}),u(kt,{align:!0,justify:!0,get children(){return[(()=>{var l=Qtt();return V(l,u(ot,{variant:"text",get children(){return[u(dO,ge(()=>at("1.2em")))," ",u(k,{id:"iH8pgl"})]}})),l})(),u(ot,{type:"submit",get children(){return u(k,{id:"z0t9bb"})}})]}})]}})]},get children(){return[u(Z,{get when(){return r()},get children(){return u(Ph,{get href(){return t.layout.popNextPath()??"/app"}})}}),u(Z,{get when(){return n.state()===Ti.LoggingIn},get children(){return u(Zr,{})}}),u(Z,{get when(){return n.state()===Ti.Onboarding},get children(){return[u(cl,{get children(){return u(k,{id:"khEQ02"})}}),u(Le,{get children(){return u(k,{id:"/ovEwK"})}}),u(pg,{onSubmit:a,get children(){return[u(gg,{fields:["username"]}),u(kt,{align:!0,justify:!0,get children(){return[u(ot,{variant:"text",onPress:()=>n.transition({type:av.Cancel}),get children(){return[u(dO,ge(()=>at("1.2em")))," ",u(k,{id:"dEgA5A"})]}}),u(ot,{type:"submit",get children(){return u(k,{id:"7VpPHA"})}})]}})]}})]}})]}})}var Vtt=I("<a href=/login/auth>");function jtt(){const t=Ng(),e=Dr();async function n(r){const i=r.get("email"),s=r.get("captcha");await t.post("/auth/account/reverify",{email:i,captcha:s}),hO(i),e("/login/check",{replace:!0})}return[u(cl,{get children(){return u(k,{id:"HT2UjS"})}}),u(pg,{onSubmit:n,get captcha(){return Qn.HCAPTCHA_SITEKEY},get children(){return[u(gg,{fields:["email"]}),u(ot,{type:"submit",get children(){return u(k,{id:"MyjAbr"})}})]}}),(()=>{var r=Vtt();return V(r,u(ot,{variant:"text",get children(){return u(k,{id:"jZUk0D"})}})),r})()]}var qtt=I("<a href=/login/auth>"),Htt=I("<div>Mock Reset Screen");function Wtt(){const t=Ng(),e=Dr();async function n(r){const i=r.get("email"),s=r.get("captcha");await t.post("/auth/account/reset_password",{email:i,captcha:s}),hO(i),e("/login/check",{replace:!0})}return[u(cl,{get children(){return u(k,{id:"RfwZxd"})}}),u(pg,{onSubmit:n,get captcha(){return Qn.HCAPTCHA_SITEKEY},get children(){return[u(gg,{fields:["email"]}),u(ot,{type:"submit",get children(){return u(k,{id:"OfhWJH"})}})]}}),(()=>{var r=qtt();return V(r,u(ot,{variant:"text",get children(){return u(k,{id:"jZUk0D"})}})),r})(),Ce(()=>Ce(()=>!1)()&&(()=>{var r=Htt();return r.$$click=()=>{e("/login/reset/abc",{replace:!0})},r.style.setProperty("position","fixed"),r.style.setProperty("top","0"),r.style.setProperty("left","0"),r.style.setProperty("background","white"),r.style.setProperty("color","black"),r.style.setProperty("cursor","pointer"),r})())]}Tr(["click"]);var e$=I("<a href=/login/auth>");function Xtt(){const t=Ng(),e=_d(),n=Ne(),r=Dr(),{login:i}=wu(),[s,o]=ve({state:"verifying"});Tn(async()=>{try{const l=await t.post(`/auth/account/verify/${e.token}`);o({state:"success",mfa_ticket:l.ticket?.token})}catch(l){o({state:"error",error:l})}});async function a(){const l=s();l.state==="success"&&l.mfa_ticket&&(await i({mfa_ticket:l.mfa_ticket},n),r("/login/auth",{replace:!0}))}return u(Me,{get children(){return[u(Z,{get when(){return s().state==="verifying"},get children(){return[u(cl,{get children(){return u(k,{id:"W5gWH3"})}}),u(Zr,{})]}}),u(Z,{get when(){return s().state==="error"},get children(){return[u(cl,{get children(){return u(k,{id:"YlFpiA"})}}),(()=>{var l=e$();return V(l,u(ot,{variant:"text",get children(){return u(k,{id:"jZUk0D"})}})),l})()]}}),u(Z,{get when(){return s().state==="success"},get children(){return[u(cl,{get children(){return u(k,{id:"O/gffD"})}}),u(X,{get when(){return"mfa_ticket"in s()},get children(){return u(ot,{onPress:a,get children(){return u(k,{id:"aYjP9k"})}})}}),(()=>{var l=e$();return V(l,u(ot,{variant:"text",get children(){return u(k,{id:"jZUk0D"})}})),l})()]}})]}})}function TG(t){const{_:e}=Dt(),n=Ht(),r=()=>n.voice.getUserMuted(t.userId)?"by-user":t.muted||!1;return[u(X,{get when(){return r()},get children(){return u(yt,{size:16,get color(){return r()==="by-user"?"var(--md-sys-color-error)":void 0},get"use:floating"(){return{tooltip:r()==="by-user"?{placement:"top",content:e({id:"mD1zO3"})}:void 0}},children:"mic_off"})}}),u(X,{get when(){return t.deafened},get children(){return u(yt,{size:16,children:"headset_off"})}}),u(X,{get when(){return t.camera},get children(){return u(yt,{size:16,children:"camera_video"})}}),u(X,{get when(){return t.screenshare},get children(){return u(yt,{size:16,children:"screen_share"})}})]}var Ytt=I("<a>");function DG(t){const e=xu(),{_:n}=Dt();return u(Gtt,{get children(){return[u(X,{get when(){return t.size==="xs"},get children(){var r=Ytt();return V(r,u(On,{variant:"standard",get size(){return t.size},get children(){return u(yt,{children:"arrow_top_left"})}})),Te(()=>$t(r,"href",e.channel()?.path)),r}}),u(On,{get size(){return t.size},get variant(){return e.microphone()?"filled":"tonal"},onPress:()=>e.toggleMute(),get"use:floating"(){return{tooltip:e.speakingPermission?void 0:{placement:"top",content:n({id:"Nar+Yz"})}}},get isDisabled(){return!e.speakingPermission},get children(){return u(X,{get when(){return e.microphone()},get fallback(){return u(yt,{children:"mic_off"})},get children(){return u(yt,{children:"mic"})}})}}),u(On,{get size(){return t.size},get variant(){return e.deafen()||!e.listenPermission?"tonal":"filled"},onPress:()=>e.toggleDeafen(),get"use:floating"(){return{tooltip:e.listenPermission?void 0:{placement:"top",content:n({id:"Nar+Yz"})}}},get isDisabled(){return!e.listenPermission},get children(){return u(X,{get when(){return e.deafen()||!e.listenPermission},get fallback(){return u(yt,{children:"headset"})},get children(){return u(yt,{children:"headset_off"})}})}}),u(On,{get size(){return t.size},variant:"tonal","use:floating":{tooltip:{placement:"top",content:"Coming soon! "}},isDisabled:!0,get children(){return u(yt,{children:"camera_video"})}}),u(On,{get size(){return t.size},variant:"tonal","use:floating":{tooltip:{placement:"top",content:"Coming soon! "}},isDisabled:!0,get children(){return u(yt,{children:"screen_share"})}}),u(ot,{get size(){return t.size},variant:"_error",onPress:()=>e.disconnect(),get children(){return u(yt,{children:"call_end"})}})]}})}const Gtt=H("div",{base:{flexShrink:0,gap:"var(--gap-md)",padding:"var(--gap-md)",display:"flex",width:"fit-content",justifyContent:"center",alignSelf:"center",borderRadius:"var(--borderRadius-full)",background:"var(--md-sys-color-surface-container)"}});function AG(){const t=xu();return u(Ztt,{get status(){return t.state()},get children(){return u(Me,{get children(){return[u(Z,{get when(){return t.state()==="CONNECTED"},get children(){return[u(yt,{children:"wifi_tethering"})," ",u(k,{id:"QHcLEN"})]}}),u(Z,{get when(){return t.state()==="CONNECTING"},get children(){return[u(yt,{children:"wifi_tethering"})," ",u(k,{id:"9zb2WA"})]}}),u(Z,{get when(){return t.state()==="DISCONNECTED"},get children(){return[u(yt,{children:"wifi_tethering_error"})," ",u(k,{id:"ZYnwzF"})]}}),u(Z,{get when(){return t.state()==="RECONNECTING"},get children(){return[u(yt,{children:"wifi_tethering"})," ",u(k,{id:"BakXLg"})]}})]}})}})}const Ztt=H("div",{base:{flexShrink:0,gap:"var(--gap-md)",display:"flex",justifyContent:"center"},variants:{status:{READY:{},CONNECTED:{color:"var(--md-sys-color-primary)"},CONNECTING:{color:"var(--md-sys-color-outline)"},DISCONNECTED:{color:"var(--md-sys-color-outline)"},RECONNECTING:{color:"var(--md-sys-color-outline)"}}}});var PG=I("<div>");function Ktt(){return u(Jtt,{get children(){return[u(ent,{get children(){return u(Bw,{get children(){return u(tnt,{})}})}}),u(AG,{}),u(DG,{size:"sm"})]}})}const Jtt=H("div",{base:{minHeight:0,height:"100%",width:"100%",gap:"var(--gap-md)",padding:"var(--gap-md)",display:"flex",flexDirection:"column"}}),ent=H("div",{base:{flexGrow:1,minHeight:0,overflowY:"scroll"}});function tnt(){const t=Cw([{source:Ee.Source.Camera,withPlaceholder:!0},{source:Ee.Source.ScreenShare,withPlaceholder:!1}],{onlySubscribed:!1});return u(nnt,{get children(){return u(q6,{tracks:t,children:()=>u(rnt,{})})}})}const nnt=H("div",{base:{display:"grid",gap:"var(--gap-md)",padding:"var(--gap-md)",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))"}});function rnt(){const t=Nze();return u(Me,{get fallback(){return u(int,{})},get children(){return u(Z,{get when(){return t.source===Ee.Source.ScreenShare},get children(){return u(ont,{})}})}})}function int(){const t=Mg(),e=xw(),n=_w({participant:t,source:Ee.Source.Microphone}),r=W6(t),i=Dg(t.identity);return(()=>{var s=PG();return Fe(Xt,s,()=>({userCard:{user:i().user,member:i().member},contextMenu:()=>u(cf,{get user(){return i().user},get member(){return i().member},inVoice:!0})})),V(s,u(Me,{get fallback(){return u(snt,{get children(){return u(zt,{get src(){return i().avatar},get fallback(){return i().username},size:48,interactive:!1})}})},get children(){return u(Z,{get when(){return Sw(e)},get children(){return u(CX,{style:{"grid-area":"1/1"},trackRef:e,manageSubscription:!0})}})}}),null),V(s,u(MG,{get children(){return u(IG,{get children(){return[u(jr,{get children(){return i().username}}),u(TG,{get userId(){return t.identity},get muted(){return n()}})]}})}}),null),Te(()=>ut(s,RG({speaking:r()}))),s})()}const snt=H("div",{base:{gridArea:"1/1",display:"grid",placeItems:"center"}});function ont(){const t=Mg(),e=xw(),n=Dg(t.identity),r=_w({participant:t,source:Ee.Source.ScreenShareAudio});return(()=>{var i=PG();return V(i,u(CX,{style:{"grid-area":"1/1"},trackRef:e,manageSubscription:!0}),null),V(i,u(MG,{showOnHover:!0,get children(){return u(IG,{get children(){return[u(jr,{get children(){return n().username}}),u(X,{get when(){return r()},get children(){return u(yt,{size:18,children:"no_sound"})}})]}})}}),null),Te(()=>ut(i,RG()+" group")),i})()}const RG=nn({base:{display:"grid",aspectRatio:"16/9",transition:".3s ease all",borderRadius:"var(--borderRadius-lg)",color:"var(--md-sys-color-on-surface)",background:"#0002",overflow:"hidden",outlineWidth:"3px",outlineStyle:"solid",outlineOffset:"-3px",outlineColor:"transparent"},variants:{speaking:{true:{outlineColor:"var(--md-sys-color-primary)"}}}}),MG=H("div",{base:{minWidth:0,gridArea:"1/1",padding:"var(--gap-md) var(--gap-lg)",opacity:1,display:"flex",alignItems:"end",flexDirection:"row",transition:"var(--transitions-fast) all",transitionTimingFunction:"ease"},variants:{showOnHover:{true:{opacity:0,_groupHover:{opacity:1}},false:{opacity:1}}},defaultVariants:{showOnHover:!1}}),IG=H("div",{base:{minWidth:0,display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"space-between",_first:{flexGrow:1}}});function ant(){const t=Cw([{source:Ee.Source.Microphone,withPlaceholder:!0}],{onlySubscribed:!1});return u(unt,{get children(){return[u(kt,{get children(){return u(q6,{tracks:t,children:()=>u(lnt,{})})}}),u(AG,{}),u(DG,{size:"xs"})]}})}function lnt(){const t=Mg(),e=_w({participant:t,source:Ee.Source.Microphone}),n=W6(t),r=Dg(t.identity);return u(cnt,{get speaking(){return n()},get children(){return[u(zt,{size:24,get src(){return r().avatar},get fallback(){return r().username}}),u(X,{get when(){return e()},get children(){return u(yt,{children:"mic_off"})}})]}})}const cnt=H("div",{base:{display:"grid",width:"24px",height:"24px","& *":{gridArea:"1/1"}},variants:{speaking:{true:{"& svg":{outlineOffset:"1px",outline:"2px solid var(--md-sys-color-primary)",borderRadius:"var(--borderRadius-circle)"}}}}}),unt=H("div",{base:{userSelect:"none",pointerEvents:"all",width:"100%",height:"100%",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",gap:"var(--gap-md)",padding:"var(--gap-md)",borderRadius:"var(--borderRadius-lg)",background:"var(--md-sys-color-secondary-container)"}});function dnt(t){const e=xu(),{_:n}=Dt(),i=ew(()=>[...t.channel.voiceParticipants.keys()]);function s(){const o=i().map(a=>a?.username).filter(a=>a);return o.length?n({id:"uJTQKq",values:{0:o.join(", ")}}):n({id:"ss8736"})}return u(hnt,{onClick:()=>e.connect(t.channel),get children(){return[u(En,{}),u(kt,{get children(){return u(rt,{get each(){return i()},get fallback(){return u(yt,{size:24,children:"voice_chat"})},children:o=>u(zt,{size:24,get src(){return o?.avatar},get fallback(){return o?.username}})})}}),u(Le,{class:"title",size:"large",get children(){return u(X,{get when(){return e.state()==="READY"},get fallback(){return u(k,{id:"TBK3Ey"})},get children(){return u(k,{id:"QSdio+"})}})}}),u(Le,{class:"body",get children(){return s()}})]}})}const hnt=H("div",{base:{position:"relative",borderRadius:"var(--borderRadius-lg)",height:"100%",justifyContent:"center",display:"flex",flexDirection:"column",gap:"var(--gap-sm)",padding:"var(--gap-lg)",color:"var(--md-sys-color-on-surface)"}});var fnt=I("<div>"),mnt=I("<div><div>");const $G=yr(null);function gnt(t){const e=xu(),[n,r]=ve({type:"floating",corner:"bottom-right"}),[i,s]=ve(),[o,a]=ve({x:0,y:0});function l(){const h=n();switch(h.type){case"fixed":return{transform:`translate(${h.x}px, ${h.y}px)`,width:h.width+"px",height:"40vh"};case"floating":return{"--width":"280px","--height":"158px","--padding-x":"32px","--padding-y":"96px",transform:`translate(${h.corner==="top-left"||h.corner==="bottom-left"?"calc(var(--padding-x) + var(--offset-x))":"calc(100vw - var(--padding-x) - var(--width) + var(--offset-x))"}, ${h.corner==="top-left"||h.corner==="top-right"?"calc(var(--padding-y) + var(--offset-y))":"calc(100vh - var(--padding-y) - var(--height) + var(--offset-y))"})`,width:"var(--width)",height:"var(--height)"}}}dt(Zt(i,h=>{if(h){const f=new AbortController;document.addEventListener("mousemove",m=>{if(n().type!=="floating")return f.abort();a(p=>({x:p.x+m.movementX,y:p.y+m.movementY}))},{signal:f.signal}),document.addEventListener("mouseup",m=>{Nt(()=>{s(!1);const g=m.clientX<window.outerWidth/2,p=m.clientY<window.outerHeight/2;r({type:"floating",corner:g?p?"top-left":"bottom-left":p?"top-right":"bottom-right"})})},{signal:f.signal}),wt(()=>f.abort())}}));function c(h){r(h?{type:"fixed",width:h.width,x:h.x,y:h.y,channel:h.channel}:{type:"floating",corner:"bottom-right"})}function d(h){if(!document.startViewTransition){c(h);return}document.startViewTransition(()=>c(h))}return u($G.Provider,{value:d,get children(){return[Ce(()=>t.children),u(uu,{ref(h){var f=document.getElementById("floating");typeof f=="function"&&f(h)},get children(){var h=fnt();return h.$$mousedown=()=>{n().type==="floating"&&Nt(()=>{s(!0),a({x:0,y:0})})},V(h,u(Me,{get children(){return[u(Z,{get when(){return n().type==="fixed"},get children(){return u(LG,{get channel(){return n().channel}})}}),u(Z,{get when(){return n().type==="floating"},get children(){return u(Bw,{get children(){return u(ant,{})}})}})]}})),Te(f=>xd(h,{position:"fixed","z-index":10,"transition-duration":i()?".2s":e.room()&&".3s","transition-property":"all","transition-timing-function":i()?"cubic-bezier(0, 1.67, 0.85, 0.8)":"cubic-bezier(1, 0, 0, 1)",...l(),"pointer-events":"none",cursor:i()?"grabbing":"grab","--offset-x":`${i()?o().x:0}px`,"--offset-y":`${i()?o().y:0}px`},f)),h}})]}})}function pnt(t){const e=xu(),[n,r]=ve(0),[i,s]=ve(),o=Nn($G),a=()=>e.channel()&&e.channel()?.id!==t.channel.id;return dt(()=>{const l=i()?.getBoundingClientRect(),c=n(),d=e.channel(),h=!d||d.id===t.channel.id;l?.left&&c&&(h?o({x:l.left,y:l.top,width:c,channel:t.channel}):o())}),wt(()=>o()),(()=>{var l=mnt(),c=l.firstChild;return Fe(s,l),V(c,u(iGe,{children:({width:d})=>(r(d),null)})),V(l,u(X,{get when(){return a()},get children(){return u(LG,{get channel(){return t.channel}})}}),null),Te(d=>{var h=hn({position:"relative",pointerEvents:"none"}),f=hn({position:"absolute",width:"100%"});return h!==d.e&&ut(l,d.e=h),f!==d.t&&ut(c,d.t=f),d},{e:void 0,t:void 0}),l})()}function LG(t){const e=xu(),n=()=>e.channel()?.id===t.channel.id;return u(vnt,{get children(){return u(bnt,{get active(){return n()},get children(){return u(X,{get when(){return n()},get fallback(){return u(dnt,{get channel(){return t.channel}})},get children(){return u(Ktt,{})}})}})}})}const vnt=H("div",{base:{top:"var(--gap-md)",padding:"var(--gap-md)",width:"100%",position:"absolute",zIndex:2,userSelect:"none",display:"flex",alignItems:"center",flexDirection:"column"}}),bnt=H("div",{base:{pointerEvents:"all",maxWidth:"100%",transition:"var(--transitions-fast) all",transitionTimingFunction:"ease-in-out",borderRadius:"var(--borderRadius-lg)",background:"var(--md-sys-color-secondary-container)"},variants:{active:{true:{width:"100%",height:"40vh"},false:{width:"360px",height:"120px",cursor:"pointer"}}},defaultVariants:{active:!1}});Tr(["mousedown"]);function Bw(t){const e=H6(),n=xu();return u(X,{get when(){return Ce(()=>!!(e?.()&&n.state()==="CONNECTED"))()&&(!t.channelId||t.channelId===n.channel()?.id)},get fallback(){return t.fallback},get children(){return t.children}})}function ynt(t){return typeof t>"u"?!1:Ont(t)||wnt(t)}function Ont(t){var e;return t?t.hasOwnProperty("participant")&&t.hasOwnProperty("source")&&t.hasOwnProperty("track")&&typeof((e=t.publication)==null?void 0:e.track)<"u":!1}function wnt(t){return t?t.hasOwnProperty("participant")&&t.hasOwnProperty("source")&&t.hasOwnProperty("publication")&&typeof t.publication<"u":!1}function knt(t){return t?t.hasOwnProperty("participant")&&t.hasOwnProperty("source")&&typeof t.publication>"u":!1}function Snt(t){if(typeof t=="string"||typeof t=="number")return`${t}`;if(knt(t))return`${t.participant.identity}_${t.source}_placeholder`;if(ynt(t))return`${t.participant.identity}_${t.publication.source}_${t.publication.trackSid}`;throw new Error(`Can't generate a id for the given track reference: ${t}`)}function xnt(t){return t instanceof qW}var _nt=[xe.ConnectionStateChanged,xe.RoomMetadataChanged,xe.ActiveSpeakersChanged,xe.ConnectionQualityChanged,xe.ParticipantConnected,xe.ParticipantDisconnected,xe.ParticipantPermissionsChanged,xe.ParticipantMetadataChanged,xe.TrackMuted,xe.TrackUnmuted,xe.TrackPublished,xe.TrackUnpublished,xe.TrackStreamStateChanged,xe.TrackSubscriptionFailed,xe.TrackSubscriptionPermissionChanged,xe.TrackSubscriptionStatusChanged];[..._nt,xe.LocalTrackPublished,xe.LocalTrackUnpublished];we.TrackPublished,we.TrackUnpublished,we.TrackMuted,we.TrackUnmuted,we.TrackStreamStateChanged,we.TrackSubscribed,we.TrackUnsubscribed,we.TrackSubscriptionPermissionChanged,we.TrackSubscriptionFailed,we.LocalTrackPublished,we.LocalTrackUnpublished;var Cnt=[we.ConnectionQualityChanged,we.IsSpeakingChanged,we.ParticipantMetadataChanged,we.ParticipantPermissionsChanged,we.TrackMuted,we.TrackUnmuted,we.TrackPublished,we.TrackUnpublished,we.TrackStreamStateChanged,we.TrackSubscriptionFailed,we.TrackSubscriptionPermissionChanged,we.TrackSubscriptionStatusChanged];[...Cnt,we.LocalTrackPublished,we.LocalTrackUnpublished];var Ent=XW.getLogger("lk-components-js");Ent.setDefaultLevel("WARN");new TextEncoder;new TextDecoder;var Tnt=I("<div>");function Dnt(){const t=xu(),e=Ht(),n=Cw([Ee.Source.Microphone,Ee.Source.ScreenShareAudio,Ee.Source.Unknown],{updateOnlyOn:[],onlySubscribed:!1}),r=ke(()=>n().filter(i=>!xnt(i.participant)&&i.publication.kind===Ee.Kind.Audio));return dt(()=>{const i=r();console.info("[rtc] filtered tracks",r());for(const s of i)s.publication.setSubscribed(!0),console.info(s.publication)}),(()=>{var i=Tnt();return i.style.setProperty("display","none"),V(i,u(Nq,{get each(){return r()},by:s=>Snt(s),children:s=>u(Vze,{get trackRef(){return s()},get volume(){return e.voice.outputVolume*e.voice.getUserVolume(s().participant.identity)},get muted(){return e.voice.getUserMuted(s().participant.identity)||t.deafen()},enableBoosting:!0})})),i})()}class Ant{#e;channel;#t;room;#n;state;#r;deafen;#i;microphone;#o;video;#a;screenshare;#s;constructor(e){this.#e=e;const[n,r]=ve();this.channel=n,this.#t=r;const[i,s]=ve();this.room=i,this.#n=s;const[o,a]=ve("READY");this.state=o,this.#r=a;const[l,c]=ve(!1);this.deafen=l,this.#i=c;const[d,h]=ve(!1);this.microphone=d,this.#o=h;const[f,m]=ve(!1);this.video=f,this.#a=m;const[g,p]=ve(!1);this.screenshare=g,this.#s=p}async connect(e,n){this.disconnect();const r=new au({audioCaptureDefaults:{deviceId:this.#e.preferredAudioInputDevice,echoCancellation:this.#e.echoCancellation,noiseSuppression:this.#e.noiseSupression},audioOutput:{deviceId:this.#e.preferredAudioOutputDevice}});Nt(()=>{this.#n(r),this.#t(e),this.#r("CONNECTING"),this.#o(!1),this.#i(!1),this.#a(!1),this.#s(!1),this.speakingPermission&&r.localParticipant.setMicrophoneEnabled(!0).then(i=>this.#o(typeof i<"u"))}),r.addListener("connected",()=>this.#r("CONNECTED")),r.addListener("disconnected",()=>this.#r("DISCONNECTED")),n||(n=await e.joinCall("worldwide")),await r.connect(n.url,n.token,{autoSubscribe:!1})}disconnect(){const e=this.room();e&&(e.removeAllListeners(),e.disconnect(),Nt(()=>{this.#r("READY"),this.#n(void 0),this.#t(void 0)}))}async toggleDeafen(){this.#i(e=>!e)}async toggleMute(){const e=this.room();if(!e)throw"invalid state";await e.localParticipant.setMicrophoneEnabled(!e.localParticipant.isMicrophoneEnabled),this.#o(e.localParticipant.isMicrophoneEnabled)}async toggleCamera(){const e=this.room();if(!e)throw"invalid state";await e.localParticipant.setCameraEnabled(!e.localParticipant.isCameraEnabled),this.#a(e.localParticipant.isCameraEnabled)}async toggleScreenshare(){const e=this.room();if(!e)throw"invalid state";await e.localParticipant.setScreenShareEnabled(!e.localParticipant.isScreenShareEnabled),this.#s(e.localParticipant.isScreenShareEnabled)}getConnectedUser(e){return this.room()?.getParticipantByIdentity(e)}get listenPermission(){return!!this.channel()?.havePermission("Listen")}get speakingPermission(){return!!this.channel()?.havePermission("Speak")}}const NG=yr(null);function Pnt(t){const e=Ht(),n=new Ant(e.voice);return u(NG.Provider,{value:n,get children(){return u(xX.Provider,{get value(){return n.room},get children(){return[u(gnt,{get children(){return t.children}}),u(Bw,{get children(){return u(Dnt,{})}})]}})}})}const xu=()=>Nn(NG);var Rnt=I('<svg xmlns=http://www.w3.org/2000/svg width=48 height=48 viewBox="0 -960 960 960"><path d="M705-128 447-388q-23 8-46 13t-47 5q-97.08 0-165.04-67.67Q121-505.33 121-602q0-31 8.16-60.39T152-718l145 145 92-86-149-149q25.91-15.16 54.96-23.58Q324-840 354-840q99.17 0 168.58 69.42Q592-701.17 592-602q0 24-5 47t-13 46l259 258q11 10.96 11 26.48T833-198l-76 70q-10.7 11-25.85 11T705-128m28-57 40-40-273-273q16-21 24-49.5t8-54.5q0-75-55.5-127T350-782l102 104q9 9 8.5 21.5T451-635L318-510q-9.27 8-21.64 8-12.36 0-20.36-8l-98-97q3 77 54.67 127T354-430q25 0 53-8t49-24zM476-484">');const Mnt=(t={})=>(()=>{var e=Rnt();return Se(e,t,!0,!0),e})();var Int=I('<svg xmlns=http://www.w3.org/2000/svg width=48 height=48 viewBox="0 -960 960 960"><path d="m249-207-42-42 231-231-231-231 42-42 231 231 231-231 42 42-231 231 231 231-42 42-231-231z">');const $nt=(t={})=>(()=>{var e=Int();return Se(e,t,!0,!0),e})();var Lnt=I('<svg xmlns=http://www.w3.org/2000/svg width=48 height=48 viewBox="0 -960 960 960"><path d=M440-440v240h-60v-180H200v-60zm140-320v180h180v60H520v-240z>');const Nnt=(t={})=>(()=>{var e=Lnt();return Se(e,t,!0,!0),e})();var Fnt=I('<svg xmlns=http://www.w3.org/2000/svg width=48 height=48 viewBox="0 -960 960 960"><path d=M200-200v-240h60v180h180v60zm500-320v-180H520v-60h240v240z>');const Bnt=(t={})=>(()=>{var e=Fnt();return Se(e,t,!0,!0),e})();var znt=I('<svg xmlns=http://www.w3.org/2000/svg width=48 height=48 viewBox="0 -960 960 960"><path d=M240-120v-60h481v60z>');const Qnt=(t={})=>(()=>{var e=znt();return Se(e,t,!0,!0),e})();function Unt(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:s,onRegisterError:o}=t;let a,l;const c=async(h=!0)=>{await l};async function d(){if("serviceWorker"in navigator){if(a=await R(async()=>{const{Workbox:h}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:h}},[]).then(({Workbox:h})=>new h("/DRKZXCHAT/serviceWorker.js",{scope:"/DRKZXCHAT/",type:"classic"})).catch(h=>{o?.(h)}),!a)return;a.addEventListener("activated",h=>{(h.isUpdate||h.isExternal)&&window.location.reload()}),a.addEventListener("installed",h=>{h.isUpdate||r?.()}),a.register({immediate:e}).then(h=>{s?s("/DRKZXCHAT/serviceWorker.js",h):i?.(h)}).catch(h=>{o?.(h)})}}return l=d(),c}const[t$,Vnt]=ve();{const t=Unt({onNeedRefresh(){Vnt(()=>void t(!0))},onOfflineReady(){console.info("Ready to work offline =)")},onRegistered(e){setInterval(()=>e.update(),36e5)}})}var n$=I("<a><strong> (reconnect now)"),jnt=I("<div>");function FG(){const[t,e]=ve(window.native?window.desktopConfig.get().windowState.isMaximised:!1),{lifecycle:n}=wu();function r(){return[Ti.Connecting,Ti.Disconnected,Ti.Reconnecting,Ti.Offline].includes(n.state())}function i(){window.native.maximise(),e(s=>!s)}return u(bu,{get children(){return u(X,{get when(){return Ce(()=>!!window.native)()&&window.desktopConfig?.get().customFrame||r()},get children(){return u(gc.div,{initial:{height:0},animate:{height:"29px"},exit:{height:0},get children(){return u(qnt,{get disconnected(){return r()},get children(){return[u(Hnt,{style:{"-webkit-user-select":"none","-webkit-app-region":"drag"},get children(){return[u(zT,{get class(){return hn({height:"18px",marginBlockStart:"1px"})}})," ",u(X,{get when(){return!1},get children(){return u(Mnt,ge(()=>ju(16)))}})]}}),u(Wnt,{style:{"-webkit-user-select":"none","-webkit-app-region":"drag"},get children(){return[u(Me,{get children(){return[u(Z,{get when(){return n.state()===Ti.Connecting},children:"Connecting"}),u(Z,{get when(){return n.state()===Ti.Disconnected},get children(){return["Disconnected",(()=>{var s=n$();return s.$$click=()=>n.transition({type:av.Retry}),s})()]}}),u(Z,{get when(){return n.state()===Ti.Reconnecting},children:"Reconnecting"}),u(Z,{get when(){return n.state()===Ti.Offline},get children(){return["Device is offline",(()=>{var s=n$();return s.$$click=()=>n.transition({type:av.Retry}),s.style.setProperty("-webkit-app-region","no-drag"),s})()]}})]}}),u(X,{get when(){return t$()},get children(){return[" ",(()=>{var s=jnt();return s.style.setProperty("-webkit-app-region","no-drag"),V(s,u(ot,{size:"sm",get onPress(){return t$()},children:"Update"})),s})()]}})]}}),u(X,{get when(){return window.native},get children(){return[u(G4,{get onClick(){return window.native.minimise},get children(){return[u(En,{}),u(Qnt,ge(()=>ju(20)))]}}),u(G4,{onClick:i,get children(){return[u(En,{}),u(X,{get when(){return t()},get fallback(){return u(Bnt,ge(()=>ju(20)))},get children(){return u(Nnt,ge(()=>ju(20)))}})]}}),u(G4,{get onClick(){return window.native.close},get children(){return[u(En,{}),u($nt,ge(()=>ju(20)))]}})]}})]}})}})}})}})}const qnt=H("div",{base:{flexShrink:0,height:"29px",userSelect:"none",display:"flex",alignItems:"center",fill:"var(--md-sys-color-on-surface)"},variants:{disconnected:{true:{color:"var(--md-sys-color-on-primary-container)",background:"var(--md-sys-color-primary-container)"},false:{color:"var(--md-sys-color-outline)",background:"var(--md-sys-color-surface-container-high)"}}}}),Hnt=H("div",{base:{display:"flex",gap:"var(--gap-md)",alignItems:"center",paddingInlineStart:"var(--gap-md)",color:"var(--md-sys-color-on-surface)",...An.raw({class:"title",size:"small"})}}),Wnt=H("div",{base:{flexGrow:1,height:"100%",display:"flex",gap:"var(--gap-md)",alignItems:"center",paddingInlineStart:"var(--gap-md)",...An.raw({class:"label",size:"large"})}}),G4=H("a",{base:{cursor:"pointer",position:"relative",display:"grid",placeItems:"center",height:"100%",aspectRatio:"3/2"}});Tr(["click"]);var Xnt=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M12 3a9 9 0 1 0 9 9c0-.46-.04-.92-.1-1.36a5.39 5.39 0 0 1-4.4 2.26 5.403 5.403 0 0 1-3.14-9.8c-.44-.06-.9-.1-1.36-.1">');const Ynt=(t={})=>(()=>{var e=Xnt();return Se(e,t,!0,!0),e})(),Gnt="/DRKZXCHAT/assets/background-CTUQGxgG.jpg",Znt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='600'%20height='530'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m135.72%2044.03c66.496%2049.921%20138.02%20151.14%20164.28%20205.46%2026.262-54.316%2097.782-155.54%20164.28-205.46%2047.98-36.021%20125.72-63.892%20125.72%2024.795%200%2017.712-10.155%20148.79-16.111%20170.07-20.703%2073.984-96.144%2092.854-163.25%2081.433%20117.3%2019.964%20147.14%2086.092%2082.697%20152.22-122.39%20125.59-175.91-31.511-189.63-71.766-2.514-7.3797-3.6904-10.832-3.7077-7.8964-0.0174-2.9357-1.1937%200.51669-3.7077%207.8964-13.714%2040.255-67.233%20197.36-189.63%2071.766-64.444-66.128-34.605-132.26%2082.697-152.22-67.108%2011.421-142.55-7.4491-163.25-81.433-5.9562-21.282-16.111-152.36-16.111-170.07%200-88.687%2077.742-60.816%20125.72-24.795z'%20fill='%231185fe'/%3e%3c/svg%3e";var r$=I("<div>"),Knt=I("<img>"),Jnt=I("<a href=https://stoat.chat/about target=_blank>"),ert=I("<a href=https://stoat.chat/terms target=_blank>"),trt=I("<a href=https://stoat.chat/privacy target=_blank>"),nrt=I("<a href=https://unsplash.com/ target=_blank rel=noreferrer>unsplash.com");const rrt=H("div",{base:{width:"100%",height:"100%",padding:"40px 35px",userSelect:"none",overflowY:"scroll",color:"var(--md-sys-color-on-surface)",background:"var(--md-sys-color-surface)",display:"flex",flexDirection:"column",justifyContent:"space-between",mdDown:{padding:"30px 20px"}}}),i$=H("div",{base:{height:"32px",display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"space-between",textDecoration:"none"}}),Pb=H("div",{base:{gap:"10px",display:"flex",alignItems:"center",fontSize:"0.9em"},variants:{variant:{default:{},stack:{md:{flexDirection:"column"}},hide:{md:{display:"none"}}}},defaultVariants:{variant:"default"}}),s$=H("a",{base:{height:"24px"}}),o$=H("div",{base:{height:"5px",width:"5px",background:"grey",borderRadius:"50%",md:{display:"none"}}});function irt(t){const e=Ht();return(()=>{var n=r$();return n.style.setProperty("display","flex"),n.style.setProperty("flex-direction","column"),n.style.setProperty("height","100%"),V(n,u(FG,{}),null),V(n,u(rrt,{style:{"--url":`url('${Gnt}')`},css:{scrollbar:"hidden"},get children(){return[u(i$,{get children(){return[r$(),u(On,{variant:"tonal",onPress:()=>e.theme.setMode(e.theme.activeTheme.darkMode?"light":"dark"),get children(){return u(Ynt,ge(()=>at("24px")))}})]}}),u(ntt,{get children(){return t.children}}),u(i$,{get children(){return[u(Pb,{variant:"stack",get children(){return[u(Pb,{get children(){return[u(s$,{href:"https://github.com/stoatchat",target:"_blank",get children(){return u(I9e,{size:24})}}),u(s$,{href:"https://bsky.app/profile/stoat.chat",target:"_blank",get children(){var r=Knt();return $t(r,"src",Znt),r.style.setProperty("height","22px"),r.style.setProperty("padding-top","3px"),r}})]}}),u(o$,{}),u(Pb,{get children(){return[(()=>{var r=Jnt();return V(r,u(k,{id:"uyJsf6"})),r})(),(()=>{var r=ert();return V(r,u(k,{id:"xowcRf"})),r})(),(()=>{var r=trt();return V(r,u(k,{id:"LcET2C"})),r})()]}})]}}),u(Pb,{variant:"hide",get children(){return[u(k,{id:"Z7f8Lz"}),u(o$,{}),nrt()]}})]}})]}}),null),n})()}function srt(){const t=Ht(),{_:e}=Dt(),n=pt(),r=Dr(),i=du();function s(a){const l=n().user;if(i().channelId===a.channelId&&document.hasFocus()||a.author?.self||a.author?.relationship==="Blocked"||t.notifications.isMuted(a.channel))return;switch(t.notifications.computeForChannel(a.channel)){case"none":return;case"mention":if(!a.mentioned)return}if(l.status?.presence==="Busy"||l.status?.presence==="Focus"&&!a.mentioned)return;let c;switch(a.channel.type){case"SavedMessages":return;case"DirectMessage":c=`@${a.username}`;break;case"Group":a.author?.id==="00000000000000000000000000"?c=a.channel?.name:c=`@${a.username} - ${a.channel?.name}`;break;case"TextChannel":c=`@${a.username} (#${a.channel?.name}, ${a.channel?.server?.name})`;break}const d=a.attachments?.find(g=>g.metadata.type==="Image")?.previewUrl;let h,f;if(a.content)h=a.contentPlain,f=a.avatarURL;else if(a.systemMessage)switch(a.systemMessage.type){case"text":h=a.systemMessage.content;break;case"user_added":h=e({id:"GVSvRw",values:{0:a.systemMessage.user?.username,1:a.systemMessage.by?.username}}),f=a.systemMessage.user?.avatarURL;break;case"user_remove":h=e({id:"/JJAEu",values:{0:a.systemMessage.user?.username,1:a.systemMessage.by?.username}}),f=a.systemMessage.user?.avatarURL;break;case"user_joined":h=e({id:"3H/s4T",values:{0:a.systemMessage.user?.username}}),f=a.systemMessage.user?.avatarURL;break;case"user_left":h=e({id:"6MIiOI",values:{0:a.systemMessage.user?.username}}),f=a.systemMessage.user?.avatarURL;break;case"user_kicked":h=e({id:"BOsWyI",values:{0:a.systemMessage.user?.username}}),f=a.systemMessage.user?.avatarURL;break;case"user_banned":h=e({id:"OeE+Fx",values:{0:a.systemMessage.user?.username}}),f=a.systemMessage.user?.avatarURL;break;case"channel_renamed":h=e({id:"OFYCau",values:{0:a.systemMessage.by?.username}}),f=a.systemMessage.by?.avatarURL;break;case"channel_description_changed":h=e({id:"5LoIOP",values:{0:a.systemMessage.by?.username}}),f=a.systemMessage.by?.avatarURL;break;case"channel_icon_changed":h=e({id:"0S+a+/",values:{0:a.systemMessage.by?.username}}),f=a.systemMessage.by?.avatarURL;break;case"channel_ownership_changed":h=e({id:"WkGwgJ",values:{0:a.systemMessage.from?.username,1:a.systemMessage.to?.username}}),f=a.systemMessage.from?.avatarURL;break;case"message_pinned":h=e({id:"CyRtEa",values:{0:a.systemMessage.by?.username}}),f=a.systemMessage.by?.avatarURL;break;case"message_unpinned":h=e({id:"H4IzoH",values:{0:a.systemMessage.by?.username}}),f=a.systemMessage.by?.avatarURL;break}else a.attachments?.length&&(h=e({id:"sWvnBI",values:{0:a.attachments.length}}));if(Notification.permission!=="granted")return;console.info(`[notification] ${c} ${f} ${h}`),new Notification(c,{icon:f,image:d,body:h,timestamp:a.createdAt,tag:a.channelId,badge:"/assets/web/android-chrome-512x512.png",silent:!0}).addEventListener("click",()=>{window.focus(),r(a.path)})}dt(()=>{n().addListener("messageCreate",s),wt(()=>n().removeListener("messageCreate",s))});function o(){document.removeEventListener("click",o),localStorage.getItem("denied-notifications")||Notification.requestPermission().then(a=>a==="denied"&&localStorage.setItem("denied-notifications","1"))}return Tn(()=>{localStorage.getItem("denied-notifications")||document.addEventListener("click",o)}),wt(()=>document.removeEventListener("click",o)),null}const BG=H("div",{base:{display:"flex",flexShrink:0,flexDirection:"column",overflow:"hidden",borderTopLeftRadius:"var(--borderRadius-lg)",borderBottomLeftRadius:"var(--borderRadius-lg)",width:"var(--layout-width-channel-sidebar)",fill:"var(--md-sys-color-on-surface)",color:"var(--md-sys-color-on-surface)",background:"var(--md-sys-color-surface-container-low)","& a":{textDecoration:"none"}}});var ort=I("<a href=/app>"),Cp=I("<div>"),art=I("<a href=/friends>"),fO=I("<a>"),lrt=I("<span> ");const crt=t=>{const{_:e}=Dt(),n=pt(),r=Dr(),i=Zh(),{openModal:s}=Ne(),o=ke(()=>t.openSavedNotes());let a;const l=ke(()=>n().users.filter(c=>c.relationship==="Incoming").length);return u(BG,{get children(){var c=Cp();Fe(nc,c,()=>!0);var d=a;return typeof d=="function"?Fe(d,c):a=c,V(c,u(grt,{get children(){return[u(urt,{get children(){return u(k,{id:"EnJuK0"})}}),(()=>{var h=ort();return V(h,u(fh,{size:"normal",get icon(){return u(yt,{children:"home"})},get attention(){return i.pathname==="/app"?"selected":"normal"},get children(){return u(Rb,{get children(){return u(k,{id:"i0qMbr"})}})}})),h})(),(()=>{var h=Cp();return h.style.setProperty("height","5px"),h})(),(()=>{var h=art();return V(h,u(fh,{size:"normal",get icon(){return u(yt,{children:"group"})},get attention(){return i.pathname==="/friends"?"selected":"normal"},get children(){return u(Rb,{get children(){return[u(k,{id:"tBmnPU"}),(()=>{var f=Cp();return f.style.setProperty("flex","1 1 auto"),f})(),u(X,{get when(){return l()},get children(){return u(drt,{get children(){return[Ce(()=>l())," requests"]}})}})]}})}})),h})(),(()=>{var h=Cp();return h.style.setProperty("height","5px"),h})(),u(Me,{get fallback(){return u(fh,{size:"normal",attention:"normal",get icon(){return u(yt,{children:"note_stack"})},onClick:()=>t.openSavedNotes(r),get children(){return u(Rb,{get children(){return u(k,{id:"HPEWo/"})}})}})},get children(){return u(Z,{get when(){return o()},get children(){var h=fO();return V(h,u(fh,{size:"normal",get icon(){return u(yt,{children:"note_stack"})},get attention(){return t.channelId&&o()===t.channelId?"selected":"normal"},get children(){return u(Rb,{get children(){return u(k,{id:"HPEWo/"})}})}})),Te(()=>$t(h,"href",`/channel/${o()}`)),h}})}}),u(hrt,{get children(){return["Direct Messages",(()=>{var h=fO();return Fe(Xt,h,()=>({tooltip:{placement:"right",content:e({id:"luDs4g"})}})),h.$$click=()=>s({type:"create_group",client:n()}),V(h,u(yt,{size:20,marginTop:"2px",children:"add"})),Te(()=>ut(h,hn({cursor:"pointer"}))),h})()]}}),u(Pv,{get children(){return u(eu,{get items(){return t.conversations()},scrollTarget:a,itemSize:{height:48},children:h=>(()=>{var f=Cp();return V(f,u(mrt,{role:"listitem",get tabIndex(){return h.tabIndex},get style(){return h.style},get channel(){return h.item},get active(){return h.item.id===t.channelId}})),Te(m=>xd(f,{...h.style,width:"100%","padding-block":"3px"},m)),f})()})}})]}})),c}})},urt=H("p",{base:{paddingBlock:"calc(var(--gap-md) + 15px)",paddingInline:"var(--gap-md)",...An.raw({class:"title"})}}),Rb=H("div",{base:{gap:"var(--gap-md)",height:"100%",display:"flex",alignItems:"center"}}),drt=H("div",{base:{...An.raw({class:"label",size:"small"}),padding:"var(--gap-sm) var(--gap-md)",color:"var(--md-sys-color-on-error)",background:"var(--md-sys-color-error)",borderRadius:"var(--borderRadius-md)"}}),hrt=H("div",{base:{display:"flex",paddingInline:"var(--gap-lg)",alignItems:"center",justifyContent:"space-between",paddingTop:"calc(var(--gap-xl) - 5px)",paddingBottom:"var(--gap-md)",...An.raw({class:"label",size:"small"}),fontSize:"13px"}}),frt=H("div",{base:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center"}});function mrt(t){const[e,n]=sn(t,["channel","active"]),{_:r}=Dt(),{openModal:i}=Ne(),s=()=>e.channel.recipient?.statusMessage(o=>r(o==="Online"?{id:"oXOSPE"}:o==="Busy"?{id:"kVHATU"}:o==="Focus"?{id:"Fsd1Wl"}:o==="Idle"?{id:"QSzGDE"}:{id:"6Aih4U"}));return(()=>{var o=fO();return Se(o,ge(n,{get href(){return`/channel/${e.channel.id}`}}),!1,!0),V(o,u(fh,{size:"normal",get alert(){return!e.active&&e.channel.unread&&(e.channel.mentions?.size||!0)},get attention(){return e.active?"selected":e.channel.muted?"muted":e.channel.unread?"active":"normal"},get icon(){return u(Me,{get children(){return[u(Z,{get when(){return e.channel.type==="Group"},get children(){return u(zt,{size:32,shape:"rounded-square",get fallback(){return e.channel.name},get src(){return e.channel.iconURL},primaryContrast:!0})}}),u(Z,{get when(){return e.channel.type==="DirectMessage"},get children(){return u(zt,{size:32,get src(){return e.channel.iconURL},holepunch:"bottom-right",get overlay(){return u(Ro.Graphic,{get status(){return e.channel?.recipient?.presence}})}})}})]}})},get actions(){return(()=>{var a=fO();return a.$$click=l=>{l.preventDefault(),i({type:"delete_channel",channel:e.channel})},V(a,u(tw,ge(()=>at("18px")))),a})()},"use:floating":{contextMenu:()=>e.channel.type==="DirectMessage"?u(cf,{get user(){return e.channel.recipient},get channel(){return e.channel}}):u(sT,{get channel(){return e.channel}})},get children(){return u(frt,{get children(){return u(Me,{get children(){return[u(Z,{get when(){return e.channel.type==="Group"},get children(){return[u(jr,{get children(){return u(Ta,{get content(){return e.channel.name}})}}),(()=>{var a=lrt(),l=a.firstChild;return V(a,()=>e.channel.recipientIds.size,l),V(a,()=>e.channel.recipientIds.size>1?"Members":"Member",null),Te(()=>ut(a,An({class:"_status"}))),a})()]}}),u(Z,{get when(){return e.channel.type==="DirectMessage"},get children(){return[u(jr,{get children(){return e.channel?.recipient?.displayName}}),u(X,{get when(){return s()},get children(){return u(vi,{content:()=>u(Ta,{get content(){return s()}}),placement:"top-start",get aria(){return s()},get children(){return u(jr,{get class(){return An({class:"_status"})},get children(){return u(Ta,{get content(){return s()}})}})}})}})]}})]}})}})}})),o})()}const grt=H("div",{base:{paddingLeft:"var(--gap-md)",width:"var(--layout-width-channel-sidebar)"}});Tr(["click"]);var prt=I("<div> ");function vrt(t){return u(Bw,{get channelId(){return t.channel.id},get fallback(){return u(yrt,{get channel(){return t.channel}})},get children(){return u(brt,{})}})}function brt(){const t=Cw([{source:Ee.Source.Camera,withPlaceholder:!0}],{onlySubscribed:!1});return u(QG,{get children(){return u(q6,{tracks:t,children:()=>u(Ort,{})})}})}function yrt(t){return u(X,{get when(){return t.channel.voiceParticipants.size},get children(){return u(QG,{get children(){return u(rt,{get each(){return[...t.channel.voiceParticipants.values()]},children:e=>u(wrt,{participant:e})})}})}})}function Ort(){const t=Mg(),e=_w({participant:t,source:Ee.Source.Microphone}),n=W6(t);return u(zG,{get userId(){return t.identity},get speaking(){return n()},get muted(){return e()},deafened:!1,camera:!1,screenshare:!1,isLive:!0})}function wrt(t){return u(zG,{get userId(){return t.participant.userId},speaking:!1,get muted(){return!t.participant.isPublishing()},get deafened(){return!t.participant.isReceiving()},get camera(){return t.participant.isCamera()},get screenshare(){return t.participant.isScreensharing()}})}function zG(t){const[e,n]=sn(t,["muted","deafened","camera","screenshare"]),r=Dg(()=>n.userId);return(()=>{var i=prt(),s=i.firstChild;return Fe(Xt,i,()=>({userCard:{user:r().user,member:r().member},contextMenu:()=>u(cf,{get user(){return r().user},get member(){return r().member},get inVoice(){return n.isLive}})})),V(i,u(En,{}),s),V(i,u(zt,{size:24,get src(){return r().avatar},get fallback(){return r().username}}),s),V(i,u(Srt,{get children(){return r().username}}),null),V(i,u(kt,{gap:"sm",get children(){return u(TG,ge(e,{get userId(){return n.userId}}))}}),null),Te(()=>ut(i,krt({speaking:n.speaking}))),i})()}const QG=H("div",{base:{minWidth:0,display:"flex",flexDirection:"column",marginBlock:"var(--gap-sm)",marginInlineStart:"var(--gap-xl)",marginInlineEnd:"var(--gap-md)",color:"var(--md-sys-color-outline)",borderRadius:"var(--borderRadius-md)"}}),krt=nn({base:{padding:"var(--gap-sm)",position:"relative",display:"flex",gap:"var(--gap-md)",alignItems:"center",borderRadius:"var(--borderRadius-md)"},variants:{speaking:{true:{color:"var(--md-sys-color-on-surface)","& svg":{outlineOffset:"1px",outline:"2px solid var(--md-sys-color-primary)",borderRadius:"var(--borderRadius-circle)"}}}}}),Srt=H("span",{base:{...An.raw(),flexGrow:1,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}});var xrt=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z">');const _rt=(t={})=>(()=>{var e=xrt();return Se(e,t,!0,!0),e})();var Crt=I('<svg xmlns=http://www.w3.org/2000/svg width=48 height=48 viewBox="0 -960 960 960"><path d="m388-80-20-126q-19-7-40-19t-37-25l-118 54-93-164 108-79q-2-9-2.5-20.5T185-480t.5-20.5T188-521L80-600l93-164 118 54q16-13 37-25t40-18l20-127h184l20 126q19 7 40.5 18.5T669-710l118-54 93 164-108 77q2 10 2.5 21.5t.5 21.5-.5 21-2.5 21l108 78-93 164-118-54q-16 13-36.5 25.5T592-206L572-80zm92-270q54 0 92-38t38-92-38-92-92-38-92 38-38 92 38 92 92 38">');const Ert=(t={})=>(()=>{var e=Crt();return Se(e,t,!0,!0),e})();var UG=I("<div>"),Z4=I("<a>");const Trt=t=>{Dr();const e=()=>t.server.orPermission("ManageServer","ManageCustomisation","ManageRole","ManagePermissions");pd(_n.CHAT_MARK_SERVER_AS_READ,()=>{t.server.unread&&t.server.ack()});const n=()=>!t.server.havePermission("ManageChannel");let r=null;function i(s){if(s.type==="category"&&s.moved&&!r){r=s;return}const o=t.server.orderedChannels.map(a=>({...a,channels:a.channels.map(l=>l.id)}));s.type==="categories"?t.server.edit({categories:s.ids.map(a=>o.find(l=>l.id===a)).filter(a=>a)}):(t.server.edit({categories:o.map(a=>r&&a.id===r.id?{...a,channels:r.channelIds}:a.id===s.id?{...a,channels:s.channelIds}:a)}),r=null)}return u(BG,{get"use:floating"(){return t.menuGenerator(t.server)},get children(){return[u(Me,{get fallback(){return u(nv,{placement:"secondary",get children(){return u(a$,{get server(){return t.server},get canManageServer(){return e()},get openServerInfo(){return t.openServerInfo},get openServerSettings(){return t.openServerSettings}})}})},get children(){return u(Z,{get when(){return t.server.banner},get children(){return u(nv,{image:!0,placement:"secondary",get style(){return{background:`url('${t.server.bannerURL}')`}},get children(){return u(a$,{get server(){return t.server},get canManageServer(){return e()},get openServerInfo(){return t.openServerInfo},get openServerSettings(){return t.openServerSettings}})}})}})}}),(()=>{var s=UG();return Fe(Xt,s,()=>t.menuGenerator(t.server)),Fe(nc,s,()=>!0),s.style.setProperty("flex-grow","1"),V(s,u(EO,{dragHandles:!0,type:"category",get disabled(){return n()},get items(){return t.server.orderedChannels},onChange:o=>i({type:"categories",ids:o}),children:o=>u(Prt,{get server(){return t.server},get category(){return o.item},get channelId(){return t.channelId},get menuGenerator(){return t.menuGenerator},get dragDisabled(){return o.dragDisabled},get setDragDisabled(){return o.setDragDisabled},noOrdering:n,handleOrdering:i})})),s})()]}})};function a$(t){return u(kt,{align:!0,grow:!0,minWidth:0,get children(){return[u(Art,{get flags(){return t.server.flags}}),u(Drt,{get onClick(){return t.openServerInfo},get children(){return u(Ta,{get content(){return t.server.name}})}}),u(X,{get when(){return t.canManageServer},get children(){return u(On,{size:"xs",width:"narrow",get variant(){return t.server.banner?"_header":"standard"},get onPress(){return t.openServerSettings},get children(){return u(Ert,ge(()=>ju(24)))}})}})]}})}const Drt=H("a",{base:{flexGrow:1,minWidth:0,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}});function Art(t){const{_:e}=Dt();return u(X,{get when(){return t.flags},get children(){return u(vi,{get content(){return Ce(()=>t.flags===1)()?e({id:"L+22AW"}):e({id:"QDEWii"})},placement:"top",get children(){return Ce(()=>t.flags===1)()?u(Z9e,{size:12}):u(B9e,{size:12})}})}})}function Prt(t){const e=Ht(),n=()=>e.layout.getSectionState(t.category.id,!0),r=ke(()=>t.category.channels.filter(i=>t.category.id==="default"||n()||i.unread||i.id===t.channelId));return u(Rrt,{get children(){return[u(X,{get when(){return t.category.id!=="default"},get children(){var i=UG();return Fe(Xt,i,()=>t.menuGenerator(t.category)),V(i,u(Mrt,ge({get open(){return n()},onClick:()=>{e.layout.toggleSectionState(t.category.id,!0)}},()=>eN(t.dragDisabled,t.setDragDisabled),{get children(){return[Ce(()=>t.category.title),u(_rt,ge(()=>at(12)))]}}))),i}}),u(EO,{type:"channels",get items(){return r()},onChange:i=>{const s=r();t.handleOrdering({type:"category",id:t.category.id,channelIds:i,moved:i.length!==s.length})},get disabled(){return t.noOrdering()||!n()},minimumDropAreaHeight:"32px",children:i=>u(Irt,{get channel(){return i.item},get active(){return i.item.id===t.channelId},get menuGenerator(){return t.menuGenerator}})})]}})}const Rrt=H("div",{base:{display:"flex",gap:"var(--gap-md)",flexDirection:"column",paddingBlock:"var(--gap-sm)",borderRadius:"var(--borderRadius-sm)",background:"var(--md-sys-color-surface-container-low)"}}),Mrt=H("div",{base:{display:"flex",alignItems:"center",gap:"var(--gap-sm)",padding:"0 var(--gap-sm)",paddingLeft:"calc(var(--gap-lg) + 5px)",paddingTop:"10px",cursor:"pointer",userSelect:"none",transition:"var(--transitions-fast) all","--color":"var(--md-sys-color-on-surface)",color:"var(--color)",fill:"var(--color)",...An.raw({class:"label",size:"small"}),fontSize:"13px","&:hover":{"--color":"var(--md-sys-color-on-surface-variant)"},"& svg":{transition:"var(--transitions-fast) transform"}},variants:{open:{true:{"& svg":{transform:"rotateZ(90deg)"}}}}});function Irt(t){const e=Ht(),n=xu(),{openModal:r}=Ne(),i=ke(()=>["ManageChannel","ManagePermissions","ManageWebhooks"].some(c=>t.channel.server?.havePermission(c))),s=ke(()=>t.channel.server?.havePermission("InviteOthers")),o=ke(()=>!t.active&&t.channel.unread&&(t.channel.mentions?.size||!0)),a=()=>t.channel.id===n.channel()?.id,l=ke(()=>t.active?"selected":a()?"active":e.notifications.isChannelMuted(t.channel)?"muted":t.channel.unread?"active":"normal");return(()=>{var c=Z4();return V(c,u(Ae,{gap:"sm",get children(){return[u(fh,{get"use:floating"(){return t.menuGenerator(t.channel)},size:"normal",get alert(){return o()},get attention(){return l()},get icon(){return[u(Me,{get fallback(){return u(yt,{children:"grid_3x3"})},get children(){return u(Z,{get when(){return t.channel.isVoice},get children(){return u(yt,{get color(){return a()?"var(--md-sys-color-primary)":void 0},children:"headset_mic"})}})}}),u(X,{get when(){return t.channel.icon},get children(){return u($rt,{get src(){return t.channel.iconURL},css:{marginEnd:"0.2em"}})}})]},get actions(){return[u(X,{get when(){return s()},get children(){var d=Z4();return d.$$click=h=>{h.preventDefault(),r({type:"create_invite",channel:t.channel})},Fe(Xt,d,()=>({tooltip:{placement:"top",content:"Create Invite"}})),V(d,u(yt,{size:16,fill:!0,children:"person_add"})),d}}),u(X,{get when(){return i()},get children(){var d=Z4();return d.$$click=h=>{h.preventDefault(),r({type:"settings",config:"channel",context:t.channel})},Fe(Xt,d,()=>({tooltip:{placement:"top",content:"Edit Channel"}})),V(d,u(yt,{size:16,fill:!0,children:"settings"})),d}})]},get children(){return u(jr,{get children(){return u(Ta,{get content(){return t.channel.name}})}})}}),u(vrt,{get channel(){return t.channel}})]}})),Te(()=>$t(c,"href",`/server/${t.channel.serverId}/channel/${t.channel.id}`)),c})()}const $rt=H("img",{base:{width:"16px",height:"16px",objectFit:"contain"}});Tr(["click"]);var Lrt=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z">');const Nrt=(t={})=>(()=>{var e=Lrt();return Se(e,t,!0,!0),e})();var Frt=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M12 10.9c-.61 0-1.1.49-1.1 1.1s.49 1.1 1.1 1.1 1.1-.49 1.1-1.1-.49-1.1-1.1-1.1M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m2.19 12.19L6 18l3.81-8.19L18 6z">');const VG=(t={})=>(()=>{var e=Frt();return Se(e,t,!0,!0),e})();var Brt=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z">');const jG=(t={})=>(()=>{var e=Brt();return Se(e,t,!0,!0),e})();var zrt=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.49.49 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6">');const qG=(t={})=>(()=>{var e=zrt();return Se(e,t,!0,!0),e})();var Qrt=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M13.17 4 18 8.83V20H6V4zM14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8zm-2 12c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m4 3.43c0-.81-.48-1.53-1.22-1.85a6.95 6.95 0 0 0-5.56 0A2.01 2.01 0 0 0 8 17.43V18h8z">');const Urt=(t={})=>(()=>{var e=Qrt();return Se(e,t,!0,!0),e})();var Vrt=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M3 10h11v2H3zm0-2h11V6H3zm0 8h7v-2H3zm15.01-3.13.71-.71a.996.996 0 0 1 1.41 0l.71.71c.39.39.39 1.02 0 1.41l-.71.71zm-.71.71-5.3 5.3V21h2.12l5.3-5.3z">');const l$=(t={})=>(()=>{var e=Vrt();return Se(e,t,!0,!0),e})();var jrt=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8">');const qrt=(t={})=>(()=>{var e=jrt();return Se(e,t,!0,!0),e})();var c$=I("<div>");const Hrt=H("div",{base:{maxWidth:"var(--layout-width-user-context-menu-truncate)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}});function Wrt(t){const{_:e}=Dt(),{openModal:n}=Ne(),r=pt(),i=ff(),s=Ht(),[o,a]=ve(!1),[l,c]=ve(),d=cw(()=>t.anchor(),l,{placement:"right-start",whileElementsMounted:n6,middleware:[aw(5),lw()]});function h(){a(p=>!p)}function f(){a(!1)}Tn(()=>document.addEventListener("mousedown",f)),wt(()=>document.removeEventListener("mousedown",f)),dt(Zt(()=>t.anchor(),p=>{p&&(p.addEventListener("click",h),wt(()=>p.removeEventListener("click",h)))}));const m=p=>i()?.edit({status:{presence:p}});function g(){navigator.clipboard.writeText(i().id)}return u(uu,{get mount(){return document.getElementById("floating")},get children(){return u(bu,{get children(){return u(X,{get when(){return o()},get children(){return u(gc,{ref:c,get style(){return{position:d.strategy,top:`${d.y??0}px`,left:`${d.x??0}px`}},initial:{opacity:0,x:-24},animate:{opacity:1,x:0},exit:{opacity:0},transition:{duration:.2,easing:[.87,0,.13,1]},get children(){return u(yu,{get children(){return[u(gq,{onClick:()=>n({type:"settings",config:"user"}),action:!0,get children(){return u(kt,{align:!0,get children(){return[u(zt,{size:32,get fallback(){return i()?.username},get src(){return i()?.animatedAvatarURL}}),u(Ae,{gap:"none",get children(){return[u(Le,{get children(){return i()?.displayName}}),u(Le,{class:"label",get children(){return[Ce(()=>i()?.username),"#",Ce(()=>i()?.discriminator)]}})]}})]}})}}),u(Fi,{}),u(st,{get icon(){return u(Ep,{get children(){return u(Ro,{size:"10",status:"Online"})}})},onClick:()=>m("Online"),get children(){return u(k,{id:"oXOSPE"})}}),u(st,{get icon(){return u(Ep,{get children(){return u(Ro,{size:"10",status:"Idle"})}})},onClick:()=>m("Idle"),get children(){return u(k,{id:"QSzGDE"})}}),u(st,{get icon(){return u(Ep,{get children(){return u(Ro,{size:"10",status:"Focus"})}})},onClick:()=>m("Focus"),get children(){return u(kt,{align:!0,gap:"sm",get children(){return[u(k,{id:"Fsd1Wl"})," ",(()=>{var p=c$();return Fe(Xt,p,()=>({tooltip:{placement:"top",content:e({id:"sqKUvS"})}})),V(p,u(qrt,ge(()=>at(12)))),p})()]}})}}),u(st,{get icon(){return u(Ep,{get children(){return u(Ro,{size:"10",status:"Busy"})}})},onClick:()=>m("Busy"),get children(){return u(kt,{align:!0,gap:"sm",get children(){return[u(k,{id:"rxaY+5"})," ",(()=>{var p=c$();return Fe(Xt,p,()=>({tooltip:{placement:"top",content:e({id:"648NC4"})}})),V(p,u(l6,ge(()=>at(12)))),p})()]}})}}),u(st,{get icon(){return u(Ep,{get children(){return u(Ro,{size:"10",status:"Invisible"})}})},onClick:()=>m("Invisible"),get children(){return u(k,{id:"edZkJt"})}}),u(Fi,{}),u(X,{get when(){return i()?.status?.text},get fallback(){return u(st,{icon:l$,onClick:()=>n({type:"custom_status",client:r()}),get children(){return u(k,{id:"uW1Vm6"})}})},get children(){return[u(st,{icon:l$,onClick:()=>n({type:"custom_status",client:r()}),_titleCase:!1,get children(){return u(Hrt,{get children(){return i().status.text}})}}),u(st,{icon:Ol,onClick:()=>i()?.edit({remove:["StatusText"]}),get children(){return u(k,{id:"CK7kdd"})}})]}}),u(X,{get when(){return s.settings.getValue("advanced:copy_id")},get children(){return u(st,{icon:Urt,onClick:g,get children(){return u(k,{id:"9D85wC"})}})}})]}})}})}})}})}})}const Ep=H("div",{base:{width:"16px",display:"flex",justifyContent:"center"}});var Tp=I("<a>"),Xrt=I("<a href=https://app.revolt.chat>"),Yrt=I("<a href=/>"),Grt=I("<div><a href=/app>"),Zrt=I("<div>"),Krt=I("<span>"),Jrt=I("<div><a>");const eit=t=>{const e=Ht(),n=pt(),r=Dr(),{openModal:i}=Ne(),s=c=>{const d=t.selectedServer();if(d==null&&t.orderedServers.length){r(c===1?`/server/${t.orderedServers[0].id}`:`/server/${t.orderedServers[t.orderedServers.length-1].id}`);return}const f=t.orderedServers.findIndex(g=>g.id===d)+c;if(f===-1)return r("/app");const m=t.orderedServers.at(f%t.orderedServers.length);m&&r(`/server/${m.id}`)};pd(_n.NAVIGATION_SERVER_UP,()=>s(-1)),pd(_n.NAVIGATION_SERVER_DOWN,()=>s(1));const o=ke(()=>n().users.filter(c=>c.relationship==="Incoming").length),[a,l]=ve();return u(tit,{get children(){return[(()=>{var c=Grt(),d=c.firstChild;return Fe(nc,c,()=>({direction:"y",class:nit()})),Fe(Xt,d,()=>({tooltip:{content:`You have ${o()} pending friend requests.`,placement:"right"}})),V(d,u(zt,{size:42,get fallback(){return u(jG,{})},get holepunch(){return o()?"top-right":void 0},get overlay(){return u(X,{get when(){return o()},get children(){return u(v0.Graphic,{get unread(){return o()!==0},get count(){return o()}})}})}})),V(c,u(vi,{placement:"right",content:()=>u(Ae,{get children(){return[(()=>{var h=Krt();return V(h,()=>t.user.username),h})(),u(Le,{class:"label",size:"small",get children(){return t.user.presence}})]}}),get aria(){return t.user.username},get children(){return[(()=>{var h=Tp();return Fe(l,h),V(h,u(zt,{size:42,get src(){return t.user.avatarURL},holepunch:"bottom-right",get overlay(){return u(Ro.Graphic,{get status(){return t.user.presence}})},interactive:!0})),Te(()=>ut(h,Ec())),h})(),u(Wrt,{anchor:a})]}}),null),V(c,u(X,{get when(){return!window.native},get children(){return u(vi,{placement:"right",content:"Switch back to legacy app",get children(){var h=Xrt();return V(h,u(yt,{children:"history"})),Te(()=>ut(h,Ec())),h}})}}),null),V(c,u(rt,{get each(){return t.unreadConversations.slice(0,9)},children:h=>u(vi,{placement:"right",get content(){return h.displayName},get children(){var f=Tp();return Fe(Xt,f,()=>t.menuGenerator(h)),V(f,u(zt,{size:42,get src(){return h.iconURL},get holepunch(){return h.unread?"top-right":"none"},get overlay(){return u(X,{get when(){return h.unread},get children(){return u(v0.Graphic,{get count(){return h.mentions?.size??0},unread:!0})}})},get fallback(){return h.name??h.recipient?.username},interactive:!0})),Te(m=>{var g=Ec(),p=`/channel/${h.id}`;return g!==m.e&&ut(f,m.e=g),p!==m.t&&$t(f,"href",m.t=p),m},{e:void 0,t:void 0}),f}})}),null),V(c,u(X,{get when(){return t.unreadConversations.length>9},get children(){var h=Yrt();return V(h,u(zt,{size:42,get fallback(){return["+",Ce(()=>t.unreadConversations.length-9)]}})),Te(()=>ut(h,Ec())),h}}),null),V(c,u(rit,{}),null),V(c,u(EO,{type:"servers",get items(){return t.orderedServers},get onChange(){return t.setServerOrder},children:h=>u(vi,{placement:"right",content:()=>u(Ae,{get children(){return[u(Le,{class:"label",size:"large",get children(){return h.item.name}})," ",u(X,{get when(){return e.notifications.isMuted(h.item)},get children(){return u(Le,{class:"label",size:"small",get children(){return u(X,{get when(){return e.notifications.getServerMute(h.item).until},get fallback(){return u(k,{id:"+IJm1Z"})},get children(){return u(k,{id:"eAyeR8",components:{0:u($r,{format:"datetime",get value(){return e.notifications.getServerMute(h.item).until}})}})}})}})}})]}}),get aria(){return h.item.name},get children(){var f=Jrt(),m=f.firstChild;return Fe(Xt,f,()=>t.menuGenerator(h.item)),V(m,u(zt,{size:42,get src(){return h.item.iconURL},get holepunch(){return h.item.mentions.length?"top-right":"none"},get overlay(){return u(X,{get when(){return h.item.mentions.length},get children(){return u(v0.Graphic,{get count(){return h.item.mentions.length},unread:!0})}})},get fallback(){return h.item.name},interactive:!0})),Te(g=>{var p=Ec({indicator:t.selectedServer()===h.item.id?"selected":h.item.unread?"alert":void 0}),v=e.layout.getLastActiveServerPath(h.item.id);return p!==g.e&&ut(f,g.e=p),v!==g.t&&$t(m,"href",g.t=v),g},{e:void 0,t:void 0}),f}})}),null),V(c,u(vi,{placement:"right",content:"Create or join a server",get children(){var h=Tp();return h.$$click=()=>t.onCreateOrJoinServer(),V(h,u(zt,{size:42,get fallback(){return u(Nrt,{})}})),Te(()=>ut(h,Ec())),h}}),null),V(c,u(X,{get when(){return Qn.IS_STOAT},get children(){return u(vi,{placement:"right",content:"Find new servers to join",get children(){var h=Tp();return V(h,u(zt,{size:42,get fallback(){return u(VG,{})}})),Te(f=>{var m=e.layout.getLastActiveDiscoverPath(),g=Ec();return m!==f.e&&$t(h,"href",f.e=m),g!==f.t&&ut(h,f.t=g),f},{e:void 0,t:void 0}),h}})}}),null),Te(()=>ut(d,Ec({indicator:t.selectedServer()?void 0:"selected"}))),c})(),u(iit,{get children(){return Zrt()}}),u(vi,{placement:"right",content:"Settings",get children(){var c=Tp();return c.$$click=()=>i({type:"settings",config:"user"}),V(c,u(zt,{size:42,get fallback(){return u(qG,{})},interactive:!0})),Te(()=>ut(c,Ec())),c}})]}})},tit=H("div",{base:{display:"flex",flexDirection:"column",fill:"var(--md-sys-color-on-surface)"}}),nit=nn({base:{flexGrow:1}}),Ec=nn({base:{width:"56px",height:"56px",position:"relative",display:"grid",flexShrink:0,placeItems:"center","&:before":{content:"' '",position:"absolute",width:"12px",height:"0px",transition:"var(--transitions-fast) all",left:"-8px",borderRadius:"4px",background:"var(--md-sys-color-on-surface)"},"&:hover:before":{height:"16px"}},variants:{indicator:{selected:{"&:before":{height:"32px !important"}},alert:{"&:before":{height:"8px"}}}}}),rit=H("div",{base:{height:"1px",flexShrink:0,margin:"6px auto",width:"calc(100% - 24px)",background:"var(--md-sys-color-outline-variant)"}}),iit=H("div",{base:{height:0,zIndex:1,position:"relative","& div":{height:"12px",marginTop:"-12px",position:"absolute",background:"linear-gradient(to bottom, transparent, var(--md-sys-color-surface-container-highest))"}}});Tr(["click"]);var sit=I("<div>");const oit=t=>{const e=ff(),n=Ht(),r=pt(),{openModal:i}=Ne(),s=_d(),o=Zh();return(()=>{var a=sit();return a.style.setProperty("display","flex"),a.style.setProperty("flex-shrink","0"),V(a,u(eit,{get orderedServers(){return n.ordering.orderedServers(r())},get setServerOrder(){return n.ordering.setServerOrder},get unreadConversations(){return n.ordering.orderedConversations(r()).filter(l=>l.unread)},get user(){return e()},selectedServer:()=>s.server,onCreateOrJoinServer:()=>i({type:"create_or_join_server",client:r()}),get menuGenerator(){return t.menuGenerator}}),null),V(a,u(X,{get when(){return Ce(()=>!!n.layout.getSectionState(Qo.PRIMARY_SIDEBAR,!0))()&&!o.pathname.startsWith("/discover")},get children(){return u(Me,{get fallback(){return u(ait,{})},get children(){return u(Z,{get when(){return s.server},get children(){return u(lit,{})}})}})}}),null),a})()},ait=()=>{const t=du(),e=pt(),n=Ht(),r=ke(()=>n.ordering.orderedConversations(e()));return u(crt,{conversations:r,get channelId(){return t().channelId},openSavedNotes:i=>{const s=[...e().channels.values()].find(o=>o.type==="SavedMessages")?.id;return i&&(s?i(`/channel/${s}`):e().user.openDM().then(o=>i(`/channel/${o.id}`))),s}})},lit=()=>{const{openModal:t}=Ne(),e=du(),n=pt(),r=()=>n().servers.get(e().serverId);function i(){t({type:"server_info",server:r()})}function s(){t({type:"settings",config:"server",context:r()})}return u(X,{get when(){return r()},get children(){return u(Trt,{get server(){return r()},get channelId(){return e().channelId},openServerInfo:i,openServerSettings:s,menuGenerator:o=>({contextMenu:()=>o instanceof Nm?u(sT,{channel:o}):o instanceof oo?u(nUe,{server:o}):u(JQe,{get server(){return r()},category:o})})})}})};var cit=I("<div>");const uit=t=>{const e=Ht(),n=pt(),{openModal:r}=Ne(),{isLoggedIn:i,lifecycle:s}=wu(),{pathname:o}=Zh();ZZ(l=>{l.defaultPrevented||(l.to==="/settings"?(l.preventDefault(),r({type:"settings",config:"user"})):typeof l.to=="string"&&e.layout.setLastActivePath(l.to))}),dt(()=>{i()||(e.layout.setNextPath(o),console.debug("WAITING... currently",s.state()))});function a(){return[Ti.Connecting,Ti.Disconnected,Ti.Reconnecting,Ti.Offline].includes(s.state())}return u(x9e,{get client(){return n()},get children(){var l=cit();return l.style.setProperty("display","flex"),l.style.setProperty("flex-direction","column"),l.style.setProperty("height","100%"),V(l,u(FG,{}),null),V(l,u(Me,{get fallback(){return u(Zr,{})},get children(){return[u(Z,{get when(){return!i()},get children(){return u(Ph,{href:"/login"})}}),u(Z,{get when(){return s.loadedOnce()},get children(){return u(dit,{get disconnected(){return a()},style:{"flex-grow":1,"min-height":0},onDragOver:c=>{c.dataTransfer&&(c.dataTransfer.dropEffect="none")},onDrop:c=>c.preventDefault(),get children(){return[u(oit,{menuGenerator:c=>({contextMenu:()=>c instanceof oo?u(tUe,{server:c}):u(sT,{channel:c})})}),u(hit,{get sidebar(){return e.layout.getSectionState(Qo.PRIMARY_SIDEBAR,!0)},get children(){return t.children}})]}})}})]}}),null),V(l,u(srt,{}),null),l}})},dit=H("div",{base:{display:"flex",height:"100%",minWidth:0},variants:{disconnected:{true:{color:"var(--md-sys-color-on-primary-container)",background:"var(--md-sys-color-primary-container)"},false:{color:"var(--md-sys-color-outline)",background:"var(--md-sys-color-surface-container-high)"}}}}),hit=H("div",{base:{background:"var(--md-sys-color-surface-container-low)",display:"flex",width:"100%",minWidth:0},variants:{sidebar:{false:{borderTopLeftRadius:"var(--borderRadius-lg)",borderBottomLeftRadius:"var(--borderRadius-lg)",overflow:"hidden"}}}});var fit=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M9 11.75a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5m6 0a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8 0-.29.02-.58.05-.86 2.36-1.05 4.23-2.98 5.21-5.37a9.97 9.97 0 0 0 10.41 3.97c.21.71.33 1.47.33 2.26 0 4.41-3.59 8-8 8">');const Tl=(t={})=>(()=>{var e=fit();return Se(e,t,!0,!0),e})();var mit=I("<form><label for=name>Your name</label><label for=email>Your email address</label><button>Submit"),Zd=I("<div>"),git=I("<div>best of both worlds?"),pit=I("<option>deez");const vit=H("div",{base:{background:"blue",color:"white"}}),bit=nn({base:{background:"blue",color:"white"}});function yit(){const t=Hn({name:Lt(""),email:Lt("",{validators:r=>r.length<=15?{isMissing:!0}:null})}),e=async()=>{console.info(t.data)},n=Pe.useSubmitHandler(t,e);return(()=>{var r=mit(),i=r.firstChild,s=i.nextSibling,o=s.nextSibling;return Dn(r,"submit",n),V(r,u(Pe.TextField,{name:"name",get control(){return t.controls.name}}),s),V(r,u(Pe.TextField,{name:"email",type:"email",get control(){return t.controls.email}}),o),r})()}function Oit(){const t=pt(),{openModal:e}=Ne();function n(){e({type:"channel_toggle_mature",channel:t().channels.find(s=>s.name==="Empty Test Channel")})}function r(){e({type:"changelog",initial:0})}const i=new Array(1e3).fill(0).map((s,o)=>o);return u(Ae,{get children(){return[u(ot,{onPress:()=>{t().api.get("/invites/Testers").then(s=>Cd.from(t(),s)).then(s=>e({type:"invite",invite:s}))},children:"invite test"}),u(ot,{onPress:()=>{t().api.get("/bots/01FHGJ3NPP7XANQQH8C2BE44ZY/invite").then(s=>new Dv(t(),s)).then(s=>e({type:"add_bot",invite:s}))},children:"bot test"}),u(ot,{onPress:r,children:"Changelog Modal"}),u(kt,{align:!0,get children(){return[u(ot,{variant:"elevated",children:"Elevated"}),u(ot,{variant:"filled",children:"Filled"}),u(ot,{variant:"tonal",children:"Tonal"}),u(ot,{variant:"outlined",children:"Outlined"}),u(ot,{variant:"text",children:"Text"})]}}),u(kt,{align:!0,get children(){return[u(On,{variant:"filled",get children(){return u(Tl,{})}}),u(On,{variant:"tonal",get children(){return u(Tl,{})}}),u(On,{variant:"outlined",get children(){return u(Tl,{})}}),u(On,{variant:"standard",get children(){return u(Tl,{})}})]}}),u(kt,{align:!0,get children(){return[u(On,{size:"xs",shape:"square",get children(){return u(Tl,{})}}),u(On,{size:"sm",shape:"square",get children(){return u(Tl,{})}}),u(On,{size:"md",shape:"square",get children(){return u(Tl,{})}}),u(On,{size:"lg",shape:"square",get children(){return u(Tl,{})}}),u(On,{size:"xl",shape:"square",get children(){return u(Tl,{})}})]}}),u(Hr,{get header(){return u(Le,{class:"title",children:"Table Title"})},columns:["idx","hello","2"],get itemCount(){return i.length},children:(s,o)=>u(rt,{get each(){return i.slice(s*o,s*o+o)},children:a=>u(Hr.Row,{get children(){return[u(Hr.Cell,{children:a}),u(Hr.Cell,{children:"rahh"}),u(Hr.Cell,{children:"123"})]}})})}),u(yit,{}),(()=>{var s=Zd();return s.style.setProperty("width","480px"),s.style.setProperty("height","480px"),s.style.setProperty("display","grid"),s.style.setProperty("place-items","center"),V(s,u(Tl,ge({fill:"red"},()=>at(128)))),s})(),u(es,{variant:"outlined",label:"Outlined Input",placeholder:"Type here :D"}),u(es,{variant:"filled",label:"Filled Input",placeholder:"Type here :D"}),(()=>{var s=Zd();return Fe(Xt,s,()=>({tooltip:{content:"hello",placement:"bottom"}})),V(s,u(vit,{children:"hello, but im from panda-css"})),s})(),(()=>{var s=git();return Fe(Xt,s,()=>({tooltip:{content:"hello",placement:"bottom"}})),Te(()=>ut(s,bit())),s})(),u(ot,{onPress:n,children:"Open Modal"}),u(ot,{"use:floating":{tooltip:{content:"hi",placement:"bottom"}},children:"I'm a button with a tooltip!"}),(()=>{var s=Zd();return s.style.setProperty("padding","1em"),s.style.setProperty("width","400px"),V(s,u(Ae,{get children(){return[u(Xe,{get icon(){return u(sRe,{size:24})},description:"description!",onClick:()=>{},children:"I am a button"}),u(Qg,{get icon(){return u(cRe,{size:24})},description:"description!",title:"Choose output device tbh",get children(){return[u(Xe,{description:"Active device",onClick:()=>{},get icon(){return(()=>{var o=Zd();return o.style.setProperty("width","24px"),o})()},children:"Realtek Audio"}),u(Xe,{onClick:()=>{},get icon(){return(()=>{var o=Zd();return o.style.setProperty("width","24px"),o})()},children:"Line-Out Speaker"}),u(Xe,{onClick:()=>{},get icon(){return(()=>{var o=Zd();return o.style.setProperty("width","24px"),o})()},children:"Airpods 3"}),u(Xe,{get icon(){return(()=>{var o=Zd();return o.style.setProperty("width","24px"),o})()},get action(){return u(vZe,{get children(){return pit()}})},children:"combo box"})]}})]}})),s})()]}})}function wit(){const t=Ht(),e=pt(),n=Zh(),r=Dr(),{openModal:i}=Ne(),[s,o]=ve();async function a(d){const h=s();if(!h||new URL(d.origin).origin!=="https://stt.gg")return;const m=JSON.parse(d.data);if(console.info(m),m.source==="discover")switch(m.type){case"init":{h.contentWindow?.postMessage(JSON.stringify({source:"revolt",type:"theme",theme:{}}),"*");break}case"path":{m.path.endsWith("?")&&(m.path=m.path.substring(0,m.path.length-1)),r(m.path),t.layout.setLastActivePath(m.path);break}case"navigate":{const g=new URL(m.url),p=OO(g.pathname);if(p.inviteId){const v=await e().api.get(`/invites/${p.inviteId}`).then(b=>Cd.from(e(),b));i({type:"invite",invite:v})}else p.botId?e().api.get(`/bots/${p.botId}/invite`).then(v=>new Dv(e(),v)).then(v=>i({type:"add_bot",invite:v})):alert("Missing handler for "+m.url);break}case"applyTheme":{alert("revite themes are not supported!");break}}}window.addEventListener("message",a),wt(()=>window.removeEventListener("message",a));const l=new URLSearchParams(n.query);l.set("embedded","true");const c=`https://stt.gg/${n.pathname}?${l}`;return u(kit,{ref:o,src:c})}const kit=H("iframe",{base:{minWidth:0,flexGrow:1,display:"flex",position:"relative",flexDirection:"column"}});var Sit=I("<div>");function S0(t){const e=Ht(),{_:n}=Dt();return(()=>{var r=Sit();return Fe(Xt,r,()=>({tooltip:{placement:"bottom",content:n({id:"fTN7JI"})}})),r.$$click=()=>e.layout.toggleSectionState(Qo.PRIMARY_SIDEBAR,!0),ut(r,xit),V(r,u(Me,{get fallback(){return u(U9e,{size:20})},get children(){return u(Z,{get when(){return e.layout.getSectionState(Qo.PRIMARY_SIDEBAR,!0)},get children(){return u(Q9e,{size:20})}})}}),null),V(r,()=>t.children,null),r})()}const xit=hn({display:"flex",cursor:"pointer",alignItems:"center"});Tr(["click"]);var _it=I("<div>"),Cit=I("<div class=FriendsList>"),Eit=I("<main><div>"),Tit=I("<a>");const Dit=H("div",{base:{width:"100%",display:"flex",flexDirection:"column","& .FriendsList":{height:"100%",paddingInline:"var(--gap-lg)"}}});function Ait(){const{_:t}=Dt(),e=pt(),{openModal:n}=Ne();let r;const i=()=>r,s=ke(()=>{const c=e().users.toList(),d=c.filter(h=>h.relationship==="Friend").sort((h,f)=>h.displayName.localeCompare(f.displayName));return{friends:d,online:d.filter(h=>h.online),incoming:c.filter(h=>h.relationship==="Incoming").sort((h,f)=>h.displayName.localeCompare(f.displayName)),outgoing:c.filter(h=>h.relationship==="Outgoing").sort((h,f)=>h.displayName.localeCompare(f.displayName)),blocked:c.filter(h=>h.relationship==="Blocked").sort((h,f)=>h.displayName.localeCompare(f.displayName))}}),o=()=>{const c=s().incoming;return c.length>99?"99+":c.length},[a,l]=ve("online");return u(Dit,{get children(){return[u(nv,{placement:"primary",get children(){return[u(S0,{get children(){return u(yt,{children:"group"})}}),u(k,{id:"tBmnPU"})]}}),(()=>{var c=Eit(),d=c.firstChild;return d.style.setProperty("position","relative"),d.style.setProperty("min-height","0"),V(d,u(PT,{contained:!0,value:a,onValue:l,get children(){return[(()=>{var h=_it();return h.style.setProperty("margin-top","6px"),h.style.setProperty("margin-bottom","12px"),V(h,u(On,{variant:"filled",shape:"square",onPress:()=>n({type:"add_friend",client:e()}),get"use:floating"(){return{tooltip:{placement:"right",content:t({id:"hzQo5U"})}}},get children(){return u(yt,{children:"add"})}})),h})(),u(Tb,{get icon(){return u(yt,{children:"waving_hand"})},value:"online",get children(){return u(k,{id:"oXOSPE"})}}),u(Tb,{get icon(){return u(yt,{children:"all_inbox"})},value:"all",get children(){return u(k,{id:"N40H+G"})}}),u(Tb,{get icon(){return u(yt,{children:"notifications"})},value:"pending",get children(){return[u(k,{id:"UbRKMZ"}),u(X,{get when(){return o()},get children(){return u(xWe,{slot:"badge",variant:"large",get children(){return o()}})}})]}}),u(Tb,{get icon(){return u(yt,{children:"block"})},value:"blocked",get children(){return u(k,{id:"32TndD"})}})]}}),null),V(d,u(Pv,{get children(){var h=Cit();Fe(hu,h,()=>!0);var f=r;return typeof f=="function"?Fe(f,h):r=h,V(h,u(Me,{get fallback(){return u(Dp,{title:"Online",get users(){return s().online},scrollTargetElement:i})},get children(){return[u(Z,{get when(){return a()==="all"},get children(){return u(Dp,{title:"All",get users(){return s().friends},scrollTargetElement:i})}}),u(Z,{get when(){return a()==="pending"},get children(){return[u(Dp,{title:"Incoming",get users(){return s().incoming},scrollTargetElement:i}),u(Dp,{title:"Outgoing",get users(){return s().outgoing},scrollTargetElement:i})]}}),u(Z,{get when(){return a()==="blocked"},get children(){return u(Dp,{title:"Blocked",get users(){return s().blocked},scrollTargetElement:i})}})]}})),h}}),null),Te(()=>ut(c,ZE())),c})()]}})}function Dp(t){return u(pl,{get children(){return[u(wZe,{get children(){return[Ce(()=>t.title)," ",""," ",Ce(()=>t.users.length)]}}),u(X,{get when(){return t.users.length===0},get children(){return u(pG,{disabled:!0,get children(){return u(k,{id:"JnlnD5"})}})}}),u(eu,{get items(){return t.users},get scrollTarget(){return t.scrollTargetElement()},itemSize:{height:58},children:e=>u(Pit,{get style(){return{...e.style}},get children(){return u(Rit,{role:"listitem",get tabIndex(){return e.tabIndex},get style(){return e.style},get user(){return e.item}})}})})]}})}const Pit=H("div",{base:{width:"100%"}});function Rit(t){const{openModal:e}=Ne(),[n,r]=sn(t,["user"]);return(()=>{var i=Tit();return Fe(Xt,i,()=>({contextMenu:()=>u(cf,{get user(){return n.user}})})),Se(i,ge(r,{onClick:()=>e({type:"user_profile",user:n.user})}),!1,!0),V(i,u(pG,{get children(){return[u(zt,{slot:"icon",size:36,get src(){return n.user.animatedAvatarURL},get holepunch(){return t.user.relationship==="Friend"?"bottom-right":"none"},get overlay(){return u(X,{get when(){return t.user.relationship==="Friend"},get children(){return u(Ro.Graphic,{get status(){return t.user.status?.presence??"Online"}})}})}}),u(jr,{get children(){return n.user.displayName}})]}})),i})()}var Mit=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5 11h-4v4h-2v-4H7v-2h4V7h2v4h4z">');const Iit=(t={})=>(()=>{var e=Mit();return Se(e,t,!0,!0),e})();var $it=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M19 14V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2m-9-1c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m13-6v11c0 1.1-.9 2-2 2H4v-2h17V7z">');const Lit=(t={})=>(()=>{var e=$it();return Se(e,t,!0,!0),e})();var Nit=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2M6 14v-2.47l6.88-6.88c.2-.2.51-.2.71 0l1.77 1.77c.2.2.2.51 0 .71L8.47 14zm12 0h-7.5l2-2H18z">');const Fit=(t={})=>(()=>{var e=Nit();return Se(e,t,!0,!0),e})();var Bit=I("<div>");const zit=H("div",{base:{width:"100%",display:"flex",flexDirection:"column",color:"var(--md-sys-color-on-surface)"}}),Qit=nn({base:{...ZE.raw(),padding:"48px 0",gap:"32px",alignItems:"center",justifyContent:"center"}}),Uit=H("div",{base:{gap:"8px",padding:"8px",display:"flex",borderRadius:"var(--borderRadius-lg)",color:"var(--md-sys-color-on-surface-variant)",background:"var(--md-sys-color-surface-variant)"}}),u$=H(Ae,{base:{justifyContent:"stretch",marginInline:"0.25em",width:"260px","& > *":{flexGrow:1}}});function Vit(){const{openModal:t}=Ne(),e=Dr(),n=pt(),r=Qn.IS_STOAT,i=n().servers.get("01F7ZSBSFHQ8TA81725KQCSDDP")!==void 0;return u(zit,{get children(){return[u(nv,{placement:"primary",get children(){return[u(S0,{get children(){return u(jG,ge(()=>at(22)))}}),u(k,{id:"i0qMbr"})]}}),(()=>{var s=Bit();return Fe(hu,s,()=>({class:Qit()})),V(s,u(Ae,{get children(){return u(zT,{get class(){return hn({width:"160px",fill:"var(--md-sys-color-on-surface)"})}})}}),null),V(s,u(Uit,{get children(){return[u(u$,{get children(){return[u(Xe,{onClick:()=>t({type:"create_group_or_server",client:n()}),get description(){return u(k,{id:"U6eaI7"})},get icon(){return u(Iit,{})},get children(){return u(k,{id:"GUw7IE"})}}),u(Me,{fallback:null,get children(){return[u(Z,{when:r&&i,get children(){return u(Xe,{onClick:()=>e("/server/01F7ZSBSFHQ8TA81725KQCSDDP"),get description(){return u(k,{id:"2v8IKv"})},get icon(){return u(A2,{})},get children(){return u(k,{id:"BusuTg"})}})}}),u(Z,{when:r&&!i,get children(){return u(Xe,{onClick:()=>{n().api.get("/invites/Testers").then(o=>Cd.from(n(),o)).then(o=>t({type:"invite",invite:o}))},get description(){return u(k,{id:"2v8IKv"})},get icon(){return u(A2,{})},get children(){return u(k,{id:"03Y3fJ"})}})}})]}}),u(Xe,{variant:"tertiary",onClick:()=>window.open("https://wiki.revolt.chat/notes/project/financial-support/"),get description(){return u(k,{id:"vJum3e"})},get icon(){return u(Lit,{})},get children(){return u(k,{id:"sH0Ycr"})}})]}}),u(u$,{get children(){return[u(X,{get when(){return Qn.IS_STOAT},get children(){return u(Xe,{onClick:()=>e("/discover"),get description(){return u(k,{id:"5/6/hB"})},get icon(){return u(VG,{})},get children(){return u(k,{id:"ElnSyM"})}})}}),u(Xe,{onClick:()=>t({type:"settings",config:"user",context:{page:"feedback"}}),get description(){return u(k,{id:"NdQG5C"})},get icon(){return u(Fit,ge(()=>at(22)))},get children(){return u(k,{id:"kUz4ev"})}}),u(Xe,{onClick:()=>t({type:"settings",config:"user"}),get description(){return u(k,{id:"4nVJo5"})},get icon(){return u(qG,{})},get children(){return u(k,{id:"Yp+Hi/"})}})]}})]}}),null),V(s,u(X,{when:hHe,get children(){return u(ot,{onPress:()=>e("/dev"),children:"Open Development Page"})}}),null),s})()]}})}const jit=()=>{const t=_d(),e=pt(),n=ke(()=>e().servers.get(t.server));return u(Me,{fallback:"No channels!",get children(){return[u(Z,{get when(){return!n()},get children(){return u(Ph,{href:"/"})}}),u(Z,{get when(){return n().defaultChannel},get children(){return u(Ph,{get href(){return`channel/${n().defaultChannel.id}`}})}})]}})};var qit=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M4.47 21h15.06c1.54 0 2.5-1.67 1.73-3L13.73 4.99c-.77-1.33-2.69-1.33-3.46 0L2.74 18c-.77 1.33.19 3 1.73 3M12 14c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1s1 .45 1 1v2c0 .55-.45 1-1 1m1 4h-2v-2h2z">');const d$=(t={})=>(()=>{var e=qit();return Se(e,t,!0,!0),e})();function Hit(t){const e=Ht(),n=()=>e.layout.getSectionState(Qo.MATURE,!1),r=()=>e.layout.getSectionState(t.contentId+"-nsfw",!1),i=Ho(()=>({queryKey:["geoblock"],queryFn:async()=>{const s=await fetch("https://geo.revolt.chat");if(!s.ok)throw new Error("Failed to fetch geo data");return s.json()},staleTime:5*60*1e3,throwOnError:!0}));return u(Ev,{get fallback(){return u(Zr,{})},get children(){return u(Me,{get fallback(){return t.children},get children(){return[u(Z,{get when(){return t.enabled&&(i.isLoading||i.error||i.data&&i.data.isAgeRestrictedGeo)},get children(){return u(h$,{get children(){return[u(d$,ge(()=>at("8em"))),u(Le,{class:"headline",size:"large",get children(){return t.contentName}}),u(Le,{class:"body",size:"large",get children(){return Ce(()=>i.data?.countryCode=="GB")()?u(k,{id:"tT69xn"}):u(k,{id:"jviGAq"})}}),u(ot,{variant:"text",onPress:()=>history.back(),get children(){return u(k,{id:"iH8pgl"})}})]}})}}),u(Z,{get when(){return Ce(()=>!!t.enabled)()&&(!n()||!r())},get children(){return u(h$,{get children(){return[u(d$,ge(()=>at("8em"))),u(Le,{class:"headline",size:"large",get children(){return t.contentName}}),u(Le,{class:"body",size:"large",get children(){return u(k,{id:"TOZ5f+"})}}),u(Wit,{get children(){return[u(pr,{get checked(){return e.layout.getSectionState(Qo.MATURE,!1)},onChange:()=>e.layout.toggleSectionState(Qo.MATURE,!1)}),u(Le,{class:"body",size:"large",get children(){return u(k,{id:"y6uLO1"})}})]}}),u(Xit,{get children(){return[u(ot,{variant:"text",onPress:()=>history.back(),get children(){return u(k,{id:"iH8pgl"})}}),u(ot,{variant:"filled",onPress:()=>n()&&e.layout.setSectionState(t.contentId+"-nsfw",!0),get children(){return u(k,{id:"wJp20b"})}})]}})]}})}})]}})}})}const h$=H("div",{base:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"var(--gap-lg)",userSelect:"none",overflowY:"auto",color:"var(--md-sys-color-on-surface)","& svg":{fill:"orange"},gap:"var(--gap-md)"}}),Wit=H("label",{base:{display:"flex",gap:"var(--gap-sm)",alignItems:"center"}}),Xit=H("div",{base:{display:"flex",marginTop:"var(--gap-lg)",gap:"var(--gap-lg)"}});var Yit=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24><path d="M9 13.75c-2.34 0-7 1.17-7 3.5V19h14v-1.75c0-2.33-4.66-3.5-7-3.5M4.34 17c.84-.58 2.87-1.25 4.66-1.25s3.82.67 4.66 1.25zM9 12c1.93 0 3.5-1.57 3.5-3.5S10.93 5 9 5 5.5 6.57 5.5 8.5 7.07 12 9 12m0-5c.83 0 1.5.67 1.5 1.5S9.83 10 9 10s-1.5-.67-1.5-1.5S8.17 7 9 7m7.04 6.81c1.16.84 1.96 1.96 1.96 3.44V19h4v-1.75c0-2.02-3.5-3.17-5.96-3.44M15 12c1.93 0 3.5-1.57 3.5-3.5S16.93 5 15 5c-.54 0-1.04.13-1.5.35.63.89 1 1.98 1 3.15s-.37 2.26-1 3.15c.46.22.96.35 1.5.35">');const Git=(t={})=>(()=>{var e=Yit();return Se(e,t,!0,!0),e})();var Zit=I('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 -960 960 960"><path d="m640-480 80 80v80H520v240l-40 40-40-40v-240H240v-80l80-80v-280h-40v-80h400v80h-40zm-286 80h252l-46-46v-314H400v314zm126 0">');const Kit=(t={})=>(()=>{var e=Zit();return Se(e,t,!0,!0),e})();var Jit=I("<a>"),est=I('<input placeholder="Search messages...">');function tst(t){const{openModal:e}=Ne(),n=pt(),{_:r}=Dt(),i=Ht(),s=()=>{if(!t.sidebarState)return null;const o=t.sidebarState();return o.state==="search"?o.query:""};return[u(Me,{get children(){return[u(Z,{get when(){return t.channel.type==="TextChannel"||t.channel.type==="Group"},get children(){return[u(S0,{get children(){return u(yt,{children:"grid_3x3"})}}),u(mT,{get class(){return An({class:"title",size:"medium"})},onClick:()=>e({type:"channel_info",channel:t.channel}),get children(){return u(Ta,{get content(){return t.channel.name}})}}),u(X,{get when(){return t.channel.description},get children(){return[u(nst,{}),(()=>{var o=Jit();return Fe(Xt,o,()=>({tooltip:{placement:"bottom",content:r({id:"qbqToq"})}})),o.$$click=()=>e({type:"channel_info",channel:t.channel}),ut(o,rst),V(o,u(jr,{get class(){return An({class:"title",size:"small"})},get children(){return u(Ta,{get content(){return t.channel.description?.split(`
`).shift()}})}})),o})()]}})]}}),u(Z,{get when(){return t.channel.type==="DirectMessage"},get children(){return[u(S0,{get children(){return u(yt,{children:"alternate_email"})}}),u(Ta,{get content(){return t.channel.recipient?.username}}),u(Ro,{get status(){return t.channel.recipient?.presence},size:"8px"})]}}),u(Z,{get when(){return t.channel.type==="SavedMessages"},get children(){return[u(S0,{get children(){return u(yt,{children:"note_stack"})}}),u(k,{id:"HPEWo/"})]}})]}}),u(mWe,{}),u(X,{get when(){return Ce(()=>!!(t.channel.type==="Group"||t.channel.serverId))()&&t.channel.orPermission("ManageChannel","ManagePermissions")},get children(){return u(On,{onPress:()=>e({type:"settings",config:"channel",context:t.channel}),get"use:floating"(){return{tooltip:{placement:"bottom",content:r({id:"LsDQt2"})}}},get children(){return u(iT,{})}})}}),u(X,{get when(){return t.channel.type==="Group"},get children(){return u(ot,{variant:"text",size:"icon",onPress:()=>e({type:"add_members_to_group",group:t.channel,client:n()}),get"use:floating"(){return{tooltip:{placement:"bottom",content:r({id:"GWDMZY"})}}},get children(){return u(g6,{})}})}}),u(X,{get when(){return t.sidebarState},get children(){return u(On,{get"use:floating"(){return{tooltip:{placement:"bottom",content:r({id:"vCKKdA"})}}},onPress:()=>t.sidebarState().state==="pins"?t.setSidebarState({state:"default"}):t.setSidebarState({state:"pins"}),get children(){return u(Kit,{})}})}}),u(X,{get when(){return t.sidebarState&&t.channel.type!=="SavedMessages"},get children(){return u(On,{onPress:()=>{t.sidebarState().state==="default"?i.layout.toggleSectionState(Qo.MEMBER_SIDEBAR,!0):(i.layout.setSectionState(Qo.MEMBER_SIDEBAR,!0,!0),t.setSidebarState({state:"default"}))},get"use:floating"(){return{tooltip:{placement:"bottom",content:r({id:"PuK7a+"})}}},get children(){return u(Git,{})}})}}),u(X,{get when(){return s()!==null},get children(){var o=est();return o.addEventListener("change",a=>a.currentTarget.value?t.setSidebarState({state:"search",query:a.currentTarget.value}):t.setSidebarState({state:"default"})),Te(()=>ut(o,hn({height:"40px",width:"240px",paddingInline:"16px",borderRadius:"var(--borderRadius-full)",background:"var(--md-sys-color-surface-container-high)"}))),Te(()=>o.value=s()),o}})]}const nst=H("div",{base:{height:"20px",margin:"0px 5px",paddingLeft:"1px",backgroundColor:"var(--md-sys-color-outline-variant)"}}),rst=hn({minWidth:0});Tr(["click"]);var ist=I("<div>");function sst(t){const e=Ht(),{_:n}=Dt(),r=pt(),{openModal:i}=Ne();pd(_n.CHAT_JUMP_END,()=>h(["_focus"])),pd(_n.CHAT_FOCUS_COMPOSITION,()=>h(["_focus"]));function s(){return e.draft.getDraft(t.channel.id)}const o=ke(()=>{const S=s()?.content??"",T=s()?.files??[];return S.trim().length>0||T.length>0});function a(){return s()?.content??""}const[l,c]=ve([a()]),[d,h]=ve();e.draft._setNodeReplacement=h,wt(()=>e.draft._setNodeReplacement=void 0),dt(Zt(()=>t.channel,()=>c([a()]),{defer:!0})),dt(Zt(()=>a(),S=>{S===""&&c([""])},{defer:!0}));let f;function m(){if(typeof f=="number"&&+new Date<f)return;const S=r().events;S.state()===2&&(f=+new Date+2500,S.send({type:"BeginTyping",channel:t.channel.id}))}function g(){if(f){const S=r().events;S.state()===2&&(f=void 0,S.send({type:"EndTyping",channel:t.channel.id}))}}const p=Dwe(g,1e3);async function v(S){if(g(),t.onMessageSend?.(),typeof S=="string"){const T=s();return T?.replies?.length&&!T.content&&!T.files?.length?(e.draft.setDraft(t.channel.id,{...T,content:S}),e.draft.sendDraft(r(),t.channel)):t.channel.sendMessage(S)}e.draft.sendDraft(r(),t.channel)}function b(S){e.draft.setDraft(t.channel.id,{content:S}),m()}function y(S){const T=[],$=[];for(const M of S)M.size>Qn.MAX_FILE_SIZE?(console.log("File too large:",M),T.push(M)):$.push(M);if(T.length>0){const M=W2(Qn.MAX_FILE_SIZE);if(T.length===1){const P=T[0],L=W2(P.size),j=new Error(n({id:"cPdGoI",values:{0:P.name,fileSize:L,maxSizeFormatted:M}}));j.name="File too large",i({type:"error2",error:j})}else{const P=new Error(n({id:"V2TE3y",values:{0:T.length,maxSizeFormatted:M}}));P.name="Files too large",i({type:"error2",error:P})}}for(const M of $)e.draft.addFile(t.channel.id,M)}function C(){const S=document.createElement("input");S.accept="*",S.type="file",S.multiple=!0,S.style.display="none",S.addEventListener("change",async T=>{const $=T.currentTarget?.files;S.remove(),$&&y([...$])}),document.body.appendChild(S),S.click()}function x(S){e.draft.removeFile(t.channel.id,S)}const O=Eq(()=>t.channel,r);return[u(X,{get when(){return e.draft.hasAdditionalElements(t.channel.id)},get children(){return u(FO,{get keybind(){return _n.CHAT_REMOVE_COMPOSITION_ELEMENT},onPressed:()=>e.draft.popFromDraft(t.channel.id)})}}),u(zZe,{get files(){return s().files??[]},get getFile(){return e.draft.getFile},addFile:C,removeFile:x}),u(rt,{get each(){return s().replies??[]},children:S=>{const T=r().messages.get(S.id);function $(){e.draft.toggleReplyMention(t.channel.id,S.id)}function M(){e.draft.removeReply(t.channel.id,S.id)}return u(gJe,{message:T,get mention(){return S.mention},toggle:$,dismiss:M,get self(){return T?.authorId===r().user.id}})}}),u(qf,{get initialValue(){return l()},get nodeReplacement(){return d()},onSendMessage:()=>v(),onTyping:p,onEditLastMessage:()=>e.draft.setEditingMessage(!0),get content(){return s()?.content??""},setContent:b,get actionsStart(){return u(Me,{get fallback(){return u(qf.InlineIcon,{size:"short"})},get children(){return u(Z,{get when(){return t.channel.havePermission("UploadFiles")},get children(){return u(qf.InlineIcon,{size:"wide",get children(){return u(On,{onPress:C,get children(){return u(yt,{children:"add"})}})}})}})}})},get actionsEnd(){return u(IT,{onMessage:v,onTextReplacement:S=>h([S]),children:S=>[u(qf.InlineIcon,{size:"normal",get children(){return u(On,{get onPress(){return S.onClickGif},get children(){return u(yt,{children:"gif"})}})}}),u(qf.InlineIcon,{size:"normal",get children(){return u(On,{get onPress(){return S.onClickEmoji},get children(){return u(yt,{children:"emoticon"})}})}}),(()=>{var T=ist(),$=S.ref;return typeof $=="function"?Fe($,T):S.ref=T,T})()]})},get placeholder(){return Ce(()=>t.channel.type==="SavedMessages")()?n({id:"JW8mxK"}):Ce(()=>t.channel.type==="DirectMessage")()?n({id:"pqr+oY",values:{0:t.channel.recipient?.username}}):n({id:"pqr+oY",values:{0:t.channel.name}})},get sendingAllowed(){return t.channel.havePermission("SendMessage")},autoCompleteSearchSpace:O,updateDraftSelection:(S,T)=>e.draft.setSelection(t.channel.id,S,T),get hasActionsAppend(){return e.settings.getValue("appearance:show_send_button")||!1},get actionsAppend(){return u(X,{get when(){return e.settings.getValue("appearance:show_send_button")},get children(){return u(On,{_compositionSendMessage:!0,size:"sm",get variant(){return o()?"filled":"tonal"},shape:"square",get isDisabled(){return!o()},onPress:v,get children(){return u(yt,{fill:!0,children:"send"})}})}})}}),u(nWe,{onFiles:y}),u(ZHe,{onFiles:y})]}var QT=I("<div>");function ost(t){return u(Me,{get children(){return[u(Z,{get when(){return t.channel.type==="Group"},get children(){return u(lst,{get channel(){return t.channel},get scrollTargetElement(){return t.scrollTargetElement}})}}),u(Z,{get when(){return t.channel.type==="TextChannel"},get children(){return u(ast,{get channel(){return t.channel},get scrollTargetElement(){return t.scrollTargetElement}})}})]}})}const f$=["01F7ZSBSFHQ8TA81725KQCSDDP","01K313D0VP0HPNG30DNZ4Q672H","01J31CCMTYKFPGCM13VRP3B289","01H2Y4Y97PW6584PHN1TAVN5WR","01HVKQBBQ3DQVVNK3M8DHXV30D","01GDS83RMZW89AV0BZG24NEXYC","01J5W0XERBBGK77BMDVPZJ20JW"];function ast(t){const e=pt();dt(Zt(()=>t.channel.serverId,c=>t.channel.server?.syncMembers(!!f$.includes(c),200)));const n=ke(()=>{const c=t.channel.server.orderedRoles.filter(h=>h.hoist);return[e().serverMembers.filter(h=>h.id.server===t.channel.serverId),c]}),r=ke(()=>{const[c]=n();return t.channel.potentiallyRestrictedChannel?c.filter(d=>d.hasPermission(t.channel,"ViewChannel")):c}),i=ke(()=>{const[,c]=n(),d=r(),h={default:[],offline:[]};c.forEach(f=>h[f.id]=[]);for(const f of d){if(!f.user?.online){h.offline.push(f);continue}if(f.roles.length){let m;for(const g of c)if(f.roles.includes(g.id)){h[g.id].push(f),m=!0;break}if(m)continue}h.default.push(f)}return[...c.map(f=>({role:f,members:h[f.id]})),{role:{id:"default",name:"Online"},members:h.default},{role:{id:"offline",name:"Offline"},members:h.offline}].filter(f=>f.members.length)}),s=ke(()=>i().map(d=>({...d,members:[...d.members].sort((h,f)=>(h.nickname??h.user?.displayName)?.localeCompare(f.nickname??f.user?.displayName??"")||0)}))),o=new Map,a=ke(()=>{const c=[];for(const d of s()){const h=o.get(d.role.name+d.members.length);h?c.push(h):c.push({t:0,name:d.role.name,count:d.members.length});for(const f of d.members){const m=o.get(f.id);m?c.push(m):c.push({t:1,member:f})}}o.clear();for(const d of c)d.t===0?o.set(d.name+d.count,d):o.set(d.member.id,d);return c}),l=ke(()=>e().serverMembers.filter(c=>c.id.server===t.channel.serverId&&c.user?.online||!1).length);return u(HG,{get children(){return[u(X,{get when(){return!f$.includes(t.channel.serverId)},get children(){return u(WG,{bottomMargin:"yes",get children(){return u(kt,{align:!0,get children(){return[u(Ro,{size:"0.7em",status:"Online"}),Ce(()=>l())," members online"]}})}})}}),u(Pv,{get children(){return u(eu,{get items(){return a()},get scrollTarget(){return t.scrollTargetElement},itemSize:{height:42},children:c=>(()=>{var d=QT();return V(d,u(Me,{get fallback(){return u(cst,{get children(){return[Ce(()=>c.item.name)," ",""," ",Ce(()=>c.item.count)]}})},get children(){return u(Z,{get when(){return c.item.t===1},get children(){return u(XG,{get member(){return c.item.member}})}})}})),Te(h=>xd(d,{...c.style,width:"100%"},h)),d})()})}})]}})}function lst(t){return u(HG,{get children(){return[u(WG,{get children(){return u(kt,{align:!0,get children(){return[Ce(()=>t.channel.recipientIds.size)," members"]}})}}),u(Pv,{get children(){return u(eu,{get items(){return t.channel.recipients.toSorted((e,n)=>e.displayName.localeCompare(n.displayName))},get scrollTarget(){return t.scrollTargetElement},itemSize:{height:42},children:e=>(()=>{var n=QT();return V(n,u(XG,{get user(){return e.item}})),Te(r=>xd(n,{...e.style,width:"100%"},r)),n})()})}})]}})}const HG=H("div",{base:{paddingRight:"var(--gap-md)",width:"var(--layout-width-channel-sidebar)"}}),cst=H("div",{base:{padding:"28px 14px 0",color:"var(--md-sys-color-on-surface)",...An.raw({class:"label",size:"small"})}}),WG=H("div",{base:{marginTop:"12px",marginLeft:"14px",color:"var(--md-sys-color-on-surface)",...An.raw({class:"label",size:"small"})},variants:{bottomMargin:{no:{},yes:{marginBottom:"-12px"}}}}),ust=H("div",{base:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center"}});function XG(t){const{_:e}=Dt(),n=()=>JO(t.user??t.member?.user,t.member),r=()=>(t.user??t.member?.user)?.statusMessage(i=>e(i==="Online"?{id:"oXOSPE"}:i==="Busy"?{id:"kVHATU"}:i==="Focus"?{id:"Fsd1Wl"}:i==="Idle"?{id:"QSzGDE"}:{id:"6Aih4U"}));return(()=>{var i=QT();return Fe(Xt,i,()=>c6(t.user??t.member?.user,t.member)),V(i,u(fh,{size:"normal",get attention(){return(t.user??t.member?.user)?.online?"active":"muted"},get icon(){return u(zt,{get src(){return n().avatar},size:32,holepunch:"bottom-right",get overlay(){return u(Ro.Graphic,{get status(){return(t.user??t.member?.user)?.presence}})}})},get children(){return u(ust,{get children(){return[u(jr,{get children(){return u(Fw,{get username(){return n().username},get colour(){return n().colour}})}}),u(X,{get when(){return r()},get children(){return u(vi,{content:()=>u(Ta,{get content(){return r()}}),placement:"top-start",get aria(){return r()},get children(){return u(jr,{get class(){return An({class:"_status"})},get children(){return u(Ta,{get content(){return r()}})}})}})}})]}})}})),i})()}var dst=I("<a>");function m$(t){const[e,n]=ve("Latest"),r=Ho(()=>({queryKey:["search",t.channel.id,t.query,e()],queryFn:()=>t.channel.searchWithUsers(t.query.sort?t.query:{...t.query,sort:e()}).then(i=>i.messages)}));return[u(X,{get when(){return!t.query.sort},get children(){return u(kt,{justify:"stretch",get children(){return[u(ot,{group:"connected-start",get groupActive(){return e()==="Relevance"},onPress:()=>n("Relevance"),get children(){return u(k,{id:"7dZnmw"})}}),u(ot,{group:"connected",get groupActive(){return e()==="Latest"},onPress:()=>n("Latest"),get children(){return u(k,{id:"wL3cK8"})}}),u(ot,{group:"connected-end",get groupActive(){return e()==="Oldest"},onPress:()=>n("Oldest"),get children(){return u(k,{id:"zsJUbn"})}})]}})}}),u(Ev,{get fallback(){return u(Zr,{})},get children(){return u(rt,{get each(){return r.data},children:i=>(()=>{var s=dst();return V(s,u(u6,{message:i,isLink:!0})),Te(()=>$t(s,"href",i.path)),s})()})}})]}var hst=I("<main>"),g$=I("<div>");function fst(t){const e=Ht(),n=pt(),[r,i]=ve(),s=du(),o=Dr(),a=()=>s().messageId;let l,c;dt(Zt(()=>t.channel.id,g=>i(t.channel.unread?n().channelUnreads.get(g)?.lastMessageId:void 0))),dt(Zt(()=>t.channel.unread&&(c?c():!0),g=>{g&&(document.hasFocus()?t.channel.ack():r()||i(D0(Wo(t.channel.lastMessageId)-1)))}));function d(){t.channel.unread&&(!c||c())&&t.channel.ack()}document.addEventListener("focus",d),wt(()=>document.removeEventListener("focus",d)),pd(_n.CHAT_JUMP_END,()=>{t.channel.unread&&t.channel.ack(),r()&&i(void 0),l?.()});let h;const[f,m]=ve({state:"default"});return dt(Zt(()=>t.channel.id,()=>m({state:"default"}))),[u(nv,{placement:"primary",get children(){return u(tst,{get channel(){return t.channel},sidebarState:f,setSidebarState:m})}}),u(mst,{get children(){return[(()=>{var g=hst();return V(g,u(X,{get when(){return t.channel.isVoice},get fallback(){return u(J8e,{get children(){var p=g$();return V(p,u(IZe,{lastId:r,jumpBack:()=>o(r()),dismiss:()=>i()})),p}})},get children(){return u(pnt,{get channel(){return t.channel}})}}),null),V(g,u(E9e,{get channel(){return t.channel},lastReadId:r,pendingMessages:p=>u(iPe,{get channel(){return t.channel},get tail(){return p.tail},get sentIds(){return p.ids}}),get typingIndicator(){return u(NJe,{get users(){return t.channel.typing},get ownId(){return n().user.id}})},highlightedMessageId:a,clearHighlightedMessage:()=>o("."),atEndRef:p=>c=p,jumpToBottomRef:p=>l=p}),null),V(g,u(sst,{get channel(){return t.channel},onMessageSend:()=>l?.()}),null),Te(()=>ut(g,ZE())),g})(),u(X,{get when(){return e.layout.getSectionState(Qo.MEMBER_SIDEBAR,!0)&&t.channel.type!=="SavedMessages"||f().state!=="default"},get children(){var g=g$();Fe(hu,g,()=>({direction:"y",showOnHover:!0,class:gst()}));var p=h;return typeof p=="function"?Fe(p,g):h=g,V(g,u(Me,{get fallback(){return u(ost,{get channel(){return t.channel},scrollTargetElement:h})},get children(){return[u(Z,{get when(){return f().state==="search"},get children(){return u(p$,{get children(){return[u(v$,{get children(){return u(Le,{class:"label",size:"large",children:"Search Results"})}}),u(m$,{get channel(){return t.channel},get query(){return{query:f().query}}})]}})}}),u(Z,{get when(){return f().state==="pins"},get children(){return u(p$,{get children(){return[u(v$,{get children(){return u(Le,{class:"label",size:"large",children:"Pinned Messages"})}}),u(m$,{get channel(){return t.channel},query:{pinned:!0,sort:"Latest"}})]}})}})]}}),null),V(g,u(X,{get when(){return f().state!=="default"},get children(){return u(FO,{get keybind(){return _n.CLOSE_SIDEBAR},onPressed:()=>m({state:"default"})})}}),null),Te(v=>(v=f().state!=="default"?"360px":"")!=null?g.style.setProperty("width",v):g.style.removeProperty("width")),g}})]}})]}const mst=H("div",{base:{display:"flex",flexDirection:"row",flexGrow:1,minWidth:0,minHeight:0}}),gst=nn({base:{flexShrink:0,width:"var(--layout-width-channel-sidebar)",borderRadius:"var(--borderRadius-lg)"}}),p$=H("div",{base:{paddingRight:"var(--gap-md)",width:"360px"}}),v$=H("div",{base:{padding:"var(--gap-md)",color:"var(--md-sys-color-on-surface)"}}),pst=H("div",{base:{minWidth:0,flexGrow:1,display:"flex",position:"relative",flexDirection:"column"}}),vst=["TextChannel","DirectMessage","Group","SavedMessages"],b$=()=>{const t=_d(),e=pt(),n=ke(()=>e().channels.get(t.channel));return u(pst,{get children(){return u(Me,{fallback:"Unknown channel type!",get children(){return[u(Z,{get when(){return!n()},get children(){return u(Ph,{href:"../.."})}}),u(Z,{get when(){return vst.includes(n().type)},get children(){return u(Hit,{get enabled(){return n().mature},get contentId(){return n().id},get contentName(){return"#"+n().name},contentType:"channel",get children(){return u(fst,{get channel(){return n()}})}})}})]}})}})};function zw(){const t=Ht();return u(Ph,{get href(){return t.layout.getLastActivePath()}})}function bst(){const{openModal:t}=Ne();return Tn(()=>t({type:"settings",config:"user"})),u(zw,{})}function yst(){const t=_d(),e=pt(),{openModal:n,showError:r}=Ne();return Tn(()=>{t.code&&e().api.get(`/invites/${t.code}`).then(i=>Cd.from(e(),i)).then(i=>n({type:"invite",invite:i})).catch(r)}),u(zw,{})}function Ost(){const t=_d(),e=pt(),{openModal:n,showError:r}=Ne();return Tn(()=>{t.code&&e().api.get(`/bots/${t.code}/invite`).then(i=>new Dv(e(),i)).then(i=>n({type:"add_bot",invite:i})).catch(r)}),u(zw,{})}function wst(t){const e=Ht(),n=new WK;return u(Twe,{get children(){return u(cHe,{get children(){return u(dHe,{state:e,get children(){return[u(P8e,{get children(){return u(Pnt,{get children(){return u(QK,{client:n,get children(){return[Ce(()=>t.children),u(uHe,{}),u(GKe,{})]}})}})}}),u(X8e,{})]}})}})}})}AZ(()=>u(K8e,{get children(){return[u(fK,{root:wst,get children(){return[u(Rr,{path:"/login",component:irt,get children(){return[u(Rr,{path:"/delete/:token",component:Dtt}),u(Rr,{path:"/check",component:htt}),u(Rr,{path:"/create",component:Ett}),u(Rr,{path:"/auth",component:Utt}),u(Rr,{path:"/resend",component:jtt}),u(Rr,{path:"/reset",component:Wtt}),u(Rr,{path:"/verify/:token",component:Xtt}),u(Rr,{path:"/reset/:token",component:xtt}),u(Rr,{path:"/*",component:Ftt})]}}),u(Rr,{path:"/",component:uit,get children(){return[u(Rr,{path:"/pwa",component:zw}),u(Rr,{path:"/dev",component:Oit}),u(Rr,{path:"/discover/*",component:wit}),u(Rr,{path:"/settings",component:bst}),u(Rr,{path:"/invite/:code",component:yst}),u(Rr,{path:"/bot/:code",component:Ost}),u(Rr,{path:"/friends",component:Ait}),u(Rr,{path:"/server/:server/*",get children(){return[u(Rr,{path:"/channel/:channel/*",component:b$}),u(Rr,{path:"/*",component:jit})]}}),u(Rr,{path:"/channel/:channel/*",component:b$}),u(Rr,{path:"/*",component:Vit})]}})]}}),u(Yet,{})]}}),document.getElementById("root"));export{JB as C,Ko as E,gr as I,Zm as L,DF as N,Wm as a,U0 as b,qb as c,$i as d,s1e as e,zv as f,o1e as g,NF as h,wg as i,Bz as j,Nbe as k,kB as l,_r as m,Tt as n,Ue as o,AF as p,FF as q,Ks as r,Og as s,ie as t};
//# sourceMappingURL=index-HZSyCa_y.js.map
